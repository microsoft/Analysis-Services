"use strict";(self.webpackChunkgridcontrol=self.webpackChunkgridcontrol||[]).push([[8792],{47861:(tt,xe,t)=>{t(10467);let w=null,C=1;const S=Symbol("SIGNAL");function b(e){const n=w;return w=e,n}function r(e){if((!H(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==C)){if(!e.producerMustRecompute(e)&&!A(e))return e.dirty=!1,void(e.lastCleanEpoch=C);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=C}}function A(e){L(e);for(let n=0;n<e.producerNode.length;n++){const i=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==i.version||(r(i),o!==i.version))return!0}return!1}function N(e,n){if(function j(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),L(e),1===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)N(e.producerNode[o],e.producerIndexOfThis[o]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],h=e.liveConsumerNode[n];L(h),h.producerIndexOfThis[o]=n}}function H(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function L(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let W=null;function ce(e){return"function"==typeof e}function Se(e){const i=e(o=>{Error.call(o),o.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}const Ie=Se(e=>function(i){e(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((o,h)=>`${h+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function ne(e,n){if(e){const i=e.indexOf(n);0<=i&&e.splice(i,1)}}class ue{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const I of i)I.remove(this);else i.remove(this);const{initialTeardown:o}=this;if(ce(o))try{o()}catch(I){n=I instanceof Ie?I.errors:[I]}const{_finalizers:h}=this;if(h){this._finalizers=null;for(const I of h)try{Ve(I)}catch(J){n=n??[],J instanceof Ie?n=[...n,...J.errors]:n.push(J)}}if(n)throw new Ie(n)}}add(n){var i;if(n&&n!==this)if(this.closed)Ve(n);else{if(n instanceof ue){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(n)}}_hasParent(n){const{_parentage:i}=this;return i===n||Array.isArray(i)&&i.includes(n)}_addParent(n){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(n),i):i?[i,n]:n}_removeParent(n){const{_parentage:i}=this;i===n?this._parentage=null:Array.isArray(i)&&ne(i,n)}remove(n){const{_finalizers:i}=this;i&&ne(i,n),n instanceof ue&&n._removeParent(this)}}ue.EMPTY=(()=>{const e=new ue;return e.closed=!0,e})();const we=ue.EMPTY;function Me(e){return e instanceof ue||e&&"closed"in e&&ce(e.remove)&&ce(e.add)&&ce(e.unsubscribe)}function Ve(e){ce(e)?e():e.unsubscribe()}const $e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},it={setTimeout(e,n,...i){const{delegate:o}=it;return o?.setTimeout?o.setTimeout(e,n,...i):setTimeout(e,n,...i)},clearTimeout(e){const{delegate:n}=it;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function He(e){it.setTimeout(()=>{const{onUnhandledError:n}=$e;if(!n)throw e;n(e)})}function me(){}const le=Ce("C",void 0,void 0);function Ce(e,n,i){return{kind:e,value:n,error:i}}let Ne=null;function Fe(e){if($e.useDeprecatedSynchronousErrorHandling){const n=!Ne;if(n&&(Ne={errorThrown:!1,error:null}),e(),n){const{errorThrown:i,error:o}=Ne;if(Ne=null,i)throw o}}else e()}class dt extends ue{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Me(n)&&n.add(this)):this.destination=Qe}static create(n,i,o){return new ht(n,i,o)}next(n){this.isStopped?De(function be(e){return Ce("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?De(function Ee(e){return Ce("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?De(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const vt=Function.prototype.bind;function fn(e,n){return vt.call(e,n)}class on{constructor(n){this.partialObserver=n}next(n){const{partialObserver:i}=this;if(i.next)try{i.next(n)}catch(o){Je(o)}}error(n){const{partialObserver:i}=this;if(i.error)try{i.error(n)}catch(o){Je(o)}else Je(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(i){Je(i)}}}class ht extends dt{constructor(n,i,o){let h;if(super(),ce(n)||!n)h={next:n??void 0,error:i??void 0,complete:o??void 0};else{let I;this&&$e.useDeprecatedNextContext?(I=Object.create(n),I.unsubscribe=()=>this.unsubscribe(),h={next:n.next&&fn(n.next,I),error:n.error&&fn(n.error,I),complete:n.complete&&fn(n.complete,I)}):h=n}this.destination=new on(h)}}function Je(e){$e.useDeprecatedSynchronousErrorHandling?function qe(e){$e.useDeprecatedSynchronousErrorHandling&&Ne&&(Ne.errorThrown=!0,Ne.error=e)}(e):He(e)}function De(e,n){const{onStoppedNotification:i}=$e;i&&it.setTimeout(()=>i(e,n))}const Qe={closed:!0,next:me,error:function ot(e){throw e},complete:me},mt="function"==typeof Symbol&&Symbol.observable||"@@observable";function kt(e){return e}let Bt=(()=>{class e{constructor(i){i&&(this._subscribe=i)}lift(i){const o=new e;return o.source=this,o.operator=i,o}subscribe(i,o,h){const I=function St(e){return e&&e instanceof dt||function Ut(e){return e&&ce(e.next)&&ce(e.error)&&ce(e.complete)}(e)&&Me(e)}(i)?i:new ht(i,o,h);return Fe(()=>{const{operator:J,source:ve}=this;I.add(J?J.call(I,ve):ve?this._subscribe(I):this._trySubscribe(I))}),I}_trySubscribe(i){try{return this._subscribe(i)}catch(o){i.error(o)}}forEach(i,o){return new(o=rt(o))((h,I)=>{const J=new ht({next:ve=>{try{i(ve)}catch(Re){I(Re),J.unsubscribe()}},error:I,complete:h});this.subscribe(J)})}_subscribe(i){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(i)}[mt](){return this}pipe(...i){return function Ft(e){return 0===e.length?kt:1===e.length?e[0]:function(i){return e.reduce((o,h)=>h(o),i)}}(i)(this)}toPromise(i){return new(i=rt(i))((o,h)=>{let I;this.subscribe(J=>I=J,J=>h(J),()=>o(I))})}}return e.create=n=>new e(n),e})();function rt(e){var n;return null!==(n=e??$e.Promise)&&void 0!==n?n:Promise}const ke=Se(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ze=(()=>{class e extends Bt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const o=new Ye(this,this);return o.operator=i,o}_throwIfClosed(){if(this.closed)throw new ke}next(i){Fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const o of this.currentObservers)o.next(i)}})}error(i){Fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:o}=this;for(;o.length;)o.shift().error(i)}})}complete(){Fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:o,isStopped:h,observers:I}=this;return o||h?we:(this.currentObservers=null,I.push(i),new ue(()=>{this.currentObservers=null,ne(I,i)}))}_checkFinalizedStatuses(i){const{hasError:o,thrownError:h,isStopped:I}=this;o?i.error(h):I&&i.complete()}asObservable(){const i=new Bt;return i.source=this,i}}return e.create=(n,i)=>new Ye(n,i),e})();class Ye extends Ze{constructor(n,i){super(),this.destination=n,this.source=i}next(n){var i,o;null===(o=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===o||o.call(i,n)}error(n){var i,o;null===(o=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===o||o.call(i,n)}complete(){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===i||i.call(n)}_subscribe(n){var i,o;return null!==(o=null===(i=this.source)||void 0===i?void 0:i.subscribe(n))&&void 0!==o?o:we}}class st extends Ze{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const i=super._subscribe(n);return!i.closed&&n.next(this._value),i}getValue(){const{hasError:n,thrownError:i,_value:o}=this;if(n)throw i;return this._throwIfClosed(),o}next(n){super.next(this._value=n)}}function ft(e){return n=>{if(function Ke(e){return ce(e?.lift)}(n))return n.lift(function(i){try{return e(i,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function wt(e,n,i,o,h){return new qt(e,n,i,o,h)}class qt extends dt{constructor(n,i,o,h,I,J){super(n),this.onFinalize=I,this.shouldUnsubscribe=J,this._next=i?function(ve){try{i(ve)}catch(Re){n.error(Re)}}:super._next,this._error=h?function(ve){try{h(ve)}catch(Re){n.error(Re)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(ve){n.error(ve)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:i}=this;super.unsubscribe(),!i&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Yt(e,n){return ft((i,o)=>{let h=0;i.subscribe(wt(o,I=>{o.next(e.call(n,I,h++))}))})}const an="https://g.co/ng/security#xss";class lt extends Error{constructor(n,i){super(function Nt(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,i)),this.code=n}}function ei(e){return{toString:e}.toString()}const hi="__parameters__";function Pn(e,n,i){return ei(()=>{const o=function Wi(e){return function(...i){if(e){const o=e(...i);for(const h in o)this[h]=o[h]}}}(n);function h(...I){if(this instanceof h)return o.apply(this,I),this;const J=new h(...I);return ve.annotation=J,ve;function ve(Re,nt,yt){const Gt=Re.hasOwnProperty(hi)?Re[hi]:Object.defineProperty(Re,hi,{value:[]})[hi];for(;Gt.length<=yt;)Gt.push(null);return(Gt[yt]=Gt[yt]||[]).push(J),Re}}return i&&(h.prototype=Object.create(i.prototype)),h.prototype.ngMetadataName=e,h.annotationCls=h,h})}const ct=globalThis;function Ct(e){for(let n in e)if(e[n]===Ct)return n;throw Error("Could not find renamed property on target object.")}function Jt(e,n){for(const i in n)n.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=n[i])}function un(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(un).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Wn(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const jn=Ct({__forward_ref__:Ct});function Nn(e){return e.__forward_ref__=Nn,e.toString=function(){return un(this())},e}function gn(e){return Wt(e)?e():e}function Wt(e){return"function"==typeof e&&e.hasOwnProperty(jn)&&e.__forward_ref__===Nn}function ai(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function $i(e){return{providers:e.providers||[],imports:e.imports||[]}}function Zi(e){return At(e,hn)||At(e,Hn)}function At(e,n){return e.hasOwnProperty(n)?e[n]:null}function Pt(e){return e&&(e.hasOwnProperty(An)||e.hasOwnProperty(ni))?e[An]:null}const hn=Ct({\u0275prov:Ct}),An=Ct({\u0275inj:Ct}),Hn=Ct({ngInjectableDef:Ct}),ni=Ct({ngInjectorDef:Ct});class $n{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=ai({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function pi(e){return e&&!!e.\u0275providers}const Ti=Ct({\u0275cmp:Ct}),Ni=Ct({\u0275dir:Ct}),Li=Ct({\u0275pipe:Ct}),Fi=Ct({\u0275mod:Ct}),vi=Ct({\u0275fac:Ct}),Gi=Ct({__NG_ELEMENT_ID__:Ct}),Ui=Ct({__NG_ENV_ID__:Ct});function Mi(e){return"string"==typeof e?e:null==e?"":String(e)}function fe(e,n){throw new lt(-201,!1)}var Te=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Te||{});let ze;function Xe(){return ze}function _t(e){const n=ze;return ze=e,n}function It(e,n,i){const o=Zi(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&Te.Optional?null:void 0!==n?n:void fe()}const cn={},_n="__NG_DI_FLAG__",vn="ngTempTokenPath",Gn=/\n/gm,Xn="__source";let _i;function ji(e){const n=_i;return _i=e,n}function ui(e,n=Te.Default){if(void 0===_i)throw new lt(-203,!1);return null===_i?It(e,void 0,n):_i.get(e,n&Te.Optional?null:void 0,n)}function xi(e,n=Te.Default){return(Xe()||ui)(gn(e),n)}function ri(e,n=Te.Default){return xi(e,ki(n))}function ki(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function go(e){const n=[];for(let i=0;i<e.length;i++){const o=gn(e[i]);if(Array.isArray(o)){if(0===o.length)throw new lt(900,!1);let h,I=Te.Default;for(let J=0;J<o.length;J++){const ve=o[J],Re=Wo(ve);"number"==typeof Re?-1===Re?h=ve.token:I|=Re:h=ve}n.push(xi(h,I))}else n.push(xi(o))}return n}function io(e,n){return e[_n]=n,e.prototype[_n]=n,e}function Wo(e){return e[_n]}const vo=io(Pn("Optional"),8),ks=io(Pn("SkipSelf"),4);function Vo(e,n){return e.hasOwnProperty(vi)?e[vi]:null}function _s(e,n){e.forEach(i=>Array.isArray(i)?_s(i,n):n(i))}function Fr(e,n,i){n>=e.length?e.push(i):e.splice(n,0,i)}function is(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function ls(e,n,i){let o=Ds(e,n);return o>=0?e[1|o]=i:(o=~o,function Lo(e,n,i,o){let h=e.length;if(h==n)e.push(i,o);else if(1===h)e.push(o,e[0]),e[0]=i;else{for(h--,e.push(e[h-1],e[h]);h>n;)e[h]=e[h-2],h--;e[n]=i,e[n+1]=o}}(e,o,n,i)),o}function Gs(e,n){const i=Ds(e,n);if(i>=0)return e[1|i]}function Ds(e,n){return function ea(e,n,i){let o=0,h=e.length>>i;for(;h!==o;){const I=o+(h-o>>1),J=e[I<<i];if(n===J)return I<<i;J>n?h=I:o=I+1}return~(h<<i)}(e,n,1)}const Qs={},Oo=[],Uo=new $n(""),ir=new $n("",-1),Hl=new $n("");class Ul{get(n,i=cn){if(i===cn){const o=new Error(`NullInjectorError: No provider for ${un(n)}!`);throw o.name="NullInjectorError",o}return i}}var jl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(jl||{}),Ys=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ys||{}),Ho=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ho||{});function gl(e,n,i){let o=e.length;for(;;){const h=e.indexOf(n,i);if(-1===h)return h;if(0===h||e.charCodeAt(h-1)<=32){const I=n.length;if(h+I===o||e.charCodeAt(h+I)<=32)return h}i=h+1}}function Ir(e,n,i){let o=0;for(;o<i.length;){const h=i[o];if("number"==typeof h){if(0!==h)break;o++;const I=i[o++],J=i[o++],ve=i[o++];e.setAttribute(n,J,ve,I)}else{const I=h,J=i[++o];wa(I)?e.setProperty(n,I,J):e.setAttribute(n,I,J),o++}}return o}function ca(e){return 3===e||4===e||6===e}function wa(e){return 64===e.charCodeAt(0)}function Bs(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const h=n[o];"number"==typeof h?i=h:0===i||ua(e,i,h,null,-1===i||2===i?n[++o]:null)}}return e}function ua(e,n,i,o,h){let I=0,J=e.length;if(-1===n)J=-1;else for(;I<e.length;){const ve=e[I++];if("number"==typeof ve){if(ve===n){J=-1;break}if(ve>n){J=I-1;break}}}for(;I<e.length;){const ve=e[I];if("number"==typeof ve)break;if(ve===i){if(null===o)return void(null!==h&&(e[I+1]=h));if(o===e[I+1])return void(e[I+2]=h)}I++,null!==o&&I++,null!==h&&I++}-1!==J&&(e.splice(J,0,n),I=J+1),e.splice(I++,0,i),null!==o&&e.splice(I++,0,o),null!==h&&e.splice(I++,0,h)}const ha="ng-template";function La(e,n,i,o){let h=0;if(o){for(;h<n.length&&"string"==typeof n[h];h+=2)if("class"===n[h]&&-1!==gl(n[h+1].toLowerCase(),i,0))return!0}else if(Br(e))return!1;if(h=n.indexOf(1,h),h>-1){let I;for(;++h<n.length&&"string"==typeof(I=n[h]);)if(I.toLowerCase()===i)return!0}return!1}function Br(e){return 4===e.type&&e.value!==ha}function nu(e,n,i){return n===(4!==e.type||i?e.value:ha)}function qd(e,n,i){let o=4;const h=e.attrs,I=null!==h?function bd(e){for(let n=0;n<e.length;n++)if(ca(e[n]))return n;return e.length}(h):0;let J=!1;for(let ve=0;ve<n.length;ve++){const Re=n[ve];if("number"!=typeof Re){if(!J)if(4&o){if(o=2|1&o,""!==Re&&!nu(e,Re,i)||""===Re&&1===n.length){if(zs(o))return!1;J=!0}}else if(8&o){if(null===h||!La(e,h,Re,i)){if(zs(o))return!1;J=!0}}else{const nt=n[++ve],yt=zl(Re,h,Br(e),i);if(-1===yt){if(zs(o))return!1;J=!0;continue}if(""!==nt){let Gt;if(Gt=yt>I?"":h[yt+1].toLowerCase(),2&o&&nt!==Gt){if(zs(o))return!1;J=!0}}}}else{if(!J&&!zs(o)&&!zs(Re))return!1;if(J&&zs(Re))continue;J=!1,o=Re|1&o}}return zs(o)||J}function zs(e){return!(1&e)}function zl(e,n,i,o){if(null===n)return-1;let h=0;if(o||!i){let I=!1;for(;h<n.length;){const J=n[h];if(J===e)return h;if(3===J||6===J)I=!0;else{if(1===J||2===J){let ve=n[++h];for(;"string"==typeof ve;)ve=n[++h];continue}if(4===J)break;if(0===J){h+=4;continue}}h+=I?1:2}return-1}return function Ar(e,n){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const o=e[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,e)}function Kl(e,n,i=!1){for(let o=0;o<n.length;o++)if(qd(e,n[o],i))return!0;return!1}function $l(e,n){return e?":not("+n.trim()+")":n}function hr(e){let n=e[0],i=1,o=2,h="",I=!1;for(;i<e.length;){let J=e[i];if("string"==typeof J)if(2&o){const ve=e[++i];h+="["+J+(ve.length>0?'="'+ve+'"':"")+"]"}else 8&o?h+="."+J:4&o&&(h+=" "+J);else""!==h&&!zs(J)&&(n+=$l(I,h),h=""),o=J,I=I||!zs(o);i++}return""!==h&&(n+=$l(I,h)),n}function so(e){return ei(()=>{const n=tc(e),i={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===jl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ys.Emulated,styles:e.styles||Oo,_:null,schemas:e.schemas||null,tView:null,id:""};ml(i);const o=e.dependencies;return i.directiveDefs=$a(o,!1),i.pipeDefs=$a(o,!0),i.id=function Gl(e){let n=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const h of i)n=Math.imul(31,n)+h.charCodeAt(0)|0;return n+=2147483648,"c"+n}(i),i})}function xo(e){return _o(e)||Es(e)}function Ao(e){return null!==e}function ds(e){return ei(()=>({type:e.type,bootstrap:e.bootstrap||Oo,declarations:e.declarations||Oo,imports:e.imports||Oo,exports:e.exports||Oo,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ws(e,n){if(null==e)return Qs;const i={};for(const o in e)if(e.hasOwnProperty(o)){const h=e[o];let I,J,ve=Ho.None;Array.isArray(h)?(ve=h[0],I=h[1],J=h[2]??I):(I=h,J=h),n?(i[I]=ve!==Ho.None?[o,ve]:o,n[I]=J):i[I]=o}return i}function ao(e){return ei(()=>{const n=tc(e);return ml(n),n})}function _o(e){return e[Ti]||null}function Es(e){return e[Ni]||null}function Zs(e){return e[Li]||null}function tc(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Qs,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Oo,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ws(e.inputs,n),outputs:Ws(e.outputs),debugInfo:null}}function ml(e){e.features?.forEach(n=>n(e))}function $a(e,n){if(!e)return null;const i=n?Zs:xo;return()=>("function"==typeof e?e():e).map(o=>i(o)).filter(Ao)}function nc(...e){return{\u0275providers:Tr(0,e),\u0275fromNgModule:!0}}function Tr(e,...n){const i=[],o=new Set;let h;const I=J=>{i.push(J)};return _s(n,J=>{const ve=J;Ga(ve,I,[],o)&&(h||=[],h.push(ve))}),void 0!==h&&Ma(h,I),i}function Ma(e,n){for(let i=0;i<e.length;i++){const{ngModule:o,providers:h}=e[i];Qa(h,I=>{n(I,o)})}}function Ga(e,n,i,o){if(!(e=gn(e)))return!1;let h=null,I=Pt(e);const J=!I&&_o(e);if(I||J){if(J&&!J.standalone)return!1;h=e}else{const Re=e.ngModule;if(I=Pt(Re),!I)return!1;h=Re}const ve=o.has(h);if(J){if(ve)return!1;if(o.add(h),J.dependencies){const Re="function"==typeof J.dependencies?J.dependencies():J.dependencies;for(const nt of Re)Ga(nt,n,i,o)}}else{if(!I)return!1;{if(null!=I.imports&&!ve){let nt;o.add(h);try{_s(I.imports,yt=>{Ga(yt,n,i,o)&&(nt||=[],nt.push(yt))})}finally{}void 0!==nt&&Ma(nt,n)}if(!ve){const nt=Vo(h)||(()=>new h);n({provide:h,useFactory:nt,deps:Oo},h),n({provide:Hl,useValue:h,multi:!0},h),n({provide:Uo,useValue:()=>xi(h),multi:!0},h)}const Re=I.providers;if(null!=Re&&!ve){const nt=e;Qa(Re,yt=>{n(yt,nt)})}}}return h!==e&&void 0!==e.providers}function Qa(e,n){for(let i of e)pi(i)&&(i=i.\u0275providers),Array.isArray(i)?Qa(i,n):n(i)}const bh=Ct({provide:String,useValue:Ct});function Ia(e){return null!==e&&"object"==typeof e&&bh in e}function Aa(e){return"function"==typeof e}const oc=new $n(""),Ql={},Yl={};let Dd;function fa(){return void 0===Dd&&(Dd=new Ul),Dd}class kr{}class Ya extends kr{get destroyed(){return this._destroyed}constructor(n,i,o,h){super(),this.parent=i,this.source=o,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ga(n,J=>this.processProvider(J)),this.records.set(ir,na(void 0,this)),h.has("environment")&&this.records.set(kr,na(void 0,this));const I=this.records.get(oc);null!=I&&"string"==typeof I.value&&this.scopes.add(I.value),this.injectorDefTypes=new Set(this.get(Hl,Oo,Te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=b(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),b(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=ji(this),o=_t(void 0);try{return n()}finally{ji(i),_t(o)}}get(n,i=cn,o=Te.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ui))return n[Ui](this);o=ki(o);const I=ji(this),J=_t(void 0);try{if(!(o&Te.SkipSelf)){let Re=this.records.get(n);if(void 0===Re){const nt=function sg(e){return"function"==typeof e||"object"==typeof e&&e instanceof $n}(n)&&Zi(n);Re=nt&&this.injectableDefInScope(nt)?na(Ta(n),Ql):null,this.records.set(n,Re)}if(null!=Re)return this.hydrate(n,Re)}return(o&Te.Self?fa():this.parent).get(n,i=o&Te.Optional&&i===cn?null:i)}catch(ve){if("NullInjectorError"===ve.name){if((ve[vn]=ve[vn]||[]).unshift(un(n)),I)throw ve;return function No(e,n,i,o){const h=e[vn];throw n[Xn]&&h.unshift(n[Xn]),e.message=function Jo(e,n,i,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let h=un(n);if(Array.isArray(n))h=n.map(un).join(" -> ");else if("object"==typeof n){let I=[];for(let J in n)if(n.hasOwnProperty(J)){let ve=n[J];I.push(J+":"+("string"==typeof ve?JSON.stringify(ve):un(ve)))}h=`{${I.join(", ")}}`}return`${i}${o?"("+o+")":""}[${h}]: ${e.replace(Gn,"\n  ")}`}("\n"+e.message,h,i,o),e.ngTokenPath=h,e[vn]=null,e}(ve,n,"R3InjectorError",this.source)}throw ve}finally{_t(J),ji(I)}}resolveInjectorInitializers(){const n=b(null),i=ji(this),o=_t(void 0);try{const I=this.get(Uo,Oo,Te.Self);for(const J of I)J()}finally{ji(i),_t(o),b(n)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(un(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new lt(205,!1)}processProvider(n){let i=Aa(n=gn(n))?n:gn(n&&n.provide);const o=function sc(e){return Ia(e)?na(void 0,e.useValue):na(ou(e),Ql)}(n);if(!Aa(n)&&!0===n.multi){let h=this.records.get(i);h||(h=na(void 0,Ql,!0),h.factory=()=>go(h.multi),this.records.set(i,h)),i=n,h.multi.push(n)}this.records.set(i,o)}hydrate(n,i){const o=b(null);try{return i.value===Ql&&(i.value=Yl,i.value=i.factory()),"object"==typeof i.value&&i.value&&function rc(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{b(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=gn(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Ta(e){const n=Zi(e),i=null!==n?n.factory:Vo(e);if(null!==i)return i;if(e instanceof $n)throw new lt(204,!1);if(e instanceof Function)return function ka(e){if(e.length>0)throw new lt(204,!1);const i=function Rt(e){return e&&(e[hn]||e[Hn])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new lt(204,!1)}function ou(e,n,i){let o;if(Aa(e)){const h=gn(e);return Vo(h)||Ta(h)}if(Ia(e))o=()=>gn(e.useValue);else if(function ic(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...go(e.deps||[]));else if(function ta(e){return!(!e||!e.useExisting)}(e))o=()=>xi(gn(e.useExisting));else{const h=gn(e&&(e.useClass||e.provide));if(!function su(e){return!!e.deps}(e))return Vo(h)||Ta(h);o=()=>new h(...go(e.deps))}return o}function na(e,n,i=!1){return{factory:e,value:n,multi:i?[]:void 0}}function ga(e,n){for(const i of e)Array.isArray(i)?ga(i,n):i&&pi(i)?ga(i.\u0275providers,n):n(i)}const us=0,zi=1,lo=2,Ls=3,or=4,Ps=5,gr=6,ma=7,os=8,xs=9,Go=10,uo=11,bl=12,ac=13,Wr=14,Zo=15,Xa=16,Ja=17,Vr=18,qa=19,Hr=20,Er=21,yl=22,pa=23,yo=25,Ks=1,Rr=7,el=9,Cs=10;var lc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(lc||{});function sr(e){return Array.isArray(e)&&"object"==typeof e[Ks]}function rr(e){return Array.isArray(e)&&!0===e[Ks]}function Na(e){return!!(4&e.flags)}function Fa(e){return e.componentOffset>-1}function Ur(e){return!(1&~e.flags)}function wr(e){return!!e.template}function va(e){return!!(512&e[lo])}class uc{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function uu(e,n,i,o){null!==n?n.applyValueToInputSignal(n,o):e[i]=o}function jr(){return hu}function hu(e){return e.type.prototype.ngOnChanges&&(e.setInput=fc),hc}function hc(){const e=ed(this),n=e?.current;if(n){const i=e.previous;if(i===Qs)e.previous=n;else for(let o in n)i[o]=n[o];e.current=null,this.ngOnChanges(n)}}function fc(e,n,i,o,h){const I=this.declaredInputs[o],J=ed(e)||function Ll(e,n){return e[ql]=n}(e,{previous:Qs,current:null}),ve=J.current||(J.current={}),Re=J.previous,nt=Re[I];ve[I]=new uc(nt&&nt.currentValue,i,Re===Qs),uu(e,n,h,i)}jr.ngInherit=!0;const ql="__ngSimpleChanges__";function ed(e){return e[ql]||null}const zr=function(e,n,i){};let mc=!1;function es(e){for(;Array.isArray(e);)e=e[us];return e}function Kr(e,n){return es(n[e])}function Xs(e,n){return es(n[e.index])}function Ca(e,n){return e.data[n]}function mr(e,n){const i=n[e];return sr(i)?i:i[us]}function Md(e){return!(128&~e[lo])}function ar(e,n){return null==n?null:e[n]}function Lh(e){e[Ja]=0}function xh(e){1024&e[lo]||(e[lo]|=1024,Md(e)&&il(e))}function id(e){return!!(9216&e[lo]||e[pa]?.dirty)}function xl(e){e[Go].changeDetectionScheduler?.notify(1),id(e)?il(e):64&e[lo]&&(function pc(){return mc}()?(e[lo]|=1024,il(e)):e[Go].changeDetectionScheduler?.notify())}function il(e){e[Go].changeDetectionScheduler?.notify();let n=ia(e);for(;null!==n&&!(8192&n[lo])&&(n[lo]|=8192,Md(n));)n=ia(n)}function Lr(e,n){if(!(256&~e[lo]))throw new lt(911,!1);null===e[Er]&&(e[Er]=[]),e[Er].push(n)}function ia(e){const n=e[Ls];return rr(n)?n[Ls]:n}const So={lFrame:ro(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function od(){return So.bindingsEnabled}function bi(){return So.lFrame.lView}function Lt(){return So.lFrame.tView}function s(e){return So.lFrame.contextLView=e,e[os]}function u(e){return So.lFrame.contextLView=null,e}function E(){let e=$();for(;null!==e&&64===e.type;)e=e.parent;return e}function $(){return So.lFrame.currentTNode}function Ae(e,n){const i=So.lFrame;i.currentTNode=e,i.isParent=n}function Be(){return So.lFrame.isParent}function Ln(){return So.lFrame.bindingIndex++}function Fn(e){const n=So.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,i}function si(e,n){const i=So.lFrame;i.bindingIndex=i.bindingRootIndex=e,Bi(n)}function Bi(e){So.lFrame.currentDirectiveIndex=e}function Xi(){return So.lFrame.currentQueryIndex}function Ji(e){So.lFrame.currentQueryIndex=e}function no(e){const n=e[zi];return 2===n.type?n.declTNode:1===n.type?e[Ps]:null}function qi(e,n,i){if(i&Te.SkipSelf){let h=n,I=e;for(;!(h=h.parent,null!==h||i&Te.Host||(h=no(I),null===h||(I=I[Wr],10&h.type))););if(null===h)return!1;n=h,e=I}const o=So.lFrame=Qi();return o.currentTNode=n,o.lView=e,!0}function oo(e){const n=Qi(),i=e[zi];So.lFrame=n,n.currentTNode=i.firstChild,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Qi(){const e=So.lFrame,n=null===e?null:e.child;return null===n?ro(e):n}function ro(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Qo(){const e=So.lFrame;return So.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ko=Qo;function bs(){const e=Qo();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function jo(){return So.lFrame.selectedIndex}function zo(e){So.lFrame.selectedIndex=e}function bo(){const e=So.lFrame;return Ca(e.tView,e.selectedIndex)}let fg=!0;function sd(){return fg}function oa(e){fg=e}function mu(e,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const I=e.data[i].type.prototype,{ngAfterContentInit:J,ngAfterContentChecked:ve,ngAfterViewInit:Re,ngAfterViewChecked:nt,ngOnDestroy:yt}=I;J&&(e.contentHooks??=[]).push(-i,J),ve&&((e.contentHooks??=[]).push(i,ve),(e.contentCheckHooks??=[]).push(i,ve)),Re&&(e.viewHooks??=[]).push(-i,Re),nt&&((e.viewHooks??=[]).push(i,nt),(e.viewCheckHooks??=[]).push(i,nt)),null!=yt&&(e.destroyHooks??=[]).push(i,yt)}}function Sc(e,n,i){Ph(e,n,3,i)}function Id(e,n,i,o){(3&e[lo])===i&&Ph(e,n,i,o)}function Ad(e,n){let i=e[lo];(3&i)===n&&(i&=16383,i+=1,e[lo]=i)}function Ph(e,n,i,o){const I=o??-1,J=n.length-1;let ve=0;for(let Re=void 0!==o?65535&e[Ja]:0;Re<J;Re++)if("number"==typeof n[Re+1]){if(ve=n[Re],null!=o&&ve>=o)break}else n[Re]<0&&(e[Ja]+=65536),(ve<I||-1==I)&&(Bp(e,i,n,Re),e[Ja]=(4294901760&e[Ja])+Re+2),Re++}function rd(e,n){zr(4,e,n);const i=b(null);try{n.call(e)}finally{b(i),zr(5,e,n)}}function Bp(e,n,i,o){const h=i[o]<0,I=i[o+1],ve=e[h?-i[o]:i[o]];h?e[lo]>>14<e[Ja]>>16&&(3&e[lo])===n&&(e[lo]+=16384,rd(ve,I)):rd(ve,I)}const Td=-1;class Dc{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function Oh(e){return e!==Td}function Lc(e){return 32767&e}function ad(e,n){let i=function gg(e){return e>>16}(e),o=n;for(;i>0;)o=o[Wr],i--;return o}let Rh=!0;function pu(e){const n=Rh;return Rh=e,n}const mg=255,sl=5;let jp=0;const ya={};function _u(e,n){const i=xc(e,n);if(-1!==i)return i;const o=n[zi];o.firstCreatePass&&(e.injectorIndex=n.length,vu(o.data,e),vu(n,null),vu(o.blueprint,null));const h=Js(e,n),I=e.injectorIndex;if(Oh(h)){const J=Lc(h),ve=ad(h,n),Re=ve[zi].data;for(let nt=0;nt<8;nt++)n[I+nt]=ve[J+nt]|Re[J+nt]}return n[I+8]=h,I}function vu(e,n){e.push(0,0,0,0,0,0,0,0,n)}function xc(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Js(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,o=null,h=n;for(;null!==h;){if(o=bu(h),null===o)return Td;if(i++,h=h[Wr],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return Td}function Fh(e,n,i){!function Nh(e,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(Gi)&&(o=i[Gi]),null==o&&(o=i[Gi]=jp++);const h=o&mg;n.data[e+(h>>sl)]|=1<<h}(e,n,i)}function pg(e,n,i){if(i&Te.Optional||void 0!==e)return e;fe()}function rl(e,n,i,o){if(i&Te.Optional&&void 0===o&&(o=null),!(i&(Te.Self|Te.Host))){const h=e[xs],I=_t(void 0);try{return h?h.get(n,o,i&Te.Optional):It(n,o,i&Te.Optional)}finally{_t(I)}}return pg(o,0,i)}function Bh(e,n,i,o=Te.Default,h){if(null!==e){if(2048&n[lo]&&!(o&Te.Self)){const J=function Mc(e,n,i,o,h){let I=e,J=n;for(;null!==I&&null!==J&&2048&J[lo]&&!(512&J[lo]);){const ve=_g(I,J,i,o|Te.Self,ya);if(ve!==ya)return ve;let Re=I.parent;if(!Re){const nt=J[Hr];if(nt){const yt=nt.get(i,ya,o);if(yt!==ya)return yt}Re=bu(J),J=J[Wr]}I=Re}return h}(e,n,i,o,ya);if(J!==ya)return J}const I=_g(e,n,i,o,ya);if(I!==ya)return I}return rl(n,i,o,h)}function _g(e,n,i,o,h){const I=function Kp(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Gi)?e[Gi]:void 0;return"number"==typeof n?n>=0?n&mg:$p:n}(i);if("function"==typeof I){if(!qi(n,e,o))return o&Te.Host?pg(h,0,o):rl(n,i,o,h);try{let J;if(J=I(o),null!=J||o&Te.Optional)return J;fe()}finally{ko()}}else if("number"==typeof I){let J=null,ve=xc(e,n),Re=Td,nt=o&Te.Host?n[Zo][Ps]:null;for((-1===ve||o&Te.SkipSelf)&&(Re=-1===ve?Js(e,n):n[ve+8],Re!==Td&&Os(o,!1)?(J=n[zi],ve=Lc(Re),n=ad(Re,n)):ve=-1);-1!==ve;){const yt=n[zi];if(Wa(I,ve,yt.data)){const Gt=vg(ve,n,i,J,o,nt);if(Gt!==ya)return Gt}Re=n[ve+8],Re!==Td&&Os(o,n[zi].data[ve+8]===nt)&&Wa(I,ve,n)?(J=yt,ve=Lc(Re),n=ad(Re,n)):ve=-1}}return h}function vg(e,n,i,o,h,I){const J=n[zi],ve=J.data[e+8],yt=Cu(ve,J,i,null==o?Fa(ve)&&Rh:o!=J&&!!(3&ve.type),h&Te.Host&&I===ve);return null!==yt?ld(n,J,yt,ve):ya}function Cu(e,n,i,o,h){const I=e.providerIndexes,J=n.data,ve=1048575&I,Re=e.directiveStart,yt=I>>20,In=h?ve+yt:e.directiveEnd;for(let Tn=o?ve:ve+yt;Tn<In;Tn++){const Un=J[Tn];if(Tn<Re&&i===Un||Tn>=Re&&Un.type===i)return Tn}if(h){const Tn=J[Re];if(Tn&&wr(Tn)&&Tn.type===i)return Re}return null}function ld(e,n,i,o){let h=e[i];const I=n.data;if(function Ec(e){return e instanceof Dc}(h)){const J=h;J.resolving&&function re(e,n){throw n&&n.join(" > "),new lt(-200,e)}(function fo(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Mi(e)}(I[i]));const ve=pu(J.canSeeViewProviders);J.resolving=!0;const nt=J.injectImpl?_t(J.injectImpl):null;qi(e,o,Te.Default);try{h=e[i]=J.factory(void 0,I,e,o),n.firstCreatePass&&i>=o.directiveStart&&function Fp(e,n,i){const{ngOnChanges:o,ngOnInit:h,ngDoCheck:I}=n.type.prototype;if(o){const J=hu(n);(i.preOrderHooks??=[]).push(e,J),(i.preOrderCheckHooks??=[]).push(e,J)}h&&(i.preOrderHooks??=[]).push(0-e,h),I&&((i.preOrderHooks??=[]).push(e,I),(i.preOrderCheckHooks??=[]).push(e,I))}(i,I[i],n)}finally{null!==nt&&_t(nt),pu(ve),J.resolving=!1,ko()}}return h}function Wa(e,n,i){return!!(i[n+(e>>sl)]&1<<e)}function Os(e,n){return!(e&Te.Self||e&Te.Host&&n)}class qs{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return Bh(this._tNode,this._lView,n,ki(o),i)}}function $p(){return new qs(E(),bi())}function Sr(e){return ei(()=>{const n=e.prototype.constructor,i=n[vi]||Wh(n),o=Object.prototype;let h=Object.getPrototypeOf(e.prototype).constructor;for(;h&&h!==o;){const I=h[vi]||Wh(h);if(I&&I!==i)return I;h=Object.getPrototypeOf(h)}return I=>new I})}function Wh(e){return Wt(e)?()=>{const n=Wh(gn(e));return n&&n()}:Vo(e)}function bu(e){const n=e[zi],i=n.type;return 2===i?n.declTNode:1===i?e[Ps]:null}function wu(e,n=null,i=null,o){const h=Cg(e,n,i,o);return h.resolveInjectorInitializers(),h}function Cg(e,n=null,i=null,o,h=new Set){const I=[i||Oo,nc(e)];return o=o||("object"==typeof e?void 0:un(e)),new Ya(I,n||fa(),o||null,h)}let Ki=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=cn;static#t=this.NULL=new Ul;static create(i,o){if(Array.isArray(i))return wu({name:""},o,i,"");{const h=i.name??"";return wu({name:h},i.parent,i.providers,h)}}static#n=this.\u0275prov=ai({token:e,providedIn:"any",factory:()=>xi(ir)});static#i=this.__NG_ELEMENT_ID__=-1}return e})();function Ic(e){return e.ngOriginalError}class Mo{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Ic(n);for(;i&&Ic(i);)i=Ic(i);return i||null}}const yg=new $n("",{providedIn:"root",factory:()=>ri(Mo).handleError.bind(void 0)});let dd=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Lu;static#t=this.__NG_ENV_ID__=i=>i}return e})();class e_ extends dd{constructor(n){super(),this._lView=n}onDestroy(n){return Lr(this._lView,n),()=>function ba(e,n){if(null===e[Er])return;const i=e[Er].indexOf(n);-1!==i&&e[Er].splice(i,1)}(this._lView,n)}}function Lu(){return new e_(bi())}function i_(){return lr(E(),bi())}function lr(e,n){return new Sa(Xs(e,n))}let Sa=(()=>{class e{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=i_}return e})();function Ac(e){return e instanceof Sa?e.nativeElement:e}function Eg(e){return n=>{setTimeout(e,void 0,n)}}const xr=class Nd extends Ze{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,function Ed(){return void 0!==Xe()||null!=function Si(){return _i}()}()&&(this.destroyRef=ri(dd,{optional:!0})??void 0)}emit(n){const i=b(null);try{super.next(n)}finally{b(i)}}subscribe(n,i,o){let h=n,I=i||(()=>null),J=o;if(n&&"object"==typeof n){const Re=n;h=Re.next?.bind(Re),I=Re.error?.bind(Re),J=Re.complete?.bind(Re)}this.__isAsync&&(I=Eg(I),h&&(h=Eg(h)),J&&(J=Eg(J)));const ve=super.subscribe({next:h,error:I,complete:J});return n instanceof ue&&n.add(ve),ve}};function Mu(){return this._results[Symbol.iterator]()}class Hh{static#e=Symbol.iterator;get changes(){return this._changes??=new xr}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=Hh.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Mu)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const o=function co(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function To(e,n,i){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let h=e[o],I=n[o];if(i&&(h=i(h),I=i(I)),I!==h)return!1}return!0}(this._results,o,i))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Iu(e){return!(128&~e.flags)}const Bd=new Map;let xg=0;const zh="__ngContext__";function Dr(e,n){sr(n)?(e[zh]=n[qa],function r_(e){Bd.set(e[qa],e)}(n)):e[zh]=n}function Rg(e){return Fg(e[bl])}function Ng(e){return Fg(e[or])}function Fg(e){for(;null!==e&&!rr(e);)e=e[or];return e}let Kh;const ku=new $n("",{providedIn:"root",factory:()=>D_}),D_="ng",Tc=new $n(""),ud=new $n("",{providedIn:"platform",factory:()=>"unknown"}),Pu=new $n("",{providedIn:"root",factory:()=>function Il(){if(void 0!==Kh)return Kh;if(typeof document<"u")return document;throw new lt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $g=()=>null;function Xh(e,n,i=!1){return $g(e,n,i)}const Xg=new $n("",{providedIn:"root",factory:()=>!1});class rf{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${an})`}}function ll(e){return e instanceof rf?e.changingThisBreaksApplicationSecurity:e}const $C=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Wc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Wc||{});function df(e){const n=function Uu(){const e=bi();return e&&e[Go].sanitizer}();return n?n.sanitize(Wc.URL,e)||"":function Ud(e,n){const i=function af(e){return e instanceof rf&&e.getTypeName()||null}(e);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${an})`)}return i===n}(e,"URL")?ll(e):function om(e){return(e=String(e)).match($C)?e:"unsafe:"+e}(Mi(e))}function X_(e){return e.ownerDocument.defaultView}function J_(e){return e.ownerDocument}var he=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(he||{});let pe;function Oe(e,n){return pe(e,n)}function bt(e,n,i,o,h){if(null!=o){let I,J=!1;rr(o)?I=o:sr(o)&&(J=!0,o=o[us]);const ve=es(o);0===e&&null!==i?null==h?Hc(n,i,ve):vs(n,i,ve,h||null,!0):1===e&&null!==i?vs(n,i,ve,h||null,!0):2===e?function ff(e,n,i){const o=um(e,n);o&&function Mr(e,n,i,o){e.removeChild(n,i,o)}(e,o,n,i)}(n,ve,J):3===e&&n.destroyNode(ve),null!=I&&function ox(e,n,i,o,h){const I=i[Rr];I!==es(i)&&bt(n,e,o,I,h);for(let ve=Cs;ve<i.length;ve++){const Re=i[ve];fm(Re[zi],Re,e,n,o,I)}}(n,e,I,i,h)}}function ti(e,n,i){return e.createElement(n,i)}function to(e,n){n[Go].changeDetectionScheduler?.notify(1),fm(e,n,n[uo],2,null,null)}function mo(e,n){const i=e[el],o=i.indexOf(n);i.splice(o,1)}function eo(e,n){if(e.length<=Cs)return;const i=Cs+n,o=e[i];if(o){const h=o[Xa];null!==h&&h!==e&&mo(h,o),n>0&&(e[i-1][or]=o[or]);const I=is(e,Cs+n);!function ii(e,n){to(e,n),n[us]=null,n[Ps]=null}(o[zi],o);const J=I[Vr];null!==J&&J.detachView(I[zi]),o[Ls]=null,o[or]=null,o[lo]&=-129}return o}function Io(e,n){if(!(256&n[lo])){const i=n[uo];i.destroyNode&&fm(e,n,i,3,null,null),function ho(e){let n=e[bl];if(!n)return hs(e[zi],e);for(;n;){let i=null;if(sr(n))i=n[bl];else{const o=n[Cs];o&&(i=o)}if(!i){for(;n&&!n[or]&&n!==e;)sr(n)&&hs(n[zi],n),n=n[Ls];null===n&&(n=e),sr(n)&&hs(n[zi],n),i=n&&n[or]}n=i}}(n)}}function hs(e,n){if(256&n[lo])return;const i=b(null);try{n[lo]&=-129,n[lo]|=256,n[pa]&&function k(e){if(L(e),H(e))for(let n=0;n<e.producerNode.length;n++)N(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(n[pa]),function kl(e,n){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let o=0;o<i.length;o+=2){const h=n[i[o]];if(!(h instanceof Dc)){const I=i[o+1];if(Array.isArray(I))for(let J=0;J<I.length;J+=2){const ve=h[I[J]],Re=I[J+1];zr(4,ve,Re);try{Re.call(ve)}finally{zr(5,ve,Re)}}else{zr(4,h,I);try{I.call(h)}finally{zr(5,h,I)}}}}}(e,n),function fs(e,n){const i=e.cleanup,o=n[ma];if(null!==i)for(let I=0;I<i.length-1;I+=2)if("string"==typeof i[I]){const J=i[I+3];J>=0?o[J]():o[-J].unsubscribe(),I+=2}else i[I].call(o[i[I+1]]);null!==o&&(n[ma]=null);const h=n[Er];if(null!==h){n[Er]=null;for(let I=0;I<h.length;I++)(0,h[I])()}}(e,n),1===n[zi].type&&n[uo].destroy();const o=n[Xa];if(null!==o&&rr(n[Ls])){o!==n[Ls]&&mo(o,n);const h=n[Vr];null!==h&&h.detachView(e)}!function jh(e){Bd.delete(e[qa])}(n)}finally{b(i)}}function Bo(e,n,i){return function Hs(e,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[us];{const{componentOffset:h}=o;if(h>-1){const{encapsulation:I}=e.data[o.directiveStart+h];if(I===Ys.None||I===Ys.Emulated)return null}return Xs(o,i)}}(e,n.parent,i)}function vs(e,n,i,o,h){e.insertBefore(n,i,o,h)}function Hc(e,n,i){e.appendChild(n,i)}function Do(e,n,i,o,h){null!==o?vs(e,n,i,o,h):Hc(e,n,i)}function um(e,n){return e.parentNode(n)}let tv,Db=function Sb(e,n,i){return 40&e.type?Xs(e,i):null};function hm(e,n,i,o){const h=Bo(e,o,n),I=n[uo],ve=function yb(e,n,i){return Db(e,n,i)}(o.parent||n[Ps],o,n);if(null!=h)if(Array.isArray(i))for(let Re=0;Re<i.length;Re++)Do(I,h,i[Re],ve,!1);else Do(I,h,i,ve,!1);void 0!==tv&&tv(I,o,n,i,h)}function hf(e,n){if(null!==n){const i=n.type;if(3&i)return Xs(n,e);if(4&i)return nv(-1,e[n.index]);if(8&i){const o=n.child;if(null!==o)return hf(e,o);{const h=e[n.index];return rr(h)?nv(-1,h):es(h)}}if(32&i)return Oe(n,e)()||es(e[n.index]);{const o=wb(e,n);return null!==o?Array.isArray(o)?o[0]:hf(ia(e[Zo]),o):hf(e,n.next)}}return null}function wb(e,n){return null!==n?e[Zo][Ps].projection[n.projection]:null}function nv(e,n){const i=Cs+e+1;if(i<n.length){const o=n[i],h=o[zi].firstChild;if(null!==h)return hf(o,h)}return n[Rr]}function iv(e,n,i,o,h,I,J){for(;null!=i;){const ve=o[i.index],Re=i.type;if(J&&0===n&&(ve&&Dr(es(ve),o),i.flags|=2),32&~i.flags)if(8&Re)iv(e,n,i.child,o,h,I,!1),bt(n,e,h,ve,I);else if(32&Re){const nt=Oe(i,o);let yt;for(;yt=nt();)bt(n,e,h,yt,I);bt(n,e,h,ve,I)}else 16&Re?xb(e,n,o,i,h,I):bt(n,e,h,ve,I);i=J?i.projectionNext:i.next}}function fm(e,n,i,o,h,I){iv(i,o,e.firstChild,n,h,I,!1)}function xb(e,n,i,o,h,I){const J=i[Zo],Re=J[Ps].projection[o.projection];if(Array.isArray(Re))for(let nt=0;nt<Re.length;nt++)bt(n,e,h,Re[nt],I);else{let nt=Re;const yt=J[Ls];Iu(o)&&(nt.flags|=128),iv(e,n,nt,yt,h,I,!0)}}function Mb(e,n,i){""===i?e.removeAttribute(n,"class"):e.setAttribute(n,"class",i)}function Ib(e,n,i){const{mergedAttrs:o,classes:h,styles:I}=i;null!==o&&Ir(e,n,o),null!==h&&Mb(e,n,h),null!==I&&function rx(e,n,i){e.setAttribute(n,"style",i)}(e,n,I)}const Po={};function $s(e=1){Ab(Lt(),bi(),jo()+e,!1)}function Ab(e,n,i,o){if(!o)if(3&~n[lo]){const I=e.preOrderHooks;null!==I&&Id(n,I,0,i)}else{const I=e.preOrderCheckHooks;null!==I&&Sc(n,I,i)}zo(i)}function Yi(e,n=Te.Default){const i=bi();return null===i?xi(e,n):Bh(E(),i,gn(e),n)}function Tb(e,n,i,o,h,I){const J=b(null);try{let ve=null;h&Ho.SignalBased&&(ve=n[o][S]),null!==ve&&void 0!==ve.transformFn&&(I=ve.transformFn(I)),h&Ho.HasDecoratorInputTransform&&(I=e.inputTransforms[o].call(n,I)),null!==e.setInput?e.setInput(n,ve,I,i,o):uu(n,ve,o,I)}finally{b(J)}}function gm(e,n,i,o,h,I,J,ve,Re,nt,yt){const Gt=n.blueprint.slice();return Gt[us]=h,Gt[lo]=204|o,(null!==nt||e&&2048&e[lo])&&(Gt[lo]|=2048),Lh(Gt),Gt[Ls]=Gt[Wr]=e,Gt[os]=i,Gt[Go]=J||e&&e[Go],Gt[uo]=ve||e&&e[uo],Gt[xs]=Re||e&&e[xs]||null,Gt[Ps]=I,Gt[qa]=function s_(){return xg++}(),Gt[gr]=yt,Gt[Hr]=nt,Gt[Zo]=2==n.type?e[Zo]:Gt,Gt}function ju(e,n,i,o,h){let I=e.data[n];if(null===I)I=function ov(e,n,i,o,h){const I=$(),J=Be(),Re=e.data[n]=function mx(e,n,i,o,h,I){let J=n?n.injectorIndex:-1,ve=0;return function ol(){return null!==So.skipHydrationRootTNode}()&&(ve|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:J,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ve,providerIndexes:0,value:h,attrs:I,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,J?I:I&&I.parent,i,n,o,h);return null===e.firstChild&&(e.firstChild=Re),null!==I&&(J?null==I.child&&null!==Re.parent&&(I.child=Re):null===I.next&&(I.next=Re,Re.prev=I)),Re}(e,n,i,o,h),function qn(){return So.lFrame.inI18n}()&&(I.flags|=32);else if(64&I.type){I.type=i,I.value=o,I.attrs=h;const J=function ee(){const e=So.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();I.injectorIndex=null===J?-1:J.injectorIndex}return Ae(I,!0),I}function gf(e,n,i,o){if(0===i)return-1;const h=n.length;for(let I=0;I<i;I++)n.push(o),e.blueprint.push(o),e.data.push(null);return h}function kb(e,n,i,o,h){const I=jo(),J=2&o;try{zo(-1),J&&n.length>yo&&Ab(e,n,yo,!1),zr(J?2:0,h),i(o,h)}finally{zo(I),zr(J?3:1,h)}}function sv(e,n,i){if(Na(n)){const o=b(null);try{const I=n.directiveEnd;for(let J=n.directiveStart;J<I;J++){const ve=e.data[J];ve.contentQueries&&ve.contentQueries(1,i[J],J)}}finally{b(o)}}}function rv(e,n,i){od()&&(function Sx(e,n,i,o){const h=i.directiveStart,I=i.directiveEnd;Fa(i)&&function Ix(e,n,i){const o=Xs(n,e),h=Pb(i);let J=16;i.signals?J=4096:i.onPush&&(J=64);const ve=mm(e,gm(e,h,null,J,o,n,null,e[Go].rendererFactory.createRenderer(o,i),null,null,null));e[n.index]=ve}(n,i,e.data[h+i.componentOffset]),e.firstCreatePass||_u(i,n),Dr(o,n);const J=i.initialInputs;for(let ve=h;ve<I;ve++){const Re=e.data[ve],nt=ld(n,e,ve,i);Dr(nt,n),null!==J&&Ax(0,ve-h,nt,Re,0,J),wr(Re)&&(mr(i.index,n)[os]=ld(n,e,ve,i))}}(e,n,i,Xs(i,n)),!(64&~i.flags)&&Bb(e,n,i))}function av(e,n,i=Xs){const o=n.localNames;if(null!==o){let h=n.index+1;for(let I=0;I<o.length;I+=2){const J=o[I+1],ve=-1===J?i(n,e):e[J];e[h++]=ve}}}function Pb(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=lv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function lv(e,n,i,o,h,I,J,ve,Re,nt,yt){const Gt=yo+o,In=Gt+h,Tn=function dx(e,n){const i=[];for(let o=0;o<n;o++)i.push(o<e?null:Po);return i}(Gt,In),Un="function"==typeof nt?nt():nt;return Tn[zi]={type:e,blueprint:Tn,template:i,queries:null,viewQuery:ve,declTNode:n,data:Tn.slice().fill(null,Gt),bindingStartIndex:Gt,expandoStartIndex:In,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof I?I():I,pipeRegistry:"function"==typeof J?J():J,firstChild:null,schemas:Re,consts:Un,incompleteFirstPass:!1,ssrId:yt}}let Ob=()=>null;function Rb(e,n,i,o,h){for(let I in n){if(!n.hasOwnProperty(I))continue;const J=n[I];if(void 0===J)continue;o??={};let ve,Re=Ho.None;Array.isArray(J)?(ve=J[0],Re=J[1]):ve=J;let nt=I;if(null!==h){if(!h.hasOwnProperty(I))continue;nt=h[I]}0===e?Nb(o,i,nt,ve,Re):Nb(o,i,nt,ve)}return o}function Nb(e,n,i,o,h){let I;e.hasOwnProperty(i)?(I=e[i]).push(n,o):I=e[i]=[n,o],void 0!==h&&I.push(h)}function ra(e,n,i,o,h,I,J,ve){const Re=Xs(n,i);let yt,nt=n.inputs;!ve&&null!=nt&&(yt=nt[o])?(fv(e,i,yt,o,h),Fa(n)&&function vx(e,n){const i=mr(n,e);16&i[lo]||(i[lo]|=64)}(i,n.index)):3&n.type&&(o=function _x(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),h=null!=J?J(h,n.value||"",o):h,I.setProperty(Re,o,h))}function dv(e,n,i,o){if(od()){const h=null===o?null:{"":-1},I=function Ex(e,n){const i=e.directiveRegistry;let o=null,h=null;if(i)for(let I=0;I<i.length;I++){const J=i[I];if(Kl(n,J.selectors,!1))if(o||(o=[]),wr(J))if(null!==J.findHostDirectiveDefs){const ve=[];h=h||new Map,J.findHostDirectiveDefs(J,ve,h),o.unshift(...ve,J),cv(e,n,ve.length)}else o.unshift(J),cv(e,n,0);else h=h||new Map,J.findHostDirectiveDefs?.(J,o,h),o.push(J)}return null===o?null:[o,h]}(e,i);let J,ve;null===I?J=ve=null:[J,ve]=I,null!==J&&Fb(e,n,i,J,h,ve),h&&function wx(e,n,i){if(n){const o=e.localNames=[];for(let h=0;h<n.length;h+=2){const I=i[n[h+1]];if(null==I)throw new lt(-301,!1);o.push(n[h],I)}}}(i,o,h)}i.mergedAttrs=Bs(i.mergedAttrs,i.attrs)}function Fb(e,n,i,o,h,I){for(let nt=0;nt<o.length;nt++)Fh(_u(i,n),e,o[nt].type);!function xx(e,n,i){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+i,e.providerIndexes=n}(i,e.data.length,o.length);for(let nt=0;nt<o.length;nt++){const yt=o[nt];yt.providersResolver&&yt.providersResolver(yt)}let J=!1,ve=!1,Re=gf(e,n,o.length,null);for(let nt=0;nt<o.length;nt++){const yt=o[nt];i.mergedAttrs=Bs(i.mergedAttrs,yt.hostAttrs),Mx(e,i,n,Re,yt),Lx(Re,yt,h),null!==yt.contentQueries&&(i.flags|=4),(null!==yt.hostBindings||null!==yt.hostAttrs||0!==yt.hostVars)&&(i.flags|=64);const Gt=yt.type.prototype;!J&&(Gt.ngOnChanges||Gt.ngOnInit||Gt.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),J=!0),!ve&&(Gt.ngOnChanges||Gt.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),ve=!0),Re++}!function px(e,n,i){const h=n.directiveEnd,I=e.data,J=n.attrs,ve=[];let Re=null,nt=null;for(let yt=n.directiveStart;yt<h;yt++){const Gt=I[yt],In=i?i.get(Gt):null,Un=In?In.outputs:null;Re=Rb(0,Gt.inputs,yt,Re,In?In.inputs:null),nt=Rb(1,Gt.outputs,yt,nt,Un);const ci=null===Re||null===J||Br(n)?null:Tx(Re,yt,J);ve.push(ci)}null!==Re&&(Re.hasOwnProperty("class")&&(n.flags|=8),Re.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=ve,n.inputs=Re,n.outputs=nt}(e,i,I)}function Bb(e,n,i){const o=i.directiveStart,h=i.directiveEnd,I=i.index,J=function Ci(){return So.lFrame.currentDirectiveIndex}();try{zo(I);for(let ve=o;ve<h;ve++){const Re=e.data[ve],nt=n[ve];Bi(ve),(null!==Re.hostBindings||0!==Re.hostVars||null!==Re.hostAttrs)&&Dx(Re,nt)}}finally{zo(-1),Bi(J)}}function Dx(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function cv(e,n,i){n.componentOffset=i,(e.components??=[]).push(n.index)}function Lx(e,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=e;wr(n)&&(i[""]=e)}}function Mx(e,n,i,o,h){e.data[o]=h;const I=h.factory||(h.factory=Vo(h.type)),J=new Dc(I,wr(h),Yi);e.blueprint[o]=J,i[o]=J,function bx(e,n,i,o,h){const I=h.hostBindings;if(I){let J=e.hostBindingOpCodes;null===J&&(J=e.hostBindingOpCodes=[]);const ve=~n.index;(function yx(e){let n=e.length;for(;n>0;){const i=e[--n];if("number"==typeof i&&i<0)return i}return 0})(J)!=ve&&J.push(ve),J.push(i,o,I)}}(e,n,o,gf(e,i,h.hostVars,Po),h)}function Pl(e,n,i,o,h,I){const J=Xs(e,n);!function uv(e,n,i,o,h,I,J){if(null==I)e.removeAttribute(n,h,i);else{const ve=null==J?Mi(I):J(I,o||"",h);e.setAttribute(n,h,ve,i)}}(n[uo],J,I,e.value,i,o,h)}function Ax(e,n,i,o,h,I){const J=I[n];if(null!==J)for(let ve=0;ve<J.length;)Tb(o,i,J[ve++],J[ve++],J[ve++],J[ve++])}function Tx(e,n,i){let o=null,h=0;for(;h<i.length;){const I=i[h];if(0!==I)if(5!==I){if("number"==typeof I)break;if(e.hasOwnProperty(I)){null===o&&(o=[]);const J=e[I];for(let ve=0;ve<J.length;ve+=3)if(J[ve]===n){o.push(I,J[ve+1],J[ve+2],i[h+1]);break}}h+=2}else h+=2;else h+=4}return o}function Wb(e,n,i,o){return[e,!0,0,n,null,o,null,i,null,null]}function Vb(e,n){const i=e.contentQueries;if(null!==i){const o=b(null);try{for(let h=0;h<i.length;h+=2){const J=i[h+1];if(-1!==J){const ve=e.data[J];Ji(i[h]),ve.contentQueries(2,n[J],J)}}}finally{b(o)}}}function mm(e,n){return e[bl]?e[ac][or]=n:e[bl]=n,e[ac]=n,n}function hv(e,n,i){Ji(0);const o=b(null);try{n(e,i)}finally{b(o)}}function Hb(e){return e[ma]||(e[ma]=[])}function Ub(e){return e.cleanup||(e.cleanup=[])}function pm(e,n){const i=e[xs],o=i?i.get(Mo,null):null;o&&o.handleError(n)}function fv(e,n,i,o,h){for(let I=0;I<i.length;){const J=i[I++],ve=i[I++],Re=i[I++];Tb(e.data[J],n[J],o,ve,Re,h)}}function kx(e,n){const i=mr(n,e),o=i[zi];!function Px(e,n){for(let i=n.length;i<e.blueprint.length;i++)n.push(e.blueprint[i])}(o,i);const h=i[us];null!==h&&null===i[gr]&&(i[gr]=Xh(h,i[xs])),gv(o,i,i[os])}function gv(e,n,i){oo(n);try{const o=e.viewQuery;null!==o&&hv(1,o,i);const h=e.template;null!==h&&kb(e,n,h,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),n[Vr]?.finishViewCreation(e),e.staticContentQueries&&Vb(e,n),e.staticViewQueries&&hv(2,e.viewQuery,i);const I=e.components;null!==I&&function Ox(e,n){for(let i=0;i<n.length;i++)kx(e,n[i])}(n,I)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{n[lo]&=-5,bs()}}function zu(e,n){return!n||null===n.firstChild||Iu(e)}function pf(e,n,i,o=!0){const h=n[zi];if(function wo(e,n,i,o){const h=Cs+o,I=i.length;o>0&&(i[h-1][or]=n),o<I-Cs?(n[or]=i[h],Fr(i,Cs+o,n)):(i.push(n),n[or]=null),n[Ls]=i;const J=n[Xa];null!==J&&i!==J&&function Eo(e,n){const i=e[el];n[Zo]!==n[Ls][Ls][Zo]&&(e[lo]|=lc.HasTransplantedViews),null===i?e[el]=[n]:i.push(n)}(J,n);const ve=n[Vr];null!==ve&&ve.insertView(e),xl(n),n[lo]|=128}(h,n,e,i),o){const J=nv(i,e),ve=n[uo],Re=um(ve,e[Rr]);null!==Re&&function Ai(e,n,i,o,h,I){o[us]=h,o[Ps]=n,fm(e,o,i,1,h,I)}(h,e[Ps],ve,n,Re,J)}const I=n[gr];null!==I&&null!==I.firstChild&&(I.firstChild=null)}function _f(e,n,i,o,h=!1){for(;null!==i;){const I=n[i.index];null!==I&&o.push(es(I)),rr(I)&&Kb(I,o);const J=i.type;if(8&J)_f(e,n,i.child,o);else if(32&J){const ve=Oe(i,n);let Re;for(;Re=ve();)o.push(Re)}else if(16&J){const ve=wb(n,i);if(Array.isArray(ve))o.push(...ve);else{const Re=ia(n[Zo]);_f(Re[zi],Re,ve,o,!0)}}i=h?i.projectionNext:i.next}return o}function Kb(e,n){for(let i=Cs;i<e.length;i++){const o=e[i],h=o[zi].firstChild;null!==h&&_f(o[zi],o,h,n)}e[Rr]!==e[us]&&n.push(e[Rr])}let $b=[];const Bx={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{il(e.lView)},consumerOnSignalRead(){this.lView[pa]=this}},Gb=100;function _m(e,n=!0,i=0){const o=e[Go],h=o.rendererFactory;h.begin?.();try{!function Wx(e,n){pv(e,n);let i=0;for(;id(e);){if(i===Gb)throw new lt(103,!1);i++,pv(e,1)}}(e,i)}catch(J){throw n&&pm(e,J),J}finally{h.end?.(),o.inlineEffectRunner?.flush()}}function Vx(e,n,i,o){const h=n[lo];if(!(256&~h))return;n[Go].inlineEffectRunner?.flush(),oo(n);let J=null,ve=null;(function Hx(e){return 2!==e.type})(e)&&(ve=function Rx(e){return e[pa]??function Nx(e){const n=$b.pop()??Object.create(Bx);return n.lView=e,n}(e)}(n),J=function m(e){return e&&(e.nextProducerIndex=0),b(e)}(ve));try{Lh(n),function Dn(e){return So.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&kb(e,n,i,2,o);const Re=!(3&~h);if(Re){const Gt=e.preOrderCheckHooks;null!==Gt&&Sc(n,Gt,null)}else{const Gt=e.preOrderHooks;null!==Gt&&Id(n,Gt,0,null),Ad(n,0)}if(function Ux(e){for(let n=Rg(e);null!==n;n=Ng(n)){if(!(n[lo]&lc.HasTransplantedViews))continue;const i=n[el];for(let o=0;o<i.length;o++){xh(i[o])}}}(n),Qb(n,0),null!==e.contentQueries&&Vb(e,n),Re){const Gt=e.contentCheckHooks;null!==Gt&&Sc(n,Gt)}else{const Gt=e.contentHooks;null!==Gt&&Id(n,Gt,1),Ad(n,1)}!function lx(e,n){const i=e.hostBindingOpCodes;if(null!==i)try{for(let o=0;o<i.length;o++){const h=i[o];if(h<0)zo(~h);else{const I=h,J=i[++o],ve=i[++o];si(J,I),ve(2,n[I])}}}finally{zo(-1)}}(e,n);const nt=e.components;null!==nt&&Zb(n,nt,0);const yt=e.viewQuery;if(null!==yt&&hv(2,yt,o),Re){const Gt=e.viewCheckHooks;null!==Gt&&Sc(n,Gt)}else{const Gt=e.viewHooks;null!==Gt&&Id(n,Gt,2),Ad(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[yl]){for(const Gt of n[yl])Gt();n[yl]=null}n[lo]&=-73}catch(Re){throw il(n),Re}finally{null!==ve&&(function T(e,n){if(b(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(H(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)N(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(ve,J),function Fx(e){e.lView[pa]!==e&&(e.lView=null,$b.push(e))}(ve)),bs()}}function Qb(e,n){for(let i=Rg(e);null!==i;i=Ng(i))for(let o=Cs;o<i.length;o++)Yb(i[o],n)}function jx(e,n,i){Yb(mr(n,e),i)}function Yb(e,n){Md(e)&&pv(e,n)}function pv(e,n){const o=e[zi],h=e[lo],I=e[pa];let J=!!(0===n&&16&h);if(J||=!!(64&h&&0===n),J||=!!(1024&h),J||=!(!I?.dirty||!A(I)),I&&(I.dirty=!1),e[lo]&=-9217,J)Vx(o,e,o.template,e[os]);else if(8192&h){Qb(e,1);const ve=o.components;null!==ve&&Zb(e,ve,1)}}function Zb(e,n,i){for(let o=0;o<n.length;o++)jx(e,n[o],i)}function vf(e){for(e[Go].changeDetectionScheduler?.notify();e;){e[lo]|=64;const n=ia(e);if(va(e)&&!n)return e;e=n}return null}class Cf{get rootNodes(){const n=this._lView,i=n[zi];return _f(i,n,i.firstChild,[])}constructor(n,i,o=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[os]}set context(n){this._lView[os]=n}get destroyed(){return!(256&~this._lView[lo])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Ls];if(rr(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(eo(n,o),is(i,o))}this._attachedToViewContainer=!1}Io(this._lView[zi],this._lView)}onDestroy(n){Lr(this._lView,n)}markForCheck(){vf(this._cdRefInjectingView||this._lView)}detach(){this._lView[lo]&=-129}reattach(){xl(this._lView),this._lView[lo]|=128}detectChanges(){this._lView[lo]|=1024,_m(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new lt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,to(this._lView[zi],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new lt(902,!1);this._appRef=n,xl(this._lView)}}let fd=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=$x}return e})();const zx=fd,Kx=class extends zx{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const h=function mf(e,n,i,o){const h=b(null);try{const I=n.tView,Re=gm(e,I,i,4096&e[lo]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);Re[Xa]=e[n.index];const yt=e[Vr];return null!==yt&&(Re[Vr]=yt.createEmbeddedView(I)),gv(I,Re,i),Re}finally{b(h)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:o});return new Cf(h)}};function $x(){return vm(E(),bi())}function vm(e,n){return 4&e.type?new Kx(n,e,lr(e,n)):null}class Sv{}class pM{}class i1{}class vM{resolveComponentFactory(n){throw function _M(e){const n=Error(`No component factory found for ${un(e)}.`);return n.ngComponent=e,n}(n)}}let Dm=(()=>{class e{static#e=this.NULL=new vM}return e})();class s1{}let Uc=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function CM(){const e=bi(),i=mr(E().index,e);return(sr(i)?i:e)[uo]}()}return e})(),bM=(()=>{class e{static#e=this.\u0275prov=ai({token:e,providedIn:"root",factory:()=>null})}return e})();const Dv={};function a1(...e){}class Rs{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xr(!1),this.onMicrotaskEmpty=new xr(!1),this.onStable=new xr(!1),this.onError=new xr(!1),typeof Zone>"u")throw new lt(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!o&&i,h.shouldCoalesceRunChangeDetection=o,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function yM(){const e="function"==typeof ct.requestAnimationFrame;let n=ct[e?"requestAnimationFrame":"setTimeout"],i=ct[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const h=i[Zone.__symbol__("OriginalDelegate")];h&&(i=h)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function EM(e){const n=()=>{!function DM(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ct,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,wv(e),e.isCheckStableRunning=!0,Ev(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),wv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,h,I,J,ve)=>{if(function wM(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(ve))return i.invokeTask(h,I,J,ve);try{return l1(e),i.invokeTask(h,I,J,ve)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===I.type||e.shouldCoalesceRunChangeDetection)&&n(),d1(e)}},onInvoke:(i,o,h,I,J,ve,Re)=>{try{return l1(e),i.invoke(h,I,J,ve,Re)}finally{e.shouldCoalesceRunChangeDetection&&n(),d1(e)}},onHasTask:(i,o,h,I)=>{i.hasTask(h,I),o===h&&("microTask"==I.change?(e._hasPendingMicrotasks=I.microTask,wv(e),Ev(e)):"macroTask"==I.change&&(e.hasPendingMacrotasks=I.macroTask))},onHandleError:(i,o,h,I)=>(i.handleError(h,I),e.runOutsideAngular(()=>e.onError.emit(I)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rs.isInAngularZone())throw new lt(909,!1)}static assertNotInAngularZone(){if(Rs.isInAngularZone())throw new lt(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,h){const I=this._inner,J=I.scheduleEventTask("NgZoneEvent: "+h,n,SM,a1,a1);try{return I.runTask(J,i,o)}finally{I.cancelTask(J)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const SM={};function Ev(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function wv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function l1(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function d1(e){e._nesting--,Ev(e)}class c1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xr,this.onMicrotaskEmpty=new xr,this.onStable=new xr,this.onError=new xr}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,h){return n.apply(i,o)}}let Ef=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const o of i)o()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=ai({token:e,providedIn:"root",factory:()=>new e})}return e})();function wm(e,n,i){let o=i?e.styles:null,h=i?e.classes:null,I=0;if(null!==n)for(let J=0;J<n.length;J++){const ve=n[J];"number"==typeof ve?I=ve:1==I?h=Wn(h,ve):2==I&&(o=Wn(o,ve+": "+n[++J]+";"))}i?e.styles=o:e.stylesWithoutHost=o,i?e.classes=h:e.classesWithoutHost=h}class p1 extends Dm{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=_o(n);return new xf(i,this.ngModule)}}function _1(e){const n=[];for(const i in e){if(!e.hasOwnProperty(i))continue;const o=e[i];void 0!==o&&n.push({propName:Array.isArray(o)?o[0]:o,templateName:i})}return n}class Lm{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=ki(o);const h=this.injector.get(n,Dv,o);return h!==Dv||i===Dv?h:this.parentInjector.get(n,i,o)}}class xf extends i1{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=_1(n.inputs);if(null!==i)for(const h of o)i.hasOwnProperty(h.propName)&&(h.transform=i[h.propName]);return o}get outputs(){return _1(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Cr(e){return e.map(hr).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,h){const I=b(null);try{let J=(h=h||this.ngModule)instanceof kr?h:h?.injector;J&&null!==this.componentDef.getStandaloneInjector&&(J=this.componentDef.getStandaloneInjector(J)||J);const ve=J?new Lm(n,J):n,Re=ve.get(s1,null);if(null===Re)throw new lt(407,!1);const nt=ve.get(bM,null),In={rendererFactory:Re,sanitizer:nt,inlineEffectRunner:null,afterRenderEventManager:ve.get(Ef,null),changeDetectionScheduler:ve.get(Sv,null)},Tn=Re.createRenderer(null,this.componentDef),Un=this.componentDef.selectors[0][0]||"div",ci=o?function cx(e,n,i,o){const I=o.get(Xg,!1)||i===Ys.ShadowDom,J=e.selectRootElement(n,I);return function ux(e){Ob(e)}(J),J}(Tn,o,this.componentDef.encapsulation,ve):ti(Tn,Un,function TM(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Un));let Ei=512;this.componentDef.signals?Ei|=4096:this.componentDef.onPush||(Ei|=16);let Hi=null;null!==ci&&(Hi=Xh(ci,ve,!0));const Di=lv(0,null,null,1,0,null,null,null,null,null,null),po=gm(null,Di,null,Ei,null,null,In,Tn,ve,null,Hi);let Ro,Xo;oo(po);try{const Us=this.componentDef;let da,Ch=null;Us.findHostDirectiveDefs?(da=[],Ch=new Map,Us.findHostDirectiveDefs(Us,da,Ch),da.push(Us)):da=[Us];const OL=function PM(e,n){const i=e[zi],o=yo;return e[o]=n,ju(i,o,2,"#host",null)}(po,ci),k5=function OM(e,n,i,o,h,I,J){const ve=h[zi];!function RM(e,n,i,o){for(const h of e)n.mergedAttrs=Bs(n.mergedAttrs,h.hostAttrs);null!==n.mergedAttrs&&(wm(n,n.mergedAttrs,!0),null!==i&&Ib(o,i,n))}(o,e,n,J);let Re=null;null!==n&&(Re=Xh(n,h[xs]));const nt=I.rendererFactory.createRenderer(n,i);let yt=16;i.signals?yt=4096:i.onPush&&(yt=64);const Gt=gm(h,Pb(i),null,yt,h[e.index],e,I,nt,null,null,Re);return ve.firstCreatePass&&cv(ve,e,o.length-1),mm(h,Gt),h[e.index]=Gt}(OL,ci,Us,da,po,In,Tn);Xo=Ca(Di,yo),ci&&function FM(e,n,i,o){if(o)Ir(e,i,["ng-version","17.3.12"]);else{const{attrs:h,classes:I}=function br(e){const n=[],i=[];let o=1,h=2;for(;o<e.length;){let I=e[o];if("string"==typeof I)2===h?""!==I&&n.push(I,e[++o]):8===h&&i.push(I);else{if(!zs(h))break;h=I}o++}return{attrs:n,classes:i}}(n.selectors[0]);h&&Ir(e,i,h),I&&I.length>0&&Mb(e,i,I.join(" "))}}(Tn,Us,ci,o),void 0!==i&&function BM(e,n,i){const o=e.projection=[];for(let h=0;h<n.length;h++){const I=i[h];o.push(null!=I?Array.from(I):null)}}(Xo,this.ngContentSelectors,i),Ro=function NM(e,n,i,o,h,I){const J=E(),ve=h[zi],Re=Xs(J,h);Fb(ve,h,J,i,null,o);for(let yt=0;yt<i.length;yt++)Dr(ld(h,ve,J.directiveStart+yt,J),h);Bb(ve,h,J),Re&&Dr(Re,h);const nt=ld(h,ve,J.directiveStart+J.componentOffset,J);if(e[os]=h[os]=nt,null!==I)for(const yt of I)yt(nt,n);return sv(ve,J,h),nt}(k5,Us,da,Ch,po,[WM]),gv(Di,po,null)}finally{bs()}return new kM(this.componentType,Ro,lr(Xo,po),po,Xo)}finally{b(I)}}}class kM extends pM{constructor(n,i,o,h,I){super(),this.location=o,this._rootLView=h,this._tNode=I,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Cf(h,void 0,!1),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let h;if(null!==o&&(h=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const I=this._rootLView;fv(I[zi],I,h,n,i),this.previousInputValues.set(n,i),vf(mr(this._tNode.index,I))}}get injector(){return new qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function WM(){const e=E();mu(bi()[zi],e)}let Rl=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=VM}return e})();function VM(){return b1(E(),bi())}const HM=Rl,v1=class extends HM{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return lr(this._hostTNode,this._hostLView)}get injector(){return new qs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Js(this._hostTNode,this._hostLView);if(Oh(n)){const i=ad(n,this._hostLView),o=Lc(n);return new qs(i[zi].data[o+8],i)}return new qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=C1(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Cs}createEmbeddedView(n,i,o){let h,I;"number"==typeof o?h=o:null!=o&&(h=o.index,I=o.injector);const ve=n.createEmbeddedViewImpl(i||{},I,null);return this.insertImpl(ve,h,zu(this._hostTNode,null)),ve}createComponent(n,i,o,h,I){const J=n&&!function Za(e){return"function"==typeof e}(n);let ve;if(J)ve=i;else{const Un=i||{};ve=Un.index,o=Un.injector,h=Un.projectableNodes,I=Un.environmentInjector||Un.ngModuleRef}const Re=J?n:new xf(_o(n)),nt=o||this.parentInjector;if(!I&&null==Re.ngModule){const ci=(J?nt:this.parentInjector).get(kr,null);ci&&(I=ci)}_o(Re.componentType??{});const Tn=Re.create(nt,h,null,I);return this.insertImpl(Tn.hostView,ve,zu(this._hostTNode,null)),Tn}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,o){const h=n._lView;if(function nd(e){return rr(e[Ls])}(h)){const ve=this.indexOf(n);if(-1!==ve)this.detach(ve);else{const Re=h[Ls],nt=new v1(Re,Re[Ps],Re[Ls]);nt.detach(nt.indexOf(n))}}const I=this._adjustIndex(i),J=this._lContainer;return pf(J,h,I,o),n.attachToViewContainerRef(),Fr(Iv(J),I,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=C1(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=eo(this._lContainer,i);o&&(is(Iv(this._lContainer),i),Io(o[zi],o))}detach(n){const i=this._adjustIndex(n,-1),o=eo(this._lContainer,i);return o&&null!=is(Iv(this._lContainer),i)?new Cf(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function C1(e){return e[8]}function Iv(e){return e[8]||(e[8]=[])}function b1(e,n){let i;const o=n[e.index];return rr(o)?i=o:(i=Wb(o,n,null,e),n[e.index]=i,mm(n,i)),y1(i,n,e,o),new v1(i,e,n)}let y1=function D1(e,n,i,o){if(e[Rr])return;let h;h=8&i.type?es(o):function UM(e,n){const i=e[uo],o=i.createComment(""),h=Xs(n,e);return vs(i,um(i,h),o,function nx(e,n){return e.nextSibling(n)}(i,h),!1),o}(n,i),e[Rr]=h},Av=()=>!1;class Tv{constructor(n){this.queryList=n,this.matches=null}clone(){return new Tv(this.queryList)}setDirty(){this.queryList.setDirty()}}class kv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,h=[];for(let I=0;I<o;I++){const J=i.getByIndex(I);h.push(this.queries[J.indexInDeclarationView].clone())}return new kv(h)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==Fv(n,i).matches&&this.queries[i].setDirty()}}class E1{constructor(n,i,o=null){this.flags=i,this.read=o,this.predicate="string"==typeof n?function ZM(e){return e.split(",").map(n=>n.trim())}(n):n}}class Pv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const h=null!==i?i.length:0,I=this.getByIndex(o).embeddedTView(n,h);I&&(I.indexInDeclarationView=o,null!==i?i.push(I):i=[I])}return null!==i?new Pv(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ov{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Ov(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let h=0;h<o.length;h++){const I=o[h];this.matchTNodeWithReadOption(n,i,$M(i,I)),this.matchTNodeWithReadOption(n,i,Cu(i,n,I,!1,!1))}else o===fd?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Cu(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const h=this.metadata.read;if(null!==h)if(h===Sa||h===Rl||h===fd&&4&i.type)this.addMatch(i.index,-2);else{const I=Cu(i,n,h,!1,!1);null!==I&&this.addMatch(i.index,I)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function $M(e,n){const i=e.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function QM(e,n,i,o){return-1===i?function GM(e,n){return 11&e.type?lr(e,n):4&e.type?vm(e,n):null}(n,e):-2===i?function YM(e,n,i){return i===Sa?lr(n,e):i===fd?vm(n,e):i===Rl?b1(n,e):void 0}(e,n,o):ld(e,e[zi],i,n)}function w1(e,n,i,o){const h=n[Vr].queries[o];if(null===h.matches){const I=e.data,J=i.matches,ve=[];for(let Re=0;null!==J&&Re<J.length;Re+=2){const nt=J[Re];ve.push(nt<0?null:QM(n,I[nt],J[Re+1],i.metadata.read))}h.matches=ve}return h.matches}function Rv(e,n,i,o){const h=e.queries.getByIndex(i),I=h.matches;if(null!==I){const J=w1(e,n,h,i);for(let ve=0;ve<I.length;ve+=2){const Re=I[ve];if(Re>0)o.push(J[ve/2]);else{const nt=I[ve+1],yt=n[-Re];for(let Gt=Cs;Gt<yt.length;Gt++){const In=yt[Gt];In[Xa]===In[Ls]&&Rv(In[zi],In,nt,o)}if(null!==yt[el]){const Gt=yt[el];for(let In=0;In<Gt.length;In++){const Tn=Gt[In];Rv(Tn[zi],Tn,nt,o)}}}}}return o}function x1(e,n,i){const o=Lt();return o.firstCreatePass&&(function I1(e,n,i){null===e.queries&&(e.queries=new Pv),e.queries.track(new Ov(n,i))}(o,new E1(e,n,i),-1),!(2&~n)&&(o.staticViewQueries=!0)),function L1(e,n,i){const o=new Hh(!(4&~i));return function gx(e,n,i,o){const h=Hb(n);h.push(i),e.firstCreatePass&&Ub(e).push(o,h.length-1)}(e,n,o,o.destroy),(n[Vr]??=new kv).queries.push(new Tv(o))-1}(o,bi(),n)}function Fv(e,n){return e.queries.getByIndex(n)}function A1(e,n){const i=e[zi],o=Fv(i,n);return o.crossesNgTemplate?Rv(i,e,n,[]):w1(i,e,o,n)}function ps(e){let n=function z1(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const o=[e];for(;n;){let h;if(wr(e))h=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new lt(903,!1);h=n.\u0275dir}if(h){if(i){o.push(h);const J=e;J.inputs=Mm(e.inputs),J.inputTransforms=Mm(e.inputTransforms),J.declaredInputs=Mm(e.declaredInputs),J.outputs=Mm(e.outputs);const ve=h.hostBindings;ve&&hI(e,ve);const Re=h.viewQuery,nt=h.contentQueries;if(Re&&cI(e,Re),nt&&uI(e,nt),lI(e,h),Jt(e.outputs,h.outputs),wr(h)&&h.data.animation){const yt=e.data;yt.animation=(yt.animation||[]).concat(h.data.animation)}}const I=h.features;if(I)for(let J=0;J<I.length;J++){const ve=I[J];ve&&ve.ngInherit&&ve(e),ve===ps&&(i=!1)}}n=Object.getPrototypeOf(n)}!function dI(e){let n=0,i=null;for(let o=e.length-1;o>=0;o--){const h=e[o];h.hostVars=n+=h.hostVars,h.hostAttrs=Bs(h.hostAttrs,i=Bs(i,h.hostAttrs))}}(o)}function lI(e,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;const o=n.inputs[i];if(void 0!==o&&(e.inputs[i]=o,e.declaredInputs[i]=n.declaredInputs[i],null!==n.inputTransforms)){const h=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(h))continue;e.inputTransforms??={},e.inputTransforms[h]=n.inputTransforms[h]}}}function Mm(e){return e===Qs?{}:e===Oo?[]:e}function cI(e,n){const i=e.viewQuery;e.viewQuery=i?(o,h)=>{n(o,h),i(o,h)}:n}function uI(e,n){const i=e.contentQueries;e.contentQueries=i?(o,h,I)=>{n(o,h,I),i(o,h,I)}:n}function hI(e,n){const i=e.hostBindings;e.hostBindings=i?(o,h)=>{n(o,h),i(o,h)}:n}class Kc{}class CI{}class Wv extends Kc{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new p1(this);const h=function Ns(e,n){const i=e[Fi]||null;if(!i&&!0===n)throw new Error(`Type ${un(e)} does not have '\u0275mod' property.`);return i}(n);this._bootstrapComponents=function sa(e){return e instanceof Function?e():e}(h.bootstrap),this._r3Injector=Cg(n,i,[{provide:Kc,useValue:this},{provide:Dm,useValue:this.componentFactoryResolver},...o],un(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Vv extends CI{constructor(n){super(),this.moduleType=n}create(n){return new Wv(this.moduleType,n,[])}}let If=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new st(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Am(e){return!!function Hv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function er(e,n,i){return!Object.is(e[n],i)&&(e[n]=i,!0)}function gd(e,n,i,o,h,I,J,ve){const Re=bi(),nt=Lt(),yt=e+yo,Gt=nt.firstCreatePass?function xI(e,n,i,o,h,I,J,ve,Re){const nt=n.consts,yt=ju(n,e,4,J||null,ar(nt,ve));dv(n,i,yt,ar(nt,Re)),mu(n,yt);const Gt=yt.tView=lv(2,yt,o,h,I,n.directiveRegistry,n.pipeRegistry,null,n.schemas,nt,null);return null!==n.queries&&(n.queries.template(n,yt),Gt.queries=n.queries.embeddedTView(yt)),yt}(yt,nt,Re,n,i,o,h,I,J):nt.data[yt];Ae(Gt,!1);const In=Z1(nt,Re,Gt,e);sd()&&hm(nt,Re,In,Gt),Dr(In,Re);const Tn=Wb(In,Re,In,Gt);return Re[yt]=Tn,mm(Re,Tn),function S1(e,n,i){return Av(e,n,i)}(Tn,Gt,Re),Ur(Gt)&&rv(nt,Re,Gt),null!=J&&av(Re,Gt,ve),gd}let Z1=function X1(e,n,i,o){return oa(!0),n[uo].createComment("")};function Fl(e,n,i,o){const h=bi();return er(h,Ln(),n)&&(Lt(),Pl(bo(),h,e,n,i,o)),Fl}function eh(e,n,i,o){return er(e,Ln(),i)?n+Mi(i)+o:Po}function th(e,n,i,o,h,I){const ve=function $c(e,n,i,o){const h=er(e,n,i);return er(e,n+1,o)||h}(e,function rn(){return So.lFrame.bindingIndex}(),i,h);return Fn(2),ve?n+Mi(i)+o+Mi(h)+I:Po}function Fm(e,n){return e<<17|n<<2}function $d(e){return e>>17&32767}function Xv(e){return 2|e}function Qc(e){return(131068&e)>>2}function Jv(e,n){return-131069&e|n<<2}function qv(e){return 1|e}function My(e,n,i,o){const h=e[i+1],I=null===n;let J=o?$d(h):Qc(h),ve=!1;for(;0!==J&&(!1===ve||I);){const nt=e[J+1];fA(e[J],n)&&(ve=!0,e[J+1]=o?qv(nt):Xv(nt)),J=o?$d(nt):Qc(nt)}ve&&(e[i+1]=o?Xv(h):qv(h))}function fA(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ds(e,n)>=0}const _r={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Iy(e){return e.substring(_r.key,_r.keyEnd)}function Ay(e,n){const i=_r.textEnd;return i===n?-1:(n=_r.keyEnd=function _A(e,n,i){for(;n<i&&e.charCodeAt(n)>32;)n++;return n}(e,_r.key=n,i),lh(e,n,i))}function lh(e,n,i){for(;n<i&&e.charCodeAt(n)<=32;)n++;return n}function aa(e,n,i){const o=bi();return er(o,Ln(),n)&&ra(Lt(),bo(),o,e,n,o[uo],i,!1),aa}function e0(e,n,i,o,h){const J=h?"class":"style";fv(e,i,n.inputs[J],J,o)}function dh(e,n,i){return dl(e,n,i,!1),dh}function md(e,n){return dl(e,n,null,!0),md}function Wl(e,n){for(let i=function mA(e){return function ky(e){_r.key=0,_r.keyEnd=0,_r.value=0,_r.valueEnd=0,_r.textEnd=e.length}(e),Ay(e,lh(e,0,_r.textEnd))}(n);i>=0;i=Ay(n,i))ls(e,Iy(n),!0)}function dl(e,n,i,o){const h=bi(),I=Lt(),J=Fn(2);I.firstUpdatePass&&Ny(I,e,J,o),n!==Po&&er(h,J,n)&&By(I,I.data[jo()],h,h[uo],e,h[J+1]=function IA(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=un(ll(e)))),e}(n,i),o,J)}function Ry(e,n){return n>=e.expandoStartIndex}function Ny(e,n,i,o){const h=e.data;if(null===h[i+1]){const I=h[jo()],J=Ry(e,i);Vy(I,o)&&null===n&&!J&&(n=!1),n=function SA(e,n,i,o){const h=function Oi(e){const n=So.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let I=o?n.residualClasses:n.residualStyles;if(null===h)0===(o?n.classBindings:n.styleBindings)&&(i=Rf(i=t0(null,e,n,i,o),n.attrs,o),I=null);else{const J=n.directiveStylingLast;if(-1===J||e[J]!==h)if(i=t0(h,e,n,i,o),null===I){let Re=function DA(e,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==Qc(o))return e[$d(o)]}(e,n,o);void 0!==Re&&Array.isArray(Re)&&(Re=t0(null,e,n,Re[1],o),Re=Rf(Re,n.attrs,o),function EA(e,n,i,o){e[$d(i?n.classBindings:n.styleBindings)]=o}(e,n,o,Re))}else I=function wA(e,n,i){let o;const h=n.directiveEnd;for(let I=1+n.directiveStylingLast;I<h;I++)o=Rf(o,e[I].hostAttrs,i);return Rf(o,n.attrs,i)}(e,n,o)}return void 0!==I&&(o?n.residualClasses=I:n.residualStyles=I),i}(h,I,n,o),function uA(e,n,i,o,h,I){let J=I?n.classBindings:n.styleBindings,ve=$d(J),Re=Qc(J);e[o]=i;let yt,nt=!1;if(Array.isArray(i)?(yt=i[1],(null===yt||Ds(i,yt)>0)&&(nt=!0)):yt=i,h)if(0!==Re){const In=$d(e[ve+1]);e[o+1]=Fm(In,ve),0!==In&&(e[In+1]=Jv(e[In+1],o)),e[ve+1]=function dA(e,n){return 131071&e|n<<17}(e[ve+1],o)}else e[o+1]=Fm(ve,0),0!==ve&&(e[ve+1]=Jv(e[ve+1],o)),ve=o;else e[o+1]=Fm(Re,0),0===ve?ve=o:e[Re+1]=Jv(e[Re+1],o),Re=o;nt&&(e[o+1]=Xv(e[o+1])),My(e,yt,o,!0),My(e,yt,o,!1),function hA(e,n,i,o,h){const I=h?e.residualClasses:e.residualStyles;null!=I&&"string"==typeof n&&Ds(I,n)>=0&&(i[o+1]=qv(i[o+1]))}(n,yt,e,o,I),J=Fm(ve,Re),I?n.classBindings=J:n.styleBindings=J}(h,I,n,i,J,o)}}function t0(e,n,i,o,h){let I=null;const J=i.directiveEnd;let ve=i.directiveStylingLast;for(-1===ve?ve=i.directiveStart:ve++;ve<J&&(I=n[ve],o=Rf(o,I.hostAttrs,h),I!==e);)ve++;return null!==e&&(i.directiveStylingLast=ve),o}function Rf(e,n,i){const o=i?1:2;let h=-1;if(null!==n)for(let I=0;I<n.length;I++){const J=n[I];"number"==typeof J?h=J:h===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ls(e,J,!!i||n[++I]))}return void 0===e?null:e}function By(e,n,i,o,h,I,J,ve){if(!(3&n.type))return;const Re=e.data,nt=Re[ve+1],yt=function cA(e){return!(1&~e)}(nt)?Wy(Re,n,i,h,Qc(nt),J):void 0;Bm(yt)||(Bm(I)||function lA(e){return!(2&~e)}(nt)&&(I=Wy(Re,null,i,h,ve,J)),function sx(e,n,i,o,h){if(n)h?e.addClass(i,o):e.removeClass(i,o);else{let I=-1===o.indexOf("-")?void 0:he.DashCase;null==h?e.removeStyle(i,o,I):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),I|=he.Important),e.setStyle(i,o,h,I))}}(o,J,Kr(jo(),i),h,I))}function Wy(e,n,i,o,h,I){const J=null===n;let ve;for(;h>0;){const Re=e[h],nt=Array.isArray(Re),yt=nt?Re[1]:Re,Gt=null===yt;let In=i[h+1];In===Po&&(In=Gt?Oo:void 0);let Tn=Gt?Gs(In,o):yt===o?In:void 0;if(nt&&!Bm(Tn)&&(Tn=Gs(Re,o)),Bm(Tn)&&(ve=Tn,J))return ve;const Un=e[h+1];h=J?$d(Un):Qc(Un)}if(null!==n){let Re=I?n.residualClasses:n.residualStyles;null!=Re&&(ve=Gs(Re,o))}return ve}function Bm(e){return void 0!==e}function Vy(e,n){return!!(e.flags&(n?8:16))}function Hy(e,n,i){!function cl(e,n,i,o){const h=Lt(),I=Fn(2);h.firstUpdatePass&&Ny(h,null,I,o);const J=bi();if(i!==Po&&er(J,I,i)){const ve=h.data[jo()];if(Vy(ve,o)&&!Ry(h,I)){let Re=o?ve.classesWithoutHost:ve.stylesWithoutHost;null!==Re&&(i=Wn(Re,i||"")),e0(h,ve,J,i,o)}else!function MA(e,n,i,o,h,I,J,ve){h===Po&&(h=Oo);let Re=0,nt=0,yt=0<h.length?h[0]:null,Gt=0<I.length?I[0]:null;for(;null!==yt||null!==Gt;){const In=Re<h.length?h[Re+1]:void 0,Tn=nt<I.length?I[nt+1]:void 0;let ci,Un=null;yt===Gt?(Re+=2,nt+=2,In!==Tn&&(Un=Gt,ci=Tn)):null===Gt||null!==yt&&yt<Gt?(Re+=2,Un=yt):(nt+=2,Un=Gt,ci=Tn),null!==Un&&By(e,n,i,o,Un,ci,J,ve),yt=Re<h.length?h[Re]:null,Gt=nt<I.length?I[nt]:null}}(h,ve,J,J[uo],J[I+1],J[I+1]=function LA(e,n,i){if(null==i||""===i)return Oo;const o=[],h=ll(i);if(Array.isArray(h))for(let I=0;I<h.length;I++)e(o,h[I],!0);else if("object"==typeof h)for(const I in h)h.hasOwnProperty(I)&&e(o,I,h[I]);else"string"==typeof h&&n(o,h);return o}(e,n,i),o,I)}}(ls,Wl,eh(bi(),e,n,i),!0)}function ss(e,n,i,o){const h=bi(),I=Lt(),J=yo+e,ve=h[uo],Re=I.firstCreatePass?function XA(e,n,i,o,h,I){const J=n.consts,Re=ju(n,e,2,o,ar(J,h));return dv(n,i,Re,ar(J,I)),null!==Re.attrs&&wm(Re,Re.attrs,!1),null!==Re.mergedAttrs&&wm(Re,Re.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,Re),Re}(J,I,h,n,i,o):I.data[J],nt=Ky(I,h,Re,ve,n,e);h[J]=nt;const yt=Ur(Re);return Ae(Re,!0),Ib(ve,nt,Re),!function Tf(e){return!(32&~e.flags)}(Re)&&sd()&&hm(I,h,nt,Re),0===function Vs(){return So.lFrame.elementDepthCount}()&&Dr(nt,h),function Mh(){So.lFrame.elementDepthCount++}(),yt&&(rv(I,h,Re),sv(I,Re,h)),null!==o&&av(h,Re),ss}function ys(){let e=E();Be()?function et(){So.lFrame.isParent=!1}():(e=e.parent,Ae(e,!1));const n=e;(function ug(e){return So.skipHydrationRootTNode===e})(n)&&function Th(){So.skipHydrationRootTNode=null}(),function Ih(){So.lFrame.elementDepthCount--}();const i=Lt();return i.firstCreatePass&&(mu(i,e),Na(e)&&i.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Wp(e){return!!(8&e.flags)}(n)&&e0(i,n,bi(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Vp(e){return!!(16&e.flags)}(n)&&e0(i,n,bi(),n.stylesWithoutHost,!1),ys}function Gd(e,n,i,o){return ss(e,n,i,o),ys(),Gd}let Ky=(e,n,i,o,h,I)=>(oa(!0),ti(o,h,function $r(){return So.lFrame.currentNamespace}()));function Nf(){return bi()}const uh="en-US";let Jy=uh;function qo(e,n,i,o){const h=bi(),I=Lt(),J=E();return function u0(e,n,i,o,h,I,J){const ve=Ur(o),nt=e.firstCreatePass&&Ub(e),yt=n[os],Gt=Hb(n);let In=!0;if(3&o.type||J){const ci=Xs(o,n),Ei=J?J(ci):ci,Hi=Gt.length,Di=J?Ro=>J(es(Ro[o.index])):o.index;let po=null;if(!J&&ve&&(po=function tk(e,n,i,o){const h=e.cleanup;if(null!=h)for(let I=0;I<h.length-1;I+=2){const J=h[I];if(J===i&&h[I+1]===o){const ve=n[ma],Re=h[I+2];return ve.length>Re?ve[Re]:null}"string"==typeof J&&(I+=2)}return null}(e,n,h,o.index)),null!==po)(po.__ngLastListenerFn__||po).__ngNextListenerFn__=I,po.__ngLastListenerFn__=I,In=!1;else{I=LS(o,n,yt,I,!1);const Ro=i.listen(Ei,h,I);Gt.push(I,Ro),nt&&nt.push(h,Di,Hi,Hi+1)}}else I=LS(o,n,yt,I,!1);const Tn=o.outputs;let Un;if(In&&null!==Tn&&(Un=Tn[h])){const ci=Un.length;if(ci)for(let Ei=0;Ei<ci;Ei+=2){const Xo=n[Un[Ei]][Un[Ei+1]].subscribe(I),Us=Gt.length;Gt.push(I,Xo),nt&&nt.push(h,o.index,Us,-(Us+1))}}}(I,h,h[uo],J,e,n,o),qo}function wS(e,n,i,o){const h=b(null);try{return zr(6,n,i),!1!==i(o)}catch(I){return pm(e,I),!1}finally{zr(7,n,i),b(h)}}function LS(e,n,i,o,h){return function I(J){if(J===Function)return o;vf(e.componentOffset>-1?mr(e.index,n):n);let Re=wS(n,i,o,J),nt=I.__ngNextListenerFn__;for(;nt;)Re=wS(n,i,nt,J)&&Re,nt=nt.__ngNextListenerFn__;return h&&!1===Re&&J.preventDefault(),Re}}function Yo(e=1){return function Ms(e){return(So.lFrame.contextLView=function Cc(e,n){for(;e>0;)n=n[Wr],e--;return n}(e,So.lFrame.contextLView))[os]}(e)}function Ua(e,n,i){return ul(e,"",n,"",i),Ua}function ul(e,n,i,o,h){const I=bi(),J=eh(I,n,i,o);return J!==Po&&ra(Lt(),bo(),I,e,J,I[uo],h,!1),ul}function h0(e,n,i,o,h,I,J){const ve=bi(),Re=th(ve,n,i,o,h,I);return Re!==Po&&ra(Lt(),bo(),ve,e,Re,ve[uo],J,!1),h0}function NS(){return function Nv(e,n){return e[Vr].queries[n].queryList}(bi(),Xi())}function Yr(e,n=""){const i=bi(),o=Lt(),h=e+yo,I=o.firstCreatePass?ju(o,h,1,n,null):o.data[h],J=$S(o,i,I,n,e);i[h]=J,sd()&&hm(o,i,J,I),Ae(I,!1)}let $S=(e,n,i,o,h)=>(oa(!0),function jt(e,n){return e.createText(n)}(n[uo],o));function hh(e){return jm("",e,""),hh}function jm(e,n,i){const o=bi(),h=eh(o,e,n,i);return h!==Po&&function hd(e,n,i){const o=Kr(n,e);!function ln(e,n,i){e.setValue(n,i)}(e[uo],o,i)}(o,jo(),h),jm}function f0(e,n,i,o,h){if(e=gn(e),Array.isArray(e))for(let I=0;I<e.length;I++)f0(e[I],n,i,o,h);else{const I=Lt(),J=bi(),ve=E();let Re=Aa(e)?e:gn(e.provide);const nt=ou(e),yt=1048575&ve.providerIndexes,Gt=ve.directiveStart,In=ve.providerIndexes>>20;if(Aa(e)||!e.multi){const Tn=new Dc(nt,h,Yi),Un=m0(Re,n,h?yt:yt+In,Gt);-1===Un?(Fh(_u(ve,J),I,Re),g0(I,e,n.length),n.push(Re),ve.directiveStart++,ve.directiveEnd++,h&&(ve.providerIndexes+=1048576),i.push(Tn),J.push(Tn)):(i[Un]=Tn,J[Un]=Tn)}else{const Tn=m0(Re,n,yt+In,Gt),Un=m0(Re,n,yt,yt+In),Ei=Un>=0&&i[Un];if(h&&!Ei||!h&&!(Tn>=0&&i[Tn])){Fh(_u(ve,J),I,Re);const Hi=function Lk(e,n,i,o,h){const I=new Dc(e,i,Yi);return I.multi=[],I.index=n,I.componentProviders=0,iD(I,h,o&&!i),I}(h?wk:Ek,i.length,h,o,nt);!h&&Ei&&(i[Un].providerFactory=Hi),g0(I,e,n.length,0),n.push(Re),ve.directiveStart++,ve.directiveEnd++,h&&(ve.providerIndexes+=1048576),i.push(Hi),J.push(Hi)}else g0(I,e,Tn>-1?Tn:Un,iD(i[h?Un:Tn],nt,!h&&o));!h&&o&&Ei&&i[Un].componentProviders++}}}function g0(e,n,i,o){const h=Aa(n),I=function Sd(e){return!!e.useClass}(n);if(h||I){const Re=(I?gn(n.useClass):n).prototype.ngOnDestroy;if(Re){const nt=e.destroyHooks||(e.destroyHooks=[]);if(!h&&n.multi){const yt=nt.indexOf(i);-1===yt?nt.push(i,[o,Re]):nt[yt+1].push(o,Re)}else nt.push(i,Re)}}}function iD(e,n,i){return i&&e.componentProviders++,e.multi.push(n)-1}function m0(e,n,i,o){for(let h=i;h<o;h++)if(n[h]===e)return h;return-1}function Ek(e,n,i,o){return p0(this.multi,[])}function wk(e,n,i,o){const h=this.multi;let I;if(this.providerFactory){const J=this.providerFactory.componentProviders,ve=ld(i,i[zi],this.providerFactory.index,o);I=ve.slice(0,J),p0(h,I);for(let Re=J;Re<ve.length;Re++)I.push(ve[Re])}else I=[],p0(h,I);return I}function p0(e,n){for(let i=0;i<e.length;i++)n.push((0,e[i])());return n}function Fs(e,n=[]){return i=>{i.providersResolver=(o,h)=>function Dk(e,n,i){const o=Lt();if(o.firstCreatePass){const h=wr(e);f0(i,o.data,o.blueprint,h,!0),f0(n,o.data,o.blueprint,h,!1)}}(o,h?h(e):e,n)}}const ID=new $n(""),Qm=new $n("");let E0,S0=(()=>{class e{constructor(i,o,h){this._ngZone=i,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,E0||(function UP(e){E0=e}(h),h.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,h){let I=-1;o&&o>0&&(I=setTimeout(()=>{this._callbacks=this._callbacks.filter(J=>J.timeoutId!==I),i()},o)),this._callbacks.push({doneCb:i,timeoutId:I,updateCb:h})}whenStable(i,o,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,h){return[]}static#e=this.\u0275fac=function(o){return new(o||e)(xi(Rs),xi(D0),xi(Qm))};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac})}return e})(),D0=(()=>{class e{constructor(){this._applications=new Map}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return E0?.findTestabilityInTree(this,i,o)??null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Ym(e){return!!e&&"function"==typeof e.then}function AD(e){return!!e&&"function"==typeof e.subscribe}const jP=new $n("");let w0=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=ri(jP,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const h of this.appInits){const I=h();if(Ym(I))i.push(I);else if(AD(I)){const J=new Promise((ve,Re)=>{I.subscribe({complete:ve,error:Re})});i.push(J)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(h=>{this.reject(h)}),0===i.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const TD=new $n("");function OD(e,n){return Array.isArray(n)?n.reduce(OD,e):{...e,...n}}let Zc=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ri(yg),this.afterRenderEffectManager=ri(Ef),this.externalTestViews=new Set,this.beforeRender=new Ze,this.afterTick=new Ze,this.componentTypes=[],this.components=[],this.isStable=ri(If).hasPendingTasks.pipe(Yt(i=>!i)),this._injector=ri(kr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,o){const h=i instanceof i1;if(!this._injector.get(w0).done)throw!h&&function Ka(e){const n=_o(e)||Es(e)||Zs(e);return null!==n&&n.standalone}(i),new lt(405,!1);let J;J=h?i:this._injector.get(Dm).resolveComponentFactory(i),this.componentTypes.push(J.componentType);const ve=function zP(e){return e.isBoundToModule}(J)?void 0:this._injector.get(Kc),nt=J.create(Ki.NULL,[],o||J.selector,ve),yt=nt.location.nativeElement,Gt=nt.injector.get(ID,null);return Gt?.registerApplication(yt),nt.onDestroy(()=>{this.detachView(nt.hostView),Zm(this.components,nt),Gt?.unregisterApplication(yt)}),this._loadComponent(nt),nt}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new lt(101,!1);const o=b(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(h){this.internalErrorHandler(h)}finally{this.afterTick.next(),this._runningTick=!1,b(o)}}detectChangesInAttachedViews(i){let o=0;const h=this.afterRenderEffectManager;for(;;){if(o===Gb)throw new lt(103,!1);if(i){const I=0===o;this.beforeRender.next(I);for(let{_lView:J,notifyErrorHandler:ve}of this._views)$P(J,I,ve)}if(o++,h.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:I})=>L0(I))&&(h.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:I})=>L0(I))))break}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;Zm(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const o=this._injector.get(TD,[]);[...this._bootstrapListeners,...o].forEach(h=>h(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Zm(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new lt(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Zm(e,n){const i=e.indexOf(n);i>-1&&e.splice(i,1)}function $P(e,n,i){!n&&!L0(e)||function GP(e,n,i){let o;i?(o=0,e[lo]|=1024):o=64&e[lo]?0:1,_m(e,n,o)}(e,i,n)}function L0(e){return id(e)}let XP=(()=>{class e{constructor(){this.zone=ri(Rs),this.applicationRef=ri(Zc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function JP(){const e=ri(Rs),n=ri(Mo);return i=>e.runOutsideAngular(()=>n.handleError(i))}let eO=(()=>{class e{constructor(){this.subscription=new ue,this.initialized=!1,this.zone=ri(Rs),this.pendingTasks=ri(If)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Rs.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Rs.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const pd=new $n("",{providedIn:"root",factory:()=>ri(pd,Te.Optional|Te.SkipSelf)||function tO(){return typeof $localize<"u"&&$localize.locale||uh}()}),x0=new $n("");let BD=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const h=function LM(e="zone.js",n){return"noop"===e?new c1:"zone.js"===e?new Rs(n):e}(o?.ngZone,function FD(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return h.run(()=>{const I=function yI(e,n,i){return new Wv(e,n,i)}(i.moduleType,this.injector,function ND(e){return[{provide:Rs,useFactory:e},{provide:Uo,multi:!0,useFactory:()=>{const n=ri(XP,{optional:!0});return()=>n.initialize()}},{provide:Uo,multi:!0,useFactory:()=>{const n=ri(eO);return()=>{n.initialize()}}},{provide:yg,useFactory:JP}]}(()=>h)),J=I.injector.get(Mo,null);return h.runOutsideAngular(()=>{const ve=h.onError.subscribe({next:Re=>{J.handleError(Re)}});I.onDestroy(()=>{Zm(this._modules,I),ve.unsubscribe()})}),function PD(e,n,i){try{const o=i();return Ym(o)?o.catch(h=>{throw n.runOutsideAngular(()=>e.handleError(h)),h}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(J,h,()=>{const ve=I.injector.get(w0);return ve.runInitializers(),ve.donePromise.then(()=>(function qy(e){"string"==typeof e&&(Jy=e.toLowerCase().replace(/_/g,"-"))}(I.injector.get(pd,uh)||uh),this._moduleDoBootstrap(I),I))})})}bootstrapModule(i,o=[]){const h=OD({},o);return function ZP(e,n,i){const o=new Vv(i);return Promise.resolve(o)}(0,0,i).then(I=>this.bootstrapModuleFactory(I,h))}_moduleDoBootstrap(i){const o=i.injector.get(Zc);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(h=>o.bootstrap(h));else{if(!i.instance.ngDoBootstrap)throw new lt(-403,!1);i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new lt(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(x0,null);i&&(i.forEach(o=>o()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||e)(xi(Ki))};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Qd=null;const WD=new $n("");function VD(e,n,i=[]){const o=`Platform: ${n}`,h=new $n(o);return(I=[])=>{let J=M0();if(!J||J.injector.get(WD,!1)){const ve=[...i,...I,{provide:h,useValue:!0}];e?e(ve):function oO(e){if(Qd&&!Qd.get(WD,!1))throw new lt(400,!1);(function kD(){!function oe(e){W=e}(()=>{throw new lt(600,!1)})})(),Qd=e;const n=e.get(BD);(function UD(e){e.get(Tc,null)?.forEach(i=>i())})(e)}(function HD(e=[],n){return Ki.create({name:n,providers:[{provide:oc,useValue:"platform"},{provide:x0,useValue:new Set([()=>Qd=null])},...e]})}(ve,o))}return function sO(e){const n=M0();if(!n)throw new lt(401,!1);return n}()}}function M0(){return Qd?.get(BD)??null}class GD{constructor(){}supports(n){return Am(n)}create(n){return new fO(n)}}const hO=(e,n)=>n;class fO{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||hO}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,h=0,I=null;for(;i||o;){const J=!o||i&&i.currentIndex<YD(o,h,I)?i:o,ve=YD(J,h,I),Re=J.currentIndex;if(J===o)h--,o=o._nextRemoved;else if(i=i._next,null==J.previousIndex)h++;else{I||(I=[]);const nt=ve-h,yt=Re-h;if(nt!=yt){for(let In=0;In<nt;In++){const Tn=In<I.length?I[In]:I[In]=0,Un=Tn+In;yt<=Un&&Un<nt&&(I[In]=Tn+1)}I[J.previousIndex]=yt-nt}}ve!==Re&&n(J,ve,Re)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Am(n))throw new lt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let h,I,J,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let ve=0;ve<this.length;ve++)I=n[ve],J=this._trackByFn(ve,I),null!==i&&Object.is(i.trackById,J)?(o&&(i=this._verifyReinsertion(i,I,J,ve)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,J,ve),o=!0),i=i._next}else h=0,function wI(e,n){if(Array.isArray(e))for(let i=0;i<e.length;i++)n(e[i]);else{const i=e[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,ve=>{J=this._trackByFn(h,ve),null!==i&&Object.is(i.trackById,J)?(o&&(i=this._verifyReinsertion(i,ve,J,h)),Object.is(i.item,ve)||this._addIdentityChange(i,ve)):(i=this._mismatch(i,ve,J,h),o=!0),i=i._next,h++}),this.length=h;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,h){let I;return null===n?I=this._itTail:(I=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,I,h)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,h))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,I,h)):n=this._addAfter(new gO(i,o),I,h),n}_verifyReinsertion(n,i,o,h){let I=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==I?n=this._reinsertAfter(I,n._prev,h):n.currentIndex!=h&&(n.currentIndex=h,this._addToMoves(n,h)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const h=n._prevRemoved,I=n._nextRemoved;return null===h?this._removalsHead=I:h._nextRemoved=I,null===I?this._removalsTail=h:I._prevRemoved=h,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const h=null===i?this._itHead:i._next;return n._next=h,n._prev=i,null===h?this._itTail=n:h._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new QD),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QD),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class gO{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mO{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class QD{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new mO,this.map.set(i,o)),o.add(n)}get(n,i){const h=this.map.get(n);return h?h.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function YD(e,n,i){const o=e.previousIndex;if(null===o)return o;let h=0;return i&&o<i.length&&(h=i[o]),o+n+h}function XD(){return new O0([new GD])}let O0=(()=>{class e{static#e=this.\u0275prov=ai({token:e,providedIn:"root",factory:XD});constructor(i){this.factories=i}static create(i,o){if(null!=o){const h=o.factories.slice();i=i.concat(h)}return new e(i)}static extend(i){return{provide:e,useFactory:o=>e.create(i,o||XD()),deps:[[e,new ks,new vo]]}}find(i){const o=this.factories.find(h=>h.supports(i));if(null!=o)return o;throw new lt(901,!1)}}return e})();const bO=VD(null,"core",[]);let yO=(()=>{class e{constructor(i){}static#e=this.\u0275fac=function(o){return new(o||e)(xi(Zc))};static#t=this.\u0275mod=ds({type:e});static#n=this.\u0275inj=$i({})}return e})(),yE=null;function Yf(){return yE}class iR{}const Jc=new $n("");class $R{constructor(n,i,o,h){this.$implicit=n,this.ngForOf=i,this.index=o,this.count=h}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kE=(()=>{class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,o,h){this._viewContainer=i,this._template=o,this._differs=h,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const o=this._viewContainer;i.forEachOperation((h,I,J)=>{if(null==h.previousIndex)o.createEmbeddedView(this._template,new $R(h.item,this._ngForOf,-1,-1),null===J?void 0:J);else if(null==J)o.remove(null===I?void 0:I);else if(null!==I){const ve=o.get(I);o.move(ve,J),PE(ve,h)}});for(let h=0,I=o.length;h<I;h++){const ve=o.get(h).context;ve.index=h,ve.count=I,ve.ngForOf=this._ngForOf}i.forEachIdentityChange(h=>{PE(o.get(h.currentIndex),h)})}static ngTemplateContextGuard(i,o){return!0}static#e=this.\u0275fac=function(o){return new(o||e)(Yi(Rl),Yi(fd),Yi(O0))};static#t=this.\u0275dir=ao({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function PE(e,n){e.context.$implicit=n.item}let OE=(()=>{class e{constructor(i,o){this._viewContainer=i,this._context=new GR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){RE("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){RE("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,o){return!0}static#e=this.\u0275fac=function(o){return new(o||e)(Yi(Rl),Yi(fd))};static#t=this.\u0275dir=ao({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class GR{constructor(){this.$implicit=null,this.ngIf=null}}function RE(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${un(n)}'.`)}let CN=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=ds({type:e});static#n=this.\u0275inj=$i({})}return e})();function WE(e){return"server"===e}class JN extends iR{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class q0 extends JN{static makeCurrent(){!function nR(e){yE??=e}(new q0)}onAndCancel(n,i,o){return n.addEventListener(i,o),()=>{n.removeEventListener(i,o)}}dispatchEvent(n,i){n.dispatchEvent(i)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,i){return(i=i||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,i){return"window"===i?window:"document"===i?n:"body"===i?n.body:null}getBaseHref(n){const i=function qN(){return qf=qf||document.querySelector("base"),qf?qf.getAttribute("href"):null}();return null==i?null:function e2(e){return new URL(e,document.baseURI).pathname}(i)}resetBaseElement(){qf=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function jR(e,n){n=encodeURIComponent(n);for(const i of e.split(";")){const o=i.indexOf("="),[h,I]=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)];if(h.trim()===n)return decodeURIComponent(I)}return null}(document.cookie,n)}}let qf=null,n2=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac})}return e})();const eC=new $n("");let QE=(()=>{class e{constructor(i,o){this._zone=o,this._eventNameToPlugin=new Map,i.forEach(h=>{h.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,o,h){return this._findPluginFor(o).addEventListener(i,o,h)}getZone(){return this._zone}_findPluginFor(i){let o=this._eventNameToPlugin.get(i);if(o)return o;if(o=this._plugins.find(I=>I.supports(i)),!o)throw new lt(5101,!1);return this._eventNameToPlugin.set(i,o),o}static#e=this.\u0275fac=function(o){return new(o||e)(xi(eC),xi(Rs))};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac})}return e})();class YE{constructor(n){this._doc=n}}const tC="ng-app-id";let ZE=(()=>{class e{constructor(i,o,h,I={}){this.doc=i,this.appId=o,this.nonce=h,this.platformId=I,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=WE(I),this.resetHostNodes()}addStyles(i){for(const o of i)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(i){for(const o of i)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(o=>o.remove()),i.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const o of this.getAllStyles())this.addStyleToHost(i,o)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const o of this.hostNodes)this.addStyleToHost(o,i)}onStyleRemoved(i){const o=this.styleRef;o.get(i)?.elements?.forEach(h=>h.remove()),o.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${tC}="${this.appId}"]`);if(i?.length){const o=new Map;return i.forEach(h=>{null!=h.textContent&&o.set(h.textContent,h)}),o}return null}changeUsageCount(i,o){const h=this.styleRef;if(h.has(i)){const I=h.get(i);return I.usage+=o,I.usage}return h.set(i,{usage:o,elements:[]}),o}getStyleElement(i,o){const h=this.styleNodesInDOM,I=h?.get(o);if(I?.parentNode===i)return h.delete(o),I.removeAttribute(tC),I;{const J=this.doc.createElement("style");return this.nonce&&J.setAttribute("nonce",this.nonce),J.textContent=o,this.platformIsServer&&J.setAttribute(tC,this.appId),i.appendChild(J),J}}addStyleToHost(i,o){const h=this.getStyleElement(i,o),I=this.styleRef,J=I.get(o)?.elements;J?J.push(h):I.set(o,{elements:[h],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}static#e=this.\u0275fac=function(o){return new(o||e)(xi(Jc),xi(ku),xi(Pu,8),xi(ud))};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac})}return e})();const nC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},iC=/%COMP%/g,r2=new $n("",{providedIn:"root",factory:()=>!0});function JE(e,n){return n.map(i=>i.replace(iC,e))}let qE=(()=>{class e{constructor(i,o,h,I,J,ve,Re,nt=null){this.eventManager=i,this.sharedStylesHost=o,this.appId=h,this.removeStylesOnCompDestroy=I,this.doc=J,this.platformId=ve,this.ngZone=Re,this.nonce=nt,this.rendererByCompId=new Map,this.platformIsServer=WE(ve),this.defaultRenderer=new oC(i,J,Re,this.platformIsServer)}createRenderer(i,o){if(!i||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===Ys.ShadowDom&&(o={...o,encapsulation:Ys.Emulated});const h=this.getOrCreateRenderer(i,o);return h instanceof tw?h.applyToHost(i):h instanceof sC&&h.applyStyles(),h}getOrCreateRenderer(i,o){const h=this.rendererByCompId;let I=h.get(o.id);if(!I){const J=this.doc,ve=this.ngZone,Re=this.eventManager,nt=this.sharedStylesHost,yt=this.removeStylesOnCompDestroy,Gt=this.platformIsServer;switch(o.encapsulation){case Ys.Emulated:I=new tw(Re,nt,o,this.appId,yt,J,ve,Gt);break;case Ys.ShadowDom:return new c2(Re,nt,i,o,J,ve,this.nonce,Gt);default:I=new sC(Re,nt,o,yt,J,ve,Gt)}h.set(o.id,I)}return I}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(o){return new(o||e)(xi(QE),xi(ZE),xi(ku),xi(r2),xi(Jc),xi(ud),xi(Rs),xi(Pu))};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac})}return e})();class oC{constructor(n,i,o,h){this.eventManager=n,this.doc=i,this.ngZone=o,this.platformIsServer=h,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,i){return i?this.doc.createElementNS(nC[i]||i,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,i){(ew(n)?n.content:n).appendChild(i)}insertBefore(n,i,o){n&&(ew(n)?n.content:n).insertBefore(i,o)}removeChild(n,i){n&&n.removeChild(i)}selectRootElement(n,i){let o="string"==typeof n?this.doc.querySelector(n):n;if(!o)throw new lt(-5104,!1);return i||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,i,o,h){if(h){i=h+":"+i;const I=nC[h];I?n.setAttributeNS(I,i,o):n.setAttribute(i,o)}else n.setAttribute(i,o)}removeAttribute(n,i,o){if(o){const h=nC[o];h?n.removeAttributeNS(h,i):n.removeAttribute(`${o}:${i}`)}else n.removeAttribute(i)}addClass(n,i){n.classList.add(i)}removeClass(n,i){n.classList.remove(i)}setStyle(n,i,o,h){h&(he.DashCase|he.Important)?n.style.setProperty(i,o,h&he.Important?"important":""):n.style[i]=o}removeStyle(n,i,o){o&he.DashCase?n.style.removeProperty(i):n.style[i]=""}setProperty(n,i,o){null!=n&&(n[i]=o)}setValue(n,i){n.nodeValue=i}listen(n,i,o){if("string"==typeof n&&!(n=Yf().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${i}`);return this.eventManager.addEventListener(n,i,this.decoratePreventDefault(o))}decoratePreventDefault(n){return i=>{if("__ngUnwrap__"===i)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(i)):n(i))&&i.preventDefault()}}}function ew(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class c2 extends oC{constructor(n,i,o,h,I,J,ve,Re){super(n,I,J,Re),this.sharedStylesHost=i,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nt=JE(h.id,h.styles);for(const yt of nt){const Gt=document.createElement("style");ve&&Gt.setAttribute("nonce",ve),Gt.textContent=yt,this.shadowRoot.appendChild(Gt)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,i){return super.appendChild(this.nodeOrShadowRoot(n),i)}insertBefore(n,i,o){return super.insertBefore(this.nodeOrShadowRoot(n),i,o)}removeChild(n,i){return super.removeChild(this.nodeOrShadowRoot(n),i)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class sC extends oC{constructor(n,i,o,h,I,J,ve,Re){super(n,I,J,ve),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=h,this.styles=Re?JE(Re,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class tw extends sC{constructor(n,i,o,h,I,J,ve,Re){const nt=h+"-"+o.id;super(n,i,o,I,J,ve,Re,nt),this.contentAttr=function a2(e){return"_ngcontent-%COMP%".replace(iC,e)}(nt),this.hostAttr=function l2(e){return"_nghost-%COMP%".replace(iC,e)}(nt)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,i){const o=super.createElement(n,i);return super.setAttribute(o,this.contentAttr,""),o}}let u2=(()=>{class e extends YE{constructor(i){super(i)}supports(i){return!0}addEventListener(i,o,h){return i.addEventListener(o,h,!1),()=>this.removeEventListener(i,o,h)}removeEventListener(i,o,h){return i.removeEventListener(o,h)}static#e=this.\u0275fac=function(o){return new(o||e)(xi(Jc))};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac})}return e})();const nw=["alt","control","meta","shift"],h2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f2={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let g2=(()=>{class e extends YE{constructor(i){super(i)}supports(i){return null!=e.parseEventName(i)}addEventListener(i,o,h){const I=e.parseEventName(o),J=e.eventCallback(I.fullKey,h,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yf().onAndCancel(i,I.domEventName,J))}static parseEventName(i){const o=i.toLowerCase().split("."),h=o.shift();if(0===o.length||"keydown"!==h&&"keyup"!==h)return null;const I=e._normalizeKey(o.pop());let J="",ve=o.indexOf("code");if(ve>-1&&(o.splice(ve,1),J="code."),nw.forEach(nt=>{const yt=o.indexOf(nt);yt>-1&&(o.splice(yt,1),J+=nt+".")}),J+=I,0!=o.length||0===I.length)return null;const Re={};return Re.domEventName=h,Re.fullKey=J,Re}static matchEventFullKeyCode(i,o){let h=h2[i.key]||i.key,I="";return o.indexOf("code.")>-1&&(h=i.code,I="code."),!(null==h||!h)&&(h=h.toLowerCase()," "===h?h="space":"."===h&&(h="dot"),nw.forEach(J=>{J!==h&&(0,f2[J])(i)&&(I+=J+".")}),I+=h,I===o)}static eventCallback(i,o,h){return I=>{e.matchEventFullKeyCode(I,i)&&h.runGuarded(()=>o(I))}}static _normalizeKey(i){return"esc"===i?"escape":i}static#e=this.\u0275fac=function(o){return new(o||e)(xi(Jc))};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac})}return e})();const v2=VD(bO,"browser",[{provide:ud,useValue:"browser"},{provide:Tc,useValue:function m2(){q0.makeCurrent()},multi:!0},{provide:Jc,useFactory:function _2(){return function S_(e){Kh=e}(document),document},deps:[]}]),C2=new $n(""),sw=[{provide:Qm,useClass:class t2{addToWindow(n){ct.getAngularTestability=(o,h=!0)=>{const I=n.findTestabilityInTree(o,h);if(null==I)throw new lt(5103,!1);return I},ct.getAllAngularTestabilities=()=>n.getAllTestabilities(),ct.getAllAngularRootElements=()=>n.getAllRootElements(),ct.frameworkStabilizers||(ct.frameworkStabilizers=[]),ct.frameworkStabilizers.push(o=>{const h=ct.getAllAngularTestabilities();let I=h.length;const J=function(){I--,0==I&&o()};h.forEach(ve=>{ve.whenStable(J)})})}findTestabilityInTree(n,i,o){return null==i?null:n.getTestability(i)??(o?Yf().isShadowRoot(i)?this.findTestabilityInTree(n,i.host,!0):this.findTestabilityInTree(n,i.parentElement,!0):null)}},deps:[]},{provide:ID,useClass:S0,deps:[Rs,D0,Qm]},{provide:S0,useClass:S0,deps:[Rs,D0,Qm]}],rw=[{provide:oc,useValue:"root"},{provide:Mo,useFactory:function p2(){return new Mo},deps:[]},{provide:eC,useClass:u2,multi:!0,deps:[Jc,Rs,ud]},{provide:eC,useClass:g2,multi:!0,deps:[Jc]},qE,ZE,QE,{provide:s1,useExisting:qE},{provide:class EN{},useClass:n2,deps:[]},[]];let b2=(()=>{class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:ku,useValue:i.appId}]}}static#e=this.\u0275fac=function(o){return new(o||e)(xi(C2,12))};static#t=this.\u0275mod=ds({type:e});static#n=this.\u0275inj=$i({providers:[...rw,...sw],imports:[CN,yO]})}return e})();function Yd(e){return this instanceof Yd?(this.v=e,this):new Yd(e)}function fw(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function dC(e){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&e[n],o=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(I){i[I]=e[I]&&function(J){return new Promise(function(ve,Re){!function h(I,J,ve,Re){Promise.resolve(Re).then(function(nt){I({value:nt,done:ve})},J)}(ve,Re,(J=e[I](J)).done,J.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const gw=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function mw(e){return ce(e?.then)}function pw(e){return ce(e[mt])}function _w(e){return Symbol.asyncIterator&&ce(e?.[Symbol.asyncIterator])}function vw(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Cw=function K2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function bw(e){return ce(e?.[Cw])}function yw(e){return function hw(e,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var h,o=i.apply(e,n||[]),I=[];return h={},ve("next"),ve("throw"),ve("return",function J(Tn){return function(Un){return Promise.resolve(Un).then(Tn,Gt)}}),h[Symbol.asyncIterator]=function(){return this},h;function ve(Tn,Un){o[Tn]&&(h[Tn]=function(ci){return new Promise(function(Ei,Hi){I.push([Tn,ci,Ei,Hi])>1||Re(Tn,ci)})},Un&&(h[Tn]=Un(h[Tn])))}function Re(Tn,Un){try{!function nt(Tn){Tn.value instanceof Yd?Promise.resolve(Tn.value.v).then(yt,Gt):In(I[0][2],Tn)}(o[Tn](Un))}catch(ci){In(I[0][3],ci)}}function yt(Tn){Re("next",Tn)}function Gt(Tn){Re("throw",Tn)}function In(Tn,Un){Tn(Un),I.shift(),I.length&&Re(I[0][0],I[0][1])}}(this,arguments,function*(){const i=e.getReader();try{for(;;){const{value:o,done:h}=yield Yd(i.read());if(h)return yield Yd(void 0);yield yield Yd(o)}}finally{i.releaseLock()}})}function Sw(e){return ce(e?.getReader)}function bp(e){if(e instanceof Bt)return e;if(null!=e){if(pw(e))return function $2(e){return new Bt(n=>{const i=e[mt]();if(ce(i.subscribe))return i.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(gw(e))return function G2(e){return new Bt(n=>{for(let i=0;i<e.length&&!n.closed;i++)n.next(e[i]);n.complete()})}(e);if(mw(e))return function Q2(e){return new Bt(n=>{e.then(i=>{n.closed||(n.next(i),n.complete())},i=>n.error(i)).then(null,He)})}(e);if(_w(e))return Dw(e);if(bw(e))return function Y2(e){return new Bt(n=>{for(const i of e)if(n.next(i),n.closed)return;n.complete()})}(e);if(Sw(e))return function Z2(e){return Dw(yw(e))}(e)}throw vw(e)}function Dw(e){return new Bt(n=>{(function X2(e,n){var i,o,h,I;return function cw(e,n,i,o){return new(i||(i=Promise))(function(I,J){function ve(yt){try{nt(o.next(yt))}catch(Gt){J(Gt)}}function Re(yt){try{nt(o.throw(yt))}catch(Gt){J(Gt)}}function nt(yt){yt.done?I(yt.value):function h(I){return I instanceof i?I:new i(function(J){J(I)})}(yt.value).then(ve,Re)}nt((o=o.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(i=fw(e);!(o=yield i.next()).done;)if(n.next(o.value),n.closed)return}catch(J){h={error:J}}finally{try{o&&!o.done&&(I=i.return)&&(yield I.call(i))}finally{if(h)throw h.error}}n.complete()})})(e,n).catch(i=>n.error(i))})}function qc(e,n,i,o=0,h=!1){const I=n.schedule(function(){i(),h?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(I),!h)return I}function Ew(e,n=0){return ft((i,o)=>{i.subscribe(wt(o,h=>qc(o,e,()=>o.next(h),n),()=>qc(o,e,()=>o.complete(),n),h=>qc(o,e,()=>o.error(h),n)))})}function ww(e,n=0){return ft((i,o)=>{o.add(e.schedule(()=>i.subscribe(o),n))})}function Lw(e,n){if(!e)throw new Error("Iterable cannot be null");return new Bt(i=>{qc(i,n,()=>{const o=e[Symbol.asyncIterator]();qc(i,n,()=>{o.next().then(h=>{h.done?i.complete():i.next(h.value)})},0,!0)})})}function xw(e,n){return n?function i4(e,n){if(null!=e){if(pw(e))return function J2(e,n){return bp(e).pipe(ww(n),Ew(n))}(e,n);if(gw(e))return function e4(e,n){return new Bt(i=>{let o=0;return n.schedule(function(){o===e.length?i.complete():(i.next(e[o++]),i.closed||this.schedule())})})}(e,n);if(mw(e))return function q2(e,n){return bp(e).pipe(ww(n),Ew(n))}(e,n);if(_w(e))return Lw(e,n);if(bw(e))return function t4(e,n){return new Bt(i=>{let o;return qc(i,n,()=>{o=e[Cw](),qc(i,n,()=>{let h,I;try{({value:h,done:I}=o.next())}catch(J){return void i.error(J)}I?i.complete():i.next(h)},0,!0)}),()=>ce(o?.return)&&o.return()})}(e,n);if(Sw(e))return function n4(e,n){return Lw(yw(e),n)}(e,n)}throw vw(e)}(e,n):bp(e)}let Mw=(()=>{class e{constructor(i,o){this._renderer=i,this._elementRef=o,this.onChange=h=>{},this.onTouched=()=>{}}setProperty(i,o){this._renderer.setProperty(this._elementRef.nativeElement,i,o)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}static#e=this.\u0275fac=function(o){return new(o||e)(Yi(Uc),Yi(Sa))};static#t=this.\u0275dir=ao({type:e})}return e})(),eu=(()=>{class e extends Mw{static#e=this.\u0275fac=(()=>{let i;return function(h){return(i||(i=Sr(e)))(h||e)}})();static#t=this.\u0275dir=ao({type:e,features:[ps]})}return e})();const Vl=new $n(""),vh=new $n("CallSetDisabledState",{providedIn:"root",factory:()=>Lp}),Lp="always";Promise.resolve(),Promise.resolve();const J4={provide:Vl,useExisting:Nn(()=>IC),multi:!0};function CL(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let IC=(()=>{class e extends eu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;const h=CL(this._getOptionId(i),i);this.setProperty("value",h)}registerOnChange(i){this.onChange=o=>{this.value=this._getOptionValue(o),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(const o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o),i))return o;return null}_getOptionValue(i){const o=function q4(e){return e.split(":")[0]}(i);return this._optionMap.has(o)?this._optionMap.get(o):i}static#e=this.\u0275fac=(()=>{let i;return function(h){return(i||(i=Sr(e)))(h||e)}})();static#t=this.\u0275dir=ao({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(o,h){1&o&&qo("change",function(J){return h.onChange(J.target.value)})("blur",function(){return h.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fs([J4]),ps]})}return e})(),bL=(()=>{class e{constructor(i,o,h){this._element=i,this._renderer=o,this._select=h,this._select&&(this.id=this._select._registerOption())}set ngValue(i){null!=this._select&&(this._select._optionMap.set(this.id,i),this._setElementValue(CL(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(o){return new(o||e)(Yi(Sa),Yi(Uc),Yi(IC,9))};static#t=this.\u0275dir=ao({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();const e5={provide:Vl,useExisting:Nn(()=>AC),multi:!0};function yL(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let AC=(()=>{class e extends eu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){let o;if(this.value=i,Array.isArray(i)){const h=i.map(I=>this._getOptionId(I));o=(I,J)=>{I._setSelected(h.indexOf(J.toString())>-1)}}else o=(h,I)=>{h._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(i){this.onChange=o=>{const h=[],I=o.selectedOptions;if(void 0!==I){const J=I;for(let ve=0;ve<J.length;ve++){const nt=this._getOptionValue(J[ve].value);h.push(nt)}}else{const J=o.options;for(let ve=0;ve<J.length;ve++){const Re=J[ve];if(Re.selected){const nt=this._getOptionValue(Re.value);h.push(nt)}}}this.value=h,i(h)}}_registerOption(i){const o=(this._idCounter++).toString();return this._optionMap.set(o,i),o}_getOptionId(i){for(const o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o)._value,i))return o;return null}_getOptionValue(i){const o=function t5(e){return e.split(":")[0]}(i);return this._optionMap.has(o)?this._optionMap.get(o)._value:i}static#e=this.\u0275fac=(()=>{let i;return function(h){return(i||(i=Sr(e)))(h||e)}})();static#t=this.\u0275dir=ao({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(o,h){1&o&&qo("change",function(J){return h.onChange(J.target)})("blur",function(){return h.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fs([e5]),ps]})}return e})(),SL=(()=>{class e{constructor(i,o,h){this._element=i,this._renderer=o,this._select=h,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){null!=this._select&&(this._value=i,this._setElementValue(yL(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(yL(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(o){return new(o||e)(Yi(Sa),Yi(Uc),Yi(AC,9))};static#t=this.\u0275dir=ao({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})(),c5=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=ds({type:e});static#n=this.\u0275inj=$i({})}return e})(),h5=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:vh,useValue:i.callSetDisabledState??Lp}]}}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=ds({type:e});static#n=this.\u0275inj=$i({imports:[c5]})}return e})();let Tp=(()=>{class e{constructor(){this.messages=[]}add(i,o){switch(this.messages.push(i),o=o?o.toLowerCase():""){case"warn":console.warn(i);break;case"error":console.error(i);break;default:console.log(i)}}clear(){this.messages=[],console.clear()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac})}return e})(),kL=(()=>{class e{get nativeWindow(){return function f5(){return window}()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac})}return e})(),PC=(()=>{class e{constructor(i,o){this.logService=i,this.windowRef=o,this._window=this.windowRef.nativeWindow}getGridDataToDisplay(){return this.logService.add("Grid data service: Getting data from C#","info"),xw(this._window.comparisonJSInteraction.getComparisonList()).pipe(Yt(i=>JSON.parse(i)))}sendChange(i,o,h){this.logService.add("Grid data service: Updating C# object on change in element","info"),this._window.comparisonJSInteraction.changeOccurred(i,o,h)}saveOrCompare(i){this.logService.add("Grid data service: Calling C# service to take action","info"),this._window.comparisonJSInteraction.saveOrCompare(i)}sendSelectedNodesAndAction(i,o){this.logService.add("Grid data service: Sending the selected nodes and the action to be performed to C#","info"),this._window.comparisonJSInteraction.performActionsOnSelectedActions(i,o)}static#e=this.\u0275fac=function(o){return new(o||e)(xi(Tp),xi(kL))};static#t=this.\u0275prov=ai({token:e,factory:e.\u0275fac})}return e})();t(48102),t(33500),t(88175),t(93070),t(82585),t(44695),t(90547),t(23544),t(47554),t(99498),t(62180),t(2244),t(67059),t(29563),t(92063),t(55245),t(1552),t(59091),t(80500),t(70254),t(30284),t(62170),t(36899),t(43714),t(63725),t(7809),t(95259),t(34672),t(2239),t(27655),t(29668),t(69108),t(71007),t(15891),t(3989),t(4770),t(69599),t(23715),t(9210),t(69533),t(9426),t(64275),t(69395),t(64091),t(7106),t(33760),t(83194),t(65962),t(36568),t(14113),t(10837),t(56770),t(4681),t(87211),t(3089),t(6259),t(61555),t(47899),t(84439),t(44615),t(56509),t(85322),t(57185),t(86295),t(15499),t(41561);var Cd=t(48169);t(92085),t(46461),t(59119),t(44231),t(47159),t(43831),t(87903),t(15957),t(91163),t(34407),t(82767),t(96775),t(78011),t(75655),t(12189),t(88807),t(74895),t(38711),t(24813),t(72551),t(89849),t(87943),t(28961),t(67847),t(66599),t(74359),t(15301),t(30343),t(48003),t(80927),t(20615),t(28619),t(443),t(34373),t(67729),t(96055),t(99287),t(23623),t(82443),t(36579),t(64983),t(33921),t(99863),t(97063),t(16023),t(34471),t(7815),t(72823),t(17619),t(11079),t(69751),t(83499),t(69329),t(88199),t(65491),t(94123),t(94663),t(99719),t(68207),t(14565),t(95653),t(1335),t(72807),t(33395),t(37213),t(40331),t(10759),t(73729),t(46855),t(77179),t(27175),t(71303),t(16079),t(76167),t(11463),t(63559),t(57571),t(67281),t(73143),t(96335),t(76419),t(4255),t(55071),t(6576),t(34789),t(60264),t(59496),self.MonacoEnvironment=function(e){return{globalAPI:!1,getWorkerUrl:function(i,o){var h=t.p,I=(h?function n(i){return i.replace(/\/$/,"")}(h)+"/":"")+e[o];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(I)){var J=String(window.location),ve=J.substr(0,J.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(I.substring(0,ve.length)!==ve){/^(\/\/)/.test(I)&&(I=window.location.protocol+I);var nt=new Blob(["/*"+o+'*/importScripts("'+I+'");'],{type:"application/javascript"});return URL.createObjectURL(nt)}}return I}}}({editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",json:"json.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"});const g5={rules:[{token:"identifier",foreground:"af00db"},{token:"entity",foreground:"7f0002"},{token:"variable",foreground:"001080"},{token:"attribute",foreground:"795e26"}],colors:{"diffEditor.insertedTextBackground":"#ff000033","diffEditor.removedTextBackground":"#e2f6c5","diffEditor.insertedLineBackground":"#ff000033","diffEditor.removedLineBackground":"#e2f6c5"}},p5=["true","false","null"],_5=["automatic","string","int64","double","dateTime","decimal","boolean","binary","unknown","variant"];class v5{constructor(){this.disposables=[]}initialize(){this.disposables.push(Cd.editor.onDidCreateEditor(n=>{this.disposables.push(n.onDidChangeModelContent(i=>{this.handleModelChange(n)}))}))}dispose(){for(let n of this.disposables)n.dispose()}handleModelChange(n){n.trigger("TriggerSuggestion","editor.action.triggerSuggest",{auto:!0,completionOptions:{providerFilter:void 0,kindFilter:void 0}})}}let C5=(()=>{class e{static#e=this.disposables=[];static registerLanguageContributions(){return e.registerTmdlContributions(),e.initializeTmdlContributions(),this.tmdlContributions}static registerTmdlContributions(){Cd.languages.register({id:"tmdl",aliases:["tmdl"],extensions:["tmd","tmdl"]});const i=new v5;this.tmdlContributions={tmdlParserManager:i}}static initializeTmdlContributions(){this.disposables.push(Cd.languages.setLanguageConfiguration("tmdl",{})),this.tmdlContributions.tmdlParserManager.initialize()}}return e})(),b5=(()=>{class e{constructor(){this.languageName="tmdl"}ngOnChanges(i){this.embedEditor()}ngOnInit(){const i=document.getElementById("comparison-table-container"),o=document.getElementById("main-container");document.getElementById("code-editor-resizable").style.height=(o.offsetHeight-i.offsetHeight)/o.offsetHeight*100+"%"}embedEditor(){if(!this.comparisonData)return;C5.registerLanguageContributions();const i=Cd.editor.createModel(this.comparisonData.SourceObjectDefinition,this.languageName),o=Cd.editor.createModel(this.comparisonData.TargetObjectDefinition,this.languageName),h=document.getElementById("code-editor-container");h?.firstChild&&h.removeChild(h.firstChild),Cd.editor.createDiffEditor(h,{scrollBeyondLastLine:!1,automaticLayout:!0,renderIndicators:!1}).setModel({original:i,modified:o});const J=function m5(e,n){return{ignoreCase:!0,tmdlKeywords:e,tmdlTypeKeywords:n,tokenizer:{root:[{include:"@expression"}],expression:[[/\/\*/,"comment","@comment"],[/(\/\/).*/,"comment"],[/(\w+)(\s*:)/,[{token:"variable"},{token:"operators",next:"@propertyValue"}]],[/^\s*\b\w+\b\s*$/,"variable"],[/(\w+)(\s+)(\w+)(\s+)(['"]?[\w-]+(?:\s+[\w-]+)*['"]?)$/,["entity","","identifier","","meta"]],[/(\w+)(\s+)('[\w\s.-:=]+'(?:\s*\.\s*'[\w\s.-:=]+')*|[\w-]+)$/,["entity","","identifier"]],[/(\w+)(\s+)(['"]?[^=]+['"]?)(\s*=\s*)(.*)$/,["entity","","identifier","","attribute"]],[/(\w+)(\s+)(\w+)(\s*)(=)(\s*)([\[\{](?:"[^"]*"|\d+(?:\.\d+)*|[^[\]{}]+)*[\]\}]|\w+)/,["entity","","identifier","","operators","","attribute"]],[/(\w+)(\s+)(\w+)(\s*)(=)(\s*)(.*)/,["entity","","identifier","","operators","attribute"]],[/(\w+)(\s*=\s*)(```)/,[{token:"variable"},{token:"operators"},{token:"attribute",next:"@exprWithBackticks"}]],[/(\w+)(\s*=\s*\n)({([^{}]+)})/,["variable","operators","attribute"]],[/(\w+)(\s*=)/,[{token:"variable"},{token:"operators",next:"@expr"}]]],comment:[[/[^/*]+/,"comment"],[/\/\*/,"comment","@push"],[/\*\//,"comment","@pop"]],expr:[[/^\s*/,"attribute","@pop"],[/s*(.*)/,"attribute"]],exprJSON:[[/[^{]+/,"attribute"],[/(})/,"attribute","@pop"]],exprWithBackticks:[[/[^```]+/,"attribute"],[/(```)/,"attribute","@pop"]],propertyValue:[{include:"@flowNumbers"},[/[^\s*\n]+/,{cases:{"@tmdlTypeKeywords":"keyword.type","@tmdlKeywords":"keyword","@default":"type"}}],[/^/,{token:"type",next:"@pop"}]],flowNumbers:[{regex:/(?:0|[+-]?[0-9]+)(?=\s*$)/,action:{token:"attribute"}},{regex:/(?:0|[+-]?[0-9]+)(?:\.[0-9]+)?(?:e[-+][1-9][0-9]*)?(?=\s*$)/,action:{token:"attribute"}},{regex:/0o[0-7]+(?=\s*$)/,action:{token:"attribute"}},{regex:/0x[0-9a-fA-F]+(?=\s*$)/,action:{token:"attribute"}},{regex:/[+-]?\.(?:inf|Inf|INF)(?=\s*$)/,action:{token:"attribute"}},{regex:/\.(?:nan|Nan|NAN)(?=\s*$)/,action:{token:"attribute"}},{regex:/\d{4}-\d\d-\d\d([Tt ]\d\d:\d\d:\d\d(\.\d+)?(( ?[+-]\d\d?(:\d\d)?)|Z)?)?(?=\s*$)/,action:{token:"attribute"}}]}}}(p5,_5);Cd.languages.setMonarchTokensProvider(this.languageName,J);const ve={base:"vs",inherit:!0,...g5};Cd.editor.defineTheme("tmdlLightTheme",ve),Cd.editor.setTheme("tmdlLightTheme")}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=so({type:e,selectors:[["app-codeeditor"]],inputs:{comparisonData:"comparisonData"},features:[jr],decls:2,vars:0,consts:[["id","code-editor-section"],["id","code-editor-container"]],template:function(o,h){1&o&&(ss(0,"div",0),Gd(1,"div",1),ys())},styles:["#code-editor-container[_ngcontent-%COMP%]{height:100%}#code-editor-section[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return e})(),y5=(()=>{class e{constructor(i,o){this.gridService=i,this.appLog=o,this.contextMenuPositionX=0,this.contextMenuPositionY=0,this.selectedNodes=[]}ngOnInit(){document.getElementById("skip-selected").focus()}focusElement(i){i.preventDefault(),i.target.classList&&i.target.classList.contains("tree-control-context-menu-options")&&document.getElementById(i.target.id).focus()}performAction(i){this.gridService.sendSelectedNodesAndAction(i,this.selectedNodes)}onKeydown(i){let o;if(i.preventDefault(),i.stopPropagation(),38===i.which||40===i.which){o=this.getSiblingElement(38===i.which,i.target.id),o||(o=38===i.which?document.getElementById(i.target.id).parentElement.lastElementChild:document.getElementById(i.target.id).parentElement.firstElementChild);const h=document.querySelectorAll(".tree-control-context-menu-options");let I;for(I=0;I<h.length;I+=1)h[I].classList.remove("hover");o.focus()}else if(13===i.which){const h=document.getElementById(i.target.id).getAttribute("data-action");h&&(this.performAction(h),document.getElementById(this.selectedCell.id)?.focus())}else 27===i.which&&(this.performAction(""),document.getElementById(this.selectedCell.id)?.focus())}getSiblingElement(i,o){return i?document.getElementById(o).previousElementSibling:document.getElementById(o).nextElementSibling}static#e=this.\u0275fac=function(o){return new(o||e)(Yi(PC),Yi(Tp))};static#t=this.\u0275cmp=so({type:e,selectors:[["app-tree-control-context-menu"]],inputs:{contextMenuPositionX:"contextMenuPositionX",contextMenuPositionY:"contextMenuPositionY",selectedNodes:"selectedNodes",selectedCell:"selectedCell"},decls:10,vars:4,consts:[[1,"tree-control-context-menu"],[1,"action-list"],["id","skip-selected","tabindex","0","data-action","skip",1,"tree-control-context-menu-options",3,"click","keydown","mouseover"],["id","create-selected","tabindex","0","data-action","create",1,"tree-control-context-menu-options",3,"click","keydown","mouseover"],["id","delete-selected","tabindex","0","data-action","delete",1,"tree-control-context-menu-options",3,"click","keydown","mouseover"],["id","update-selected","tabindex","0","data-action","update",1,"tree-control-context-menu-options",3,"click","keydown","mouseover"]],template:function(o,h){1&o&&(ss(0,"div",0)(1,"ul",1)(2,"li",2),qo("click",function(){return h.performAction("skip")})("keydown",function(J){return h.onKeydown(J)})("mouseover",function(J){return h.focusElement(J)}),Yr(3,"Skip selected objects"),ys(),ss(4,"li",3),qo("click",function(){return h.performAction("create")})("keydown",function(J){return h.onKeydown(J)})("mouseover",function(J){return h.focusElement(J)}),Yr(5,"Create selected objects Missing in Target"),ys(),ss(6,"li",4),qo("click",function(){return h.performAction("delete")})("keydown",function(J){return h.onKeydown(J)})("mouseover",function(J){return h.focusElement(J)}),Yr(7,"Delete selected objects Missing in Source"),ys(),ss(8,"li",5),qo("click",function(){return h.performAction("update")})("keydown",function(J){return h.onKeydown(J)})("mouseover",function(J){return h.focusElement(J)}),Yr(9,"Update selected objects with Different Definitions"),ys()()()),2&o&&dh("left",h.contextMenuPositionX,"px")("top",h.contextMenuPositionY,"px")},styles:[".tree-control-context-menu[_ngcontent-%COMP%]{position:absolute;height:88px;width:350px;z-index:30;background-color:#f2f2f2;box-shadow:2px 2px #d4d4d4}.action-list[_ngcontent-%COMP%]{list-style-type:none;-webkit-margin-after:0;-webkit-margin-before:0;-webkit-padding-start:0;margin-top:2px}.tree-control-context-menu-options[_ngcontent-%COMP%]{font-family:Segoe UI;font-size:12px;color:#000;padding:2px 0 2px 40px}.tree-control-context-menu-options[_ngcontent-%COMP%]:focus{background-color:#91c9f7;outline:none;cursor:default}"]})}return e})();const S5=["gridRow"];function D5(e,n){if(1&e&&(ss(0,"div"),Gd(1,"app-tree-control-context-menu",6),ys()),2&e){const i=Yo();$s(),aa("contextMenuPositionX",i.treeControlContextMenuX)("contextMenuPositionY",i.treeControlContextMenuY)("selectedNodes",i.selectedNodes)("selectedCell",i.selectedCell)}}function E5(e,n){if(1&e&&(ss(0,"option",28),Yr(1),ys()),2&e){const i=n.$implicit,o=n.index,h=Yo().$implicit;h0("id","node-",h.Id,"-option-",o,""),aa("selected",i==h.MergeAction||null),$s(),hh(i)}}function w5(e,n){if(1&e){const i=Nf();ss(0,"tr",17,0),qo("contextmenu",function(h){return s(i),u(Yo(2).showTreeControlContextMenu(h))}),ss(2,"td",18),qo("click",function(h){const I=s(i).$implicit;return u(Yo(2).onSelect(I,h))})("keydown",function(h){return s(i),u(Yo(2).onKeydown(h))})("keyup",function(h){return s(i),u(Yo(2).onKeyup(h))}),ss(3,"span"),Gd(4,"img",19),ys(),ss(5,"span",20),Yr(6),ys()(),ss(7,"td",21),qo("click",function(h){const I=s(i).$implicit;return u(Yo(2).onSelect(I,h))})("keydown",function(h){return s(i),u(Yo(2).onKeydown(h))})("keyup",function(h){return s(i),u(Yo(2).onKeyup(h))}),Yr(8),ys(),ss(9,"td",22),qo("click",function(h){const I=s(i).$implicit;return u(Yo(2).onSelect(I,h))})("keydown",function(h){return s(i),u(Yo(2).onKeydown(h))})("keyup",function(h){return s(i),u(Yo(2).onKeyup(h))}),Yr(10),ys(),ss(11,"td",23),qo("click",function(h){const I=s(i).$implicit;return u(Yo(2).onSelect(I,h))})("keydown",function(h){return s(i),u(Yo(2).onKeydown(h))})("keyup",function(h){return s(i),u(Yo(2).onKeyup(h))}),Yr(12),ys(),ss(13,"td",24),qo("click",function(h){const I=s(i).$implicit;return u(Yo(2).onSelect(I,h))})("keydown",function(h){return s(i),u(Yo(2).onKeydown(h))})("keyup",function(h){return s(i),u(Yo(2).onKeyup(h))}),ss(14,"span"),Gd(15,"img",19),ys()(),ss(16,"td",25),qo("click",function(h){const I=s(i).$implicit;return u(Yo(2).onSelect(I,h))})("keydown",function(h){return s(i),u(Yo(2).onKeydown(h))})("keyup",function(h){return s(i),u(Yo(2).onKeyup(h))}),ss(17,"select",26),qo("change",function(h){const I=s(i).$implicit;return u(Yo(2).optionChange(I.Id,h))}),gd(18,E5,2,5,"option",27),ys()()()}if(2&e){const i=n.$implicit,o=n.first,h=n.index,I=Yo(2);Hy("grid-data-row object-level-",i.Level,""),md("hide-row",!i.ShowNode)("selected-row",o),ul("id","node-",i.Id,""),Fl("data-row-number",h),$s(2),dh("padding-left",I.getIndentLevel(i.Level)),md("first-column",o),Ua("title",i.NodeType),Ua("tabindex",10*h),ul("id","node-",i.Id,"-node-type"),$s(2),aa("src",I.getImage(i,1),df),$s(2),hh(i.NodeType),$s(),dh("padding-left",I.getIndentLevel(i.Level)),md("greyed-out-cell",!i.SourceName)("transparent-cell",o),Ua("title",i.SourceName),Ua("tabindex",10*h+1),ul("id","node-",i.Id,"-source-name"),$s(),jm("",i.SourceName," "),$s(),Ua("title",i.Status),ul("id","node-",i.Id,"-status"),Ua("tabindex",10*h+2),$s(),hh(i.Status),$s(),dh("padding-left",I.getIndentLevel(i.Level)),md("greyed-out-cell",!i.TargetName)("transparent-cell",o),Ua("title",i.TargetName),ul("id","node-",i.Id,"-target-name"),Ua("tabindex",10*h+3),$s(),hh(i.TargetName),$s(),Ua("tabindex",10*h+4),ul("id","node-",i.Id,"-selected-action"),$s(2),aa("src",I.getImage(i,2),df),$s(),Ua("tabindex",10*h+5),ul("id","node-",i.Id,"-action-dropdown"),$s(),md("dropdown-disabled",!!i.DropdownDisabled),ul("id","node-",i.Id,"-select"),aa("disabled",!!i.DropdownDisabled||null),$s(),aa("ngForOf",i.AvailableActions)}}function L5(e,n){if(1&e){const i=Nf();ss(0,"div",7)(1,"table",8)(2,"tr",9),qo("contextmenu",function(h){return s(i),u(Yo().showTreeControlContextMenu(h))}),ss(3,"td",10),qo("click",function(h){return s(i),u(Yo().onSelect(null,h))}),Yr(4,"Type"),ys(),ss(5,"td",11),qo("click",function(h){return s(i),u(Yo().onSelect(null,h))}),Yr(6,"Source Name"),ys(),ss(7,"td",12),qo("click",function(h){return s(i),u(Yo().onSelect(null,h))}),Yr(8,"Status"),ys(),ss(9,"td",13),qo("click",function(h){return s(i),u(Yo().onSelect(null,h))}),Yr(10,"Target Name"),ys(),ss(11,"td",14),qo("click",function(h){return s(i),u(Yo().onSelect(null,h))}),ys(),ss(12,"td",15),qo("click",function(h){return s(i),u(Yo().onSelect(null,h))}),Yr(13,"Action"),ys()(),gd(14,w5,19,60,"tr",16),ys()()}if(2&e){const i=Yo();$s(14),aa("ngForOf",i.comparisonDataToDisplay)}}function x5(e,n){if(1&e){const i=Nf();ss(0,"div",29),qo("mousedown",function(h){return s(i),u(Yo().startDragging(h))})("contextmenu",function(h){return s(i),u(Yo().showTreeControlContextMenu(h))}),ys()}}function M5(e,n){if(1&e){const i=Nf();ss(0,"div",30),qo("contextmenu",function(h){return s(i),u(Yo().showTreeControlContextMenu(h))}),Gd(1,"app-codeeditor",31),ys()}if(2&e){const i=Yo();$s(),aa("comparisonData",i.selectedObject)}}let I5=(()=>{class e{constructor(i,o,h){this.gridService=i,this.appLog=o,this.zone=h,this.comparisonDataToDisplay=[],this.selectedNodes=[],this.showContextMenu=!1,this.treeControlContextMenuX=0,this.treeControlContextMenuY=0,this.isDataAvailable=!1,this.mouseDragged=!1,window.angularComponentRef={zone:this.zone,showTree:J=>this.getDataToDisplay(J),getTree:()=>this.getGridData(),clearTree:J=>this.clearGrid(J),changeCursor:J=>this.changeCursor(J)},this.maxGridHeight=80}onMouseUp(i){this.stopDragging(i)}onResize(i){this.resizeComparisonTable(i),document.getElementById("code-editor-resizable").style.removeProperty("max-height")}ngOnInit(){}resizeComparisonTable(i){const h=.2*i.target.innerWidth,I=document.querySelectorAll(".grid-column"),J=document.querySelectorAll(".grid-header-column");let ve;for(let Re=0;Re<I.length;Re+=1)ve=I[Re],ve.style.maxWidth=h.toString()+"px";for(let Re=0;Re<J.length;Re+=1)ve=J[Re],ve.style.maxWidth=h.toString()+"px"}changeCursor(i){document.getElementById("main-container").style.cursor=i?"wait":"default"}stopDragging(i){if(this.mouseDragged){const o=document.getElementById("main-container");console.log("Dragged");const h=i.pageY-o.offsetTop,I=h/o.offsetHeight*100,ve=(o.offsetHeight-h-5)/o.offsetHeight*100;document.getElementById("code-editor-resizable").style.maxHeight=(o.offsetHeight-105)/o.offsetHeight*100+"%",I<=80&&(document.getElementById("comparison-table-container").style.height=I.toString()+"%",document.getElementById("code-editor-resizable").style.height=ve.toString()+"%"),document.removeEventListener("mousemove",this.changeCodeEditorHeight),this.mouseDragged=!1,document.getElementById("comparison-table-container").style.overflowY="auto"}}changeCodeEditorHeight(i){const o=document.getElementById("code-editor-resizable"),h=document.getElementById("main-container");document.getElementById("code-editor-resizable").style.maxHeight=(h.offsetHeight-105)/h.offsetHeight*100+"%";const I=document.getElementById("comparison-table-container"),ve=(i.pageY-h.offsetTop)/h.offsetHeight*100,nt=(h.offsetHeight-(i.pageY-h.offsetTop)-5)/h.offsetHeight*100;console.log(this.maxGridHeight),ve<=80&&(I.style.height=ve.toString()+"%",o.style.height=nt.toString()+"%")}startDragging(i){this.showContextMenu=!1,this.mouseDragged=!0,document.getElementById("comparison-table-container").style.overflowY="hidden",document.addEventListener("mousemove",this.changeCodeEditorHeight,!1)}hideContextMenu(){this.showContextMenu=!1,document.getElementById("comparison-table-container").style.overflowY="auto"}clearGrid(i){i||(this.comparisonDataToDisplay=[])}bindElements(i){if(!this.isDataAvailable){const o=document.querySelectorAll(".grid-data-row");i&&o.length===i.length&&(this.isDataAvailable=!0,o[0].firstElementChild.focus(),clearInterval(this.intervalId))}}showTreeControlContextMenu(i){i.preventDefault(),i.stopPropagation();const o=document.getElementsByTagName("html"),h=document.getElementById("comparison-grid");let I,J,ve=0;if(o&&o[0]&&(ve=o[0].scrollTop,I=o[0].offsetWidth),h&&(J=h.offsetWidth),!i.target.classList||!i.target.classList.contains("grid-data-row")&&!i.target.classList.contains("grid-column"))return!1;if(i.clientX)this.treeControlContextMenuX=i.clientX,this.treeControlContextMenuY=i.clientY;else{const Re=document.getElementById(i.target.id).parentElement;this.treeControlContextMenuY=Re.getBoundingClientRect().top+Re.offsetHeight,this.treeControlContextMenuX=Re.getBoundingClientRect().left+Re.offsetWidth/2,J>I&&(this.treeControlContextMenuX=I/2)}return this.treeControlContextMenuY=this.treeControlContextMenuY+ve,this.showContextMenu=!0,this.selectedCell=i.target.id,!1}onSelect(i,o){let h;o.stopPropagation(),this.showContextMenu=!1,document.getElementById("comparison-table-container").style.overflowY="auto",this.appLog.add("Grid: Row selected","info"),h=i?"node-"+i.Id:o.target.id;const I=o.ctrlKey,J=o.shiftKey,ve=document.querySelectorAll(".transparent-cell");for(let nt=0;nt<ve.length;nt+=1)ve[nt].classList.remove("transparent-cell");if(J){let nt,yt,Gt,In;if(yt=this.lastSelectedRow&&document.getElementById(this.lastSelectedRow.id)?document.getElementById(this.lastSelectedRow.id):this.firstRow.nativeElement,Gt=document.getElementById(o.target.id).parentElement,!yt.classList.contains("grid-row")||!Gt.classList.contains("grid-row")){yt.classList.contains("grid-row")&&(yt=this.getSiblingElement(!1,yt.id)),Gt.classList.contains("grid-row")&&(Gt=this.getSiblingElement(!1,Gt.id)),In=document.getElementById(o.target.id).getAttribute("data-column-type");const Tn=parseInt(yt.getAttribute("data-row-number"),10),Un=parseInt(Gt.getAttribute("data-row-number"),10);Tn!==Un?(nt=!(Tn<Un),this.selectRange(nt,yt.id,Gt.id,In)):(document.getElementById(h).classList.add("selected-row"),this.selectedObject=i)}}else{const nt=document.querySelectorAll(".selected-row");if(!I){this.selectedNodes=[];for(let yt=0;yt<nt.length;yt+=1)nt[yt].classList.remove("selected-row")}i?(-1===this.selectedNodes.indexOf(i.Id)?(document.getElementById(h).classList.add("selected-row"),this.selectedNodes.push(i.Id),this.lastSelectedRow=document.getElementById(h)):(document.getElementById(h).classList.remove("selected-row"),this.selectedNodes.splice(this.selectedNodes.indexOf(i.Id),1)),this.selectedObject=i):this.lastSelectedRow=document.getElementById(h).parentElement}const Re=document.querySelectorAll(".selected-row .greyed-out-cell");for(let nt=0;nt<Re.length;nt++)Re[nt].classList.add("transparent-cell")}selectRange(i,o,h,I){let ve,Re,J=!0;for(document.getElementById(o).classList.add("selected-row"),Re=this.comparisonDataToDisplay.find(nt=>nt.Id===parseInt(o.split("node-")[1],10)),this.selectedObject=Re,-1===this.selectedNodes.indexOf(Re.Id)&&this.selectedNodes.push(Re.Id);J;)ve=i?document.getElementById(o)?.previousElementSibling:document.getElementById(o)?.nextElementSibling,ve?.id&&ve.id!==h?(o=ve.id,document.getElementById(o+"-"+I).focus(),Re=this.comparisonDataToDisplay.find(nt=>nt.Id===parseInt(o.split("node-")[1],10)),this.selectedObject=Re,-1===this.selectedNodes.indexOf(Re.Id)&&(ve.classList.add("selected-row"),this.selectedNodes.push(Re.Id)),ve.focus(),ve=i?document.getElementById(o)?.previousElementSibling:document.getElementById(o)?.nextElementSibling):J=!1;document.getElementById(h).classList.add("selected-row"),Re=this.comparisonDataToDisplay.find(nt=>nt.Id===parseInt(h.split("node-")[1],10)),this.selectedObject=Re,-1===this.selectedNodes.indexOf(Re.Id)&&this.selectedNodes.push(Re.Id),document.getElementById(h+"-"+I).focus()}onKeyup(i){return i.preventDefault(),i.stopPropagation(),93!==i.which||(this.showTreeControlContextMenu(i),!1)}onKeydown(i){let o,h,I,J;if(this.showContextMenu=!1,document.getElementById("comparison-table-container").style.overflowY="auto",h=i.target.parentElement,I=document.getElementById(i.target.id).getAttribute("data-column-type"),i.ctrlKey&&83===i.which)return void this.gridService.saveOrCompare("save");if(i.ctrlKey&&i.altKey&&67===i.which)return void this.gridService.saveOrCompare("compare");const ve=document.querySelectorAll(".transparent-cell");for(let nt=0;nt<ve.length;nt+=1)ve[nt].classList.remove("transparent-cell");if(38===i.which||40===i.which)if(i.preventDefault(),i.stopPropagation(),i.ctrlKey){if(i.shiftKey){let Gt,In,Tn,Un,nt=!0,yt=!0;for(38===i.which?(this.direction="up",yt=!0):(this.direction="down",yt=!1),this.lastSelectedRow&&(Gt=this.lastSelectedRow.id,J=this.comparisonDataToDisplay.find(ci=>ci.Id===parseInt(Gt.split("node-")[1],10))),this.oldDirection&&this.oldDirection!==this.direction&&this.lastSelectedRow&&this.lastSelectedRow!==h&&(this.selectedNodes.indexOf(J.Id)>-1?(this.lastSelectedRow.classList.remove("selected-row"),this.selectedNodes.splice(this.selectedNodes.indexOf(J.Id),1)):(this.lastSelectedRow.classList.add("selected-row"),this.selectedNodes.push(J.Id))),In=document.getElementById("comparison-grid"),Tn=this.getSiblingElement(!1,In.firstElementChild.firstElementChild.id),Un=In.firstElementChild.lastElementChild,Gt=h.id,J=this.comparisonDataToDisplay.find(ci=>ci.Id===parseInt(Gt.split("node-")[1],10)),this.oldDirection&&this.oldDirection!==this.direction&&(Tn===h||Un===h)&&(this.selectedNodes.indexOf(J.Id)>-1?(h.classList.remove("selected-row"),this.selectedNodes.splice(this.selectedNodes.indexOf(J.Id),1)):(h.classList.add("selected-row"),this.selectedNodes.push(J.Id))),this.oldDirection=this.direction;nt;)o=this.getSiblingElement(yt,Gt),o&&o.classList&&o.classList.contains("grid-data-row")?(Gt=o.id,document.getElementById(Gt+"-"+I).focus(),J=this.comparisonDataToDisplay.find(ci=>ci.Id===parseInt(Gt.split("node-")[1],10)),this.selectedObject=J,-1===this.selectedNodes.indexOf(J.Id)?(o.classList.add("selected-row"),this.selectedNodes.push(J.Id)):(o.classList.remove("selected-row"),this.selectedNodes.splice(this.selectedNodes.indexOf(J.Id),1)),o.focus(),o=this.getSiblingElement(yt,Gt)):nt=!1}}else{if(!i.shiftKey)if("action-dropdown"===I){let nt;nt=document.getElementById(i.target.id).firstElementChild,J=this.comparisonDataToDisplay.find(In=>In.Id===parseInt(i.target.id.split("node-")[1],10));const yt=nt.selectedOptions[0],Gt=yt.innerHTML;if(o=this.getSiblingElement(38===i.which,yt.id),o){nt.selectedIndex=38===i.which?nt.selectedIndex-1:nt.selectedIndex+1;const In=nt.selectedOptions[0].innerHTML;In!==Gt&&(this.gridService.sendChange(J.Id,In,Gt),this.getDataToDisplay(!0))}}else{this.selectedNodes=[];const nt=document.querySelectorAll(".selected-row");for(let yt=0;yt<nt.length;yt++)nt[yt].classList.remove("selected-row")}if("action-dropdown"!==I){38===i.which?(this.direction="up",o=this.getSiblingElement(!0,h.id)):(this.direction="down",o=this.getSiblingElement(!1,h.id));let nt=!0,yt=h.id;yt=yt.split("node-")[1],J=this.comparisonDataToDisplay.find(Gt=>Gt.Id===parseInt(yt,10)),this.oldDirection&&this.oldDirection!==this.direction&&this.selectedNodes.length>1?this.selectedNodes.indexOf(J.Id)>-1&&(h.classList.remove("selected-row"),this.selectedNodes.splice(this.selectedNodes.indexOf(J.Id),1),nt=!1):(0===this.selectedNodes.length||1===this.selectedNodes.length)&&(this.oldDirection=this.direction),o&&o.classList.contains("grid-data-row")||(o=h,nt=!1),yt=o.id,document.getElementById(yt+"-"+I).focus(),yt=yt.split("node-")[1],J=this.comparisonDataToDisplay.find(Gt=>Gt.Id===parseInt(yt,10)),-1===this.selectedNodes.indexOf(J.Id)?(o.classList.add("selected-row"),this.selectedNodes.push(J.Id),this.lastSelectedRow=o):nt&&(o.classList.remove("selected-row"),this.selectedNodes.splice(this.selectedNodes.indexOf(J.Id),1)),this.selectedObject=J}}else if((37===i.which||39===i.which||9===i.which||i.shiftKey&&9===i.which)&&!i.ctrlKey){i.preventDefault(),i.stopPropagation();let yt,Gt,In,Tn,nt=!0;Gt=document.getElementById("comparison-grid"),In=this.getSiblingElement(!1,Gt.firstElementChild.firstElementChild.id),Tn=Gt.firstElementChild.lastElementChild,(39===i.which||9===i.which&&!i.shiftKey)&&(nt=!1),o=this.getSiblingElement(nt,i.target.id),o?o.focus():(I=document.getElementById(i.target.id).getAttribute("data-column-type"),h===In&&"node-type"===I||h===Tn&&"action-dropdown"===I||(h.classList.remove("selected-row"),J=this.comparisonDataToDisplay.find(Un=>Un.Id===parseInt(h.id.split("node-")[1],10)),this.selectedNodes.indexOf(J.Id)>-1&&this.selectedNodes.splice(this.selectedNodes.indexOf(J.Id),1),o=this.getSiblingElement(nt,h.id),J=this.comparisonDataToDisplay.find(Un=>Un.Id===parseInt(o.id.split("node-")[1],10)),this.selectedObject=J,-1===this.selectedNodes.indexOf(J.Id)?(o.classList.add("selected-row"),this.selectedNodes.push(J.Id)):(o.classList.remove("selected-row"),this.selectedNodes.splice(this.selectedNodes.indexOf(J.Id),1)),yt=nt?document.getElementById(o.id).lastElementChild:document.getElementById(o.id).firstElementChild,document.getElementById(yt.id).focus()))}const Re=document.querySelectorAll(".selected-row .greyed-out-cell");for(let nt=0;nt<Re.length;nt+=1)Re[nt].classList.add("transparent-cell")}getSiblingElement(i,o){return i?document.getElementById(o).previousElementSibling:document.getElementById(o).nextElementSibling}optionChange(i,o){const h=o.target.value;let I;const J=this.comparisonDataToDisplay.find(ve=>ve.Id===i);J?(I=J.MergeAction,this.gridService.sendChange(i,h,I),this.getDataToDisplay(!0)):console.error("Node not found")}getImage(i,o){let h;return 1===o?h="./assets/node-type-"+i.NodeType.replace(" ","-")+".png":2===o&&(h=i.DropdownDisabled?"./assets/action-"+i.MergeAction.replace(" ","-")+"-Grey.png":"./assets/action-"+i.MergeAction.replace(" ","-")+".png"),h}getIndentLevel(i){return 20*i+5+"px"}getDataToDisplay(i){this.gridService.getGridDataToDisplay().subscribe(o=>{if(i)this.changeOptions(o);else{this.isDataAvailable=!1,this.comparisonDataToDisplay=o;const h=this.comparisonDataToDisplay;if(this.comparisonDataToDisplay.length>0){this.selectedObject=this.comparisonDataToDisplay[0];const I=this;this.intervalId=setInterval(function(){I.bindElements(h)},1e3)}}this.showContextMenu=!1})}changeOptions(i){let o,h;for(let I=0;I<i.length;I+=1)o=i[I].Id,h=this.comparisonDataToDisplay.find(J=>J.Id===o),h.MergeAction=i[I].MergeAction,h.DropdownDisabled=i[I].DropdownDisabled,h.DisableMessage=i[I].DisableMessage,h.ShowNode=i[I].ShowNode}getGridData(){return this.appLog.add("Grid: Sending data to C#","info"),JSON.stringify(this.comparisonDataToDisplay)}static#e=this.\u0275fac=function(o){return new(o||e)(Yi(PC),Yi(Tp),Yi(Rs))};static#t=this.\u0275cmp=so({type:e,selectors:[["app-grid"]],viewQuery:function(o,h){if(1&o&&function OS(e,n,i){x1(e,n,i)}(S5,5),2&o){let I;(function RS(e){const n=bi(),i=Lt(),o=Xi();Ji(o+1);const h=Fv(i,o);if(e.dirty&&function vc(e){return!(4&~e[lo])}(n)===!(2&~h.metadata.flags)){if(null===h.matches)e.reset([]);else{const I=A1(n,o);e.reset(I,Ac),e.notifyOnChanges()}return!0}return!1})(I=NS())&&(h.firstRow=I.first)}},hostBindings:function(o,h){1&o&&qo("mouseup",function(J){return h.onMouseUp(J)},0,J_)("resize",function(J){return h.onResize(J)},!1,X_)},decls:5,vars:4,consts:[["gridRow",""],[4,"ngIf"],["id","main-container",1,"clearfix",3,"click"],["id","comparison-table-container",4,"ngIf"],["id","draggable-bar",3,"mousedown","contextmenu",4,"ngIf"],["id","code-editor-resizable",3,"contextmenu",4,"ngIf"],[3,"contextMenuPositionX","contextMenuPositionY","selectedNodes","selectedCell"],["id","comparison-table-container"],["id","comparison-grid"],["id","header-row",1,"grid-row",3,"contextmenu"],["id","header-node-type","data-column-type","node-type",1,"grid-header-column","node-type-column",3,"click"],["id","header-source-name","data-column-type","source-name",1,"grid-header-column","source-name-column",3,"click"],["id","header-status","data-column-type","status",1,"grid-header-column","status-column",3,"click"],["id","header-target-name","data-column-type","target-name",1,"grid--header-column","target-name-column",3,"click"],["id","header-selected-action","data-column-type","selected-action",1,"grid-header-column","action-icon-column",3,"click"],["id","header-action-dropdown","data-column-type","action-dropdown",1,"grid-header-column","grid-column","action-options",3,"click"],[3,"class","hide-row","selected-row","id","contextmenu",4,"ngFor","ngForOf"],[3,"contextmenu","id"],["data-column-type","node-type",1,"grid-column","node-type-column",3,"click","keydown","keyup","title","tabindex","id"],[1,"node-images",3,"src"],[1,"node-type"],["data-column-type","source-name",1,"grid-column","source-name-column",3,"click","keydown","keyup","title","tabindex","id"],["data-column-type","status",1,"grid-column","status-column",3,"click","keydown","keyup","title","id","tabindex"],["data-column-type","target-name",1,"grid-column","target-name-column",3,"click","keydown","keyup","title","id","tabindex"],["data-column-type","selected-action",1,"grid-column","action-icon-column",3,"click","keydown","keyup","tabindex","id"],["data-column-type","action-dropdown",1,"grid-column","action-options",3,"click","keydown","keyup","tabindex","id"],[1,"action-dropdown",3,"change","disabled","id"],[3,"selected","id",4,"ngFor","ngForOf"],[3,"selected","id"],["id","draggable-bar",3,"mousedown","contextmenu"],["id","code-editor-resizable",3,"contextmenu"],[3,"comparisonData"]],template:function(o,h){1&o&&(gd(0,D5,2,4,"div",1),ss(1,"div",2),qo("click",function(){return h.hideContextMenu()}),gd(2,L5,15,1,"div",3)(3,x5,1,0,"div",4)(4,M5,2,1,"div",5),ys()),2&o&&(aa("ngIf",1==h.showContextMenu),$s(2),aa("ngIf",h.comparisonDataToDisplay.length>0),$s(),aa("ngIf",h.comparisonDataToDisplay.length>0),$s(),aa("ngIf",h.comparisonDataToDisplay.length>0))},dependencies:[kE,OE,bL,SL,b5,y5],styles:['.clearfix[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}#main-container[_ngcontent-%COMP%]{height:100%;position:absolute;inset:0;overflow-y:hidden}#comparison-table-container[_ngcontent-%COMP%]{height:72.22%;overflow-y:auto;background-color:#f2f2f2;min-height:100px}#draggable-bar[_ngcontent-%COMP%]{background-color:transparent;height:5px;width:100%;cursor:row-resize}#comparison-grid[_ngcontent-%COMP%]{border:1px solid rgba(112,112,112,.64);margin:10px;border-collapse:collapse;background-color:#fff;min-width:-webkit-fill-available;max-width:99%}.grid-column[_ngcontent-%COMP%], .grid-header-column[_ngcontent-%COMP%]{padding:1px 1px 1px 4px;border:1px solid rgba(112,112,112,.64);max-width:200px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;-webkit-user-select:none;user-select:none}.grid-column[_ngcontent-%COMP%]:focus{outline:1px dotted #000}.grid-column.action-icon-column[_ngcontent-%COMP%]{text-align:center;padding-right:4px;vertical-align:middle}.grid-column.status-column[_ngcontent-%COMP%]{width:130px}.grid-data-row[_ngcontent-%COMP%], .grid-row[_ngcontent-%COMP%]{font-weight:400;font-size:12px;font-family:Segoe UI;color:#323232;height:10px}.grid-row[_ngcontent-%COMP%]{font-weight:600}.hide-row[_ngcontent-%COMP%]{display:none}.greyed-out-cell[_ngcontent-%COMP%]{background-color:#e6e6e6}.action-options[_ngcontent-%COMP%]{width:75px}.action-dropdown[_ngcontent-%COMP%]{width:85px;font-size:12px;font-weight:400;font-family:Segoe UI;color:#323232}.action-options[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:none;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;background-image:url(dropdown.png);background-repeat:no-repeat;background-size:25px 25px;background-position:center right}.action-options[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.action-options[_ngcontent-%COMP%]   .action-dropdown[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background-color:#0078d7}.action-dropdown[_ngcontent-%COMP%]:disabled{color:#9e9e9e}.selected-row[_ngcontent-%COMP%]   .action-dropdown[_ngcontent-%COMP%]{color:#fff}.selected-row[_ngcontent-%COMP%]   .action-dropdown[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.node-images[_ngcontent-%COMP%]{height:15px;width:15px}.node-type[_ngcontent-%COMP%]{position:relative;top:-3px}.selected-row[_ngcontent-%COMP%]{background-color:#0078d7;color:#fff}.transparent-cell[_ngcontent-%COMP%]{background-color:transparent}#code-editor-resizable[_ngcontent-%COMP%]{height:27.78%;width:100%;min-height:50px}']})}return e})(),A5=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=so({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(o,h){1&o&&Gd(0,"app-grid")},dependencies:[I5],styles:["body[_ngcontent-%COMP%]{overflow-y:hidden}"]})}return e})(),T5=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=ds({type:e,bootstrap:[A5]});static#n=this.\u0275inj=$i({providers:[PC,Tp,kL],imports:[b2,h5]})}return e})();v2().bootstrapModule(T5).catch(e=>console.log(e))},98557:tt=>{tt.exports=function(xe){var t=[];return t.toString=function(){return this.map(function(F){var w="",x=typeof F[5]<"u";return F[4]&&(w+="@supports (".concat(F[4],") {")),F[2]&&(w+="@media ".concat(F[2]," {")),x&&(w+="@layer".concat(F[5].length>0?" ".concat(F[5]):""," {")),w+=xe(F),x&&(w+="}"),F[2]&&(w+="}"),F[4]&&(w+="}"),w}).join("")},t.i=function(F,w,x,C,S){"string"==typeof F&&(F=[[null,F,void 0]]);var b={};if(x)for(var P=0;P<this.length;P++){var D=this[P][0];null!=D&&(b[D]=!0)}for(var v=0;v<F.length;v++){var _=[].concat(F[v]);x&&b[_[0]]||(typeof S<"u"&&(typeof _[5]>"u"||(_[1]="@layer".concat(_[5].length>0?" ".concat(_[5]):""," {").concat(_[1],"}")),_[5]=S),w&&(_[2]&&(_[1]="@media ".concat(_[2]," {").concat(_[1],"}")),_[2]=w),C&&(_[4]?(_[1]="@supports (".concat(_[4],") {").concat(_[1],"}"),_[4]=C):_[4]="".concat(C)),t.push(_))}},t}},99560:tt=>{tt.exports=function(xe,t){return t||(t={}),xe&&(xe=String(xe.__esModule?xe.default:xe),/^['"].*['"]$/.test(xe)&&(xe=xe.slice(1,-1)),t.hash&&(xe+=t.hash),/["'() \t\n]|(%20)/.test(xe)||t.needQuotes?'"'.concat(xe.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):xe)}},8564:tt=>{tt.exports=function(xe){return xe[1]}},48169:(tt,xe,t)=>{t.r(xe),t.d(xe,{CancellationTokenSource:()=>B_,Emitter:()=>Bc,KeyCode:()=>Vu,KeyMod:()=>nf,MarkerSeverity:()=>em,MarkerTag:()=>tm,Position:()=>of,Range:()=>sf,Selection:()=>rf,SelectionDirection:()=>qg,Token:()=>im,Uri:()=>nm,default:()=>bb,editor:()=>ll,languages:()=>Ud});var a={};t.r(a),t.d(a,{CancellationTokenSource:()=>B_,Emitter:()=>Bc,KeyCode:()=>Vu,KeyMod:()=>nf,MarkerSeverity:()=>em,MarkerTag:()=>tm,Position:()=>of,Range:()=>sf,Selection:()=>rf,SelectionDirection:()=>qg,Token:()=>im,Uri:()=>nm,editor:()=>ll,languages:()=>Ud}),t(48102),t(33500),t(88175),t(93070),t(82585),t(44695),t(90547);var D=t(23544),vt=(t(47554),t(99498),t(62180),t(2244),t(67059),t(29563),t(92063),t(55245),t(1552),t(59091),t(80500),t(70254),t(30284),t(62170),t(36899),t(43714),t(63725),t(7809),t(95259),t(34672),t(2239),t(27655),t(29668),t(69108),t(71007),t(15891),t(3989),t(4770),t(69599),t(23715),t(9210),t(69533),t(9426),t(64275),t(69395),t(64091),t(7106),t(33760),t(83194),t(65962),t(36568),t(14113),t(10837),t(56770),t(4681),t(87211),t(3089),t(6259),t(61555),t(47899),t(84439),t(44615),t(56509),t(85322),t(57185),t(86295),t(15499),t(41561),t(99207)),fn=t(96484),on=t(10467),ht=t(63096),Je=t(99031),ot=t(6653),De=t(32417),Qe=t(85072),mt=t.n(Qe),kt=t(97825),Ht=t.n(kt),Ft=t(77659),Bt=t.n(Ft),rt=t(55056),Ut=t.n(rt),St=t(10540),ke=t.n(St),Ze=t(41113),Ye=t.n(Ze),st=t(3614),Ke={};Ke.styleTagTransform=Ye(),Ke.setAttributes=Ut(),Ke.insert=Bt().bind(null,"head"),Ke.domAPI=Ht(),Ke.insertStyleElement=ke(),mt()(st.A,Ke);var qt=t(52963),Yt=t(47639),en=t(31212),an=t(24311),lt=t(91664);class tn extends lt.Z6{constructor(c,y,V){super(c,V.keepIdleModels||!1,V.label,y),this._foreignModuleId=V.moduleId,this._foreignModuleCreateData=V.createData||null,this._foreignModuleHost=V.host||null,this._foreignProxy=null}fhr(c,y){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[c])return Promise.reject(new Error("Missing method "+c+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[c].apply(this._foreignModuleHost,y))}catch(V){return Promise.reject(V)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(c=>{const y=this._foreignModuleHost?(0,an.V0)(this._foreignModuleHost):[];return c.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,y).then(V=>{this._foreignModuleCreateData=null;const he=(Ge,bt)=>c.fmr(Ge,bt),pe=(Ge,bt)=>function(){const jt=Array.prototype.slice.call(arguments,0);return bt(Ge,jt)},Oe={};for(const Ge of V)Oe[Ge]=pe(Ge,he);return Oe})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(c){return this._withSyncedResources(c).then(y=>this.getProxy())}}var bn=t(78854),Bn=t(13317),zn=t(51967),Zn=t(41489),ei=t(385),wi=t(70416),hi=t(37864),yi=t(82879),Vi=t(63782),Wi=t(31925),Pn=t(42908),pt=t(87892),ct=t(33480),Tt=t(38993),ut=t(1905);function Jt(We){return!function Ct(We){return Array.isArray(We)}(We)}function un(We){return"string"==typeof We}function Wn(We){return!un(We)}function Kn(We){return!We}function jn(We,c){return We.ignoreCase&&c?c.toLowerCase():c}function Nn(We){return We.replace(/[&<>'"_]/g,"-")}function gn(We,c){console.log(`${We.languageId}: ${c}`)}function Wt(We,c){return new Error(`${We.languageId}: ${c}`)}function mn(We,c,y,V,he){let Oe=null;return c.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(Ge,bt,jt,ln,wn,ti,ii,Ai,to){return Kn(jt)?Kn(ln)?!Kn(wn)&&wn<V.length?jn(We,V[wn]):!Kn(ii)&&We&&"string"==typeof We[ii]?We[ii]:(null===Oe&&(Oe=he.split("."),Oe.unshift(he)),!Kn(ti)&&ti<Oe.length?jn(We,Oe[ti]):""):jn(We,y):"$"})}function On(We,c){let y=c;for(;y&&y.length>0;){const V=We.tokenizer[y];if(V)return V;const he=y.lastIndexOf(".");y=he<0?null:y.substr(0,he)}return null}var Sn,Qn=t(35072);class je{static create(c,y){return this._INSTANCE.create(c,y)}constructor(c){this._maxCacheDepth=c,this._entries=Object.create(null)}create(c,y){if(null!==c&&c.depth>=this._maxCacheDepth)return new at(c,y);let V=at.getStackElementId(c);V.length>0&&(V+="|"),V+=y;let he=this._entries[V];return he||(he=new at(c,y),this._entries[V]=he,he)}}je._INSTANCE=new je(5);class at{constructor(c,y){this.parent=c,this.state=y,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(c){let y="";for(;null!==c;)y.length>0&&(y+="|"),y+=c.state,c=c.parent;return y}static _equals(c,y){for(;null!==c&&null!==y;){if(c===y)return!0;if(c.state!==y.state)return!1;c=c.parent,y=y.parent}return null===c&&null===y}equals(c){return at._equals(this,c)}push(c){return je.create(this,c)}pop(){return this.parent}popall(){let c=this;for(;c.parent;)c=c.parent;return c}switchTo(c){return je.create(this.parent,c)}}class Mt{constructor(c,y){this.languageId=c,this.state=y}equals(c){return this.languageId===c.languageId&&this.state.equals(c.state)}clone(){return this.state.clone()===this.state?this:new Mt(this.languageId,this.state)}}class Et{static create(c,y){return this._INSTANCE.create(c,y)}constructor(c){this._maxCacheDepth=c,this._entries=Object.create(null)}create(c,y){if(null!==y)return new Vt(c,y);if(null!==c&&c.depth>=this._maxCacheDepth)return new Vt(c,y);const V=at.getStackElementId(c);let he=this._entries[V];return he||(he=new Vt(c,null),this._entries[V]=he,he)}}Et._INSTANCE=new Et(5);class Vt{constructor(c,y){this.stack=c,this.embeddedLanguageData=y}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Et.create(this.stack,this.embeddedLanguageData)}equals(c){return!!(c instanceof Vt&&this.stack.equals(c.stack))&&(null===this.embeddedLanguageData&&null===c.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==c.embeddedLanguageData&&this.embeddedLanguageData.equals(c.embeddedLanguageData))}}class zt{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(c){this._languageId=c}emit(c,y){this._lastTokenType===y&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=y,this._lastTokenLanguage=this._languageId,this._tokens.push(new Zn.ou(c,y,this._languageId)))}nestedLanguageTokenize(c,y,V,he){const pe=V.languageId,Oe=V.state,Ge=Zn.dG.get(pe);if(!Ge)return this.enterLanguage(pe),this.emit(he,""),Oe;const bt=Ge.tokenize(c,y,Oe);if(0!==he)for(const jt of bt.tokens)this._tokens.push(new Zn.ou(jt.offset+he,jt.type,jt.language));else this._tokens=this._tokens.concat(bt.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,bt.endState}finalize(c){return new Zn.$M(this._tokens,c)}}class sn{constructor(c,y){this._languageService=c,this._theme=y,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(c){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(c)}emit(c,y){const V=1024|this._theme.match(this._currentLanguageId,y);this._lastTokenMetadata!==V&&(this._lastTokenMetadata=V,this._tokens.push(c),this._tokens.push(V))}static _merge(c,y,V){const he=null!==c?c.length:0,pe=y.length,Oe=null!==V?V.length:0;if(0===he&&0===pe&&0===Oe)return new Uint32Array(0);if(0===he&&0===pe)return V;if(0===pe&&0===Oe)return c;const Ge=new Uint32Array(he+pe+Oe);null!==c&&Ge.set(c);for(let bt=0;bt<pe;bt++)Ge[he+bt]=y[bt];return null!==V&&Ge.set(V,he+pe),Ge}nestedLanguageTokenize(c,y,V,he){const pe=V.languageId,Oe=V.state,Ge=Zn.dG.get(pe);if(!Ge)return this.enterLanguage(pe),this.emit(he,""),Oe;const bt=Ge.tokenizeEncoded(c,y,Oe);if(0!==he)for(let jt=0,ln=bt.tokens.length;jt<ln;jt+=2)bt.tokens[jt]+=he;return this._prependTokens=sn._merge(this._prependTokens,this._tokens,bt.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,bt.endState}finalize(c){return new Zn.rY(sn._merge(this._prependTokens,this._tokens,null),c)}}let kn=Sn=class extends Je.jG{constructor(c,y,V,he,pe){super(),this._configurationService=pe,this._languageService=c,this._standaloneThemeService=y,this._languageId=V,this._lexer=he,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let Oe=!1;this._register(Zn.dG.onDidChange(Ge=>{if(Oe)return;let bt=!1;for(let jt=0,ln=Ge.changedLanguages.length;jt<ln;jt++)if(this._embeddedLanguages[Ge.changedLanguages[jt]]){bt=!0;break}bt&&(Oe=!0,Zn.dG.handleChange([this._languageId]),Oe=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(Ge=>{Ge.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const c=[];for(const y in this._embeddedLanguages){const V=Zn.dG.get(y);if(V){if(V instanceof Sn){const he=V.getLoadStatus();!1===he.loaded&&c.push(he.promise)}}else Zn.dG.isResolved(y)||c.push(Zn.dG.getOrCreate(y))}return 0===c.length?{loaded:!0}:{loaded:!1,promise:Promise.all(c).then(y=>{})}}getInitialState(){const c=je.create(null,this._lexer.start);return Et.create(c,null)}tokenize(c,y,V){if(c.length>=this._maxTokenizationLineLength)return(0,yi.$H)(this._languageId,V);const he=new zt,pe=this._tokenize(c,y,V,he);return he.finalize(pe)}tokenizeEncoded(c,y,V){if(c.length>=this._maxTokenizationLineLength)return(0,yi.Lh)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),V);const he=new sn(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),pe=this._tokenize(c,y,V,he);return he.finalize(pe)}_tokenize(c,y,V,he){return V.embeddedLanguageData?this._nestedTokenize(c,y,V,0,he):this._myTokenize(c,y,V,0,he)}_findLeavingNestedLanguageOffset(c,y){let V=this._lexer.tokenizer[y.stack.state];if(!V&&(V=On(this._lexer,y.stack.state),!V))throw Wt(this._lexer,"tokenizer state is not defined: "+y.stack.state);let he=-1,pe=!1;for(const Oe of V){if(!Wn(Oe.action)||"@pop"!==Oe.action.nextEmbedded)continue;pe=!0;let Ge=Oe.resolveRegex(y.stack.state);const bt=Ge.source;if("^(?:"===bt.substr(0,4)&&")"===bt.substr(bt.length-1,1)){const ln=(Ge.ignoreCase?"i":"")+(Ge.unicode?"u":"");Ge=new RegExp(bt.substr(4,bt.length-5),ln)}const jt=c.search(Ge);-1===jt||0!==jt&&Oe.matchOnlyAtLineStart||(-1===he||jt<he)&&(he=jt)}if(!pe)throw Wt(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+y.stack.state);return he}_nestedTokenize(c,y,V,he,pe){const Oe=this._findLeavingNestedLanguageOffset(c,V);if(-1===Oe){const jt=pe.nestedLanguageTokenize(c,y,V.embeddedLanguageData,he);return Et.create(V.stack,new Mt(V.embeddedLanguageData.languageId,jt))}const Ge=c.substring(0,Oe);Ge.length>0&&pe.nestedLanguageTokenize(Ge,!1,V.embeddedLanguageData,he);const bt=c.substring(Oe);return this._myTokenize(bt,y,V,he+Oe,pe)}_safeRuleName(c){return c?c.name:"(unknown)"}_myTokenize(c,y,V,he,pe){pe.enterLanguage(this._languageId);const Oe=c.length,Ge=y&&this._lexer.includeLF?c+"\n":c,bt=Ge.length;let jt=V.embeddedLanguageData,ln=V.stack,wn=0,ti=null,ii=!0;for(;ii||wn<bt;){const Ai=wn,to=ln.depth,ho=ti?ti.groups.length:0,wo=ln.state;let Eo=null,mo=null,eo=null,Io=null,hs=null;if(ti){Eo=ti.matches;const Bo=ti.groups.shift();mo=Bo.matched,eo=Bo.action,Io=ti.rule,0===ti.groups.length&&(ti=null)}else{if(!ii&&wn>=bt)break;ii=!1;let Bo=this._lexer.tokenizer[wo];if(!Bo&&(Bo=On(this._lexer,wo),!Bo))throw Wt(this._lexer,"tokenizer state is not defined: "+wo);const Hs=Ge.substr(wn);for(const vs of Bo)if((0===wn||!vs.matchOnlyAtLineStart)&&(Eo=Hs.match(vs.resolveRegex(wo)),Eo)){mo=Eo[0],eo=vs.action;break}}if(Eo||(Eo=[""],mo=""),eo||(wn<bt&&(Eo=[Ge.charAt(wn)],mo=Eo[0]),eo=this._lexer.defaultToken),null===mo)break;for(wn+=mo.length;Jt(eo)&&Wn(eo)&&eo.test;)eo=eo.test(mo,Eo,wo,wn===bt);let fs=null;if("string"==typeof eo||Array.isArray(eo))fs=eo;else if(eo.group)fs=eo.group;else if(null!=eo.token){if(fs=eo.tokenSubst?mn(this._lexer,eo.token,mo,Eo,wo):eo.token,eo.nextEmbedded)if("@pop"===eo.nextEmbedded){if(!jt)throw Wt(this._lexer,"cannot pop embedded language if not inside one");jt=null}else{if(jt)throw Wt(this._lexer,"cannot enter embedded language from within an embedded language");hs=mn(this._lexer,eo.nextEmbedded,mo,Eo,wo)}if(eo.goBack&&(wn=Math.max(0,wn-eo.goBack)),eo.switchTo&&"string"==typeof eo.switchTo){let Bo=mn(this._lexer,eo.switchTo,mo,Eo,wo);if("@"===Bo[0]&&(Bo=Bo.substr(1)),!On(this._lexer,Bo))throw Wt(this._lexer,"trying to switch to a state '"+Bo+"' that is undefined in rule: "+this._safeRuleName(Io));ln=ln.switchTo(Bo)}else{if(eo.transform&&"function"==typeof eo.transform)throw Wt(this._lexer,"action.transform not supported");if(eo.next)if("@push"===eo.next){if(ln.depth>=this._lexer.maxStack)throw Wt(this._lexer,"maximum tokenizer stack size reached: ["+ln.state+","+ln.parent.state+",...]");ln=ln.push(wo)}else if("@pop"===eo.next){if(ln.depth<=1)throw Wt(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Io));ln=ln.pop()}else if("@popall"===eo.next)ln=ln.popall();else{let Bo=mn(this._lexer,eo.next,mo,Eo,wo);if("@"===Bo[0]&&(Bo=Bo.substr(1)),!On(this._lexer,Bo))throw Wt(this._lexer,"trying to set a next state '"+Bo+"' that is undefined in rule: "+this._safeRuleName(Io));ln=ln.push(Bo)}}eo.log&&"string"==typeof eo.log&&gn(this._lexer,this._lexer.languageId+": "+mn(this._lexer,eo.log,mo,Eo,wo))}if(null===fs)throw Wt(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Io));const kl=Bo=>{const Hs=this._languageService.getLanguageIdByLanguageName(Bo)||this._languageService.getLanguageIdByMimeType(Bo)||Bo,vs=this._getNestedEmbeddedLanguageData(Hs);if(wn<bt){const Hc=c.substr(wn);return this._nestedTokenize(Hc,y,Et.create(ln,vs),he+wn,pe)}return Et.create(ln,vs)};if(Array.isArray(fs)){if(ti&&ti.groups.length>0)throw Wt(this._lexer,"groups cannot be nested: "+this._safeRuleName(Io));if(Eo.length!==fs.length+1)throw Wt(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Io));let Bo=0;for(let Hs=1;Hs<Eo.length;Hs++)Bo+=Eo[Hs].length;if(Bo!==mo.length)throw Wt(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Io));ti={rule:Io,matches:Eo,groups:[]};for(let Hs=0;Hs<fs.length;Hs++)ti.groups[Hs]={action:fs[Hs],matched:Eo[Hs+1]};wn-=mo.length}else{{if("@rematch"===fs&&(wn-=mo.length,mo="",Eo=null,fs="",null!==hs))return kl(hs);if(0===mo.length){if(0===bt||to!==ln.depth||wo!==ln.state||(ti?ti.groups.length:0)!==ho)continue;throw Wt(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Io))}let Bo=null;if(un(fs)&&0===fs.indexOf("@brackets")){const Hs=fs.substr(9),vs=oi(this._lexer,mo);if(!vs)throw Wt(this._lexer,"@brackets token returned but no bracket defined as: "+mo);Bo=Nn(vs.token+Hs)}else Bo=Nn(""===fs?"":fs+this._lexer.tokenPostfix);Ai<Oe&&pe.emit(Ai+he,Bo)}if(null!==hs)return kl(hs)}}return Et.create(ln,jt)}_getNestedEmbeddedLanguageData(c){if(!this._languageService.isRegisteredLanguageId(c))return new Mt(c,yi.r3);c!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(c),Zn.dG.getOrCreate(c),this._embeddedLanguages[c]=!0);const y=Zn.dG.get(c);return new Mt(c,y?y.getInitialState():yi.r3)}};var c;function oi(We,c){if(!c)return null;c=jn(We,c);const y=We.brackets;for(const V of y){if(V.open===c)return{token:V.token,bracketType:1};if(V.close===c)return{token:V.token,bracketType:-1}}return null}kn=Sn=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([(4,c=Qn.pG,function(y,V){c(y,V,4)})],kn);const mi=(0,pt.H)("standaloneColorizer",{createHTML:We=>We});class gi{static colorizeElement(c,y,V,he){const pe=(he=he||{}).theme||"vs",Oe=he.mimeType||V.getAttribute("lang")||V.getAttribute("data-lang");if(!Oe)return console.error("Mode not detected"),Promise.resolve();const Ge=y.getLanguageIdByMimeType(Oe)||Oe;c.setTheme(pe);const bt=V.firstChild?V.firstChild.nodeValue:"";return V.className+=" "+pe,this.colorize(y,bt||"",Ge,he).then(ln=>{var wn;const ti=null!==(wn=mi?.createHTML(ln))&&void 0!==wn?wn:ln;V.innerHTML=ti},ln=>console.error(ln))}static colorize(c,y,V,he){return(0,on.A)(function*(){const pe=c.languageIdCodec;let Oe=4;he&&"number"==typeof he.tabSize&&(Oe=he.tabSize),ot.LU(y)&&(y=y.substr(1));const Ge=ot.uz(y);if(!c.isRegisteredLanguageId(V))return li(Ge,Oe,pe);const bt=yield Zn.dG.getOrCreate(V);return bt?function ai(We,c,y,V){return new Promise((he,pe)=>{const Oe=()=>{const Ge=function $i(We,c,y,V){let he=[],pe=y.getInitialState();for(let Oe=0,Ge=We.length;Oe<Ge;Oe++){const bt=We[Oe],jt=y.tokenizeEncoded(bt,!0,pe);ct.f.convertToEndOffset(jt.tokens,bt.length);const ln=new ct.f(jt.tokens,bt,V),wn=ut.qL.isBasicASCII(bt,!0),ti=ut.qL.containsRTL(bt,wn,!0),ii=(0,Tt.Md)(new Tt.zL(!1,!0,bt,!1,wn,ti,0,ln.inflate(),[],c,0,0,0,0,-1,"none",!1,!1,null));he=he.concat(ii.html),he.push("<br/>"),pe=jt.endState}return he.join("")}(We,c,y,V);if(y instanceof kn){const bt=y.getLoadStatus();if(!1===bt.loaded)return void bt.promise.then(Oe,pe)}he(Ge)};Oe()})}(Ge,Oe,bt,pe):li(Ge,Oe,pe)})()}static colorizeLine(c,y,V,he,pe=4){const Oe=ut.qL.isBasicASCII(c,y),Ge=ut.qL.containsRTL(c,Oe,V);return(0,Tt.Md)(new Tt.zL(!1,!0,c,!1,Oe,Ge,0,he,[],pe,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(c,y,V=4){const he=c.getLineContent(y);c.tokenization.forceTokenization(y);const Oe=c.tokenization.getLineTokens(y).inflate();return this.colorizeLine(he,c.mightContainNonBasicASCII(),c.mightContainRTL(),Oe,V)}}function li(We,c,y){let V=[];const pe=new Uint32Array(2);pe[0]=0,pe[1]=33587200;for(let Oe=0,Ge=We.length;Oe<Ge;Oe++){const bt=We[Oe];pe[0]=bt.length;const jt=new ct.f(pe,bt,y),ln=ut.qL.isBasicASCII(bt,!0),wn=ut.qL.containsRTL(bt,ln,!0),ti=(0,Tt.Md)(new Tt.zL(!1,!0,bt,!1,ln,wn,0,jt,[],c,0,0,0,0,-1,"none",!1,!1,null));V=V.concat(ti.html),V.push("<br/>")}return V.join("")}var Zi=t(39679),Pi=t(82656),At=t(91874),Rt=t(75109),Pt=t(5643),hn=t(18002),An=t(48187);let $n=class extends Je.jG{constructor(c){super(),this._themeService=c,this._onWillCreateCodeEditor=this._register(new Pt.vl),this._onCodeEditorAdd=this._register(new Pt.vl),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new Pt.vl),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new Pt.vl),this._onDiffEditorAdd=this._register(new Pt.vl),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new Pt.vl),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new hn.w,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(c){this._codeEditors[c.getId()]=c,this._onCodeEditorAdd.fire(c)}removeCodeEditor(c){delete this._codeEditors[c.getId()]&&this._onCodeEditorRemove.fire(c)}listCodeEditors(){return Object.keys(this._codeEditors).map(c=>this._codeEditors[c])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(c){this._diffEditors[c.getId()]=c,this._onDiffEditorAdd.fire(c)}listDiffEditors(){return Object.keys(this._diffEditors).map(c=>this._diffEditors[c])}getFocusedCodeEditor(){let c=null;const y=this.listCodeEditors();for(const V of y){if(V.hasTextFocus())return V;V.hasWidgetFocus()&&(c=V)}return c}removeDecorationType(c){const y=this._decorationOptionProviders.get(c);y&&(y.refCount--,y.refCount<=0&&(this._decorationOptionProviders.delete(c),y.dispose(),this.listCodeEditors().forEach(V=>V.removeDecorationsByType(c))))}setModelProperty(c,y,V){const he=c.toString();let pe;this._modelProperties.has(he)?pe=this._modelProperties.get(he):(pe=new Map,this._modelProperties.set(he,pe)),pe.set(y,V)}getModelProperty(c,y){const V=c.toString();if(this._modelProperties.has(V))return this._modelProperties.get(V).get(y)}openCodeEditor(c,y,V){var he=this;return(0,on.A)(function*(){for(const pe of he._codeEditorOpenHandlers){const Oe=yield pe(c,y,V);if(null!==Oe)return Oe}return null})()}registerCodeEditorOpenHandler(c){const y=this._codeEditorOpenHandlers.unshift(c);return(0,Je.s)(y)}};$n=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([function(We,c){return function(y,V){c(y,V,0)}}(0,An.Gy)],$n);var Ii=t(50168),yn=t(56789),Dt=function(We,c){return function(y,V){c(y,V,We)}};let nn=class extends $n{constructor(c,y){var V;super(y),V=this,this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=c.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(function(){var he=(0,on.A)(function*(pe,Oe,Ge){return Oe?V.doOpenEditor(Oe,pe):null});return function(pe,Oe,Ge){return he.apply(this,arguments)}}()))}_checkContextKey(){let c=!1;for(const y of this.listCodeEditors())if(!y.isSimpleWidget){c=!0;break}this._editorIsOpen.set(c)}setActiveCodeEditor(c){this._activeCodeEditor=c}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(c,y){if(!this.findModel(c,y.resource)){if(y.resource){const pe=y.resource.scheme;if(pe===Rt.ny.http||pe===Rt.ny.https)return(0,At.CE)(y.resource.toString()),c}return null}const he=y.options?y.options.selection:null;if(he)if("number"==typeof he.endLineNumber&&"number"==typeof he.endColumn)c.setSelection(he),c.revealRangeInCenter(he,1);else{const pe={lineNumber:he.startLineNumber,column:he.startColumn};c.setPosition(pe),c.revealPositionInCenter(pe,1)}return c}findModel(c,y){const V=c.getModel();return V&&V.uri.toString()!==y.toString()?null:V}};nn=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([Dt(0,Ii.fN),Dt(1,An.Gy)],nn),(0,yn.v)(en.T,nn,0);var pn=t(30833),Zt=t(598);const xn=(0,Zt.u1)("layoutService");var Jn=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe},pi=function(We,c){return function(y,V){c(y,V,We)}};let Ti=class{get mainContainer(){var c,y;return null!==(y=null===(c=(0,pn.Fy)(this._codeEditorService.listCodeEditors()))||void 0===c?void 0:c.getContainerDomNode())&&void 0!==y?y:ht.G.document.body}get activeContainer(){var c,y;const V=null!==(c=this._codeEditorService.getFocusedCodeEditor())&&void 0!==c?c:this._codeEditorService.getActiveCodeEditor();return null!==(y=V?.getContainerDomNode())&&void 0!==y?y:this.mainContainer}get mainContainerDimension(){return At.tG(this.mainContainer)}get activeContainerDimension(){return At.tG(this.activeContainer)}get containers(){return(0,pn.Yc)(this._codeEditorService.listCodeEditors().map(c=>c.getContainerDomNode()))}getContainer(){return this.activeContainer}whenContainerStylesLoaded(){}focus(){var c;null===(c=this._codeEditorService.getFocusedCodeEditor())||void 0===c||c.focus()}constructor(c){this._codeEditorService=c,this.onDidLayoutMainContainer=Pt.Jh.None,this.onDidLayoutActiveContainer=Pt.Jh.None,this.onDidLayoutContainer=Pt.Jh.None,this.onDidChangeActiveContainer=Pt.Jh.None,this.onDidAddContainer=Pt.Jh.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};Ti=Jn([pi(0,en.T)],Ti);let Ni=class extends Ti{get mainContainer(){return this._container}constructor(c,y){super(y),this._container=c}};Ni=Jn([pi(1,en.T)],Ni),(0,yn.v)(xn,Ti,1);var Li=t(25680),Fi=t(63832),vi=t(81644),Gi=t(42638),Ui=t(16362),Mi=t(88270),dn=function(We,c){return function(y,V){c(y,V,We)}};function re(We){return We.scheme===Rt.ny.file?We.fsPath:We.path}let Le=0;class Pe{constructor(c,y,V,he,pe,Oe,Ge){this.id=++Le,this.type=0,this.actual=c,this.label=c.label,this.confirmBeforeUndo=c.confirmBeforeUndo||!1,this.resourceLabel=y,this.strResource=V,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=he,this.groupOrder=pe,this.sourceId=Oe,this.sourceOrder=Ge,this.isValid=!0}setValid(c){this.isValid=c}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class fe{constructor(c,y){this.resourceLabel=c,this.reason=y}}class Te{constructor(){this.elements=new Map}createMessage(){const c=[],y=[];for(const[,he]of this.elements)(0===he.reason?c:y).push(he.resourceLabel);const V=[];return c.length>0&&V.push(vi.kg({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",c.join(", "))),y.length>0&&V.push(vi.kg({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",y.join(", "))),V.join("\n")}get size(){return this.elements.size}has(c){return this.elements.has(c)}set(c,y){this.elements.set(c,y)}delete(c){return this.elements.delete(c)}}class ze{constructor(c,y,V,he,pe,Oe,Ge){this.id=++Le,this.type=1,this.actual=c,this.label=c.label,this.confirmBeforeUndo=c.confirmBeforeUndo||!1,this.resourceLabels=y,this.strResources=V,this.groupId=he,this.groupOrder=pe,this.sourceId=Oe,this.sourceOrder=Ge,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(c,y,V){this.removedResources||(this.removedResources=new Te),this.removedResources.has(y)||this.removedResources.set(y,new fe(c,V))}setValid(c,y,V){V?this.invalidatedResources&&(this.invalidatedResources.delete(y),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new Te),this.invalidatedResources.has(y)||this.invalidatedResources.set(y,new fe(c,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Xe{constructor(c,y){this.resourceLabel=c,this.strResource=y,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const c of this._past)1===c.type&&c.removeResource(this.resourceLabel,this.strResource,0);for(const c of this._future)1===c.type&&c.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const c=[];c.push(`* ${this.strResource}:`);for(let y=0;y<this._past.length;y++)c.push(`   * [UNDO] ${this._past[y]}`);for(let y=this._future.length-1;y>=0;y--)c.push(`   * [REDO] ${this._future[y]}`);return c.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(c,y){1===c.type?c.setValid(this.resourceLabel,this.strResource,y):c.setValid(y)}setElementsValidFlag(c,y){for(const V of this._past)y(V.actual)&&this._setElementValidFlag(V,c);for(const V of this._future)y(V.actual)&&this._setElementValidFlag(V,c)}pushElement(c){for(const y of this._future)1===y.type&&y.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(c),this.versionId++}createSnapshot(c){const y=[];for(let V=0,he=this._past.length;V<he;V++)y.push(this._past[V].id);for(let V=this._future.length-1;V>=0;V--)y.push(this._future[V].id);return new Mi.To(c,y)}restoreSnapshot(c){const y=c.elements.length;let V=!0,he=0,pe=-1;for(let Ge=0,bt=this._past.length;Ge<bt;Ge++,he++){const jt=this._past[Ge];V&&(he>=y||jt.id!==c.elements[he])&&(V=!1,pe=0),!V&&1===jt.type&&jt.removeResource(this.resourceLabel,this.strResource,0)}let Oe=-1;for(let Ge=this._future.length-1;Ge>=0;Ge--,he++){const bt=this._future[Ge];V&&(he>=y||bt.id!==c.elements[he])&&(V=!1,Oe=Ge),!V&&1===bt.type&&bt.removeResource(this.resourceLabel,this.strResource,0)}-1!==pe&&(this._past=this._past.slice(0,pe)),-1!==Oe&&(this._future=this._future.slice(Oe+1)),this.versionId++}getElements(){const c=[],y=[];for(const V of this._past)c.push(V.actual);for(const V of this._future)y.push(V.actual);return{past:c,future:y}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(c,y){for(let V=this._past.length-1;V>=0;V--)if(this._past[V]===c){y.has(this.strResource)?this._past[V]=y.get(this.strResource):this._past.splice(V,1);break}this.versionId++}splitFutureWorkspaceElement(c,y){for(let V=this._future.length-1;V>=0;V--)if(this._future[V]===c){y.has(this.strResource)?this._future[V]=y.get(this.strResource):this._future.splice(V,1);break}this.versionId++}moveBackward(c){this._past.pop(),this._future.push(c),this.versionId++}moveForward(c){this._future.pop(),this._past.push(c),this.versionId++}}class _t{constructor(c){this.editStacks=c,this._versionIds=[];for(let y=0,V=this.editStacks.length;y<V;y++)this._versionIds[y]=this.editStacks[y].versionId}isValid(){for(let c=0,y=this.editStacks.length;c<y;c++)if(this._versionIds[c]!==this.editStacks[c].versionId)return!1;return!0}}const It=new Xe("","");It.locked=!0;let Ot=class{constructor(c,y){this._dialogService=c,this._notificationService=y,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(c){for(const y of this._uriComparisonKeyComputers)if(y[0]===c.scheme)return y[1].getComparisonKey(c);return c.toString()}_print(c){console.log("------------------------------------"),console.log(`AFTER ${c}: `);const y=[];for(const V of this._editStacks)y.push(V[1].toString());console.log(y.join("\n"))}pushElement(c,y=Mi.I_.None,V=Mi.Ym.None){if(0===c.type){const he=re(c.resource),pe=this.getUriComparisonKey(c.resource);this._pushElement(new Pe(c,he,pe,y.id,y.nextOrder(),V.id,V.nextOrder()))}else{const he=new Set,pe=[],Oe=[];for(const Ge of c.resources){const bt=re(Ge),jt=this.getUriComparisonKey(Ge);he.has(jt)||(he.add(jt),pe.push(bt),Oe.push(jt))}this._pushElement(1===pe.length?new Pe(c,pe[0],Oe[0],y.id,y.nextOrder(),V.id,V.nextOrder()):new ze(c,pe,Oe,y.id,y.nextOrder(),V.id,V.nextOrder()))}}_pushElement(c){for(let y=0,V=c.strResources.length;y<V;y++){const he=c.resourceLabels[y],pe=c.strResources[y];let Oe;this._editStacks.has(pe)?Oe=this._editStacks.get(pe):(Oe=new Xe(he,pe),this._editStacks.set(pe,Oe)),Oe.pushElement(c)}}getLastElement(c){const y=this.getUriComparisonKey(c);if(this._editStacks.has(y)){const V=this._editStacks.get(y);if(V.hasFutureElements())return null;const he=V.getClosestPastElement();return he?he.actual:null}return null}_splitPastWorkspaceElement(c,y){const V=c.actual.split(),he=new Map;for(const pe of V){const Oe=re(pe.resource),Ge=this.getUriComparisonKey(pe.resource),bt=new Pe(pe,Oe,Ge,0,0,0,0);he.set(bt.strResource,bt)}for(const pe of c.strResources)y&&y.has(pe)||this._editStacks.get(pe).splitPastWorkspaceElement(c,he)}_splitFutureWorkspaceElement(c,y){const V=c.actual.split(),he=new Map;for(const pe of V){const Oe=re(pe.resource),Ge=this.getUriComparisonKey(pe.resource),bt=new Pe(pe,Oe,Ge,0,0,0,0);he.set(bt.strResource,bt)}for(const pe of c.strResources)y&&y.has(pe)||this._editStacks.get(pe).splitFutureWorkspaceElement(c,he)}removeElements(c){const y="string"==typeof c?c:this.getUriComparisonKey(c);this._editStacks.has(y)&&(this._editStacks.get(y).dispose(),this._editStacks.delete(y))}setElementsValidFlag(c,y,V){const he=this.getUriComparisonKey(c);this._editStacks.has(he)&&this._editStacks.get(he).setElementsValidFlag(y,V)}createSnapshot(c){const y=this.getUriComparisonKey(c);return this._editStacks.has(y)?this._editStacks.get(y).createSnapshot(c):new Mi.To(c,[])}restoreSnapshot(c){const y=this.getUriComparisonKey(c.resource);if(this._editStacks.has(y)){const V=this._editStacks.get(y);V.restoreSnapshot(c),!V.hasPastElements()&&!V.hasFutureElements()&&(V.dispose(),this._editStacks.delete(y))}}getElements(c){const y=this.getUriComparisonKey(c);return this._editStacks.has(y)?this._editStacks.get(y).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(c){if(!c)return[null,null];let y=null,V=null;for(const[he,pe]of this._editStacks){const Oe=pe.getClosestPastElement();Oe&&Oe.sourceId===c&&(!y||Oe.sourceOrder>y.sourceOrder)&&(y=Oe,V=he)}return[y,V]}canUndo(c){if(c instanceof Mi.Ym){const[,V]=this._findClosestUndoElementWithSource(c.id);return!!V}const y=this.getUriComparisonKey(c);return!!this._editStacks.has(y)&&this._editStacks.get(y).hasPastElements()}_onError(c,y){(0,Li.dz)(c);for(const V of y.strResources)this.removeElements(V);this._notificationService.error(c)}_acquireLocks(c){for(const y of c.editStacks)if(y.locked)throw new Error("Cannot acquire edit stack lock");for(const y of c.editStacks)y.locked=!0;return()=>{for(const y of c.editStacks)y.locked=!1}}_safeInvokeWithLocks(c,y,V,he,pe){const Oe=this._acquireLocks(V);let Ge;try{Ge=y()}catch(bt){return Oe(),he.dispose(),this._onError(bt,c)}return Ge?Ge.then(()=>(Oe(),he.dispose(),pe()),bt=>(Oe(),he.dispose(),this._onError(bt,c))):(Oe(),he.dispose(),pe())}_invokeWorkspacePrepare(c){return(0,on.A)(function*(){if(typeof c.actual.prepareUndoRedo>"u")return Je.jG.None;const y=c.actual.prepareUndoRedo();return typeof y>"u"?Je.jG.None:y})()}_invokeResourcePrepare(c,y){if(1!==c.actual.type||typeof c.actual.prepareUndoRedo>"u")return y(Je.jG.None);const V=c.actual.prepareUndoRedo();return V?(0,Je.Xm)(V)?y(V):V.then(he=>y(he)):y(Je.jG.None)}_getAffectedEditStacks(c){const y=[];for(const V of c.strResources)y.push(this._editStacks.get(V)||It);return new _t(y)}_tryToSplitAndUndo(c,y,V,he){if(y.canSplit())return this._splitPastWorkspaceElement(y,V),this._notificationService.warn(he),new $t(this._undo(c,0,!0));for(const pe of y.strResources)this.removeElements(pe);return this._notificationService.warn(he),new $t}_checkWorkspaceUndo(c,y,V,he){if(y.removedResources)return this._tryToSplitAndUndo(c,y,y.removedResources,vi.kg({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",y.label,y.removedResources.createMessage()));if(he&&y.invalidatedResources)return this._tryToSplitAndUndo(c,y,y.invalidatedResources,vi.kg({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",y.label,y.invalidatedResources.createMessage()));const pe=[];for(const Ge of V.editStacks)Ge.getClosestPastElement()!==y&&pe.push(Ge.resourceLabel);if(pe.length>0)return this._tryToSplitAndUndo(c,y,null,vi.kg({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",y.label,pe.join(", ")));const Oe=[];for(const Ge of V.editStacks)Ge.locked&&Oe.push(Ge.resourceLabel);return Oe.length>0?this._tryToSplitAndUndo(c,y,null,vi.kg({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",y.label,Oe.join(", "))):V.isValid()?null:this._tryToSplitAndUndo(c,y,null,vi.kg({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",y.label))}_workspaceUndo(c,y,V){const he=this._getAffectedEditStacks(y),pe=this._checkWorkspaceUndo(c,y,he,!1);return pe?pe.returnValue:this._confirmAndExecuteWorkspaceUndo(c,y,he,V)}_isPartOfUndoGroup(c){if(!c.groupId)return!1;for(const[,y]of this._editStacks){const V=y.getClosestPastElement();if(V){if(V===c){const he=y.getSecondClosestPastElement();if(he&&he.groupId===c.groupId)return!0}if(V.groupId===c.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(c,y,V,he){var pe=this;return(0,on.A)(function*(){if(y.canSplit()&&!pe._isPartOfUndoGroup(y)){let bt;(wn=bt||(bt={}))[wn.All=0]="All",wn[wn.This=1]="This",wn[wn.Cancel=2]="Cancel";const{result:jt}=yield pe._dialogService.prompt({type:Fi.A.Info,message:vi.kg("confirmWorkspace","Would you like to undo '{0}' across all files?",y.label),buttons:[{label:vi.kg({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",V.editStacks.length),run:()=>bt.All},{label:vi.kg({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>bt.This}],cancelButton:{run:()=>bt.Cancel}});if(jt===bt.Cancel)return;if(jt===bt.This)return pe._splitPastWorkspaceElement(y,null),pe._undo(c,0,!0);const ln=pe._checkWorkspaceUndo(c,y,V,!1);if(ln)return ln.returnValue;he=!0}var wn;let Oe;try{Oe=yield pe._invokeWorkspacePrepare(y)}catch(bt){return pe._onError(bt,y)}const Ge=pe._checkWorkspaceUndo(c,y,V,!0);if(Ge)return Oe.dispose(),Ge.returnValue;for(const bt of V.editStacks)bt.moveBackward(y);return pe._safeInvokeWithLocks(y,()=>y.actual.undo(),V,Oe,()=>pe._continueUndoInGroup(y.groupId,he))})()}_resourceUndo(c,y,V){if(y.isValid){if(!c.locked)return this._invokeResourcePrepare(y,he=>(c.moveBackward(y),this._safeInvokeWithLocks(y,()=>y.actual.undo(),new _t([c]),he,()=>this._continueUndoInGroup(y.groupId,V))));{const he=vi.kg({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",y.label);this._notificationService.warn(he)}}else c.flushAllElements()}_findClosestUndoElementInGroup(c){if(!c)return[null,null];let y=null,V=null;for(const[he,pe]of this._editStacks){const Oe=pe.getClosestPastElement();Oe&&Oe.groupId===c&&(!y||Oe.groupOrder>y.groupOrder)&&(y=Oe,V=he)}return[y,V]}_continueUndoInGroup(c,y){if(!c)return;const[,V]=this._findClosestUndoElementInGroup(c);return V?this._undo(V,0,y):void 0}undo(c){if(c instanceof Mi.Ym){const[,y]=this._findClosestUndoElementWithSource(c.id);return y?this._undo(y,c.id,!1):void 0}return this._undo("string"==typeof c?c:this.getUriComparisonKey(c),0,!1)}_undo(c,y=0,V){if(!this._editStacks.has(c))return;const he=this._editStacks.get(c),pe=he.getClosestPastElement();if(pe){if(pe.groupId){const[Ge,bt]=this._findClosestUndoElementInGroup(pe.groupId);if(pe!==Ge&&bt)return this._undo(bt,y,V)}if((pe.sourceId!==y||pe.confirmBeforeUndo)&&!V)return this._confirmAndContinueUndo(c,y,pe);try{return 1===pe.type?this._workspaceUndo(c,pe,V):this._resourceUndo(he,pe,V)}finally{}}}_confirmAndContinueUndo(c,y,V){var he=this;return(0,on.A)(function*(){if((yield he._dialogService.confirm({message:vi.kg("confirmDifferentSource","Would you like to undo '{0}'?",V.label),primaryButton:vi.kg({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:vi.kg("confirmDifferentSource.no","No")})).confirmed)return he._undo(c,y,!0)})()}_findClosestRedoElementWithSource(c){if(!c)return[null,null];let y=null,V=null;for(const[he,pe]of this._editStacks){const Oe=pe.getClosestFutureElement();Oe&&Oe.sourceId===c&&(!y||Oe.sourceOrder<y.sourceOrder)&&(y=Oe,V=he)}return[y,V]}canRedo(c){if(c instanceof Mi.Ym){const[,V]=this._findClosestRedoElementWithSource(c.id);return!!V}const y=this.getUriComparisonKey(c);return!!this._editStacks.has(y)&&this._editStacks.get(y).hasFutureElements()}_tryToSplitAndRedo(c,y,V,he){if(y.canSplit())return this._splitFutureWorkspaceElement(y,V),this._notificationService.warn(he),new $t(this._redo(c));for(const pe of y.strResources)this.removeElements(pe);return this._notificationService.warn(he),new $t}_checkWorkspaceRedo(c,y,V,he){if(y.removedResources)return this._tryToSplitAndRedo(c,y,y.removedResources,vi.kg({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",y.label,y.removedResources.createMessage()));if(he&&y.invalidatedResources)return this._tryToSplitAndRedo(c,y,y.invalidatedResources,vi.kg({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",y.label,y.invalidatedResources.createMessage()));const pe=[];for(const Ge of V.editStacks)Ge.getClosestFutureElement()!==y&&pe.push(Ge.resourceLabel);if(pe.length>0)return this._tryToSplitAndRedo(c,y,null,vi.kg({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",y.label,pe.join(", ")));const Oe=[];for(const Ge of V.editStacks)Ge.locked&&Oe.push(Ge.resourceLabel);return Oe.length>0?this._tryToSplitAndRedo(c,y,null,vi.kg({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",y.label,Oe.join(", "))):V.isValid()?null:this._tryToSplitAndRedo(c,y,null,vi.kg({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",y.label))}_workspaceRedo(c,y){const V=this._getAffectedEditStacks(y),he=this._checkWorkspaceRedo(c,y,V,!1);return he?he.returnValue:this._executeWorkspaceRedo(c,y,V)}_executeWorkspaceRedo(c,y,V){var he=this;return(0,on.A)(function*(){let pe;try{pe=yield he._invokeWorkspacePrepare(y)}catch(Ge){return he._onError(Ge,y)}const Oe=he._checkWorkspaceRedo(c,y,V,!0);if(Oe)return pe.dispose(),Oe.returnValue;for(const Ge of V.editStacks)Ge.moveForward(y);return he._safeInvokeWithLocks(y,()=>y.actual.redo(),V,pe,()=>he._continueRedoInGroup(y.groupId))})()}_resourceRedo(c,y){if(y.isValid){if(!c.locked)return this._invokeResourcePrepare(y,V=>(c.moveForward(y),this._safeInvokeWithLocks(y,()=>y.actual.redo(),new _t([c]),V,()=>this._continueRedoInGroup(y.groupId))));{const V=vi.kg({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",y.label);this._notificationService.warn(V)}}else c.flushAllElements()}_findClosestRedoElementInGroup(c){if(!c)return[null,null];let y=null,V=null;for(const[he,pe]of this._editStacks){const Oe=pe.getClosestFutureElement();Oe&&Oe.groupId===c&&(!y||Oe.groupOrder<y.groupOrder)&&(y=Oe,V=he)}return[y,V]}_continueRedoInGroup(c){if(!c)return;const[,y]=this._findClosestRedoElementInGroup(c);return y?this._redo(y):void 0}redo(c){if(c instanceof Mi.Ym){const[,y]=this._findClosestRedoElementWithSource(c.id);return y?this._redo(y):void 0}return this._redo("string"==typeof c?c:this.getUriComparisonKey(c))}_redo(c){if(!this._editStacks.has(c))return;const y=this._editStacks.get(c),V=y.getClosestFutureElement();if(V){if(V.groupId){const[he,pe]=this._findClosestRedoElementInGroup(V.groupId);if(V!==he&&pe)return this._redo(pe)}try{return 1===V.type?this._workspaceRedo(c,V):this._resourceRedo(y,V)}finally{}}}};Ot=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([dn(0,Gi.X),dn(1,Ui.Ot)],Ot);class $t{constructor(c){this.returnValue=c}}(0,yn.v)(Mi.$D,Ot,1),t(67539);var _n=t(52152),vn=t(7088),Cn=t(35424),Yn=function(We,c){return function(y,V){c(y,V,We)}};let Xn=class extends Je.jG{constructor(c,y,V){super(),this._themeService=c,this._logService=y,this._languageService=V,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(c){return this._caches.has(c)||this._caches.set(c,new vn.i(c.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(c)}};Xn=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([Yn(0,An.Gy),Yn(1,_n.rr),Yn(2,ei.L)],Xn),(0,yn.v)(Cn.F,Xn,1);var _i=t(28252);function Si(We){return"string"!=typeof We&&(Array.isArray(We)?We.every(Si):!!We.exclusive)}class ji{constructor(c,y,V,he){this.uri=c,this.languageId=y,this.notebookUri=V,this.notebookType=he}equals(c){var y,V;return this.notebookType===c.notebookType&&this.languageId===c.languageId&&this.uri.toString()===c.uri.toString()&&(null===(y=this.notebookUri)||void 0===y?void 0:y.toString())===(null===(V=c.notebookUri)||void 0===V?void 0:V.toString())}}class ui{constructor(c){this._notebookInfoResolver=c,this._clock=0,this._entries=[],this._onDidChange=new Pt.vl,this.onDidChange=this._onDidChange.event}register(c,y){let V={selector:c,provider:y,_score:-1,_time:this._clock++};return this._entries.push(V),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,Je.s)(()=>{if(V){const he=this._entries.indexOf(V);he>=0&&(this._entries.splice(he,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),V=void 0)}})}has(c){return this.all(c).length>0}all(c){if(!c)return[];this._updateScores(c);const y=[];for(const V of this._entries)V._score>0&&y.push(V.provider);return y}ordered(c){const y=[];return this._orderedForEach(c,V=>y.push(V.provider)),y}orderedGroups(c){const y=[];let V,he;return this._orderedForEach(c,pe=>{V&&he===pe._score?V.push(pe.provider):(he=pe._score,V=[pe.provider],y.push(V))}),y}_orderedForEach(c,y){this._updateScores(c);for(const V of this._entries)V._score>0&&y(V)}_updateScores(c){var y,V;const he=null===(y=this._notebookInfoResolver)||void 0===y?void 0:y.call(this,c.uri),pe=he?new ji(c.uri,c.getLanguageId(),he.uri,he.type):new ji(c.uri,c.getLanguageId(),void 0,void 0);if(null===(V=this._lastCandidate)||void 0===V||!V.equals(pe)){this._lastCandidate=pe;for(const Oe of this._entries)if(Oe._score=(0,_i.f)(Oe.selector,pe.uri,pe.languageId,(0,Vi.vd)(c),pe.notebookUri,pe.notebookType),Si(Oe.selector)&&Oe._score>0){for(const Ge of this._entries)Ge._score=0;Oe._score=1e3;break}this._entries.sort(ui._compareByScoreAndTime)}}static _compareByScoreAndTime(c,y){return c._score<y._score?1:c._score>y._score?-1:xi(c.selector)&&!xi(y.selector)?1:!xi(c.selector)&&xi(y.selector)?-1:c._time<y._time?1:c._time>y._time?-1:0}}function xi(We){return"string"!=typeof We&&(Array.isArray(We)?We.some(xi):!!We.isBuiltin)}var Vn=t(15307);(0,yn.v)(Vn.u,class ri{constructor(){this.referenceProvider=new ui(this._score.bind(this)),this.renameProvider=new ui(this._score.bind(this)),this.newSymbolNamesProvider=new ui(this._score.bind(this)),this.codeActionProvider=new ui(this._score.bind(this)),this.definitionProvider=new ui(this._score.bind(this)),this.typeDefinitionProvider=new ui(this._score.bind(this)),this.declarationProvider=new ui(this._score.bind(this)),this.implementationProvider=new ui(this._score.bind(this)),this.documentSymbolProvider=new ui(this._score.bind(this)),this.inlayHintsProvider=new ui(this._score.bind(this)),this.colorProvider=new ui(this._score.bind(this)),this.codeLensProvider=new ui(this._score.bind(this)),this.documentFormattingEditProvider=new ui(this._score.bind(this)),this.documentRangeFormattingEditProvider=new ui(this._score.bind(this)),this.onTypeFormattingEditProvider=new ui(this._score.bind(this)),this.signatureHelpProvider=new ui(this._score.bind(this)),this.hoverProvider=new ui(this._score.bind(this)),this.documentHighlightProvider=new ui(this._score.bind(this)),this.multiDocumentHighlightProvider=new ui(this._score.bind(this)),this.selectionRangeProvider=new ui(this._score.bind(this)),this.foldingRangeProvider=new ui(this._score.bind(this)),this.linkProvider=new ui(this._score.bind(this)),this.inlineCompletionsProvider=new ui(this._score.bind(this)),this.inlineEditProvider=new ui(this._score.bind(this)),this.completionProvider=new ui(this._score.bind(this)),this.linkedEditingRangeProvider=new ui(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new ui(this._score.bind(this)),this.documentSemanticTokensProvider=new ui(this._score.bind(this)),this.documentDropEditProvider=new ui(this._score.bind(this)),this.documentPasteEditProvider=new ui(this._score.bind(this))}_score(c){var y;return null===(y=this._notebookTypeResolver)||void 0===y?void 0:y.call(this,c)}},1);var ki=t(85478),go=t(79759),io=t(71887),Wo=t(23377),No={};No.styleTagTransform=Ye(),No.setAttributes=Ut(),No.insert=Bt().bind(null,"head"),No.domAPI=Ht(),No.insertStyleElement=ke(),mt()(Wo.A,No);var vo=t(59002),Fo=t(76710),ks=t(2673),gs=t(19438),Vo=t(13157),To=t(13225),co=t(21828),_s=t(69912),is=function(We,c){return function(y,V){c(y,V,We)}};const $o=At.$;let qr=class extends ks.x{get _targetWindow(){return At.zk(this._target.targetElements[0])}get _targetDocumentElement(){return At.zk(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return 2===this._hoverPosition?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(c){this._isLocked!==c&&(this._isLocked=c,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(c,y,V,he,pe,Oe){var Ge,bt,jt,ln,wn,ti,ii,Ai;super(),this._keybindingService=y,this._configurationService=V,this._openerService=he,this._instantiationService=pe,this._accessibilityService=Oe,this._messageListeners=new Je.Cm,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new Pt.vl),this._onRequestLayout=this._register(new Pt.vl),this._linkHandler=c.linkHandler||(eo=>(0,Vo.i)(this._openerService,eo,(0,To.VS)(c.content)?c.content.isTrusted:void 0)),this._target="targetElements"in c.target?c.target:new Lo(c.target),this._hoverPointer=null!==(Ge=c.appearance)&&void 0!==Ge&&Ge.showPointer?$o("div.workbench-hover-pointer"):void 0,this._hover=this._register(new Fo.N4),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),!(null===(bt=c.appearance)||void 0===bt)&&bt.compact&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),!(null===(jt=c.appearance)||void 0===jt)&&jt.skipFadeInAnimation&&this._hover.containerDomNode.classList.add("skip-fade-in"),c.additionalClasses&&this._hover.containerDomNode.classList.add(...c.additionalClasses),!(null===(ln=c.position)||void 0===ln)&&ln.forcePosition&&(this._forcePosition=!0),c.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=null!==(ti=null===(wn=c.position)||void 0===wn?void 0:wn.hoverPosition)&&void 0!==ti?ti:3,this.onmousedown(this._hover.containerDomNode,eo=>eo.stopPropagation()),this.onkeydown(this._hover.containerDomNode,eo=>{eo.equals(9)&&this.dispose()}),this._register(At.ko(this._targetWindow,"blur",()=>this.dispose()));const to=$o("div.hover-row.markdown-hover"),ho=$o("div.hover-contents");if("string"==typeof c.content)ho.textContent=c.content,ho.style.whiteSpace="pre-wrap";else if(At.sb(c.content))ho.appendChild(c.content),ho.classList.add("html-hover-contents");else{const eo=c.content,Io=this._instantiationService.createInstance(Vo.T,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||vt.jU.fontFamily}),{element:hs}=Io.render(eo,{actionHandler:{callback:fs=>this._linkHandler(fs),disposables:this._messageListeners},asyncRenderCallback:()=>{ho.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});ho.appendChild(hs)}if(to.appendChild(ho),this._hover.contentsDomNode.appendChild(to),c.actions&&c.actions.length>0){const eo=$o("div.hover-row.status-bar"),Io=$o("div.actions");c.actions.forEach(hs=>{const fs=this._keybindingService.lookupKeybinding(hs.commandId),kl=fs?fs.getLabel():null;Fo.jQ.render(Io,{label:hs.label,commandId:hs.commandId,run:Bo=>{hs.run(Bo),this.dispose()},iconClass:hs.iconClass},kl)}),eo.appendChild(Io),this._hover.containerDomNode.appendChild(eo)}let wo;if(this._hoverContainer=$o("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode),wo=!(c.actions&&c.actions.length>0)&&(void 0===(null===(ii=c.persistence)||void 0===ii?void 0:ii.hideOnHover)?"string"==typeof c.content||(0,To.VS)(c.content)&&!c.content.value.includes("](")&&!c.content.value.includes("</a>"):c.persistence.hideOnHover),wo&&null!==(Ai=c.appearance)&&void 0!==Ai&&Ai.showHoverHint){const eo=$o("div.hover-row.status-bar"),Io=$o("div.info");Io.textContent=(0,vi.kg)("hoverhint","Hold {0} key to mouse over",co.zx?"Option":"Alt"),eo.appendChild(Io),this._hover.containerDomNode.appendChild(eo)}const Eo=[...this._target.targetElements];wo||Eo.push(this._hoverContainer);const mo=this._register(new js(Eo));if(this._register(mo.onMouseOut(()=>{this._isLocked||this.dispose()})),wo){const eo=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new js(eo)),this._register(this._lockMouseTracker.onMouseOut(()=>{this._isLocked||this.dispose()}))}else this._lockMouseTracker=mo}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const c=this._hover.containerDomNode,y=this.findLastFocusableChild(this._hover.containerDomNode);if(y){const V=At.Hs(this._hoverContainer,$o("div")),he=At.BC(this._hoverContainer,$o("div"));V.tabIndex=0,he.tabIndex=0,this._register(At.ko(he,"focus",pe=>{c.focus(),pe.preventDefault()})),this._register(At.ko(V,"focus",pe=>{y.focus(),pe.preventDefault()}))}}findLastFocusableChild(c){if(c.hasChildNodes())for(let y=0;y<c.childNodes.length;y++){const V=c.childNodes.item(c.childNodes.length-y-1);if(V.nodeType===V.ELEMENT_NODE&&"number"==typeof V.tabIndex&&V.tabIndex>=0)return V;const he=this.findLastFocusableChild(V);if(he)return he}}render(c){var y;c.appendChild(this._hoverContainer);const he=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&(0,Fo.vr)(!0===this._configurationService.getValue("accessibility.verbosity.hover")&&this._accessibilityService.isScreenReaderOptimized(),null===(y=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))||void 0===y?void 0:y.getAriaLabel());he&&(0,Zi.h5)(he),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const y=this._target.targetElements.map(ln=>(ln=>{const wn=At.mU(ln),ti=ln.getBoundingClientRect();return{top:ti.top*wn,bottom:ti.bottom*wn,right:ti.right*wn,left:ti.left*wn}})(ln)),{top:V,right:he,bottom:pe,left:Oe}=y[0],Ge=he-Oe,bt=pe-V,jt={top:V,right:he,bottom:pe,left:Oe,width:Ge,height:bt,center:{x:Oe+Ge/2,y:V+bt/2}};if(this.adjustHorizontalHoverPosition(jt),this.adjustVerticalHoverPosition(jt),this.adjustHoverMaxHeight(jt),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:jt.left+=3,jt.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:jt.left-=3,jt.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:jt.top+=3,jt.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:jt.top-=3,jt.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px"}jt.center.x=jt.left+Ge/2,jt.center.y=jt.top+bt/2}this.computeXCordinate(jt),this.computeYCordinate(jt),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(jt)),this._hover.onContentsChanged()}computeXCordinate(c){const y=this._hover.containerDomNode.clientWidth+2;void 0!==this._target.x?this._x=this._target.x:1===this._hoverPosition?this._x=c.right:0===this._hoverPosition?this._x=c.left-y:(this._x=this._hoverPointer?c.center.x-this._hover.containerDomNode.clientWidth/2:c.left,this._x+y>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-y-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=c.left+2)}computeYCordinate(c){this._y=void 0!==this._target.y?this._target.y:3===this._hoverPosition?c.top:2===this._hoverPosition?c.bottom-2:this._hoverPointer?c.center.y+this._hover.containerDomNode.clientHeight/2:c.bottom,this._y>this._targetWindow.innerHeight&&(this._y=c.bottom)}adjustHorizontalHoverPosition(c){if(void 0!==this._target.x)return;const y=this._hoverPointer?3:0;if(this._forcePosition){const V=y+2;1===this._hoverPosition?this._hover.containerDomNode.style.maxWidth=this._targetDocumentElement.clientWidth-c.right-V+"px":0===this._hoverPosition&&(this._hover.containerDomNode.style.maxWidth=c.left-V+"px")}else 1===this._hoverPosition?this._targetDocumentElement.clientWidth-c.right<this._hover.containerDomNode.clientWidth+y&&(this._hoverPosition=c.left>=this._hover.containerDomNode.clientWidth+y?0:2):0===this._hoverPosition&&(c.left<this._hover.containerDomNode.clientWidth+y&&(this._hoverPosition=this._targetDocumentElement.clientWidth-c.right>=this._hover.containerDomNode.clientWidth+y?1:2),c.left-this._hover.containerDomNode.clientWidth-y<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))}adjustVerticalHoverPosition(c){if(void 0!==this._target.y||this._forcePosition)return;const y=this._hoverPointer?3:0;3===this._hoverPosition?c.top-this._hover.containerDomNode.clientHeight-y<0&&(this._hoverPosition=2):2===this._hoverPosition&&c.bottom+this._hover.containerDomNode.clientHeight+y>this._targetWindow.innerHeight&&(this._hoverPosition=3)}adjustHoverMaxHeight(c){let y=this._targetWindow.innerHeight/2;if(this._forcePosition){const V=2+(this._hoverPointer?3:0);3===this._hoverPosition?y=Math.min(y,c.top-V):2===this._hoverPosition&&(y=Math.min(y,this._targetWindow.innerHeight-c.bottom-V))}if(this._hover.containerDomNode.style.maxHeight=`${y}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const V=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==V&&(this._hover.contentsDomNode.style.paddingRight=V)}}setHoverPointerPosition(c){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(0===this._hoverPosition?"right":"left");const y=this._hover.containerDomNode.clientHeight;this._hoverPointer.style.top=y>c.height?c.center.y-(this._y-y)-3+"px":Math.round(y/2)-3+"px";break}case 3:case 2:{this._hoverPointer.classList.add(3===this._hoverPosition?"bottom":"top");let V=Math.round(this._hover.containerDomNode.clientWidth/2)-3;const he=this._x+V;(he<c.left||he>c.right)&&(V=c.center.x-this._x-3),this._hoverPointer.style.left=`${V}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};qr=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([is(1,vo.b),is(2,Qn.pG),is(3,gs.C),is(4,Zt._Y),is(5,_s.j)],qr);class js extends ks.x{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(c){super(),this._elements=c,this._isMouseIn=!0,this._onMouseOut=this._register(new Pt.vl),this._elements.forEach(y=>this.onmouseover(y,()=>this._onTargetMouseOver(y))),this._elements.forEach(y=>this.onmouseleave(y,()=>this._onTargetMouseLeave(y)))}_onTargetMouseOver(c){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(c)}_onTargetMouseLeave(c){this._isMouseIn=!1,this._evaluateMouseState(c)}_evaluateMouseState(c){this._clearEvaluateMouseStateTimeout(c),this._mouseTimeout=At.zk(c).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(c){this._mouseTimeout&&(At.zk(c).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class Lo{constructor(c){this._element=c,this.targetElements=[this._element]}dispose(){}}var ns=t(92873),ls=t(32062),Gs=t(43850),Ds=t(8970),ur={};ur.styleTagTransform=Ye(),ur.setAttributes=Ut(),ur.insert=Bt().bind(null,"head"),ur.domAPI=Ht(),ur.insertStyleElement=ke(),mt()(Ds.A,ur);var Uo=function(We){return We[We.AVOID=0]="AVOID",We[We.ALIGN=1]="ALIGN",We}(Uo||{});function ir(We,c,y){const V=y.mode===Uo.ALIGN?y.offset:y.offset+y.size,he=y.mode===Uo.ALIGN?y.offset+y.size:y.offset;return 0===y.position?c<=We-V?V:c<=he?he-c:Math.max(We-c,0):c<=he?he-c:c<=We-V?V:0}let Hl=(()=>{class We extends Je.jG{constructor(y,V){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=Je.jG.None,this.toDisposeOnSetContainer=Je.jG.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=At.$(".context-view"),At.jD(this.view),this.setContainer(y,V),this._register((0,Je.s)(()=>this.setContainer(null,1)))}setContainer(y,V){var he;this.useFixedPosition=1!==V;const pe=this.useShadowDOM;if(this.useShadowDOM=3===V,(y!==this.container||pe!==this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(he=this.shadowRootHostElement)||void 0===he||he.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),y)){if(this.container=y,this.useShadowDOM){this.shadowRootHostElement=At.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const Ge=document.createElement("style");Ge.textContent=Ul,this.shadowRoot.appendChild(Ge),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(At.$("slot"))}else this.container.appendChild(this.view);const Oe=new Je.Cm;We.BUBBLE_UP_EVENTS.forEach(Ge=>{Oe.add(At.b2(this.container,Ge,bt=>{this.onDOMEvent(bt,!1)}))}),We.BUBBLE_DOWN_EVENTS.forEach(Ge=>{Oe.add(At.b2(this.container,Ge,bt=>{this.onDOMEvent(bt,!0)},!0))}),this.toDisposeOnSetContainer=Oe}}show(y){var V,he,pe;this.isVisible()&&this.hide(),At.w_(this.view),this.view.className="context-view monaco-component",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex=`${2575+(null!==(V=y.layer)&&void 0!==V?V:0)}`,this.view.style.position=this.useFixedPosition?"fixed":"absolute",At.WU(this.view),this.toDisposeOnClean=y.render(this.view)||Je.jG.None,this.delegate=y,this.doLayout(),null===(pe=(he=this.delegate).focus)||void 0===pe||pe.call(he)}getViewElement(){return this.view}layout(){var y,V;if(this.isVisible()){if(!(!1!==this.delegate.canRelayout||co.un&&ls.e.pointerEvents))return void this.hide();null===(V=null===(y=this.delegate)||void 0===y?void 0:y.layout)||void 0===V||V.call(y),this.doLayout()}}doLayout(){if(!this.isVisible())return;const y=this.delegate.getAnchor();let V;if(At.sb(y)){const ii=At.BK(y),Ai=At.mU(y);V={top:ii.top*Ai,left:ii.left*Ai,width:ii.width*Ai,height:ii.height*Ai}}else V=function Oo(We){return!!We&&"number"==typeof We.x&&"number"==typeof We.y}(y)?{top:y.y,left:y.x,width:y.width||1,height:y.height||2}:{top:y.posy,left:y.posx,width:2,height:2};const he=At.Tr(this.view),pe=At.OK(this.view),Oe=this.delegate.anchorPosition||0,Ge=this.delegate.anchorAlignment||0,bt=this.delegate.anchorAxisAlignment||0;let jt,ln;const wn=At.fz();if(0===bt){const ii={offset:V.top-wn.pageYOffset,size:V.height,position:0===Oe?0:1},Ai={offset:V.left,size:V.width,position:0===Ge?0:1,mode:Uo.ALIGN};jt=ir(wn.innerHeight,pe,ii)+wn.pageYOffset,Gs.Q.intersects({start:jt,end:jt+pe},{start:ii.offset,end:ii.offset+ii.size})&&(Ai.mode=Uo.AVOID),ln=ir(wn.innerWidth,he,Ai)}else{const ii={offset:V.left,size:V.width,position:0===Ge?0:1},Ai={offset:V.top,size:V.height,position:0===Oe?0:1,mode:Uo.ALIGN};ln=ir(wn.innerWidth,he,ii),Gs.Q.intersects({start:ln,end:ln+he},{start:ii.offset,end:ii.offset+ii.size})&&(Ai.mode=Uo.AVOID),jt=ir(wn.innerHeight,pe,Ai)+wn.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===Oe?"bottom":"top"),this.view.classList.add(0===Ge?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const ti=At.BK(this.container);this.view.style.top=jt-(this.useFixedPosition?At.BK(this.view).top:ti.top)+"px",this.view.style.left=ln-(this.useFixedPosition?At.BK(this.view).left:ti.left)+"px",this.view.style.width="initial"}hide(y){const V=this.delegate;this.delegate=null,V?.onHide&&V.onHide(y),this.toDisposeOnClean.dispose(),At.jD(this.view)}isVisible(){return!!this.delegate}onDOMEvent(y,V){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(y,At.zk(y).document.activeElement):V&&!At.QX(y.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}return We.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],We.BUBBLE_DOWN_EVENTS=["click"],We})();const Ul='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';let Ho=class extends Je.jG{constructor(c){super(),this.layoutService=c,this.contextView=this._register(new Hl(this.layoutService.mainContainer,1)),this.layout(),this._register(c.onDidLayoutContainer(()=>this.layout()))}showContextView(c,y,V){let he;he=y?y===this.layoutService.getContainer((0,At.zk)(y))?1:V?3:2:1,this.contextView.setContainer(y??this.layoutService.activeContainer,he),this.contextView.show(c);const pe={close:()=>{this.openContextView===pe&&this.hideContextView()}};return this.openContextView=pe,pe}layout(){this.contextView.layout()}hideContextView(c){this.contextView.hide(c),this.openContextView=void 0}};Ho=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([function(We,c){return function(y,V){c(y,V,0)}}(0,xn)],Ho);class gl extends Ho{getContextViewElement(){return this.contextView.getViewElement()}}var Ir=t(21468),ca=t(66702);class wa{constructor(c,y,V){this.hoverDelegate=c,this.target=y,this.fadeInAnimation=V}update(c,y,V){var he=this;return(0,on.A)(function*(){var pe;if(he._cancellationTokenSource&&(he._cancellationTokenSource.dispose(!0),he._cancellationTokenSource=void 0),he.isDisposed)return;let Oe;if(void 0===c||(0,ca.Kg)(c)||(0,At.sb)(c))Oe=c;else if((0,ca.Tn)(c.markdown)){he._hoverWidget||he.show((0,vi.kg)("iconLabel.loading","Loading..."),y,V),he._cancellationTokenSource=new Ir.Qi;const Ge=he._cancellationTokenSource.token;if(Oe=yield c.markdown(Ge),void 0===Oe&&(Oe=c.markdownNotSupportedFallback),he.isDisposed||Ge.isCancellationRequested)return}else Oe=null!==(pe=c.markdown)&&void 0!==pe?pe:c.markdownNotSupportedFallback;he.show(Oe,y,V)})()}show(c,y,V){const he=this._hoverWidget;if(this.hasContent(c)){const pe={content:c,target:this.target,appearance:{showPointer:"element"===this.hoverDelegate.placement,skipFadeInAnimation:!this.fadeInAnimation||!!he},position:{hoverPosition:2},...V};this._hoverWidget=this.hoverDelegate.showHover(pe,y)}he?.dispose()}hasContent(c){return!(!c||(0,To.VS)(c)&&!c.value)}get isDisposed(){var c;return null===(c=this._hoverWidget)||void 0===c?void 0:c.isDisposed}dispose(){var c,y;null===(c=this._hoverWidget)||void 0===c||c.dispose(),null===(y=this._cancellationTokenSource)||void 0===y||y.dispose(!0),this._cancellationTokenSource=void 0}}var Bs=t(86671),ha=function(We,c){return function(y,V){c(y,V,We)}};let La=class extends Je.jG{constructor(c,y,V,he,pe){super(),this._instantiationService=c,this._keybindingService=V,this._layoutService=he,this._accessibilityService=pe,this._existingHovers=new Map,y.onDidShowContextMenu(()=>this.hideHover()),this._contextViewHandler=this._register(new Ho(this._layoutService))}showHover(c,y,V){var he,pe,Oe,Ge;if(Br(this._currentHoverOptions)===Br(c)||this._currentHover&&null!==(pe=null===(he=this._currentHoverOptions)||void 0===he?void 0:he.persistence)&&void 0!==pe&&pe.sticky)return;this._currentHoverOptions=c,this._lastHoverOptions=c;const bt=c.trapFocus||this._accessibilityService.isScreenReaderOptimized(),jt=(0,At.bq)();V||(bt&&jt?jt.classList.contains("monaco-hover")||(this._lastFocusedElementBeforeOpen=jt):this._lastFocusedElementBeforeOpen=void 0);const ln=new Je.Cm,wn=this._instantiationService.createInstance(qr,c);if(!(null===(Oe=c.persistence)||void 0===Oe)&&Oe.sticky&&(wn.isLocked=!0),wn.onDispose(()=>{var ti,ii;(null===(ti=this._currentHover)||void 0===ti?void 0:ti.domNode)&&(0,At.nR)(this._currentHover.domNode)&&(null===(ii=this._lastFocusedElementBeforeOpen)||void 0===ii||ii.focus()),this._currentHoverOptions===c&&(this._currentHoverOptions=void 0),ln.dispose()},void 0,ln),!c.container){const ti=(0,At.sb)(c.target)?c.target:c.target.targetElements[0];c.container=this._layoutService.getContainer((0,At.zk)(ti))}if(this._contextViewHandler.showContextView(new nu(wn,y),c.container),wn.onRequestLayout(()=>this._contextViewHandler.layout(),void 0,ln),null!==(Ge=c.persistence)&&void 0!==Ge&&Ge.sticky)ln.add((0,At.ko)((0,At.zk)(c.container).document,At.Bx.MOUSE_DOWN,ti=>{(0,At.QX)(ti.target,wn.domNode)||this.doHideHover()}));else{if("targetElements"in c.target)for(const ii of c.target.targetElements)ln.add((0,At.ko)(ii,At.Bx.CLICK,()=>this.hideHover()));else ln.add((0,At.ko)(c.target,At.Bx.CLICK,()=>this.hideHover()));const ti=(0,At.bq)();if(ti){const ii=(0,At.zk)(ti).document;ln.add((0,At.ko)(ti,At.Bx.KEY_DOWN,Ai=>{var to;return this._keyDown(Ai,wn,!(null===(to=c.persistence)||void 0===to||!to.hideOnKeyDown))})),ln.add((0,At.ko)(ii,At.Bx.KEY_DOWN,Ai=>{var to;return this._keyDown(Ai,wn,!(null===(to=c.persistence)||void 0===to||!to.hideOnKeyDown))})),ln.add((0,At.ko)(ti,At.Bx.KEY_UP,Ai=>this._keyUp(Ai,wn))),ln.add((0,At.ko)(ii,At.Bx.KEY_UP,Ai=>this._keyUp(Ai,wn)))}}if("IntersectionObserver"in ht.G){const ti=new IntersectionObserver(Ai=>this._intersectionChange(Ai,wn),{threshold:0});ti.observe("targetElements"in c.target?c.target.targetElements[0]:c.target),ln.add((0,Je.s)(()=>ti.disconnect()))}return this._currentHover=wn,wn}hideHover(){var c;null!==(c=this._currentHover)&&void 0!==c&&c.isLocked||!this._currentHoverOptions||this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewHandler.hideContextView()}_intersectionChange(c,y){c[c.length-1].isIntersecting||y.dispose()}showAndFocusLastHover(){this._lastHoverOptions&&this.showHover(this._lastHoverOptions,!0,!0)}_keyDown(c,y,V){var he,pe;if("Alt"===c.key)return void(y.isLocked=!0);const Oe=new ns.Z(c);this._keybindingService.resolveKeyboardEvent(Oe).getSingleModifierDispatchChords().some(bt=>!!bt)||0!==this._keybindingService.softDispatch(Oe,Oe.target).kind||V&&(null===(he=this._currentHoverOptions)||void 0===he||!he.trapFocus||"Tab"!==c.key)&&(this.hideHover(),null===(pe=this._lastFocusedElementBeforeOpen)||void 0===pe||pe.focus())}_keyUp(c,y){var V;"Alt"===c.key&&(y.isLocked=!1,y.isMouseIn||(this.hideHover(),null===(V=this._lastFocusedElementBeforeOpen)||void 0===V||V.focus()))}setupUpdatableHover(c,y,V,he){let pe,Oe;y.setAttribute("custom-hover","true"),""!==y.title&&(console.warn("HTML element already has a title attribute, which will conflict with the custom hover. Please remove the title attribute."),console.trace("Stack trace:",y.title),y.title="");const Ge=(mo,eo)=>{var Io;const hs=void 0!==Oe;mo&&(Oe?.dispose(),Oe=void 0),eo&&(pe?.dispose(),pe=void 0),hs&&(null===(Io=c.onDidHideHover)||void 0===Io||Io.call(c),Oe=void 0)},bt=(mo,eo,Io,hs)=>new Bs.pc((0,on.A)(function*(){(!Oe||Oe.isDisposed)&&(Oe=new wa(c,Io||y,mo>0),yield Oe.update("function"==typeof V?V():V,eo,{...he,trapFocus:hs}))}),mo);let jt=!1;const ln=(0,At.ko)(y,At.Bx.MOUSE_DOWN,()=>{jt=!0,Ge(!0,!0)},!0),wn=(0,At.ko)(y,At.Bx.MOUSE_UP,()=>{jt=!1},!0),ti=(0,At.ko)(y,At.Bx.MOUSE_LEAVE,mo=>{jt=!1,Ge(!1,mo.fromElement===y)},!0),Ai=(0,At.ko)(y,At.Bx.MOUSE_OVER,mo=>{if(pe)return;const eo=new Je.Cm,Io={targetElements:[y],dispose:()=>{}};void 0!==c.placement&&"mouse"!==c.placement||eo.add((0,At.ko)(y,At.Bx.MOUSE_MOVE,fs=>{Io.x=fs.x+10,(0,At.sb)(fs.target)&&qd(fs.target,y)!==y&&Ge(!0,!0)},!0)),pe=eo,(!(0,At.sb)(mo.target)||qd(mo.target,y)===y)&&eo.add(bt(c.delay,!1,Io))},!0);let ho;const wo=y.tagName.toLowerCase();"input"!==wo&&"textarea"!==wo&&(ho=(0,At.ko)(y,At.Bx.FOCUS,()=>{if(jt||pe)return;const mo={targetElements:[y],dispose:()=>{}},eo=new Je.Cm;eo.add((0,At.ko)(y,At.Bx.BLUR,()=>Ge(!0,!0),!0)),eo.add(bt(c.delay,!1,mo)),pe=eo},!0));const Eo={show:mo=>{Ge(!1,!0),bt(0,mo,void 0,mo)},hide:()=>{Ge(!0,!0)},update:(mo=(0,on.A)(function*(eo,Io){V=eo,yield Oe?.update(V,void 0,Io)}),function(Io,hs){return mo.apply(this,arguments)}),dispose:()=>{this._existingHovers.delete(y),Ai.dispose(),ti.dispose(),ln.dispose(),wn.dispose(),ho?.dispose(),Ge(!0,!0)}};var mo;return this._existingHovers.set(y,Eo),Eo}triggerUpdatableHover(c){const y=this._existingHovers.get(c);y&&y.show(!0)}dispose(){this._existingHovers.forEach(c=>c.dispose()),super.dispose()}};function Br(We){var c;if(void 0!==We)return null!==(c=We?.id)&&void 0!==c?c:We}La=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([ha(0,Zt._Y),ha(1,io.Z),ha(2,vo.b),ha(3,xn),ha(4,_s.j)],La);class nu{get anchorPosition(){return this._hover.anchor}constructor(c,y=!1){this._hover=c,this._focus=y,this.layer=1}render(c){return this._hover.render(c),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}function qd(We,c){for(c=c??(0,At.zk)(We).document.body;!We.hasAttribute("custom-hover")&&We!==c;)We=We.parentElement;return We}(0,yn.v)(go.TN,La,1),(0,An.zy)((We,c)=>{const y=We.getColor(ki.oZ8);y&&(c.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${y.transparent(.5)}; }`),c.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${y.transparent(.5)}; }`))});var zs=t(89430),zl=t(876),Kl=t(30788),ec=t(5214),bd=t(13632),Ar=t(73678),xa=t(35425),$l=t(51355),hr=t(51126),Cr=t(20053),br=t(70987),so=t(97018);function xo(We){return Object.isFrozen(We)?We:an.ol(We)}class Ao{static createEmptyModel(c){return new Ao({},[],[],void 0,c)}constructor(c,y,V,he,pe){this._contents=c,this._keys=y,this._overrides=V,this.raw=he,this.logService=pe,this.overrideConfigurations=new Map}get rawConfiguration(){var c;if(!this._rawConfiguration)if(null!==(c=this.raw)&&void 0!==c&&c.length){const y=this.raw.map(V=>{if(V instanceof Ao)return V;const he=new ds("",this.logService);return he.parseRaw(V),he.configurationModel});this._rawConfiguration=y.reduce((V,he)=>he===V?he:V.merge(he),y[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(c){return c?(0,Qn.gD)(this.contents,c):this.contents}inspect(c,y){const V=this;return{get value(){return xo(V.rawConfiguration.getValue(c))},get override(){return y?xo(V.rawConfiguration.getOverrideValue(c,y)):void 0},get merged(){return xo(y?V.rawConfiguration.override(y).getValue(c):V.rawConfiguration.getValue(c))},get overrides(){const he=[];for(const{contents:pe,identifiers:Oe,keys:Ge}of V.rawConfiguration.overrides){const bt=new Ao(pe,Ge,[],void 0,V.logService).getValue(c);void 0!==bt&&he.push({identifiers:Oe,value:bt})}return he.length?xo(he):void 0}}}getOverrideValue(c,y){const V=this.getContentsForOverrideIdentifer(y);return V?c?(0,Qn.gD)(V,c):V:void 0}override(c){let y=this.overrideConfigurations.get(c);return y||(y=this.createOverrideConfigurationModel(c),this.overrideConfigurations.set(c,y)),y}merge(...c){var y,V;const he=an.Go(this.contents),pe=an.Go(this.overrides),Oe=[...this.keys],Ge=null!==(y=this.raw)&&void 0!==y&&y.length?[...this.raw]:[this];for(const bt of c)if(Ge.push(...null!==(V=bt.raw)&&void 0!==V&&V.length?bt.raw:[bt]),!bt.isEmpty()){this.mergeContents(he,bt.contents);for(const jt of bt.overrides){const[ln]=pe.filter(wn=>pn.aI(wn.identifiers,jt.identifiers));ln?(this.mergeContents(ln.contents,jt.contents),ln.keys.push(...jt.keys),ln.keys=pn.dM(ln.keys)):pe.push(an.Go(jt))}for(const jt of bt.keys)-1===Oe.indexOf(jt)&&Oe.push(jt)}return new Ao(he,Oe,pe,Ge.every(bt=>bt instanceof Ao)?void 0:Ge,this.logService)}createOverrideConfigurationModel(c){const y=this.getContentsForOverrideIdentifer(c);if(!y||"object"!=typeof y||!Object.keys(y).length)return this;const V={};for(const he of pn.dM([...Object.keys(this.contents),...Object.keys(y)])){let pe=this.contents[he];const Oe=y[he];Oe&&("object"==typeof pe&&"object"==typeof Oe?(pe=an.Go(pe),this.mergeContents(pe,Oe)):pe=Oe),V[he]=pe}return new Ao(V,this.keys,this.overrides,void 0,this.logService)}mergeContents(c,y){for(const V of Object.keys(y))V in c&&ca.Gv(c[V])&&ca.Gv(y[V])?this.mergeContents(c[V],y[V]):c[V]=an.Go(y[V])}getContentsForOverrideIdentifer(c){let y=null,V=null;const he=pe=>{pe&&(V?this.mergeContents(V,pe):V=an.Go(pe))};for(const pe of this.overrides)1===pe.identifiers.length&&pe.identifiers[0]===c?y=pe.contents:pe.identifiers.includes(c)&&he(pe.contents);return he(y),V}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(c,y){this.updateValue(c,y,!0)}setValue(c,y){this.updateValue(c,y,!1)}removeValue(c){const y=this.keys.indexOf(c);-1!==y&&(this.keys.splice(y,1),(0,Qn.iB)(this.contents,c),br.rC.test(c)&&this.overrides.splice(this.overrides.findIndex(V=>pn.aI(V.identifiers,(0,br.Gv)(c))),1))}updateValue(c,y,V){(0,Qn.kW)(this.contents,c,y,he=>this.logService.error(he)),(V=V||-1===this.keys.indexOf(c))&&this.keys.push(c),br.rC.test(c)&&this.overrides.push({identifiers:(0,br.Gv)(c),keys:Object.keys(this.contents[c]),contents:(0,Qn.ad)(this.contents[c],he=>this.logService.error(he))})}}class ds{constructor(c,y){this._name=c,this.logService=y,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||Ao.createEmptyModel(this.logService)}parseRaw(c,y){this._raw=c;const{contents:V,keys:he,overrides:pe,restricted:Oe,hasExcludedProperties:Ge}=this.doParseRaw(c,y);this._configurationModel=new Ao(V,he,pe,Ge?[c]:void 0,this.logService),this._restrictedConfigurations=Oe||[]}doParseRaw(c,y){const V=so.O.as(br.Fd.Configuration).getConfigurationProperties(),he=this.filter(c,V,!0,y);return{contents:(0,Qn.ad)(c=he.raw,bt=>this.logService.error(`Conflict in settings file ${this._name}: ${bt}`)),keys:Object.keys(c),overrides:this.toOverrides(c,bt=>this.logService.error(`Conflict in settings file ${this._name}: ${bt}`)),restricted:he.restricted,hasExcludedProperties:he.hasExcludedProperties}}filter(c,y,V,he){var pe,Oe,Ge;let bt=!1;if(!(he?.scopes||he?.skipRestricted||null!==(pe=he?.exclude)&&void 0!==pe&&pe.length))return{raw:c,restricted:[],hasExcludedProperties:bt};const jt={},ln=[];for(const wn in c)if(br.rC.test(wn)&&V){const ti=this.filter(c[wn],y,!1,he);jt[wn]=ti.raw,bt=bt||ti.hasExcludedProperties,ln.push(...ti.restricted)}else{const ti=y[wn],ii=ti?typeof ti.scope<"u"?ti.scope:3:void 0;ti?.restricted&&ln.push(wn),null!==(Oe=he.exclude)&&void 0!==Oe&&Oe.includes(wn)||(null===(Ge=he.include)||void 0===Ge||!Ge.includes(wn))&&(void 0!==ii&&void 0!==he.scopes&&!he.scopes.includes(ii)||he.skipRestricted&&ti?.restricted)?bt=!0:jt[wn]=c[wn]}return{raw:jt,restricted:ln,hasExcludedProperties:bt}}toOverrides(c,y){const V=[];for(const he of Object.keys(c))if(br.rC.test(he)){const pe={};for(const Oe in c[he])pe[Oe]=c[he][Oe];V.push({identifiers:(0,br.Gv)(he),keys:Object.keys(pe),contents:(0,Qn.ad)(pe,y)})}return V}}class Ws{constructor(c,y,V,he,pe,Oe,Ge,bt,jt,ln,wn,ti,ii){this.key=c,this.overrides=y,this._value=V,this.overrideIdentifiers=he,this.defaultConfiguration=pe,this.policyConfiguration=Oe,this.applicationConfiguration=Ge,this.userConfiguration=bt,this.localUserConfiguration=jt,this.remoteUserConfiguration=ln,this.workspaceConfiguration=wn,this.folderConfigurationModel=ti,this.memoryConfigurationModel=ii}toInspectValue(c){return void 0!==c?.value||void 0!==c?.override||void 0!==c?.overrides?c:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class ao{constructor(c,y,V,he,pe,Oe,Ge,bt,jt,ln){this._defaultConfiguration=c,this._policyConfiguration=y,this._applicationConfiguration=V,this._localUserConfiguration=he,this._remoteUserConfiguration=pe,this._workspaceConfiguration=Oe,this._folderConfigurations=Ge,this._memoryConfiguration=bt,this._memoryConfigurationByResource=jt,this.logService=ln,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Cr.fT,this._userConfiguration=null}getValue(c,y,V){return this.getConsolidatedConfigurationModel(c,y,V).getValue(c)}updateValue(c,y,V={}){let he;V.resource?(he=this._memoryConfigurationByResource.get(V.resource),he||(he=Ao.createEmptyModel(this.logService),this._memoryConfigurationByResource.set(V.resource,he))):he=this._memoryConfiguration,void 0===y?he.removeValue(c):he.setValue(c,y),V.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(c,y,V){const he=this.getConsolidatedConfigurationModel(c,y,V),pe=this.getFolderConfigurationModelForResource(y.resource,V),Oe=y.resource&&this._memoryConfigurationByResource.get(y.resource)||this._memoryConfiguration,Ge=new Set;for(const bt of he.overrides)for(const jt of bt.identifiers)void 0!==he.getOverrideValue(c,jt)&&Ge.add(jt);return new Ws(c,y,he.getValue(c),Ge.size?[...Ge]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,V?this._workspaceConfiguration:void 0,pe||void 0,Oe)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(c,y,V){let he=this.getConsolidatedConfigurationModelForResource(y,V);return y.overrideIdentifier&&(he=he.override(y.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&void 0!==this._policyConfiguration.getValue(c)&&(he=he.merge(this._policyConfiguration)),he}getConsolidatedConfigurationModelForResource({resource:c},y){let V=this.getWorkspaceConsolidatedConfiguration();if(y&&c){const he=y.getFolder(c);he&&(V=this.getFolderConsolidatedConfiguration(he.uri)||V);const pe=this._memoryConfigurationByResource.get(c);pe&&(V=V.merge(pe))}return V}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(c){let y=this._foldersConsolidatedConfigurations.get(c);if(!y){const V=this.getWorkspaceConsolidatedConfiguration(),he=this._folderConfigurations.get(c);he?(y=V.merge(he),this._foldersConsolidatedConfigurations.set(c,y)):y=V}return y}getFolderConfigurationModelForResource(c,y){if(y&&c){const V=y.getFolder(c);if(V)return this._folderConfigurations.get(V.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((c,y)=>{const{contents:V,overrides:he,keys:pe}=this._folderConfigurations.get(y);return c.push([y,{contents:V,overrides:he,keys:pe}]),c},[])}}static parse(c,y){const V=this.parseConfigurationModel(c.defaults,y),he=this.parseConfigurationModel(c.policy,y),pe=this.parseConfigurationModel(c.application,y),Oe=this.parseConfigurationModel(c.user,y),Ge=this.parseConfigurationModel(c.workspace,y),bt=c.folders.reduce((jt,ln)=>(jt.set(De.r.revive(ln[0]),this.parseConfigurationModel(ln[1],y)),jt),new Cr.fT);return new ao(V,he,pe,Oe,Ao.createEmptyModel(y),Ge,bt,Ao.createEmptyModel(y),new Cr.fT,y)}static parseConfigurationModel(c,y){return new Ao(c.contents,c.keys,c.overrides,void 0,y)}}class cs{constructor(c,y,V,he,pe){this.change=c,this.previous=y,this.currentConfiguraiton=V,this.currentWorkspace=he,this.logService=pe,this._marker="\n",this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const Oe of c.keys)this.affectedKeys.add(Oe);for(const[,Oe]of c.overrides)for(const Ge of Oe)this.affectedKeys.add(Ge);this._affectsConfigStr=this._marker;for(const Oe of this.affectedKeys)this._affectsConfigStr+=Oe+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=ao.parse(this.previous.data,this.logService)),this._previousConfiguration}affectsConfiguration(c,y){var V;const he=this._marker+c,pe=this._affectsConfigStr.indexOf(he);if(pe<0)return!1;const Oe=pe+he.length;if(Oe>=this._affectsConfigStr.length)return!1;const Ge=this._affectsConfigStr.charCodeAt(Oe);if(Ge!==this._markerCode1&&Ge!==this._markerCode2)return!1;if(y){const bt=this.previousConfiguration?this.previousConfiguration.getValue(c,y,null===(V=this.previous)||void 0===V?void 0:V.workspace):void 0,jt=this.currentConfiguraiton.getValue(c,y,this.currentWorkspace);return!an.aI(bt,jt)}return!0}}var _o=t(86138);const Es={kind:0},Zs={kind:1};class Ns{constructor(c,y,V){var he;this._log=V,this._defaultKeybindings=c,this._defaultBoundCommands=new Map;for(const pe of c){const Oe=pe.command;Oe&&"-"!==Oe.charAt(0)&&this._defaultBoundCommands.set(Oe,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Ns.handleRemovals([].concat(c).concat(y));for(let pe=0,Oe=this._keybindings.length;pe<Oe;pe++){const Ge=this._keybindings[pe];if(0===Ge.chords.length)continue;const bt=null===(he=Ge.when)||void 0===he?void 0:he.substituteConstants();bt&&0===bt.type||this._addKeyPress(Ge.chords[0],Ge)}}static _isTargetedForRemoval(c,y,V){if(y)for(let he=0;he<y.length;he++)if(y[he]!==c.chords[he])return!1;return!(V&&1!==V.type&&(!c.when||!(0,Ii.jQ)(V,c.when)))}static handleRemovals(c){const y=new Map;for(let he=0,pe=c.length;he<pe;he++){const Oe=c[he];if(Oe.command&&"-"===Oe.command.charAt(0)){const Ge=Oe.command.substring(1);y.has(Ge)?y.get(Ge).push(Oe):y.set(Ge,[Oe])}}if(0===y.size)return c;const V=[];for(let he=0,pe=c.length;he<pe;he++){const Oe=c[he];if(!Oe.command||0===Oe.command.length){V.push(Oe);continue}if("-"===Oe.command.charAt(0))continue;const Ge=y.get(Oe.command);if(!Ge||!Oe.isDefault){V.push(Oe);continue}let bt=!1;for(const jt of Ge)if(this._isTargetedForRemoval(Oe,jt.chords,jt.when)){bt=!0;break}bt||V.push(Oe)}return V}_addKeyPress(c,y){const V=this._map.get(c);if(typeof V>"u")return this._map.set(c,[y]),void this._addToLookupMap(y);for(let he=V.length-1;he>=0;he--){const pe=V[he];if(pe.command===y.command)continue;let Oe=!0;for(let Ge=1;Ge<pe.chords.length&&Ge<y.chords.length;Ge++)if(pe.chords[Ge]!==y.chords[Ge]){Oe=!1;break}Oe&&Ns.whenIsEntirelyIncluded(pe.when,y.when)&&this._removeFromLookupMap(pe)}V.push(y),this._addToLookupMap(y)}_addToLookupMap(c){if(!c.command)return;let y=this._lookupMap.get(c.command);typeof y>"u"?(y=[c],this._lookupMap.set(c.command,y)):y.push(c)}_removeFromLookupMap(c){if(!c.command)return;const y=this._lookupMap.get(c.command);if(!(typeof y>"u"))for(let V=0,he=y.length;V<he;V++)if(y[V]===c)return void y.splice(V,1)}static whenIsEntirelyIncluded(c,y){return!y||1===y.type||!(!c||1===c.type)&&(0,Ii.M0)(c,y)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(c,y){const V=this._lookupMap.get(c);if(typeof V>"u"||0===V.length)return null;if(1===V.length)return V[0];for(let he=V.length-1;he>=0;he--){const pe=V[he];if(y.contextMatchesRules(pe.when))return pe}return V[V.length-1]}resolve(c,y,V){const he=[...y,V];this._log(`| Resolving ${he}`);const pe=this._map.get(he[0]);if(void 0===pe)return this._log("\\ No keybinding entries."),Es;let Oe=null;if(he.length<2)Oe=pe;else{Oe=[];for(let bt=0,jt=pe.length;bt<jt;bt++){const ln=pe[bt];if(he.length>ln.chords.length)continue;let wn=!0;for(let ti=1;ti<he.length;ti++)if(ln.chords[ti]!==he[ti]){wn=!1;break}wn&&Oe.push(ln)}}const Ge=this._findCommand(c,Oe);return Ge?he.length<Ge.chords.length?(this._log(`\\ From ${Oe.length} keybinding entries, awaiting ${Ge.chords.length-he.length} more chord(s), when: ${tc(Ge.when)}, source: ${ml(Ge)}.`),Zs):(this._log(`\\ From ${Oe.length} keybinding entries, matched ${Ge.command}, when: ${tc(Ge.when)}, source: ${ml(Ge)}.`),function Ka(We,c,y){return{kind:2,commandId:We,commandArgs:c,isBubble:y}}(Ge.command,Ge.commandArgs,Ge.bubble)):(this._log(`\\ From ${Oe.length} keybinding entries, no when clauses matched the context.`),Es)}_findCommand(c,y){for(let V=y.length-1;V>=0;V--){const he=y[V];if(Ns._contextMatchesRules(c,he.when))return he}return null}static _contextMatchesRules(c,y){return!y||y.evaluate(c)}}function tc(We){return We?`${We.serialize()}`:"no when condition"}function ml(We){return We.extensionId?We.isBuiltinExtension?`built-in extension ${We.extensionId}`:`user extension ${We.extensionId}`:We.isDefault?"built-in":"user"}const $a=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class pl extends Je.jG{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Pt.Jh.None}get inChordMode(){return this._currentChords.length>0}constructor(c,y,V,he,pe){super(),this._contextKeyService=c,this._commandService=y,this._telemetryService=V,this._notificationService=he,this._logService=pe,this._onDidUpdateKeybindings=this._register(new Pt.vl),this._currentChords=[],this._currentChordChecker=new Bs.vb,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Gl.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Bs.pc,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(c){this._logging&&this._logService.info(`[KeybindingService]: ${c}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(c,y){const V=this._getResolver().lookupPrimaryKeybinding(c,y||this._contextKeyService);if(V)return V.resolvedKeybinding}dispatchEvent(c,y){return this._dispatch(c,y)}softDispatch(c,y){this._log("/ Soft dispatching keyboard event");const V=this.resolveKeyboardEvent(c);if(V.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),Es;const[he]=V.getDispatchChords();if(null===he)return this._log("\\ Keyboard event cannot be dispatched"),Es;const pe=this._contextKeyService.getContext(y),Oe=this._currentChords.map(({keypress:Ge})=>Ge);return this._getResolver().resolve(pe,Oe,he)}_scheduleLeaveChordMode(){const c=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-c>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_expectAnotherChord(c,y){switch(this._currentChords.push({keypress:c,label:y}),this._currentChords.length){case 0:throw(0,Li.iH)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(vi.kg("first.chord","({0}) was pressed. Waiting for second key of chord...",y));break;default:{const V=this._currentChords.map(({label:he})=>he).join(", ");this._currentChordStatusMessage=this._notificationService.status(vi.kg("next.chord","({0}) was pressed. Waiting for next key of chord...",V))}}this._scheduleLeaveChordMode(),_o.M.enabled&&_o.M.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],_o.M.enable()}_dispatch(c,y){return this._doDispatch(this.resolveKeyboardEvent(c),y,!1)}_singleModifierDispatch(c,y){const V=this.resolveKeyboardEvent(c),[he]=V.getSingleModifierDispatchChords();if(he)return this._ignoreSingleModifiers.has(he)?(this._log(`+ Ignoring single modifier ${he} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Gl.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Gl.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${he}.`),this._currentSingleModifier=he,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):he===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${he} ${he}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(V,y,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${he}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[pe]=V.getChords();return this._ignoreSingleModifiers=new Gl(pe),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(c,y,V=!1){var he;let pe=!1;if(c.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let Oe=null,Ge=null;if(V){const[wn]=c.getSingleModifierDispatchChords();Oe=wn,Ge=wn?[wn]:[]}else[Oe]=c.getDispatchChords(),Ge=this._currentChords.map(({keypress:wn})=>wn);if(null===Oe)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),pe;const bt=this._contextKeyService.getContext(y),jt=c.getLabel(),ln=this._getResolver().resolve(bt,Ge,Oe);switch(ln.kind){case 0:if(this._logService.trace("KeybindingService#dispatch",jt,"[ No matching keybinding ]"),this.inChordMode){const wn=this._currentChords.map(({label:ti})=>ti).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${wn}, ${jt}".`),this._notificationService.status(vi.kg("missing.chord","The key combination ({0}, {1}) is not a command.",wn,jt),{hideAfter:1e4}),this._leaveChordMode(),pe=!0}return pe;case 1:return this._logService.trace("KeybindingService#dispatch",jt,"[ Several keybindings match - more chords needed ]"),pe=!0,this._expectAnotherChord(Oe,jt),this._log(1===this._currentChords.length?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),pe;case 2:if(this._logService.trace("KeybindingService#dispatch",jt,`[ Will dispatch command ${ln.commandId} ]`),null===ln.commandId||""===ln.commandId){if(this.inChordMode){const wn=this._currentChords.map(({label:ti})=>ti).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${wn}, ${jt}".`),this._notificationService.status(vi.kg("missing.chord","The key combination ({0}, {1}) is not a command.",wn,jt),{hideAfter:1e4}),this._leaveChordMode(),pe=!0}}else{this.inChordMode&&this._leaveChordMode(),ln.isBubble||(pe=!0),this._log(`+ Invoking command ${ln.commandId}.`),this._currentlyDispatchingCommandId=ln.commandId;try{typeof ln.commandArgs>"u"?this._commandService.executeCommand(ln.commandId).then(void 0,wn=>this._notificationService.warn(wn)):this._commandService.executeCommand(ln.commandId,ln.commandArgs).then(void 0,wn=>this._notificationService.warn(wn))}finally{this._currentlyDispatchingCommandId=null}$a.test(ln.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:ln.commandId,from:"keybinding",detail:null!==(he=c.getUserSettingsLabel())&&void 0!==he?he:void 0})}return pe}}mightProducePrintableCharacter(c){return!c.ctrlKey&&!c.metaKey&&(c.keyCode>=31&&c.keyCode<=56||c.keyCode>=21&&c.keyCode<=30)}}class Gl{constructor(c){this._ctrlKey=!!c&&c.ctrlKey,this._shiftKey=!!c&&c.shiftKey,this._altKey=!!c&&c.altKey,this._metaKey=!!c&&c.metaKey}has(c){switch(c){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}Gl.EMPTY=new Gl(null);var yd=t(36246);class nc{constructor(c,y,V,he,pe,Oe,Ge){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=c,this.chords=c?Tr(c.getDispatchChords()):[],c&&0===this.chords.length&&(this.chords=Tr(c.getSingleModifierDispatchChords())),this.bubble=!!y&&94===y.charCodeAt(0),this.command=this.bubble?y.substr(1):y,this.commandArgs=V,this.when=he,this.isDefault=pe,this.extensionId=Oe,this.isBuiltinExtension=Ge}}function Tr(We){const c=[];for(let y=0,V=We.length;y<V;y++){const he=We[y];if(!he)return[];c.push(he)}return c}var Ma=t(79624),Ga=t(13752);class iu extends zs.z5{constructor(c,y){if(super(),0===y.length)throw(0,Li.Qg)("chords");this._os=c,this._chords=y}getLabel(){return Ga.Of.toLabel(this._os,this._chords,c=>this._getLabel(c))}getAriaLabel(){return Ga.r0.toLabel(this._os,this._chords,c=>this._getAriaLabel(c))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:Ga.rr.toLabel(this._os,this._chords,c=>this._getElectronAccelerator(c))}getUserSettingsLabel(){return Ga.G$.toLabel(this._os,this._chords,c=>this._getUserSettingsLabel(c))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(c=>this._getChord(c))}_getChord(c){return new zs.FW(c.ctrlKey,c.shiftKey,c.altKey,c.metaKey,this._getLabel(c),this._getAriaLabel(c))}getDispatchChords(){return this._chords.map(c=>this._getChordDispatch(c))}getSingleModifierDispatchChords(){return this._chords.map(c=>this._getSingleModifierChordDispatch(c))}}class Qa extends iu{constructor(c,y){super(y,c)}_keyCodeToUILabel(c){if(2===this._os)switch(c){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return Ma.YM.toString(c)}_getLabel(c){return c.isDuplicateModifierCase()?"":this._keyCodeToUILabel(c.keyCode)}_getAriaLabel(c){return c.isDuplicateModifierCase()?"":Ma.YM.toString(c.keyCode)}_getElectronAccelerator(c){return Ma.YM.toElectronAccelerator(c.keyCode)}_getUserSettingsLabel(c){if(c.isDuplicateModifierCase())return"";const y=Ma.YM.toUserSettingsUS(c.keyCode);return y&&y.toLowerCase()}_getChordDispatch(c){return Qa.getDispatchStr(c)}static getDispatchStr(c){if(c.isModifierKey())return null;let y="";return c.ctrlKey&&(y+="ctrl+"),c.shiftKey&&(y+="shift+"),c.altKey&&(y+="alt+"),c.metaKey&&(y+="meta+"),y+=Ma.YM.toString(c.keyCode),y}_getSingleModifierChordDispatch(c){return 5!==c.keyCode||c.shiftKey||c.altKey||c.metaKey?4!==c.keyCode||c.ctrlKey||c.altKey||c.metaKey?6!==c.keyCode||c.ctrlKey||c.shiftKey||c.metaKey?57!==c.keyCode||c.ctrlKey||c.shiftKey||c.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(c){const y=Ma.Fo[c];if(-1!==y)return y;switch(c){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(c){if(!c)return null;if(c instanceof zs.dG)return c;const y=this._scanCodeToKeyCode(c.scanCode);return 0===y?null:new zs.dG(c.ctrlKey,c.shiftKey,c.altKey,c.metaKey,y)}static resolveKeybinding(c,y){const V=Tr(c.chords.map(he=>this._toKeyCodeChord(he)));return V.length>0?[new Qa(V,y)]:[]}}var bh=t(7964),Ia=t(47690),ta=t(55922),ic=t(97014),Aa=t(60264),Sd=t(76698),oc=t(18278),Ql=t(37441),Yl=t(12323),Dd=t(68200);let fa=[],kr=[],Ya=[];function Ta(We,c=!1){!function ka(We,c,y){const V=function sc(We,c){return{id:We.id,mime:We.mime,filename:We.filename,extension:We.extension,filepattern:We.filepattern,firstline:We.firstline,userConfigured:c,filenameLowercase:We.filename?We.filename.toLowerCase():void 0,extensionLowercase:We.extension?We.extension.toLowerCase():void 0,filepatternLowercase:We.filepattern?(0,Ql.qg)(We.filepattern.toLowerCase()):void 0,filepatternOnPath:!!We.filepattern&&We.filepattern.indexOf(Dd.SA.sep)>=0}}(We,c);fa.push(V),V.userConfigured?Ya.push(V):kr.push(V),y&&!V.userConfigured&&fa.forEach(he=>{he.mime===V.mime||he.userConfigured||(V.extension&&he.extension===V.extension&&console.warn(`Overwriting extension <<${V.extension}>> to now point to mime <<${V.mime}>>`),V.filename&&he.filename===V.filename&&console.warn(`Overwriting filename <<${V.filename}>> to now point to mime <<${V.mime}>>`),V.filepattern&&he.filepattern===V.filepattern&&console.warn(`Overwriting filepattern <<${V.filepattern}>> to now point to mime <<${V.mime}>>`),V.firstline&&he.firstline===V.firstline&&console.warn(`Overwriting firstline <<${V.firstline}>> to now point to mime <<${V.mime}>>`))})}(We,!1,c)}function rc(We,c,y){var V;let he,pe,Oe;for(let Ge=y.length-1;Ge>=0;Ge--){const bt=y[Ge];if(c===bt.filenameLowercase){he=bt;break}bt.filepattern&&(!pe||bt.filepattern.length>pe.filepattern.length)&&null!==(V=bt.filepatternLowercase)&&void 0!==V&&V.call(bt,bt.filepatternOnPath?We:c)&&(pe=bt),bt.extension&&(!Oe||bt.extension.length>Oe.extension.length)&&c.endsWith(bt.extensionLowercase)&&(Oe=bt)}return he||pe||Oe||void 0}const ga=Object.prototype.hasOwnProperty,Pr="vs.editor.nullLanguage";class Ed{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Pr,0),this._register(hi.vH,1),this._nextLanguageId=2}_register(c,y){this._languageIdToLanguage[y]=c,this._languageToLanguageId.set(c,y)}register(c){if(this._languageToLanguageId.has(c))return;const y=this._nextLanguageId++;this._register(c,y)}encodeLanguageId(c){return this._languageToLanguageId.get(c)||0}decodeLanguageId(c){return this._languageIdToLanguage[c]||Pr}}let _l=(()=>{class We extends Je.jG{constructor(y=!0,V=!1){super(),this._onDidChange=this._register(new Pt.vl),this.onDidChange=this._onDidChange.event,We.instanceCount++,this._warnOnOverwrite=V,this.languageIdCodec=new Ed,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},y&&(this._initializeFromRegistry(),this._register(hi.W6.onDidChangeLanguages(he=>{this._initializeFromRegistry()})))}dispose(){We.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},function ou(){fa=fa.filter(We=>We.userConfigured),kr=[]}();const y=[].concat(hi.W6.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(y)}_registerLanguages(y){for(const V of y)this._registerLanguage(V);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(V=>{const he=this._languages[V];he.name&&(this._nameMap[he.name]=he.identifier),he.aliases.forEach(pe=>{this._lowercaseNameMap[pe.toLowerCase()]=he.identifier}),he.mimetypes.forEach(pe=>{this._mimeTypesMap[pe]=he.identifier})}),so.O.as(br.Fd.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(y){const V=y.id;let he;ga.call(this._languages,V)?he=this._languages[V]:(this.languageIdCodec.register(V),he={identifier:V,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[V]=he),this._mergeLanguage(he,y)}_mergeLanguage(y,V){const he=V.id;let pe=null;if(Array.isArray(V.mimetypes)&&V.mimetypes.length>0&&(y.mimetypes.push(...V.mimetypes),pe=V.mimetypes[0]),pe||(pe=`text/x-${he}`,y.mimetypes.push(pe)),Array.isArray(V.extensions)){y.extensions=V.configuration?V.extensions.concat(y.extensions):y.extensions.concat(V.extensions);for(const bt of V.extensions)Ta({id:he,mime:pe,extension:bt},this._warnOnOverwrite)}if(Array.isArray(V.filenames))for(const bt of V.filenames)Ta({id:he,mime:pe,filename:bt},this._warnOnOverwrite),y.filenames.push(bt);if(Array.isArray(V.filenamePatterns))for(const bt of V.filenamePatterns)Ta({id:he,mime:pe,filepattern:bt},this._warnOnOverwrite);if("string"==typeof V.firstLine&&V.firstLine.length>0){let bt=V.firstLine;"^"!==bt.charAt(0)&&(bt="^"+bt);try{const jt=new RegExp(bt);(0,ot.eY)(jt)||Ta({id:he,mime:pe,firstline:jt},this._warnOnOverwrite)}catch(jt){console.warn(`[${V.id}]: Invalid regular expression \`${bt}\`: `,jt)}}y.aliases.push(he);let Oe=null;if(typeof V.aliases<"u"&&Array.isArray(V.aliases)&&(Oe=0===V.aliases.length?[null]:V.aliases),null!==Oe)for(const bt of Oe)!bt||0===bt.length||y.aliases.push(bt);const Ge=null!==Oe&&Oe.length>0;Ge&&null===Oe[0]||(Ge||!y.name)&&(y.name=(Ge?Oe[0]:null)||he),V.configuration&&y.configurationFiles.push(V.configuration),V.icon&&y.icons.push(V.icon)}isRegisteredLanguageId(y){return!!y&&ga.call(this._languages,y)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(y){const V=y.toLowerCase();return ga.call(this._lowercaseNameMap,V)?this._lowercaseNameMap[V]:null}getLanguageIdByMimeType(y){return y&&ga.call(this._mimeTypesMap,y)?this._mimeTypesMap[y]:null}guessLanguageIdByFilepathOrFirstLine(y,V){return y||V?function na(We,c){return function su(We,c){let y;if(We)switch(We.scheme){case Rt.ny.file:y=We.fsPath;break;case Rt.ny.data:y=Sd.B6.parseMetaData(We).get(Sd.B6.META_DATA_LABEL);break;case Rt.ny.vscodeNotebookCell:y=void 0;break;default:y=We.path}if(!y)return[{id:"unknown",mime:Yl.K.unknown}];y=y.toLowerCase();const V=(0,Dd.P8)(y),he=rc(y,V,Ya);if(he)return[he,{id:hi.vH,mime:Yl.K.text}];const pe=rc(y,V,kr);if(pe)return[pe,{id:hi.vH,mime:Yl.K.text}];if(c){const Oe=function sg(We){if((0,ot.LU)(We)&&(We=We.substr(1)),We.length>0)for(let c=fa.length-1;c>=0;c--){const y=fa[c];if(!y.firstline)continue;const V=We.match(y.firstline);if(V&&V.length>0)return y}}(c);if(Oe)return[Oe,{id:hi.vH,mime:Yl.K.text}]}return[{id:"unknown",mime:Yl.K.unknown}]}(We,c).map(y=>y.id)}(y,V):[]}}return We.instanceCount=0,We})(),vl=(()=>{class We extends Je.jG{constructor(y=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new Pt.vl),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new Pt.vl),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new Pt.vl({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,We.instanceCount++,this._registry=this._register(new _l(!0,y)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){We.instanceCount--,super.dispose()}isRegisteredLanguageId(y){return this._registry.isRegisteredLanguageId(y)}getLanguageIdByLanguageName(y){return this._registry.getLanguageIdByLanguageName(y)}getLanguageIdByMimeType(y){return this._registry.getLanguageIdByMimeType(y)}guessLanguageIdByFilepathOrFirstLine(y,V){const he=this._registry.guessLanguageIdByFilepathOrFirstLine(y,V);return(0,pn.Fy)(he,null)}createById(y){return new ru(this.onDidChange,()=>this._createAndGetLanguageIdentifier(y))}createByFilepathOrFirstLine(y,V){return new ru(this.onDidChange,()=>{const he=this.guessLanguageIdByFilepathOrFirstLine(y,V);return this._createAndGetLanguageIdentifier(he)})}_createAndGetLanguageIdentifier(y){return(!y||!this.isRegisteredLanguageId(y))&&(y=hi.vH),y}requestBasicLanguageFeatures(y){this._requestedBasicLanguages.has(y)||(this._requestedBasicLanguages.add(y),this._onDidRequestBasicLanguageFeatures.fire(y))}requestRichLanguageFeatures(y){this._requestedRichLanguages.has(y)||(this._requestedRichLanguages.add(y),this.requestBasicLanguageFeatures(y),Zn.dG.getOrCreate(y),this._onDidRequestRichLanguageFeatures.fire(y))}}return We.instanceCount=0,We})();class ru{constructor(c,y){this._onDidChangeLanguages=c,this._selector=y,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new Pt.vl({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var c;const y=this._selector();y!==this.languageId&&(this.languageId=y,null===(c=this._emitter)||void 0===c||c.fire(this.languageId))}}var Pa=t(64948),ws=t(54335),Or=t(79134),au=t(18163),Za=t(53378),Cl=t(28541),wd=t(44906),Ko=t(62686),lu=t(23702),Oa=t(15320),yh=t(66731),Zl=t(81072),fr=t(605);const us=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,zi=/(&amp;)?(&amp;)([^\s&])/g;var lo=function(We){return We[We.Right=0]="Right",We[We.Left=1]="Left",We}(lo||{}),Ls=function(We){return We[We.Above=0]="Above",We[We.Below=1]="Below",We}(Ls||{});class or extends wd.E{constructor(c,y,V,he){c.classList.add("monaco-menu-container"),c.setAttribute("role","presentation");const pe=document.createElement("div");pe.classList.add("monaco-menu"),pe.setAttribute("role","presentation"),super(pe,{orientation:1,actionViewItemProvider:jt=>this.doGetActionViewItem(jt,V,Oe),context:V.context,actionRunner:V.actionRunner,ariaLabel:V.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...co.zx||co.j9?[10]:[]],keyDown:!0}}),this.menuStyles=he,this.menuElement=pe,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(c,he),this._register(Cl.q.addTarget(pe)),this._register((0,At.ko)(pe,At.Bx.KEY_DOWN,jt=>{new ns.Z(jt).equals(2)&&jt.preventDefault()})),V.enableMnemonics&&this._register((0,At.ko)(pe,At.Bx.KEY_DOWN,jt=>{const ln=jt.key.toLocaleLowerCase();if(this.mnemonics.has(ln)){At.fs.stop(jt,!0);const wn=this.mnemonics.get(ln);if(1===wn.length&&(wn[0]instanceof gr&&wn[0].container&&this.focusItemByElement(wn[0].container),wn[0].onClick(jt)),wn.length>1){const ti=wn.shift();ti&&ti.container&&(this.focusItemByElement(ti.container),wn.push(ti)),this.mnemonics.set(ln,wn)}}})),co.j9&&this._register((0,At.ko)(pe,At.Bx.KEY_DOWN,jt=>{const ln=new ns.Z(jt);ln.equals(14)||ln.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),At.fs.stop(jt,!0)):(ln.equals(13)||ln.equals(12))&&(this.focusedItem=0,this.focusPrevious(),At.fs.stop(jt,!0))})),this._register((0,At.ko)(this.domNode,At.Bx.MOUSE_OUT,jt=>{(0,At.QX)(jt.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),jt.stopPropagation())})),this._register((0,At.ko)(this.actionsList,At.Bx.MOUSE_OVER,jt=>{let ln=jt.target;if(ln&&(0,At.QX)(ln,this.actionsList)&&ln!==this.actionsList){for(;ln.parentElement!==this.actionsList&&null!==ln.parentElement;)ln=ln.parentElement;if(ln.classList.contains("action-item")){const wn=this.focusedItem;this.setFocusedItem(ln),wn!==this.focusedItem&&this.updateFocus()}}})),this._register(Cl.q.addTarget(this.actionsList)),this._register((0,At.ko)(this.actionsList,Cl.B.Tap,jt=>{let ln=jt.initialTarget;if(ln&&(0,At.QX)(ln,this.actionsList)&&ln!==this.actionsList){for(;ln.parentElement!==this.actionsList&&null!==ln.parentElement;)ln=ln.parentElement;if(ln.classList.contains("action-item")){const wn=this.focusedItem;this.setFocusedItem(ln),wn!==this.focusedItem&&this.updateFocus()}}}));const Oe={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new lu.MU(pe,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const Ge=this.scrollableElement.getDomNode();Ge.style.position="",this.styleScrollElement(Ge,he),this._register((0,At.ko)(pe,Cl.B.Change,jt=>{At.fs.stop(jt,!0);const ln=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:ln-jt.translationY})})),this._register((0,At.ko)(Ge,At.Bx.MOUSE_UP,jt=>{jt.preventDefault()}));const bt=(0,At.zk)(c);pe.style.maxHeight=`${Math.max(10,bt.innerHeight-c.getBoundingClientRect().top-35)}px`,y=y.filter((jt,ln)=>{var wn;return null!==(wn=V.submenuIds)&&void 0!==wn&&wn.has(jt.id)?(console.warn(`Found submenu cycle: ${jt.id}`),!1):!(jt instanceof Pa.wv&&(ln===y.length-1||0===ln||y[ln-1]instanceof Pa.wv))}),this.push(y,{icon:!0,label:!0,isMenu:!0}),c.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(jt=>!(jt instanceof ma)).forEach((jt,ln,wn)=>{jt.updatePositionInSet(ln+1,wn.length)})}initializeOrUpdateStyleSheet(c,y){this.styleSheet||((0,At.Cl)(c)?this.styleSheet=(0,At.li)(c):(or.globalStyleSheet||(or.globalStyleSheet=(0,At.li)()),this.styleSheet=or.globalStyleSheet)),this.styleSheet.textContent=function Go(We,c){let y=`\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${xs(Oa.W.menuSelection)}\n${xs(Oa.W.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n\tmargin: 0 4px;\n\tborder-radius: 4px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: 4px 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n\tmax-height: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(c){y+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const V=We.scrollbarShadow;V&&(y+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${V} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${V} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${V} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const he=We.scrollbarSliderBackground;he&&(y+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${he};\n\t\t\t\t}\n\t\t\t`);const pe=We.scrollbarSliderHoverBackground;pe&&(y+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${pe};\n\t\t\t\t}\n\t\t\t`);const Oe=We.scrollbarSliderActiveBackground;Oe&&(y+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${Oe};\n\t\t\t\t}\n\t\t\t`)}return y}(y,(0,At.Cl)(c))}styleScrollElement(c,y){var V,he;const pe=null!==(V=y.foregroundColor)&&void 0!==V?V:"",Oe=null!==(he=y.backgroundColor)&&void 0!==he?he:"",jt=y.shadowColor?`0 2px 8px ${y.shadowColor}`:"";c.style.outline=y.borderColor?`1px solid ${y.borderColor}`:"",c.style.borderRadius="5px",c.style.color=pe,c.style.backgroundColor=Oe,c.style.boxShadow=jt}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(c){const y=this.focusedItem;this.setFocusedItem(c),y!==this.focusedItem&&this.updateFocus()}setFocusedItem(c){for(let y=0;y<this.actionsList.children.length;y++)if(c===this.actionsList.children[y]){this.focusedItem=y;break}}updateFocus(c){super.updateFocus(c,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(c,y,V){if(c instanceof Pa.wv)return new ma(y.context,c,{icon:!0},this.menuStyles);if(c instanceof Pa.YH){const he=new gr(c,c.actions,V,{...y,submenuIds:new Set([...y.submenuIds||[],c.id])},this.menuStyles);if(y.enableMnemonics){const pe=he.getMnemonic();if(pe&&he.isEnabled()){let Oe=[];this.mnemonics.has(pe)&&(Oe=this.mnemonics.get(pe)),Oe.push(he),this.mnemonics.set(pe,Oe)}}return he}{const he={enableMnemonics:y.enableMnemonics,useEventAsContext:y.useEventAsContext};if(y.getKeyBinding){const Oe=y.getKeyBinding(c);if(Oe){const Ge=Oe.getLabel();Ge&&(he.keybinding=Ge)}}const pe=new Ps(y.context,c,he,this.menuStyles);if(y.enableMnemonics){const Oe=pe.getMnemonic();if(Oe&&pe.isEnabled()){let Ge=[];this.mnemonics.has(Oe)&&(Ge=this.mnemonics.get(Oe)),Ge.push(pe),this.mnemonics.set(Oe,Ge)}}return pe}}}class Ps extends Ko.EH{constructor(c,y,V,he){if(V.isMenu=!0,super(y,y,V),this.menuStyle=he,this.options=V,this.options.icon=void 0!==V.icon&&V.icon,this.options.label=void 0===V.label||V.label,this.cssClass="",this.options.label&&V.enableMnemonics){const pe=this.action.label;if(pe){const Oe=us.exec(pe);Oe&&(this.mnemonic=(Oe[1]?Oe[1]:Oe[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Bs.uC(()=>{this.element&&(this._register((0,At.ko)(this.element,At.Bx.MOUSE_UP,pe=>{if(At.fs.stop(pe,!0),Za.gm){if(new au.P((0,At.zk)(this.element),pe).rightButton)return;this.onClick(pe)}else setTimeout(()=>{this.onClick(pe)},0)})),this._register((0,At.ko)(this.element,At.Bx.CONTEXT_MENU,pe=>{At.fs.stop(pe,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(c){super.render(c),this.element&&(this.container=c,this.item=(0,At.BC)(this.element,(0,At.$)("a.action-menu-item")),this._action.id===Pa.wv.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,At.BC)(this.item,(0,At.$)("span.menu-item-check"+Zl.L.asCSSSelector(Oa.W.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,At.BC)(this.item,(0,At.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,At.BC)(this.item,(0,At.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var c;super.focus(),null===(c=this.item)||void 0===c||c.focus(),this.applyStyle()}updatePositionInSet(c,y){this.item&&(this.item.setAttribute("aria-posinset",`${c}`),this.item.setAttribute("aria-setsize",`${y}`))}updateLabel(){var c;if(this.label&&this.options.label){(0,At.w_)(this.label);let y=(0,fr.pS)(this.action.label);if(y){const V=function os(We){const c=us,y=c.exec(We);if(!y)return We;return We.replace(c,!y[1]?"$2$3":"").trim()}(y);this.options.enableMnemonics||(y=V),this.label.setAttribute("aria-label",V.replace(/&&/g,"&"));const he=us.exec(y);if(he){y=ot.ih(y),zi.lastIndex=0;let pe=zi.exec(y);for(;pe&&pe[1];)pe=zi.exec(y);const Oe=Ge=>Ge.replace(/&amp;&amp;/g,"&amp;");pe?this.label.append(ot.NB(Oe(y.substr(0,pe.index))," "),(0,At.$)("u",{"aria-hidden":"true"},pe[3]),ot.BO(Oe(y.substr(pe.index+pe[0].length))," ")):this.label.innerText=Oe(y).trim(),null===(c=this.item)||void 0===c||c.setAttribute("aria-keyshortcuts",(he[1]?he[1]:he[3]).toLocaleLowerCase())}else this.label.innerText=y.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const c=this.action.checked;this.item.classList.toggle("checked",!!c),void 0!==c?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",c?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const c=this.element&&this.element.classList.contains("focused"),y=c&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,V=c&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,he=c&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",pe=c&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=y??"",this.item.style.backgroundColor=V??"",this.item.style.outline=he,this.item.style.outlineOffset=pe),this.check&&(this.check.style.color=y??"")}}class gr extends Ps{constructor(c,y,V,he,pe){super(c,c,he,pe),this.submenuActions=y,this.parentData=V,this.submenuOptions=he,this.mysubmenu=null,this.submenuDisposables=this._register(new Je.Cm),this.mouseOver=!1,this.expandDirection=he&&void 0!==he.expandDirection?he.expandDirection:{horizontal:lo.Right,vertical:Ls.Below},this.showScheduler=new Bs.uC(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Bs.uC(()=>{this.element&&!(0,At.QX)((0,At.bq)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(c){super.render(c),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,At.BC)(this.item,(0,At.$)("span.submenu-indicator"+Zl.L.asCSSSelector(Oa.W.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,At.ko)(this.element,At.Bx.KEY_UP,y=>{const V=new ns.Z(y);(V.equals(17)||V.equals(3))&&(At.fs.stop(y,!0),this.createSubmenu(!0))})),this._register((0,At.ko)(this.element,At.Bx.KEY_DOWN,y=>{const V=new ns.Z(y);(0,At.bq)()===this.item&&(V.equals(17)||V.equals(3))&&At.fs.stop(y,!0)})),this._register((0,At.ko)(this.element,At.Bx.MOUSE_OVER,y=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,At.ko)(this.element,At.Bx.MOUSE_LEAVE,y=>{this.mouseOver=!1})),this._register((0,At.ko)(this.element,At.Bx.FOCUS_OUT,y=>{this.element&&!(0,At.QX)((0,At.bq)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(c){At.fs.stop(c,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(c){if(this.parentData.submenu&&(c||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(c,y,V,he){const pe={top:0,left:0};return pe.left=ir(c.width,y.width,{position:he.horizontal===lo.Right?0:1,offset:V.left,size:V.width}),pe.left>=V.left&&pe.left<V.left+V.width&&(V.left+10+y.width<=c.width&&(pe.left=V.left+10),V.top+=10,V.height=0),pe.top=ir(c.height,y.height,{position:0,offset:V.top,size:0}),pe.top+y.height===V.top&&pe.top+V.height+y.height<=c.height&&(pe.top+=V.height),pe}createSubmenu(c=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,At.BC)(this.element,(0,At.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const y=(0,At.zk)(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),V=parseFloat(y.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new or(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Pa.HJ],this.submenuOptions,this.menuStyle);const he=this.element.getBoundingClientRect(),pe={top:he.top-V,left:he.left,height:he.height+2*V,width:he.width},Oe=this.submenuContainer.getBoundingClientRect(),Ge=(0,At.zk)(this.element),{top:bt,left:jt}=this.calculateSubmenuMenuLayout(new At.fg(Ge.innerWidth,Ge.innerHeight),At.fg.lift(Oe),pe,this.expandDirection);this.submenuContainer.style.left=jt-Oe.left+"px",this.submenuContainer.style.top=bt-Oe.top+"px",this.submenuDisposables.add((0,At.ko)(this.submenuContainer,At.Bx.KEY_UP,ln=>{new ns.Z(ln).equals(15)&&(At.fs.stop(ln,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,At.ko)(this.submenuContainer,At.Bx.KEY_DOWN,ln=>{new ns.Z(ln).equals(15)&&At.fs.stop(ln,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(c),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(c){var y;this.item&&(null===(y=this.item)||void 0===y||y.setAttribute("aria-expanded",c))}applyStyle(){super.applyStyle();const y=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=y??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class ma extends Ko.Z4{constructor(c,y,V,he){super(c,y,V),this.menuStyles=he}render(c){super.render(c),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function xs(We){const c=(0,yh.J)()[We.id];return`.codicon-${We.id}:before { content: '\\${c.toString(16)}'; }`}var uo=t(41525);class bl{constructor(c,y,V,he){this.contextViewService=c,this.telemetryService=y,this.notificationService=V,this.keybindingService=he,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(c){this.options=c}showContextMenu(c){const y=c.getActions();if(!y.length)return;let V;this.focusToReturn=(0,At.bq)();const he=(0,At.sb)(c.domForShadowRoot)?c.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>c.getAnchor(),canRelayout:!1,anchorAlignment:c.anchorAlignment,anchorAxisAlignment:c.anchorAxisAlignment,render:pe=>{var Oe;this.lastContainer=pe;const Ge=c.getMenuClassName?c.getMenuClassName():"";Ge&&(pe.className+=" "+Ge),this.options.blockMouse&&(this.block=pe.appendChild((0,At.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",null===(Oe=this.blockDisposable)||void 0===Oe||Oe.dispose(),this.blockDisposable=(0,At.ko)(this.block,At.Bx.MOUSE_DOWN,wn=>wn.stopPropagation()));const bt=new Je.Cm,jt=c.actionRunner||new Pa.LN;jt.onWillRun(wn=>this.onActionRun(wn,!c.skipTelemetry),this,bt),jt.onDidRun(this.onDidActionRun,this,bt),V=new or(pe,y,{actionViewItemProvider:c.getActionViewItem,context:c.getActionsContext?c.getActionsContext():null,actionRunner:jt,getKeyBinding:c.getKeyBinding?c.getKeyBinding:wn=>this.keybindingService.lookupKeybinding(wn.id)},uo.XS),V.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,bt),V.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,bt);const ln=(0,At.zk)(pe);return bt.add((0,At.ko)(ln,At.Bx.BLUR,()=>this.contextViewService.hideContextView(!0))),bt.add((0,At.ko)(ln,At.Bx.MOUSE_DOWN,wn=>{if(wn.defaultPrevented)return;const ti=new au.P(ln,wn);let ii=ti.target;if(!ti.rightButton){for(;ii;){if(ii===pe)return;ii=ii.parentElement}this.contextViewService.hideContextView(!0)}})),(0,Je.qE)(bt,V)},focus:()=>{V?.focus(!!c.autoSelectFirstItem)},onHide:pe=>{var Oe,Ge,bt;null===(Oe=c.onHide)||void 0===Oe||Oe.call(c,!!pe),this.block&&(this.block.remove(),this.block=null),null===(Ge=this.blockDisposable)||void 0===Ge||Ge.dispose(),this.blockDisposable=null,this.lastContainer&&((0,At.bq)()===this.lastContainer||(0,At.QX)((0,At.bq)(),this.lastContainer))&&(null===(bt=this.focusToReturn)||void 0===bt||bt.focus()),this.lastContainer=null}},he,!!he)}onActionRun(c,y){y&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:c.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(c){c.error&&!(0,Li.MB)(c.error)&&this.notificationService.error(c.error)}}var Wr=function(We,c){return function(y,V){c(y,V,We)}};let Zo=class extends Je.jG{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new bl(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(c,y,V,he,pe,Oe){super(),this.telemetryService=c,this.notificationService=y,this.contextViewService=V,this.keybindingService=he,this.menuService=pe,this.contextKeyService=Oe,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new Pt.vl),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new Pt.vl)}configure(c){this.contextMenuHandler.configure(c)}showContextMenu(c){c=Xa.transform(c,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...c,onHide:y=>{var V;null===(V=c.onHide)||void 0===V||V.call(c,y),this._onDidHideContextMenu.fire()}}),At.Di.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};var Xa;Zo=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([Wr(0,ta.k),Wr(1,Ui.Ot),Wr(2,io.l),Wr(3,vo.b),Wr(4,Or.ez),Wr(5,Ii.fN)],Zo),function(We){We.transform=function y(V,he,pe){if(!function c(V){return V&&V.menuId instanceof Or.D8}(V))return V;const{menuId:Oe,menuActionOptions:Ge,contextKeyService:bt}=V;return{...V,getActions:()=>{const jt=[];if(Oe){const ln=he.createMenu(Oe,bt??pe);(0,ws.$u)(ln,Ge,jt),ln.dispose()}return V.getActions?Pa.wv.join(V.getActions(),jt):jt}}}}(Xa||(Xa={}));var Ja=t(83713),Vr=function(We){return We[We.API=0]="API",We[We.USER=1]="USER",We}(Vr||{}),qa=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe},Hr=function(We,c){return function(y,V){c(y,V,We)}};let Er=class{constructor(c){this._commandService=c}open(c,y){var V=this;return(0,on.A)(function*(){if(!(0,Rt.v$)(c,Rt.ny.command))return!1;if(!y?.allowCommands||("string"==typeof c&&(c=De.r.parse(c)),Array.isArray(y.allowCommands)&&!y.allowCommands.includes(c.path)))return!0;let he=[];try{he=(0,Ja.qg)(decodeURIComponent(c.query))}catch{try{he=(0,Ja.qg)(c.query)}catch{}}return Array.isArray(he)||(he=[he]),yield V._commandService.executeCommand(c.path,...he),!0})()}};Er=qa([Hr(0,hr.d)],Er);let yl=class{constructor(c){this._editorService=c}open(c,y){var V=this;return(0,on.A)(function*(){"string"==typeof c&&(c=De.r.parse(c));const{selection:he,uri:pe}=(0,gs.e)(c);return(c=pe).scheme===Rt.ny.file&&(c=(0,Sd.Fd)(c)),yield V._editorService.openCodeEditor({resource:c,options:{selection:he,source:y?.fromUserGesture?Vr.USER:Vr.API,...y?.editorOptions}},V._editorService.getFocusedCodeEditor(),y?.openToSide),!0})()}};yl=qa([Hr(0,en.T)],yl);let pa=class{constructor(c,y){var he,V=this;this._openers=new hn.w,this._validators=new hn.w,this._resolvers=new hn.w,this._resolvedUriTargets=new Cr.fT(he=>he.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new hn.w,this._defaultExternalOpener={openExternal:(he=(0,on.A)(function*(pe){return(0,Rt.fV)(pe,Rt.ny.http,Rt.ny.https)?At.CE(pe):ht.G.location.href=pe,!0}),function(Oe){return he.apply(this,arguments)})},this._openers.push({open:function(){var he=(0,on.A)(function*(pe,Oe){return!(!Oe?.openExternal&&!(0,Rt.fV)(pe,Rt.ny.mailto,Rt.ny.http,Rt.ny.https,Rt.ny.vsls)||(yield V._doOpenExternal(pe,Oe),0))});return function(Oe,Ge){return he.apply(this,arguments)}}()}),this._openers.push(new Er(y)),this._openers.push(new yl(c))}registerOpener(c){return{dispose:this._openers.unshift(c)}}open(c,y){var V=this;return(0,on.A)(function*(){var he;const pe="string"==typeof c?De.r.parse(c):c,Oe=null!==(he=V._resolvedUriTargets.get(pe))&&void 0!==he?he:c;for(const Ge of V._validators)if(!(yield Ge.shouldOpen(Oe,y)))return!1;for(const Ge of V._openers)if(yield Ge.open(c,y))return!0;return!1})()}resolveExternalUri(c,y){var V=this;return(0,on.A)(function*(){for(const he of V._resolvers)try{const pe=yield he.resolveExternalUri(c,y);if(pe)return V._resolvedUriTargets.has(pe.resolved)||V._resolvedUriTargets.set(pe.resolved,c),pe}catch{}throw new Error("Could not resolve external URI: "+c.toString())})()}_doOpenExternal(c,y){var V=this;return(0,on.A)(function*(){const he="string"==typeof c?De.r.parse(c):c;let pe,Oe;try{pe=(yield V.resolveExternalUri(he,y)).resolved}catch{pe=he}if(Oe="string"==typeof c&&he.toString()===pe.toString()?c:encodeURI(pe.toString(!0)),y?.allowContributedOpeners){const Ge="string"==typeof y?.allowContributedOpeners?y?.allowContributedOpeners:void 0;for(const bt of V._externalOpeners)if(yield bt.openExternal(Oe,{sourceUri:he,preferredOpenerId:Ge},Ir.XO.None))return!0}return V._defaultExternalOpener.openExternal(Oe,{sourceUri:he},Ir.XO.None)})()}dispose(){this._validators.clear()}};pa=qa([Hr(0,en.T),Hr(1,hr.d)],pa);var yo=t(34225),Ks=t(24270),_a=t(30976),Rr=t(58370),el=function(We,c){return function(y,V){c(y,V,We)}};let Cs=class extends Je.jG{constructor(c,y){super(),this._markerService=y,this._onDidChangeMarker=this._register(new Pt.vl),this._markerDecorations=new Cr.fT,c.getModels().forEach(V=>this._onModelAdded(V)),this._register(c.onModelAdded(this._onModelAdded,this)),this._register(c.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(c=>c.dispose()),this._markerDecorations.clear()}getMarker(c,y){const V=this._markerDecorations.get(c);return V&&V.getMarker(y)||null}_handleMarkerChange(c){c.forEach(y=>{const V=this._markerDecorations.get(y);V&&this._updateDecorations(V)})}_onModelAdded(c){const y=new lc(c);this._markerDecorations.set(c.uri,y),this._updateDecorations(y)}_onModelRemoved(c){var y;const V=this._markerDecorations.get(c.uri);V&&(V.dispose(),this._markerDecorations.delete(c.uri)),(c.uri.scheme===Rt.ny.inMemory||c.uri.scheme===Rt.ny.internal||c.uri.scheme===Rt.ny.vscode)&&(null===(y=this._markerService)||void 0===y||y.read({resource:c.uri}).map(he=>he.owner).forEach(he=>this._markerService.remove(he,[c.uri])))}_updateDecorations(c){const y=this._markerService.read({resource:c.model.uri,take:500});c.update(y)&&this._onDidChangeMarker.fire(c.model)}};Cs=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([el(0,Wi.S),el(1,Ks.DR)],Cs);class lc extends Je.jG{constructor(c){super(),this.model=c,this._map=new Cr.cO,this._register((0,Je.s)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(c){const{added:y,removed:V}=(0,Rr.Z)(new Set(this._map.keys()),new Set(c));if(0===y.length&&0===V.length)return!1;const he=V.map(Ge=>this._map.get(Ge)),pe=y.map(Ge=>({range:this._createDecorationRange(this.model,Ge),options:this._createDecorationOption(Ge)})),Oe=this.model.deltaDecorations(he,pe);for(const Ge of V)this._map.delete(Ge);for(let Ge=0;Ge<Oe.length;Ge++)this._map.set(y[Ge],Oe[Ge]);return!0}getMarker(c){return this._map.getKey(c.id)}_createDecorationRange(c,y){let V=Ar.Q.lift(y);if(y.severity===Ks.cj.Hint&&!this._hasMarkerTag(y,1)&&!this._hasMarkerTag(y,2)&&(V=V.setEndPosition(V.startLineNumber,V.startColumn+2)),V=c.validateRange(V),V.isEmpty()){const he=c.getLineLastNonWhitespaceColumn(V.startLineNumber)||c.getLineMaxColumn(V.startLineNumber);if(1===he||V.endColumn>=he)return V;const pe=c.getWordAtPosition(V.getStartPosition());pe&&(V=new Ar.Q(V.startLineNumber,pe.startColumn,V.endLineNumber,pe.endColumn))}else if(y.endColumn===Number.MAX_VALUE&&1===y.startColumn&&V.startLineNumber===V.endLineNumber){const he=c.getLineFirstNonWhitespaceColumn(y.startLineNumber);he<V.endColumn&&(V=new Ar.Q(V.startLineNumber,he,V.endLineNumber,V.endColumn),y.startColumn=he)}return V}_createDecorationOption(c){let y,V,he,pe,Oe;switch(c.severity){case Ks.cj.Hint:y=this._hasMarkerTag(c,2)?void 0:this._hasMarkerTag(c,1)?"squiggly-unnecessary":"squiggly-hint",he=0;break;case Ks.cj.Info:y="squiggly-info",V=(0,An.Yf)(_a.AQ),he=10,Oe={color:(0,An.Yf)(ki.KoI),position:1};break;case Ks.cj.Warning:y="squiggly-warning",V=(0,An.Yf)(_a.aZ),he=20,Oe={color:(0,An.Yf)(ki.uMG),position:1};break;default:y="squiggly-error",V=(0,An.Yf)(_a.yI),he=30,Oe={color:(0,An.Yf)(ki.yLC),position:1}}return c.tags&&(-1!==c.tags.indexOf(1)&&(pe="squiggly-inline-unnecessary"),-1!==c.tags.indexOf(2)&&(pe="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:y,showIfCollapsed:!0,overviewRuler:{color:V,position:Vi.A5.Right},minimap:Oe,zIndex:he,inlineClassName:pe}}_hasMarkerTag(c,y){return!!c.tags&&c.tags.indexOf(y)>=0}}var Sl,sr=t(79313),rr=t(80753),Na=t(63081),Fa=t(55763),Ur=t(24077),va=function(We,c){return function(y,V){c(y,V,We)}};function tl(We){return We.toString()}class Dl{constructor(c,y,V){this.model=c,this._modelEventListeners=new Je.Cm,this.model=c,this._modelEventListeners.add(c.onWillDispose(()=>y(c))),this._modelEventListeners.add(c.onDidChangeLanguage(he=>V(c,he)))}dispose(){this._modelEventListeners.dispose()}}const du=co.j9||co.zx?1:2;class Sh{constructor(c,y,V,he,pe,Oe,Ge,bt){this.uri=c,this.initialUndoRedoSnapshot=y,this.time=V,this.sharesUndoRedoStack=he,this.heapSize=pe,this.sha1=Oe,this.versionId=Ge,this.alternativeVersionId=bt}}let El=Sl=class extends Je.jG{constructor(c,y,V,he,pe){super(),this._configurationService=c,this._resourcePropertiesService=y,this._undoRedoService=V,this._languageService=he,this._languageConfigurationService=pe,this._onModelAdded=this._register(new Pt.vl),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new Pt.vl),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new Pt.vl),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(Oe=>this._updateModelOptions(Oe))),this._updateModelOptions(void 0)}static _readModelOptions(c,y){var V;let he=Na.R.tabSize;if(c.editor&&typeof c.editor.tabSize<"u"){const ii=parseInt(c.editor.tabSize,10);isNaN(ii)||(he=ii),he<1&&(he=1)}let pe="tabSize";if(c.editor&&typeof c.editor.indentSize<"u"&&"tabSize"!==c.editor.indentSize){const ii=parseInt(c.editor.indentSize,10);isNaN(ii)||(pe=Math.max(ii,1))}let Oe=Na.R.insertSpaces;c.editor&&typeof c.editor.insertSpaces<"u"&&(Oe="false"!==c.editor.insertSpaces&&!!c.editor.insertSpaces);let Ge=du;const bt=c.eol;"\r\n"===bt?Ge=2:"\n"===bt&&(Ge=1);let jt=Na.R.trimAutoWhitespace;c.editor&&typeof c.editor.trimAutoWhitespace<"u"&&(jt="false"!==c.editor.trimAutoWhitespace&&!!c.editor.trimAutoWhitespace);let ln=Na.R.detectIndentation;c.editor&&typeof c.editor.detectIndentation<"u"&&(ln="false"!==c.editor.detectIndentation&&!!c.editor.detectIndentation);let wn=Na.R.largeFileOptimizations;c.editor&&typeof c.editor.largeFileOptimizations<"u"&&(wn="false"!==c.editor.largeFileOptimizations&&!!c.editor.largeFileOptimizations);let ti=Na.R.bracketPairColorizationOptions;return!(null===(V=c.editor)||void 0===V)&&V.bracketPairColorization&&"object"==typeof c.editor.bracketPairColorization&&(ti={enabled:!!c.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!c.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:y,tabSize:he,indentSize:pe,insertSpaces:Oe,detectIndentation:ln,defaultEOL:Ge,trimAutoWhitespace:jt,largeFileOptimizations:wn,bracketPairColorizationOptions:ti}}_getEOL(c,y){if(c)return this._resourcePropertiesService.getEOL(c,y);const V=this._configurationService.getValue("files.eol",{overrideIdentifier:y});return V&&"string"==typeof V&&"auto"!==V?V:3===co.OS||2===co.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const c=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof c||c}getCreationOptions(c,y,V){const he="string"==typeof c?c:c.languageId;let pe=this._modelCreationOptionsByLanguageAndResource[he+y];if(!pe){const Oe=this._configurationService.getValue("editor",{overrideIdentifier:he,resource:y}),Ge=this._getEOL(y,he);pe=Sl._readModelOptions({editor:Oe,eol:Ge},V),this._modelCreationOptionsByLanguageAndResource[he+y]=pe}return pe}_updateModelOptions(c){const y=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const V=Object.keys(this._models);for(let he=0,pe=V.length;he<pe;he++){const Ge=this._models[V[he]],bt=Ge.model.getLanguageId(),jt=Ge.model.uri;if(c&&!c.affectsConfiguration("editor",{overrideIdentifier:bt,resource:jt})&&!c.affectsConfiguration("files.eol",{overrideIdentifier:bt,resource:jt}))continue;const ln=y[bt+jt],wn=this.getCreationOptions(bt,jt,Ge.model.isForSimpleWidget);Sl._setModelOptionsForModel(Ge.model,wn,ln)}}static _setModelOptionsForModel(c,y,V){V&&V.defaultEOL!==y.defaultEOL&&1===c.getLineCount()&&c.setEOL(1===y.defaultEOL?0:1),(!V||V.detectIndentation!==y.detectIndentation||V.insertSpaces!==y.insertSpaces||V.tabSize!==y.tabSize||V.indentSize!==y.indentSize||V.trimAutoWhitespace!==y.trimAutoWhitespace||!(0,an.aI)(V.bracketPairColorizationOptions,y.bracketPairColorizationOptions))&&(y.detectIndentation?(c.detectIndentation(y.insertSpaces,y.tabSize),c.updateOptions({trimAutoWhitespace:y.trimAutoWhitespace,bracketColorizationOptions:y.bracketPairColorizationOptions})):c.updateOptions({insertSpaces:y.insertSpaces,tabSize:y.tabSize,indentSize:y.indentSize,trimAutoWhitespace:y.trimAutoWhitespace,bracketColorizationOptions:y.bracketPairColorizationOptions}))}_insertDisposedModel(c){this._disposedModels.set(tl(c.uri),c),this._disposedModelsHeapSize+=c.heapSize}_removeDisposedModel(c){const y=this._disposedModels.get(tl(c));return y&&(this._disposedModelsHeapSize-=y.heapSize),this._disposedModels.delete(tl(c)),y}_ensureDisposedModelsHeapSize(c){if(this._disposedModelsHeapSize>c){const y=[];for(this._disposedModels.forEach(V=>{V.sharesUndoRedoStack||y.push(V)}),y.sort((V,he)=>V.time-he.time);y.length>0&&this._disposedModelsHeapSize>c;){const V=y.shift();this._removeDisposedModel(V.uri),null!==V.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(V.initialUndoRedoSnapshot)}}}_createModelData(c,y,V,he){const pe=this.getCreationOptions(y,V,he),Oe=new rr.Bz(c,y,pe,V,this._undoRedoService,this._languageService,this._languageConfigurationService);if(V&&this._disposedModels.has(tl(V))){const jt=this._removeDisposedModel(V),ln=this._undoRedoService.getElements(V),wn=this._getSHA1Computer(),ti=!!wn.canComputeSHA1(Oe)&&wn.computeSHA1(Oe)===jt.sha1;if(ti||jt.sharesUndoRedoStack){for(const ii of ln.past)(0,Ur.Th)(ii)&&ii.matchesResource(V)&&ii.setModel(Oe);for(const ii of ln.future)(0,Ur.Th)(ii)&&ii.matchesResource(V)&&ii.setModel(Oe);this._undoRedoService.setElementsValidFlag(V,!0,ii=>(0,Ur.Th)(ii)&&ii.matchesResource(V)),ti&&(Oe._overwriteVersionId(jt.versionId),Oe._overwriteAlternativeVersionId(jt.alternativeVersionId),Oe._overwriteInitialUndoRedoSnapshot(jt.initialUndoRedoSnapshot))}else null!==jt.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(jt.initialUndoRedoSnapshot)}const Ge=tl(Oe.uri);if(this._models[Ge])throw new Error("ModelService: Cannot add model because it already exists!");const bt=new Dl(Oe,jt=>this._onWillDispose(jt),(jt,ln)=>this._onDidChangeLanguage(jt,ln));return this._models[Ge]=bt,bt}createModel(c,y,V,he=!1){let pe;return pe=this._createModelData(c,y||hi.vH,V,he),this._onModelAdded.fire(pe.model),pe.model}getModels(){const c=[],y=Object.keys(this._models);for(let V=0,he=y.length;V<he;V++)c.push(this._models[y[V]].model);return c}getModel(c){const y=tl(c),V=this._models[y];return V?V.model:null}_schemaShouldMaintainUndoRedoElements(c){return c.scheme===Rt.ny.file||c.scheme===Rt.ny.vscodeRemote||c.scheme===Rt.ny.vscodeUserData||c.scheme===Rt.ny.vscodeNotebookCell||"fake-fs"===c.scheme}_onWillDispose(c){const y=tl(c.uri),V=this._models[y],he=this._undoRedoService.getUriComparisonKey(c.uri)!==c.uri.toString();let pe=!1,Oe=0;if(he||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(c.uri)){const jt=this._undoRedoService.getElements(c.uri);if(jt.past.length>0||jt.future.length>0){for(const ln of jt.past)(0,Ur.Th)(ln)&&ln.matchesResource(c.uri)&&(pe=!0,Oe+=ln.heapSize(c.uri),ln.setModel(c.uri));for(const ln of jt.future)(0,Ur.Th)(ln)&&ln.matchesResource(c.uri)&&(pe=!0,Oe+=ln.heapSize(c.uri),ln.setModel(c.uri))}}const Ge=Sl.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,bt=this._getSHA1Computer();if(pe)if(he||!(Oe>Ge)&&bt.canComputeSHA1(c))this._ensureDisposedModelsHeapSize(Ge-Oe),this._undoRedoService.setElementsValidFlag(c.uri,!1,jt=>(0,Ur.Th)(jt)&&jt.matchesResource(c.uri)),this._insertDisposedModel(new Sh(c.uri,V.model.getInitialUndoRedoSnapshot(),Date.now(),he,Oe,bt.computeSHA1(c),c.getVersionId(),c.getAlternativeVersionId()));else{const jt=V.model.getInitialUndoRedoSnapshot();null!==jt&&this._undoRedoService.restoreSnapshot(jt)}else if(!he){const jt=V.model.getInitialUndoRedoSnapshot();null!==jt&&this._undoRedoService.restoreSnapshot(jt)}delete this._models[y],V.dispose(),delete this._modelCreationOptionsByLanguageAndResource[c.getLanguageId()+c.uri],this._onModelRemoved.fire(c)}_onDidChangeLanguage(c,y){const V=y.oldLanguage,he=c.getLanguageId(),pe=this.getCreationOptions(V,c.uri,c.isForSimpleWidget),Oe=this.getCreationOptions(he,c.uri,c.isForSimpleWidget);Sl._setModelOptionsForModel(c,Oe,pe),this._onModelModeChanged.fire({model:c,oldLanguageId:V})}_getSHA1Computer(){return new rg}};El.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,El=Sl=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([va(0,Qn.pG),va(1,$l.J),va(2,Mi.$D),va(3,ei.L),va(4,wi.JZ)],El);let rg=(()=>{class We{canComputeSHA1(y){return y.getValueLength()<=We.MAX_MODEL_SIZE}computeSHA1(y){const V=new Fa.v7,he=y.createSnapshot();let pe;for(;pe=he.read();)V.update(pe);return V.digest()}}return We.MAX_MODEL_SIZE=10485760,We})();var dc=t(71446),Xl={};Xl.styleTagTransform=Ye(),Xl.setAttributes=Ut(),Xl.insert=Bt().bind(null,"head"),Xl.domAPI=Ht(),Xl.insertStyleElement=ke(),mt()(dc.A,Xl);var Jl=t(64558),Co=t(8086),Dh=function(We,c){return function(y,V){c(y,V,We)}};let wl=class extends Je.jG{constructor(c,y){super(),this.quickInputService=c,this.instantiationService=y,this.registry=so.O.as(Jl.Fd.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(c="",y){this.doShowOrPick(c,!1,y)}doShowOrPick(c,y,V){var he,pe,Oe,Ge;const[bt,jt]=this.getOrInstantiateProvider(c,V?.enabledProviderPrefixes),ln=this.visibleQuickAccess,wn=ln?.descriptor;if(ln&&jt&&wn===jt)return c!==jt.prefix&&!V?.preserveValue&&(ln.picker.value=c),void this.adjustValueSelection(ln.picker,jt,V);if(jt&&!V?.preserveValue){let Eo;if(ln&&wn&&wn!==jt){const mo=ln.value.substr(wn.prefix.length);mo&&(Eo=`${jt.prefix}${mo}`)}if(!Eo){const mo=bt?.defaultFilterValue;mo===Jl.aJ.LAST?Eo=this.lastAcceptedPickerValues.get(jt):"string"==typeof mo&&(Eo=`${jt.prefix}${mo}`)}"string"==typeof Eo&&(c=Eo)}const ti=null===(he=ln?.picker)||void 0===he?void 0:he.valueSelection,ii=null===(pe=ln?.picker)||void 0===pe?void 0:pe.value,Ai=new Je.Cm,to=Ai.add(this.quickInputService.createQuickPick());let ho;to.value=c,this.adjustValueSelection(to,jt,V),to.placeholder=null!==(Oe=V?.placeholder)&&void 0!==Oe?Oe:jt?.placeholder,to.quickNavigate=V?.quickNavigateConfiguration,to.hideInput=!!to.quickNavigate&&!ln,("number"==typeof V?.itemActivation||V?.quickNavigateConfiguration)&&(to.itemActivation=null!==(Ge=V?.itemActivation)&&void 0!==Ge?Ge:Co.C1.SECOND),to.contextKey=jt?.contextKey,to.filterValue=Eo=>Eo.substring(jt?jt.prefix.length:0),y&&(ho=new Bs.Zv,Ai.add(Pt.Jh.once(to.onWillAccept)(Eo=>{Eo.veto(),to.hide()}))),Ai.add(this.registerPickerListeners(to,bt,jt,c,V));const wo=Ai.add(new Ir.Qi);return bt&&Ai.add(bt.provide(to,wo.token,V?.providerOptions)),Pt.Jh.once(to.onDidHide)(()=>{0===to.selectedItems.length&&wo.cancel(),Ai.dispose(),ho?.complete(to.selectedItems.slice(0))}),to.show(),ti&&ii===c&&(to.valueSelection=ti),y?ho?.p:void 0}adjustValueSelection(c,y,V){var he;let pe;pe=V?.preserveValue?[c.value.length,c.value.length]:[null!==(he=y?.prefix.length)&&void 0!==he?he:0,c.value.length],c.valueSelection=pe}registerPickerListeners(c,y,V,he,pe){const Oe=new Je.Cm,Ge=this.visibleQuickAccess={picker:c,descriptor:V,value:he};return Oe.add((0,Je.s)(()=>{Ge===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),Oe.add(c.onDidChangeValue(bt=>{const[jt]=this.getOrInstantiateProvider(bt,pe?.enabledProviderPrefixes);jt!==y?this.show(bt,{enabledProviderPrefixes:pe?.enabledProviderPrefixes,preserveValue:!0,providerOptions:pe?.providerOptions}):Ge.value=bt})),V&&Oe.add(c.onDidAccept(()=>{this.lastAcceptedPickerValues.set(V,c.value)})),Oe}getOrInstantiateProvider(c,y){const V=this.registry.getQuickAccessProvider(c);if(!V||y&&!y?.includes(V.prefix))return[void 0,void 0];let he=this.mapProviderToDescriptor.get(V);return he||(he=this.instantiationService.createInstance(V.ctor),this.mapProviderToDescriptor.set(V,he)),[he,V]}};wl=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([Dh(0,Co.GK),Dh(1,Zt._Y)],wl);var lg=t(48469),cc=t(87492),nl={};nl.styleTagTransform=Ye(),nl.setAttributes=Ut(),nl.insert=Bt().bind(null,"head"),nl.domAPI=Ht(),nl.insertStyleElement=ke(),mt()(cc.A,nl);var cu=t(27354),dg=t(51817),Ld=t(65441),uc=t(17353);class jr{constructor(c){this.nodes=c}toString(){return this.nodes.map(c=>"string"==typeof c?c:c.label).join("")}}!function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);he>3&&pe&&Object.defineProperty(c,y,pe)}([uc.B],jr.prototype,"toString",null);const hu=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi,fc={},ql=new Ld.n("quick-input-button-icon-");function Ll(We,c,y){let V=We.iconClass||function ed(We){if(!We)return;let c;const y=We.dark.toString();return fc[y]?c=fc[y]:(c=ql.nextId(),At.Wt(`.${c}, .hc-light .${c}`,`background-image: ${At.Tf(We.light||We.dark)}`),At.Wt(`.vs-dark .${c}, .hc-black .${c}`,`background-image: ${At.Tf(We.dark)}`),fc[y]=c),c}(We.iconPath);return We.alwaysVisible&&(V=V?`${V} always-visible`:"always-visible"),{id:c,label:"",tooltip:We.tooltip||"",class:V,enabled:!0,run:y}}var zr=function(We,c){return function(y,V){c(y,V,We)}};const gc="inQuickInput",fu=new Ii.N1(gc,!1,(0,vi.kg)("inQuickInput","Whether keyboard focus is inside the quick input control")),mc=Ii.M$.has(gc),pc="quickInputType",cg=new Ii.N1(pc,void 0,(0,vi.kg)("quickInputType","The type of the currently visible quick input")),es="cursorAtEndOfQuickInputBox",_c=new Ii.N1(es,!1,(0,vi.kg)("cursorAtEndOfQuickInputBox","Whether the cursor in the quick input is at the end of the input box")),Kr=Ii.M$.has(es),Xs={iconClass:Zl.L.asClassName(Oa.W.quickInputBack),tooltip:(0,vi.kg)("quickInput.back","Back"),handle:-1};class td extends Je.jG{constructor(c){super(),this.ui=c,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=td.noPromptMessage,this._severity=Fi.A.Ignore,this.onDidTriggerButtonEmitter=this._register(new Pt.vl),this.onDidHideEmitter=this._register(new Pt.vl),this.onWillHideEmitter=this._register(new Pt.vl),this.onDisposeEmitter=this._register(new Pt.vl),this.visibleDisposables=this._register(new Je.Cm),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(c){this._title=c,this.update()}get description(){return this._description}set description(c){this._description=c,this.update()}get step(){return this._steps}set step(c){this._steps=c,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(c){this._totalSteps=c,this.update()}get enabled(){return this._enabled}set enabled(c){this._enabled=c,this.update()}get contextKey(){return this._contextKey}set contextKey(c){this._contextKey=c,this.update()}get busy(){return this._busy}set busy(c){this._busy=c,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(c){const y=this._ignoreFocusOut!==c&&!co.un;this._ignoreFocusOut=c&&!co.un,y&&this.update()}get buttons(){return this._buttons}set buttons(c){this._buttons=c,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(c){this._toggles=c??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(c){this._validationMessage=c,this.update()}get severity(){return this._severity}set severity(c){this._severity=c,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(c=>{-1!==this.buttons.indexOf(c)&&this.onDidTriggerButtonEmitter.fire(c)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(c=Co.kF.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:c})}willHide(c=Co.kF.Other){this.onWillHideEmitter.fire({reason:c})}update(){var y,V,c=this;if(!this.visible)return;const he=this.getTitle();he&&this.ui.title.textContent!==he?this.ui.title.textContent=he:!he&&"&nbsp;"!==this.ui.title.innerHTML&&(this.ui.title.innerText="\xa0");const pe=this.getDescription();if(this.ui.description1.textContent!==pe&&(this.ui.description1.textContent=pe),this.ui.description2.textContent!==pe&&(this.ui.description2.textContent=pe),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?At.Ln(this.ui.widget,this._widget):At.Ln(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new Bs.pc,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const Ge=this.buttons.filter(jt=>jt===Xs).map((jt,ln)=>Ll(jt,`id-${ln}`,(0,on.A)(function*(){return c.onDidTriggerButtonEmitter.fire(jt)})));this.ui.leftActionBar.push(Ge,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const bt=this.buttons.filter(jt=>jt!==Xs).map((jt,ln)=>Ll(jt,`id-${ln}`,(0,on.A)(function*(){return c.onDidTriggerButtonEmitter.fire(jt)})));this.ui.rightActionBar.push(bt,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const Ge=null!==(V=null===(y=this.toggles)||void 0===y?void 0:y.filter(bt=>bt instanceof lg.l))&&void 0!==V?V:[];this.ui.inputBox.toggles=Ge}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const Oe=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==Oe&&(this._lastValidationMessage=Oe,At.Ln(this.ui.message),function xd(We,c,y){At.Ln(c);const V=function hc(We){const c=[];let V,y=0;for(;V=hu.exec(We);){V.index-y>0&&c.push(We.substring(y,V.index));const[,he,pe,,Oe]=V;c.push(Oe?{label:he,href:pe,title:Oe}:{label:he,href:pe}),y=V.index+V[0].length}return y<We.length&&c.push(We.substring(y)),new jr(c)}(We);let he=0;for(const pe of V.nodes)if("string"==typeof pe)c.append(...(0,dg.n)(pe));else{let Oe=pe.title;!Oe&&pe.href.startsWith("command:")?Oe=(0,vi.kg)("executeCommand","Click to execute command '{0}'",pe.href.substring(8)):Oe||(Oe=pe.href);const Ge=At.$("a",{href:pe.href,title:Oe,tabIndex:he++},pe.label);Ge.style.textDecoration="underline";const bt=ii=>{At.sd(ii)&&At.fs.stop(ii,!0),y.callback(pe.href)},jt=y.disposables.add(new cu.f(Ge,At.Bx.CLICK)).event,ln=y.disposables.add(new cu.f(Ge,At.Bx.KEY_DOWN)).event,wn=Pt.Jh.chain(ln,ii=>ii.filter(Ai=>{const to=new ns.Z(Ai);return to.equals(10)||to.equals(3)}));y.disposables.add(Cl.q.addTarget(Ge));const ti=y.disposables.add(new cu.f(Ge,Cl.B.Tap)).event;Pt.Jh.any(jt,ti,wn)(bt,null,y.disposables),c.appendChild(Ge)}}(Oe,this.ui.message,{callback:Ge=>{this.ui.linkOpenerDelegate(Ge)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,vi.kg)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(c){if(this.ui.inputBox.showDecoration(c),c!==Fi.A.Ignore){const y=this.ui.inputBox.stylesForType(c);this.ui.message.style.color=y.foreground?`${y.foreground}`:"",this.ui.message.style.backgroundColor=y.background?`${y.background}`:"",this.ui.message.style.border=y.border?`1px solid ${y.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}td.noPromptMessage=(0,vi.kg)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class Ca extends td{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new Pt.vl),this.onWillAcceptEmitter=this._register(new Pt.vl),this.onDidAcceptEmitter=this._register(new Pt.vl),this.onDidCustomEmitter=this._register(new Pt.vl),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=Co.C1.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new Pt.vl),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new Pt.vl),this.onDidTriggerItemButtonEmitter=this._register(new Pt.vl),this.onDidTriggerSeparatorButtonEmitter=this._register(new Pt.vl),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this._focusEventBufferer=new Pt.at,this.type="quickPick",this.filterValue=c=>c,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(c){this._quickNavigate=c,this.update()}get value(){return this._value}set value(c){this.doSetValue(c)}doSetValue(c,y){this._value!==c&&(this._value=c,y||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(c){this._ariaLabel=c,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(c){this._placeholder=c,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(c){this.ui.list.scrollTop=c}set items(c){this._items=c,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(c){this._canSelectMany=c,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(c){this._canAcceptInBackground=c}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(c){this._matchOnDescription=c,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(c){this._matchOnDetail=c,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(c){this._matchOnLabel=c,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(c){this._matchOnLabelMode=c,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(c){this._sortByLabel=c,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(c){this._keepScrollPosition=c}get itemActivation(){return this._itemActivation}set itemActivation(c){this._itemActivation=c}get activeItems(){return this._activeItems}set activeItems(c){this._activeItems=c,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(c){this._selectedItems=c,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Co.Ym:this.ui.keyMods}get valueSelection(){const c=this.ui.inputBox.getSelection();if(c)return[c.start,c.end]}set valueSelection(c){this._valueSelection=c,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(c){this._customButton=c,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(c){this._customButtonLabel=c,this.update()}get customHover(){return this._customButtonHover}set customHover(c){this._customButtonHover=c,this.update()}get ok(){return this._ok}set ok(c){this._ok=c,this.update()}get hideInput(){return!!this._hideInput}set hideInput(c){this._hideInput=c,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(Co.Fp.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(c=>{this.doSetValue(c,!0)})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this._focusEventBufferer.wrapEvent(this.ui.list.onDidChangeFocus,(c,y)=>y)(c=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,pn.aI)(c,this._activeItems,(y,V)=>y===V)||(this._activeItems=c,this.onDidChangeActiveEmitter.fire(c))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:c,event:y})=>{this.canSelectMany?c.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,pn.aI)(c,this._selectedItems,(V,he)=>V===he)||(this._selectedItems=c,this.onDidChangeSelectionEmitter.fire(c),c.length&&this.handleAccept(At.Er(y)&&1===y.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(c=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,pn.aI)(c,this._selectedItems,(y,V)=>y===V)||(this._selectedItems=c,this.onDidChangeSelectionEmitter.fire(c)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(c=>this.onDidTriggerItemButtonEmitter.fire(c))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(c=>this.onDidTriggerSeparatorButtonEmitter.fire(c))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(c){let y=!1;this.onWillAcceptEmitter.fire({veto:()=>y=!0}),y||this.onDidAcceptEmitter.fire({inBackground:c})}registerQuickNavigation(){return At.ko(this.ui.container,At.Bx.KEY_UP,c=>{if(this.canSelectMany||!this._quickNavigate)return;const y=new ns.Z(c),V=y.keyCode;this._quickNavigate.keybindings.some(Oe=>{const Ge=Oe.getChords();return!(Ge.length>1||(Ge[0].shiftKey&&4===V?y.ctrlKey||y.altKey||y.metaKey:!(Ge[0].altKey&&6===V||Ge[0].ctrlKey&&5===V||Ge[0].metaKey&&57===V)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const c=this.keepScrollPosition?this.scrollTop:0,y=!!this.description,V={title:!!this.title||!!this.step||!!this.buttons.length,description:y,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||y,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(V),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let he=this.ariaLabel;!he&&V.inputBox&&(he=this.placeholder||Ca.DEFAULT_ARIA_LABEL,this.title&&(he+=` - ${this.title}`)),this.ui.list.ariaLabel!==he&&(this.ui.list.ariaLabel=he??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated&&(this.itemsUpdated=!1,this._focusEventBufferer.bufferEvents(()=>{switch(this.ui.list.setElements(this.items),this.ui.list.shouldLoop=!this.canSelectMany,this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Co.C1.NONE:this._itemActivation=Co.C1.FIRST;break;case Co.C1.SECOND:this.ui.list.focus(Co.Fp.Second),this._itemActivation=Co.C1.FIRST;break;case Co.C1.LAST:this.ui.list.focus(Co.Fp.Last),this._itemActivation=Co.C1.FIRST;break;default:this.trySelectFirst()}})),this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",V.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Co.Fp.First)),this.keepScrollPosition&&(this.scrollTop=c)}focus(c){this.ui.list.focus(c),this.canSelectMany&&this.ui.list.domFocus()}accept(c){c&&!this._canAcceptInBackground||this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(c??!1))}}Ca.DEFAULT_ARIA_LABEL=(0,vi.kg)("quickInputBox.ariaLabel","Type to narrow down results.");class Ba extends td{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new Pt.vl),this.onDidAcceptEmitter=this._register(new Pt.vl),this.type="inputBox",this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(c){this._value=c||"",this.update()}get placeholder(){return this._placeholder}set placeholder(c){this._placeholder=c,this.update()}get password(){return this._password}set password(c){this._password=c,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(c=>{c!==this.value&&(this._value=c,this.onDidValueChangeEmitter.fire(c))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){this.visible&&(this.ui.container.classList.remove("hidden-input"),this.ui.setVisibilities({title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0}),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password))}}let mr=class extends go.fO{constructor(c,y){super("element",!1,V=>this.getOverrideOptions(V),c,y)}getOverrideOptions(c){var y;return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:(At.sb(c.content)?null!==(y=c.content.textContent)&&void 0!==y?y:"":"string"==typeof c.content?c.content:c.content.value).includes("\n"),skipFadeInAnimation:!0}}}};mr=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([zr(0,Qn.pG),zr(1,go.TN)],mr);var vc=t(98352),Md=t(6596),nd=t(44978),ar={};ar.styleTagTransform=Ye(),ar.setAttributes=Ut(),ar.insert=Bt().bind(null,"head"),ar.domAPI=Ht(),ar.insertStyleElement=ke(),mt()(nd.A,ar);const xl="infinite",il="infinite-long-running",Lr="discrete";let ba=(()=>{class We extends Je.jG{constructor(y,V){super(),this.progressSignal=this._register(new Je.HE),this.workedVal=0,this.showDelayedScheduler=this._register(new Bs.uC(()=>(0,At.WU)(this.element),0)),this.longRunningScheduler=this._register(new Bs.uC(()=>this.infiniteLongRunning(),We.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(y,V)}create(y,V){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),y.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=V?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active",xl,il,Lr),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel(),this.progressSignal.clear()}stop(){return this.doDone(!1)}doDone(y){return this.element.classList.add("done"),this.element.classList.contains(xl)?(this.bit.style.opacity="0",y?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",y?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Lr,"done",il),this.element.classList.add("active",xl),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(il)}getContainer(){return this.element}}return We.LONG_RUNNING_INFINITE_THRESHOLD=1e4,We})();var ia=t(26878);const So=At.$;class gu extends Je.jG{constructor(c,y,V){super(),this.parent=c,this.onKeyDown=pe=>At.b2(this.findInput.inputBox.inputElement,At.Bx.KEY_DOWN,pe),this.onDidChange=pe=>this.findInput.onDidChange(pe),this.container=At.BC(this.parent,So(".quick-input-box")),this.findInput=this._register(new ia.c(this.container,void 0,{label:"",inputBoxStyles:y,toggleStyles:V}));const he=this.findInput.inputBox.inputElement;he.role="combobox",he.ariaHasPopup="menu",he.ariaAutoComplete="list",he.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(c){this.findInput.setValue(c)}select(c=null){this.findInput.inputBox.select(c)}getSelection(){return this.findInput.inputBox.getSelection()}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(c){this.findInput.inputBox.setPlaceHolder(c)}get password(){return"password"===this.findInput.inputBox.inputElement.type}set password(c){this.findInput.inputBox.inputElement.type=c?"password":"text"}set enabled(c){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!c)}set toggles(c){this.findInput.setAdditionalToggles(c)}setAttribute(c,y){this.findInput.inputBox.inputElement.setAttribute(c,y)}showDecoration(c){c===Fi.A.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:c===Fi.A.Info?1:c===Fi.A.Warning?2:3,content:""})}stylesForType(c){return this.findInput.inputBox.stylesForType(c===Fi.A.Info?1:c===Fi.A.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}var bc=t(78153),Vs=t(31297),Mh=t(62581),Ih=t(8374),od=t(97081);const ol=new od.d(()=>{const We=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:We,collatorIsNumeric:We.resolvedOptions().numeric}});new od.d(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),new od.d(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));var u,bi=t(35481),Lt=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe},s=function(We,c){return function(y,V){c(y,V,We)}};const E=At.$;class ${constructor(c,y,V){this.index=c,this.hasCheckbox=y,this._hidden=!1,this._init=new od.d(()=>{var he;const pe=null!==(he=V.label)&&void 0!==he?he:"",Oe=(0,fr._k)(pe).text.trim(),Ge=V.ariaLabel||[pe,this.saneDescription,this.saneDetail].map(bt=>(0,fr.R$)(bt)).filter(bt=>!!bt).join(", ");return{saneLabel:pe,saneSortLabel:Oe,saneAriaLabel:Ge}}),this._saneDescription=V.description,this._saneTooltip=V.tooltip}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(c){this._element=c}get hidden(){return this._hidden}set hidden(c){this._hidden=c}get saneDescription(){return this._saneDescription}set saneDescription(c){this._saneDescription=c}get saneDetail(){return this._saneDetail}set saneDetail(c){this._saneDetail=c}get saneTooltip(){return this._saneTooltip}set saneTooltip(c){this._saneTooltip=c}get labelHighlights(){return this._labelHighlights}set labelHighlights(c){this._labelHighlights=c}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(c){this._descriptionHighlights=c}get detailHighlights(){return this._detailHighlights}set detailHighlights(c){this._detailHighlights=c}}class ee extends ${constructor(c,y,V,he,pe,Oe){var Ge,bt,jt;super(c,y,pe),this.fireButtonTriggered=V,this._onChecked=he,this.item=pe,this._separator=Oe,this._checked=!1,this.onChecked=y?Pt.Jh.map(Pt.Jh.filter(this._onChecked.event,ln=>ln.element===this),ln=>ln.checked):Pt.Jh.None,this._saneDetail=pe.detail,this._labelHighlights=null===(Ge=pe.highlights)||void 0===Ge?void 0:Ge.label,this._descriptionHighlights=null===(bt=pe.highlights)||void 0===bt?void 0:bt.description,this._detailHighlights=null===(jt=pe.highlights)||void 0===jt?void 0:jt.detail}get separator(){return this._separator}set separator(c){this._separator=c}get checked(){return this._checked}set checked(c){c!==this._checked&&(this._checked=c,this._onChecked.fire({element:this,checked:c}))}get checkboxDisabled(){return!!this.item.disabled}}var Ae=function(We){return We[We.NONE=0]="NONE",We[We.MOUSE_HOVER=1]="MOUSE_HOVER",We[We.ACTIVE_ITEM=2]="ACTIVE_ITEM",We}(Ae||{});class Be extends ${constructor(c,y,V){super(c,!1,V),this.fireSeparatorButtonTriggered=y,this.separator=V,this.children=new Array,this.focusInsideSeparator=Ae.NONE}}class et{getHeight(c){return c instanceof Be?30:c.saneDetail?44:22}getTemplateId(c){return c instanceof ee?Kt.ID:Qt.ID}}class gt{getWidgetAriaLabel(){return(0,vi.kg)("quickInput","Quick Input")}getAriaLabel(c){var y;return null!==(y=c.separator)&&void 0!==y&&y.label?`${c.saneAriaLabel}, ${c.separator.label}`:c.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(c){return c.hasCheckbox?"checkbox":"option"}isChecked(c){if(c.hasCheckbox&&c instanceof ee)return{get value(){return c.checked},onDidChange:y=>c.onChecked(()=>y())}}}class xt{constructor(c){this.hoverDelegate=c}renderTemplate(c){const y=Object.create(null);y.toDisposeElement=new Je.Cm,y.toDisposeTemplate=new Je.Cm,y.entry=At.BC(c,E(".quick-input-list-entry"));const V=At.BC(y.entry,E("label.quick-input-list-label"));y.toDisposeTemplate.add(At.b2(V,At.Bx.CLICK,jt=>{y.checkbox.offsetParent||jt.preventDefault()})),y.checkbox=At.BC(V,E("input.quick-input-list-checkbox")),y.checkbox.type="checkbox";const he=At.BC(V,E(".quick-input-list-rows")),pe=At.BC(he,E(".quick-input-list-row")),Oe=At.BC(he,E(".quick-input-list-row"));y.label=new Vs.s(pe,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),y.toDisposeTemplate.add(y.label),y.icon=At.Hs(y.label.element,E(".quick-input-list-icon"));const Ge=At.BC(pe,E(".quick-input-list-entry-keybinding"));y.keybinding=new Mh.x(Ge,co.OS),y.toDisposeTemplate.add(y.keybinding);const bt=At.BC(Oe,E(".quick-input-list-label-meta"));return y.detail=new Vs.s(bt,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),y.toDisposeTemplate.add(y.detail),y.separator=At.BC(y.entry,E(".quick-input-list-separator")),y.actionBar=new wd.E(y.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),y.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),y.toDisposeTemplate.add(y.actionBar),y}disposeTemplate(c){c.toDisposeElement.dispose(),c.toDisposeTemplate.dispose()}disposeElement(c,y,V){V.toDisposeElement.clear(),V.actionBar.clear()}}let Kt=u=class extends xt{constructor(c,y){super(c),this.themeService=y,this._itemsWithSeparatorsFrequency=new Map}get templateId(){return u.ID}renderTemplate(c){const y=super.renderTemplate(c);return y.toDisposeTemplate.add(At.b2(y.checkbox,At.Bx.CHANGE,V=>{y.element.checked=y.checkbox.checked})),y}renderElement(c,y,V){var he,pe,Oe;const Ge=c.element;V.element=Ge,Ge.element=null!==(he=V.entry)&&void 0!==he?he:void 0;const bt=Ge.item;V.checkbox.checked=Ge.checked,V.toDisposeElement.add(Ge.onChecked(to=>V.checkbox.checked=to)),V.checkbox.disabled=Ge.checkboxDisabled;const{labelHighlights:jt,descriptionHighlights:ln,detailHighlights:wn}=Ge;if(bt.iconPath){const to=(0,Ih.HD)(this.themeService.getColorTheme().type)?bt.iconPath.dark:null!==(pe=bt.iconPath.light)&&void 0!==pe?pe:bt.iconPath.dark,ho=De.r.revive(to);V.icon.className="quick-input-list-icon",V.icon.style.backgroundImage=At.Tf(ho)}else V.icon.style.backgroundImage="",V.icon.className=bt.iconClass?`quick-input-list-icon ${bt.iconClass}`:"";let ti;!Ge.saneTooltip&&Ge.saneDescription&&(ti={markdown:{value:Ge.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:Ge.saneDescription});const ii={matches:jt||[],descriptionTitle:ti,descriptionMatches:ln||[],labelEscapeNewLines:!0};if(ii.extraClasses=bt.iconClasses,ii.italic=bt.italic,ii.strikethrough=bt.strikethrough,V.entry.classList.remove("quick-input-list-separator-as-item"),V.label.setLabel(Ge.saneLabel,Ge.saneDescription,ii),V.keybinding.set(bt.keybinding),Ge.saneDetail){let to;Ge.saneTooltip||(to={markdown:{value:Ge.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:Ge.saneDetail}),V.detail.element.style.display="",V.detail.setLabel(Ge.saneDetail,void 0,{matches:wn,title:to,labelEscapeNewLines:!0})}else V.detail.element.style.display="none";null!==(Oe=Ge.separator)&&void 0!==Oe&&Oe.label?(V.separator.textContent=Ge.separator.label,V.separator.style.display="",this.addItemWithSeparator(Ge)):V.separator.style.display="none",V.entry.classList.toggle("quick-input-list-separator-border",!!Ge.separator);const Ai=bt.buttons;Ai&&Ai.length?(V.actionBar.push(Ai.map((to,ho)=>Ll(to,`id-${ho}`,()=>Ge.fireButtonTriggered({button:to,item:Ge.item}))),{icon:!0,label:!1}),V.entry.classList.add("has-actions")):V.entry.classList.remove("has-actions")}disposeElement(c,y,V){this.removeItemWithSeparator(c.element),super.disposeElement(c,y,V)}isItemWithSeparatorVisible(c){return this._itemsWithSeparatorsFrequency.has(c)}addItemWithSeparator(c){this._itemsWithSeparatorsFrequency.set(c,(this._itemsWithSeparatorsFrequency.get(c)||0)+1)}removeItemWithSeparator(c){const y=this._itemsWithSeparatorsFrequency.get(c)||0;y>1?this._itemsWithSeparatorsFrequency.set(c,y-1):this._itemsWithSeparatorsFrequency.delete(c)}};Kt.ID="quickpickitem",Kt=u=Lt([s(1,An.Gy)],Kt);let Qt=(()=>{class We extends xt{constructor(){super(...arguments),this._visibleSeparatorsFrequency=new Map}get templateId(){return We.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(y){return this._visibleSeparatorsFrequency.has(y)}renderElement(y,V,he){var pe;const Oe=y.element;he.element=Oe,Oe.element=null!==(pe=he.entry)&&void 0!==pe?pe:void 0,Oe.element.classList.toggle("focus-inside",!!Oe.focusInsideSeparator);const Ge=Oe.separator,{labelHighlights:bt,descriptionHighlights:jt,detailHighlights:ln}=Oe;let wn;he.icon.style.backgroundImage="",he.icon.className="",!Oe.saneTooltip&&Oe.saneDescription&&(wn={markdown:{value:Oe.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:Oe.saneDescription});const ti={matches:bt||[],descriptionTitle:wn,descriptionMatches:jt||[],labelEscapeNewLines:!0};if(he.entry.classList.add("quick-input-list-separator-as-item"),he.label.setLabel(Oe.saneLabel,Oe.saneDescription,ti),Oe.saneDetail){let Ai;Oe.saneTooltip||(Ai={markdown:{value:Oe.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:Oe.saneDetail}),he.detail.element.style.display="",he.detail.setLabel(Oe.saneDetail,void 0,{matches:ln,title:Ai,labelEscapeNewLines:!0})}else he.detail.element.style.display="none";he.separator.style.display="none",he.entry.classList.add("quick-input-list-separator-border");const ii=Ge.buttons;ii&&ii.length?(he.actionBar.push(ii.map((Ai,to)=>Ll(Ai,`id-${to}`,()=>Oe.fireSeparatorButtonTriggered({button:Ai,separator:Oe.separator}))),{icon:!0,label:!1}),he.entry.classList.add("has-actions")):he.entry.classList.remove("has-actions"),this.addSeparator(Oe)}disposeElement(y,V,he){var pe;this.removeSeparator(y.element),this.isSeparatorVisible(y.element)||null===(pe=y.element.element)||void 0===pe||pe.classList.remove("focus-inside"),super.disposeElement(y,V,he)}addSeparator(y){this._visibleSeparatorsFrequency.set(y,(this._visibleSeparatorsFrequency.get(y)||0)+1)}removeSeparator(y){const V=this._visibleSeparatorsFrequency.get(y)||0;V>1?this._visibleSeparatorsFrequency.set(y,V-1):this._visibleSeparatorsFrequency.delete(y)}}return We.ID="quickpickseparator",We})(),rn=class extends Je.jG{constructor(c,y,V,he,pe,Oe){super(),this.parent=c,this.hoverDelegate=y,this.linkOpenerDelegate=V,this.accessibilityService=Oe,this._onKeyDown=new Pt.vl,this._onLeave=new Pt.vl,this.onLeave=this._onLeave.event,this._onChangedAllVisibleChecked=new Pt.vl,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new Pt.vl,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new Pt.vl,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new Pt.vl,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new Pt.vl,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new Pt.vl,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._elementChecked=new Pt.vl,this._inputElements=new Array,this._elementTree=new Array,this._itemElements=new Array,this._elementDisposable=this._register(new Je.Cm),this._shouldFireCheckedEvents=!0,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._shouldLoop=!0,this._container=At.BC(this.parent,E(".quick-input-list")),this._separatorRenderer=new Qt(y),this._itemRenderer=pe.createInstance(Kt,y),this._tree=this._register(pe.createInstance(bc.zL,"QuickInput",this._container,new et,[this._itemRenderer,this._separatorRenderer],{accessibilityProvider:new gt,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:bi.KP.None,findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=he,this._registerListeners()}get onDidChangeFocus(){return Pt.Jh.map(this._tree.onDidChangeFocus,c=>c.elements.filter(y=>y instanceof ee).map(y=>y.item))}get onDidChangeSelection(){return Pt.Jh.map(this._tree.onDidChangeSelection,c=>({items:c.elements.filter(y=>y instanceof ee).map(y=>y.item),event:c.browserEvent}))}get scrollTop(){return this._tree.scrollTop}set scrollTop(c){this._tree.scrollTop=c}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(c){this._tree.ariaLabel=c??""}set enabled(c){this._tree.getHTMLElement().style.pointerEvents=c?"":"none"}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(c){this._matchOnDescription=c}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(c){this._matchOnDetail=c}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(c){this._matchOnLabel=c}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(c){this._matchOnLabelMode=c}get sortByLabel(){return this._sortByLabel}set sortByLabel(c){this._sortByLabel=c}get shouldLoop(){return this._shouldLoop}set shouldLoop(c){this._shouldLoop=c}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown(c=>{const y=new ns.Z(c);10===y.keyCode&&this.toggleCheckbox(),this._onKeyDown.fire(y)}))}_registerOnContainerClick(){this._register(At.ko(this._container,At.Bx.CLICK,c=>{(c.x||c.y)&&this._onLeave.fire()}))}_registerOnMouseMiddleClick(){this._register(At.ko(this._container,At.Bx.AUXCLICK,c=>{1===c.button&&this._onLeave.fire()}))}_registerOnElementChecked(){this._register(this._elementChecked.event(c=>this._fireCheckedEvents()))}_registerOnContextMenu(){this._register(this._tree.onContextMenu(c=>{c.element&&(c.browserEvent.preventDefault(),this._tree.setSelection([c.element]))}))}_registerHoverListeners(){var c=this;const y=this._register(new Bs.Th(this.hoverDelegate.delay));this._register(this._tree.onMouseOver(function(){var V=(0,on.A)(function*(he){var pe;if(At.nY(he.browserEvent.target))y.cancel();else if(At.nY(he.browserEvent.relatedTarget)||!At.QX(he.browserEvent.relatedTarget,null===(pe=he.element)||void 0===pe?void 0:pe.element))try{yield y.trigger((0,on.A)(function*(){he.element instanceof ee&&c.showHover(he.element)}))}catch(Oe){if(!(0,Li.MB)(Oe))throw Oe}});return function(he){return V.apply(this,arguments)}}())),this._register(this._tree.onMouseOut(V=>{var he;At.QX(V.browserEvent.relatedTarget,null===(he=V.element)||void 0===he?void 0:he.element)||y.cancel()}))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus(c=>{const y=c.elements[0]?this._tree.getParentElement(c.elements[0]):null;for(const V of this._separatorRenderer.visibleSeparators){const he=V===y;!!(V.focusInsideSeparator&Ae.ACTIVE_ITEM)!==he&&(he?V.focusInsideSeparator|=Ae.ACTIVE_ITEM:V.focusInsideSeparator&=~Ae.ACTIVE_ITEM,this._tree.rerender(V))}})),this._register(this._tree.onMouseOver(c=>{const y=c.element?this._tree.getParentElement(c.element):null;for(const V of this._separatorRenderer.visibleSeparators)V===y&&(V.focusInsideSeparator&Ae.MOUSE_HOVER||(V.focusInsideSeparator|=Ae.MOUSE_HOVER,this._tree.rerender(V)))})),this._register(this._tree.onMouseOut(c=>{const y=c.element?this._tree.getParentElement(c.element):null;for(const V of this._separatorRenderer.visibleSeparators)V===y&&V.focusInsideSeparator&Ae.MOUSE_HOVER&&(V.focusInsideSeparator&=~Ae.MOUSE_HOVER,this._tree.rerender(V))}))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection(c=>{const y=c.elements.filter(V=>V instanceof ee);y.length!==c.elements.length&&(1===c.elements.length&&c.elements[0]instanceof Be&&(this._tree.setFocus([c.elements[0].children[0]]),this._tree.reveal(c.elements[0],0)),this._tree.setSelection(y))}))}getAllVisibleChecked(){return this._allVisibleChecked(this._itemElements,!1)}getCheckedCount(){return this._itemElements.filter(c=>c.checked).length}getVisibleCount(){return this._itemElements.filter(c=>!c.hidden).length}setAllVisibleChecked(c){try{this._shouldFireCheckedEvents=!1,this._itemElements.forEach(y=>{!y.hidden&&!y.checkboxDisabled&&(y.checked=c)})}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}setElements(c){this._elementDisposable.clear(),this._inputElements=c;const y=this.parent.classList.contains("show-checkboxes");let V;this._itemElements=new Array,this._elementTree=c.reduce((Oe,Ge,bt)=>{let jt;if("separator"===Ge.type){if(!Ge.buttons)return Oe;V=new Be(bt,ln=>this.fireSeparatorButtonTriggered(ln),Ge),jt=V}else{const ln=bt>0?c[bt-1]:void 0;let wn;ln&&"separator"===ln.type&&!ln.buttons&&(V=void 0,wn=ln);const ti=new ee(bt,y,ii=>this.fireButtonTriggered(ii),this._elementChecked,Ge,wn);if(this._itemElements.push(ti),V)return V.children.push(ti),Oe;jt=ti}return Oe.push(jt),Oe},new Array);const he=new Array;let pe=0;for(const Oe of this._elementTree)Oe instanceof Be?(he.push({element:Oe,collapsible:!1,collapsed:!1,children:Oe.children.map(Ge=>({element:Ge,collapsible:!1,collapsed:!1}))}),pe+=Oe.children.length+1):(he.push({element:Oe,collapsible:!1,collapsed:!1}),pe++);this._tree.setChildren(null,he),this._onChangedVisibleCount.fire(pe),this.accessibilityService.isScreenReaderOptimized()&&setTimeout(()=>{const Oe=this._tree.getHTMLElement().querySelector(".monaco-list-row.focused"),Ge=Oe?.parentNode;if(Oe&&Ge){const bt=Oe.nextSibling;Ge.removeChild(Oe),Ge.insertBefore(Oe,bt)}},0)}setFocusedElements(c){const y=c.map(V=>this._itemElements.find(he=>he.item===V)).filter(V=>!!V);if(this._tree.setFocus(y),c.length>0){const V=this._tree.getFocus()[0];V&&this._tree.reveal(V)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(c){const y=c.map(V=>this._itemElements.find(he=>he.item===V)).filter(V=>!!V);this._tree.setSelection(y)}getCheckedElements(){return this._itemElements.filter(c=>c.checked).map(c=>c.item)}setCheckedElements(c){try{this._shouldFireCheckedEvents=!1;const y=new Set;for(const V of c)y.add(V);for(const V of this._itemElements)V.checked=y.has(V.item)}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}focus(c){var y;if(this._itemElements.length)switch(c===Co.Fp.Second&&this._itemElements.length<2&&(c=Co.Fp.First),c){case Co.Fp.First:this._tree.scrollTop=0,this._tree.focusFirst(void 0,V=>V.element instanceof ee);break;case Co.Fp.Second:this._tree.scrollTop=0,this._tree.setFocus([this._itemElements[1]]);break;case Co.Fp.Last:this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]);break;case Co.Fp.Next:{const V=this._tree.getFocus();this._tree.focusNext(void 0,this._shouldLoop,void 0,pe=>pe.element instanceof ee&&(this._tree.reveal(pe.element),!0));const he=this._tree.getFocus();V.length&&V[0]===he[0]&&V[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}case Co.Fp.Previous:{const V=this._tree.getFocus();this._tree.focusPrevious(void 0,this._shouldLoop,void 0,pe=>{if(!(pe.element instanceof ee))return!1;const Oe=this._tree.getParentElement(pe.element);return this._tree.reveal(null===Oe||Oe.children[0]!==pe.element?pe.element:Oe),!0});const he=this._tree.getFocus();V.length&&V[0]===he[0]&&V[0]===this._itemElements[0]&&this._onLeave.fire();break}case Co.Fp.NextPage:this._tree.focusNextPage(void 0,V=>V.element instanceof ee&&(this._tree.reveal(V.element),!0));break;case Co.Fp.PreviousPage:this._tree.focusPreviousPage(void 0,V=>{if(!(V.element instanceof ee))return!1;const he=this._tree.getParentElement(V.element);return this._tree.reveal(null===he||he.children[0]!==V.element?V.element:he),!0});break;case Co.Fp.NextSeparator:{let V=!1;const he=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,Oe=>{if(V)return!0;if(Oe.element instanceof Be)V=!0,this._separatorRenderer.isSeparatorVisible(Oe.element)?this._tree.reveal(Oe.element.children[0]):this._tree.reveal(Oe.element,0);else if(Oe.element instanceof ee){if(Oe.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(Oe.element)?this._tree.reveal(Oe.element):this._tree.reveal(Oe.element,0),!0;if(Oe.element===this._elementTree[0])return this._tree.reveal(Oe.element,0),!0}return!1}),he===this._tree.getFocus()[0]&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]));break}case Co.Fp.PreviousSeparator:{let V,he=!(null===(y=this._tree.getFocus()[0])||void 0===y||!y.separator);this._tree.focusPrevious(void 0,!0,void 0,pe=>{if(pe.element instanceof Be)he?V||(this._separatorRenderer.isSeparatorVisible(pe.element)?this._tree.reveal(pe.element):this._tree.reveal(pe.element,0),V=pe.element.children[0]):he=!0;else if(pe.element instanceof ee&&!V)if(pe.element.separator)this._itemRenderer.isItemWithSeparatorVisible(pe.element)?this._tree.reveal(pe.element):this._tree.reveal(pe.element,0),V=pe.element;else if(pe.element===this._elementTree[0])return this._tree.reveal(pe.element,0),!0;return!1}),V&&this._tree.setFocus([V]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(c){this._tree.getHTMLElement().style.maxHeight=c?44*Math.floor(c/44)+6+"px":"",this._tree.layout()}filter(c){if(!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;const y=c;if((c=c.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let Ge;this._elementTree.forEach(bt=>{var jt,ln,wn,ti;let ii;ii="fuzzy"===this.matchOnLabelMode?this.matchOnLabel&&null!==(jt=(0,fr.pz)(c,(0,fr._k)(bt.saneLabel)))&&void 0!==jt?jt:void 0:this.matchOnLabel&&null!==(ln=function Dn(We,c){const{text:y,iconOffsets:V}=c;if(!V||0===V.length)return Ln(We,y);const he=(0,ot.NB)(y," "),pe=y.length-he.length,Oe=Ln(We,he);if(Oe)for(const Ge of Oe){const bt=V[Ge.start+pe]+pe;Ge.start+=bt,Ge.end+=bt}return Oe}(y,(0,fr._k)(bt.saneLabel)))&&void 0!==ln?ln:void 0;const Ai=this.matchOnDescription&&null!==(wn=(0,fr.pz)(c,(0,fr._k)(bt.saneDescription||"")))&&void 0!==wn?wn:void 0,to=this.matchOnDetail&&null!==(ti=(0,fr.pz)(c,(0,fr._k)(bt.saneDetail||"")))&&void 0!==ti?ti:void 0;if(ii||Ai||to?(bt.labelHighlights=ii,bt.descriptionHighlights=Ai,bt.detailHighlights=to,bt.hidden=!1):(bt.labelHighlights=void 0,bt.descriptionHighlights=void 0,bt.detailHighlights=void 0,bt.hidden=!bt.item||!bt.item.alwaysShow),bt.item?bt.separator=void 0:bt.separator&&(bt.hidden=!0),!this.sortByLabel){const ho=bt.index&&this._inputElements[bt.index-1];Ge=ho&&"separator"===ho.type?ho:Ge,Ge&&!bt.hidden&&(bt.separator=Ge,Ge=void 0)}})}else this._itemElements.forEach(Ge=>{Ge.labelHighlights=void 0,Ge.descriptionHighlights=void 0,Ge.detailHighlights=void 0,Ge.hidden=!1;const bt=Ge.index&&this._inputElements[Ge.index-1];Ge.item&&(Ge.separator=bt&&"separator"===bt.type&&!bt.buttons?bt:void 0)});const V=this._elementTree.filter(Ge=>!Ge.hidden);if(this.sortByLabel&&c){const Ge=c.toLowerCase();V.sort((bt,jt)=>function Fn(We,c,y){const V=We.labelHighlights||[],he=c.labelHighlights||[];return V.length&&!he.length?-1:!V.length&&he.length?1:0===V.length&&0===he.length?0:function Ah(We,c,y){const V=We.toLowerCase(),he=c.toLowerCase(),pe=function Th(We,c,y){const V=We.toLowerCase(),he=c.toLowerCase(),pe=V.startsWith(y),Oe=he.startsWith(y);if(pe!==Oe)return pe?-1:1;if(pe&&Oe){if(V.length<he.length)return-1;if(V.length>he.length)return 1}return 0}(We,c,y);if(pe)return pe;const Oe=V.endsWith(y);if(Oe!==he.endsWith(y))return Oe?-1:1;const bt=function yc(We,c,y=!1){const V=We||"",he=c||"",pe=ol.value.collator.compare(V,he);return ol.value.collatorIsNumeric&&0===pe&&V!==he?V<he?-1:1:pe}(V,he);return 0!==bt?bt:V.localeCompare(he)}(We.saneSortLabel,c.saneSortLabel,y)}(bt,jt,Ge))}let he;const pe=V.reduce((Ge,bt,jt)=>(bt instanceof ee?he?he.children.push(bt):Ge.push(bt):bt instanceof Be&&(bt.children=[],he=bt,Ge.push(bt)),Ge),new Array),Oe=new Array;for(const Ge of pe)Oe.push(Ge instanceof Be?{element:Ge,collapsible:!1,collapsed:!1,children:Ge.children.map(bt=>({element:bt,collapsible:!1,collapsed:!1}))}:{element:Ge,collapsible:!1,collapsed:!1});return this._tree.setChildren(null,Oe),this._tree.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(V.length),!0}toggleCheckbox(){try{this._shouldFireCheckedEvents=!1;const c=this._tree.getFocus().filter(V=>V instanceof ee),y=this._allVisibleChecked(c);for(const V of c)V.checkboxDisabled||(V.checked=!y)}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}display(c){this._container.style.display=c?"":"none"}isDisplayed(){return"none"!==this._container.style.display}style(c){this._tree.style(c)}toggleHover(){const c=this._tree.getFocus()[0];if(!(c?.saneTooltip&&c instanceof ee))return;if(this._lastHover&&!this._lastHover.isDisposed)return void this._lastHover.dispose();this.showHover(c);const y=new Je.Cm;y.add(this._tree.onDidChangeFocus(V=>{V.elements[0]instanceof ee&&this.showHover(V.elements[0])})),this._lastHover&&y.add(this._lastHover),this._elementDisposable.add(y)}_allVisibleChecked(c,y=!0){for(let V=0,he=c.length;V<he;V++){const pe=c[V];if(!pe.hidden){if(!pe.checked)return!1;y=!0}}return y}_fireCheckedEvents(){this._shouldFireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(c){this._onButtonTriggered.fire(c)}fireSeparatorButtonTriggered(c){this._onSeparatorButtonTriggered.fire(c)}showHover(c){var y,V,he;this._lastHover&&!this._lastHover.isDisposed&&(null===(V=(y=this.hoverDelegate).onDidHideHover)||void 0===V||V.call(y),null===(he=this._lastHover)||void 0===he||he.dispose()),c.element&&c.saneTooltip&&(this._lastHover=this.hoverDelegate.showHover({content:c.saneTooltip,target:c.element,linkHandler:pe=>{this.linkOpenerDelegate(pe)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};function Ln(We,c){const y=c.toLowerCase().indexOf(We.toLowerCase());return-1!==y?[{start:y,end:y+We.length}]:null}Lt([uc.B],rn.prototype,"onDidChangeFocus",null),Lt([uc.B],rn.prototype,"onDidChangeSelection",null),rn=Lt([s(4,Zt._Y),s(5,_s.j)],rn);var qn=t(81297);const di={weight:200,when:Ii.M$.and(Ii.M$.equals(pc,"quickPick"),mc),metadata:{description:(0,vi.kg)("quickPick","Used while in the context of the quick pick. If you change one keybinding for this command, you should change all of the other keybindings (modifier variants) of this command as well.")}};function si(We,c={}){var y;yd.f.registerCommandAndKeybindingRule({...di,...We,secondary:Bi(We.primary,null!==(y=We.secondary)&&void 0!==y?y:[],c)})}const Ci=co.zx?256:2048;function Bi(We,c,y={}){return y.withAltMod&&c.push(512+We),y.withCtrlMod&&(c.push(Ci+We),y.withAltMod&&c.push(512+Ci+We)),y.withCmdMod&&co.zx&&(c.push(2048+We),y.withCtrlMod&&c.push(2304+We),y.withAltMod&&(c.push(2560+We),y.withCtrlMod&&c.push(2816+We))),c}function Oi(We,c){return y=>{const V=y.get(Co.GK).currentQuickInput;if(V)return V.focus(c&&V.quickNavigate?c:We)}}si({id:"quickInput.pageNext",primary:12,handler:Oi(Co.Fp.NextPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0}),si({id:"quickInput.pagePrevious",primary:11,handler:Oi(Co.Fp.PreviousPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0}),si({id:"quickInput.first",primary:Ci+14,handler:Oi(Co.Fp.First)},{withAltMod:!0,withCmdMod:!0}),si({id:"quickInput.last",primary:Ci+13,handler:Oi(Co.Fp.Last)},{withAltMod:!0,withCmdMod:!0}),si({id:"quickInput.next",primary:18,handler:Oi(Co.Fp.Next)},{withCtrlMod:!0}),si({id:"quickInput.previous",primary:16,handler:Oi(Co.Fp.Previous)},{withCtrlMod:!0});const Xi=(0,vi.kg)("quickInput.nextSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the next item. If we are not in quick access mode, this will navigate to the next separator."),Ji=(0,vi.kg)("quickInput.previousSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the previous item. If we are not in quick access mode, this will navigate to the previous separator.");co.zx?(si({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:2066,handler:Oi(Co.Fp.NextSeparator,Co.Fp.Next),metadata:{description:Xi}}),si({id:"quickInput.nextSeparator",primary:2578,secondary:[2322],handler:Oi(Co.Fp.NextSeparator)},{withCtrlMod:!0}),si({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:2064,handler:Oi(Co.Fp.PreviousSeparator,Co.Fp.Previous),metadata:{description:Ji}}),si({id:"quickInput.previousSeparator",primary:2576,secondary:[2320],handler:Oi(Co.Fp.PreviousSeparator)},{withCtrlMod:!0})):(si({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:530,handler:Oi(Co.Fp.NextSeparator,Co.Fp.Next),metadata:{description:Xi}}),si({id:"quickInput.nextSeparator",primary:2578,handler:Oi(Co.Fp.NextSeparator)}),si({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:528,handler:Oi(Co.Fp.PreviousSeparator,Co.Fp.Previous),metadata:{description:Ji}}),si({id:"quickInput.previousSeparator",primary:2576,handler:Oi(Co.Fp.PreviousSeparator)})),si({id:"quickInput.acceptInBackground",when:Ii.M$.and(di.when,Ii.M$.or(qn.J7.negate(),Kr)),primary:17,weight:250,handler:We=>{const c=We.get(Co.GK).currentQuickInput;c?.accept(!0)}},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});var oo,qi=function(We,c){return function(y,V){c(y,V,We)}};const Qi=At.$;let ro=oo=class extends Je.jG{get currentQuickInput(){var c;return null!==(c=this.controller)&&void 0!==c?c:void 0}get container(){return this._container}constructor(c,y,V,he){super(),this.options=c,this.layoutService=y,this.instantiationService=V,this.contextKeyService=he,this.enabled=!0,this.onDidAcceptEmitter=this._register(new Pt.vl),this.onDidCustomEmitter=this._register(new Pt.vl),this.onDidTriggerButtonEmitter=this._register(new Pt.vl),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new Pt.vl),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new Pt.vl),this.onHide=this.onHideEmitter.event,this.inQuickInputContext=fu.bindTo(this.contextKeyService),this.quickInputTypeContext=cg.bindTo(this.contextKeyService),this.endOfQuickInputBoxContext=_c.bindTo(this.contextKeyService),this.idPrefix=c.idPrefix,this._container=c.container,this.styles=c.styles,this._register(Pt.Jh.runAndSubscribe(At.Iv,({window:pe,disposables:Oe})=>this.registerKeyModsListeners(pe,Oe),{window:ht.G,disposables:this._store})),this._register(At.q3(pe=>{this.ui&&At.zk(this.ui.container)===pe&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}registerKeyModsListeners(c,y){const V=he=>{this.keyMods.ctrlCmd=he.ctrlKey||he.metaKey,this.keyMods.alt=he.altKey};for(const he of[At.Bx.KEY_DOWN,At.Bx.KEY_UP,At.Bx.MOUSE_DOWN])y.add(At.ko(c,he,V,!0))}getUI(c){if(this.ui)return c&&At.zk(this._container)!==At.zk(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const y=At.BC(this._container,Qi(".quick-input-widget.show-file-icons"));y.tabIndex=-1,y.style.display="none";const V=At.li(y),he=At.BC(y,Qi(".quick-input-titlebar")),pe=this._register(new wd.E(he,{hoverDelegate:this.options.hoverDelegate}));pe.domNode.classList.add("quick-input-left-action-bar");const Oe=At.BC(he,Qi(".quick-input-title")),Ge=this._register(new wd.E(he,{hoverDelegate:this.options.hoverDelegate}));Ge.domNode.classList.add("quick-input-right-action-bar");const bt=At.BC(y,Qi(".quick-input-header")),jt=At.BC(bt,Qi("input.quick-input-check-all"));jt.type="checkbox",jt.setAttribute("aria-label",(0,vi.kg)("quickInput.checkAll","Toggle all checkboxes")),this._register(At.b2(jt,At.Bx.CHANGE,Do=>{vs.setAllVisibleChecked(jt.checked)})),this._register(At.ko(jt,At.Bx.CLICK,Do=>{(Do.x||Do.y)&&ii.setFocus()}));const ln=At.BC(bt,Qi(".quick-input-description")),wn=At.BC(bt,Qi(".quick-input-and-message")),ti=At.BC(wn,Qi(".quick-input-filter")),ii=this._register(new gu(ti,this.styles.inputBox,this.styles.toggle));ii.setAttribute("aria-describedby",`${this.idPrefix}message`);const Ai=At.BC(ti,Qi(".quick-input-visible-count"));Ai.setAttribute("aria-live","polite"),Ai.setAttribute("aria-atomic","true");const to=new Md.x(Ai,{countFormat:(0,vi.kg)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),ho=At.BC(ti,Qi(".quick-input-count"));ho.setAttribute("aria-live","polite");const wo=new Md.x(ho,{countFormat:(0,vi.kg)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),Eo=At.BC(bt,Qi(".quick-input-action")),mo=this._register(new vc.$(Eo,this.styles.button));mo.label=(0,vi.kg)("ok","OK"),this._register(mo.onDidClick(Do=>{this.onDidAcceptEmitter.fire()}));const eo=At.BC(bt,Qi(".quick-input-action")),Io=this._register(new vc.$(eo,{...this.styles.button,supportIcons:!0}));Io.label=(0,vi.kg)("custom","Custom"),this._register(Io.onDidClick(Do=>{this.onDidCustomEmitter.fire()}));const hs=At.BC(wn,Qi(`#${this.idPrefix}message.quick-input-message`)),fs=this._register(new ba(y,this.styles.progressBar));fs.getContainer().classList.add("quick-input-progress");const kl=At.BC(y,Qi(".quick-input-html-widget"));kl.tabIndex=-1;const Bo=At.BC(y,Qi(".quick-input-description")),Hs=this.idPrefix+"list",vs=this._register(this.instantiationService.createInstance(rn,y,this.options.hoverDelegate,this.options.linkOpenerDelegate,Hs));ii.setAttribute("aria-controls",Hs),this._register(vs.onDidChangeFocus(()=>{var Do;ii.setAttribute("aria-activedescendant",null!==(Do=vs.getActiveDescendant())&&void 0!==Do?Do:"")})),this._register(vs.onChangedAllVisibleChecked(Do=>{jt.checked=Do})),this._register(vs.onChangedVisibleCount(Do=>{to.setCount(Do)})),this._register(vs.onChangedCheckedCount(Do=>{wo.setCount(Do)})),this._register(vs.onLeave(()=>{setTimeout(()=>{this.controller&&(ii.setFocus(),this.controller instanceof Ca&&this.controller.canSelectMany&&vs.clearFocus())},0)}));const Hc=At.w5(y);return this._register(Hc),this._register(At.ko(y,At.Bx.FOCUS,Do=>{const Mr=this.getUI();if(At.QX(Do.relatedTarget,Mr.inputContainer)){const jd=Mr.inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==jd&&this.endOfQuickInputBoxContext.set(jd)}At.QX(Do.relatedTarget,Mr.container)||(this.inQuickInputContext.set(!0),this.previousFocusElement=At.sb(Do.relatedTarget)?Do.relatedTarget:void 0)},!0)),this._register(Hc.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Co.kF.Blur),this.inQuickInputContext.set(!1),this.endOfQuickInputBoxContext.set(!1),this.previousFocusElement=void 0})),this._register(ii.onKeyDown(Do=>{const Mr=this.getUI().inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==Mr&&this.endOfQuickInputBoxContext.set(Mr)})),this._register(At.ko(y,At.Bx.FOCUS,Do=>{ii.setFocus()})),this._register(At.b2(y,At.Bx.KEY_DOWN,Do=>{if(!At.QX(Do.target,kl))switch(Do.keyCode){case 3:At.fs.stop(Do,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:At.fs.stop(Do,!0),this.hide(Co.kF.Gesture);break;case 2:if(!Do.altKey&&!Do.ctrlKey&&!Do.metaKey){const Mr=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(y.classList.contains("show-checkboxes")?Mr.push("input"):Mr.push("input[type=text]"),this.getUI().list.isDisplayed()&&Mr.push(".monaco-list"),this.getUI().message&&Mr.push(".quick-input-message a"),this.getUI().widget){if(At.QX(Do.target,this.getUI().widget))break;Mr.push(".quick-input-html-widget")}const jd=y.querySelectorAll(Mr.join(", "));Do.shiftKey&&Do.target===jd[0]?(At.fs.stop(Do,!0),vs.clearFocus()):!Do.shiftKey&&At.QX(Do.target,jd[jd.length-1])&&(At.fs.stop(Do,!0),jd[0].focus())}break;case 10:Do.ctrlKey&&(At.fs.stop(Do,!0),this.getUI().list.toggleHover())}})),this.ui={container:y,styleSheet:V,leftActionBar:pe,titleBar:he,title:Oe,description1:Bo,description2:ln,widget:kl,rightActionBar:Ge,checkAll:jt,inputContainer:wn,filterContainer:ti,inputBox:ii,visibleCountContainer:Ai,visibleCount:to,countContainer:ho,count:wo,okContainer:Eo,ok:mo,message:hs,customButtonContainer:eo,customButton:Io,list:vs,progressBar:fs,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:Do=>this.show(Do),hide:()=>this.hide(),setVisibilities:Do=>this.setVisibilities(Do),setEnabled:Do=>this.setEnabled(Do),setContextKey:Do=>this.options.setContextKey(Do),linkOpenerDelegate:Do=>this.options.linkOpenerDelegate(Do)},this.updateStyles(),this.ui}reparentUI(c){this.ui&&(this._container=c,At.BC(this._container,this.ui.container))}pick(c,y={},V=Ir.XO.None){return new Promise((he,pe)=>{let Oe=ln=>{var wn;Oe=he,null===(wn=y.onKeyMods)||void 0===wn||wn.call(y,Ge.keyMods),he(ln)};if(V.isCancellationRequested)return void Oe(void 0);const Ge=this.createQuickPick();let bt;const jt=[Ge,Ge.onDidAccept(()=>{if(Ge.canSelectMany)Oe(Ge.selectedItems.slice()),Ge.hide();else{const ln=Ge.activeItems[0];ln&&(Oe(ln),Ge.hide())}}),Ge.onDidChangeActive(ln=>{const wn=ln[0];wn&&y.onDidFocus&&y.onDidFocus(wn)}),Ge.onDidChangeSelection(ln=>{if(!Ge.canSelectMany){const wn=ln[0];wn&&(Oe(wn),Ge.hide())}}),Ge.onDidTriggerItemButton(ln=>y.onDidTriggerItemButton&&y.onDidTriggerItemButton({...ln,removeItem:()=>{const wn=Ge.items.indexOf(ln.item);if(-1!==wn){const ti=Ge.items.slice(),ii=ti.splice(wn,1),Ai=Ge.activeItems.filter(ho=>ho!==ii[0]),to=Ge.keepScrollPosition;Ge.keepScrollPosition=!0,Ge.items=ti,Ai&&(Ge.activeItems=Ai),Ge.keepScrollPosition=to}}})),Ge.onDidTriggerSeparatorButton(ln=>{var wn;return null===(wn=y.onDidTriggerSeparatorButton)||void 0===wn?void 0:wn.call(y,ln)}),Ge.onDidChangeValue(ln=>{bt&&!ln&&(1!==Ge.activeItems.length||Ge.activeItems[0]!==bt)&&(Ge.activeItems=[bt])}),V.onCancellationRequested(()=>{Ge.hide()}),Ge.onDidHide(()=>{(0,Je.AS)(jt),Oe(void 0)})];Ge.title=y.title,Ge.canSelectMany=!!y.canPickMany,Ge.placeholder=y.placeHolder,Ge.ignoreFocusOut=!!y.ignoreFocusLost,Ge.matchOnDescription=!!y.matchOnDescription,Ge.matchOnDetail=!!y.matchOnDetail,Ge.matchOnLabel=void 0===y.matchOnLabel||y.matchOnLabel,Ge.quickNavigate=y.quickNavigate,Ge.hideInput=!!y.hideInput,Ge.contextKey=y.contextKey,Ge.busy=!0,Promise.all([c,y.activeItem]).then(([ln,wn])=>{bt=wn,Ge.busy=!1,Ge.items=ln,Ge.canSelectMany&&(Ge.selectedItems=ln.filter(ti=>"separator"!==ti.type&&ti.picked)),bt&&(Ge.activeItems=[bt])}),Ge.show(),Promise.resolve(c).then(void 0,ln=>{pe(ln),Ge.hide()})})}createQuickPick(){const c=this.getUI(!0);return new Ca(c)}createInputBox(){const c=this.getUI(!0);return new Ba(c)}show(c){const y=this.getUI(!0);this.onShowEmitter.fire();const V=this.controller;this.controller=c,V?.didHide(),this.setEnabled(!0),y.leftActionBar.clear(),y.title.textContent="",y.description1.textContent="",y.description2.textContent="",At.Ln(y.widget),y.rightActionBar.clear(),y.checkAll.checked=!1,y.inputBox.placeholder="",y.inputBox.password=!1,y.inputBox.showDecoration(Fi.A.Ignore),y.visibleCount.setCount(0),y.count.setCount(0),At.Ln(y.message),y.progressBar.stop(),y.list.setElements([]),y.list.matchOnDescription=!1,y.list.matchOnDetail=!1,y.list.matchOnLabel=!0,y.list.sortByLabel=!0,y.ignoreFocusOut=!1,y.inputBox.toggles=void 0;const he=this.options.backKeybindingLabel();Xs.tooltip=he?(0,vi.kg)("quickInput.backWithKeybinding","Back ({0})",he):(0,vi.kg)("quickInput.back","Back"),y.container.style.display="",this.updateLayout(),y.inputBox.setFocus(),this.quickInputTypeContext.set(c.type)}isVisible(){return!!this.ui&&"none"!==this.ui.container.style.display}setVisibilities(c){const y=this.getUI();y.title.style.display=c.title?"":"none",y.description1.style.display=c.description&&(c.inputBox||c.checkAll)?"":"none",y.description2.style.display=!c.description||c.inputBox||c.checkAll?"none":"",y.checkAll.style.display=c.checkAll?"":"none",y.inputContainer.style.display=c.inputBox?"":"none",y.filterContainer.style.display=c.inputBox?"":"none",y.visibleCountContainer.style.display=c.visibleCount?"":"none",y.countContainer.style.display=c.count?"":"none",y.okContainer.style.display=c.ok?"":"none",y.customButtonContainer.style.display=c.customButton?"":"none",y.message.style.display=c.message?"":"none",y.progressBar.getContainer().style.display=c.progressBar?"":"none",y.list.display(!!c.list),y.container.classList.toggle("show-checkboxes",!!c.checkBox),y.container.classList.toggle("hidden-input",!c.inputBox&&!c.description),this.updateLayout()}setEnabled(c){if(c!==this.enabled){this.enabled=c;for(const y of this.getUI().leftActionBar.viewItems)y.action.enabled=c;for(const y of this.getUI().rightActionBar.viewItems)y.action.enabled=c;this.getUI().checkAll.disabled=!c,this.getUI().inputBox.enabled=c,this.getUI().ok.enabled=c,this.getUI().list.enabled=c}}hide(c){var y,V;const he=this.controller;if(!he)return;he.willHide(c);const pe=null===(y=this.ui)||void 0===y?void 0:y.container,Oe=pe&&!At.nR(pe);if(this.controller=null,this.onHideEmitter.fire(),pe&&(pe.style.display="none"),!Oe){let Ge=this.previousFocusElement;for(;Ge&&!Ge.offsetParent;)Ge=null!==(V=Ge.parentElement)&&void 0!==V?V:void 0;Ge?.offsetParent?(Ge.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}he.didHide(c)}layout(c,y){this.dimension=c,this.titleBarOffset=y,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const c=this.ui.container.style,y=Math.min(.62*this.dimension.width,oo.MAX_WIDTH);c.width=y+"px",c.marginLeft="-"+y/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(c){this.styles=c,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:c,quickInputBackground:y,quickInputForeground:V,widgetBorder:he,widgetShadow:pe}=this.styles.widget;this.ui.titleBar.style.backgroundColor=c??"",this.ui.container.style.backgroundColor=y??"",this.ui.container.style.color=V??"",this.ui.container.style.border=he?`1px solid ${he}`:"",this.ui.container.style.boxShadow=pe?`0 0 8px 2px ${pe}`:"",this.ui.list.style(this.styles.list);const Oe=[];this.styles.pickerGroup.pickerGroupBorder&&Oe.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&Oe.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&Oe.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(Oe.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&Oe.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&Oe.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&Oe.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&Oe.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&Oe.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),Oe.push("}"));const Ge=Oe.join("\n");Ge!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=Ge)}}};ro.MAX_WIDTH=600,ro=oo=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([qi(1,xn),qi(2,Zt._Y),qi(3,Ii.fN)],ro);var ko=function(We,c){return function(y,V){c(y,V,We)}};let bs=class extends An.lR{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get currentQuickInput(){return this.controller.currentQuickInput}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(wl))),this._quickAccess}constructor(c,y,V,he,pe){super(V),this.instantiationService=c,this.contextKeyService=y,this.layoutService=he,this.configurationService=pe,this._onShow=this._register(new Pt.vl),this._onHide=this._register(new Pt.vl),this.contexts=new Map}createController(c=this.layoutService,y){const V={idPrefix:"quickInput_",container:c.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:pe=>this.setContextKey(pe),linkOpenerDelegate:pe=>{this.instantiationService.invokeFunction(Oe=>{Oe.get(gs.C).open(pe,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>c.focus(),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(mr))},he=this._register(this.instantiationService.createInstance(ro,{...V,...y}));return he.layout(c.activeContainerDimension,c.activeContainerOffset.quickPickTop),this._register(c.onDidLayoutActiveContainer(pe=>{(0,At.zk)(c.activeContainer)===(0,At.zk)(he.container)&&he.layout(pe,c.activeContainerOffset.quickPickTop)})),this._register(c.onDidChangeActiveContainer(()=>{he.isVisible()||he.layout(c.activeContainerDimension,c.activeContainerOffset.quickPickTop)})),this._register(he.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(he.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),he}setContextKey(c){let y;c&&(y=this.contexts.get(c),y||(y=new Ii.N1(c,!1).bindTo(this.contextKeyService),this.contexts.set(c,y))),(!y||!y.get())&&(this.resetContextKeys(),y?.set(!0))}resetContextKeys(){this.contexts.forEach(c=>{c.get()&&c.reset()})}pick(c,y={},V=Ir.XO.None){return this.controller.pick(c,y,V)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,ki.GuP)(ki.ELA),quickInputForeground:(0,ki.GuP)(ki.HJZ),quickInputTitleBackground:(0,ki.GuP)(ki.er1),widgetBorder:(0,ki.GuP)(ki.DSL),widgetShadow:(0,ki.GuP)(ki.f9l)},inputBox:uo.ho,toggle:uo.mk,countBadge:uo.m$,button:uo.cv,progressBar:uo.oJ,keybindingLabel:uo.ir,list:(0,uo.t8)({listBackground:ki.ELA,listFocusBackground:ki.AlL,listFocusForeground:ki.nH,listInactiveFocusForeground:ki.nH,listInactiveSelectionIconForeground:ki.c7i,listInactiveFocusBackground:ki.AlL,listFocusOutline:ki.buw,listInactiveFocusOutline:ki.buw}),pickerGroup:{pickerGroupBorder:(0,ki.GuP)(ki.iwL),pickerGroupForeground:(0,ki.GuP)(ki.NBf)}}}};bs=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([ko(0,Zt._Y),ko(1,Ii.fN),ko(2,An.Gy),ko(3,xn),ko(4,Qn.pG)],bs);var Ms=t(15018),jo=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe},zo=function(We,c){return function(y,V){c(y,V,We)}};let bo=class extends bs{constructor(c,y,V,he,pe,Oe){super(y,V,he,new Ni(c.getContainerDomNode(),pe),Oe),this.host=void 0;const Ge=kh.get(c);if(Ge){const bt=Ge.widget;this.host={_serviceBrand:void 0,get mainContainer(){return bt.getDomNode()},getContainer:()=>bt.getDomNode(),whenContainerStylesLoaded(){},get containers(){return[bt.getDomNode()]},get activeContainer(){return bt.getDomNode()},get mainContainerDimension(){return c.getLayoutInfo()},get activeContainerDimension(){return c.getLayoutInfo()},get onDidLayoutMainContainer(){return c.onDidLayoutChange},get onDidLayoutActiveContainer(){return c.onDidLayoutChange},get onDidLayoutContainer(){return Pt.Jh.map(c.onDidLayoutChange,jt=>({container:bt.getDomNode(),dimension:jt}))},get onDidChangeActiveContainer(){return Pt.Jh.None},get onDidAddContainer(){return Pt.Jh.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>c.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};bo=jo([zo(1,Zt._Y),zo(2,Ii.fN),zo(3,An.Gy),zo(4,en.T),zo(5,Qn.pG)],bo);let yr=class{get activeService(){const c=this.codeEditorService.getFocusedCodeEditor();if(!c)throw new Error("Quick input service needs a focused editor to work.");let y=this.mapEditorToService.get(c);if(!y){const V=y=this.instantiationService.createInstance(bo,c);this.mapEditorToService.set(c,y),(0,Ms.P)(c.onDidDispose)(()=>{V.dispose(),this.mapEditorToService.delete(c)})}return y}get currentQuickInput(){return this.activeService.currentQuickInput}get quickAccess(){return this.activeService.quickAccess}constructor(c,y){this.instantiationService=c,this.codeEditorService=y,this.mapEditorToService=new Map}pick(c,y={},V=Ir.XO.None){return this.activeService.pick(c,y,V)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};yr=jo([zo(0,Zt._Y),zo(1,en.T)],yr);let kh=(()=>{class We{static get(y){return y.getContribution(We.ID)}constructor(y){this.editor=y,this.widget=new Rp(this.editor)}dispose(){this.widget.dispose()}}return We.ID="editor.controller.quickInput",We})(),Rp=(()=>{class We{constructor(y){this.codeEditor=y,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return We.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}return We.ID="editor.contrib.quickInputWidget",We})();(0,Yt.HW)(kh.ID,kh,4);var Np=t(20762),$r=t(48687),sd=function(We,c){return function(y,V){c(y,V,We)}};let oa=class extends Je.jG{constructor(c,y,V){super(),this._contextKeyService=c,this._layoutService=y,this._configurationService=V,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Pt.vl,this._onDidChangeReducedMotion=new Pt.vl,this._accessibilityModeEnabledContext=_s.f.bindTo(this._contextKeyService);const he=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(Oe=>{Oe.affectsConfiguration("editor.accessibilitySupport")&&(he(),this._onDidChangeScreenReaderOptimized.fire()),Oe.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),he(),this._register(this.onDidChangeScreenReaderOptimized(()=>he()));const pe=ht.G.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=pe.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(pe)}initReducedMotionListeners(c){this._register((0,At.ko)(c,"change",()=>{this._systemMotionReduced=c.matches,"auto"===this._configMotionReduced&&this._onDidChangeReducedMotion.fire()}));const y=()=>{const V=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",V),this._layoutService.mainContainer.classList.toggle("enable-motion",!V)};y(),this._register(this.onDidChangeReducedMotion(()=>y()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const c=this._configurationService.getValue("editor.accessibilitySupport");return"on"===c||"auto"===c&&2===this._accessibilitySupport}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const c=this._configMotionReduced;return"on"===c||"auto"===c&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};oa=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([sd(0,Ii.fN),sd(1,xn),sd(2,Qn.pG)],oa);var Id,Fp=t(99639),Sc=function(We,c){return function(y,V){c(y,V,We)}};let Ad=Id=class extends Je.jG{constructor(c,y){super(),this.layoutService=c,this.logService=y,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(Za.nr||Za.c8)&&this.installWebKitWriteTextWorkaround(),this._register(Pt.Jh.runAndSubscribe(At.Iv,({window:V,disposables:he})=>{he.add((0,At.ko)(V.document,"copy",()=>this.clearResources()))},{window:ht.G,disposables:this._store}))}installWebKitWriteTextWorkaround(){var c=this;const y=()=>{const V=new Bs.Zv;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=V,(0,At.fz)().navigator.clipboard.write([new ClipboardItem({"text/plain":V.p})]).catch(function(){var he=(0,on.A)(function*(pe){(!(pe instanceof Error)||"NotAllowedError"!==pe.name||!V.isRejected)&&c.logService.error(pe)});return function(pe){return he.apply(this,arguments)}}())};this._register(Pt.Jh.runAndSubscribe(this.layoutService.onDidAddContainer,({container:V,disposables:he})=>{he.add((0,At.ko)(V,"click",y)),he.add((0,At.ko)(V,"keydown",y))},{container:this.layoutService.mainContainer,disposables:this._store}))}writeText(c,y){var V=this;return(0,on.A)(function*(){if(V.writeResources([]),y)V.mapTextToType.set(y,c);else{if(V.webKitPendingClipboardWritePromise)return V.webKitPendingClipboardWritePromise.complete(c);try{return yield(0,At.fz)().navigator.clipboard.writeText(c)}catch(he){console.error(he)}V.fallbackWriteText(c)}})()}fallbackWriteText(c){const y=(0,At.a)(),V=y.activeElement,he=y.body.appendChild((0,At.$)("textarea",{"aria-hidden":!0}));he.style.height="1px",he.style.width="1px",he.style.position="absolute",he.value=c,he.focus(),he.select(),y.execCommand("copy"),(0,At.sb)(V)&&V.focus(),y.body.removeChild(he)}readText(c){var y=this;return(0,on.A)(function*(){if(c)return y.mapTextToType.get(c)||"";try{return yield(0,At.fz)().navigator.clipboard.readText()}catch(V){console.error(V)}return""})()}readFindText(){var c=this;return(0,on.A)(function*(){return c.findText})()}writeFindText(c){var y=this;return(0,on.A)(function*(){y.findText=c})()}writeResources(c){var y=this;return(0,on.A)(function*(){0===c.length?y.clearResources():(y.resources=c,y.resourcesStateHash=yield y.computeResourcesStateHash())})()}readResources(){var c=this;return(0,on.A)(function*(){const y=yield c.computeResourcesStateHash();return c.resourcesStateHash!==y&&c.clearResources(),c.resources})()}computeResourcesStateHash(){var c=this;return(0,on.A)(function*(){if(0===c.resources.length)return;const y=yield c.readText();return(0,Fa.tW)(y.substring(0,Id.MAX_RESOURCE_STATE_SOURCE_LENGTH))})()}clearResources(){this.resources=[],this.resourcesStateHash=void 0}};Ad.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3,Ad=Id=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([Sc(0,xn),Sc(1,_n.rr)],Ad);var Ph=t(66229),rd=t(28481),Bp=t(98360);const Ec="data-keybinding-context";class wc{constructor(c,y){this._id=c,this._parent=y,this._value=Object.create(null),this._value._contextId=c}get value(){return{...this._value}}setValue(c,y){return this._value[c]!==y&&(this._value[c]=y,!0)}removeValue(c){return c in this._value&&(delete this._value[c],!0)}getValue(c){const y=this._value[c];return typeof y>"u"&&this._parent?this._parent.getValue(c):y}}class kd extends wc{constructor(){super(-1,null)}setValue(c,y){return!1}removeValue(c){return!1}getValue(c){}}kd.INSTANCE=new kd;let Wp=(()=>{class We extends wc{constructor(y,V,he){super(y,null),this._configurationService=V,this._values=Bp.cB.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(pe=>{if(7===pe.source){const Oe=Array.from(this._values,([Ge])=>Ge);this._values.clear(),he.fire(new Up(Oe))}else{const Oe=[];for(const Ge of pe.affectedKeys){const bt=`config.${Ge}`,jt=this._values.findSuperstr(bt);void 0!==jt&&(Oe.push(...rd.f.map(jt,([ln])=>ln)),this._values.deleteSuperstr(bt)),this._values.has(bt)&&(Oe.push(bt),this._values.delete(bt))}he.fire(new Up(Oe))}})}dispose(){this._listener.dispose()}getValue(y){if(0!==y.indexOf(We._keyPrefix))return super.getValue(y);if(this._values.has(y))return this._values.get(y);const V=y.substr(We._keyPrefix.length),he=this._configurationService.getValue(V);let pe;switch(typeof he){case"number":case"boolean":case"string":pe=he;break;default:pe=Array.isArray(he)?JSON.stringify(he):he}return this._values.set(y,pe),pe}setValue(y,V){return super.setValue(y,V)}removeValue(y){return super.removeValue(y)}}return We._keyPrefix="config.",We})();class Vp{constructor(c,y,V){this._service=c,this._key=y,this._defaultValue=V,this.reset()}set(c){this._service.setContext(this._key,c)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Hp{constructor(c){this.key=c}affectsSome(c){return c.has(this.key)}allKeysContainedIn(c){return this.affectsSome(c)}}class Up{constructor(c){this.keys=c}affectsSome(c){for(const y of this.keys)if(c.has(y))return!0;return!1}allKeysContainedIn(c){return this.keys.every(y=>c.has(y))}}class Oh{constructor(c){this.events=c}affectsSome(c){for(const y of this.events)if(y.affectsSome(c))return!0;return!1}allKeysContainedIn(c){return this.events.every(y=>y.allKeysContainedIn(c))}}class gg extends Je.jG{constructor(c){super(),this._onDidChangeContext=this._register(new Pt.fV({merge:y=>new Oh(y)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=c}createKey(c,y){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Vp(this,c,y)}bufferChangeEvents(c){this._onDidChangeContext.pause();try{c()}finally{this._onDidChangeContext.resume()}}createScoped(c){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Rh(this,c)}contextMatchesRules(c){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const y=this.getContextValuesContainer(this._myContextId);return!c||c.evaluate(y)}getContextKeyValue(c){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(c)}setContext(c,y){if(this._isDisposed)return;const V=this.getContextValuesContainer(this._myContextId);V&&V.setValue(c,y)&&this._onDidChangeContext.fire(new Hp(c))}removeContext(c){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(c)&&this._onDidChangeContext.fire(new Hp(c))}getContext(c){return this._isDisposed?kd.INSTANCE:this.getContextValuesContainer(function pu(We){for(;We;){if(We.hasAttribute(Ec)){const c=We.getAttribute(Ec);return c?parseInt(c,10):NaN}We=We.parentElement}return 0}(c))}dispose(){super.dispose(),this._isDisposed=!0}}let ad=class extends gg{constructor(c){super(0),this._contexts=new Map,this._lastContextId=0;const y=this._register(new Wp(this._myContextId,c,this._onDidChangeContext));this._contexts.set(this._myContextId,y)}getContextValuesContainer(c){return this._isDisposed?kd.INSTANCE:this._contexts.get(c)||kd.INSTANCE}createChildContext(c=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const y=++this._lastContextId;return this._contexts.set(y,new wc(y,this.getContextValuesContainer(c))),y}disposeContext(c){this._isDisposed||this._contexts.delete(c)}};ad=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([function(We,c){return function(y,V){c(y,V,0)}}(0,Qn.pG)],ad);class Rh extends gg{constructor(c,y){if(super(c.createChildContext()),this._parentChangeListener=this._register(new Je.HE),this._parent=c,this._updateParentChangeListener(),this._domNode=y,this._domNode.hasAttribute(Ec)){let V="";this._domNode.classList&&(V=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(V?": "+V:""))}this._domNode.setAttribute(Ec,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(c=>{(function Lc(We,c){return We.allKeysContainedIn(new Set(Object.keys(c)))})(c,this._parent.getContextValuesContainer(this._myContextId).value)||this._onDidChangeContext.fire(c)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(Ec),super.dispose())}getContextValuesContainer(c){return this._isDisposed?kd.INSTANCE:this._parent.getContextValuesContainer(c)}createChildContext(c=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(c)}disposeContext(c){this._isDisposed||this._parent.disposeContext(c)}}hr.w.registerCommand("_setContext",function OC(We,c,y){We.get(Ii.fN).createKey(String(c),function mg(We){return(0,an.PI)(We,c=>"object"==typeof c&&1===c.$mid?De.r.revive(c).toString():c instanceof De.r?c.toString():void 0)}(y))}),hr.w.registerCommand({id:"getContextKeyInfo",handler:()=>[...Ii.N1.all()].sort((We,c)=>We.key.localeCompare(c.key)),metadata:{description:(0,vi.kg)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),hr.w.registerCommand("_generateContextKeyInfo",function(){const We=[],c=new Set;for(const y of Ii.N1.all())c.has(y.key)||(c.add(y.key),We.push(y));We.sort((y,V)=>y.key.localeCompare(V.key)),console.log(JSON.stringify(We,void 0,2))});var sl=t(54865);class jp{constructor(c,y){this.key=c,this.data=y,this.incoming=new Map,this.outgoing=new Map}}class ya{constructor(c){this._hashFn=c,this._nodes=new Map}roots(){const c=[];for(const y of this._nodes.values())0===y.outgoing.size&&c.push(y);return c}insertEdge(c,y){const V=this.lookupOrInsertNode(c),he=this.lookupOrInsertNode(y);V.outgoing.set(he.key,he),he.incoming.set(V.key,V)}removeNode(c){const y=this._hashFn(c);this._nodes.delete(y);for(const V of this._nodes.values())V.outgoing.delete(y),V.incoming.delete(y)}lookupOrInsertNode(c){const y=this._hashFn(c);let V=this._nodes.get(y);return V||(V=new jp(y,c),this._nodes.set(y,V)),V}isEmpty(){return 0===this._nodes.size}toString(){const c=[];for(const[y,V]of this._nodes)c.push(`${y}\n\t(-> incoming)[${[...V.incoming.keys()].join(", ")}]\n\t(outgoing ->)[${[...V.outgoing.keys()].join(",")}]\n`);return c.join("\n")}findCycleSlow(){for(const[c,y]of this._nodes){const he=this._findCycle(y,new Set([c]));if(he)return he}}_findCycle(c,y){for(const[V,he]of c.outgoing){if(y.has(V))return[...y,V].join(" -> ");y.add(V);const pe=this._findCycle(he,y);if(pe)return pe;y.delete(V)}}}var Nh=t(41424);class vu extends Error{constructor(c){var y;super("cyclic dependency between services"),this.message=null!==(y=c.findCycleSlow())&&void 0!==y?y:`UNABLE to detect cycle, dumping graph: \n${c.toString()}`}}class xc{constructor(c=new Nh.a,y=!1,V,he=!1){var pe;this._services=c,this._strict=y,this._parent=V,this._enableTracing=he,this._isDisposed=!1,this._servicesToMaybeDispose=new Set,this._children=new Set,this._activeInstantiations=new Set,this._services.set(Zt._Y,this),this._globalGraph=he?null!==(pe=V?._globalGraph)&&void 0!==pe?pe:new ya(Oe=>Oe):void 0}dispose(){if(!this._isDisposed){this._isDisposed=!0,(0,Je.AS)(this._children),this._children.clear();for(const c of this._servicesToMaybeDispose)(0,Je.Xm)(c)&&c.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(c,y){this._throwIfDisposed();const V=this,he=new class extends xc{dispose(){V._children.delete(he),super.dispose()}}(c,this._strict,this,this._enableTracing);return this._children.add(he),y?.add(he),he}invokeFunction(c,...y){this._throwIfDisposed();const V=Js.traceInvocation(this._enableTracing,c);let he=!1;try{return c({get:Oe=>{if(he)throw(0,Li.iH)("service accessor is only valid during the invocation of its target method");const Ge=this._getOrCreateServiceInstance(Oe,V);if(!Ge)throw new Error(`[invokeFunction] unknown service '${Oe}'`);return Ge}},...y)}finally{he=!0,V.stop()}}createInstance(c,...y){let V,he;return this._throwIfDisposed(),c instanceof sl.d?(V=Js.traceCreation(this._enableTracing,c.ctor),he=this._createInstance(c.ctor,c.staticArguments.concat(y),V)):(V=Js.traceCreation(this._enableTracing,c),he=this._createInstance(c,y,V)),V.stop(),he}_createInstance(c,y=[],V){const he=Zt._$.getServiceDependencies(c).sort((Ge,bt)=>Ge.index-bt.index),pe=[];for(const Ge of he){const bt=this._getOrCreateServiceInstance(Ge.id,V);bt||this._throwIfStrict(`[createInstance] ${c.name} depends on UNKNOWN service ${Ge.id}.`,!1),pe.push(bt)}const Oe=he.length>0?he[0].index:y.length;if(y.length!==Oe){console.trace(`[createInstance] First service dependency of ${c.name} at position ${Oe+1} conflicts with ${y.length} static arguments`);const Ge=Oe-y.length;y=Ge>0?y.concat(new Array(Ge)):y.slice(0,Oe)}return Reflect.construct(c,y.concat(pe))}_setCreatedServiceInstance(c,y){if(this._services.get(c)instanceof sl.d)this._services.set(c,y);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setCreatedServiceInstance(c,y)}}_getServiceInstanceOrDescriptor(c){const y=this._services.get(c);return!y&&this._parent?this._parent._getServiceInstanceOrDescriptor(c):y}_getOrCreateServiceInstance(c,y){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(c));const V=this._getServiceInstanceOrDescriptor(c);return V instanceof sl.d?this._safeCreateAndCacheServiceInstance(c,V,y.branch(c,!0)):(y.branch(c,!1),V)}_safeCreateAndCacheServiceInstance(c,y,V){if(this._activeInstantiations.has(c))throw new Error(`illegal state - RECURSIVELY instantiating service '${c}'`);this._activeInstantiations.add(c);try{return this._createAndCacheServiceInstance(c,y,V)}finally{this._activeInstantiations.delete(c)}}_createAndCacheServiceInstance(c,y,V){var he;const pe=new ya(bt=>bt.id.toString());let Oe=0;const Ge=[{id:c,desc:y,_trace:V}];for(;Ge.length;){const bt=Ge.pop();if(pe.lookupOrInsertNode(bt),Oe++>1e3)throw new vu(pe);for(const jt of Zt._$.getServiceDependencies(bt.desc.ctor)){const ln=this._getServiceInstanceOrDescriptor(jt.id);if(ln||this._throwIfStrict(`[createInstance] ${c} depends on ${jt.id} which is NOT registered.`,!0),null===(he=this._globalGraph)||void 0===he||he.insertEdge(String(bt.id),String(jt.id)),ln instanceof sl.d){const wn={id:jt.id,desc:ln,_trace:bt._trace.branch(jt.id,!0)};pe.insertEdge(bt,wn),Ge.push(wn)}}}for(;;){const bt=pe.roots();if(0===bt.length){if(!pe.isEmpty())throw new vu(pe);break}for(const{data:jt}of bt){if(this._getServiceInstanceOrDescriptor(jt.id)instanceof sl.d){const wn=this._createServiceInstanceWithOwner(jt.id,jt.desc.ctor,jt.desc.staticArguments,jt.desc.supportsDelayedInstantiation,jt._trace);this._setCreatedServiceInstance(jt.id,wn)}pe.removeNode(jt)}}return this._getServiceInstanceOrDescriptor(c)}_createServiceInstanceWithOwner(c,y,V=[],he,pe){if(this._services.get(c)instanceof sl.d)return this._createServiceInstance(c,y,V,he,pe,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(c,y,V,he,pe);throw new Error(`illegalState - creating UNKNOWN service instance ${y.name}`)}_createServiceInstance(c,y,V=[],he,pe,Oe){if(he){const Ge=new xc(void 0,this._strict,this,this._enableTracing);Ge._globalGraphImplicitDependency=String(c);const bt=new Map,jt=new Bs.F6(()=>{const ln=Ge._createInstance(y,V,pe);for(const[wn,ti]of bt){const ii=ln[wn];if("function"==typeof ii)for(const Ai of ti)Ai.disposable=ii.apply(ln,Ai.listener)}return bt.clear(),Oe.add(ln),ln});return new Proxy(Object.create(null),{get(ln,wn){if(!jt.isInitialized&&"string"==typeof wn&&(wn.startsWith("onDid")||wn.startsWith("onWill"))){let Ai=bt.get(wn);return Ai||(Ai=new hn.w,bt.set(wn,Ai)),(ho,wo,Eo)=>{if(jt.isInitialized)return jt.value[wn](ho,wo,Eo);{const mo={listener:[ho,wo,Eo],disposable:void 0},eo=Ai.push(mo);return(0,Je.s)(()=>{var hs;eo(),null===(hs=mo.disposable)||void 0===hs||hs.dispose()})}}}if(wn in ln)return ln[wn];const ti=jt.value;let ii=ti[wn];return"function"!=typeof ii||(ii=ii.bind(ti),ln[wn]=ii),ii},set:(ln,wn,ti)=>(jt.value[wn]=ti,!0),getPrototypeOf:ln=>y.prototype})}{const Ge=this._createInstance(y,V,pe);return Oe.add(Ge),Ge}}_throwIfStrict(c,y){if(y&&console.warn(c),this._strict)throw new Error(c)}}class Js{static traceInvocation(c,y){return c?new Js(2,y.name||(new Error).stack.split("\n").slice(3,4).join("\n")):Js._None}static traceCreation(c,y){return c?new Js(1,y.name):Js._None}constructor(c,y){this.type=c,this.name=y,this._start=Date.now(),this._dep=[]}branch(c,y){const V=new Js(3,c.toString());return this._dep.push([c,y,V]),V}stop(){const c=Date.now()-this._start;Js._totals+=c;let y=!1;const he=[`${1===this.type?"CREATE":"CALL"} ${this.name}`,`${function V(pe,Oe){const Ge=[],bt=new Array(pe+1).join("\t");for(const[jt,ln,wn]of Oe._dep)if(ln&&wn){y=!0,Ge.push(`${bt}CREATES -> ${jt}`);const ti=V(pe+1,wn);ti&&Ge.push(ti)}else Ge.push(`${bt}uses -> ${jt}`);return Ge.join("\n")}(1,this)}`,`DONE, took ${c.toFixed(2)}ms (grand total ${Js._totals.toFixed(2)}ms)`];(c>2||y)&&Js.all.add(he.join("\n"))}}Js.all=new Set,Js._None=new class extends Js{constructor(){super(0,null)}stop(){}branch(){return this}},Js._totals=0;const Fh=new Set([Rt.ny.inMemory,Rt.ny.vscodeSourceControl,Rt.ny.walkThrough,Rt.ny.walkThroughSnippet,Rt.ny.vscodeChatCodeBlock,Rt.ny.vscodeCopilotBackingChatCodeBlock]);class zp{constructor(){this._byResource=new Cr.fT,this._byOwner=new Map}set(c,y,V){let he=this._byResource.get(c);he||(he=new Map,this._byResource.set(c,he)),he.set(y,V);let pe=this._byOwner.get(y);pe||(pe=new Cr.fT,this._byOwner.set(y,pe)),pe.set(c,V)}get(c,y){const V=this._byResource.get(c);return V?.get(y)}delete(c,y){let V=!1,he=!1;const pe=this._byResource.get(c);pe&&(V=pe.delete(y));const Oe=this._byOwner.get(y);if(Oe&&(he=Oe.delete(c)),V!==he)throw new Error("illegal state");return V&&he}values(c){var y,V,he,pe;return"string"==typeof c?null!==(V=null===(y=this._byOwner.get(c))||void 0===y?void 0:y.values())&&void 0!==V?V:rd.f.empty():De.r.isUri(c)?null!==(pe=null===(he=this._byResource.get(c))||void 0===he?void 0:he.values())&&void 0!==pe?pe:rd.f.empty():rd.f.map(rd.f.concat(...this._byOwner.values()),Oe=>Oe[1])}}class pg{constructor(c){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Cr.fT,this._service=c,this._subscription=c.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(c){for(const y of c){const V=this._data.get(y);V&&this._substract(V);const he=this._resourceStats(y);this._add(he),this._data.set(y,he)}}_resourceStats(c){const y={errors:0,warnings:0,infos:0,unknowns:0};if(Fh.has(c.scheme))return y;for(const{severity:V}of this._service.read({resource:c}))V===Ks.cj.Error?y.errors+=1:V===Ks.cj.Warning?y.warnings+=1:V===Ks.cj.Info?y.infos+=1:y.unknowns+=1;return y}_substract(c){this.errors-=c.errors,this.warnings-=c.warnings,this.infos-=c.infos,this.unknowns-=c.unknowns}_add(c){this.errors+=c.errors,this.warnings+=c.warnings,this.infos+=c.infos,this.unknowns+=c.unknowns}}class rl{constructor(){this._onMarkerChanged=new Pt.uI({delay:0,merge:rl._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new zp,this._stats=new pg(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(c,y){for(const V of y||[])this.changeOne(c,V,[])}changeOne(c,y,V){if((0,pn.Ct)(V))this._data.delete(y,c)&&this._onMarkerChanged.fire([y]);else{const he=[];for(const pe of V){const Oe=rl._toMarker(c,y,pe);Oe&&he.push(Oe)}this._data.set(y,c,he),this._onMarkerChanged.fire([y])}}static _toMarker(c,y,V){let{code:he,severity:pe,message:Oe,source:Ge,startLineNumber:bt,startColumn:jt,endLineNumber:ln,endColumn:wn,relatedInformation:ti,tags:ii}=V;if(Oe)return bt=bt>0?bt:1,jt=jt>0?jt:1,ln=ln>=bt?ln:bt,wn=wn>0?wn:jt,{resource:y,owner:c,code:he,severity:pe,message:Oe,source:Ge,startLineNumber:bt,startColumn:jt,endLineNumber:ln,endColumn:wn,relatedInformation:ti,tags:ii}}changeAll(c,y){const V=[],he=this._data.values(c);if(he)for(const pe of he){const Oe=rd.f.first(pe);Oe&&(V.push(Oe.resource),this._data.delete(Oe.resource,c))}if((0,pn.EI)(y)){const pe=new Cr.fT;for(const{resource:Oe,marker:Ge}of y){const bt=rl._toMarker(c,Oe,Ge);if(!bt)continue;const jt=pe.get(Oe);jt?jt.push(bt):(pe.set(Oe,[bt]),V.push(Oe))}for(const[Oe,Ge]of pe)this._data.set(Oe,c,Ge)}V.length>0&&this._onMarkerChanged.fire(V)}read(c=Object.create(null)){let{owner:y,resource:V,severities:he,take:pe}=c;if((!pe||pe<0)&&(pe=-1),y&&V){const Oe=this._data.get(V,y);if(Oe){const Ge=[];for(const bt of Oe)if(rl._accept(bt,he)){const jt=Ge.push(bt);if(pe>0&&jt===pe)break}return Ge}return[]}if(y||V){const Oe=this._data.values(V??y),Ge=[];for(const bt of Oe)for(const jt of bt)if(rl._accept(jt,he)){const ln=Ge.push(jt);if(pe>0&&ln===pe)return Ge}return Ge}{const Oe=[];for(const Ge of this._data.values())for(const bt of Ge)if(rl._accept(bt,he)){const jt=Oe.push(bt);if(pe>0&&jt===pe)return Oe}return Oe}}static _accept(c,y){return void 0===y||(y&c.severity)===c.severity}static _merge(c){const y=new Cr.fT;for(const V of c)for(const he of V)y.set(he,!0);return Array.from(y.keys())}}var Bh=t(16815);class _g extends Je.jG{get configurationModel(){return this._configurationModel}constructor(c){super(),this.logService=c,this._configurationModel=Ao.createEmptyModel(this.logService)}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=Ao.createEmptyModel(this.logService);const c=so.O.as(br.Fd.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(c),c)}updateConfigurationModel(c,y){const V=this.getConfigurationDefaultOverrides();for(const he of c){const pe=V[he],Oe=y[he];void 0!==pe?this._configurationModel.addValue(he,pe):Oe?this._configurationModel.addValue(he,Oe.default):this._configurationModel.removeValue(he)}}}var vg=t(13144);class Cu extends Je.jG{constructor(c,y=[]){super(),this.logger=new _n.Dk([c,...y]),this._register(c.onDidChangeLogLevel(V=>this.setLevel(V)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(c){this.logger.setLevel(c)}getLevel(){return this.logger.getLevel()}trace(c,...y){this.logger.trace(c,...y)}debug(c,...y){this.logger.debug(c,...y)}info(c,...y){this.logger.info(c,...y)}warn(c,...y){this.logger.warn(c,...y)}error(c,...y){this.logger.error(c,...y)}}var ld=t(1153),Kp=t(57558),Wa=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe},Os=function(We,c){return function(y,V){c(y,V,We)}};class Pd{constructor(c){this.disposed=!1,this.model=c,this._onWillDispose=new Pt.vl}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Ml=class{constructor(c){this.modelService=c}createModelReference(c){const y=this.modelService.getModel(c);return y?Promise.resolve(new Je.BO(new Pd(y))):Promise.reject(new Error("Model not found"))}};Ml=Wa([Os(0,Wi.S)],Ml);let qs=(()=>{class We{show(){return We.NULL_PROGRESS_RUNNER}showWhile(y,V){return(0,on.A)(function*(){yield y})()}}return We.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}},We})();class Mc{info(c){return this.notify({severity:Fi.A.Info,message:c})}warn(c){return this.notify({severity:Fi.A.Warning,message:c})}error(c){return this.notify({severity:Fi.A.Error,message:c})}notify(c){switch(c.severity){case Fi.A.Error:console.error(c.message);break;case Fi.A.Warning:console.warn(c.message);break;default:console.log(c.message)}return Mc.NO_OP}prompt(c,y,V,he){return Mc.NO_OP}status(c,y){return Je.jG.None}}Mc.NO_OP=new Ui.Kz;let bu=class{constructor(c){this._onWillExecuteCommand=new Pt.vl,this._onDidExecuteCommand=new Pt.vl,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=c}executeCommand(c,...y){const V=hr.w.getCommand(c);if(!V)return Promise.reject(new Error(`command '${c}' not found`));try{this._onWillExecuteCommand.fire({commandId:c,args:y});const he=this._instantiationService.invokeFunction.apply(this._instantiationService,[V.handler,...y]);return this._onDidExecuteCommand.fire({commandId:c,args:y}),Promise.resolve(he)}catch(he){return Promise.reject(he)}}};bu=Wa([Os(0,Zt._Y)],bu);let al=class extends pl{constructor(c,y,V,he,pe,Oe){super(c,y,V,he,pe),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Ge=ii=>{const Ai=new Je.Cm;Ai.add(At.ko(ii,At.Bx.KEY_DOWN,to=>{const ho=new ns.Z(to);this._dispatch(ho,ho.target)&&(ho.preventDefault(),ho.stopPropagation())})),Ai.add(At.ko(ii,At.Bx.KEY_UP,to=>{const ho=new ns.Z(to);this._singleModifierDispatch(ho,ho.target)&&ho.preventDefault()})),this._domNodeListeners.push(new Gp(ii,Ai))},bt=ii=>{for(let Ai=0;Ai<this._domNodeListeners.length;Ai++){const to=this._domNodeListeners[Ai];to.domNode===ii&&(this._domNodeListeners.splice(Ai,1),to.dispose())}},jt=ii=>{ii.getOption(61)||Ge(ii.getContainerDomNode())};this._register(Oe.onCodeEditorAdd(jt)),this._register(Oe.onCodeEditorRemove(ii=>{ii.getOption(61)||bt(ii.getContainerDomNode())})),Oe.listCodeEditors().forEach(jt);const wn=ii=>{Ge(ii.getContainerDomNode())};this._register(Oe.onDiffEditorAdd(wn)),this._register(Oe.onDiffEditorRemove(ii=>{bt(ii.getContainerDomNode())})),Oe.listDiffEditors().forEach(wn)}addDynamicKeybinding(c,y,V,he){return(0,Je.qE)(hr.w.registerCommand(c,V),this.addDynamicKeybindings([{keybinding:y,command:c,when:he}]))}addDynamicKeybindings(c){const y=c.map(V=>{var he;return{keybinding:(0,zs.Zv)(V.keybinding,co.OS),command:null!==(he=V.command)&&void 0!==he?he:null,commandArgs:V.commandArgs,when:V.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(y),this.updateResolver(),(0,Je.s)(()=>{for(let V=0;V<this._dynamicKeybindings.length;V++)if(this._dynamicKeybindings[V]===y[0])return this._dynamicKeybindings.splice(V,y.length),void this.updateResolver()})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const c=this._toNormalizedKeybindingItems(yd.f.getDefaultKeybindings(),!0),y=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Ns(c,y,V=>this._log(V))}return this._cachedResolver}_documentHasFocus(){return ht.G.document.hasFocus()}_toNormalizedKeybindingItems(c,y){const V=[];let he=0;for(const pe of c){const Oe=pe.when||void 0,Ge=pe.keybinding;if(Ge){const bt=Qa.resolveKeybinding(Ge,co.OS);for(const jt of bt)V[he++]=new nc(jt,pe.command,pe.commandArgs,Oe,y,null,!1)}else V[he++]=new nc(void 0,pe.command,pe.commandArgs,Oe,y,null,!1)}return V}resolveKeyboardEvent(c){const y=new zs.dG(c.ctrlKey,c.shiftKey,c.altKey,c.metaKey,c.keyCode);return new Qa([y],co.OS)}};al=Wa([Os(0,Ii.fN),Os(1,hr.d),Os(2,ta.k),Os(3,Ui.Ot),Os(4,_n.rr),Os(5,en.T)],al);class Gp extends Je.jG{constructor(c,y){super(),this.domNode=c,this._register(y)}}function Vh(We){return We&&"object"==typeof We&&(!We.overrideIdentifier||"string"==typeof We.overrideIdentifier)&&(!We.resource||We.resource instanceof De.r)}let Od=class{constructor(c){this.logService=c,this._onDidChangeConfiguration=new Pt.vl,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const y=new _g(c);this._configuration=new ao(y.reload(),Ao.createEmptyModel(c),Ao.createEmptyModel(c),Ao.createEmptyModel(c),Ao.createEmptyModel(c),Ao.createEmptyModel(c),new Cr.fT,Ao.createEmptyModel(c),new Cr.fT,c),y.dispose()}getValue(c,y){const V="string"==typeof c?c:void 0,he=Vh(c)?c:Vh(y)?y:{};return this._configuration.getValue(V,he,void 0)}updateValues(c){const y={data:this._configuration.toData()},V=[];for(const he of c){const[pe,Oe]=he;this.getValue(pe)!==Oe&&(this._configuration.updateValue(pe,Oe),V.push(pe))}if(V.length>0){const he=new cs({keys:V,overrides:[]},y,this._configuration,void 0,this.logService);he.source=8,this._onDidChangeConfiguration.fire(he)}return Promise.resolve()}updateValue(c,y,V,he){return this.updateValues([[c,y]])}inspect(c,y={}){return this._configuration.inspect(c,y,void 0)}};Od=Wa([Os(0,_n.rr)],Od);let Rd=class{constructor(c,y,V){this.configurationService=c,this.modelService=y,this.languageService=V,this._onDidChangeConfiguration=new Pt.vl,this.configurationService.onDidChangeConfiguration(he=>{this._onDidChangeConfiguration.fire({affectedKeys:he.affectedKeys,affectsConfiguration:(pe,Oe)=>he.affectsConfiguration(Oe)})})}getValue(c,y,V){const he=bd.y.isIPosition(y)?y:null,pe=he?"string"==typeof V?V:void 0:"string"==typeof y?y:void 0,Oe=c?this.getLanguage(c,he):void 0;return typeof pe>"u"?this.configurationService.getValue({resource:c,overrideIdentifier:Oe}):this.configurationService.getValue(pe,{resource:c,overrideIdentifier:Oe})}getLanguage(c,y){const V=this.modelService.getModel(c);return V?y?V.getLanguageIdAtPosition(y.lineNumber,y.column):V.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(c)}};Rd=Wa([Os(0,Qn.pG),Os(1,Wi.S),Os(2,ei.L)],Rd);let yu=class{constructor(c){this.configurationService=c}getEOL(c,y){const V=this.configurationService.getValue("files.eol",{overrideIdentifier:y,resource:c});return V&&"string"==typeof V&&"auto"!==V?V:co.j9||co.zx?"\n":"\r\n"}};yu=Wa([Os(0,Qn.pG)],yu);let Yp=(()=>{class We{constructor(){const y=De.r.from({scheme:We.SCHEME,authority:"model",path:"/"});this.workspace={id:ic.cn,folders:[new ic.mX({uri:y,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(y){return y&&y.scheme===We.SCHEME?this.workspace.folders[0]:null}}return We.SCHEME="inmemory",We})();function Su(We,c,y){if(!(c&&We instanceof Od))return;const V=[];Object.keys(c).forEach(he=>{(0,Kl.vf)(he)&&V.push([`editor.${he}`,c[he]]),y&&(0,Kl.Gn)(he)&&V.push([`diffEditor.${he}`,c[he]])}),V.length>0&&We.updateValues(V)}let Du=class{constructor(c){this._modelService=c}hasPreviewHandler(){return!1}apply(c,y){var V=this;return(0,on.A)(function*(){const he=Array.isArray(c)?c:zl.jN.convert(c),pe=new Map;for(const bt of he){if(!(bt instanceof zl.cw))throw new Error("bad edit - only text edits are supported");const jt=V._modelService.getModel(bt.resource);if(!jt)throw new Error("bad edit - model not found");if("number"==typeof bt.versionId&&jt.getVersionId()!==bt.versionId)throw new Error("bad state - model changed in the meantime");let ln=pe.get(jt);ln||(ln=[],pe.set(jt,ln)),ln.push(ec.k.replaceMove(Ar.Q.lift(bt.textEdit.range),bt.textEdit.text))}let Oe=0,Ge=0;for(const[bt,jt]of pe)bt.pushStackElement(),bt.pushEditOperations([],jt,()=>[]),bt.pushStackElement(),Ge+=1,Oe+=jt.length;return{ariaSummary:ot.GP(Aa.tu.bulkEditServiceSummary,Oe,Ge),isApplied:Oe>0}})()}};Du=Wa([Os(0,Wi.S)],Du);let Eu=class extends gl{constructor(c,y){super(c),this._codeEditorService=y}showContextView(c,y,V){if(!y){const he=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();he&&(y=he.getContainerDomNode())}return super.showContextView(c,y,V)}};Eu=Wa([Os(0,xn),Os(1,en.T)],Eu);let wu=class extends Zo{constructor(c,y,V,he,pe,Oe){super(c,y,V,he,pe,Oe),this.configure({blockMouse:!1})}};var Ki;wu=Wa([Os(0,ta.k),Os(1,Ui.Ot),Os(2,io.l),Os(3,vo.b),Os(4,Or.ez),Os(5,Ii.fN)],wu),(0,yn.v)(_n.rr,class RC extends Cu{constructor(){super(new _n.Cr)}},0),(0,yn.v)(Qn.pG,Od,0),(0,yn.v)($l.U,Rd,0),(0,yn.v)($l.J,yu,0),(0,yn.v)(ic.VR,Yp,0),(0,yn.v)(bh.L,class Zp{getUriLabel(c,y){return"file"===c.scheme?c.fsPath:c.path}getUriBasenameLabel(c){return(0,Sd.P8)(c)}},0),(0,yn.v)(ta.k,class Qp{publicLog2(){}},0),(0,yn.v)(Gi.X,class Wh{confirm(c){var y=this;return(0,on.A)(function*(){return{confirmed:y.doConfirm(c.message,c.detail),checkboxChecked:!1}})()}doConfirm(c,y){let V=c;return y&&(V=V+"\n\n"+y),ht.G.confirm(V)}prompt(c){var y=this;return(0,on.A)(function*(){var V,he;let pe;if(y.doConfirm(c.message,c.detail)){const Ge=[...null!==(V=c.buttons)&&void 0!==V?V:[]];c.cancelButton&&"string"!=typeof c.cancelButton&&"boolean"!=typeof c.cancelButton&&Ge.push(c.cancelButton),pe=yield null===(he=Ge[0])||void 0===he?void 0:he.run({checkboxChecked:!1})}return{result:pe}})()}error(c,y){var V=this;return(0,on.A)(function*(){yield V.prompt({type:Fi.A.Error,message:c,detail:y})})()}},0),(0,yn.v)(Kp.k,class Sr{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}},0),(0,yn.v)(Ui.Ot,Mc,0),(0,yn.v)(Ks.DR,rl,0),(0,yn.v)(ei.L,class Jp extends vl{constructor(){super()}},0),(0,yn.v)($r.L,Np.Sx,0),(0,yn.v)(Wi.S,El,0),(0,yn.v)(sr.A,Cs,0),(0,yn.v)(Ii.fN,ad,0),(0,yn.v)(Ia.G5,class $p{withProgress(c,y,V){return y({report:()=>{}})}},0),(0,yn.v)(Ia.N8,qs,0),(0,yn.v)(Bh.CS,Bh.pc,0),(0,yn.v)(yo.w,lt.Bc,0),(0,yn.v)(zl.nu,Du,0),(0,yn.v)(oc.L,class Xp{constructor(){this._neverEmitter=new Pt.vl,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}},0),(0,yn.v)(xa.b,Ml,0),(0,yn.v)(_s.j,oa,0),(0,yn.v)(bc.PE,bc.aG,0),(0,yn.v)(hr.d,bu,0),(0,yn.v)(vo.b,al,0),(0,yn.v)(Co.GK,yr,0),(0,yn.v)(io.l,Eu,0),(0,yn.v)(gs.C,pa,0),(0,yn.v)(Ph.h,Ad,0),(0,yn.v)(io.Z,wu,0),(0,yn.v)(Or.ez,Fp.$,0),(0,yn.v)(vg.Nt,class Cg{playSignal(c,y){return(0,on.A)(function*(){})()}},0),function(We){const c=new Nh.a;for(const[bt,jt]of(0,yn.N)())c.set(bt,jt);const y=new xc(c,!0);c.set(Zt._Y,y),We.get=function V(bt){he||Oe({});const jt=c.get(bt);if(!jt)throw new Error("Missing service "+bt);return jt instanceof sl.d?y.invokeFunction(ln=>ln.get(bt)):jt};let he=!1;const pe=new Pt.vl;function Oe(bt){if(he)return y;he=!0;for(const[ln,wn]of(0,yn.N)())c.get(ln)||c.set(ln,wn);for(const ln in bt)if(bt.hasOwnProperty(ln)){const wn=(0,Zt.u1)(ln);c.get(wn)instanceof sl.d&&c.set(wn,bt[ln])}const jt=(0,ld.T)();for(const ln of jt)try{y.createInstance(ln)}catch(wn){(0,Li.dz)(wn)}return pe.fire(),y}We.initialize=Oe,We.withServices=function Ge(bt){if(he)return bt();const jt=new Je.Cm,ln=jt.add(pe.event(()=>{ln.dispose(),jt.add(bt())}));return jt}}(Ki||(Ki={}));var qp=t(55313),bg=t(96479),NC=t(42371),Ic=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe},Mo=function(We,c){return function(y,V){c(y,V,We)}};let yg=0,dd=!1,Lu=class extends D.x{constructor(c,y,V,he,pe,Oe,Ge,bt,jt,ln,wn,ti,ii){const Ai={...y};Ai.ariaLabel=Ai.ariaLabel||Aa.vp.editorViewAccessibleLabel,Ai.ariaLabel=Ai.ariaLabel+";"+Aa.vp.accessibilityHelpMessage,super(c,Ai,{},V,he,pe,Oe,jt,ln,wn,ti,ii),this._standaloneKeybindingService=bt instanceof al?bt:null,function e_(We){if(!We){if(dd)return;dd=!0}Zi.vr(We||ht.G.document.body)}(Ai.ariaContainerElement),(0,bg.MW)((to,ho)=>V.createInstance(go.fO,to,ho,{})),(0,NC.e)(Ge)}addCommand(c,y,V){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const he="DYNAMIC_"+ ++yg,pe=Ii.M$.deserialize(V);return this._standaloneKeybindingService.addDynamicKeybinding(he,c,y,pe),he}createContextKey(c,y){return this._contextKeyService.createKey(c,y)}addAction(c){if("string"!=typeof c.id||"string"!=typeof c.label||"function"!=typeof c.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Je.jG.None;const y=c.id,V=c.label,he=Ii.M$.and(Ii.M$.equals("editorId",this.getId()),Ii.M$.deserialize(c.precondition)),pe=c.keybindings,Oe=Ii.M$.and(he,Ii.M$.deserialize(c.keybindingContext)),Ge=c.contextMenuGroupId||null,bt=c.contextMenuOrder||0,jt=(ii,...Ai)=>Promise.resolve(c.run(this,...Ai)),ln=new Je.Cm,wn=this.getId()+":"+y;if(ln.add(hr.w.registerCommand(wn,jt)),Ge&&ln.add(Or.ZG.appendMenuItem(Or.D8.EditorContext,{command:{id:wn,title:V},when:he,group:Ge,order:bt})),Array.isArray(pe))for(const ii of pe)ln.add(this._standaloneKeybindingService.addDynamicKeybinding(wn,ii,jt,Oe));const ti=new Pi.f(wn,V,V,void 0,he,(...ii)=>Promise.resolve(c.run(this,...ii)),this._contextKeyService);return this._actions.set(y,ti),ln.add((0,Je.s)(()=>{this._actions.delete(y)})),ln}_triggerCommand(c,y){if(this._codeEditorService instanceof nn)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(c,y)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(c,y)}};Lu=Ic([Mo(2,Zt._Y),Mo(3,en.T),Mo(4,hr.d),Mo(5,Ii.fN),Mo(6,go.TN),Mo(7,vo.b),Mo(8,An.Gy),Mo(9,Ui.Ot),Mo(10,_s.j),Mo(11,wi.JZ),Mo(12,Vn.u)],Lu);let xu=class extends Lu{constructor(c,y,V,he,pe,Oe,Ge,bt,jt,ln,wn,ti,ii,Ai,to,ho){const wo={...y};Su(wn,wo,!1);const Eo=jt.registerEditorContainer(c);"string"==typeof wo.theme&&jt.setTheme(wo.theme),typeof wo.autoDetectHighContrast<"u"&&jt.setAutoDetectHighContrast(!!wo.autoDetectHighContrast);const mo=wo.model;let eo;if(delete wo.model,super(c,wo,V,he,pe,Oe,Ge,bt,jt,ln,ti,to,ho),this._configurationService=wn,this._standaloneThemeService=jt,this._register(Eo),typeof mo>"u"){const Io=Ai.getLanguageIdByMimeType(wo.language)||wo.language||hi.vH;eo=t_(ii,Ai,wo.value||"",Io,void 0),this._ownsModel=!0}else eo=mo,this._ownsModel=!1;this._attachModel(eo),eo&&this._onDidChangeModel.fire({oldModelUrl:null,newModelUrl:eo.uri})}dispose(){super.dispose()}updateOptions(c){Su(this._configurationService,c,!1),"string"==typeof c.theme&&this._standaloneThemeService.setTheme(c.theme),typeof c.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!c.autoDetectHighContrast),super.updateOptions(c)}_postDetachModelCleanup(c){super._postDetachModelCleanup(c),c&&this._ownsModel&&(c.dispose(),this._ownsModel=!1)}};xu=Ic([Mo(2,Zt._Y),Mo(3,en.T),Mo(4,hr.d),Mo(5,Ii.fN),Mo(6,go.TN),Mo(7,vo.b),Mo(8,$r.L),Mo(9,Ui.Ot),Mo(10,Qn.pG),Mo(11,_s.j),Mo(12,Wi.S),Mo(13,ei.L),Mo(14,wi.JZ),Mo(15,Vn.u)],xu);let Sg=class extends qp.T{constructor(c,y,V,he,pe,Oe,Ge,bt,jt,ln,wn,ti){const ii={...y};Su(bt,ii,!0);const Ai=Oe.registerEditorContainer(c);"string"==typeof ii.theme&&Oe.setTheme(ii.theme),typeof ii.autoDetectHighContrast<"u"&&Oe.setAutoDetectHighContrast(!!ii.autoDetectHighContrast),super(c,ii,{},he,V,pe,ti,ln),this._configurationService=bt,this._standaloneThemeService=Oe,this._register(Ai)}dispose(){super.dispose()}updateOptions(c){Su(this._configurationService,c,!0),"string"==typeof c.theme&&this._standaloneThemeService.setTheme(c.theme),typeof c.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!c.autoDetectHighContrast),super.updateOptions(c)}_createInnerEditor(c,y,V){return c.createInstance(Lu,y,V)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(c,y,V){return this.getModifiedEditor().addCommand(c,y,V)}createContextKey(c,y){return this.getModifiedEditor().createContextKey(c,y)}addAction(c){return this.getModifiedEditor().addAction(c)}};function t_(We,c,y,V,he){if(y=y||"",!V){const pe=y.indexOf("\n");let Oe=y;return-1!==pe&&(Oe=y.substring(0,pe)),n_(We,y,c.createByFilepathOrFirstLine(he||null,Oe),he)}return n_(We,y,c.createById(V),he)}function n_(We,c,y,V){return We.createModel(c,y,V)}Sg=Ic([Mo(2,Zt._Y),Mo(3,Ii.fN),Mo(4,en.T),Mo(5,$r.L),Mo(6,Ui.Ot),Mo(7,Qn.pG),Mo(8,io.Z),Mo(9,Ia.N8),Mo(10,Ph.h),Mo(11,vg.Nt)],Sg);var ms=t(28044),Dg=t(39183),i_=t(92210),lr=t(19159),Sa=t(42110),Ac=t(46514),Nd={};Nd.styleTagTransform=Ye(),Nd.setAttributes=Ut(),Nd.insert=Bt().bind(null,"head"),Nd.domAPI=Ht(),Nd.insertStyleElement=ke(),mt()(Ac.A,Nd);var Mu=t(21639),Hh=t(14105),Fd=t(69995),o_=t(62291),wg=t(9306);class Au{constructor(c,y){this.viewModel=c,this.deltaScrollVertical=y}getId(){return this.viewModel}}let Bd=class extends Je.jG{constructor(c,y,V,he){super(),this._container=c,this._overflowWidgetsDomNode=y,this._workbenchUIElementFactory=V,this._instantiationService=he,this._viewModel=(0,lr.FY)(this,void 0),this._collapsed=(0,ms.un)(this,Oe=>{var Ge;return null===(Ge=this._viewModel.read(Oe))||void 0===Ge?void 0:Ge.collapsed.read(Oe)}),this._editorContentHeight=(0,lr.FY)(this,500),this.contentHeight=(0,ms.un)(this,Oe=>(this._collapsed.read(Oe)?0:this._editorContentHeight.read(Oe))+this._outerEditorHeight),this._modifiedContentWidth=(0,lr.FY)(this,0),this._modifiedWidth=(0,lr.FY)(this,0),this._originalContentWidth=(0,lr.FY)(this,0),this._originalWidth=(0,lr.FY)(this,0),this.maxScroll=(0,ms.un)(this,Oe=>{const Ge=this._modifiedContentWidth.read(Oe)-this._modifiedWidth.read(Oe),bt=this._originalContentWidth.read(Oe)-this._originalWidth.read(Oe);return Ge>bt?{maxScroll:Ge,width:this._modifiedWidth.read(Oe)}:{maxScroll:bt,width:this._originalWidth.read(Oe)}}),this._elements=(0,At.h)("div.multiDiffEntry",[(0,At.h)("div.header@header",[(0,At.h)("div.header-content",[(0,At.h)("div.collapse-button@collapseButton"),(0,At.h)("div.file-path",[(0,At.h)("div.title.modified.show-file-icons@primaryPath",[]),(0,At.h)("div.status.deleted@status",["R"]),(0,At.h)("div.title.original.show-file-icons@secondaryPath",[])]),(0,At.h)("div.actions@actions")])]),(0,At.h)("div.editorParent",[(0,At.h)("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(qp.T,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=xg(this.editor.getModifiedEditor()),this.isOriginalFocused=xg(this.editor.getOriginalEditor()),this.isFocused=(0,ms.un)(this,Oe=>this.isModifedFocused.read(Oe)||this.isOriginalFocused.read(Oe)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=new Je.Cm,this._headerHeight=40,this._lastScrollTop=-1,this._isSettingScrollTop=!1;const pe=new vc.$(this._elements.collapseButton,{});this._register((0,ms.fm)(Oe=>{pe.element.className="",pe.icon=this._collapsed.read(Oe)?Oa.W.chevronRight:Oa.W.chevronDown})),this._register(pe.onDidClick(()=>{var Oe;null===(Oe=this._viewModel.get())||void 0===Oe||Oe.collapsed.set(!this._collapsed.get(),void 0)})),this._register((0,ms.fm)(Oe=>{this._elements.editor.style.display=this._collapsed.read(Oe)?"none":"block"})),this._register(this.editor.getModifiedEditor().onDidLayoutChange(Oe=>{const Ge=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(Ge,void 0)})),this._register(this.editor.getOriginalEditor().onDidLayoutChange(Oe=>{const Ge=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(Ge,void 0)})),this._register(this.editor.onDidContentSizeChange(Oe=>{(0,lr.YY)(Ge=>{this._editorContentHeight.set(Oe.contentHeight,Ge),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),Ge),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),Ge)})})),this._register(this.editor.getOriginalEditor().onDidScrollChange(Oe=>{!this._isSettingScrollTop&&Oe.scrollTopChanged&&this._data&&this._data.deltaScrollVertical(Oe.scrollTop-this._lastScrollTop)})),this._register((0,ms.fm)(Oe=>{var Ge;const bt=null===(Ge=this._viewModel.read(Oe))||void 0===Ge?void 0:Ge.isActive.read(Oe);this._elements.root.classList.toggle("active",bt)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=this._headerHeight,this._register(this._instantiationService.createInstance(o_.m,this._elements.actions,Or.D8.MultiDiffEditorFileToolbar,{actionRunner:this._register(new wg.I(()=>{var Oe;return null===(Oe=this._viewModel.get())||void 0===Oe?void 0:Oe.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:Oe=>Oe.startsWith("navigation")},actionViewItemProvider:(Oe,Ge)=>(0,ws.rN)(he,Oe,Ge)}))}setScrollLeft(c){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(c):this.editor.getOriginalEditor().setScrollLeft(c)}setData(c){function y(he){return{...he,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}this._data=c;const V=c.viewModel.entry.value;V.onOptionsDidChange&&this._dataStore.add(V.onOptionsDidChange(()=>{var he;this.editor.updateOptions(y(null!==(he=V.options)&&void 0!==he?he:{}))})),(0,lr.YY)(he=>{var pe,Oe,Ge,bt;null===(pe=this._resourceLabel)||void 0===pe||pe.setUri(null!==(Oe=c.viewModel.modifiedUri)&&void 0!==Oe?Oe:c.viewModel.originalUri,{strikethrough:void 0===c.viewModel.modifiedUri});let jt=!1,ln=!1,wn=!1,ti="";c.viewModel.modifiedUri&&c.viewModel.originalUri&&c.viewModel.modifiedUri.path!==c.viewModel.originalUri.path?(ti="R",jt=!0):c.viewModel.modifiedUri?c.viewModel.originalUri||(ti="A",wn=!0):(ti="D",ln=!0),this._elements.status.classList.toggle("renamed",jt),this._elements.status.classList.toggle("deleted",ln),this._elements.status.classList.toggle("added",wn),this._elements.status.innerText=ti,null===(Ge=this._resourceLabel2)||void 0===Ge||Ge.setUri(jt?c.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set(c.viewModel,he),this.editor.setModel(c.viewModel.diffEditorViewModel,he),this.editor.updateOptions(y(null!==(bt=V.options)&&void 0!==bt?bt:{}))})}render(c,y,V,he){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${c.start}px`,this._elements.root.style.height=`${c.length}px`,this._elements.root.style.width=`${y}px`,this._elements.root.style.position="absolute";const pe=c.length-this._headerHeight,Oe=Math.max(0,Math.min(he.start-c.start,pe));this._elements.header.style.transform=`translateY(${Oe}px)`,(0,lr.YY)(Ge=>{this.editor.layout({width:y-16-2,height:c.length-this._outerEditorHeight})});try{this._isSettingScrollTop=!0,this._lastScrollTop=V,this.editor.getOriginalEditor().setScrollTop(V)}finally{this._isSettingScrollTop=!1}this._elements.header.classList.toggle("shadow",Oe>0||V>0),this._elements.header.classList.toggle("collapsed",Oe===pe)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};function xg(We){return(0,ms.y0)(c=>{const y=new Je.Cm;return y.add(We.onDidFocusEditorWidget(()=>c(!0))),y.add(We.onDidBlurEditorWidget(()=>c(!1))),y},()=>We.hasTextFocus())}Bd=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([function(We,c){return function(y,V){c(y,V,3)}}(0,Zt._Y)],Bd);class s_{constructor(c){this._create=c,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(c){var y;let V;if(0===this._unused.size)V=this._create(c),this._itemData.set(V,c);else{const he=[...this._unused.values()];V=null!==(y=he.find(pe=>this._itemData.get(pe).getId()===c.getId()))&&void 0!==y?y:he[0],this._unused.delete(V),this._itemData.set(V,c),V.setData(c)}return this._used.add(V),{object:V,dispose:()=>{this._used.delete(V),this._unused.size>5?V.dispose():this._unused.add(V)}}}dispose(){for(const c of this._used)c.dispose();for(const c of this._unused)c.dispose();this._used.clear(),this._unused.clear()}}var Uh=function(We,c){return function(y,V){c(y,V,We)}};let jh=class extends Je.jG{constructor(c,y,V,he,pe,Oe){super(),this._element=c,this._dimension=y,this._viewModel=V,this._workbenchUIElementFactory=he,this._parentContextKeyService=pe,this._parentInstantiationService=Oe,this._scrollableElements=(0,At.h)("div.scrollContent",[(0,At.h)("div@content",{style:{overflow:"hidden"}}),(0,At.h)("div.monaco-editor@overflowWidgetsDomNode",{})]),this._scrollable=this._register(new Sa.yE({forceIntegerValues:!1,scheduleAtNextAnimationFrame:bt=>(0,At.PG)((0,At.zk)(this._element),bt),smoothScrollDuration:100})),this._scrollableElement=this._register(new lu.oO(this._scrollableElements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this._elements=(0,At.h)("div.monaco-component.multiDiffEditor",{},[(0,At.h)("div",{},[this._scrollableElement.getDomNode()]),(0,At.h)("div.placeholder@placeholder",{},[(0,At.h)("div",[(0,vi.kg)("noChangedFiles","No Changed Files")])])]),this._sizeObserver=this._register(new Dg.pN(this._element,void 0)),this._objectPool=this._register(new s_(bt=>{const jt=this._instantiationService.createInstance(Bd,this._scrollableElements.content,this._scrollableElements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return jt.setData(bt),jt})),this.scrollTop=(0,ms.y0)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=(0,ms.y0)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItemsInfo=(0,ms.rm)(this,(bt,jt)=>{const ln=this._viewModel.read(bt);if(!ln)return{items:[],getItem:Ai=>{throw new Li.D7}};const wn=ln.items.read(bt),ti=new Map;return{items:wn.map(Ai=>{var to;const ho=jt.add(new a_(Ai,this._objectPool,this.scrollLeft,Eo=>{this._scrollableElement.setScrollPosition({scrollTop:this._scrollableElement.getScrollPosition().scrollTop+Eo})})),wo=null===(to=this._lastDocStates)||void 0===to?void 0:to[ho.getKey()];return wo&&(0,lr.Rn)(Eo=>{ho.setViewState(wo,Eo)}),ti.set(Ai,ho),ho}),getItem:Ai=>ti.get(Ai)}}),this._viewItems=this._viewItemsInfo.map(this,bt=>bt.items),this._spaceBetweenPx=0,this._totalHeight=this._viewItems.map(this,(bt,jt)=>bt.reduce((ln,wn)=>ln+wn.contentHeight.read(jt)+this._spaceBetweenPx,0)),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._register(this._parentInstantiationService.createChild(new Nh.a([Ii.fN,this._contextKeyService]))),this._lastDocStates={},this._contextKeyService.createKey(Fd.R.inMultiDiffEditor.key,!0),this._register((0,ms.yC)((bt,jt)=>{const ln=this._viewModel.read(bt);if(ln&&ln.contextKeys)for(const[wn,ti]of Object.entries(ln.contextKeys)){const ii=this._contextKeyService.createKey(wn,void 0);ii.set(ti),jt.add((0,Je.s)(()=>ii.reset()))}}));const Ge=this._parentContextKeyService.createKey(Fd.R.multiDiffEditorAllCollapsed.key,!1);this._register((0,ms.fm)(bt=>{const jt=this._viewModel.read(bt);if(jt){const ln=jt.items.read(bt).every(wn=>wn.collapsed.read(bt));Ge.set(ln)}})),this._register((0,ms.fm)(bt=>{const jt=this._dimension.read(bt);this._sizeObserver.observe(jt)})),this._register((0,ms.fm)(bt=>{const jt=this._viewItems.read(bt);this._elements.placeholder.classList.toggle("visible",0===jt.length)})),this._scrollableElements.content.style.position="relative",this._register((0,ms.fm)(bt=>{const jt=this._sizeObserver.height.read(bt);this._scrollableElements.root.style.height=`${jt}px`;const ln=this._totalHeight.read(bt);this._scrollableElements.content.style.height=`${ln}px`;const wn=this._sizeObserver.width.read(bt);let ti=wn;const ii=this._viewItems.read(bt),Ai=(0,i_.Cn)(ii,(0,pn.VE)(to=>to.maxScroll.read(bt).maxScroll,pn.U9));Ai&&(ti=wn+Ai.maxScroll.read(bt).maxScroll),this._scrollableElement.setScrollDimensions({width:wn,height:jt,scrollHeight:ln,scrollWidth:ti})})),c.replaceChildren(this._elements.root),this._register((0,Je.s)(()=>{c.replaceChildren()})),this._register(this._register((0,ms.fm)(bt=>{(0,lr.YY)(jt=>{this.render(bt)})})))}render(c){const y=this.scrollTop.read(c);let V=0,he=0,pe=0;const Oe=this._sizeObserver.height.read(c),Ge=Mu.L.ofStartAndLength(y,Oe),bt=this._sizeObserver.width.read(c);for(const jt of this._viewItems.read(c)){const ln=jt.contentHeight.read(c),wn=Math.min(ln,Oe),ti=Mu.L.ofStartAndLength(he,wn),ii=Mu.L.ofStartAndLength(pe,ln);if(ii.isBefore(Ge))V-=ln-wn,jt.hide();else if(ii.isAfter(Ge))jt.hide();else{const Ai=Math.max(0,Math.min(Ge.start-ii.start,ln-wn));V-=Ai;const to=Mu.L.ofStartAndLength(y+V,Oe);jt.render(ti,Ai,bt,to)}he+=wn+this._spaceBetweenPx,pe+=ln+this._spaceBetweenPx}this._scrollableElements.content.style.transform=`translateY(${-(y+V)}px)`}};jh=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([Uh(4,Ii.fN),Uh(5,Zt._Y)],jh);class a_ extends Je.jG{constructor(c,y,V,he){super(),this.viewModel=c,this._objectPool=y,this._scrollLeft=V,this._deltaScrollVertical=he,this._templateRef=this._register((0,lr.X2)(this,void 0)),this.contentHeight=(0,ms.un)(this,pe=>{var Oe,Ge,bt;return null!==(bt=null===(Ge=null===(Oe=this._templateRef.read(pe))||void 0===Oe?void 0:Oe.object.contentHeight)||void 0===Ge?void 0:Ge.read(pe))&&void 0!==bt?bt:this.viewModel.lastTemplateData.read(pe).contentHeight}),this.maxScroll=(0,ms.un)(this,pe=>{var Oe,Ge;return null!==(Ge=null===(Oe=this._templateRef.read(pe))||void 0===Oe?void 0:Oe.object.maxScroll.read(pe))&&void 0!==Ge?Ge:{maxScroll:0,scrollWidth:0}}),this.template=(0,ms.un)(this,pe=>{var Oe;return null===(Oe=this._templateRef.read(pe))||void 0===Oe?void 0:Oe.object}),this._isHidden=(0,ms.FY)(this,!1),this._isFocused=(0,ms.un)(this,pe=>{var Oe,Ge;return null!==(Ge=null===(Oe=this.template.read(pe))||void 0===Oe?void 0:Oe.isFocused.read(pe))&&void 0!==Ge&&Ge}),this.viewModel.setIsFocused(this._isFocused,void 0),this._register((0,ms.fm)(pe=>{var Oe;const Ge=this._scrollLeft.read(pe);null===(Oe=this._templateRef.read(pe))||void 0===Oe||Oe.object.setScrollLeft(Ge)})),this._register((0,ms.fm)(pe=>{const Oe=this._templateRef.read(pe);!Oe||!this._isHidden.read(pe)||Oe.object.isFocused.read(pe)||this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var c;return`VirtualViewItem(${null===(c=this.viewModel.entry.value.modified)||void 0===c?void 0:c.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(c,y){var V;this.viewModel.collapsed.set(c.collapsed,y),this._updateTemplateData(y);const he=this.viewModel.lastTemplateData.get(),pe=null===(V=c.selections)||void 0===V?void 0:V.map(Hh.L.liftSelection);this.viewModel.lastTemplateData.set({...he,selections:pe},y);const Oe=this._templateRef.get();Oe&&pe&&Oe.object.editor.setSelections(pe)}_updateTemplateData(c){var y;const V=this._templateRef.get();V&&this.viewModel.lastTemplateData.set({contentHeight:V.object.contentHeight.get(),selections:null!==(y=V.object.editor.getSelections())&&void 0!==y?y:void 0},c)}_clear(){const c=this._templateRef.get();c&&(0,lr.Rn)(y=>{this._updateTemplateData(y),c.object.hide(),this._templateRef.set(void 0,y)})}hide(){this._isHidden.set(!0,void 0)}render(c,y,V,he){this._isHidden.set(!1,void 0);let pe=this._templateRef.get();if(!pe){pe=this._objectPool.getUnusedObj(new Au(this.viewModel,this._deltaScrollVertical)),this._templateRef.set(pe,void 0);const Oe=this.viewModel.lastTemplateData.get().selections;Oe&&pe.object.editor.setSelections(Oe)}pe.object.render(c,V,y,he)}}(0,ki.x1A)("multiDiffEditor.headerBackground",{dark:"#262626",light:"tab.inactiveBackground",hcDark:"tab.inactiveBackground",hcLight:"tab.inactiveBackground"},(0,vi.kg)("multiDiffEditor.headerBackground","The background color of the diff editor's header")),(0,ki.x1A)("multiDiffEditor.background",{dark:"editorBackground",light:"editorBackground",hcDark:"editorBackground",hcLight:"editorBackground"},(0,vi.kg)("multiDiffEditor.background","The background color of the multi file diff editor")),(0,ki.x1A)("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},(0,vi.kg)("multiDiffEditor.border","The border color of the multi file diff editor"));let cd=class extends Je.jG{constructor(c,y,V){super(),this._element=c,this._workbenchUIElementFactory=y,this._instantiationService=V,this._dimension=(0,ms.FY)(this,void 0),this._viewModel=(0,ms.FY)(this,void 0),this._widgetImpl=(0,ms.rm)(this,(he,pe)=>((0,Dg.b6)(Bd,he),pe.add(this._instantiationService.createInstance((0,Dg.b6)(jh,he),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register((0,ms.OI)(this._widgetImpl))}};function Ig(We,c,y){return Ki.initialize(y||{}).createInstance(xu,We,c)}function Ag(We){return Ki.get(en.T).onCodeEditorAdd(y=>{We(y)})}function d_(We){return Ki.get(en.T).onDiffEditorAdd(y=>{We(y)})}function Tg(){return Ki.get(en.T).listCodeEditors()}function c_(){return Ki.get(en.T).listDiffEditors()}function kg(We,c,y){return Ki.initialize(y||{}).createInstance(Sg,We,c)}function u_(We,c){const y=Ki.initialize(c||{});return new cd(We,{},y)}function Pg(We){if("string"!=typeof We.id||"function"!=typeof We.run)throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return hr.w.registerCommand(We.id,We.run)}function h_(We){if("string"!=typeof We.id||"string"!=typeof We.label||"function"!=typeof We.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const c=Ii.M$.deserialize(We.precondition),V=new Je.Cm;if(V.add(hr.w.registerCommand(We.id,(he,...pe)=>Yt.DX.runEditorCommand(he,pe,c,(Oe,Ge,bt)=>Promise.resolve(We.run(Ge,...bt))))),We.contextMenuGroupId&&V.add(Or.ZG.appendMenuItem(Or.D8.EditorContext,{command:{id:We.id,title:We.label},when:c,group:We.contextMenuGroupId,order:We.contextMenuOrder||0})),Array.isArray(We.keybindings)){const he=Ki.get(vo.b);if(he instanceof al){const pe=Ii.M$.and(c,Ii.M$.deserialize(We.keybindingContext));V.add(he.addDynamicKeybindings(We.keybindings.map(Oe=>({keybinding:Oe,command:We.id,when:pe}))))}else console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService")}return V}function f_(We){return Og([We])}function Og(We){const c=Ki.get(vo.b);return c instanceof al?c.addDynamicKeybindings(We.map(y=>({keybinding:y.keybinding,command:y.command,commandArgs:y.commandArgs,when:Ii.M$.deserialize(y.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Je.jG.None)}function g_(We,c,y){const V=Ki.get(ei.L),he=V.getLanguageIdByMimeType(c)||c;return t_(Ki.get(Wi.S),V,We,he,y)}function Rg(We,c){const y=Ki.get(ei.L),V=y.getLanguageIdByMimeType(c)||c||hi.vH;We.setLanguage(y.createById(V))}function Ng(We,c,y){We&&Ki.get(Ks.DR).changeOne(c,We.uri,y)}function Fg(We){Ki.get(Ks.DR).changeAll(We,[])}function Tu(We){return Ki.get(Ks.DR).read(We)}function Bg(We){return Ki.get(Ks.DR).onMarkerChanged(We)}function Wg(We){return Ki.get(Wi.S).getModel(We)}function Vg(){return Ki.get(Wi.S).getModels()}function Hg(We){return Ki.get(Wi.S).onModelAdded(We)}function m_(We){return Ki.get(Wi.S).onModelRemoved(We)}function p_(We){return Ki.get(Wi.S).onModelLanguageChanged(y=>{We({model:y.model,oldLanguage:y.oldLanguageId})})}function __(We){return function Nt(We,c,y){return new tn(We,c,y)}(Ki.get(Wi.S),Ki.get(wi.JZ),We)}function v_(We,c){const y=Ki.get(ei.L),V=Ki.get($r.L);return gi.colorizeElement(V,y,We,c).then(()=>{V.registerEditorContainer(We)})}function Ug(We,c,y){const V=Ki.get(ei.L);return Ki.get($r.L).registerEditorContainer(ht.G.document.body),gi.colorize(V,We,c,y)}function FC(We,c,y=4){return Ki.get($r.L).registerEditorContainer(ht.G.document.body),gi.colorizeModelLine(We,c,y)}function C_(We,c){Zn.dG.getOrCreate(c);const y=function jg(We){return Zn.dG.get(We)||{getInitialState:()=>yi.r3,tokenize:(y,V,he)=>(0,yi.$H)(We,he)}}(c),V=(0,ot.uz)(We),he=[];let pe=y.getInitialState();for(let Oe=0,Ge=V.length;Oe<Ge;Oe++){const jt=y.tokenize(V[Oe],!0,pe);he[Oe]=jt.tokens,pe=jt.endState}return he}function b_(We,c){Ki.get($r.L).defineTheme(We,c)}function BC(We){Ki.get($r.L).setTheme(We)}function y_(){qt.T.clearAllFontInfos()}function zg(We,c){return hr.w.registerCommand({id:We,handler:c})}function Kh(We){return Ki.get(gs.C).registerOpener({open:y=>(0,on.A)(function*(){return"string"==typeof y&&(y=De.r.parse(y)),We.open(y)})()})}function S_(We){return Ki.get(en.T).registerCodeEditorOpenHandler(function(){var y=(0,on.A)(function*(V,he,pe){var Oe;if(!he)return null;const Ge=null===(Oe=V.options)||void 0===Oe?void 0:Oe.selection;let bt;return Ge&&"number"==typeof Ge.endLineNumber&&"number"==typeof Ge.endColumn?bt=Ge:Ge&&(bt={lineNumber:Ge.startLineNumber,column:Ge.startColumn}),(yield We.openCodeEditor(he,V.resource,bt))?he:null});return function(V,he,pe){return y.apply(this,arguments)}}())}cd=function(We,c,y,V){var Oe,he=arguments.length,pe=he<3?c:null===V?V=Object.getOwnPropertyDescriptor(c,y):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(We,c,y,V);else for(var Ge=We.length-1;Ge>=0;Ge--)(Oe=We[Ge])&&(pe=(he<3?Oe(pe):he>3?Oe(c,y,pe):Oe(c,y))||pe);return he>3&&pe&&Object.defineProperty(c,y,pe),pe}([function(We,c){return function(y,V){c(y,V,2)}}(0,Zt._Y)],cd);var ku=t(84072);function Tc(We,c){return"boolean"==typeof We?We:c}function ud(We,c){return"string"==typeof We?We:c}function E_(We,c=!1){c&&(We=We.map(function(V){return V.toLowerCase()}));const y=function WC(We){const c={};for(const y of We)c[y]=!0;return c}(We);return c?function(V){return void 0!==y[V.toLowerCase()]&&y.hasOwnProperty(V.toLowerCase())}:function(V){return void 0!==y[V]&&y.hasOwnProperty(V)}}function Pu(We,c,y){c=c.replace(/@@/g,"\x01");let he,V=0;do{he=!1,c=c.replace(/@(\w+)/g,function(Oe,Ge){he=!0;let bt="";if("string"==typeof We[Ge])bt=We[Ge];else{if(!(We[Ge]&&We[Ge]instanceof RegExp))throw Wt(We,void 0===We[Ge]?"language definition does not contain attribute '"+Ge+"', used at: "+c:"attribute reference '"+Ge+"' must be a string, used at: "+c);bt=We[Ge].source}return Kn(bt)?"":"(?:"+bt+")"}),V++}while(he&&V<5);c=c.replace(/\x01/g,"@");const pe=(We.ignoreCase?"i":"")+(We.unicode?"u":"");if(y&&c.match(/\$[sS](\d\d?)/g)){let Ge=null,bt=null;return jt=>(bt&&Ge===jt||(Ge=jt,bt=new RegExp(function En(We,c,y){let he=null;return c.replace(/\$[sS](\d\d?)/g,function(pe,Oe){return null===he&&(he=y.split("."),he.unshift(y)),!Kn(Oe)&&Oe<he.length?jn(We,he[Oe]):""})}(We,c,jt),pe)),bt)}return new RegExp(c,pe)}function L_(We,c,y,V){let he=-1,pe=y,Oe=y.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);Oe&&(Oe[3]&&(he=parseInt(Oe[3]),Oe[2]&&(he+=100)),pe=Oe[4]);let jt,Ge="~",bt=pe;if(pe&&0!==pe.length?/^\w*$/.test(bt)?Ge="==":(Oe=pe.match(/^(@|!@|~|!~|==|!=)(.*)$/),Oe&&(Ge=Oe[1],bt=Oe[2])):(Ge="!=",bt=""),"~"!==Ge&&"!~"!==Ge||!/^(\w|\|)*$/.test(bt))if("@"===Ge||"!@"===Ge){const ln=We[bt];if(!ln)throw Wt(We,"the @ match target '"+bt+"' is not defined, in rule: "+c);if(!function D_(We,c){if(!c||!Array.isArray(c))return!1;for(const y of c)if(!We(y))return!1;return!0}(function(ti){return"string"==typeof ti},ln))throw Wt(We,"the @ match target '"+bt+"' must be an array of strings, in rule: "+c);const wn=E_(ln,We.ignoreCase);jt=function(ti){return"@"===Ge?wn(ti):!wn(ti)}}else if("~"===Ge||"!~"===Ge)if(bt.indexOf("$")<0){const ln=Pu(We,"^"+bt+"$",!1);jt=function(wn){return"~"===Ge?ln.test(wn):!ln.test(wn)}}else jt=function(ln,wn,ti,ii){return Pu(We,"^"+mn(We,bt,wn,ti,ii)+"$",!1).test(ln)};else if(bt.indexOf("$")<0){const ln=jn(We,bt);jt=function(wn){return"=="===Ge?wn===ln:wn!==ln}}else{const ln=jn(We,bt);jt=function(wn,ti,ii,Ai,to){const ho=mn(We,ln,ti,ii,Ai);return"=="===Ge?wn===ho:wn!==ho}}else{const ln=E_(bt.split("|"),We.ignoreCase);jt=function(wn){return"~"===Ge?ln(wn):!ln(wn)}}return-1===he?{name:y,value:V,test:function(ln,wn,ti,ii){return jt(ln,ln,wn,ti,ii)}}:{name:y,value:V,test:function(ln,wn,ti,ii){const Ai=function w_(We,c,y,V){if(V<0)return We;if(V<c.length)return c[V];if(V>=100){V-=100;const he=y.split(".");if(he.unshift(y),V<he.length)return he[V]}return null}(ln,wn,ti,he);return jt(Ai||"",ln,wn,ti,ii)}}}function Kg(We,c,y){if(y){if("string"==typeof y)return y;if(y.token||""===y.token){if("string"!=typeof y.token)throw Wt(We,"a 'token' attribute must be of type string, in rule: "+c);{const V={token:y.token};if(y.token.indexOf("$")>=0&&(V.tokenSubst=!0),"string"==typeof y.bracket)if("@open"===y.bracket)V.bracket=1;else{if("@close"!==y.bracket)throw Wt(We,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+c);V.bracket=-1}if(y.next){if("string"!=typeof y.next)throw Wt(We,"the next state must be a string value in rule: "+c);{let he=y.next;if(!/^(@pop|@push|@popall)$/.test(he)&&("@"===he[0]&&(he=he.substr(1)),he.indexOf("$")<0&&!function Rn(We,c){let y=c;for(;y&&y.length>0;){if(We.stateNames[y])return!0;const he=y.lastIndexOf(".");y=he<0?null:y.substr(0,he)}return!1}(We,mn(We,he,"",[],""))))throw Wt(We,"the next state '"+y.next+"' is not defined in rule: "+c);V.next=he}}return"number"==typeof y.goBack&&(V.goBack=y.goBack),"string"==typeof y.switchTo&&(V.switchTo=y.switchTo),"string"==typeof y.log&&(V.log=y.log),"string"==typeof y.nextEmbedded&&(V.nextEmbedded=y.nextEmbedded,We.usesEmbedded=!0),V}}if(Array.isArray(y)){const V=[];for(let he=0,pe=y.length;he<pe;he++)V[he]=Kg(We,c,y[he]);return{group:V}}if(y.cases){const V=[];for(const pe in y.cases)if(y.cases.hasOwnProperty(pe)){const Oe=Kg(We,c,y.cases[pe]);V.push("@default"===pe||"@"===pe||""===pe?{test:void 0,value:Oe,name:pe}:"@eos"===pe?{test:function(Ge,bt,jt,ln){return ln},value:Oe,name:pe}:L_(We,c,pe,Oe))}const he=We.defaultToken;return{test:function(pe,Oe,Ge,bt){for(const jt of V)if(!jt.test||jt.test(pe,Oe,Ge,bt))return jt.value;return he}}}throw Wt(We,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+c)}return{token:""}}class VC{constructor(c){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=c}setRegex(c,y){let V;if("string"==typeof y)V=y;else{if(!(y instanceof RegExp))throw Wt(c,"rules must start with a match string or regular expression: "+this.name);V=y.source}this.matchOnlyAtLineStart=V.length>0&&"^"===V[0],this.name=this.name+": "+V,this.regex=Pu(c,"^(?:"+(this.matchOnlyAtLineStart?V.substr(1):V)+")",!0)}setAction(c,y){this.action=Kg(c,this.name,y)}resolveRegex(c){return this.regex instanceof RegExp?this.regex:this.regex(c)}}function kc(We,c){if(!c||"object"!=typeof c)throw new Error("Monarch: expecting a language definition object");const y={};y.languageId=We,y.includeLF=Tc(c.includeLF,!1),y.noThrow=!1,y.maxStack=100,y.start="string"==typeof c.start?c.start:null,y.ignoreCase=Tc(c.ignoreCase,!1),y.unicode=Tc(c.unicode,!1),y.tokenPostfix=ud(c.tokenPostfix,"."+y.languageId),y.defaultToken=ud(c.defaultToken,"source"),y.usesEmbedded=!1;const V=c;function he(Oe,Ge,bt){for(const jt of bt){let ln=jt.include;if(ln){if("string"!=typeof ln)throw Wt(y,"an 'include' attribute must be a string at: "+Oe);if("@"===ln[0]&&(ln=ln.substr(1)),!c.tokenizer[ln])throw Wt(y,"include target '"+ln+"' is not defined at: "+Oe);he(Oe+"."+ln,Ge,c.tokenizer[ln])}else{const wn=new VC(Oe);if(Array.isArray(jt)&&jt.length>=1&&jt.length<=3)if(wn.setRegex(V,jt[0]),jt.length>=3)if("string"==typeof jt[1])wn.setAction(V,{token:jt[1],next:jt[2]});else{if("object"!=typeof jt[1])throw Wt(y,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+Oe);{const ti=jt[1];ti.next=jt[2],wn.setAction(V,ti)}}else wn.setAction(V,jt[1]);else{if(!jt.regex)throw Wt(y,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+Oe);jt.name&&"string"==typeof jt.name&&(wn.name=jt.name),jt.matchOnlyAtStart&&(wn.matchOnlyAtLineStart=Tc(jt.matchOnlyAtLineStart,!1)),wn.setRegex(V,jt.regex),wn.setAction(V,jt.action)}Ge.push(wn)}}}if(V.languageId=We,V.includeLF=y.includeLF,V.ignoreCase=y.ignoreCase,V.unicode=y.unicode,V.noThrow=y.noThrow,V.usesEmbedded=y.usesEmbedded,V.stateNames=c.tokenizer,V.defaultToken=y.defaultToken,!c.tokenizer||"object"!=typeof c.tokenizer)throw Wt(y,"a language definition must define the 'tokenizer' attribute as an object");y.tokenizer=[];for(const Oe in c.tokenizer)if(c.tokenizer.hasOwnProperty(Oe)){y.start||(y.start=Oe);const Ge=c.tokenizer[Oe];y.tokenizer[Oe]=new Array,he("tokenizer."+Oe,y.tokenizer[Oe],Ge)}if(y.usesEmbedded=V.usesEmbedded,c.brackets){if(!Array.isArray(c.brackets))throw Wt(y,"the 'brackets' attribute must be defined as an array")}else c.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const pe=[];for(const Oe of c.brackets){let Ge=Oe;if(Ge&&Array.isArray(Ge)&&3===Ge.length&&(Ge={token:Ge[2],open:Ge[0],close:Ge[1]}),Ge.open===Ge.close)throw Wt(y,"open and close brackets in a 'brackets' attribute must be different: "+Ge.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof Ge.open||"string"!=typeof Ge.token||"string"!=typeof Ge.close)throw Wt(y,"every element in the 'brackets' array must be a '{open,close,token}' object or array");pe.push({token:Ge.token+y.tokenPostfix,open:jn(y,Ge.open),close:jn(y,Ge.close)})}return y.brackets=pe,y.noThrow=!0,y}function x_(We){hi.W6.registerLanguage(We)}function $h(){let We=[];return We=We.concat(hi.W6.getLanguages()),We}function Gh(We){return Ki.get(ei.L).languageIdCodec.encodeLanguageId(We)}function Wd(We,c){return Ki.withServices(()=>{const V=Ki.get(ei.L).onDidRequestRichLanguageFeatures(he=>{he===We&&(V.dispose(),c())});return V})}function Qh(We,c){return Ki.withServices(()=>{const V=Ki.get(ei.L).onDidRequestBasicLanguageFeatures(he=>{he===We&&(V.dispose(),c())});return V})}function Yh(We,c){if(!Ki.get(ei.L).isRegisteredLanguageId(We))throw new Error(`Cannot set configuration for unknown language ${We}`);return Ki.get(wi.JZ).register(We,c,100)}class Pc{constructor(c,y){this._languageId=c,this._actual=y}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(c,y,V){if("function"==typeof this._actual.tokenize)return Al.adaptTokenize(this._languageId,this._actual,c,V);throw new Error("Not supported!")}tokenizeEncoded(c,y,V){const he=this._actual.tokenizeEncoded(c,V);return new Zn.rY(he.tokens,he.endState)}}class Al{constructor(c,y,V,he){this._languageId=c,this._actual=y,this._languageService=V,this._standaloneThemeService=he}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(c,y){const V=[];let he=0;for(let pe=0,Oe=c.length;pe<Oe;pe++){const Ge=c[pe];let bt=Ge.startIndex;0===pe?bt=0:bt<he&&(bt=he),V[pe]=new Zn.ou(bt,Ge.scopes,y),he=bt}return V}static adaptTokenize(c,y,V,he){const pe=y.tokenize(V,he),Oe=Al._toClassicTokens(pe.tokens,c);let Ge;return Ge=pe.endState.equals(he)?he:pe.endState,new Zn.$M(Oe,Ge)}tokenize(c,y,V){return Al.adaptTokenize(this._languageId,this._actual,c,V)}_toBinaryTokens(c,y){const V=c.encodeLanguageId(this._languageId),he=this._standaloneThemeService.getColorTheme().tokenTheme,pe=[];let Oe=0,Ge=0;for(let jt=0,ln=y.length;jt<ln;jt++){const wn=y[jt],ti=1024|he.match(V,wn.scopes);if(Oe>0&&pe[Oe-1]===ti)continue;let ii=wn.startIndex;0===jt?ii=0:ii<Ge&&(ii=Ge),pe[Oe++]=ii,pe[Oe++]=ti,Ge=ii}const bt=new Uint32Array(Oe);for(let jt=0;jt<Oe;jt++)bt[jt]=pe[jt];return bt}tokenizeEncoded(c,y,V){const he=this._actual.tokenize(c,V),pe=this._toBinaryTokens(this._languageService.languageIdCodec,he.tokens);let Oe;return Oe=he.endState.equals(V)?V:he.endState,new Zn.rY(pe,Oe)}}function Ou(We){return We&&"function"==typeof We.then}function Ru(We){const c=Ki.get($r.L);if(We){const y=[null];for(let V=1,he=We.length;V<he;V++)y[V]=ku.Q1.fromHex(We[V]);c.setColorMapOverride(y)}else c.setColorMapOverride(null)}function M_(We,c){return function Zh(We){return"tokenizeEncoded"in We}(c)?new Pc(We,c):new Al(We,c,Ki.get(ei.L),Ki.get($r.L))}function Oc(We,c){const y=new Zn.v_((0,on.A)(function*(){const V=yield Promise.resolve(c.create());return V?function Vd(We){return"function"==typeof We.getInitialState}(V)?M_(We,V):new kn(Ki.get(ei.L),Ki.get($r.L),We,kc(We,V),Ki.get(Qn.pG)):null}));return Zn.dG.registerFactory(We,y)}function Rc(We,c){if(!Ki.get(ei.L).isRegisteredLanguageId(We))throw new Error(`Cannot set tokens provider for unknown language ${We}`);return Ou(c)?Oc(We,{create:()=>c}):Zn.dG.register(We,M_(We,c))}function I_(We,c){return Ou(c)?Oc(We,{create:()=>c}):Zn.dG.register(We,(V=c,new kn(Ki.get(ei.L),Ki.get($r.L),We,kc(We,V),Ki.get(Qn.pG))));var V}function $g(We,c){return Ki.get(Vn.u).referenceProvider.register(We,c)}function A_(We,c){return Ki.get(Vn.u).renameProvider.register(We,c)}function T_(We,c){return Ki.get(Vn.u).newSymbolNamesProvider.register(We,c)}function Xh(We,c){return Ki.get(Vn.u).signatureHelpProvider.register(We,c)}function Gg(We,c){return Ki.get(Vn.u).hoverProvider.register(We,{provideHover:(V=(0,on.A)(function*(he,pe,Oe,Ge){const bt=he.getWordAtPosition(pe);return Promise.resolve(c.provideHover(he,pe,Oe,Ge)).then(jt=>{if(jt)return!jt.range&&bt&&(jt.range=new Ar.Q(pe.lineNumber,bt.startColumn,pe.lineNumber,bt.endColumn)),jt.range||(jt.range=new Ar.Q(pe.lineNumber,pe.column,pe.lineNumber,pe.column)),jt})}),function(pe,Oe,Ge,bt){return V.apply(this,arguments)})});var V}function k_(We,c){return Ki.get(Vn.u).documentSymbolProvider.register(We,c)}function P_(We,c){return Ki.get(Vn.u).documentHighlightProvider.register(We,c)}function Nc(We,c){return Ki.get(Vn.u).linkedEditingRangeProvider.register(We,c)}function Qg(We,c){return Ki.get(Vn.u).definitionProvider.register(We,c)}function Jh(We,c){return Ki.get(Vn.u).implementationProvider.register(We,c)}function O_(We,c){return Ki.get(Vn.u).typeDefinitionProvider.register(We,c)}function HC(We,c){return Ki.get(Vn.u).codeLensProvider.register(We,c)}function UC(We,c,y){return Ki.get(Vn.u).codeActionProvider.register(We,{providedCodeActionKinds:y?.providedCodeActionKinds,documentation:y?.documentation,provideCodeActions:(he,pe,Oe,Ge)=>{const jt=Ki.get(Ks.DR).read({resource:he.uri}).filter(ln=>Ar.Q.areIntersectingOrTouching(ln,pe));return c.provideCodeActions(he,pe,{markers:jt,only:Oe.only,trigger:Oe.trigger},Ge)},resolveCodeAction:c.resolveCodeAction})}function Fc(We,c){return Ki.get(Vn.u).documentFormattingEditProvider.register(We,c)}function R_(We,c){return Ki.get(Vn.u).documentRangeFormattingEditProvider.register(We,c)}function Nu(We,c){return Ki.get(Vn.u).onTypeFormattingEditProvider.register(We,c)}function qh(We,c){return Ki.get(Vn.u).linkProvider.register(We,c)}function N_(We,c){return Ki.get(Vn.u).completionProvider.register(We,c)}function Yg(We,c){return Ki.get(Vn.u).colorProvider.register(We,c)}function ef(We,c){return Ki.get(Vn.u).foldingRangeProvider.register(We,c)}function Fu(We,c){return Ki.get(Vn.u).declarationProvider.register(We,c)}function Bu(We,c){return Ki.get(Vn.u).selectionRangeProvider.register(We,c)}function Zg(We,c){return Ki.get(Vn.u).documentSemanticTokensProvider.register(We,c)}function Xg(We,c){return Ki.get(Vn.u).documentRangeSemanticTokensProvider.register(We,c)}function Jg(We,c){return Ki.get(Vn.u).inlineCompletionsProvider.register(We,c)}function Wu(We,c){return Ki.get(Vn.u).inlineEditProvider.register(We,c)}function tf(We,c){return Ki.get(Vn.u).inlayHintsProvider.register(We,c)}var F_=t(64543);vt.qB.wrappingIndent.defaultValue=0,vt.qB.glyphMargin.defaultValue=!1,vt.qB.autoIndent.defaultValue=3,vt.qB.overviewRulerLanes.defaultValue=2,F_.Pj.setFormatterSelector((We,c,y)=>Promise.resolve(We[0]));const pr=(0,fn.r)();pr.editor=function Il(){return{create:Ig,getEditors:Tg,getDiffEditors:c_,onDidCreateEditor:Ag,onDidCreateDiffEditor:d_,createDiffEditor:kg,addCommand:Pg,addEditorAction:h_,addKeybindingRule:f_,addKeybindingRules:Og,createModel:g_,setModelLanguage:Rg,setModelMarkers:Ng,getModelMarkers:Tu,removeAllMarkers:Fg,onDidChangeMarkers:Bg,getModels:Vg,getModel:Wg,onDidCreateModel:Hg,onWillDisposeModel:m_,onDidChangeModelLanguage:p_,createWebWorker:__,colorizeElement:v_,colorize:Ug,colorizeModelLine:FC,tokenize:C_,defineTheme:b_,setTheme:BC,remeasureFonts:y_,registerCommand:zg,registerLinkOpener:Kh,registerEditorOpener:S_,AccessibilitySupport:Pn.Gn,ContentWidgetPositionPreference:Pn.Qj,CursorChangeReason:Pn.h5,DefaultEndOfLine:Pn.of,EditorAutoIndentStrategy:Pn.e0,EditorOption:Pn.p2,EndOfLinePreference:Pn.kf,EndOfLineSequence:Pn.WU,MinimapPosition:Pn.R3,MinimapSectionHeaderStyle:Pn.VX,MouseTargetType:Pn.hS,OverlayWidgetPositionPreference:Pn.dE,OverviewRulerLane:Pn.A5,GlyphMarginLane:Pn.ZS,RenderLineNumbersType:Pn.DO,RenderMinimap:Pn.hW,ScrollbarVisibility:Pn.XR,ScrollType:Pn.ov,TextEditorCursorBlinkingStyle:Pn.U7,TextEditorCursorStyle:Pn.m9,TrackedRangeStickiness:Pn.kK,WrappingIndent:Pn.tJ,InjectedTextCursorStops:Pn.VW,PositionAffinity:Pn.Ic,ShowLightbulbIconMode:Pn.jT,ConfigurationChangedEvent:vt.lw,BareFontInfo:Bn._8,FontInfo:Bn.YJ,TextModelResolvedOptions:Vi.X2,FindMatch:Vi.Dg,ApplyUpdateResult:vt.hZ,EditorZoom:bn.D,createMultiFileDiffEditor:u_,EditorType:zn._,EditorOptions:vt.qB}}(),pr.languages=function Hd(){return{register:x_,getLanguages:$h,onLanguage:Wd,onLanguageEncountered:Qh,getEncodedLanguageId:Gh,setLanguageConfiguration:Yh,setColorMap:Ru,registerTokensProviderFactory:Oc,setTokensProvider:Rc,setMonarchTokensProvider:I_,registerReferenceProvider:$g,registerRenameProvider:A_,registerNewSymbolNameProvider:T_,registerCompletionItemProvider:N_,registerSignatureHelpProvider:Xh,registerHoverProvider:Gg,registerDocumentSymbolProvider:k_,registerDocumentHighlightProvider:P_,registerLinkedEditingRangeProvider:Nc,registerDefinitionProvider:Qg,registerImplementationProvider:Jh,registerTypeDefinitionProvider:O_,registerCodeLensProvider:HC,registerCodeActionProvider:UC,registerDocumentFormattingEditProvider:Fc,registerDocumentRangeFormattingEditProvider:R_,registerOnTypeFormattingEditProvider:Nu,registerLinkProvider:qh,registerColorProvider:Yg,registerFoldingRangeProvider:ef,registerDeclarationProvider:Fu,registerSelectionRangeProvider:Bu,registerDocumentSemanticTokensProvider:Zg,registerDocumentRangeSemanticTokensProvider:Xg,registerInlineCompletionsProvider:Jg,registerInlineEditProvider:Wu,registerInlayHintsProvider:tf,DocumentHighlightKind:Pn.Kb,CompletionItemKind:Pn.Io,CompletionItemTag:Pn.QP,CompletionItemInsertTextRule:Pn._E,SymbolKind:Pn.v0,SymbolTag:Pn.H_,IndentAction:Pn.l,CompletionTriggerKind:Pn.t7,SignatureHelpTriggerKind:Pn.WA,InlayHintKind:Pn.r4,InlineCompletionTriggerKind:Pn.qw,InlineEditTriggerKind:Pn.sm,CodeActionTriggerType:Pn.ok,NewSymbolNameTag:Pn.OV,NewSymbolNameTriggerKind:Pn.YT,PartialAcceptTriggerKind:Pn.Ah,HoverVerbosityAction:Pn.M$,FoldingRangeKind:Zn.lO,SelectedSuggestionInfo:Zn.GE}}();const B_=pr.CancellationTokenSource,Bc=pr.Emitter,Vu=pr.KeyCode,nf=pr.KeyMod,of=pr.Position,sf=pr.Range,rf=pr.Selection,qg=pr.SelectionDirection,em=pr.MarkerSeverity,tm=pr.MarkerTag,nm=pr.Uri,im=pr.Token,ll=pr.editor,Ud=pr.languages,af=globalThis.MonacoEnvironment;(af?.globalAPI||"function"==typeof define&&t.amdO)&&(globalThis.monaco=pr),typeof globalThis.require<"u"&&"function"==typeof globalThis.require.config&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]}),t(92085),t(46461),t(59119),t(44231),t(47159),t(43831),t(87903),t(15957),t(91163),t(34407),t(82767),t(96775),t(4255),t(78011),t(75655),t(12189),t(88807),t(74895),t(38711),t(72551),t(24813),t(89849),t(87943),t(28961),t(67847),t(66599),t(55071),t(74359),t(15301),t(30343),t(6576),t(48003),t(80927),t(20615),t(28619),t(34373),t(443),t(67729),t(96055),t(99287),t(23623),t(82443),t(36579),t(64983),t(33921),t(99863),t(97063),t(16023),t(34471),t(7815),t(72823),t(17619),t(11079),t(69751),t(83499),t(69329),t(88199),t(65491),t(94123),t(94663),t(99719),t(68207),t(14565),t(95653),t(1335),t(72807),t(33395),t(37213),t(40331),t(10759),t(73729),t(46855),t(77179),t(27175),t(71303),t(16079),t(76167),t(11463),t(63559),t(34789),t(57571),t(67281),t(73143),t(96335),t(76419),self.MonacoEnvironment=function(We){return{globalAPI:!1,getWorkerUrl:function(y,V){var he=t.p,pe=(he?function c(y){return y.replace(/\/$/,"")}(he)+"/":"")+We[V];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(pe)){var Oe=String(window.location),Ge=Oe.substr(0,Oe.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(pe.substring(0,Ge.length)!==Ge){/^(\/\/)/.test(pe)&&(pe=window.location.protocol+pe);var jt=new Blob(["/*"+V+'*/importScripts("'+pe+'");'],{type:"application/javascript"});return URL.createObjectURL(jt)}}return pe}}}({editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",json:"json.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"});const bb=a},53378:(tt,xe,t)=>{t.d(xe,{Dy:()=>w,H8:()=>P,Qu:()=>r,Tc:()=>b,c8:()=>v,gm:()=>S,m0:()=>f,nr:()=>D,pR:()=>x});var a=t(63096);class F{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(g){var p;return null!==(p=this.mapWindowIdToZoomFactor.get(this.getWindowId(g)))&&void 0!==p?p:1}getWindowId(g){return g.vscodeWindowId}}function w(l,g,p){"string"==typeof g&&(g=l.matchMedia(g)),g.addEventListener("change",p)}function x(l){return F.INSTANCE.getZoomFactor(l)}F.INSTANCE=new F;const C=navigator.userAgent,S=C.indexOf("Firefox")>=0,b=C.indexOf("AppleWebKit")>=0,P=C.indexOf("Chrome")>=0,D=!P&&C.indexOf("Safari")>=0,v=!P&&!D&&b,f=(C.indexOf("Electron/"),C.indexOf("Android")>=0);let d=!1;if("function"==typeof a.G.matchMedia){const l=a.G.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),g=a.G.matchMedia("(display-mode: fullscreen)");d=l.matches,w(a.G,l,({matches:p})=>{d&&g.matches||(d=p)})}function r(){return d}},32062:(tt,xe,t)=>{t.d(xe,{e:()=>x});var a=t(53378),F=t(63096),w=t(21828);const x={clipboard:{writeText:w.ib||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:w.ib||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:w.ib||a.Qu()?0:navigator.keyboard||a.nr?1:2,touch:"ontouchstart"in F.G||navigator.maxTouchPoints>0,pointerEvents:F.G.PointerEvent&&("ontouchstart"in F.G||navigator.maxTouchPoints>0)}},77580:(tt,xe,t)=>{t.d(xe,{t:()=>F});const F={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:t(12323).K.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}},91874:(tt,xe,t)=>{t.d(xe,{$:()=>an,BC:()=>Ke,BK:()=>M,Be:()=>K,Bx:()=>Bt,CE:()=>Bn,Cl:()=>it,Di:()=>Wi,Ej:()=>ye,Er:()=>Ht,Fv:()=>H,H4:()=>ne,Hs:()=>ft,Ij:()=>z,Iv:()=>O,L9:()=>ae,Ln:()=>wt,OK:()=>ue,Oq:()=>G,PG:()=>Q,Pl:()=>st,Q2:()=>T,QX:()=>we,TT:()=>yi,Tf:()=>Zn,Tr:()=>Se,U2:()=>De,U3:()=>oe,WU:()=>Nt,Wt:()=>ot,X7:()=>le,XD:()=>Ve,Xc:()=>q,ZF:()=>A,a:()=>be,a4:()=>hi,b2:()=>U,bo:()=>lt,bq:()=>me,cL:()=>_e,fg:()=>ge,fs:()=>Ut,fz:()=>Ce,gI:()=>wi,h:()=>ct,i0:()=>zn,jD:()=>tn,jG:()=>He,jh:()=>Fe,ko:()=>Z,kx:()=>Ft,li:()=>dt,mU:()=>ce,nR:()=>Ee,nY:()=>kt,pN:()=>Pn,q3:()=>N,sb:()=>mt,sd:()=>rt,tG:()=>de,vT:()=>bn,w5:()=>Ye,w_:()=>L,wk:()=>ke,y6:()=>Ie,yt:()=>ei,zK:()=>St,zk:()=>l});var a=t(53378),F=t(32062),w=t(92873),x=t(18163),C=t(86671),S=t(25680),b=t(5643),P=t(75489),D=t(99031),v=t(75109),_=t(21828),f=t(55763),d=t(63096);const{getWindow:l,getWindows:p,getWindowsCount:m,getWindowId:T,getWindowById:A,onDidRegisterWindow:O,onWillUnregisterWindow:N,onDidUnregisterWindow:H}=function(){const ut=new Map;(0,d.y)(d.G,1);const Ct={window:d.G,disposables:new D.Cm};ut.set(d.G.vscodeWindowId,Ct);const Jt=new b.vl,un=new b.vl,Wn=new b.vl;return{onDidRegisterWindow:Jt.event,onWillUnregisterWindow:Wn.event,onDidUnregisterWindow:un.event,registerWindow(jn){if(ut.has(jn.vscodeWindowId))return D.jG.None;const Nn=new D.Cm,gn={window:jn,disposables:Nn.add(new D.Cm)};return ut.set(jn.vscodeWindowId,gn),Nn.add((0,D.s)(()=>{ut.delete(jn.vscodeWindowId),un.fire(jn)})),Nn.add(Z(jn,Bt.BEFORE_UNLOAD,()=>{Wn.fire(jn)})),Jt.fire(gn),Nn},getWindows:()=>ut.values(),getWindowsCount:()=>ut.size,getWindowId:jn=>jn.vscodeWindowId,hasWindow:jn=>ut.has(jn),getWindowById:function Kn(jn,Nn){return("number"==typeof jn?ut.get(jn):void 0)??(Nn?Ct:void 0)},getWindow(jn){var Nn;const gn=jn;if(null!==(Nn=gn?.ownerDocument)&&void 0!==Nn&&Nn.defaultView)return gn.ownerDocument.defaultView.window;const Wt=jn;return Wt?.view?Wt.view.window:d.G},getDocument:jn=>l(jn).document}}();function L(ut){for(;ut.firstChild;)ut.firstChild.remove()}class j{constructor(Ct,Jt,un,Wn){this._node=Ct,this._type=Jt,this._handler=un,this._options=Wn||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function Z(ut,Ct,Jt,un){return new j(ut,Ct,Jt,un)}function te(ut,Ct){return function(Jt){return Ct(new x.P(ut,Jt))}}const U=function(Ct,Jt,un,Wn){let Kn=un;return"click"===Jt||"mousedown"===Jt||"contextmenu"===Jt?Kn=te(l(Ct),un):("keydown"===Jt||"keypress"===Jt||"keyup"===Jt)&&(Kn=function X(ut){return function(Ct){return ut(new w.Z(Ct))}}(un)),Z(Ct,Jt,Kn,Wn)},q=function(Ct,Jt,un){return function W(ut,Ct,Jt){return Z(ut,_.un&&F.e.pointerEvents?Bt.POINTER_DOWN:Bt.MOUSE_DOWN,Ct,Jt)}(Ct,te(l(Ct),Jt),un)};function oe(ut,Ct,Jt){return(0,C.b7)(ut,Ct,Jt)}class z extends C.A0{constructor(Ct,Jt){super(Ct,Jt)}}let G,Q;class K extends C.vb{constructor(Ct){super(),this.defaultTarget=Ct&&l(Ct)}cancelAndSet(Ct,Jt,un){return super.cancelAndSet(Ct,Jt,un??this.defaultTarget)}}class ie{constructor(Ct,Jt=0){this._runner=Ct,this.priority=Jt,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Ct){(0,S.dz)(Ct)}}static sort(Ct,Jt){return Jt.priority-Ct.priority}}function ae(ut){return l(ut).getComputedStyle(ut,null)}function de(ut,Ct){const Jt=l(ut),un=Jt.document;if(ut!==un.body)return new ge(ut.clientWidth,ut.clientHeight);if(_.un&&Jt?.visualViewport)return new ge(Jt.visualViewport.width,Jt.visualViewport.height);if(Jt?.innerWidth&&Jt.innerHeight)return new ge(Jt.innerWidth,Jt.innerHeight);if(un.body&&un.body.clientWidth&&un.body.clientHeight)return new ge(un.body.clientWidth,un.body.clientHeight);if(un.documentElement&&un.documentElement.clientWidth&&un.documentElement.clientHeight)return new ge(un.documentElement.clientWidth,un.documentElement.clientHeight);if(Ct)return de(Ct);throw new Error("Unable to figure out browser width and height")}!function(){const ut=new Map,Ct=new Map,Jt=new Map,un=new Map;Q=(Kn,jn,Nn=0)=>{const gn=T(Kn),Wt=new ie(jn,Nn);let mn=ut.get(gn);return mn||(mn=[],ut.set(gn,mn)),mn.push(Wt),Jt.get(gn)||(Jt.set(gn,!0),Kn.requestAnimationFrame(()=>(Kn=>{var jn;Jt.set(Kn,!1);const Nn=null!==(jn=ut.get(Kn))&&void 0!==jn?jn:[];for(Ct.set(Kn,Nn),ut.set(Kn,[]),un.set(Kn,!0);Nn.length>0;)Nn.sort(ie.sort),Nn.shift().execute();un.set(Kn,!1)})(gn))),Wt},G=(Kn,jn,Nn)=>{const gn=T(Kn);if(un.get(gn)){const Wt=new ie(jn,Nn);let mn=Ct.get(gn);return mn||(mn=[],Ct.set(gn,mn)),mn.push(Wt),Wt}return Q(Kn,jn,Nn)}}();class se{static convertToPixels(Ct,Jt){return parseFloat(Jt)||0}static getDimension(Ct,Jt,un){const Wn=ae(Ct),Kn=Wn?Wn.getPropertyValue(Jt):"0";return se.convertToPixels(Ct,Kn)}static getBorderLeftWidth(Ct){return se.getDimension(Ct,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Ct){return se.getDimension(Ct,"border-right-width","borderRightWidth")}static getBorderTopWidth(Ct){return se.getDimension(Ct,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Ct){return se.getDimension(Ct,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Ct){return se.getDimension(Ct,"padding-left","paddingLeft")}static getPaddingRight(Ct){return se.getDimension(Ct,"padding-right","paddingRight")}static getPaddingTop(Ct){return se.getDimension(Ct,"padding-top","paddingTop")}static getPaddingBottom(Ct){return se.getDimension(Ct,"padding-bottom","paddingBottom")}static getMarginLeft(Ct){return se.getDimension(Ct,"margin-left","marginLeft")}static getMarginTop(Ct){return se.getDimension(Ct,"margin-top","marginTop")}static getMarginRight(Ct){return se.getDimension(Ct,"margin-right","marginRight")}static getMarginBottom(Ct){return se.getDimension(Ct,"margin-bottom","marginBottom")}}class ge{constructor(Ct,Jt){this.width=Ct,this.height=Jt}with(Ct=this.width,Jt=this.height){return Ct!==this.width||Jt!==this.height?new ge(Ct,Jt):this}static is(Ct){return"object"==typeof Ct&&"number"==typeof Ct.height&&"number"==typeof Ct.width}static lift(Ct){return Ct instanceof ge?Ct:new ge(Ct.width,Ct.height)}static equals(Ct,Jt){return Ct===Jt||!(!Ct||!Jt)&&Ct.width===Jt.width&&Ct.height===Jt.height}}function _e(ut){let Ct=ut.offsetParent,Jt=ut.offsetTop,un=ut.offsetLeft;for(;null!==(ut=ut.parentNode)&&ut!==ut.ownerDocument.body&&ut!==ut.ownerDocument.documentElement;){Jt-=ut.scrollTop;const Wn=$e(ut)?null:ae(ut);Wn&&(un-="rtl"!==Wn.direction?ut.scrollLeft:-ut.scrollLeft),ut===Ct&&(un+=se.getBorderLeftWidth(ut),Jt+=se.getBorderTopWidth(ut),Jt+=ut.offsetTop,un+=ut.offsetLeft,Ct=ut.offsetParent)}return{left:un,top:Jt}}function ye(ut,Ct,Jt){"number"==typeof Ct&&(ut.style.width=`${Ct}px`),"number"==typeof Jt&&(ut.style.height=`${Jt}px`)}function M(ut){const Ct=ut.getBoundingClientRect(),Jt=l(ut);return{left:Ct.left+Jt.scrollX,top:Ct.top+Jt.scrollY,width:Ct.width,height:Ct.height}}function ce(ut){let Ct=ut,Jt=1;do{const un=ae(Ct).zoom;null!=un&&"1"!==un&&(Jt*=un),Ct=Ct.parentElement}while(null!==Ct&&Ct!==Ct.ownerDocument.documentElement);return Jt}function Se(ut){const Ct=se.getMarginLeft(ut)+se.getMarginRight(ut);return ut.offsetWidth+Ct}function Ie(ut){const Ct=se.getBorderLeftWidth(ut)+se.getBorderRightWidth(ut),Jt=se.getPaddingLeft(ut)+se.getPaddingRight(ut);return ut.offsetWidth-Ct-Jt}function ne(ut){const Ct=se.getBorderTopWidth(ut)+se.getBorderBottomWidth(ut),Jt=se.getPaddingTop(ut)+se.getPaddingBottom(ut);return ut.offsetHeight-Ct-Jt}function ue(ut){const Ct=se.getMarginTop(ut)+se.getMarginBottom(ut);return ut.offsetHeight+Ct}function we(ut,Ct){return!!Ct?.contains(ut)}function Ve(ut,Ct,Jt){return!!function Me(ut,Ct,Jt){for(;ut&&ut.nodeType===ut.ELEMENT_NODE;){if(ut.classList.contains(Ct))return ut;if(Jt)if("string"==typeof Jt){if(ut.classList.contains(Jt))return null}else if(ut===Jt)return null;ut=ut.parentNode}return null}(ut,Ct,Jt)}function $e(ut){return ut&&!!ut.host&&!!ut.mode}function it(ut){return!!He(ut)}function He(ut){for(var Ct;ut.parentNode;){if(ut===(null===(Ct=ut.ownerDocument)||void 0===Ct?void 0:Ct.body))return null;ut=ut.parentNode}return $e(ut)?ut:null}function me(){let ut=be().activeElement;for(;ut?.shadowRoot;)ut=ut.shadowRoot.activeElement;return ut}function le(ut){return me()===ut}function Ee(ut){return we(me(),ut)}function be(){var ut;return m()<=1?d.G.document:null!==(ut=Array.from(p()).map(({window:Jt})=>Jt.document).find(Jt=>Jt.hasFocus()))&&void 0!==ut?ut:d.G.document}function Ce(){var ut,Ct;return null!==(Ct=null===(ut=be().defaultView)||void 0===ut?void 0:ut.window)&&void 0!==Ct?Ct:d.G}ge.None=new ge(0,0);const Ne=new Map;function Fe(){return new qe}class qe{constructor(){this._currentCssStyle="",this._styleSheet=void 0}setStyle(Ct){Ct!==this._currentCssStyle&&(this._currentCssStyle=Ct,this._styleSheet?this._styleSheet.innerText=Ct:this._styleSheet=dt(d.G.document.head,Jt=>Jt.innerText=Ct))}dispose(){this._styleSheet&&(this._styleSheet.remove(),this._styleSheet=void 0)}}function dt(ut=d.G.document.head,Ct,Jt){const un=document.createElement("style");if(un.type="text/css",un.media="screen",Ct?.(un),ut.appendChild(un),Jt&&Jt.add((0,D.s)(()=>ut.removeChild(un))),ut===d.G.document.head){const Wn=new Set;Ne.set(un,Wn);for(const{window:Kn,disposables:jn}of p()){if(Kn===d.G)continue;const Nn=jn.add(vt(un,Wn,Kn));Jt?.add(Nn)}}return un}function vt(ut,Ct,Jt){var un,Wn;const Kn=new D.Cm,jn=ut.cloneNode(!0);Jt.document.head.appendChild(jn),Kn.add((0,D.s)(()=>Jt.document.head.removeChild(jn)));for(const Nn of Je(ut))null===(un=jn.sheet)||void 0===un||un.insertRule(Nn.cssText,null===(Wn=jn.sheet)||void 0===Wn?void 0:Wn.cssRules.length);return Kn.add(fn.observe(ut,Kn,{childList:!0})(()=>{jn.textContent=ut.textContent})),Ct.add(jn),Kn.add((0,D.s)(()=>Ct.delete(jn))),Kn}const fn=new class{constructor(){this.mutationObservers=new Map}observe(ut,Ct,Jt){let un=this.mutationObservers.get(ut);un||(un=new Map,this.mutationObservers.set(ut,un));const Wn=(0,f.tW)(Jt);let Kn=un.get(Wn);if(Kn)Kn.users+=1;else{const jn=new b.vl,Nn=new MutationObserver(Wt=>jn.fire(Wt));Nn.observe(ut,Jt);const gn=Kn={users:1,observer:Nn,onDidMutate:jn.event};Ct.add((0,D.s)(()=>{gn.users-=1,0===gn.users&&(jn.dispose(),Nn.disconnect(),un?.delete(Wn),0===un?.size&&this.mutationObservers.delete(ut))})),un.set(Wn,Kn)}return Kn.onDidMutate}};let on=null;function ht(){return on||(on=dt()),on}function Je(ut){var Ct,Jt;return null!==(Ct=ut?.sheet)&&void 0!==Ct&&Ct.rules?ut.sheet.rules:null!==(Jt=ut?.sheet)&&void 0!==Jt&&Jt.cssRules?ut.sheet.cssRules:[]}function ot(ut,Ct,Jt=ht()){var un,Wn;if(Jt&&Ct){null===(un=Jt.sheet)||void 0===un||un.insertRule(`${ut} {${Ct}}`,0);for(const Kn of null!==(Wn=Ne.get(Jt))&&void 0!==Wn?Wn:[])ot(ut,Ct,Kn)}}function De(ut,Ct=ht()){var Jt,un;if(!Ct)return;const Wn=Je(Ct),Kn=[];for(let jn=0;jn<Wn.length;jn++){const Nn=Wn[jn];Qe(Nn)&&-1!==Nn.selectorText.indexOf(ut)&&Kn.push(jn)}for(let jn=Kn.length-1;jn>=0;jn--)null===(Jt=Ct.sheet)||void 0===Jt||Jt.deleteRule(Kn[jn]);for(const jn of null!==(un=Ne.get(Ct))&&void 0!==un?un:[])De(ut,jn)}function Qe(ut){return"string"==typeof ut.selectorText}function mt(ut){return ut instanceof HTMLElement||ut instanceof l(ut).HTMLElement}function kt(ut){return ut instanceof HTMLAnchorElement||ut instanceof l(ut).HTMLAnchorElement}function Ht(ut){return ut instanceof MouseEvent||ut instanceof l(ut).MouseEvent}function Ft(ut){return ut instanceof KeyboardEvent||ut instanceof l(ut).KeyboardEvent}const Bt={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:a.Tc?"webkitAnimationStart":"animationstart",ANIMATION_END:a.Tc?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:a.Tc?"webkitAnimationIteration":"animationiteration"};function rt(ut){return!(!ut||"function"!=typeof ut.preventDefault||"function"!=typeof ut.stopPropagation)}const Ut={stop:(ut,Ct)=>(ut.preventDefault(),Ct&&ut.stopPropagation(),ut)};function St(ut){const Ct=[];for(let Jt=0;ut&&ut.nodeType===ut.ELEMENT_NODE;Jt++)Ct[Jt]=ut.scrollTop,ut=ut.parentNode;return Ct}function ke(ut,Ct){for(let Jt=0;ut&&ut.nodeType===ut.ELEMENT_NODE;Jt++)ut.scrollTop!==Ct[Jt]&&(ut.scrollTop=Ct[Jt]),ut=ut.parentNode}class Ze extends D.jG{static hasFocusWithin(Ct){if(mt(Ct)){const Jt=He(Ct);return we(Jt?Jt.activeElement:Ct.ownerDocument.activeElement,Ct)}return we(Ct.document.activeElement,Ct.document)}constructor(Ct){super(),this._onDidFocus=this._register(new b.vl),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new b.vl),this.onDidBlur=this._onDidBlur.event;let Jt=Ze.hasFocusWithin(Ct),un=!1;const Wn=()=>{un=!1,Jt||(Jt=!0,this._onDidFocus.fire())},Kn=()=>{Jt&&(un=!0,(mt(Ct)?l(Ct):Ct).setTimeout(()=>{un&&(un=!1,Jt=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Ze.hasFocusWithin(Ct)!==Jt&&(Jt?Kn():Wn())},this._register(Z(Ct,Bt.FOCUS,Wn,!0)),this._register(Z(Ct,Bt.BLUR,Kn,!0)),mt(Ct)&&(this._register(Z(Ct,Bt.FOCUS_IN,()=>this._refreshStateHandler())),this._register(Z(Ct,Bt.FOCUS_OUT,()=>this._refreshStateHandler())))}}function Ye(ut){return new Ze(ut)}function st(ut,Ct){return ut.after(Ct),Ct}function Ke(ut,...Ct){if(ut.append(...Ct),1===Ct.length&&"string"!=typeof Ct[0])return Ct[0]}function ft(ut,Ct){return ut.insertBefore(Ct,ut.firstChild),Ct}function wt(ut,...Ct){ut.innerText="",Ke(ut,...Ct)}const qt=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Yt=function(ut){return ut.HTML="http://www.w3.org/1999/xhtml",ut.SVG="http://www.w3.org/2000/svg",ut}(Yt||{});function en(ut,Ct,Jt,...un){const Wn=qt.exec(Ct);if(!Wn)throw new Error("Bad use of emmet");const Kn=Wn[1]||"div";let jn;return jn=ut!==Yt.HTML?document.createElementNS(ut,Kn):document.createElement(Kn),Wn[3]&&(jn.id=Wn[3]),Wn[4]&&(jn.className=Wn[4].replace(/\./g," ").trim()),Jt&&Object.entries(Jt).forEach(([Nn,gn])=>{typeof gn>"u"||(/^on\w+$/.test(Nn)?jn[Nn]=gn:"selected"===Nn?gn&&jn.setAttribute(Nn,"true"):jn.setAttribute(Nn,gn))}),jn.append(...un),jn}function an(ut,Ct,...Jt){return en(Yt.HTML,ut,Ct,...Jt)}function lt(ut,...Ct){ut?Nt(...Ct):tn(...Ct)}function Nt(...ut){for(const Ct of ut)Ct.style.display="",Ct.removeAttribute("aria-hidden")}function tn(...ut){for(const Ct of ut)Ct.style.display="none",Ct.setAttribute("aria-hidden","true")}function bn(ut,Ct){return Math.max(1,Math.floor(ut.devicePixelRatio*Ct))/ut.devicePixelRatio}function Bn(ut){d.G.open(ut,"_blank","noopener")}function zn(ut,Ct){const Jt=()=>{Ct(),un=Q(ut,Jt)};let un=Q(ut,Jt);return(0,D.s)(()=>un.dispose())}function Zn(ut){return ut?`url('${v.zl.uriToBrowserUri(ut).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function ei(ut){return`'${ut.replace(/'/g,"%27")}'`}function wi(ut,Ct){if(void 0!==ut){const Jt=ut.match(/^\s*var\((.+)\)$/);if(Jt){const un=Jt[1].split(",",2);return 2===un.length&&(Ct=wi(un[1].trim(),Ct)),`var(${un[0]}, ${Ct})`}return ut}return Ct}function hi(ut,Ct=!1){const Jt=document.createElement("a");return P.$w("afterSanitizeAttributes",un=>{for(const Wn of["href","src"])if(un.hasAttribute(Wn)){const Kn=un.getAttribute(Wn);if("href"===Wn&&Kn.startsWith("#"))continue;if(Jt.href=Kn,!ut.includes(Jt.protocol.replace(/:$/,""))){if(Ct&&"src"===Wn&&Jt.href.startsWith("data:"))continue;un.removeAttribute(Wn)}}}),(0,D.s)(()=>{P.SV("afterSanitizeAttributes")})}an.SVG=function(ut,Ct,...Jt){return en(Yt.SVG,ut,Ct,...Jt)},v.Ez.setPreferredWebSchema(/^https:/.test(d.G.location.href)?"https":"http");const yi=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class Wi extends b.vl{constructor(){super(),this._subscriptions=new D.Cm,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(b.Jh.runAndSubscribe(O,({window:Ct,disposables:Jt})=>this.registerListeners(Ct,Jt),{window:d.G,disposables:this._subscriptions}))}registerListeners(Ct,Jt){Jt.add(Z(Ct,"keydown",un=>{if(un.defaultPrevented)return;const Wn=new w.Z(un);if(6!==Wn.keyCode||!un.repeat){if(un.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(un.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(un.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(un.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===Wn.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=un.altKey,this._keyStatus.ctrlKey=un.ctrlKey,this._keyStatus.metaKey=un.metaKey,this._keyStatus.shiftKey=un.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=un,this.fire(this._keyStatus))}},!0)),Jt.add(Z(Ct,"keyup",un=>{un.defaultPrevented||(this._keyStatus.lastKeyReleased=!un.altKey&&this._keyStatus.altKey?"alt":!un.ctrlKey&&this._keyStatus.ctrlKey?"ctrl":!un.metaKey&&this._keyStatus.metaKey?"meta":!un.shiftKey&&this._keyStatus.shiftKey?"shift":void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=un.altKey,this._keyStatus.ctrlKey=un.ctrlKey,this._keyStatus.metaKey=un.metaKey,this._keyStatus.shiftKey=un.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=un,this.fire(this._keyStatus)))},!0)),Jt.add(Z(Ct.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),Jt.add(Z(Ct.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),Jt.add(Z(Ct.document.body,"mousemove",un=>{un.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),Jt.add(Z(Ct,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Wi.instance||(Wi.instance=new Wi),Wi.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class Pn extends D.jG{constructor(Ct,Jt){super(),this.element=Ct,this.callbacks=Jt,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(Z(this.element,Bt.DRAG_START,Ct=>{var Jt,un;null===(un=(Jt=this.callbacks).onDragStart)||void 0===un||un.call(Jt,Ct)})),this.callbacks.onDrag&&this._register(Z(this.element,Bt.DRAG,Ct=>{var Jt,un;null===(un=(Jt=this.callbacks).onDrag)||void 0===un||un.call(Jt,Ct)})),this._register(Z(this.element,Bt.DRAG_ENTER,Ct=>{var Jt,un;this.counter++,this.dragStartTime=Ct.timeStamp,null===(un=(Jt=this.callbacks).onDragEnter)||void 0===un||un.call(Jt,Ct)})),this._register(Z(this.element,Bt.DRAG_OVER,Ct=>{var Jt,un;Ct.preventDefault(),null===(un=(Jt=this.callbacks).onDragOver)||void 0===un||un.call(Jt,Ct,Ct.timeStamp-this.dragStartTime)})),this._register(Z(this.element,Bt.DRAG_LEAVE,Ct=>{var Jt,un;this.counter--,0===this.counter&&(this.dragStartTime=0,null===(un=(Jt=this.callbacks).onDragLeave)||void 0===un||un.call(Jt,Ct))})),this._register(Z(this.element,Bt.DRAG_END,Ct=>{var Jt,un;this.counter=0,this.dragStartTime=0,null===(un=(Jt=this.callbacks).onDragEnd)||void 0===un||un.call(Jt,Ct)})),this._register(Z(this.element,Bt.DROP,Ct=>{var Jt,un;this.counter=0,this.dragStartTime=0,null===(un=(Jt=this.callbacks).onDrop)||void 0===un||un.call(Jt,Ct)}))}}const pt=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function ct(ut,...Ct){let Jt,un;Array.isArray(Ct[0])?(Jt={},un=Ct[0]):(Jt=Ct[0]||{},un=Ct[1]);const Wn=pt.exec(ut);if(!Wn||!Wn.groups)throw new Error("Bad use of h");const jn=document.createElement(Wn.groups.tag||"div");Wn.groups.id&&(jn.id=Wn.groups.id);const Nn=[];if(Wn.groups.class)for(const Wt of Wn.groups.class.split("."))""!==Wt&&Nn.push(Wt);if(void 0!==Jt.className)for(const Wt of Jt.className.split("."))""!==Wt&&Nn.push(Wt);Nn.length>0&&(jn.className=Nn.join(" "));const gn={};if(Wn.groups.name&&(gn[Wn.groups.name]=jn),un)for(const Wt of un)mt(Wt)?jn.appendChild(Wt):"string"==typeof Wt?jn.append(Wt):"root"in Wt&&(Object.assign(gn,Wt),jn.appendChild(Wt.root));for(const[Wt,mn]of Object.entries(Jt))if("className"!==Wt)if("style"===Wt)for(const[En,On]of Object.entries(mn))jn.style.setProperty(Tt(En),"number"==typeof On?On+"px":""+On);else"tabIndex"===Wt?jn.tabIndex=mn:jn.setAttribute(Tt(Wt),mn.toString());return gn.root=jn,gn}function Tt(ut){return ut.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},75489:(tt,xe,t)=>{t.d(xe,{$w:()=>me,SV:()=>le,aj:()=>Ve});const{entries:a,setPrototypeOf:F,isFrozen:w,getPrototypeOf:x,getOwnPropertyDescriptor:C}=Object;let{freeze:S,seal:b,create:P}=Object,{apply:D,construct:v}=typeof Reflect<"u"&&Reflect;D||(D=function(Ne,Fe,qe){return Ne.apply(Fe,qe)}),S||(S=function(Ne){return Ne}),b||(b=function(Ne){return Ne}),v||(v=function(Ne,Fe){return new Ne(...Fe)});const _=O(Array.prototype.forEach),f=O(Array.prototype.pop),d=O(Array.prototype.push),r=O(String.prototype.toLowerCase),l=O(String.prototype.toString),g=O(String.prototype.match),p=O(String.prototype.replace),m=O(String.prototype.indexOf),T=O(String.prototype.trim),A=O(RegExp.prototype.test),k=function N(Ce){return function(){for(var Ne=arguments.length,Fe=new Array(Ne),qe=0;qe<Ne;qe++)Fe[qe]=arguments[qe];return v(Ce,Fe)}}(TypeError);function O(Ce){return function(Ne){for(var Fe=arguments.length,qe=new Array(Fe>1?Fe-1:0),dt=1;dt<Fe;dt++)qe[dt-1]=arguments[dt];return D(Ce,Ne,qe)}}function H(Ce,Ne,Fe){var qe;Fe=null!==(qe=Fe)&&void 0!==qe?qe:r,F&&F(Ce,null);let dt=Ne.length;for(;dt--;){let vt=Ne[dt];if("string"==typeof vt){const fn=Fe(vt);fn!==vt&&(w(Ne)||(Ne[dt]=fn),vt=fn)}Ce[vt]=!0}return Ce}function L(Ce){const Ne=P(null);for(const[Fe,qe]of a(Ce))Ne[Fe]=qe;return Ne}function j(Ce,Ne){for(;null!==Ce;){const qe=C(Ce,Ne);if(qe){if(qe.get)return O(qe.get);if("function"==typeof qe.value)return O(qe.value)}Ce=x(Ce)}return function Fe(qe){return console.warn("fallback value for",qe),null}}const Z=S(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),te=S(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),X=S(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),U=S(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),q=S(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),R=S(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),W=S(["#text"]),Y=S(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),oe=S(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),z=S(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),G=S(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Q=b(/\{\{[\w\W]*|[\w\W]*\}\}/gm),K=b(/<%[\w\W]*|[\w\W]*%>/gm),ie=b(/\${[\w\W]*}/gm),ae=b(/^data-[\-\w.\u00B7-\uFFFF]/),de=b(/^aria-[\-\w]+$/),se=b(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ge=b(/^(?:\w+script|data):/i),_e=b(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ye=b(/^html$/i);var M=Object.freeze({__proto__:null,MUSTACHE_EXPR:Q,ERB_EXPR:K,TMPLIT_EXPR:ie,DATA_ATTR:ae,ARIA_ATTR:de,IS_ALLOWED_URI:se,IS_SCRIPT_OR_DATA:ge,ATTR_WHITESPACE:_e,DOCTYPE_NAME:ye}),ne=function Ie(){let Ce=arguments.length>0&&void 0!==arguments[0]?arguments[0]:typeof window>"u"?null:window;const Ne=pn=>Ie(pn);if(Ne.version="3.0.5",Ne.removed=[],!Ce||!Ce.document||9!==Ce.document.nodeType)return Ne.isSupported=!1,Ne;const Fe=Ce.document,qe=Fe.currentScript;let{document:dt}=Ce;const{DocumentFragment:vt,HTMLTemplateElement:fn,Node:on,Element:ht,NodeFilter:Je,NamedNodeMap:ot=Ce.NamedNodeMap||Ce.MozNamedAttrMap,HTMLFormElement:De,DOMParser:Qe,trustedTypes:mt}=Ce,kt=ht.prototype,Ht=j(kt,"cloneNode"),Ft=j(kt,"nextSibling"),Bt=j(kt,"childNodes"),rt=j(kt,"parentNode");if("function"==typeof fn){const pn=dt.createElement("template");pn.content&&pn.content.ownerDocument&&(dt=pn.content.ownerDocument)}let Ut,St="";const{implementation:ke,createNodeIterator:Ze,createDocumentFragment:Ye,getElementsByTagName:st}=dt,{importNode:Ke}=Fe;let ft={};Ne.isSupported="function"==typeof a&&"function"==typeof rt&&ke&&void 0!==ke.createHTMLDocument;const{MUSTACHE_EXPR:wt,ERB_EXPR:qt,TMPLIT_EXPR:Yt,DATA_ATTR:en,ARIA_ATTR:an,IS_SCRIPT_OR_DATA:lt,ATTR_WHITESPACE:Nt}=M;let{IS_ALLOWED_URI:tn}=M,bn=null;const Bn=H({},[...Z,...te,...X,...q,...W]);let zn=null;const Zn=H({},[...Y,...oe,...z,...G]);let ei=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),wi=null,hi=null,yi=!0,Vi=!0,Wi=!1,Pn=!0,pt=!1,ct=!1,Tt=!1,ut=!1,Ct=!1,Jt=!1,un=!1,Wn=!0,Kn=!1,Nn=!0,gn=!1,Wt={},mn=null;const En=H({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let On=null;const Rn=H({},["audio","video","img","source","image","track"]);let Qn=null;const fi=H({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Mn="http://www.w3.org/1998/Math/MathML",Sn="http://www.w3.org/2000/svg",Xt="http://www.w3.org/1999/xhtml";let je=Xt,at=!1,Mt=null;const Et=H({},[Mn,Sn,Xt],l);let Vt;const zt=["application/xhtml+xml","text/html"];let kn,oi=null;const mi=dt.createElement("form"),gi=function(Zt){return Zt instanceof RegExp||Zt instanceof Function},ai=function(Zt){if(!oi||oi!==Zt){if((!Zt||"object"!=typeof Zt)&&(Zt={}),Zt=L(Zt),Vt=Vt=-1===zt.indexOf(Zt.PARSER_MEDIA_TYPE)?"text/html":Zt.PARSER_MEDIA_TYPE,kn="application/xhtml+xml"===Vt?l:r,bn="ALLOWED_TAGS"in Zt?H({},Zt.ALLOWED_TAGS,kn):Bn,zn="ALLOWED_ATTR"in Zt?H({},Zt.ALLOWED_ATTR,kn):Zn,Mt="ALLOWED_NAMESPACES"in Zt?H({},Zt.ALLOWED_NAMESPACES,l):Et,Qn="ADD_URI_SAFE_ATTR"in Zt?H(L(fi),Zt.ADD_URI_SAFE_ATTR,kn):fi,On="ADD_DATA_URI_TAGS"in Zt?H(L(Rn),Zt.ADD_DATA_URI_TAGS,kn):Rn,mn="FORBID_CONTENTS"in Zt?H({},Zt.FORBID_CONTENTS,kn):En,wi="FORBID_TAGS"in Zt?H({},Zt.FORBID_TAGS,kn):{},hi="FORBID_ATTR"in Zt?H({},Zt.FORBID_ATTR,kn):{},Wt="USE_PROFILES"in Zt&&Zt.USE_PROFILES,yi=!1!==Zt.ALLOW_ARIA_ATTR,Vi=!1!==Zt.ALLOW_DATA_ATTR,Wi=Zt.ALLOW_UNKNOWN_PROTOCOLS||!1,Pn=!1!==Zt.ALLOW_SELF_CLOSE_IN_ATTR,pt=Zt.SAFE_FOR_TEMPLATES||!1,ct=Zt.WHOLE_DOCUMENT||!1,Ct=Zt.RETURN_DOM||!1,Jt=Zt.RETURN_DOM_FRAGMENT||!1,un=Zt.RETURN_TRUSTED_TYPE||!1,ut=Zt.FORCE_BODY||!1,Wn=!1!==Zt.SANITIZE_DOM,Kn=Zt.SANITIZE_NAMED_PROPS||!1,Nn=!1!==Zt.KEEP_CONTENT,gn=Zt.IN_PLACE||!1,tn=Zt.ALLOWED_URI_REGEXP||se,je=Zt.NAMESPACE||Xt,ei=Zt.CUSTOM_ELEMENT_HANDLING||{},Zt.CUSTOM_ELEMENT_HANDLING&&gi(Zt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ei.tagNameCheck=Zt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Zt.CUSTOM_ELEMENT_HANDLING&&gi(Zt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ei.attributeNameCheck=Zt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Zt.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof Zt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ei.allowCustomizedBuiltInElements=Zt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pt&&(Vi=!1),Jt&&(Ct=!0),Wt&&(bn=H({},[...W]),zn=[],!0===Wt.html&&(H(bn,Z),H(zn,Y)),!0===Wt.svg&&(H(bn,te),H(zn,oe),H(zn,G)),!0===Wt.svgFilters&&(H(bn,X),H(zn,oe),H(zn,G)),!0===Wt.mathMl&&(H(bn,q),H(zn,z),H(zn,G))),Zt.ADD_TAGS&&(bn===Bn&&(bn=L(bn)),H(bn,Zt.ADD_TAGS,kn)),Zt.ADD_ATTR&&(zn===Zn&&(zn=L(zn)),H(zn,Zt.ADD_ATTR,kn)),Zt.ADD_URI_SAFE_ATTR&&H(Qn,Zt.ADD_URI_SAFE_ATTR,kn),Zt.FORBID_CONTENTS&&(mn===En&&(mn=L(mn)),H(mn,Zt.FORBID_CONTENTS,kn)),Nn&&(bn["#text"]=!0),ct&&H(bn,["html","head","body"]),bn.table&&(H(bn,["tbody"]),delete wi.tbody),Zt.TRUSTED_TYPES_POLICY){if("function"!=typeof Zt.TRUSTED_TYPES_POLICY.createHTML)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof Zt.TRUSTED_TYPES_POLICY.createScriptURL)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ut=Zt.TRUSTED_TYPES_POLICY,St=Ut.createHTML("")}else void 0===Ut&&(Ut=function(Ne,Fe){if("object"!=typeof Ne||"function"!=typeof Ne.createPolicy)return null;let qe=null;const dt="data-tt-policy-suffix";Fe&&Fe.hasAttribute(dt)&&(qe=Fe.getAttribute(dt));const vt="dompurify"+(qe?"#"+qe:"");try{return Ne.createPolicy(vt,{createHTML:fn=>fn,createScriptURL:fn=>fn})}catch{return console.warn("TrustedTypes policy "+vt+" could not be created."),null}}(mt,qe)),null!==Ut&&"string"==typeof St&&(St=Ut.createHTML(""));S&&S(Zt),oi=Zt}},li=H({},["mi","mo","mn","ms","mtext"]),$i=H({},["foreignobject","desc","title","annotation-xml"]),Zi=H({},["title","style","font","a","script"]),Pi=H({},te);H(Pi,X),H(Pi,U);const At=H({},q);H(At,R);const Pt=function(Zt){d(Ne.removed,{element:Zt});try{Zt.parentNode.removeChild(Zt)}catch{Zt.remove()}},hn=function(Zt,xn){try{d(Ne.removed,{attribute:xn.getAttributeNode(Zt),from:xn})}catch{d(Ne.removed,{attribute:null,from:xn})}if(xn.removeAttribute(Zt),"is"===Zt&&!zn[Zt])if(Ct||Jt)try{Pt(xn)}catch{}else try{xn.setAttribute(Zt,"")}catch{}},An=function(Zt){let xn,Jn;if(ut)Zt="<remove></remove>"+Zt;else{const Ni=g(Zt,/^[\r\n\t ]+/);Jn=Ni&&Ni[0]}"application/xhtml+xml"===Vt&&je===Xt&&(Zt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Zt+"</body></html>");const pi=Ut?Ut.createHTML(Zt):Zt;if(je===Xt)try{xn=(new Qe).parseFromString(pi,Vt)}catch{}if(!xn||!xn.documentElement){xn=ke.createDocument(je,"template",null);try{xn.documentElement.innerHTML=at?St:pi}catch{}}const Ti=xn.body||xn.documentElement;return Zt&&Jn&&Ti.insertBefore(dt.createTextNode(Jn),Ti.childNodes[0]||null),je===Xt?st.call(xn,ct?"html":"body")[0]:ct?xn.documentElement:Ti},Hn=function(Zt){return Ze.call(Zt.ownerDocument||Zt,Zt,Je.SHOW_ELEMENT|Je.SHOW_COMMENT|Je.SHOW_TEXT,null,!1)},$n=function(Zt){return"object"==typeof on?Zt instanceof on:Zt&&"object"==typeof Zt&&"number"==typeof Zt.nodeType&&"string"==typeof Zt.nodeName},Ri=function(Zt,xn,Jn){ft[Zt]&&_(ft[Zt],pi=>{pi.call(Ne,xn,Jn,oi)})},Ii=function(Zt){let xn;if(Ri("beforeSanitizeElements",Zt,null),function(Zt){return Zt instanceof De&&("string"!=typeof Zt.nodeName||"string"!=typeof Zt.textContent||"function"!=typeof Zt.removeChild||!(Zt.attributes instanceof ot)||"function"!=typeof Zt.removeAttribute||"function"!=typeof Zt.setAttribute||"string"!=typeof Zt.namespaceURI||"function"!=typeof Zt.insertBefore||"function"!=typeof Zt.hasChildNodes)}(Zt))return Pt(Zt),!0;const Jn=kn(Zt.nodeName);if(Ri("uponSanitizeElement",Zt,{tagName:Jn,allowedTags:bn}),Zt.hasChildNodes()&&!$n(Zt.firstElementChild)&&(!$n(Zt.content)||!$n(Zt.content.firstElementChild))&&A(/<[/\w]/g,Zt.innerHTML)&&A(/<[/\w]/g,Zt.textContent))return Pt(Zt),!0;if(!bn[Jn]||wi[Jn]){if(!wi[Jn]&&Ue(Jn)&&(ei.tagNameCheck instanceof RegExp&&A(ei.tagNameCheck,Jn)||ei.tagNameCheck instanceof Function&&ei.tagNameCheck(Jn)))return!1;if(Nn&&!mn[Jn]){const pi=rt(Zt)||Zt.parentNode,Ti=Bt(Zt)||Zt.childNodes;if(Ti&&pi)for(let Li=Ti.length-1;Li>=0;--Li)pi.insertBefore(Ht(Ti[Li],!0),Ft(Zt))}return Pt(Zt),!0}return Zt instanceof ht&&!function(Zt){let xn=rt(Zt);(!xn||!xn.tagName)&&(xn={namespaceURI:je,tagName:"template"});const Jn=r(Zt.tagName),pi=r(xn.tagName);return!!Mt[Zt.namespaceURI]&&(Zt.namespaceURI===Sn?xn.namespaceURI===Xt?"svg"===Jn:xn.namespaceURI===Mn?"svg"===Jn&&("annotation-xml"===pi||li[pi]):!!Pi[Jn]:Zt.namespaceURI===Mn?xn.namespaceURI===Xt?"math"===Jn:xn.namespaceURI===Sn?"math"===Jn&&$i[pi]:!!At[Jn]:Zt.namespaceURI===Xt?!(xn.namespaceURI===Sn&&!$i[pi]||xn.namespaceURI===Mn&&!li[pi])&&!At[Jn]&&(Zi[Jn]||!Pi[Jn]):!("application/xhtml+xml"!==Vt||!Mt[Zt.namespaceURI]))}(Zt)||("noscript"===Jn||"noembed"===Jn||"noframes"===Jn)&&A(/<\/no(script|embed|frames)/i,Zt.innerHTML)?(Pt(Zt),!0):(pt&&3===Zt.nodeType&&(xn=Zt.textContent,xn=p(xn,wt," "),xn=p(xn,qt," "),xn=p(xn,Yt," "),Zt.textContent!==xn&&(d(Ne.removed,{element:Zt.cloneNode()}),Zt.textContent=xn)),Ri("afterSanitizeElements",Zt,null),!1)},yn=function(Zt,xn,Jn){if(Wn&&("id"===xn||"name"===xn)&&(Jn in dt||Jn in mi))return!1;if((!Vi||hi[xn]||!A(en,xn))&&(!yi||!A(an,xn)))if(!zn[xn]||hi[xn]){if(!(Ue(Zt)&&(ei.tagNameCheck instanceof RegExp&&A(ei.tagNameCheck,Zt)||ei.tagNameCheck instanceof Function&&ei.tagNameCheck(Zt))&&(ei.attributeNameCheck instanceof RegExp&&A(ei.attributeNameCheck,xn)||ei.attributeNameCheck instanceof Function&&ei.attributeNameCheck(xn))||"is"===xn&&ei.allowCustomizedBuiltInElements&&(ei.tagNameCheck instanceof RegExp&&A(ei.tagNameCheck,Jn)||ei.tagNameCheck instanceof Function&&ei.tagNameCheck(Jn))))return!1}else if(!Qn[xn]&&!A(tn,p(Jn,Nt,""))&&("src"!==xn&&"xlink:href"!==xn&&"href"!==xn||"script"===Zt||0!==m(Jn,"data:")||!On[Zt])&&(!Wi||A(lt,p(Jn,Nt,"")))&&Jn)return!1;return!0},Ue=function(Zt){return Zt.indexOf("-")>0},Dt=function(Zt){let xn,Jn,pi,Ti;Ri("beforeSanitizeAttributes",Zt,null);const{attributes:Ni}=Zt;if(!Ni)return;const Li={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:zn};for(Ti=Ni.length;Ti--;){xn=Ni[Ti];const{name:Fi,namespaceURI:vi}=xn;if(Jn="value"===Fi?xn.value:T(xn.value),pi=kn(Fi),Li.attrName=pi,Li.attrValue=Jn,Li.keepAttr=!0,Li.forceKeepAttr=void 0,Ri("uponSanitizeAttribute",Zt,Li),Jn=Li.attrValue,Li.forceKeepAttr||(hn(Fi,Zt),!Li.keepAttr))continue;if(!Pn&&A(/\/>/i,Jn)){hn(Fi,Zt);continue}pt&&(Jn=p(Jn,wt," "),Jn=p(Jn,qt," "),Jn=p(Jn,Yt," "));const Gi=kn(Zt.nodeName);if(yn(Gi,pi,Jn)){if(Kn&&("id"===pi||"name"===pi)&&(hn(Fi,Zt),Jn="user-content-"+Jn),Ut&&"object"==typeof mt&&"function"==typeof mt.getAttributeType&&!vi)switch(mt.getAttributeType(Gi,pi)){case"TrustedHTML":Jn=Ut.createHTML(Jn);break;case"TrustedScriptURL":Jn=Ut.createScriptURL(Jn)}try{vi?Zt.setAttributeNS(vi,Fi,Jn):Zt.setAttribute(Fi,Jn),f(Ne.removed)}catch{}}}Ri("afterSanitizeAttributes",Zt,null)},nn=function pn(Zt){let xn;const Jn=Hn(Zt);for(Ri("beforeSanitizeShadowDOM",Zt,null);xn=Jn.nextNode();)Ri("uponSanitizeShadowNode",xn,null),!Ii(xn)&&(xn.content instanceof vt&&pn(xn.content),Dt(xn));Ri("afterSanitizeShadowDOM",Zt,null)};return Ne.sanitize=function(pn){let xn,Jn,pi,Ti,Zt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(at=!pn,at&&(pn="\x3c!--\x3e"),"string"!=typeof pn&&!$n(pn)){if("function"!=typeof pn.toString)throw k("toString is not a function");if("string"!=typeof(pn=pn.toString()))throw k("dirty is not a string, aborting")}if(!Ne.isSupported)return pn;if(Tt||ai(Zt),Ne.removed=[],"string"==typeof pn&&(gn=!1),gn){if(pn.nodeName){const Fi=kn(pn.nodeName);if(!bn[Fi]||wi[Fi])throw k("root node is forbidden and cannot be sanitized in-place")}}else if(pn instanceof on)xn=An("\x3c!----\x3e"),Jn=xn.ownerDocument.importNode(pn,!0),1===Jn.nodeType&&"BODY"===Jn.nodeName||"HTML"===Jn.nodeName?xn=Jn:xn.appendChild(Jn);else{if(!Ct&&!pt&&!ct&&-1===pn.indexOf("<"))return Ut&&un?Ut.createHTML(pn):pn;if(xn=An(pn),!xn)return Ct?null:un?St:""}xn&&ut&&Pt(xn.firstChild);const Ni=Hn(gn?pn:xn);for(;pi=Ni.nextNode();)Ii(pi)||(pi.content instanceof vt&&nn(pi.content),Dt(pi));if(gn)return pn;if(Ct){if(Jt)for(Ti=Ye.call(xn.ownerDocument);xn.firstChild;)Ti.appendChild(xn.firstChild);else Ti=xn;return(zn.shadowroot||zn.shadowrootmode)&&(Ti=Ke.call(Fe,Ti,!0)),Ti}let Li=ct?xn.outerHTML:xn.innerHTML;return ct&&bn["!doctype"]&&xn.ownerDocument&&xn.ownerDocument.doctype&&xn.ownerDocument.doctype.name&&A(ye,xn.ownerDocument.doctype.name)&&(Li="<!DOCTYPE "+xn.ownerDocument.doctype.name+">\n"+Li),pt&&(Li=p(Li,wt," "),Li=p(Li,qt," "),Li=p(Li,Yt," ")),Ut&&un?Ut.createHTML(Li):Li},Ne.setConfig=function(pn){ai(pn),Tt=!0},Ne.clearConfig=function(){oi=null,Tt=!1},Ne.isValidAttribute=function(pn,Zt,xn){oi||ai({});const Jn=kn(pn),pi=kn(Zt);return yn(Jn,pi,xn)},Ne.addHook=function(pn,Zt){"function"==typeof Zt&&(ft[pn]=ft[pn]||[],d(ft[pn],Zt))},Ne.removeHook=function(pn){if(ft[pn])return f(ft[pn])},Ne.removeHooks=function(pn){ft[pn]&&(ft[pn]=[])},Ne.removeAllHooks=function(){ft={}},Ne}();const Ve=ne.sanitize,me=ne.addHook,le=ne.removeHook},27354:(tt,xe,t)=>{t.d(xe,{f:()=>F});var a=t(5643);class F{get event(){return this.emitter.event}constructor(x,C,S){const b=P=>this.emitter.fire(P);this.emitter=new a.vl({onWillAddFirstListener:()=>x.addEventListener(C,b,S),onDidRemoveLastListener:()=>x.removeEventListener(C,b,S)})}dispose(){this.emitter.dispose()}}},29048:(tt,xe,t)=>{t.d(xe,{D:()=>a,Z:()=>w});class a{constructor(C){this.domNode=C,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(C){const S=F(C);this._maxWidth!==S&&(this._maxWidth=S,this.domNode.style.maxWidth=this._maxWidth)}setWidth(C){const S=F(C);this._width!==S&&(this._width=S,this.domNode.style.width=this._width)}setHeight(C){const S=F(C);this._height!==S&&(this._height=S,this.domNode.style.height=this._height)}setTop(C){const S=F(C);this._top!==S&&(this._top=S,this.domNode.style.top=this._top)}setLeft(C){const S=F(C);this._left!==S&&(this._left=S,this.domNode.style.left=this._left)}setBottom(C){const S=F(C);this._bottom!==S&&(this._bottom=S,this.domNode.style.bottom=this._bottom)}setRight(C){const S=F(C);this._right!==S&&(this._right=S,this.domNode.style.right=this._right)}setPaddingLeft(C){const S=F(C);this._paddingLeft!==S&&(this._paddingLeft=S,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(C){this._fontFamily!==C&&(this._fontFamily=C,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(C){this._fontWeight!==C&&(this._fontWeight=C,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(C){const S=F(C);this._fontSize!==S&&(this._fontSize=S,this.domNode.style.fontSize=this._fontSize)}setFontStyle(C){this._fontStyle!==C&&(this._fontStyle=C,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(C){this._fontFeatureSettings!==C&&(this._fontFeatureSettings=C,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(C){this._fontVariationSettings!==C&&(this._fontVariationSettings=C,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(C){this._textDecoration!==C&&(this._textDecoration=C,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(C){const S=F(C);this._lineHeight!==S&&(this._lineHeight=S,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(C){const S=F(C);this._letterSpacing!==S&&(this._letterSpacing=S,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(C){this._className!==C&&(this._className=C,this.domNode.className=this._className)}toggleClassName(C,S){this.domNode.classList.toggle(C,S),this._className=this.domNode.className}setDisplay(C){this._display!==C&&(this._display=C,this.domNode.style.display=this._display)}setPosition(C){this._position!==C&&(this._position=C,this.domNode.style.position=this._position)}setVisibility(C){this._visibility!==C&&(this._visibility=C,this.domNode.style.visibility=this._visibility)}setColor(C){this._color!==C&&(this._color=C,this.domNode.style.color=this._color)}setBackgroundColor(C){this._backgroundColor!==C&&(this._backgroundColor=C,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(C){this._layerHint!==C&&(this._layerHint=C,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(C){this._boxShadow!==C&&(this._boxShadow=C,this.domNode.style.boxShadow=C)}setContain(C){this._contain!==C&&(this._contain=C,this.domNode.style.contain=this._contain)}setAttribute(C,S){this.domNode.setAttribute(C,S)}removeAttribute(C){this.domNode.removeAttribute(C)}appendChild(C){this.domNode.appendChild(C.domNode)}removeChild(C){this.domNode.removeChild(C.domNode)}}function F(x){return"number"==typeof x?`${x}px`:x}function w(x){return new a(x)}},48674:(tt,xe,t)=>{t.d(xe,{S5:()=>F,n:()=>x,yk:()=>w});var a=t(91874);function F(v,_={}){const f=x(_);return f.textContent=v,f}function w(v,_={}){const f=x(_);return S(f,function b(v,_){const f={type:1,children:[]};let d=0,r=f;const l=[],g=new C(v);for(;!g.eos();){let p=g.next();const m="\\"===p&&0!==D(g.peek(),_);if(m&&(p=g.next()),!m&&P(p,_)&&p===g.peek()){g.advance(),2===r.type&&(r=l.pop());const T=D(p,_);if(r.type===T||5===r.type&&6===T)r=l.pop();else{const A={type:T,children:[]};5===T&&(A.index=d,d++),r.children.push(A),l.push(r),r=A}}else if("\n"===p)2===r.type&&(r=l.pop()),r.children.push({type:8});else if(2!==r.type){const T={type:2,content:p};r.children.push(T),l.push(r),r=T}else r.content+=p}return 2===r.type&&(r=l.pop()),f}(v,!!_.renderCodeSegments),_.actionHandler,_.renderCodeSegments),f}function x(v){const f=document.createElement(v.inline?"span":"div");return v.className&&(f.className=v.className),f}class C{constructor(_){this.source=_,this.index=0}eos(){return this.index>=this.source.length}next(){const _=this.peek();return this.advance(),_}peek(){return this.source[this.index]}advance(){this.index++}}function S(v,_,f,d){let r;if(2===_.type)r=document.createTextNode(_.content||"");else if(3===_.type)r=document.createElement("b");else if(4===_.type)r=document.createElement("i");else if(7===_.type&&d)r=document.createElement("code");else if(5===_.type&&f){const l=document.createElement("a");f.disposables.add(a.b2(l,"click",g=>{f.callback(String(_.index),g)})),r=l}else 8===_.type?r=document.createElement("br"):1===_.type&&(r=v);r&&v!==r&&v.appendChild(r),r&&Array.isArray(_.children)&&_.children.forEach(l=>{S(r,l,f,d)})}function P(v,_){return 0!==D(v,_)}function D(v,_){switch(v){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return _?7:0;default:return 0}}},32945:(tt,xe,t)=>{t.d(xe,{_:()=>w});var a=t(91874),F=t(99031);class w{constructor(){this._hooks=new F.Cm,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(C,S){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const b=this._onStopCallback;this._onStopCallback=null,C&&b&&b(S)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(C,S,b,P,D){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=P,this._onStopCallback=D;let v=C;try{C.setPointerCapture(S),this._hooks.add((0,F.s)(()=>{try{C.releasePointerCapture(S)}catch{}}))}catch{v=a.zk(C)}this._hooks.add(a.ko(v,a.Bx.POINTER_MOVE,_=>{_.buttons===b?(_.preventDefault(),this._pointerMoveCallback(_)):this.stopMonitoring(!0)})),this._hooks.add(a.ko(v,a.Bx.POINTER_UP,_=>this.stopMonitoring(!0)))}}},92873:(tt,xe,t)=>{t.d(xe,{Z:()=>v});var a=t(53378),F=t(79624),w=t(89430),x=t(21828);const S=x.zx?256:2048,D=x.zx?2048:256;class v{constructor(f){var d;this._standardKeyboardEventBrand=!0;const r=f;this.browserEvent=r,this.target=r.target,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.altKey=r.altKey,this.metaKey=r.metaKey,this.altGraphKey=null===(d=r.getModifierState)||void 0===d?void 0:d.call(r,"AltGraph"),this.keyCode=function C(_){if(_.charCode){const d=String.fromCharCode(_.charCode).toUpperCase();return F.YM.fromString(d)}const f=_.keyCode;if(3===f)return 7;if(a.gm)switch(f){case 59:return 85;case 60:if(x.j9)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(x.zx)return 57}else if(a.Tc){if(x.zx&&93===f)return 57;if(!x.zx&&92===f)return 57}return F.uw[f]||0}(r),this.code=r.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(f){return this._asKeybinding===f}_computeKeybinding(){let f=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(f=this.keyCode);let d=0;return this.ctrlKey&&(d|=S),this.altKey&&(d|=512),this.shiftKey&&(d|=1024),this.metaKey&&(d|=D),d|=f,d}_computeKeyCodeChord(){let f=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(f=this.keyCode),new w.dG(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,f)}}},56555:(tt,xe,t)=>{t.d(xe,{Gc:()=>K,R9:()=>ye});var a=t(91874),F=t(75489),w=t(27354),x=t(48674),C=t(92873),S=t(18163),b=t(51817),P=t(25680),D=t(5643),v=t(13225),_=t(605),f=t(65441),d=t(97081),r=t(99031);let l={};!function(){function Je(ot,De){De(l)}var ot,De;ot=this,De=function(ot){function De(Mn,Sn){for(var Xt=0;Xt<Sn.length;Xt++){var je=Sn[Xt];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(Mn,je.key,je)}}function kt(Mn,Sn){(null==Sn||Sn>Mn.length)&&(Sn=Mn.length);for(var Xt=0,je=new Array(Sn);Xt<Sn;Xt++)je[Xt]=Mn[Xt];return je}function Ht(Mn,Sn){var Xt=typeof Symbol<"u"&&Mn[Symbol.iterator]||Mn["@@iterator"];if(Xt)return(Xt=Xt.call(Mn)).next.bind(Xt);if(Array.isArray(Mn)||(Xt=function mt(Mn,Sn){if(Mn){if("string"==typeof Mn)return kt(Mn,Sn);var Xt=Object.prototype.toString.call(Mn).slice(8,-1);if("Object"===Xt&&Mn.constructor&&(Xt=Mn.constructor.name),"Map"===Xt||"Set"===Xt)return Array.from(Mn);if("Arguments"===Xt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xt))return kt(Mn,Sn)}}(Mn))||Sn&&Mn&&"number"==typeof Mn.length){Xt&&(Mn=Xt);var je=0;return function(){return je>=Mn.length?{done:!0}:{done:!1,value:Mn[je++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ft(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}ot.defaults={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var rt=/[&<>"']/,Ut=/[&<>"']/g,St=/[<>"']|&(?!#?\w+;)/,ke=/[<>"']|&(?!#?\w+;)/g,Ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ye=function(Sn){return Ze[Sn]};function st(Mn,Sn){if(Sn){if(rt.test(Mn))return Mn.replace(Ut,Ye)}else if(St.test(Mn))return Mn.replace(ke,Ye);return Mn}var Ke=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function ft(Mn){return Mn.replace(Ke,function(Sn,Xt){return"colon"===(Xt=Xt.toLowerCase())?":":"#"===Xt.charAt(0)?"x"===Xt.charAt(1)?String.fromCharCode(parseInt(Xt.substring(2),16)):String.fromCharCode(+Xt.substring(1)):""})}var wt=/(^|[^\[])\^/g;function qt(Mn,Sn){Mn="string"==typeof Mn?Mn:Mn.source,Sn=Sn||"";var Xt={replace:function(at,Mt){return Mt=(Mt=Mt.source||Mt).replace(wt,"$1"),Mn=Mn.replace(at,Mt),Xt},getRegex:function(){return new RegExp(Mn,Sn)}};return Xt}var Yt=/[^\w:]/g,en=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function an(Mn,Sn,Xt){if(Mn){var je;try{je=decodeURIComponent(ft(Xt)).replace(Yt,"").toLowerCase()}catch{return null}if(0===je.indexOf("javascript:")||0===je.indexOf("vbscript:")||0===je.indexOf("data:"))return null}Sn&&!en.test(Xt)&&(Xt=function Bn(Mn,Sn){lt[" "+Mn]||(lt[" "+Mn]=Nt.test(Mn)?Mn+"/":wi(Mn,"/",!0));var Xt=-1===(Mn=lt[" "+Mn]).indexOf(":");return"//"===Sn.substring(0,2)?Xt?Sn:Mn.replace(tn,"$1")+Sn:"/"===Sn.charAt(0)?Xt?Sn:Mn.replace(bn,"$1")+Sn:Mn+Sn}(Sn,Xt));try{Xt=encodeURI(Xt).replace(/%25/g,"%")}catch{return null}return Xt}var lt={},Nt=/^[^:]+:\/*[^/]*$/,tn=/^([^:]+:)[\s\S]*$/,bn=/^([^:]+:\/*[^/]*)[\s\S]*$/,zn={exec:function(){}};function Zn(Mn){for(var Xt,je,Sn=1;Sn<arguments.length;Sn++)for(je in Xt=arguments[Sn])Object.prototype.hasOwnProperty.call(Xt,je)&&(Mn[je]=Xt[je]);return Mn}function ei(Mn,Sn){var je=Mn.replace(/\|/g,function(Mt,Et,Vt){for(var zt=!1,sn=Et;--sn>=0&&"\\"===Vt[sn];)zt=!zt;return zt?"|":" |"}).split(/ \|/),at=0;if(je[0].trim()||je.shift(),je.length>0&&!je[je.length-1].trim()&&je.pop(),je.length>Sn)je.splice(Sn);else for(;je.length<Sn;)je.push("");for(;at<je.length;at++)je[at]=je[at].trim().replace(/\\\|/g,"|");return je}function wi(Mn,Sn,Xt){var je=Mn.length;if(0===je)return"";for(var at=0;at<je;){var Mt=Mn.charAt(je-at-1);if(Mt!==Sn||Xt){if(Mt===Sn||!Xt)break;at++}else at++}return Mn.slice(0,je-at)}function yi(Mn){Mn&&Mn.sanitize&&!Mn.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Vi(Mn,Sn){if(Sn<1)return"";for(var Xt="";Sn>1;)1&Sn&&(Xt+=Mn),Sn>>=1,Mn+=Mn;return Xt+Mn}function Wi(Mn,Sn,Xt,je){var at=Sn.href,Mt=Sn.title?st(Sn.title):null,Et=Mn[1].replace(/\\([\[\]])/g,"$1");if("!"!==Mn[0].charAt(0)){je.state.inLink=!0;var Vt={type:"link",raw:Xt,href:at,title:Mt,text:Et,tokens:je.inlineTokens(Et)};return je.state.inLink=!1,Vt}return{type:"image",raw:Xt,href:at,title:Mt,text:st(Et)}}var pt=function(){function Mn(Xt){this.options=Xt||ot.defaults}var Sn=Mn.prototype;return Sn.space=function(je){var at=this.rules.block.newline.exec(je);if(at&&at[0].length>0)return{type:"space",raw:at[0]}},Sn.code=function(je){var at=this.rules.block.code.exec(je);if(at){var Mt=at[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:at[0],codeBlockStyle:"indented",text:this.options.pedantic?Mt:wi(Mt,"\n")}}},Sn.fences=function(je){var at=this.rules.block.fences.exec(je);if(at){var Mt=at[0],Et=function Pn(Mn,Sn){var Xt=Mn.match(/^(\s+)(?:```)/);if(null===Xt)return Sn;var je=Xt[1];return Sn.split("\n").map(function(at){var Mt=at.match(/^\s+/);return null===Mt?at:Mt[0].length>=je.length?at.slice(je.length):at}).join("\n")}(Mt,at[3]||"");return{type:"code",raw:Mt,lang:at[2]?at[2].trim():at[2],text:Et}}},Sn.heading=function(je){var at=this.rules.block.heading.exec(je);if(at){var Mt=at[2].trim();if(/#$/.test(Mt)){var Et=wi(Mt,"#");(this.options.pedantic||!Et||/ $/.test(Et))&&(Mt=Et.trim())}return{type:"heading",raw:at[0],depth:at[1].length,text:Mt,tokens:this.lexer.inline(Mt)}}},Sn.hr=function(je){var at=this.rules.block.hr.exec(je);if(at)return{type:"hr",raw:at[0]}},Sn.blockquote=function(je){var at=this.rules.block.blockquote.exec(je);if(at){var Mt=at[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:at[0],tokens:this.lexer.blockTokens(Mt,[]),text:Mt}}},Sn.list=function(je){var at=this.rules.block.list.exec(je);if(at){var Mt,Et,Vt,zt,sn,kn,oi,mi,gi,ai,li,$i,Zi=at[1].trim(),Pi=Zi.length>1,At={type:"list",raw:"",ordered:Pi,start:Pi?+Zi.slice(0,-1):"",loose:!1,items:[]};Zi=Pi?"\\d{1,9}\\"+Zi.slice(-1):"\\"+Zi,this.options.pedantic&&(Zi=Pi?Zi:"[*+-]");for(var Rt=new RegExp("^( {0,3}"+Zi+")((?:[\t ][^\\n]*)?(?:\\n|$))");je&&($i=!1,(at=Rt.exec(je))&&!this.rules.block.hr.test(je));){if(je=je.substring((Mt=at[0]).length),mi=at[2].split("\n",1)[0],gi=je.split("\n",1)[0],this.options.pedantic?(zt=2,li=mi.trimLeft()):(zt=at[2].search(/[^ ]/),li=mi.slice(zt=zt>4?1:zt),zt+=at[1].length),kn=!1,!mi&&/^ *$/.test(gi)&&(Mt+=gi+"\n",je=je.substring(gi.length+1),$i=!0),!$i)for(var Pt=new RegExp("^ {0,"+Math.min(3,zt-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),hn=new RegExp("^ {0,"+Math.min(3,zt-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),An=new RegExp("^ {0,"+Math.min(3,zt-1)+"}(?:```|~~~)"),Hn=new RegExp("^ {0,"+Math.min(3,zt-1)+"}#");je&&(mi=ai=je.split("\n",1)[0],this.options.pedantic&&(mi=mi.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(An.test(mi)||Hn.test(mi)||Pt.test(mi)||hn.test(je)));){if(mi.search(/[^ ]/)>=zt||!mi.trim())li+="\n"+mi.slice(zt);else{if(kn)break;li+="\n"+mi}!kn&&!mi.trim()&&(kn=!0),Mt+=ai+"\n",je=je.substring(ai.length+1)}At.loose||(oi?At.loose=!0:/\n *\n *$/.test(Mt)&&(oi=!0)),this.options.gfm&&(Et=/^\[[ xX]\] /.exec(li))&&(Vt="[ ] "!==Et[0],li=li.replace(/^\[[ xX]\] +/,"")),At.items.push({type:"list_item",raw:Mt,task:!!Et,checked:Vt,loose:!1,text:li}),At.raw+=Mt}At.items[At.items.length-1].raw=Mt.trimRight(),At.items[At.items.length-1].text=li.trimRight(),At.raw=At.raw.trimRight();var ni=At.items.length;for(sn=0;sn<ni;sn++){this.lexer.state.top=!1,At.items[sn].tokens=this.lexer.blockTokens(At.items[sn].text,[]);var $n=At.items[sn].tokens.filter(function(Ii){return"space"===Ii.type}),Ri=$n.every(function(Ii){for(var nn,Ue=0,Dt=Ht(Ii.raw.split(""));!(nn=Dt()).done;)if("\n"===nn.value&&(Ue+=1),Ue>1)return!0;return!1});!At.loose&&$n.length&&Ri&&(At.loose=!0,At.items[sn].loose=!0)}return At}},Sn.html=function(je){var at=this.rules.block.html.exec(je);if(at){var Mt={type:"html",raw:at[0],pre:!this.options.sanitizer&&("pre"===at[1]||"script"===at[1]||"style"===at[1]),text:at[0]};if(this.options.sanitize){var Et=this.options.sanitizer?this.options.sanitizer(at[0]):st(at[0]);Mt.type="paragraph",Mt.text=Et,Mt.tokens=this.lexer.inline(Et)}return Mt}},Sn.def=function(je){var at=this.rules.block.def.exec(je);if(at)return at[3]&&(at[3]=at[3].substring(1,at[3].length-1)),{type:"def",tag:at[1].toLowerCase().replace(/\s+/g," "),raw:at[0],href:at[2],title:at[3]}},Sn.table=function(je){var at=this.rules.block.table.exec(je);if(at){var Mt={type:"table",header:ei(at[1]).map(function(oi){return{text:oi}}),align:at[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:at[3]&&at[3].trim()?at[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(Mt.header.length===Mt.align.length){Mt.raw=at[0];var Vt,zt,sn,kn,Et=Mt.align.length;for(Vt=0;Vt<Et;Vt++)Mt.align[Vt]=/^ *-+: *$/.test(Mt.align[Vt])?"right":/^ *:-+: *$/.test(Mt.align[Vt])?"center":/^ *:-+ *$/.test(Mt.align[Vt])?"left":null;for(Et=Mt.rows.length,Vt=0;Vt<Et;Vt++)Mt.rows[Vt]=ei(Mt.rows[Vt],Mt.header.length).map(function(oi){return{text:oi}});for(Et=Mt.header.length,zt=0;zt<Et;zt++)Mt.header[zt].tokens=this.lexer.inline(Mt.header[zt].text);for(Et=Mt.rows.length,zt=0;zt<Et;zt++)for(kn=Mt.rows[zt],sn=0;sn<kn.length;sn++)kn[sn].tokens=this.lexer.inline(kn[sn].text);return Mt}}},Sn.lheading=function(je){var at=this.rules.block.lheading.exec(je);if(at)return{type:"heading",raw:at[0],depth:"="===at[2].charAt(0)?1:2,text:at[1],tokens:this.lexer.inline(at[1])}},Sn.paragraph=function(je){var at=this.rules.block.paragraph.exec(je);if(at){var Mt="\n"===at[1].charAt(at[1].length-1)?at[1].slice(0,-1):at[1];return{type:"paragraph",raw:at[0],text:Mt,tokens:this.lexer.inline(Mt)}}},Sn.text=function(je){var at=this.rules.block.text.exec(je);if(at)return{type:"text",raw:at[0],text:at[0],tokens:this.lexer.inline(at[0])}},Sn.escape=function(je){var at=this.rules.inline.escape.exec(je);if(at)return{type:"escape",raw:at[0],text:st(at[1])}},Sn.tag=function(je){var at=this.rules.inline.tag.exec(je);if(at)return!this.lexer.state.inLink&&/^<a /i.test(at[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(at[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(at[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(at[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:at[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(at[0]):st(at[0]):at[0]}},Sn.link=function(je){var at=this.rules.inline.link.exec(je);if(at){var Mt=at[2].trim();if(!this.options.pedantic&&/^</.test(Mt)){if(!/>$/.test(Mt))return;var Et=wi(Mt.slice(0,-1),"\\");if((Mt.length-Et.length)%2==0)return}else{var Vt=function hi(Mn,Sn){if(-1===Mn.indexOf(Sn[1]))return-1;for(var Xt=Mn.length,je=0,at=0;at<Xt;at++)if("\\"===Mn[at])at++;else if(Mn[at]===Sn[0])je++;else if(Mn[at]===Sn[1]&&--je<0)return at;return-1}(at[2],"()");if(Vt>-1){var sn=(0===at[0].indexOf("!")?5:4)+at[1].length+Vt;at[2]=at[2].substring(0,Vt),at[0]=at[0].substring(0,sn).trim(),at[3]=""}}var kn=at[2],oi="";if(this.options.pedantic){var mi=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(kn);mi&&(kn=mi[1],oi=mi[3])}else oi=at[3]?at[3].slice(1,-1):"";return kn=kn.trim(),/^</.test(kn)&&(kn=this.options.pedantic&&!/>$/.test(Mt)?kn.slice(1):kn.slice(1,-1)),Wi(at,{href:kn&&kn.replace(this.rules.inline._escapes,"$1"),title:oi&&oi.replace(this.rules.inline._escapes,"$1")},at[0],this.lexer)}},Sn.reflink=function(je,at){var Mt;if((Mt=this.rules.inline.reflink.exec(je))||(Mt=this.rules.inline.nolink.exec(je))){var Et=(Mt[2]||Mt[1]).replace(/\s+/g," ");if(!(Et=at[Et.toLowerCase()])||!Et.href){var Vt=Mt[0].charAt(0);return{type:"text",raw:Vt,text:Vt}}return Wi(Mt,Et,Mt[0],this.lexer)}},Sn.emStrong=function(je,at,Mt){void 0===Mt&&(Mt="");var Et=this.rules.inline.emStrong.lDelim.exec(je);if(Et&&(!Et[3]||!Mt.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Vt=Et[1]||Et[2]||"";if(!Vt||Vt&&(""===Mt||this.rules.inline.punctuation.exec(Mt))){var sn,kn,zt=Et[0].length-1,oi=zt,mi=0,gi="*"===Et[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(gi.lastIndex=0,at=at.slice(-1*je.length+zt);null!=(Et=gi.exec(at));)if(sn=Et[1]||Et[2]||Et[3]||Et[4]||Et[5]||Et[6]){if(kn=sn.length,Et[3]||Et[4]){oi+=kn;continue}if((Et[5]||Et[6])&&zt%3&&!((zt+kn)%3)){mi+=kn;continue}if(!((oi-=kn)>0)){if(kn=Math.min(kn,kn+oi+mi),Math.min(zt,kn)%2){var ai=je.slice(1,zt+Et.index+kn);return{type:"em",raw:je.slice(0,zt+Et.index+kn+1),text:ai,tokens:this.lexer.inlineTokens(ai)}}var li=je.slice(2,zt+Et.index+kn-1);return{type:"strong",raw:je.slice(0,zt+Et.index+kn+1),text:li,tokens:this.lexer.inlineTokens(li)}}}}}},Sn.codespan=function(je){var at=this.rules.inline.code.exec(je);if(at){var Mt=at[2].replace(/\n/g," "),Et=/[^ ]/.test(Mt),Vt=/^ /.test(Mt)&&/ $/.test(Mt);return Et&&Vt&&(Mt=Mt.substring(1,Mt.length-1)),Mt=st(Mt,!0),{type:"codespan",raw:at[0],text:Mt}}},Sn.br=function(je){var at=this.rules.inline.br.exec(je);if(at)return{type:"br",raw:at[0]}},Sn.del=function(je){var at=this.rules.inline.del.exec(je);if(at)return{type:"del",raw:at[0],text:at[2],tokens:this.lexer.inlineTokens(at[2])}},Sn.autolink=function(je,at){var Et,Vt,Mt=this.rules.inline.autolink.exec(je);if(Mt)return Vt="@"===Mt[2]?"mailto:"+(Et=st(this.options.mangle?at(Mt[1]):Mt[1])):Et=st(Mt[1]),{type:"link",raw:Mt[0],text:Et,href:Vt,tokens:[{type:"text",raw:Et,text:Et}]}},Sn.url=function(je,at){var Mt;if(Mt=this.rules.inline.url.exec(je)){var Et,Vt;if("@"===Mt[2])Vt="mailto:"+(Et=st(this.options.mangle?at(Mt[0]):Mt[0]));else{var zt;do{zt=Mt[0],Mt[0]=this.rules.inline._backpedal.exec(Mt[0])[0]}while(zt!==Mt[0]);Et=st(Mt[0]),Vt="www."===Mt[1]?"http://"+Et:Et}return{type:"link",raw:Mt[0],text:Et,href:Vt,tokens:[{type:"text",raw:Et,text:Et}]}}},Sn.inlineText=function(je,at){var Et,Mt=this.rules.inline.text.exec(je);if(Mt)return Et=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Mt[0]):st(Mt[0]):Mt[0]:st(this.options.smartypants?at(Mt[0]):Mt[0]),{type:"text",raw:Mt[0],text:Et}},Mn}(),ct={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:zn,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};ct.def=qt(ct.def).replace("label",ct._label).replace("title",ct._title).getRegex(),ct.bullet=/(?:[*+-]|\d{1,9}[.)])/,ct.listItemStart=qt(/^( *)(bull) */).replace("bull",ct.bullet).getRegex(),ct.list=qt(ct.list).replace(/bull/g,ct.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ct.def.source+")").getRegex(),ct._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ct._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ct.html=qt(ct.html,"i").replace("comment",ct._comment).replace("tag",ct._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ct.paragraph=qt(ct._paragraph).replace("hr",ct.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ct._tag).getRegex(),ct.blockquote=qt(ct.blockquote).replace("paragraph",ct.paragraph).getRegex(),ct.normal=Zn({},ct),ct.gfm=Zn({},ct.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ct.gfm.table=qt(ct.gfm.table).replace("hr",ct.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ct._tag).getRegex(),ct.gfm.paragraph=qt(ct._paragraph).replace("hr",ct.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ct.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ct._tag).getRegex(),ct.pedantic=Zn({},ct.normal,{html:qt("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",ct._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:zn,paragraph:qt(ct.normal._paragraph).replace("hr",ct.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",ct.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Tt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:zn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:zn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function ut(Mn){return Mn.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Ct(Mn){var Xt,je,Sn="",at=Mn.length;for(Xt=0;Xt<at;Xt++)je=Mn.charCodeAt(Xt),Math.random()>.5&&(je="x"+je.toString(16)),Sn+="&#"+je+";";return Sn}Tt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Tt.punctuation=qt(Tt.punctuation).replace(/punctuation/g,Tt._punctuation).getRegex(),Tt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Tt.escapedEmSt=/\\\*|\\_/g,Tt._comment=qt(ct._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Tt.emStrong.lDelim=qt(Tt.emStrong.lDelim).replace(/punct/g,Tt._punctuation).getRegex(),Tt.emStrong.rDelimAst=qt(Tt.emStrong.rDelimAst,"g").replace(/punct/g,Tt._punctuation).getRegex(),Tt.emStrong.rDelimUnd=qt(Tt.emStrong.rDelimUnd,"g").replace(/punct/g,Tt._punctuation).getRegex(),Tt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Tt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Tt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Tt.autolink=qt(Tt.autolink).replace("scheme",Tt._scheme).replace("email",Tt._email).getRegex(),Tt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Tt.tag=qt(Tt.tag).replace("comment",Tt._comment).replace("attribute",Tt._attribute).getRegex(),Tt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Tt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Tt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Tt.link=qt(Tt.link).replace("label",Tt._label).replace("href",Tt._href).replace("title",Tt._title).getRegex(),Tt.reflink=qt(Tt.reflink).replace("label",Tt._label).replace("ref",ct._label).getRegex(),Tt.nolink=qt(Tt.nolink).replace("ref",ct._label).getRegex(),Tt.reflinkSearch=qt(Tt.reflinkSearch,"g").replace("reflink",Tt.reflink).replace("nolink",Tt.nolink).getRegex(),Tt.normal=Zn({},Tt),Tt.pedantic=Zn({},Tt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:qt(/^!?\[(label)\]\((.*?)\)/).replace("label",Tt._label).getRegex(),reflink:qt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Tt._label).getRegex()}),Tt.gfm=Zn({},Tt.normal,{escape:qt(Tt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Tt.gfm.url=qt(Tt.gfm.url,"i").replace("email",Tt.gfm._extended_email).getRegex(),Tt.breaks=Zn({},Tt.gfm,{br:qt(Tt.br).replace("{2,}","*").getRegex(),text:qt(Tt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Jt=function(){function Mn(Xt){this.tokens=[],this.tokens.links=Object.create(null),this.options=Xt||ot.defaults,this.options.tokenizer=this.options.tokenizer||new pt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var je={block:ct.normal,inline:Tt.normal};this.options.pedantic?(je.block=ct.pedantic,je.inline=Tt.pedantic):this.options.gfm&&(je.block=ct.gfm,je.inline=this.options.breaks?Tt.breaks:Tt.gfm),this.tokenizer.rules=je}Mn.lex=function(je,at){return new Mn(at).lex(je)},Mn.lexInline=function(je,at){return new Mn(at).inlineTokens(je)};var Sn=Mn.prototype;return Sn.lex=function(je){je=je.replace(/\r\n|\r/g,"\n"),this.blockTokens(je,this.tokens);for(var at;at=this.inlineQueue.shift();)this.inlineTokens(at.src,at.tokens);return this.tokens},Sn.blockTokens=function(je,at){var Et,Vt,zt,sn,Mt=this;for(void 0===at&&(at=[]),je=this.options.pedantic?je.replace(/\t/g,"    ").replace(/^ +$/gm,""):je.replace(/^( *)(\t+)/gm,function(oi,mi,gi){return mi+"    ".repeat(gi.length)});je;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(oi){return!!(Et=oi.call({lexer:Mt},je,at))&&(je=je.substring(Et.raw.length),at.push(Et),!0)}))){if(Et=this.tokenizer.space(je)){je=je.substring(Et.raw.length),1===Et.raw.length&&at.length>0?at[at.length-1].raw+="\n":at.push(Et);continue}if(Et=this.tokenizer.code(je)){je=je.substring(Et.raw.length),!(Vt=at[at.length-1])||"paragraph"!==Vt.type&&"text"!==Vt.type?at.push(Et):(Vt.raw+="\n"+Et.raw,Vt.text+="\n"+Et.text,this.inlineQueue[this.inlineQueue.length-1].src=Vt.text);continue}if(Et=this.tokenizer.fences(je)){je=je.substring(Et.raw.length),at.push(Et);continue}if(Et=this.tokenizer.heading(je)){je=je.substring(Et.raw.length),at.push(Et);continue}if(Et=this.tokenizer.hr(je)){je=je.substring(Et.raw.length),at.push(Et);continue}if(Et=this.tokenizer.blockquote(je)){je=je.substring(Et.raw.length),at.push(Et);continue}if(Et=this.tokenizer.list(je)){je=je.substring(Et.raw.length),at.push(Et);continue}if(Et=this.tokenizer.html(je)){je=je.substring(Et.raw.length),at.push(Et);continue}if(Et=this.tokenizer.def(je)){je=je.substring(Et.raw.length),!(Vt=at[at.length-1])||"paragraph"!==Vt.type&&"text"!==Vt.type?this.tokens.links[Et.tag]||(this.tokens.links[Et.tag]={href:Et.href,title:Et.title}):(Vt.raw+="\n"+Et.raw,Vt.text+="\n"+Et.raw,this.inlineQueue[this.inlineQueue.length-1].src=Vt.text);continue}if(Et=this.tokenizer.table(je)){je=je.substring(Et.raw.length),at.push(Et);continue}if(Et=this.tokenizer.lheading(je)){je=je.substring(Et.raw.length),at.push(Et);continue}if(zt=je,this.options.extensions&&this.options.extensions.startBlock&&function(){var oi=1/0,mi=je.slice(1),gi=void 0;Mt.options.extensions.startBlock.forEach(function(ai){"number"==typeof(gi=ai.call({lexer:this},mi))&&gi>=0&&(oi=Math.min(oi,gi))}),oi<1/0&&oi>=0&&(zt=je.substring(0,oi+1))}(),this.state.top&&(Et=this.tokenizer.paragraph(zt))){Vt=at[at.length-1],sn&&"paragraph"===Vt.type?(Vt.raw+="\n"+Et.raw,Vt.text+="\n"+Et.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Vt.text):at.push(Et),sn=zt.length!==je.length,je=je.substring(Et.raw.length);continue}if(Et=this.tokenizer.text(je)){je=je.substring(Et.raw.length),(Vt=at[at.length-1])&&"text"===Vt.type?(Vt.raw+="\n"+Et.raw,Vt.text+="\n"+Et.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Vt.text):at.push(Et);continue}if(je){var kn="Infinite loop on byte: "+je.charCodeAt(0);if(this.options.silent){console.error(kn);break}throw new Error(kn)}}return this.state.top=!0,at},Sn.inline=function(je,at){return void 0===at&&(at=[]),this.inlineQueue.push({src:je,tokens:at}),at},Sn.inlineTokens=function(je,at){var Mt=this;void 0===at&&(at=[]);var Et,Vt,zt,kn,oi,mi,sn=je;if(this.tokens.links){var gi=Object.keys(this.tokens.links);if(gi.length>0)for(;null!=(kn=this.tokenizer.rules.inline.reflinkSearch.exec(sn));)gi.includes(kn[0].slice(kn[0].lastIndexOf("[")+1,-1))&&(sn=sn.slice(0,kn.index)+"["+Vi("a",kn[0].length-2)+"]"+sn.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(kn=this.tokenizer.rules.inline.blockSkip.exec(sn));)sn=sn.slice(0,kn.index)+"["+Vi("a",kn[0].length-2)+"]"+sn.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(kn=this.tokenizer.rules.inline.escapedEmSt.exec(sn));)sn=sn.slice(0,kn.index)+"++"+sn.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;je;)if(oi||(mi=""),oi=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(li){return!!(Et=li.call({lexer:Mt},je,at))&&(je=je.substring(Et.raw.length),at.push(Et),!0)}))){if(Et=this.tokenizer.escape(je)){je=je.substring(Et.raw.length),at.push(Et);continue}if(Et=this.tokenizer.tag(je)){je=je.substring(Et.raw.length),(Vt=at[at.length-1])&&"text"===Et.type&&"text"===Vt.type?(Vt.raw+=Et.raw,Vt.text+=Et.text):at.push(Et);continue}if(Et=this.tokenizer.link(je)){je=je.substring(Et.raw.length),at.push(Et);continue}if(Et=this.tokenizer.reflink(je,this.tokens.links)){je=je.substring(Et.raw.length),(Vt=at[at.length-1])&&"text"===Et.type&&"text"===Vt.type?(Vt.raw+=Et.raw,Vt.text+=Et.text):at.push(Et);continue}if(Et=this.tokenizer.emStrong(je,sn,mi)){je=je.substring(Et.raw.length),at.push(Et);continue}if(Et=this.tokenizer.codespan(je)){je=je.substring(Et.raw.length),at.push(Et);continue}if(Et=this.tokenizer.br(je)){je=je.substring(Et.raw.length),at.push(Et);continue}if(Et=this.tokenizer.del(je)){je=je.substring(Et.raw.length),at.push(Et);continue}if(Et=this.tokenizer.autolink(je,Ct)){je=je.substring(Et.raw.length),at.push(Et);continue}if(!this.state.inLink&&(Et=this.tokenizer.url(je,Ct))){je=je.substring(Et.raw.length),at.push(Et);continue}if(zt=je,this.options.extensions&&this.options.extensions.startInline&&function(){var li=1/0,$i=je.slice(1),Zi=void 0;Mt.options.extensions.startInline.forEach(function(Pi){"number"==typeof(Zi=Pi.call({lexer:this},$i))&&Zi>=0&&(li=Math.min(li,Zi))}),li<1/0&&li>=0&&(zt=je.substring(0,li+1))}(),Et=this.tokenizer.inlineText(zt,ut)){je=je.substring(Et.raw.length),"_"!==Et.raw.slice(-1)&&(mi=Et.raw.slice(-1)),oi=!0,(Vt=at[at.length-1])&&"text"===Vt.type?(Vt.raw+=Et.raw,Vt.text+=Et.text):at.push(Et);continue}if(je){var ai="Infinite loop on byte: "+je.charCodeAt(0);if(this.options.silent){console.error(ai);break}throw new Error(ai)}}return at},function Qe(Mn,Sn,Xt){Sn&&De(Mn.prototype,Sn),Xt&&De(Mn,Xt),Object.defineProperty(Mn,"prototype",{writable:!1})}(Mn,null,[{key:"rules",get:function(){return{block:ct,inline:Tt}}}]),Mn}(),un=function(){function Mn(Xt){this.options=Xt||ot.defaults}var Sn=Mn.prototype;return Sn.code=function(je,at,Mt){var Et=(at||"").match(/\S*/)[0];if(this.options.highlight){var Vt=this.options.highlight(je,Et);null!=Vt&&Vt!==je&&(Mt=!0,je=Vt)}return je=je.replace(/\n$/,"")+"\n",Et?'<pre><code class="'+this.options.langPrefix+st(Et,!0)+'">'+(Mt?je:st(je,!0))+"</code></pre>\n":"<pre><code>"+(Mt?je:st(je,!0))+"</code></pre>\n"},Sn.blockquote=function(je){return"<blockquote>\n"+je+"</blockquote>\n"},Sn.html=function(je){return je},Sn.heading=function(je,at,Mt,Et){return this.options.headerIds?"<h"+at+' id="'+(this.options.headerPrefix+Et.slug(Mt))+'">'+je+"</h"+at+">\n":"<h"+at+">"+je+"</h"+at+">\n"},Sn.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Sn.list=function(je,at,Mt){var Et=at?"ol":"ul";return"<"+Et+(at&&1!==Mt?' start="'+Mt+'"':"")+">\n"+je+"</"+Et+">\n"},Sn.listitem=function(je){return"<li>"+je+"</li>\n"},Sn.checkbox=function(je){return"<input "+(je?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Sn.paragraph=function(je){return"<p>"+je+"</p>\n"},Sn.table=function(je,at){return at&&(at="<tbody>"+at+"</tbody>"),"<table>\n<thead>\n"+je+"</thead>\n"+at+"</table>\n"},Sn.tablerow=function(je){return"<tr>\n"+je+"</tr>\n"},Sn.tablecell=function(je,at){var Mt=at.header?"th":"td";return(at.align?"<"+Mt+' align="'+at.align+'">':"<"+Mt+">")+je+"</"+Mt+">\n"},Sn.strong=function(je){return"<strong>"+je+"</strong>"},Sn.em=function(je){return"<em>"+je+"</em>"},Sn.codespan=function(je){return"<code>"+je+"</code>"},Sn.br=function(){return this.options.xhtml?"<br/>":"<br>"},Sn.del=function(je){return"<del>"+je+"</del>"},Sn.link=function(je,at,Mt){if(null===(je=an(this.options.sanitize,this.options.baseUrl,je)))return Mt;var Et='<a href="'+st(je)+'"';return at&&(Et+=' title="'+at+'"'),Et+">"+Mt+"</a>"},Sn.image=function(je,at,Mt){if(null===(je=an(this.options.sanitize,this.options.baseUrl,je)))return Mt;var Et='<img src="'+je+'" alt="'+Mt+'"';return at&&(Et+=' title="'+at+'"'),Et+(this.options.xhtml?"/>":">")},Sn.text=function(je){return je},Mn}(),Wn=function(){function Mn(){}var Sn=Mn.prototype;return Sn.strong=function(je){return je},Sn.em=function(je){return je},Sn.codespan=function(je){return je},Sn.del=function(je){return je},Sn.html=function(je){return je},Sn.text=function(je){return je},Sn.link=function(je,at,Mt){return""+Mt},Sn.image=function(je,at,Mt){return""+Mt},Sn.br=function(){return""},Mn}(),Kn=function(){function Mn(){this.seen={}}var Sn=Mn.prototype;return Sn.serialize=function(je){return je.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Sn.getNextSafeSlug=function(je,at){var Mt=je,Et=0;if(this.seen.hasOwnProperty(Mt)){Et=this.seen[je];do{Mt=je+"-"+ ++Et}while(this.seen.hasOwnProperty(Mt))}return at||(this.seen[je]=Et,this.seen[Mt]=0),Mt},Sn.slug=function(je,at){void 0===at&&(at={});var Mt=this.serialize(je);return this.getNextSafeSlug(Mt,at.dryrun)},Mn}(),jn=function(){function Mn(Xt){this.options=Xt||ot.defaults,this.options.renderer=this.options.renderer||new un,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Wn,this.slugger=new Kn}Mn.parse=function(je,at){return new Mn(at).parse(je)},Mn.parseInline=function(je,at){return new Mn(at).parseInline(je)};var Sn=Mn.prototype;return Sn.parse=function(je,at){void 0===at&&(at=!0);var Et,Vt,zt,sn,kn,oi,mi,gi,ai,li,$i,Zi,Pi,At,Rt,Pt,hn,An,Hn,Mt="",ni=je.length;for(Et=0;Et<ni;Et++)if(li=je[Et],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[li.type]&&(!1!==(Hn=this.options.extensions.renderers[li.type].call({parser:this},li))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(li.type)))Mt+=Hn||"";else switch(li.type){case"space":continue;case"hr":Mt+=this.renderer.hr();continue;case"heading":Mt+=this.renderer.heading(this.parseInline(li.tokens),li.depth,ft(this.parseInline(li.tokens,this.textRenderer)),this.slugger);continue;case"code":Mt+=this.renderer.code(li.text,li.lang,li.escaped);continue;case"table":for(gi="",mi="",sn=li.header.length,Vt=0;Vt<sn;Vt++)mi+=this.renderer.tablecell(this.parseInline(li.header[Vt].tokens),{header:!0,align:li.align[Vt]});for(gi+=this.renderer.tablerow(mi),ai="",sn=li.rows.length,Vt=0;Vt<sn;Vt++){for(mi="",kn=(oi=li.rows[Vt]).length,zt=0;zt<kn;zt++)mi+=this.renderer.tablecell(this.parseInline(oi[zt].tokens),{header:!1,align:li.align[zt]});ai+=this.renderer.tablerow(mi)}Mt+=this.renderer.table(gi,ai);continue;case"blockquote":ai=this.parse(li.tokens),Mt+=this.renderer.blockquote(ai);continue;case"list":for($i=li.ordered,Zi=li.start,Pi=li.loose,sn=li.items.length,ai="",Vt=0;Vt<sn;Vt++)Pt=(Rt=li.items[Vt]).checked,hn=Rt.task,At="",Rt.task&&(An=this.renderer.checkbox(Pt),Pi?Rt.tokens.length>0&&"paragraph"===Rt.tokens[0].type?(Rt.tokens[0].text=An+" "+Rt.tokens[0].text,Rt.tokens[0].tokens&&Rt.tokens[0].tokens.length>0&&"text"===Rt.tokens[0].tokens[0].type&&(Rt.tokens[0].tokens[0].text=An+" "+Rt.tokens[0].tokens[0].text)):Rt.tokens.unshift({type:"text",text:An}):At+=An),At+=this.parse(Rt.tokens,Pi),ai+=this.renderer.listitem(At,hn,Pt);Mt+=this.renderer.list(ai,$i,Zi);continue;case"html":Mt+=this.renderer.html(li.text);continue;case"paragraph":Mt+=this.renderer.paragraph(this.parseInline(li.tokens));continue;case"text":for(ai=li.tokens?this.parseInline(li.tokens):li.text;Et+1<ni&&"text"===je[Et+1].type;)ai+="\n"+((li=je[++Et]).tokens?this.parseInline(li.tokens):li.text);Mt+=at?this.renderer.paragraph(ai):ai;continue;default:var $n='Token with "'+li.type+'" type was not found.';if(this.options.silent)return void console.error($n);throw new Error($n)}return Mt},Sn.parseInline=function(je,at){at=at||this.renderer;var Et,Vt,zt,Mt="",sn=je.length;for(Et=0;Et<sn;Et++)if(Vt=je[Et],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Vt.type]&&(!1!==(zt=this.options.extensions.renderers[Vt.type].call({parser:this},Vt))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Vt.type)))Mt+=zt||"";else switch(Vt.type){case"escape":case"text":Mt+=at.text(Vt.text);break;case"html":Mt+=at.html(Vt.text);break;case"link":Mt+=at.link(Vt.href,Vt.title,this.parseInline(Vt.tokens,at));break;case"image":Mt+=at.image(Vt.href,Vt.title,Vt.text);break;case"strong":Mt+=at.strong(this.parseInline(Vt.tokens,at));break;case"em":Mt+=at.em(this.parseInline(Vt.tokens,at));break;case"codespan":Mt+=at.codespan(Vt.text);break;case"br":Mt+=at.br();break;case"del":Mt+=at.del(this.parseInline(Vt.tokens,at));break;default:var kn='Token with "'+Vt.type+'" type was not found.';if(this.options.silent)return void console.error(kn);throw new Error(kn)}return Mt},Mn}();function Nn(Mn,Sn,Xt){if(typeof Mn>"u"||null===Mn)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof Mn)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Mn)+", string expected");if("function"==typeof Sn&&(Xt=Sn,Sn=null),yi(Sn=Zn({},Nn.defaults,Sn||{})),Xt){var at,je=Sn.highlight;try{at=Jt.lex(Mn,Sn)}catch(sn){return Xt(sn)}var Mt=function(kn){var oi;if(!kn)try{Sn.walkTokens&&Nn.walkTokens(at,Sn.walkTokens),oi=jn.parse(at,Sn)}catch(mi){kn=mi}return Sn.highlight=je,kn?Xt(kn):Xt(null,oi)};if(!je||je.length<3||(delete Sn.highlight,!at.length))return Mt();var Et=0;return Nn.walkTokens(at,function(sn){"code"===sn.type&&(Et++,setTimeout(function(){je(sn.text,sn.lang,function(kn,oi){if(kn)return Mt(kn);null!=oi&&oi!==sn.text&&(sn.text=oi,sn.escaped=!0),0==--Et&&Mt()})},0))}),void(0===Et&&Mt())}function Vt(sn){if(sn.message+="\nPlease report this to https://github.com/markedjs/marked.",Sn.silent)return"<p>An error occurred:</p><pre>"+st(sn.message+"",!0)+"</pre>";throw sn}try{var zt=Jt.lex(Mn,Sn);if(Sn.walkTokens){if(Sn.async)return Promise.all(Nn.walkTokens(zt,Sn.walkTokens)).then(function(){return jn.parse(zt,Sn)}).catch(Vt);Nn.walkTokens(zt,Sn.walkTokens)}return jn.parse(zt,Sn)}catch(sn){Vt(sn)}}Nn.options=Nn.setOptions=function(Mn){return Zn(Nn.defaults,Mn),function Bt(Mn){ot.defaults=Mn}(Nn.defaults),Nn},Nn.getDefaults=Ft,Nn.defaults=ot.defaults,Nn.use=function(){for(var Mn=arguments.length,Sn=new Array(Mn),Xt=0;Xt<Mn;Xt++)Sn[Xt]=arguments[Xt];var Mt,je=Zn.apply(void 0,[{}].concat(Sn)),at=Nn.defaults.extensions||{renderers:{},childTokens:{}};Sn.forEach(function(Et){if(Et.extensions&&(Mt=!0,Et.extensions.forEach(function(zt){if(!zt.name)throw new Error("extension name required");if(zt.renderer){var sn=at.renderers?at.renderers[zt.name]:null;at.renderers[zt.name]=sn?function(){for(var kn=arguments.length,oi=new Array(kn),mi=0;mi<kn;mi++)oi[mi]=arguments[mi];var gi=zt.renderer.apply(this,oi);return!1===gi&&(gi=sn.apply(this,oi)),gi}:zt.renderer}if(zt.tokenizer){if(!zt.level||"block"!==zt.level&&"inline"!==zt.level)throw new Error("extension level must be 'block' or 'inline'");at[zt.level]?at[zt.level].unshift(zt.tokenizer):at[zt.level]=[zt.tokenizer],zt.start&&("block"===zt.level?at.startBlock?at.startBlock.push(zt.start):at.startBlock=[zt.start]:"inline"===zt.level&&(at.startInline?at.startInline.push(zt.start):at.startInline=[zt.start]))}zt.childTokens&&(at.childTokens[zt.name]=zt.childTokens)})),Et.renderer&&function(){var zt=Nn.defaults.renderer||new un,sn=function(mi){var gi=zt[mi];zt[mi]=function(){for(var ai=arguments.length,li=new Array(ai),$i=0;$i<ai;$i++)li[$i]=arguments[$i];var Zi=Et.renderer[mi].apply(zt,li);return!1===Zi&&(Zi=gi.apply(zt,li)),Zi}};for(var kn in Et.renderer)sn(kn);je.renderer=zt}(),Et.tokenizer&&function(){var zt=Nn.defaults.tokenizer||new pt,sn=function(mi){var gi=zt[mi];zt[mi]=function(){for(var ai=arguments.length,li=new Array(ai),$i=0;$i<ai;$i++)li[$i]=arguments[$i];var Zi=Et.tokenizer[mi].apply(zt,li);return!1===Zi&&(Zi=gi.apply(zt,li)),Zi}};for(var kn in Et.tokenizer)sn(kn);je.tokenizer=zt}(),Et.walkTokens){var Vt=Nn.defaults.walkTokens;je.walkTokens=function(zt){var sn=[];return sn.push(Et.walkTokens.call(this,zt)),Vt&&(sn=sn.concat(Vt.call(this,zt))),sn}}Mt&&(je.extensions=at),Nn.setOptions(je)})},Nn.walkTokens=function(Mn,Sn){for(var Mt,Xt=[],je=function(){var Vt=Mt.value;switch(Xt=Xt.concat(Sn.call(Nn,Vt)),Vt.type){case"table":for(var sn,zt=Ht(Vt.header);!(sn=zt()).done;)Xt=Xt.concat(Nn.walkTokens(sn.value.tokens,Sn));for(var mi,oi=Ht(Vt.rows);!(mi=oi()).done;)for(var li,ai=Ht(mi.value);!(li=ai()).done;)Xt=Xt.concat(Nn.walkTokens(li.value.tokens,Sn));break;case"list":Xt=Xt.concat(Nn.walkTokens(Vt.items,Sn));break;default:Nn.defaults.extensions&&Nn.defaults.extensions.childTokens&&Nn.defaults.extensions.childTokens[Vt.type]?Nn.defaults.extensions.childTokens[Vt.type].forEach(function(Zi){Xt=Xt.concat(Nn.walkTokens(Vt[Zi],Sn))}):Vt.tokens&&(Xt=Xt.concat(Nn.walkTokens(Vt.tokens,Sn)))}},at=Ht(Mn);!(Mt=at()).done;)je();return Xt},Nn.parseInline=function(Mn,Sn){if(typeof Mn>"u"||null===Mn)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof Mn)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Mn)+", string expected");yi(Sn=Zn({},Nn.defaults,Sn||{}));try{var Xt=Jt.lexInline(Mn,Sn);return Sn.walkTokens&&Nn.walkTokens(Xt,Sn.walkTokens),jn.parseInline(Xt,Sn)}catch(je){if(je.message+="\nPlease report this to https://github.com/markedjs/marked.",Sn.silent)return"<p>An error occurred:</p><pre>"+st(je.message+"",!0)+"</pre>";throw je}},Nn.Parser=jn,Nn.parser=jn.parse,Nn.Renderer=un,Nn.TextRenderer=Wn,Nn.Lexer=Jt,Nn.lexer=Jt.lex,Nn.Tokenizer=pt,Nn.Slugger=Kn,Nn.parse=Nn;var gn=Nn.options,Wt=Nn.setOptions,mn=Nn.use,En=Nn.walkTokens,On=Nn.parseInline,Rn=Nn,Qn=jn.parse,fi=Jt.lex;ot.Lexer=Jt,ot.Parser=jn,ot.Renderer=un,ot.Slugger=Kn,ot.TextRenderer=Wn,ot.Tokenizer=pt,ot.getDefaults=Ft,ot.lexer=fi,ot.marked=Nn,ot.options=gn,ot.parse=Rn,ot.parseInline=On,ot.parser=Qn,ot.setOptions=Wt,ot.use=mn,ot.walkTokens=En,Object.defineProperty(ot,"__esModule",{value:!0})},(Je.amd=!0)?Je(0,De):"object"==typeof exports?De(exports):De((ot=typeof globalThis<"u"?globalThis:ot||self).marked={})}(),l.Lexer||exports,l.Parser||exports,l.Renderer||exports,l.Slugger||exports,l.TextRenderer||exports,l.Tokenizer||exports,l.getDefaults||exports,l.lexer||exports;var H=l.marked||exports.marked,R=(l.options||exports,l.parse||exports,l.parseInline||exports,l.parser||exports,l.setOptions||exports,l.use||exports,l.walkTokens||exports,t(83713)),W=t(75109),Y=t(24311),oe=t(76698),z=t(6653),G=t(32417);const Q=Object.freeze({image:(Je,ot,De)=>{let Qe=[],mt=[];return Je&&(({href:Je,dimensions:Qe}=(0,v.nI)(Je)),mt.push(`src="${(0,v.oO)(Je)}"`)),De&&mt.push(`alt="${(0,v.oO)(De)}"`),ot&&mt.push(`title="${(0,v.oO)(ot)}"`),Qe.length&&(mt=mt.concat(Qe)),"<img "+mt.join(" ")+">"},paragraph:Je=>`<p>${Je}</p>`,link:(Je,ot,De)=>"string"!=typeof Je?"":(Je===De&&(De=(0,v._W)(De)),ot="string"==typeof ot?(0,v.oO)((0,v._W)(ot)):"",`<a href="${Je=(Je=(0,v._W)(Je)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${ot||Je}" draggable="false">${De}</a>`)});function K(Je,ot={},De={}){var Qe,mt;const kt=new r.Cm;let Ht=!1;const Ft=(0,x.n)(ot),Bt=function(ft){let wt;try{wt=(0,R.qg)(decodeURIComponent(ft))}catch{}return wt?(wt=(0,Y.PI)(wt,qt=>{if(Je.uris&&Je.uris[qt])return G.r.revive(Je.uris[qt])}),encodeURIComponent(JSON.stringify(wt))):ft},rt=function(ft,wt){let Yt=G.r.revive(Je.uris&&Je.uris[ft]);return wt?ft.startsWith(W.ny.data+":")?ft:(Yt||(Yt=G.r.parse(ft)),W.zl.uriToBrowserUri(Yt).toString(!0)):Yt&&G.r.parse(ft).toString()!==Yt.toString()?(Yt.query&&(Yt=Yt.with({query:Bt(Yt.query)})),Yt.toString()):ft},Ut=new H.Renderer;Ut.image=Q.image,Ut.link=Q.link,Ut.paragraph=Q.paragraph;const St=[],ke=[];if(ot.codeBlockRendererSync?Ut.code=(ft,wt)=>{const qt=f.r.nextId(),Yt=ot.codeBlockRendererSync(ie(wt),ft);return ke.push([qt,Yt]),`<div class="code" data-code="${qt}">${(0,z.ih)(ft)}</div>`}:ot.codeBlockRenderer&&(Ut.code=(ft,wt)=>{const qt=f.r.nextId(),Yt=ot.codeBlockRenderer(ie(wt),ft);return St.push(Yt.then(en=>[qt,en])),`<div class="code" data-code="${qt}">${(0,z.ih)(ft)}</div>`}),ot.actionHandler){const ft=function(Yt){let en=Yt.target;if("A"===en.tagName||(en=en.parentElement,en&&"A"===en.tagName))try{let an=en.dataset.href;an&&(Je.baseUri&&(an=ae(G.r.from(Je.baseUri),an)),ot.actionHandler.callback(an,Yt))}catch(an){(0,P.dz)(an)}finally{Yt.preventDefault()}},wt=ot.actionHandler.disposables.add(new w.f(Ft,"click")),qt=ot.actionHandler.disposables.add(new w.f(Ft,"auxclick"));ot.actionHandler.disposables.add(D.Jh.any(wt.event,qt.event)(Yt=>{const en=new S.P(a.zk(Ft),Yt);!en.leftButton&&!en.middleButton||ft(en)})),ot.actionHandler.disposables.add(a.ko(Ft,"keydown",Yt=>{const en=new C.Z(Yt);!en.equals(10)&&!en.equals(3)||ft(en)}))}Je.supportHtml||(De.sanitizer=ft=>{var wt;return null!==(wt=ot.sanitizerOptions)&&void 0!==wt&&wt.replaceWithPlaintext?(0,z.ih)(ft):(Je.isTrusted?ft.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?ft:""},De.sanitize=!0,De.silent=!0),De.renderer=Ut;let Ye,Ze=null!==(Qe=Je.value)&&void 0!==Qe?Qe:"";if(Ze.length>1e5&&(Ze=`${Ze.substr(0,1e5)}\u2026`),Je.supportThemeIcons&&(Ze=(0,_.sA)(Ze)),ot.fillInIncompleteTokens){const ft={...H.defaults,...De},qt=function He(Je){for(let ot=0;ot<it;ot++){const De=me(Je);if(!De)break;Je=De}return Je}(H.lexer(Ze,ft));Ye=H.parser(qt,ft)}else Ye=H.parse(Ze,De);Je.supportThemeIcons&&(Ye=(0,b.n)(Ye).map(wt=>"string"==typeof wt?wt:wt.outerHTML).join(""));const Ke=(new DOMParser).parseFromString(se({isTrusted:Je.isTrusted,...ot.sanitizerOptions},Ye),"text/html");if(Ke.body.querySelectorAll("img, audio, video, source").forEach(ft=>{const wt=ft.getAttribute("src");if(wt){let qt=wt;try{Je.baseUri&&(qt=ae(G.r.from(Je.baseUri),qt))}catch{}if(ft.setAttribute("src",rt(qt,!0)),ot.remoteImageIsAllowed){const Yt=G.r.parse(qt);Yt.scheme!==W.ny.file&&Yt.scheme!==W.ny.data&&!ot.remoteImageIsAllowed(Yt)&&ft.replaceWith(a.$("",void 0,ft.outerHTML))}}}),Ke.body.querySelectorAll("a").forEach(ft=>{const wt=ft.getAttribute("href");if(ft.setAttribute("href",""),!wt||/^data:|javascript:/i.test(wt)||/^command:/i.test(wt)&&!Je.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(wt))ft.replaceWith(...ft.childNodes);else{let qt=rt(wt,!1);Je.baseUri&&(qt=ae(G.r.from(Je.baseUri),wt)),ft.dataset.href=qt}}),Ft.innerHTML=se({isTrusted:Je.isTrusted,...ot.sanitizerOptions},Ke.body.innerHTML),St.length>0)Promise.all(St).then(ft=>{var wt,qt;if(Ht)return;const Yt=new Map(ft),en=Ft.querySelectorAll("div[data-code]");for(const an of en){const lt=Yt.get(null!==(wt=an.dataset.code)&&void 0!==wt?wt:"");lt&&a.Ln(an,lt)}null===(qt=ot.asyncRenderCallback)||void 0===qt||qt.call(ot)});else if(ke.length>0){const ft=new Map(ke),wt=Ft.querySelectorAll("div[data-code]");for(const qt of wt){const Yt=ft.get(null!==(mt=qt.dataset.code)&&void 0!==mt?mt:"");Yt&&a.Ln(qt,Yt)}}if(ot.asyncRenderCallback)for(const ft of Ft.getElementsByTagName("img")){const wt=kt.add(a.ko(ft,"load",()=>{wt.dispose(),ot.asyncRenderCallback()}))}return{element:Ft,dispose:()=>{Ht=!0,kt.dispose()}}}function ie(Je){if(!Je)return"";const ot=Je.split(/[\s+|:|,|\{|\?]/,1);return ot.length?ot[0]:Je}function ae(Je,ot){return/^\w[\w\d+.-]*:/.test(ot)?ot:Je.path.endsWith("/")?(0,oe.o1)(Je,ot).toString():(0,oe.o1)((0,oe.pD)(Je),ot).toString()}const de=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function se(Je,ot){const{config:De,allowedSchemes:Qe}=function _e(Je){var ot;const De=[W.ny.http,W.ny.https,W.ny.mailto,W.ny.data,W.ny.file,W.ny.vscodeFileResource,W.ny.vscodeRemote,W.ny.vscodeRemoteResource];return Je.isTrusted&&De.push(W.ny.command),{config:{ALLOWED_TAGS:null!==(ot=Je.allowedTags)&&void 0!==ot?ot:[...a.TT],ALLOWED_ATTR:ge,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:De}}(Je),mt=new r.Cm;mt.add(ht("uponSanitizeAttribute",(kt,Ht)=>{var Ft;if("style"!==Ht.attrName&&"class"!==Ht.attrName){if("INPUT"===kt.tagName&&"checkbox"===(null===(Ft=kt.attributes.getNamedItem("type"))||void 0===Ft?void 0:Ft.value)){if("type"===Ht.attrName&&"checkbox"===Ht.attrValue||"disabled"===Ht.attrName||"checked"===Ht.attrName)return void(Ht.keepAttr=!0);Ht.keepAttr=!1}}else{if("SPAN"===kt.tagName){if("style"===Ht.attrName)return void(Ht.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(Ht.attrValue));if("class"===Ht.attrName)return void(Ht.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(Ht.attrValue))}Ht.keepAttr=!1}})),mt.add(ht("uponSanitizeElement",(kt,Ht)=>{var Ft,Bt;if("input"===Ht.tagName&&("checkbox"===(null===(Ft=kt.attributes.getNamedItem("type"))||void 0===Ft?void 0:Ft.value)?kt.setAttribute("disabled",""):Je.replaceWithPlaintext||null===(Bt=kt.parentElement)||void 0===Bt||Bt.removeChild(kt)),Je.replaceWithPlaintext&&!Ht.allowedTags[Ht.tagName]&&"body"!==Ht.tagName&&kt.parentElement){let rt,Ut;if("#comment"===Ht.tagName)rt=`\x3c!--${kt.textContent}--\x3e`;else{const Ye=de.includes(Ht.tagName),st=kt.attributes.length?" "+Array.from(kt.attributes).map(Ke=>`${Ke.name}="${Ke.value}"`).join(" "):"";rt=`<${Ht.tagName}${st}>`,Ye||(Ut=`</${Ht.tagName}>`)}const St=document.createDocumentFragment(),ke=kt.parentElement.ownerDocument.createTextNode(rt);St.appendChild(ke);const Ze=Ut?kt.parentElement.ownerDocument.createTextNode(Ut):void 0;for(;kt.firstChild;)St.appendChild(kt.firstChild);Ze&&St.appendChild(Ze),kt.parentElement.replaceChild(St,kt)}})),mt.add(a.a4(Qe));try{return F.aj(ot,{...De,RETURN_TRUSTED_TYPE:!0})}finally{mt.dispose()}}const ge=["align","autoplay","alt","checked","class","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","type","width","start"];function ye(Je){return"string"==typeof Je?Je:function M(Je,ot){var De;let Qe=null!==(De=Je.value)&&void 0!==De?De:"";return Qe.length>1e5&&(Qe=`${Qe.substr(0,1e5)}\u2026`),se({isTrusted:!1},H.parse(Qe,{renderer:ot?ne.value:Ie.value}).replace(/&(#\d+|[a-zA-Z]+);/g,kt=>{var Ht;return null!==(Ht=ce.get(kt))&&void 0!==Ht?Ht:kt})).toString()}(Je)}const ce=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]);function Se(){const Je=new H.Renderer;return Je.code=ot=>ot,Je.blockquote=ot=>ot,Je.html=ot=>"",Je.heading=(ot,De,Qe)=>ot+"\n",Je.hr=()=>"",Je.list=(ot,De)=>ot,Je.listitem=ot=>ot+"\n",Je.paragraph=ot=>ot+"\n",Je.table=(ot,De)=>ot+De+"\n",Je.tablerow=ot=>ot,Je.tablecell=(ot,De)=>ot+" ",Je.strong=ot=>ot,Je.em=ot=>ot,Je.codespan=ot=>ot,Je.br=()=>"\n",Je.del=ot=>ot,Je.image=(ot,De,Qe)=>"",Je.text=ot=>ot,Je.link=(ot,De,Qe)=>Qe,Je}const Ie=new d.d(Je=>Se()),ne=new d.d(()=>{const Je=Se();return Je.code=ot=>"\n```"+ot+"```\n",Je});function ue(Je){let ot="";return Je.forEach(De=>{ot+=De.raw}),ot}function we(Je){var ot,De;if(Je.tokens)for(let Qe=Je.tokens.length-1;Qe>=0;Qe--){const mt=Je.tokens[Qe];if("text"===mt.type){const kt=mt.raw.split("\n"),Ht=kt[kt.length-1];if(Ht.includes("`"))return Ee(Je);if(Ht.includes("**"))return dt(Je);if(Ht.match(/\*\w/))return be(Je);if(Ht.match(/(^|\s)__\w/))return vt(Je);if(Ht.match(/(^|\s)_\w/))return Ce(Je);if(Me(Ht)||Ve(Ht)&&Je.tokens.slice(0,Qe).some(Ft=>"text"===Ft.type&&Ft.raw.match(/\[[^\]]*$/))){const Ft=Je.tokens.slice(Qe+1);return"link"===(null===(ot=Ft[0])||void 0===ot?void 0:ot.type)&&"text"===(null===(De=Ft[1])||void 0===De?void 0:De.type)&&Ft[1].raw.match(/^ *"[^"]*$/)||Ht.match(/^[^"]* +"[^"]*$/)?Fe(Je):Ne(Je)}if(Ht.match(/(^|\s)\[\w*/))return qe(Je)}}}function Me(Je){return!!Je.match(/(^|\s)\[.*\]\(\w*/)}function Ve(Je){return!!Je.match(/^[^\[]*\]\([^\)]*$/)}function $e(Je){var ot;const De=Je.items[Je.items.length-1],Qe=De.tokens?De.tokens[De.tokens.length-1]:void 0;let mt;if("text"===Qe?.type&&!("inRawBlock"in De)&&(mt=we(Qe)),!mt||"paragraph"!==mt.type)return;const kt=ue(Je.items.slice(0,-1)),Ht=null===(ot=De.raw.match(/^(\s*(-|\d+\.) +)/))||void 0===ot?void 0:ot[0];if(!Ht)return;const Ft=Ht+ue(De.tokens.slice(0,-1))+mt.raw,Bt=H.lexer(kt+Ft)[0];return"list"===Bt.type?Bt:void 0}const it=3;function me(Je){let ot,De;for(ot=0;ot<Je.length;ot++){const Qe=Je[ot];let mt;if("paragraph"===Qe.type&&(mt=Qe.raw.match(/(\n|^)(````*)/))){const kt=mt[2];De=le(Je.slice(ot),kt);break}if("paragraph"===Qe.type&&Qe.raw.match(/(\n|^)\|/)){De=on(Je.slice(ot));break}if(ot===Je.length-1&&"list"===Qe.type){const kt=$e(Qe);if(kt){De=[kt];break}}if(ot===Je.length-1&&"paragraph"===Qe.type){const kt=we(Qe);if(kt){De=[kt];break}}}if(De){const Qe=[...Je.slice(0,ot),...De];return Qe.links=Je.links,Qe}return null}function le(Je,ot){const De=ue(Je);return H.lexer(De+`\n${ot}`)}function Ee(Je){return fn(Je,"`")}function be(Je){return fn(Je,"*")}function Ce(Je){return fn(Je,"_")}function Ne(Je){return fn(Je,")")}function Fe(Je){return fn(Je,'")')}function qe(Je){return fn(Je,"](https://microsoft.com)")}function dt(Je){return fn(Je,"**")}function vt(Je){return fn(Je,"__")}function fn(Je,ot){const De=ue(Array.isArray(Je)?Je:[Je]);return H.lexer(De+ot)[0]}function on(Je){const ot=ue(Je),De=ot.split("\n");let Qe,mt=!1;for(let kt=0;kt<De.length;kt++){const Ht=De[kt].trim();if(typeof Qe>"u"&&Ht.match(/^\s*\|/)){const Ft=Ht.match(/(\|[^\|]+)(?=\||$)/g);Ft&&(Qe=Ft.length)}else if("number"==typeof Qe){if(!Ht.match(/^\s*\|/))return;if(kt!==De.length-1)return;mt=!0}}if("number"==typeof Qe&&Qe>0){const kt=mt?De.slice(0,-1).join("\n"):ot,Ht=!!kt.match(/\|\s*$/),Ft=kt+(Ht?"":"|")+`\n|${" --- |".repeat(Qe)}`;return H.lexer(Ft)}}function ht(Je,ot){return F.$w(Je,ot),(0,r.s)(()=>F.SV(Je))}},18163:(tt,xe,t)=>{t.d(xe,{P:()=>S,$:()=>b});var a=t(53378);const F=new WeakMap;function w(P){if(!P.parent||P.parent===P)return null;try{const D=P.location,v=P.parent.location;if("null"!==D.origin&&"null"!==v.origin&&D.origin!==v.origin)return null}catch{return null}return P.parent}class x{static getSameOriginWindowChain(D){let v=F.get(D);if(!v){v=[],F.set(D,v);let f,_=D;do{f=w(_),v.push(f?{window:new WeakRef(_),iframeElement:_.frameElement||null}:{window:new WeakRef(_),iframeElement:null}),_=f}while(_)}return v.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(D,v){var _,f;if(!v||D===v)return{top:0,left:0};let d=0,r=0;const l=this.getSameOriginWindowChain(D);for(const g of l){const p=g.window.deref();if(d+=null!==(_=p?.scrollY)&&void 0!==_?_:0,r+=null!==(f=p?.scrollX)&&void 0!==f?f:0,p===v||!g.iframeElement)break;const m=g.iframeElement.getBoundingClientRect();d+=m.top,r+=m.left}return{top:d,left:r}}}var C=t(21828);class S{constructor(D,v){this.timestamp=Date.now(),this.browserEvent=v,this.leftButton=0===v.button,this.middleButton=1===v.button,this.rightButton=2===v.button,this.buttons=v.buttons,this.target=v.target,this.detail=v.detail||1,"dblclick"===v.type&&(this.detail=2),this.ctrlKey=v.ctrlKey,this.shiftKey=v.shiftKey,this.altKey=v.altKey,this.metaKey=v.metaKey,"number"==typeof v.pageX?(this.posx=v.pageX,this.posy=v.pageY):(this.posx=v.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=v.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const _=x.getPositionOfChildWindowRelativeToAncestorWindow(D,v.view);this.posx-=_.left,this.posy-=_.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class b{constructor(D,v=0,_=0){var f;this.browserEvent=D||null,this.target=D?D.target||D.targetNode||D.srcElement:null,this.deltaY=_,this.deltaX=v;let d=!1;if(a.H8){const r=navigator.userAgent.match(/Chrome\/(\d+)/);d=(r?parseInt(r[1]):123)<=122}if(D){const r=D,l=D,g=(null===(f=D.view)||void 0===f?void 0:f.devicePixelRatio)||1;typeof r.wheelDeltaY<"u"?this.deltaY=d?r.wheelDeltaY/(120*g):r.wheelDeltaY/120:typeof l.VERTICAL_AXIS<"u"&&l.axis===l.VERTICAL_AXIS?this.deltaY=-l.detail/3:"wheel"===D.type&&(this.deltaY=D.deltaMode===D.DOM_DELTA_LINE?a.gm&&!C.zx?-D.deltaY/3:-D.deltaY:-D.deltaY/40),typeof r.wheelDeltaX<"u"?this.deltaX=a.nr&&C.uF?-r.wheelDeltaX/120:d?r.wheelDeltaX/(120*g):r.wheelDeltaX/120:typeof l.HORIZONTAL_AXIS<"u"&&l.axis===l.HORIZONTAL_AXIS?this.deltaX=-D.detail/3:"wheel"===D.type&&(this.deltaX=D.deltaMode===D.DOM_DELTA_LINE?a.gm&&!C.zx?-D.deltaX/3:-D.deltaX:-D.deltaX/40),0===this.deltaY&&0===this.deltaX&&D.wheelDelta&&(this.deltaY=d?D.wheelDelta/(120*g):D.wheelDelta/120)}}preventDefault(){var D;null===(D=this.browserEvent)||void 0===D||D.preventDefault()}stopPropagation(){var D;null===(D=this.browserEvent)||void 0===D||D.stopPropagation()}}},49956:(tt,xe,t)=>{var a;t.d(xe,{p:()=>a}),function(F){const w={total:0,min:Number.MAX_VALUE,max:0},x={...w},C={...w},S={...w};let b=0;const P={keydown:0,input:0,render:0};function v(){1===P.keydown&&(performance.mark("keydown/end"),P.keydown=2)}function _(){performance.mark("input/start"),P.input=1,m()}function d(){1===P.input&&(performance.mark("input/end"),P.input=2)}function p(){1===P.render&&(performance.mark("render/end"),P.render=2)}function m(){setTimeout(T)}function T(){2===P.keydown&&2===P.input&&2===P.render&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),A("keydown",w),A("input",x),A("render",C),A("inputlatency",S),b++,function k(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),P.keydown=0,P.input=0,P.render=0}())}function A(L,j){const Z=performance.getEntriesByName(L)[0].duration;j.total+=Z,j.min=Math.min(j.min,Z),j.max=Math.max(j.max,Z)}function N(L){return{average:L.total/b,max:L.max,min:L.min}}function H(L){L.total=0,L.min=Number.MAX_VALUE,L.max=0}F.onKeyDown=function D(){T(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),P.keydown=1,queueMicrotask(v)},F.onBeforeInput=_,F.onInput=function f(){0===P.input&&_(),queueMicrotask(d)},F.onKeyUp=function r(){T()},F.onSelectionChange=function l(){T()},F.onRenderStart=function g(){2===P.keydown&&2===P.input&&0===P.render&&(performance.mark("render/start"),P.render=1,queueMicrotask(p),m())},F.getAndClearMeasurements=function O(){if(0===b)return;const L={keydown:N(w),input:N(x),render:N(C),total:N(S),sampleCount:b};return H(w),H(x),H(C),H(S),b=0,L}}(a||(a={}))},51655:(tt,xe,t)=>{t.d(xe,{c:()=>b});var a=t(91874),F=t(5643),w=t(99031);class x extends w.jG{constructor(D){super(),this._onDidChange=this._register(new F.vl),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(D,!0),this._mediaQueryList=null,this._handleChange(D,!1)}_handleChange(D,v){var _;null===(_=this._mediaQueryList)||void 0===_||_.removeEventListener("change",this._listener),this._mediaQueryList=D.matchMedia(`(resolution: ${D.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),v&&this._onDidChange.fire()}}class C extends w.jG{get value(){return this._value}constructor(D){super(),this._onDidChange=this._register(new F.vl),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(D);const v=this._register(new x(D));this._register(v.onDidChange(()=>{this._value=this._getPixelRatio(D),this._onDidChange.fire(this._value)}))}_getPixelRatio(D){const v=document.createElement("canvas").getContext("2d");return(D.devicePixelRatio||1)/(v.webkitBackingStorePixelRatio||v.mozBackingStorePixelRatio||v.msBackingStorePixelRatio||v.oBackingStorePixelRatio||v.backingStorePixelRatio||1)}}const b=new class S{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(D){const v=(0,a.Q2)(D);let _=this.mapWindowIdToPixelRatioMonitor.get(v);return _||(_=(0,w.lC)(new C(D)),this.mapWindowIdToPixelRatioMonitor.set(v,_),(0,w.lC)(F.Jh.once(a.Fv)(({vscodeWindowId:f})=>{f===v&&(_?.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(v))}))),_}getInstance(D){return this._getOrCreatePixelRatioMonitor(D)}}},28541:(tt,xe,t)=>{t.d(xe,{B:()=>D,q:()=>v});var a=t(91874),F=t(63096),w=t(30833),x=t(17353),C=t(5643),S=t(99031),b=t(18002),D=function(_){return _.Tap="-monaco-gesturetap",_.Change="-monaco-gesturechange",_.Start="-monaco-gesturestart",_.End="-monaco-gesturesend",_.Contextmenu="-monaco-gesturecontextmenu",_}(D||{});class v extends S.jG{constructor(){super(),this.dispatched=!1,this.targets=new b.w,this.ignoreTargets=new b.w,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(C.Jh.runAndSubscribe(a.Iv,({window:f,disposables:d})=>{d.add(a.ko(f.document,"touchstart",r=>this.onTouchStart(r),{passive:!1})),d.add(a.ko(f.document,"touchend",r=>this.onTouchEnd(f,r))),d.add(a.ko(f.document,"touchmove",r=>this.onTouchMove(r),{passive:!1}))},{window:F.G,disposables:this._store}))}static addTarget(f){if(!v.isTouchDevice())return S.jG.None;v.INSTANCE||(v.INSTANCE=(0,S.lC)(new v));const d=v.INSTANCE.targets.push(f);return(0,S.s)(d)}static ignoreTarget(f){if(!v.isTouchDevice())return S.jG.None;v.INSTANCE||(v.INSTANCE=(0,S.lC)(new v));const d=v.INSTANCE.ignoreTargets.push(f);return(0,S.s)(d)}static isTouchDevice(){return"ontouchstart"in F.G||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(f){const d=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let r=0,l=f.targetTouches.length;r<l;r++){const g=f.targetTouches.item(r);this.activeTouches[g.identifier]={id:g.identifier,initialTarget:g.target,initialTimeStamp:d,initialPageX:g.pageX,initialPageY:g.pageY,rollingTimestamps:[d],rollingPageX:[g.pageX],rollingPageY:[g.pageY]};const p=this.newGestureEvent(D.Start,g.target);p.pageX=g.pageX,p.pageY=g.pageY,this.dispatchEvent(p)}this.dispatched&&(f.preventDefault(),f.stopPropagation(),this.dispatched=!1)}onTouchEnd(f,d){const r=Date.now(),l=Object.keys(this.activeTouches).length;for(let g=0,p=d.changedTouches.length;g<p;g++){const m=d.changedTouches.item(g);if(!this.activeTouches.hasOwnProperty(String(m.identifier))){console.warn("move of an UNKNOWN touch",m);continue}const T=this.activeTouches[m.identifier],A=Date.now()-T.initialTimeStamp;if(A<v.HOLD_DELAY&&Math.abs(T.initialPageX-w.RT(T.rollingPageX))<30&&Math.abs(T.initialPageY-w.RT(T.rollingPageY))<30){const k=this.newGestureEvent(D.Tap,T.initialTarget);k.pageX=w.RT(T.rollingPageX),k.pageY=w.RT(T.rollingPageY),this.dispatchEvent(k)}else if(A>=v.HOLD_DELAY&&Math.abs(T.initialPageX-w.RT(T.rollingPageX))<30&&Math.abs(T.initialPageY-w.RT(T.rollingPageY))<30){const k=this.newGestureEvent(D.Contextmenu,T.initialTarget);k.pageX=w.RT(T.rollingPageX),k.pageY=w.RT(T.rollingPageY),this.dispatchEvent(k)}else if(1===l){const k=w.RT(T.rollingPageX),O=w.RT(T.rollingPageY),N=w.RT(T.rollingTimestamps)-T.rollingTimestamps[0],H=k-T.rollingPageX[0],L=O-T.rollingPageY[0],j=[...this.targets].filter(Z=>T.initialTarget instanceof Node&&Z.contains(T.initialTarget));this.inertia(f,j,r,Math.abs(H)/N,H>0?1:-1,k,Math.abs(L)/N,L>0?1:-1,O)}this.dispatchEvent(this.newGestureEvent(D.End,T.initialTarget)),delete this.activeTouches[m.identifier]}this.dispatched&&(d.preventDefault(),d.stopPropagation(),this.dispatched=!1)}newGestureEvent(f,d){const r=document.createEvent("CustomEvent");return r.initEvent(f,!1,!0),r.initialTarget=d,r.tapCount=0,r}dispatchEvent(f){if(f.type===D.Tap){const d=(new Date).getTime();let r=0;r=d-this._lastSetTapCountTime>v.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=d,f.tapCount=r}else(f.type===D.Change||f.type===D.Contextmenu)&&(this._lastSetTapCountTime=0);if(f.initialTarget instanceof Node){for(const r of this.ignoreTargets)if(r.contains(f.initialTarget))return;const d=[];for(const r of this.targets)if(r.contains(f.initialTarget)){let l=0,g=f.initialTarget;for(;g&&g!==r;)l++,g=g.parentElement;d.push([l,r])}d.sort((r,l)=>r[0]-l[0]);for(const[r,l]of d)l.dispatchEvent(f),this.dispatched=!0}}inertia(f,d,r,l,g,p,m,T,A){this.handle=a.PG(f,()=>{const k=Date.now(),O=k-r;let N=0,H=0,L=!0;(l+=v.SCROLL_FRICTION*O)>0&&(L=!1,N=g*l*O),(m+=v.SCROLL_FRICTION*O)>0&&(L=!1,H=T*m*O);const j=this.newGestureEvent(D.Change);j.translationX=N,j.translationY=H,d.forEach(Z=>Z.dispatchEvent(j)),L||this.inertia(f,d,k,l,g,p+N,m,T,A+H)})}onTouchMove(f){const d=Date.now();for(let r=0,l=f.changedTouches.length;r<l;r++){const g=f.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(g.identifier))){console.warn("end of an UNKNOWN touch",g);continue}const p=this.activeTouches[g.identifier],m=this.newGestureEvent(D.Change,p.initialTarget);m.translationX=g.pageX-w.RT(p.rollingPageX),m.translationY=g.pageY-w.RT(p.rollingPageY),m.pageX=g.pageX,m.pageY=g.pageY,this.dispatchEvent(m),p.rollingPageX.length>3&&(p.rollingPageX.shift(),p.rollingPageY.shift(),p.rollingTimestamps.shift()),p.rollingPageX.push(g.pageX),p.rollingPageY.push(g.pageY),p.rollingTimestamps.push(d)}this.dispatched&&(f.preventDefault(),f.stopPropagation(),this.dispatched=!1)}}v.SCROLL_FRICTION=-.005,v.HOLD_DELAY=700,v.CLEAR_TAP_COUNT_TIME=400,function(_,f,d,r){var p,l=arguments.length,g=l<3?f:null===r?r=Object.getOwnPropertyDescriptor(f,d):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(_,f,d,r);else for(var m=_.length-1;m>=0;m--)(p=_[m])&&(g=(l<3?p(g):l>3?p(f,d,g):p(f,d))||g);l>3&&g&&Object.defineProperty(f,d,g)}([x.B],v,"isTouchDevice",null)},87892:(tt,xe,t)=>{t.d(xe,{H:()=>w});var a=t(63096),F=t(25680);function w(x,C){var S;const b=globalThis.MonacoEnvironment;if(b?.createTrustedTypesPolicy)try{return b.createTrustedTypesPolicy(x,C)}catch(P){return void(0,F.dz)(P)}try{return null===(S=a.G.trustedTypes)||void 0===S?void 0:S.createPolicy(x,C)}catch(P){return void(0,F.dz)(P)}}},62686:(tt,xe,t)=>{t.d(xe,{Z4:()=>ce,EH:()=>M,XF:()=>Se});var a=t(53378),F=t(77580),w=t(91874),x=t(28541),C=t(96479),S=t(27354),b=t(92873),P=t(56555),D=t(42371),v=t(87291),_=t(30833),f=t(5643),d=t(79624),r=t(99031),l=t(21828),g=t(85072),p=t.n(g),m=t(97825),T=t.n(m),A=t(77659),k=t.n(A),O=t(55056),N=t.n(O),H=t(10540),L=t.n(H),j=t(41113),Z=t.n(j),te=t(67619),X={};X.styleTagTransform=Z(),X.setAttributes=N(),X.insert=k().bind(null,"head"),X.domAPI=T(),X.insertStyleElement=L(),p()(te.A,X);var R=t(81644);const W=w.$,Y="selectOption.entry.template";class oe{get templateId(){return Y}renderTemplate(ne){const ue=Object.create(null);return ue.root=ne,ue.text=w.BC(ne,W(".option-text")),ue.detail=w.BC(ne,W(".option-detail")),ue.decoratorRight=w.BC(ne,W(".option-decorator-right")),ue}renderElement(ne,ue,we){const Me=we,$e=ne.detail,it=ne.decoratorRight,He=ne.isDisabled;Me.text.textContent=ne.text,Me.detail.textContent=$e||"",Me.decoratorRight.innerText=it||"",He?Me.root.classList.add("option-disabled"):Me.root.classList.remove("option-disabled")}disposeTemplate(ne){}}let z=(()=>{class Ie extends r.jG{constructor(ue,we,Me,Ve,$e){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=Ve,this.selectBoxOptions=$e||Object.create(null),"number"!=typeof this.selectBoxOptions.minBottomMargin?this.selectBoxOptions.minBottomMargin=Ie.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding","string"==typeof this.selectBoxOptions.ariaLabel&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),"string"==typeof this.selectBoxOptions.ariaDescription&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new f.vl,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(Me),this.selected=we||0,ue&&this.setOptions(ue,we),this.initStyleSheet()}setTitle(ue){!this._hover&&ue?this._hover=this._register((0,D.i)().setupUpdatableHover((0,C.nZ)("mouse"),this.selectElement,ue)):this._hover&&this._hover.update(ue)}getHeight(){return 22}getTemplateId(){return Y}constructSelectDropDown(ue){this.contextViewProvider=ue,this.selectDropDownContainer=w.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=w.BC(this.selectDropDownContainer,W(".select-box-details-pane"));const we=w.BC(this.selectDropDownContainer,W(".select-box-dropdown-container-width-control")),Me=w.BC(we,W(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",w.BC(Me,this.widthControlElement),this._dropDownPosition=0,this.styleElement=w.li(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(w.ko(this.selectDropDownContainer,w.Bx.DRAG_START,Ve=>{w.fs.stop(Ve,!0)}))}registerListeners(){let ue;this._register(w.b2(this.selectElement,"change",we=>{this.selected=we.target.selectedIndex,this._onDidSelect.fire({index:we.target.selectedIndex,selected:we.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)})),this._register(w.ko(this.selectElement,w.Bx.CLICK,we=>{w.fs.stop(we),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(w.ko(this.selectElement,w.Bx.MOUSE_DOWN,we=>{w.fs.stop(we)})),this._register(w.ko(this.selectElement,"touchstart",we=>{ue=this._isVisible})),this._register(w.ko(this.selectElement,"touchend",we=>{w.fs.stop(we),ue?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(w.ko(this.selectElement,w.Bx.KEY_DOWN,we=>{const Me=new b.Z(we);let Ve=!1;l.zx?(18===Me.keyCode||16===Me.keyCode||10===Me.keyCode||3===Me.keyCode)&&(Ve=!0):(18===Me.keyCode&&Me.altKey||16===Me.keyCode&&Me.altKey||10===Me.keyCode||3===Me.keyCode)&&(Ve=!0),Ve&&(this.showSelectDropDown(),w.fs.stop(we,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(ue,we){_.aI(this.options,ue)||(this.options=ue,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((Me,Ve)=>{this.selectElement.add(this.createOption(Me.text,Ve,Me.isDisabled)),"string"==typeof Me.description&&(this._hasDetails=!0)})),void 0!==we&&(this.select(we),this._currentSelection=this.selected)}setOptionsList(){var ue;null===(ue=this.selectList)||void 0===ue||ue.splice(0,this.selectList.length,this.options)}select(ue){ue>=0&&ue<this.options.length?this.selected=ue:ue>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(ue){this.selectElement.tabIndex=ue?0:-1}render(ue){this.container=ue,ue.classList.add("select-container"),ue.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const ue=[];this.styles.listFocusBackground&&ue.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&ue.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&ue.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(ue.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),ue.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),ue.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(ue.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),ue.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&ue.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&ue.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&ue.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&ue.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),ue.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),ue.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=ue.join("\n")}styleSelectElement(){var ue,we,Me;const Ve=null!==(ue=this.styles.selectBackground)&&void 0!==ue?ue:"",$e=null!==(we=this.styles.selectForeground)&&void 0!==we?we:"",it=null!==(Me=this.styles.selectBorder)&&void 0!==Me?Me:"";this.selectElement.style.backgroundColor=Ve,this.selectElement.style.color=$e,this.selectElement.style.borderColor=it}styleList(){var ue,we;const Me=null!==(ue=this.styles.selectBackground)&&void 0!==ue?ue:"",Ve=w.gI(this.styles.selectListBackground,Me);this.selectDropDownListContainer.style.backgroundColor=Ve,this.selectionDetailsPane.style.backgroundColor=Ve;const $e=null!==(we=this.styles.focusBorder)&&void 0!==we?we:"";this.selectDropDownContainer.style.outlineColor=$e,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(ue,we,Me){const Ve=document.createElement("option");return Ve.value=ue,Ve.text=ue,Ve.disabled=!!Me,Ve}showSelectDropDown(){this.selectionDetailsPane.innerText="",this.contextViewProvider&&!this._isVisible&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:ue=>this.renderSelectDropDown(ue,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:ue=>this.renderSelectDropDown(ue),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(ue){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),ue&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(ue,we){return ue.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(we),{dispose:()=>{try{ue.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let ue=0;return this.options.forEach((we,Me)=>{this.updateDetail(Me),this.selectionDetailsPane.offsetHeight>ue&&(ue=this.selectionDetailsPane.offsetHeight)}),ue}layoutSelectDropDown(ue){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const we=w.zk(this.selectElement),Me=w.BK(this.selectElement),Ve=w.zk(this.selectElement).getComputedStyle(this.selectElement),$e=parseFloat(Ve.getPropertyValue("--dropdown-padding-top"))+parseFloat(Ve.getPropertyValue("--dropdown-padding-bottom")),it=we.innerHeight-Me.top-Me.height-(this.selectBoxOptions.minBottomMargin||0),He=Me.top-Ie.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,me=this.selectElement.offsetWidth,le=this.setWidthControlElement(this.widthControlElement),Ee=Math.max(le,Math.round(me)).toString()+"px";this.selectDropDownContainer.style.width=Ee,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let be=this.selectList.contentHeight;this._hasDetails&&void 0===this._cachedMaxDetailsHeight&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const Ce=this._hasDetails?this._cachedMaxDetailsHeight:0,Ne=be+$e+Ce,Fe=Math.floor((it-$e-Ce)/this.getHeight()),qe=Math.floor((He-$e-Ce)/this.getHeight());if(ue)return!(Me.top+Me.height>we.innerHeight-22||Me.top<Ie.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||Fe<1&&qe<1||(Fe<Ie.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&qe>Fe&&this.options.length>Fe?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),0));if(Me.top+Me.height>we.innerHeight-22||Me.top<Ie.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||0===this._dropDownPosition&&Fe<1||1===this._dropDownPosition&&qe<1)return this.hideSelectDropDown(!0),!1;if(0===this._dropDownPosition){if(this._isVisible&&Fe+qe<1)return this.hideSelectDropDown(!0),!1;Ne>it&&(be=Fe*this.getHeight())}else Ne>He&&(be=qe*this.getHeight());return this.selectList.layout(be),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=be+$e+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=be+$e+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=Ee,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}return!1}setWidthControlElement(ue){let we=0;if(ue){let Me=0,Ve=0;this.options.forEach(($e,it)=>{const le=$e.text.length+($e.detail?$e.detail.length:0)+($e.decoratorRight?$e.decoratorRight.length:0);le>Ve&&(Me=it,Ve=le)}),ue.textContent=this.options[Me].text+(this.options[Me].decoratorRight?this.options[Me].decoratorRight+" ":""),we=w.Tr(ue)}return we}createSelectList(ue){if(this.selectList)return;this.selectDropDownListContainer=w.BC(ue,W(".select-box-dropdown-list-container")),this.listRenderer=new oe,this.selectList=new v.B8("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:Ve=>{let $e=Ve.text;return Ve.detail&&($e+=`. ${Ve.detail}`),Ve.decoratorRight&&($e+=`. ${Ve.decoratorRight}`),Ve.description&&($e+=`. ${Ve.description}`),$e},getWidgetAriaLabel:()=>(0,R.kg)({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>l.zx?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const we=this._register(new S.f(this.selectDropDownListContainer,"keydown")),Me=f.Jh.chain(we.event,Ve=>Ve.filter(()=>this.selectList.length>0).map($e=>new b.Z($e)));this._register(f.Jh.chain(Me,Ve=>Ve.filter($e=>3===$e.keyCode))(this.onEnter,this)),this._register(f.Jh.chain(Me,Ve=>Ve.filter($e=>2===$e.keyCode))(this.onEnter,this)),this._register(f.Jh.chain(Me,Ve=>Ve.filter($e=>9===$e.keyCode))(this.onEscape,this)),this._register(f.Jh.chain(Me,Ve=>Ve.filter($e=>16===$e.keyCode))(this.onUpArrow,this)),this._register(f.Jh.chain(Me,Ve=>Ve.filter($e=>18===$e.keyCode))(this.onDownArrow,this)),this._register(f.Jh.chain(Me,Ve=>Ve.filter($e=>12===$e.keyCode))(this.onPageDown,this)),this._register(f.Jh.chain(Me,Ve=>Ve.filter($e=>11===$e.keyCode))(this.onPageUp,this)),this._register(f.Jh.chain(Me,Ve=>Ve.filter($e=>14===$e.keyCode))(this.onHome,this)),this._register(f.Jh.chain(Me,Ve=>Ve.filter($e=>13===$e.keyCode))(this.onEnd,this)),this._register(f.Jh.chain(Me,Ve=>Ve.filter($e=>$e.keyCode>=21&&$e.keyCode<=56||$e.keyCode>=85&&$e.keyCode<=113))(this.onCharacter,this)),this._register(w.ko(this.selectList.getHTMLElement(),w.Bx.POINTER_UP,Ve=>this.onPointerUp(Ve))),this._register(this.selectList.onMouseOver(Ve=>typeof Ve.index<"u"&&this.selectList.setFocus([Ve.index]))),this._register(this.selectList.onDidChangeFocus(Ve=>this.onListFocus(Ve))),this._register(w.ko(this.selectDropDownContainer,w.Bx.FOCUS_OUT,Ve=>{!this._isVisible||w.QX(Ve.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(ue){if(!this.selectList.length)return;w.fs.stop(ue);const we=ue.target;if(!we||we.classList.contains("slider"))return;const Me=we.closest(".monaco-list-row");if(!Me)return;const Ve=Number(Me.getAttribute("data-index")),$e=Me.classList.contains("option-disabled");Ve>=0&&Ve<this.options.length&&!$e&&(this.selected=Ve,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(ue,we){const Me=$e=>{for(let it=0;it<$e.childNodes.length;it++){const He=$e.childNodes.item(it);"img"===(He.tagName&&He.tagName.toLowerCase())?$e.removeChild(He):Me(He)}},Ve=(0,P.Gc)({value:ue,supportThemeIcons:!0},{actionHandler:we});return Ve.element.classList.add("select-box-description-markdown"),Me(Ve.element),Ve.element}onListFocus(ue){!this._isVisible||!this._hasDetails||this.updateDetail(ue.indexes[0])}updateDetail(ue){var we,Me;this.selectionDetailsPane.innerText="";const Ve=this.options[ue],$e=null!==(we=Ve?.description)&&void 0!==we?we:"",it=null!==(Me=Ve?.descriptionIsMarkdown)&&void 0!==Me&&Me;$e?(it?this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown($e,Ve.descriptionMarkdownActionHandler)):this.selectionDetailsPane.innerText=$e,this.selectionDetailsPane.style.display="block"):this.selectionDetailsPane.style.display="none",this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(ue){w.fs.stop(ue),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(ue){w.fs.stop(ue),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(ue){if(this.selected<this.options.length-1){w.fs.stop(ue,!0);const we=this.options[this.selected+1].isDisabled;if(we&&this.options.length>this.selected+2)this.selected+=2;else{if(we)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(ue){this.selected>0&&(w.fs.stop(ue,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(ue){w.fs.stop(ue),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(ue){w.fs.stop(ue),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(ue){w.fs.stop(ue),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(ue){w.fs.stop(ue),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(ue){const we=d.YM.toString(ue.keyCode);let Me=-1;for(let Ve=0;Ve<this.options.length-1;Ve++)if(Me=(Ve+this.selected+1)%this.options.length,this.options[Me].text.charAt(0).toUpperCase()===we&&!this.options[Me].isDisabled){this.select(Me),this.selectList.setFocus([Me]),this.selectList.reveal(this.selectList.getFocus()[0]),w.fs.stop(ue);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}return Ie.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,Ie.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,Ie.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3,Ie})();class G extends r.jG{constructor(ne,ue,we,Me){super(),this.selected=0,this.selectBoxOptions=Me||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box","string"==typeof this.selectBoxOptions.ariaLabel&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),"string"==typeof this.selectBoxOptions.ariaDescription&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new f.vl),this.styles=we,this.registerListeners(),this.setOptions(ne,ue)}registerListeners(){this._register(x.q.addTarget(this.selectElement)),[x.B.Tap].forEach(ne=>{this._register(w.ko(this.selectElement,ne,ue=>{this.selectElement.focus()}))}),this._register(w.b2(this.selectElement,"click",ne=>{w.fs.stop(ne,!0)})),this._register(w.b2(this.selectElement,"change",ne=>{this.selectElement.title=ne.target.value,this._onDidSelect.fire({index:ne.target.selectedIndex,selected:ne.target.value})})),this._register(w.b2(this.selectElement,"keydown",ne=>{let ue=!1;l.zx?(18===ne.keyCode||16===ne.keyCode||10===ne.keyCode)&&(ue=!0):(18===ne.keyCode&&ne.altKey||10===ne.keyCode||3===ne.keyCode)&&(ue=!0),ue&&ne.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(ne,ue){(!this.options||!_.aI(this.options,ne))&&(this.options=ne,this.selectElement.options.length=0,this.options.forEach((we,Me)=>{this.selectElement.add(this.createOption(we.text,Me,we.isDisabled))})),void 0!==ue&&this.select(ue)}select(ne){0===this.options.length?this.selected=0:ne>=0&&ne<this.options.length?this.selected=ne:ne>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selectElement.title=this.selected<this.options.length&&"string"==typeof this.options[this.selected].text?this.options[this.selected].text:""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(ne){this.selectElement.tabIndex=ne?0:-1}render(ne){ne.classList.add("select-container"),ne.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var ne,ue,we;this.selectElement&&(this.selectElement.style.backgroundColor=null!==(ne=this.styles.selectBackground)&&void 0!==ne?ne:"",this.selectElement.style.color=null!==(ue=this.styles.selectForeground)&&void 0!==ue?ue:"",this.selectElement.style.borderColor=null!==(we=this.styles.selectBorder)&&void 0!==we?we:"")}createOption(ne,ue,we){const Me=document.createElement("option");return Me.value=ne,Me.text=ne,Me.disabled=!!we,Me}}var Q=t(2673),K=t(95070),ie={};ie.styleTagTransform=Z(),ie.setAttributes=N(),ie.insert=k().bind(null,"head"),ie.domAPI=T(),ie.insertStyleElement=L(),p()(K.A,ie);class se extends Q.x{constructor(ne,ue,we,Me,Ve){super(),this.selectBoxDelegate=l.zx&&!Ve?.useCustomDrawn?new G(ne,ue,Me,Ve):new z(ne,ue,we,Me,Ve),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(ne,ue){this.selectBoxDelegate.setOptions(ne,ue)}select(ne){this.selectBoxDelegate.select(ne)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(ne){this.selectBoxDelegate.setFocusable(ne)}render(ne){this.selectBoxDelegate.render(ne)}}var ge=t(64948),_e=t(66702);t(96861);class M extends r.jG{get action(){return this._action}constructor(ne,ue,we={}){super(),this.options=we,this._context=ne||this,this._action=ue,ue instanceof ge.rc&&this._register(ue.onDidChange(Me=>{this.element&&this.handleActionChangeEvent(Me)}))}handleActionChangeEvent(ne){void 0!==ne.enabled&&this.updateEnabled(),void 0!==ne.checked&&this.updateChecked(),void 0!==ne.class&&this.updateClass(),void 0!==ne.label&&(this.updateLabel(),this.updateTooltip()),void 0!==ne.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new ge.LN)),this._actionRunner}set actionRunner(ne){this._actionRunner=ne}isEnabled(){return this._action.enabled}setActionContext(ne){this._context=ne}render(ne){const ue=this.element=ne;this._register(x.q.addTarget(ne));const we=this.options&&this.options.draggable;we&&(ne.draggable=!0,a.gm&&this._register((0,w.ko)(ne,w.Bx.DRAG_START,Me=>{var Ve;return null===(Ve=Me.dataTransfer)||void 0===Ve?void 0:Ve.setData(F.t.TEXT,this._action.label)}))),this._register((0,w.ko)(ue,x.B.Tap,Me=>this.onClick(Me,!0))),this._register((0,w.ko)(ue,w.Bx.MOUSE_DOWN,Me=>{we||w.fs.stop(Me,!0),this._action.enabled&&0===Me.button&&ue.classList.add("active")})),l.zx&&this._register((0,w.ko)(ue,w.Bx.CONTEXT_MENU,Me=>{0===Me.button&&!0===Me.ctrlKey&&this.onClick(Me)})),this._register((0,w.ko)(ue,w.Bx.CLICK,Me=>{w.fs.stop(Me,!0),this.options&&this.options.isMenu||this.onClick(Me)})),this._register((0,w.ko)(ue,w.Bx.DBLCLICK,Me=>{w.fs.stop(Me,!0)})),[w.Bx.MOUSE_UP,w.Bx.MOUSE_OUT].forEach(Me=>{this._register((0,w.ko)(ue,Me,Ve=>{w.fs.stop(Ve),ue.classList.remove("active")}))})}onClick(ne,ue=!1){var we;w.fs.stop(ne,!0);const Me=_e.z(this._context)?null!==(we=this.options)&&void 0!==we&&we.useEventAsContext?ne:{preserveFocus:ue}:this._context;this.actionRunner.run(this._action,Me)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(ne){this.element&&(this.element.tabIndex=ne?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var ne,ue,we;if(!this.element)return;const Me=null!==(ne=this.getTooltip())&&void 0!==ne?ne:"";if(this.updateAriaLabel(),null!==(ue=this.options.hoverDelegate)&&void 0!==ue&&ue.showNativeHover)this.element.title=Me;else if(this.customHover||""===Me)this.customHover&&this.customHover.update(Me);else{const Ve=null!==(we=this.options.hoverDelegate)&&void 0!==we?we:(0,C.nZ)("element");this.customHover=this._store.add((0,D.i)().setupUpdatableHover(Ve,this.element,Me))}}updateAriaLabel(){var ne;if(this.element){const ue=null!==(ne=this.getTooltip())&&void 0!==ne?ne:"";this.element.setAttribute("aria-label",ue)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class ce extends M{constructor(ne,ue,we){super(ne,ue,we),this.options=we,this.options.icon=void 0!==we.icon&&we.icon,this.options.label=void 0===we.label||we.label,this.cssClass=""}render(ne){super.render(ne),_e.j(this.element);const ue=document.createElement("a");if(ue.classList.add("action-label"),ue.setAttribute("role",this.getDefaultAriaRole()),this.label=ue,this.element.appendChild(ue),this.options.label&&this.options.keybinding){const we=document.createElement("span");we.classList.add("keybinding"),we.textContent=this.options.keybinding,this.element.appendChild(we)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===ge.wv.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(ne){this.label&&(this.label.tabIndex=ne?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let ne=null;return this.action.tooltip?ne=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(ne=this.action.label,this.options.keybinding&&(ne=R.kg({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",ne,this.options.keybinding))),ne??void 0}updateClass(){var ne;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):null===(ne=this.label)||void 0===ne||ne.classList.remove("codicon")}updateEnabled(){var ne,ue;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),null===(ne=this.element)||void 0===ne||ne.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),null===(ue=this.element)||void 0===ue||ue.classList.add("disabled"))}updateAriaLabel(){var ne;if(this.label){const ue=null!==(ne=this.getTooltip())&&void 0!==ne?ne:"";this.label.setAttribute("aria-label",ue)}}updateChecked(){this.label&&(void 0!==this.action.checked?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class Se extends M{constructor(ne,ue,we,Me,Ve,$e,it){super(ne,ue),this.selectBox=new se(we,Me,Ve,$e,it),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(ne){this.selectBox.select(ne)}registerListeners(){this._register(this.selectBox.onDidSelect(ne=>this.runAction(ne.selected,ne.index)))}runAction(ne,ue){this.actionRunner.run(this._action,this.getActionContext(ne,ue))}getActionContext(ne,ue){return ne}setFocusable(ne){this.selectBox.setFocusable(ne)}focus(){var ne;null===(ne=this.selectBox)||void 0===ne||ne.focus()}blur(){var ne;null===(ne=this.selectBox)||void 0===ne||ne.blur()}render(ne){this.selectBox.render(ne)}}},44906:(tt,xe,t)=>{t.d(xe,{E:()=>_});var a=t(10467),F=t(91874),w=t(92873),x=t(62686),C=t(96479),S=t(64948),b=t(5643),P=t(99031),D=t(66702);t(96861);class _ extends P.jG{constructor(d,r={}){var l,g,p,m,T,A,k;let O,N;switch(super(),this._actionRunnerDisposables=this._register(new P.Cm),this.viewItemDisposables=this._register(new P.$w),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new b.vl),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new b.vl({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new b.vl),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new b.vl),this.onWillRun=this._onWillRun.event,this.options=r,this._context=null!==(l=r.context)&&void 0!==l?l:null,this._orientation=null!==(g=this.options.orientation)&&void 0!==g?g:0,this._triggerKeys={keyDown:null!==(m=null===(p=this.options.triggerKeys)||void 0===p?void 0:p.keyDown)&&void 0!==m&&m,keys:null!==(A=null===(T=this.options.triggerKeys)||void 0===T?void 0:T.keys)&&void 0!==A?A:[3,10]},this._hoverDelegate=null!==(k=r.hoverDelegate)&&void 0!==k?k:this._register((0,C.bW)()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new S.LN,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(H=>this._onDidRun.fire(H))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(H=>this._onWillRun.fire(H))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",this._orientation){case 0:O=[15],N=[17];break;case 1:O=[16],N=[18],this.domNode.className+=" vertical"}this._register(F.ko(this.domNode,F.Bx.KEY_DOWN,H=>{const L=new w.Z(H);let j=!0;const Z="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;O&&(L.equals(O[0])||L.equals(O[1]))?j=this.focusPrevious():N&&(L.equals(N[0])||L.equals(N[1]))?j=this.focusNext():L.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():L.equals(14)?j=this.focusFirst():L.equals(13)?j=this.focusLast():L.equals(2)&&Z instanceof x.EH&&Z.trapsArrowNavigation?j=this.focusNext():this.isTriggerKeyEvent(L)?this._triggerKeys.keyDown?this.doTrigger(L):this.triggerKeyDown=!0:j=!1,j&&(L.preventDefault(),L.stopPropagation())})),this._register(F.ko(this.domNode,F.Bx.KEY_UP,H=>{const L=new w.Z(H);this.isTriggerKeyEvent(L)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(L)),L.preventDefault(),L.stopPropagation()):(L.equals(2)||L.equals(1026)||L.equals(16)||L.equals(18)||L.equals(15)||L.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(F.w5(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(F.bq()===this.domNode||!F.QX(F.bq(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),d.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(d){if(this.focusable=d,this.focusable){const r=this.viewItems.find(l=>l instanceof x.EH&&l.isEnabled());r instanceof x.EH&&r.setFocusable(!0)}else this.viewItems.forEach(r=>{r instanceof x.EH&&r.setFocusable(!1)})}isTriggerKeyEvent(d){let r=!1;return this._triggerKeys.keys.forEach(l=>{r=r||d.equals(l)}),r}updateFocusedItem(){var d,r;for(let l=0;l<this.actionsList.children.length;l++){const g=this.actionsList.children[l];if(F.QX(F.bq(),g)){this.focusedItem=l,null===(r=null===(d=this.viewItems[this.focusedItem])||void 0===d?void 0:d.showHover)||void 0===r||r.call(d);break}}}get context(){return this._context}set context(d){this._context=d,this.viewItems.forEach(r=>r.setActionContext(d))}get actionRunner(){return this._actionRunner}set actionRunner(d){this._actionRunner=d,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(r=>this._onDidRun.fire(r))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(r=>this._onWillRun.fire(r))),this.viewItems.forEach(r=>r.actionRunner=d)}getContainer(){return this.domNode}getAction(d){var r;if("number"==typeof d)return null===(r=this.viewItems[d])||void 0===r?void 0:r.action;if(F.sb(d)){for(;d.parentElement!==this.actionsList;){if(!d.parentElement)return;d=d.parentElement}for(let l=0;l<this.actionsList.childNodes.length;l++)if(this.actionsList.childNodes[l]===d)return this.viewItems[l].action}}push(d,r={}){const l=Array.isArray(d)?d:[d];let g=D.Et(r.index)?r.index:null;l.forEach(p=>{const m=document.createElement("li");let T;m.className="action-item",m.setAttribute("role","presentation");const A={hoverDelegate:this._hoverDelegate,...r};this.options.actionViewItemProvider&&(T=this.options.actionViewItemProvider(p,A)),T||(T=new x.Z4(this.context,p,A)),this.options.allowContextMenu||this.viewItemDisposables.set(T,F.ko(m,F.Bx.CONTEXT_MENU,k=>{F.fs.stop(k,!0)})),T.actionRunner=this._actionRunner,T.setActionContext(this.context),T.render(m),this.focusable&&T instanceof x.EH&&0===this.viewItems.length&&T.setFocusable(!0),null===g||g<0||g>=this.actionsList.children.length?(this.actionsList.appendChild(m),this.viewItems.push(T)):(this.actionsList.insertBefore(m,this.actionsList.children[g]),this.viewItems.splice(g,0,T),g++)}),"number"==typeof this.focusedItem&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,P.AS)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),F.w_(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return 0===this.viewItems.length}focus(d){let l,r=!1;if(void 0===d?r=!0:"number"==typeof d?l=d:"boolean"==typeof d&&(r=d),r&&typeof this.focusedItem>"u"){const g=this.viewItems.findIndex(p=>p.isEnabled());this.focusedItem=-1===g?void 0:g,this.updateFocus(void 0,void 0,!0)}else void 0!==l&&(this.focusedItem=l),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(d){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const r=this.focusedItem;let l;do{if(!d&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=r,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,l=this.viewItems[this.focusedItem]}while(this.focusedItem!==r&&(this.options.focusOnlyEnabledItems&&!l.isEnabled()||l.action.id===S.wv.ID));return this.updateFocus(),!0}focusPrevious(d){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const r=this.focusedItem;let l;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!d&&this.options.preventLoopNavigation)return this.focusedItem=r,!1;this.focusedItem=this.viewItems.length-1}l=this.viewItems[this.focusedItem]}while(this.focusedItem!==r&&(this.options.focusOnlyEnabledItems&&!l.isEnabled()||l.action.id===S.wv.ID));return this.updateFocus(!0),!0}updateFocus(d,r,l=!1){var g,p;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:r}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(g=this.viewItems[this.previouslyFocusedItem])||void 0===g||g.blur());const m=void 0!==this.focusedItem?this.viewItems[this.focusedItem]:void 0;if(m){let T=!0;D.Tn(m.focus)||(T=!1),this.options.focusOnlyEnabledItems&&D.Tn(m.isEnabled)&&!m.isEnabled()&&(T=!1),m.action.id===S.wv.ID&&(T=!1),T?(l||this.previouslyFocusedItem!==this.focusedItem)&&(m.focus(d),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:r}),this.previouslyFocusedItem=void 0),T&&(null===(p=m.showHover)||void 0===p||p.call(m))}}doTrigger(d){if(typeof this.focusedItem>"u")return;const r=this.viewItems[this.focusedItem];r instanceof x.EH&&this.run(r._action,null==r._context?d:r._context)}run(d,r){var l=this;return(0,a.A)(function*(){yield l._actionRunner.run(d,r)})()}dispose(){this._context=void 0,this.viewItems=(0,P.AS)(this.viewItems),this.getContainer().remove(),super.dispose()}}},39679:(tt,xe,t)=>{t.d(xe,{xE:()=>L,vr:()=>H,h5:()=>j});var a=t(91874),F=t(85072),w=t.n(F),x=t(97825),C=t.n(x),S=t(77659),b=t.n(S),P=t(55056),D=t.n(P),v=t(10540),_=t.n(v),f=t(41113),d=t.n(f),r=t(35038),l={};l.styleTagTransform=d(),l.setAttributes=D(),l.insert=b().bind(null,"head"),l.domAPI=C(),l.insertStyleElement=_(),w()(r.A,l);const m=2e4;let T,A,k,O,N;function H(te){T=document.createElement("div"),T.className="monaco-aria-container";const X=()=>{const q=document.createElement("div");return q.className="monaco-alert",q.setAttribute("role","alert"),q.setAttribute("aria-atomic","true"),T.appendChild(q),q};A=X(),k=X();const U=()=>{const q=document.createElement("div");return q.className="monaco-status",q.setAttribute("aria-live","polite"),q.setAttribute("aria-atomic","true"),T.appendChild(q),q};O=U(),N=U(),te.appendChild(T)}function L(te){T&&(A.textContent!==te?(a.w_(k),Z(A,te)):(a.w_(A),Z(k,te)))}function j(te){T&&(O.textContent!==te?(a.w_(N),Z(O,te)):(a.w_(O),Z(N,te)))}function Z(te,X){a.w_(te),X.length>m&&(X=X.substr(0,m)),te.textContent=X,te.style.visibility="hidden",te.style.visibility="visible"}},98352:(tt,xe,t)=>{t.d(xe,{$:()=>q});var a=t(91874),F=t(75489),w=t(92873),x=t(56555),C=t(28541),S=t(96479),b=t(51817),P=t(84072),D=t(5643),v=t(13225),_=t(99031),f=t(81072),d=t(85072),r=t.n(d),l=t(97825),g=t.n(l),p=t(77659),m=t.n(p),T=t(55056),A=t.n(T),k=t(10540),O=t.n(k),N=t(41113),H=t.n(N),L=t(18880),j={};j.styleTagTransform=H(),j.setAttributes=A(),j.insert=m().bind(null,"head"),j.domAPI=g(),j.insertStyleElement=O(),r()(L.A,j);var X=t(42371);P.Q1.white.toString(),P.Q1.white.toString();class q extends _.jG{get onDidClick(){return this._onDidClick.event}constructor(W,Y){super(),this._label="",this._onDidClick=this._register(new D.vl),this._onDidEscape=this._register(new D.vl),this.options=Y,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!Y.secondary);const oe=Y.secondary?Y.buttonSecondaryBackground:Y.buttonBackground;this._element.style.color=(Y.secondary?Y.buttonSecondaryForeground:Y.buttonForeground)||"",this._element.style.backgroundColor=oe||"",Y.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),"string"==typeof Y.title&&this.setTitle(Y.title),"string"==typeof Y.ariaLabel&&this._element.setAttribute("aria-label",Y.ariaLabel),W.appendChild(this._element),this._register(C.q.addTarget(this._element)),[a.Bx.CLICK,C.B.Tap].forEach(G=>{this._register((0,a.ko)(this._element,G,Q=>{this.enabled?this._onDidClick.fire(Q):a.fs.stop(Q)}))}),this._register((0,a.ko)(this._element,a.Bx.KEY_DOWN,G=>{const Q=new w.Z(G);let K=!1;this.enabled&&(Q.equals(3)||Q.equals(10))?(this._onDidClick.fire(G),K=!0):Q.equals(9)&&(this._onDidEscape.fire(G),this._element.blur(),K=!0),K&&a.fs.stop(Q,!0)})),this._register((0,a.ko)(this._element,a.Bx.MOUSE_OVER,G=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,a.ko)(this._element,a.Bx.MOUSE_OUT,G=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,a.w5)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(W){const Y=[];for(let oe of(0,b.n)(W))if("string"==typeof oe){if(oe=oe.trim(),""===oe)continue;const z=document.createElement("span");z.textContent=oe,Y.push(z)}else Y.push(oe);return Y}updateBackground(W){let Y;Y=this.options.secondary?W?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:W?this.options.buttonHoverBackground:this.options.buttonBackground,Y&&(this._element.style.backgroundColor=Y)}get element(){return this._element}set label(W){var Y;if(this._label===W||(0,v.VS)(this._label)&&(0,v.VS)(W)&&(0,v.nK)(this._label,W))return;this._element.classList.add("monaco-text-button");const oe=this.options.supportShortLabel?this._labelElement:this._element;if((0,v.VS)(W)){const G=(0,x.Gc)(W,{inline:!0});G.dispose();const Q=null===(Y=G.element.querySelector("p"))||void 0===Y?void 0:Y.innerHTML;if(Q){const K=(0,F.aj)(Q,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});oe.innerHTML=K}else(0,a.Ln)(oe)}else this.options.supportIcons?(0,a.Ln)(oe,...this.getContentElements(W)):oe.textContent=W;let z="";"string"==typeof this.options.title?z=this.options.title:this.options.title&&(z=(0,x.R9)(W)),this.setTitle(z),"string"==typeof this.options.ariaLabel?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",z),this._label=W}get label(){return this._label}set icon(W){this._element.classList.add(...f.L.asClassNameArray(W))}set enabled(W){W?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}setTitle(W){var Y;this._hover||""===W?this._hover&&this._hover.update(W):this._hover=this._register((0,X.i)().setupUpdatableHover(null!==(Y=this.options.hoverDelegate)&&void 0!==Y?Y:(0,S.nZ)("mouse"),this._element,W))}}},59496:(tt,xe,t)=>{var a=t(85072),F=t.n(a),w=t(97825),x=t.n(w),C=t(77659),S=t.n(C),b=t(55056),P=t.n(b),D=t(10540),v=t.n(D),_=t(41113),f=t.n(_),d=t(12171),r={};r.styleTagTransform=f(),r.setAttributes=P(),r.insert=S().bind(null,"head"),r.domAPI=x(),r.insertStyleElement=v(),F()(d.A,r);var p=t(714),m={};m.styleTagTransform=f(),m.setAttributes=P(),m.insert=S().bind(null,"head"),m.domAPI=x(),m.insertStyleElement=v(),F()(p.A,m)},6596:(tt,xe,t)=>{t.d(xe,{x:()=>T});var a=t(91874),F=t(6653),w=t(85072),x=t.n(w),C=t(97825),S=t.n(C),b=t(77659),P=t.n(b),D=t(55056),v=t.n(D),_=t(10540),f=t.n(_),d=t(41113),r=t.n(d),l=t(81684),g={};g.styleTagTransform=r(),g.setAttributes=v(),g.insert=P().bind(null,"head"),g.domAPI=S(),g.insertStyleElement=f(),x()(l.A,g);class T{constructor(k,O,N){this.options=O,this.styles=N,this.count=0,this.element=(0,a.BC)(k,(0,a.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(k){this.count=k,this.render()}setTitleFormat(k){this.titleFormat=k,this.render()}render(){var k,O;this.element.textContent=(0,F.GP)(this.countFormat,this.count),this.element.title=(0,F.GP)(this.titleFormat,this.count),this.element.style.backgroundColor=null!==(k=this.styles.badgeBackground)&&void 0!==k?k:"",this.element.style.color=null!==(O=this.styles.badgeForeground)&&void 0!==O?O:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}},32461:(tt,xe,t)=>{t.d(xe,{d:()=>Z});var a=t(91874),F=t(62686),w=t(92873),x=t(28541),C=t(64948),S=t(5643),b=t(85072),P=t.n(b),D=t(97825),v=t.n(D),_=t(77659),f=t.n(_),d=t(55056),r=t.n(d),l=t(10540),g=t.n(l),p=t(41113),m=t.n(p),T=t(79862),A={};A.styleTagTransform=m(),A.setAttributes=r(),A.insert=f().bind(null,"head"),A.domAPI=v(),A.insertStyleElement=g(),P()(T.A,A);class N extends C.LN{constructor(X,U){super(),this._onDidChangeVisibility=this._register(new S.vl),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,a.BC)(X,(0,a.$)(".monaco-dropdown")),this._label=(0,a.BC)(this._element,(0,a.$)(".dropdown-label"));let q=U.labelRenderer;q||(q=W=>(W.textContent=U.label||"",null));for(const W of[a.Bx.CLICK,a.Bx.MOUSE_DOWN,x.B.Tap])this._register((0,a.ko)(this.element,W,Y=>a.fs.stop(Y,!0)));for(const W of[a.Bx.MOUSE_DOWN,x.B.Tap])this._register((0,a.ko)(this._label,W,Y=>{(0,a.Er)(Y)&&(Y.detail>1||0!==Y.button)||(this.visible?this.hide():this.show())}));this._register((0,a.ko)(this._label,a.Bx.KEY_UP,W=>{const Y=new w.Z(W);(Y.equals(3)||Y.equals(10))&&(a.fs.stop(W,!0),this.visible?this.hide():this.show())}));const R=q(this._label);R&&this._register(R),this._register(x.q.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class H extends N{constructor(X,U){super(X,U),this._options=U,this._actions=[],this.actions=U.actions||[]}set menuOptions(X){this._menuOptions=X}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(X){this._actions=X}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(X,U)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(X,U):void 0,getKeyBinding:X=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(X):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}var L=t(96479),j=t(42371);class Z extends F.EH{constructor(X,U,q,R=Object.create(null)){super(null,X,R),this.actionItem=null,this._onDidChangeVisibility=this._register(new S.vl),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=U,this.contextMenuProvider=q,this.options=R,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(X){this.actionItem=X;const q=Array.isArray(this.menuActionsOrProvider);if(this.dropdownMenu=this._register(new H(X,{contextMenuProvider:this.contextMenuProvider,labelRenderer:W=>{var Y;this.element=(0,a.BC)(W,(0,a.$)("a.action-label"));let oe=[];return"string"==typeof this.options.classNames?oe=this.options.classNames.split(/\s+/g).filter(z=>!!z):this.options.classNames&&(oe=this.options.classNames),oe.find(z=>"icon"===z)||oe.push("codicon"),this.element.classList.add(...oe),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register((0,j.i)().setupUpdatableHover(null!==(Y=this.options.hoverDelegate)&&void 0!==Y?Y:(0,L.nZ)("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:q?this.menuActionsOrProvider:void 0,actionProvider:q?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry})),this._register(this.dropdownMenu.onDidChangeVisibility(W=>{var Y;null===(Y=this.element)||void 0===Y||Y.setAttribute("aria-expanded",`${W}`),this._onDidChangeVisibility.fire(W)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const W=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return W.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let X=null;return this.action.tooltip?X=this.action.tooltip:this.action.label&&(X=this.action.label),X??void 0}setActionContext(X){super.setActionContext(X),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=X:this.dropdownMenu.menuOptions={context:X})}show(){var X;null===(X=this.dropdownMenu)||void 0===X||X.show()}updateEnabled(){var X,U;const q=!this.action.enabled;null===(X=this.actionItem)||void 0===X||X.classList.toggle("disabled",q),null===(U=this.element)||void 0===U||U.classList.toggle("disabled",q)}}},26878:(tt,xe,t)=>{t.d(xe,{c:()=>_});var a=t(91874),F=t(33973),w=t(34593),x=t(2673),C=t(5643),b=(t(37905),t(81644)),P=t(99031),D=t(96479);const v=b.kg("defaultLabel","input");class _ extends x.x{constructor(d,r,l){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new P.HE),this.additionalToggles=[],this._onDidOptionChange=this._register(new C.vl),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new C.vl),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new C.vl),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new C.vl),this._onKeyUp=this._register(new C.vl),this._onCaseSensitiveKeyDown=this._register(new C.vl),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new C.vl),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=l.placeholder||"",this.validation=l.validation,this.label=l.label||v,this.showCommonFindToggles=!!l.showCommonFindToggles;const g=l.appendCaseSensitiveLabel||"",p=l.appendWholeWordsLabel||"",m=l.appendRegexLabel||"",T=l.history||[],A=!!l.flexibleHeight,k=!!l.flexibleWidth,O=l.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new w.mJ(this.domNode,r,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:T,showHistoryHint:l.showHistoryHint,flexibleHeight:A,flexibleWidth:k,flexibleMaxHeight:O,inputBoxStyles:l.inputBoxStyles}));const N=this._register((0,D.bW)());if(this.showCommonFindToggles){this.regex=this._register(new F.Ix({appendTitle:m,isChecked:!1,hoverDelegate:N,...l.toggleStyles})),this._register(this.regex.onChange(L=>{this._onDidOptionChange.fire(L),!L&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(L=>{this._onRegexKeyDown.fire(L)})),this.wholeWords=this._register(new F.nV({appendTitle:p,isChecked:!1,hoverDelegate:N,...l.toggleStyles})),this._register(this.wholeWords.onChange(L=>{this._onDidOptionChange.fire(L),!L&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new F.bc({appendTitle:g,isChecked:!1,hoverDelegate:N,...l.toggleStyles})),this._register(this.caseSensitive.onChange(L=>{this._onDidOptionChange.fire(L),!L&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(L=>{this._onCaseSensitiveKeyDown.fire(L)}));const H=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,L=>{if(L.equals(15)||L.equals(17)||L.equals(9)){const j=H.indexOf(this.domNode.ownerDocument.activeElement);if(j>=0){let Z=-1;L.equals(17)?Z=(j+1)%H.length:L.equals(15)&&(Z=0===j?H.length-1:j-1),L.equals(9)?(H[j].blur(),this.inputBox.focus()):Z>=0&&H[Z].focus(),a.fs.stop(L,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(l?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),d?.appendChild(this.domNode),this._register(a.ko(this.inputBox.inputElement,"compositionstart",H=>{this.imeSessionInProgress=!0})),this._register(a.ko(this.inputBox.inputElement,"compositionend",H=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,H=>this._onKeyDown.fire(H)),this.onkeyup(this.inputBox.inputElement,H=>this._onKeyUp.fire(H)),this.oninput(this.inputBox.inputElement,H=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,H=>this._onMouseDown.fire(H))}get onDidChange(){return this.inputBox.onDidChange}layout(d){this.inputBox.layout(),this.updateInputBoxPadding(d.collapsedFindWidget)}enable(){var d,r,l;this.domNode.classList.remove("disabled"),this.inputBox.enable(),null===(d=this.regex)||void 0===d||d.enable(),null===(r=this.wholeWords)||void 0===r||r.enable(),null===(l=this.caseSensitive)||void 0===l||l.enable();for(const g of this.additionalToggles)g.enable()}disable(){var d,r,l;this.domNode.classList.add("disabled"),this.inputBox.disable(),null===(d=this.regex)||void 0===d||d.disable(),null===(r=this.wholeWords)||void 0===r||r.disable(),null===(l=this.caseSensitive)||void 0===l||l.disable();for(const g of this.additionalToggles)g.disable()}setFocusInputOnOptionClick(d){this.fixFocusOnOptionClickEnabled=d}setEnabled(d){d?this.enable():this.disable()}setAdditionalToggles(d){for(const r of this.additionalToggles)r.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new P.Cm;for(const r of d??[])this.additionalTogglesDisposables.value.add(r),this.controls.appendChild(r.domNode),this.additionalTogglesDisposables.value.add(r.onChange(l=>{this._onDidOptionChange.fire(l),!l&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(r);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(d=!1){var r,l,g,p,m,T;this.inputBox.paddingRight=d?0:(null!==(l=null===(r=this.caseSensitive)||void 0===r?void 0:r.width())&&void 0!==l?l:0)+(null!==(p=null===(g=this.wholeWords)||void 0===g?void 0:g.width())&&void 0!==p?p:0)+(null!==(T=null===(m=this.regex)||void 0===m?void 0:m.width())&&void 0!==T?T:0)+this.additionalToggles.reduce((A,k)=>A+k.width(),0)}getValue(){return this.inputBox.value}setValue(d){this.inputBox.value!==d&&(this.inputBox.value=d)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var d,r;return null!==(r=null===(d=this.caseSensitive)||void 0===d?void 0:d.checked)&&void 0!==r&&r}setCaseSensitive(d){this.caseSensitive&&(this.caseSensitive.checked=d)}getWholeWords(){var d,r;return null!==(r=null===(d=this.wholeWords)||void 0===d?void 0:d.checked)&&void 0!==r&&r}setWholeWords(d){this.wholeWords&&(this.wholeWords.checked=d)}getRegex(){var d,r;return null!==(r=null===(d=this.regex)||void 0===d?void 0:d.checked)&&void 0!==r&&r}setRegex(d){this.regex&&(this.regex.checked=d,this.validate())}focusOnCaseSensitive(){var d;null===(d=this.caseSensitive)||void 0===d||d.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(d){this.inputBox.showMessage(d)}clearMessage(){this.inputBox.hideMessage()}}},33973:(tt,xe,t)=>{t.d(xe,{Ix:()=>v,bc:()=>P,nV:()=>D});var a=t(96479),F=t(48469),w=t(15320),x=t(81644);const C=x.kg("caseDescription","Match Case"),S=x.kg("wordsDescription","Match Whole Word"),b=x.kg("regexDescription","Use Regular Expression");class P extends F.l{constructor(f){var d;super({icon:w.W.caseSensitive,title:C+f.appendTitle,isChecked:f.isChecked,hoverDelegate:null!==(d=f.hoverDelegate)&&void 0!==d?d:(0,a.nZ)("element"),inputActiveOptionBorder:f.inputActiveOptionBorder,inputActiveOptionForeground:f.inputActiveOptionForeground,inputActiveOptionBackground:f.inputActiveOptionBackground})}}class D extends F.l{constructor(f){var d;super({icon:w.W.wholeWord,title:S+f.appendTitle,isChecked:f.isChecked,hoverDelegate:null!==(d=f.hoverDelegate)&&void 0!==d?d:(0,a.nZ)("element"),inputActiveOptionBorder:f.inputActiveOptionBorder,inputActiveOptionForeground:f.inputActiveOptionForeground,inputActiveOptionBackground:f.inputActiveOptionBackground})}}class v extends F.l{constructor(f){var d;super({icon:w.W.regex,title:b+f.appendTitle,isChecked:f.isChecked,hoverDelegate:null!==(d=f.hoverDelegate)&&void 0!==d?d:(0,a.nZ)("element"),inputActiveOptionBorder:f.inputActiveOptionBorder,inputActiveOptionForeground:f.inputActiveOptionForeground,inputActiveOptionBackground:f.inputActiveOptionBackground})}}},16218:(tt,xe,t)=>{t.d(xe,{_:()=>b});var a=t(91874),F=t(42371),w=t(96479),x=t(51817),C=t(99031),S=t(24311);class b extends C.jG{constructor(D,v){var _;super(),this.options=v,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(_=v?.supportIcons)&&void 0!==_&&_,this.domNode=a.BC(D,a.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(D,v=[],_="",f){D||(D=""),f&&(D=b.escapeNewLines(D,v)),(!this.didEverRender||this.text!==D||this.title!==_||!S.aI(this.highlights,v))&&(this.text=D,this.title=_,this.highlights=v,this.render())}render(){var D,v,_,f;const d=[];let r=0;for(const l of this.highlights){if(l.end===l.start)continue;if(r<l.start){const m=this.text.substring(r,l.start);this.supportIcons?d.push(...(0,x.n)(m)):d.push(m),r=l.start}const g=this.text.substring(r,l.end),p=a.$("span.highlight",void 0,...this.supportIcons?(0,x.n)(g):[g]);l.extraClasses&&p.classList.add(...l.extraClasses),d.push(p),r=l.end}if(r<this.text.length){const l=this.text.substring(r);this.supportIcons?d.push(...(0,x.n)(l)):d.push(l)}if(a.Ln(this.domNode,...d),null!==(v=null===(D=this.options)||void 0===D?void 0:D.hoverDelegate)&&void 0!==v&&v.showNativeHover)this.domNode.title=this.title;else if(this.customHover||""===this.title)this.customHover&&this.customHover.update(this.title);else{const l=null!==(f=null===(_=this.options)||void 0===_?void 0:_.hoverDelegate)&&void 0!==f?f:(0,w.nZ)("mouse");this.customHover=this._register((0,F.i)().setupUpdatableHover(l,this.domNode,this.title))}this.didEverRender=!0}static escapeNewLines(D,v){let _=0,f=0;return D.replace(/\r\n|\r|\n/g,(d,r)=>{f="\r\n"===d?-1:0,r+=_;for(const l of v)l.end<=r||(l.start>=r&&(l.start+=f),l.end>=r&&(l.end+=f));return _+=f,"\u23ce"})}}},42371:(tt,xe,t)=>{t.d(xe,{e:()=>F,i:()=>w});let a={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupUpdatableHover:()=>null,triggerUpdatableHover:()=>{}};function F(x){a=x}function w(){return a}},96479:(tt,xe,t)=>{t.d(xe,{MW:()=>S,bW:()=>P,nZ:()=>b});var a=t(97081);let w=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}});const x=new a.d(()=>w("mouse",!1)),C=new a.d(()=>w("element",!1));function S(D){w=D}function b(D){return"element"===D?C.value:x.value}function P(){return w("element",!0)}},76710:(tt,xe,t)=>{t.d(xe,{vV:()=>j,jQ:()=>H,N4:()=>N,M4:()=>Z,vr:()=>L});var a=t(91874),F=t(92873),w=t(23702),x=t(99031),C=t(85072),S=t.n(C),b=t(97825),P=t.n(b),D=t(77659),v=t.n(D),_=t(55056),f=t.n(_),d=t(10540),r=t.n(d),l=t(41113),g=t.n(l),p=t(58694),m={};m.styleTagTransform=g(),m.setAttributes=f(),m.insert=v().bind(null,"head"),m.domAPI=P(),m.insertStyleElement=r(),S()(p.A,m);var k=t(81644);const O=a.$;class N extends x.jG{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new w.MU(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class H extends x.jG{static render(X,U,q){return new H(X,U,q)}constructor(X,U,q){super(),this.actionContainer=a.BC(X,O("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=a.BC(this.actionContainer,O("a.action")),this.action.setAttribute("role","button"),U.iconClass&&a.BC(this.action,O(`span.icon.${U.iconClass}`)),a.BC(this.action,O("span")).textContent=q?`${U.label} (${q})`:U.label,this._store.add(new j(this.actionContainer,U.run)),this._store.add(new Z(this.actionContainer,U.run,[3,10])),this.setEnabled(!0)}setEnabled(X){X?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function L(te,X){return te&&X?(0,k.kg)("acessibleViewHint","Inspect this in the accessible view with {0}.",X):te?(0,k.kg)("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}class j extends x.jG{constructor(X,U){super(),this._register(a.ko(X,a.Bx.CLICK,q=>{q.stopPropagation(),q.preventDefault(),U(X)}))}}class Z extends x.jG{constructor(X,U,q){super(),this._register(a.ko(X,a.Bx.KEY_DOWN,R=>{const W=new F.Z(R);q.some(Y=>W.equals(Y))&&(R.stopPropagation(),R.preventDefault(),U(X))}))}}},31297:(tt,xe,t)=>{t.d(xe,{s:()=>Z});var a=t(85072),F=t.n(a),w=t(97825),x=t.n(w),C=t(77659),S=t.n(C),b=t(55056),P=t.n(b),D=t(10540),v=t.n(D),_=t(41113),f=t.n(_),d=t(48134),r={};r.styleTagTransform=f(),r.setAttributes=P(),r.insert=S().bind(null,"head"),r.domAPI=x(),r.insertStyleElement=v(),F()(d.A,r);var p=t(91874),m=t(16218),T=t(99031),A=t(24311),k=t(43850),O=t(96479),N=t(42371),H=t(66702),L=t(605);class j{constructor(R){this._element=R}get element(){return this._element}set textContent(R){this.disposed||R===this._textContent||(this._textContent=R,this._element.textContent=R)}set className(R){this.disposed||R===this._className||(this._className=R,this._element.className=R)}set empty(R){this.disposed||R===this._empty||(this._empty=R,this._element.style.marginLeft=R?"0":"")}dispose(){this.disposed=!0}}class Z extends T.jG{constructor(R,W){var Y;super(),this.customHovers=new Map,this.creationOptions=W,this.domNode=this._register(new j(p.BC(R,p.$(".monaco-icon-label")))),this.labelContainer=p.BC(this.domNode.element,p.$(".monaco-icon-label-container")),this.nameContainer=p.BC(this.labelContainer,p.$("span.monaco-icon-name-container")),this.nameNode=W?.supportHighlights||W?.supportIcons?this._register(new U(this.nameContainer,!!W.supportIcons)):new te(this.nameContainer),this.hoverDelegate=null!==(Y=W?.hoverDelegate)&&void 0!==Y?Y:(0,O.nZ)("mouse")}get element(){return this.domNode.element}setLabel(R,W,Y){var oe;const z=["monaco-icon-label"],G=["monaco-icon-label-container"];let Q="";Y&&(Y.extraClasses&&z.push(...Y.extraClasses),Y.italic&&z.push("italic"),Y.strikethrough&&z.push("strikethrough"),Y.disabledCommand&&G.push("disabled"),Y.title&&(Q+="string"==typeof Y.title?Y.title:R));const K=this.domNode.element.querySelector(".monaco-icon-label-iconpath");if(Y?.iconPath){let ie;K&&p.sb(K)?ie=K:(ie=p.$(".monaco-icon-label-iconpath"),this.domNode.element.prepend(ie)),ie.style.backgroundImage=p.Tf(Y?.iconPath)}else K&&K.remove();if(this.domNode.className=z.join(" "),this.domNode.element.setAttribute("aria-label",Q),this.labelContainer.className=G.join(" "),this.setupHover(Y?.descriptionTitle?this.labelContainer:this.element,Y?.title),this.nameNode.setLabel(R,Y),W||this.descriptionNode){const ie=this.getOrCreateDescriptionNode();ie instanceof m._?(ie.set(W||"",Y?Y.descriptionMatches:void 0,void 0,Y?.labelEscapeNewLines),this.setupHover(ie.element,Y?.descriptionTitle)):(ie.textContent=W&&Y?.labelEscapeNewLines?m._.escapeNewLines(W,[]):W||"",this.setupHover(ie.element,Y?.descriptionTitle||""),ie.empty=!W)}(Y?.suffix||this.suffixNode)&&(this.getOrCreateSuffixNode().textContent=null!==(oe=Y?.suffix)&&void 0!==oe?oe:"")}setupHover(R,W){const Y=this.customHovers.get(R);var z,G;if(Y&&(Y.dispose(),this.customHovers.delete(R)),W)if(this.hoverDelegate.showNativeHover)z=R,(0,H.Kg)(G=W)?z.title=(0,L.pS)(G):G?.markdownNotSupportedFallback?z.title=G.markdownNotSupportedFallback:z.removeAttribute("title");else{const oe=(0,N.i)().setupUpdatableHover(this.hoverDelegate,R,W);oe&&this.customHovers.set(R,oe)}else R.removeAttribute("title")}dispose(){super.dispose();for(const R of this.customHovers.values())R.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const R=this._register(new j(p.Pl(this.nameContainer,p.$("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new j(p.BC(R.element,p.$("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var R;if(!this.descriptionNode){const W=this._register(new j(p.BC(this.labelContainer,p.$("span.monaco-icon-description-container"))));this.descriptionNode=null!==(R=this.creationOptions)&&void 0!==R&&R.supportDescriptionHighlights?this._register(new m._(p.BC(W.element,p.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this._register(new j(p.BC(W.element,p.$("span.label-description"))))}return this.descriptionNode}}class te{constructor(R){this.container=R,this.label=void 0,this.singleLabel=void 0}setLabel(R,W){if(this.label!==R||!(0,A.aI)(this.options,W))if(this.label=R,this.options=W,"string"==typeof R)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=p.BC(this.container,p.$("a.label-name",{id:W?.domId}))),this.singleLabel.textContent=R;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let Y=0;Y<R.length;Y++){const oe=R[Y];p.BC(this.container,p.$("a.label-name",{id:W?.domId&&`${W?.domId}_${Y}`,"data-icon-label-count":R.length,"data-icon-label-index":Y,role:"treeitem"},oe)),Y<R.length-1&&p.BC(this.container,p.$("span.label-separator",void 0,W?.separator||"/"))}}}}class U extends T.jG{constructor(R,W){super(),this.container=R,this.supportIcons=W,this.label=void 0,this.singleLabel=void 0}setLabel(R,W){if(this.label!==R||!(0,A.aI)(this.options,W))if(this.label=R,this.options=W,"string"==typeof R)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new m._(p.BC(this.container,p.$("a.label-name",{id:W?.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(R,W?.matches,void 0,W?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const Y=W?.separator||"/",oe=function X(q,R,W){if(!W)return;let Y=0;return q.map(oe=>{const z={start:Y,end:Y+oe.length},G=W.map(Q=>k.Q.intersect(z,Q)).filter(Q=>!k.Q.isEmpty(Q)).map(({start:Q,end:K})=>({start:Q-Y,end:K-Y}));return Y=z.end+R.length,G})}(R,Y,W?.matches);for(let z=0;z<R.length;z++){const G=R[z],Q=oe?oe[z]:void 0,ie=p.$("a.label-name",{id:W?.domId&&`${W?.domId}_${z}`,"data-icon-label-count":R.length,"data-icon-label-index":z,role:"treeitem"});this._register(new m._(p.BC(this.container,ie),{supportIcons:this.supportIcons})).set(G,Q,void 0,W?.labelEscapeNewLines),z<R.length-1&&p.BC(ie,p.$("span.label-separator",void 0,Y))}}}}},51817:(tt,xe,t)=>{t.d(xe,{n:()=>x,s:()=>C});var a=t(91874),F=t(81072);const w=new RegExp(`(\\\\)?\\$\\((${F.L.iconNameExpression}(?:${F.L.iconModifierExpression})?)\\)`,"g");function x(S){const b=new Array;let P,D=0,v=0;for(;null!==(P=w.exec(S));){v=P.index||0,D<v&&b.push(S.substring(D,v)),D=(P.index||0)+P[0].length;const[,_,f]=P;b.push(_?`$(${f})`:C({id:f}))}return D<S.length&&b.push(S.substring(D)),b}function C(S){const b=a.$("span");return b.classList.add(...F.L.asClassNameArray(S)),b}},34593:(tt,xe,t)=>{t.d(xe,{mJ:()=>Y,x8:()=>R});var a=t(91874),F=t(27354),w=t(48674),x=t(44906),C=t(39679),S=t(42371),b=t(96479),P=t(23702),D=t(2673),v=t(5643);class _{constructor(z,G=0,Q=z.length,K=G-1){this.items=z,this.start=G,this.end=Q,this.index=K}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class f{constructor(z=[],G=10){this._initialize(z),this._limit=G,this._onChange()}getHistory(){return this._elements}add(z){this._history.delete(z),this._history.add(z),this._onChange()}next(){return this._navigator.next()}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return null===this._navigator.current()}has(z){return this._history.has(z)}_onChange(){this._reduceToLimit();const z=this._elements;this._navigator=new _(z,0,z.length,z.length)}_reduceToLimit(){const z=this._elements;z.length>this._limit&&this._initialize(z.slice(z.length-this._limit))}_currentPosition(){const z=this._navigator.current();return z?this._elements.indexOf(z):-1}_initialize(z){this._history=new Set;for(const G of z)this._history.add(G)}get _elements(){const z=[];return this._history.forEach(G=>z.push(G)),z}}var d=t(24311),r=t(85072),l=t.n(r),g=t(97825),p=t.n(g),m=t(77659),T=t.n(m),A=t(55056),k=t.n(A),O=t(10540),N=t.n(O),H=t(41113),L=t.n(H),j=t(1366),Z={};Z.styleTagTransform=L(),Z.setAttributes=k(),Z.insert=T().bind(null,"head"),Z.domAPI=p(),Z.insertStyleElement=N(),l()(j.A,Z);var U=t(81644);const q=a.$,R={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class W extends D.x{constructor(z,G,Q){var K;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new v.vl),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new v.vl),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=G,this.options=Q,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(K=this.options.tooltip)&&void 0!==K?K:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=a.BC(z,q(".monaco-inputbox.idle"));const ie=this.options.flexibleHeight?"textarea":"input",ae=a.BC(this.element,q(".ibwrapper"));if(this.input=a.BC(ae,q(ie+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=a.BC(ae,q("div.mirror")),this.mirror.innerText="\xa0",this.scrollableElement=new P.Se(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),a.BC(z,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(ge=>this.input.scrollTop=ge.scrollTop));const de=this._register(new F.f(z.ownerDocument,"selectionchange")),se=v.Jh.filter(de.event,()=>{const ge=z.ownerDocument.getSelection();return ge?.anchorNode===ae});this._register(se(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new x.E(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(z){this.placeholder=z,this.input.setAttribute("placeholder",z)}setTooltip(z){this.tooltip=z,this.hover?this.hover.update(z):this.hover=this._register((0,S.i)().setupUpdatableHover((0,b.nZ)("mouse"),this.input,z))}get inputElement(){return this.input}get value(){return this.input.value}set value(z){this.input.value!==z&&(this.input.value=z,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:a.OK(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return a.X7(this.input)}select(z=null){this.input.select(),z&&(this.input.setSelectionRange(z.start,z.end),z.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){var z;const G=this.input.selectionStart;return null===G?null:{start:G,end:null!==(z=this.input.selectionEnd)&&void 0!==z?z:G}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(z){this.input.style.width=`calc(100% - ${z}px)`,this.mirror&&(this.mirror.style.paddingRight=z+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const Q=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:this.cachedContentHeight,height:this.cachedHeight}),this.scrollableElement.setScrollPosition({scrollTop:Q})}showMessage(z,G){if("open"===this.state&&(0,d.aI)(this.message,z))return;this.message=z,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(z.type));const Q=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${a.gI(Q.border,"transparent")}`,this.message.content&&(this.hasFocus()||G)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let z=null;return this.validation&&(z=this.validation(this.value),z?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(z)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),z?.type}stylesForType(z){const G=this.options.inputBoxStyles;switch(z){case 1:return{border:G.inputValidationInfoBorder,background:G.inputValidationInfoBackground,foreground:G.inputValidationInfoForeground};case 2:return{border:G.inputValidationWarningBorder,background:G.inputValidationWarningBackground,foreground:G.inputValidationWarningForeground};default:return{border:G.inputValidationErrorBorder,background:G.inputValidationErrorBackground,foreground:G.inputValidationErrorForeground}}}classForType(z){switch(z){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let z;const G=()=>z.style.width=a.Tr(this.element)+"px";let Q;this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:K=>{var ie,ae;if(!this.message)return null;z=a.BC(K,q(".monaco-inputbox-container")),G();const de={inline:!0,className:"monaco-inputbox-message"},se=this.message.formatContent?(0,w.yk)(this.message.content,de):(0,w.S5)(this.message.content,de);se.classList.add(this.classForType(this.message.type));const ge=this.stylesForType(this.message.type);return se.style.backgroundColor=null!==(ie=ge.background)&&void 0!==ie?ie:"",se.style.color=null!==(ae=ge.foreground)&&void 0!==ae?ae:"",se.style.border=ge.border?`1px solid ${ge.border}`:"",a.BC(z,se),null},onHide:()=>{this.state="closed"},layout:G}),Q=3===this.message.type?U.kg("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?U.kg("alertWarningMessage","Warning: {0}",this.message.content):U.kg("alertInfoMessage","Info: {0}",this.message.content),C.xE(Q),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const z=this.value,Q=10===z.charCodeAt(z.length-1)?" ":"";(z+Q).replace(/\u000c/g,"")?this.mirror.textContent=z+Q:this.mirror.innerText="\xa0",this.layout()}applyStyles(){var z,G,Q;const K=this.options.inputBoxStyles,ie=null!==(z=K.inputBackground)&&void 0!==z?z:"",ae=null!==(G=K.inputForeground)&&void 0!==G?G:"",de=null!==(Q=K.inputBorder)&&void 0!==Q?Q:"";this.element.style.backgroundColor=ie,this.element.style.color=ae,this.input.style.backgroundColor="inherit",this.input.style.color=ae,this.element.style.border=`1px solid ${a.gI(de,"transparent")}`}layout(){if(!this.mirror)return;const z=this.cachedContentHeight;this.cachedContentHeight=a.OK(this.mirror),z!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(z){const G=this.inputElement,Q=G.selectionStart,K=G.selectionEnd,ie=G.value;null!==Q&&null!==K&&(this.value=ie.substr(0,Q)+z+ie.substr(K),G.setSelectionRange(Q+1,Q+1),this.layout())}dispose(){var z;this._hideMessage(),this.message=null,null===(z=this.actionbar)||void 0===z||z.dispose(),super.dispose()}}class Y extends W{constructor(z,G,Q){const K=U.kg({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is \u21c5 to represent the up and down arrow keys.']}," or {0} for history","\u21c5"),ie=U.kg({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is \u21c5 to represent the up and down arrow keys.']}," ({0} for history)","\u21c5");super(z,G,Q),this._onDidFocus=this._register(new v.vl),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new v.vl),this.onDidBlur=this._onDidBlur.event,this.history=new f(Q.history,100);const ae=()=>{if(Q.showHistoryHint&&Q.showHistoryHint()&&!this.placeholder.endsWith(K)&&!this.placeholder.endsWith(ie)&&this.history.getHistory().length){const de=this.placeholder.endsWith(")")?K:ie,se=this.placeholder+de;Q.showPlaceholderOnFocus&&!a.X7(this.input)?this.placeholder=se:this.setPlaceHolder(se)}};this.observer=new MutationObserver((de,se)=>{de.forEach(ge=>{ge.target.textContent||ae()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>ae()),this.onblur(this.input,()=>{const de=se=>{if(this.placeholder.endsWith(se)){const ge=this.placeholder.slice(0,this.placeholder.length-se.length);return Q.showPlaceholderOnFocus?this.placeholder=ge:this.setPlaceHolder(ge),!0}return!1};de(ie)||de(K)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(z){this.value&&(z||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let z=this.getNextValue();z&&(z=z===this.value?this.getNextValue():z),this.value=z??"",C.h5(this.value?this.value:U.kg("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let z=this.getPreviousValue();z&&(z=z===this.value?this.getPreviousValue():z),z&&(this.value=z,C.h5(this.value))}setPlaceHolder(z){super.setPlaceHolder(z),this.setTooltip(z)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let z=this.history.current();return z||(z=this.history.last(),this.history.next()),z}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}},62581:(tt,xe,t)=>{t.d(xe,{x:()=>j,l:()=>L});var a=t(91874),F=t(42371),w=t(96479),x=t(13752),C=t(99031),S=t(24311),b=t(85072),P=t.n(b),D=t(97825),v=t.n(D),_=t(77659),f=t.n(_),d=t(55056),r=t.n(d),l=t(10540),g=t.n(l),p=t(41113),m=t.n(p),T=t(95422),A={};A.styleTagTransform=m(),A.setAttributes=r(),A.insert=f().bind(null,"head"),A.domAPI=v(),A.insertStyleElement=g(),P()(T.A,A);var N=t(81644);const H=a.$,L={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class j extends C.jG{constructor(te,X,U){super(),this.os=X,this.keyElements=new Set,this.options=U||Object.create(null);const q=this.options.keybindingLabelForeground;this.domNode=a.BC(te,H(".monaco-keybinding")),q&&(this.domNode.style.color=q),this.hover=this._register((0,F.i)().setupUpdatableHover((0,w.nZ)("mouse"),this.domNode,"")),this.didEverRender=!1,te.appendChild(this.domNode)}get element(){return this.domNode}set(te,X){this.didEverRender&&this.keybinding===te&&j.areSame(this.matches,X)||(this.keybinding=te,this.matches=X,this.render())}render(){var te;if(this.clear(),this.keybinding){const X=this.keybinding.getChords();X[0]&&this.renderChord(this.domNode,X[0],this.matches?this.matches.firstPart:null);for(let q=1;q<X.length;q++)a.BC(this.domNode,H("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,X[q],this.matches?this.matches.chordPart:null);const U=null!==(te=this.options.disableTitle)&&void 0!==te&&te?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(U),this.domNode.setAttribute("aria-label",U||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){a.w_(this.domNode),this.keyElements.clear()}renderChord(te,X,U){const q=x.Of.modifierLabels[this.os];X.ctrlKey&&this.renderKey(te,q.ctrlKey,!!U?.ctrlKey,q.separator),X.shiftKey&&this.renderKey(te,q.shiftKey,!!U?.shiftKey,q.separator),X.altKey&&this.renderKey(te,q.altKey,!!U?.altKey,q.separator),X.metaKey&&this.renderKey(te,q.metaKey,!!U?.metaKey,q.separator);const R=X.keyLabel;R&&this.renderKey(te,R,!!U?.keyCode,"")}renderKey(te,X,U,q){a.BC(te,this.createKeyElement(X,U?".highlight":"")),q&&a.BC(te,H("span.monaco-keybinding-key-separator",void 0,q))}renderUnbound(te){a.BC(te,this.createKeyElement((0,N.kg)("unbound","Unbound")))}createKeyElement(te,X=""){const U=H("span.monaco-keybinding-key"+X,void 0,te);return this.keyElements.add(U),this.options.keybindingLabelBackground&&(U.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(U.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(U.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(U.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),U}static areSame(te,X){return te===X||!te&&!X||!!te&&!!X&&(0,S.aI)(te.firstPart,X.firstPart)&&(0,S.aI)(te.chordPart,X.chordPart)}}},83565:(tt,xe,t)=>{t.d(xe,{ur:()=>L,uO:()=>U});var a=t(77580),F=t(91874),w=t(27354),x=t(28541),C=t(23702),S=t(30833),b=t(86671),P=t(17353),D=t(5643),v=t(99031),_=t(43850),f=t(42110);function d(q,R){const W=[];for(const Y of R){if(q.start>=Y.range.end)continue;if(q.end<Y.range.start)break;const oe=_.Q.intersect(q,Y.range);_.Q.isEmpty(oe)||W.push({range:oe,size:Y.size})}return W}function r({start:q,end:R},W){return{start:q+W,end:R+W}}class p{get paddingTop(){return this._paddingTop}set paddingTop(R){this._size=this._size+R-this._paddingTop,this._paddingTop=R}constructor(R){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=R??0,this._size=this._paddingTop}splice(R,W,Y=[]){const oe=Y.length-W,z=d({start:0,end:R},this.groups),G=d({start:R+W,end:Number.POSITIVE_INFINITY},this.groups).map(K=>({range:r(K.range,oe),size:K.size})),Q=Y.map((K,ie)=>({range:{start:R+ie,end:R+ie+1},size:K.size}));this.groups=function g(...q){return function l(q){const R=[];let W=null;for(const Y of q){const oe=Y.range.start,z=Y.range.end,G=Y.size;W&&G===W.size?W.range.end=z:(W={range:{start:oe,end:z},size:G},R.push(W))}return R}(q.reduce((R,W)=>R.concat(W),[]))}(z,Q,G),this._size=this._paddingTop+this.groups.reduce((K,ie)=>K+ie.size*(ie.range.end-ie.range.start),0)}get count(){const R=this.groups.length;return R?this.groups[R-1].range.end:0}get size(){return this._size}indexAt(R){if(R<0)return-1;if(R<this._paddingTop)return 0;let W=0,Y=this._paddingTop;for(const oe of this.groups){const z=oe.range.end-oe.range.start,G=Y+z*oe.size;if(R<G)return W+Math.floor((R-Y)/oe.size);W+=z,Y=G}return W}indexAfter(R){return Math.min(this.indexAt(R)+1,this.count)}positionAt(R){if(R<0)return-1;let W=0,Y=0;for(const oe of this.groups){const z=oe.range.end-oe.range.start,G=Y+z;if(R<G)return this._paddingTop+W+(R-Y)*oe.size;W+=z*oe.size,Y=G}return-1}}class T{constructor(R){this.renderers=R,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(R){let W=this.getTemplateCache(R).pop(),Y=!1;if(W)Y=this.transactionNodesPendingRemoval.has(W.domNode),Y&&this.transactionNodesPendingRemoval.delete(W.domNode);else{const oe=(0,F.$)(".monaco-list-row");W={domNode:oe,templateId:R,templateData:this.getRenderer(R).renderTemplate(oe)}}return{row:W,isReusingConnectedDomNode:Y}}release(R){R&&this.releaseRow(R)}transact(R){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{R()}finally{for(const W of this.transactionNodesPendingRemoval)this.doRemoveNode(W);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(R){const{domNode:W,templateId:Y}=R;W&&(this.inTransaction?this.transactionNodesPendingRemoval.add(W):this.doRemoveNode(W)),this.getTemplateCache(Y).push(R)}doRemoveNode(R){R.classList.remove("scrolling"),function m(q){var R;try{null===(R=q.parentElement)||void 0===R||R.removeChild(q)}catch{}}(R)}getTemplateCache(R){let W=this.cache.get(R);return W||(W=[],this.cache.set(R,W)),W}dispose(){this.cache.forEach((R,W)=>{for(const Y of R)this.getRenderer(W).disposeTemplate(Y.templateData),Y.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(R){const W=this.renderers.get(R);if(!W)throw new Error(`No renderer found for ${R}`);return W}}var A=t(25680),k=t(45045),O=function(q,R,W,Y){var G,oe=arguments.length,z=oe<3?R:null===Y?Y=Object.getOwnPropertyDescriptor(R,W):Y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(q,R,W,Y);else for(var Q=q.length-1;Q>=0;Q--)(G=q[Q])&&(z=(oe<3?G(z):oe>3?G(R,W,z):G(R,W))||z);return oe>3&&z&&Object.defineProperty(R,W,z),z};const N={CurrentDragAndDropData:void 0},H={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:q=>[q],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class L{constructor(R){this.elements=R}update(){}getData(){return this.elements}}class j{constructor(R){this.elements=R}update(){}getData(){return this.elements}}class Z{constructor(){this.types=[],this.files=[]}update(R){if(R.types&&this.types.splice(0,this.types.length,...R.types),R.files){this.files.splice(0,this.files.length);for(let W=0;W<R.files.length;W++){const Y=R.files.item(W);Y&&(Y.size||Y.type)&&this.files.push(Y)}}}getData(){return{types:this.types,files:this.files}}}class X{constructor(R){this.getSetSize=R?.getSetSize?R.getSetSize.bind(R):(W,Y,oe)=>oe,this.getPosInSet=R?.getPosInSet?R.getPosInSet.bind(R):(W,Y)=>Y+1,this.getRole=R?.getRole?R.getRole.bind(R):W=>"listitem",this.isChecked=R?.isChecked?R.isChecked.bind(R):W=>{}}}class U{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(R){if(R!==this._horizontalScrolling){if(R&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=R,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const W of this.items)this.measureItemWidth(W);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,F.y6)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(R,W,Y,oe=H){var z,G,Q,K,ie,ae,de,se,ge,_e,ye,M,ce;if(this.virtualDelegate=W,this.domId="list_id_"+ ++U.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new b.ve(50),this.splicing=!1,this.dragOverAnimationStopDisposable=v.jG.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=v.jG.None,this.onDragLeaveTimeout=v.jG.None,this.disposables=new v.Cm,this._onDidChangeContentHeight=new D.vl,this._onDidChangeContentWidth=new D.vl,this.onDidChangeContentHeight=D.Jh.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,oe.horizontalScrolling&&oe.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap(null!==(z=oe.paddingTop)&&void 0!==z?z:0);for(const Ie of Y)this.renderers.set(Ie.templateId,Ie);this.cache=this.disposables.add(new T(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof oe.mouseSupport||oe.mouseSupport),this._horizontalScrolling=null!==(G=oe.horizontalScrolling)&&void 0!==G?G:H.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof oe.paddingBottom>"u"?0:oe.paddingBottom,this.accessibilityProvider=new X(oe.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(null!==(Q=oe.transformOptimization)&&void 0!==Q?Q:H.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(x.q.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new f.yE({forceIntegerValues:!0,smoothScrollDuration:null!==(K=oe.smoothScrolling)&&void 0!==K&&K?125:0,scheduleAtNextAnimationFrame:Ie=>(0,F.PG)((0,F.zk)(this.domNode),Ie)})),this.scrollableElement=this.disposables.add(new C.oO(this.rowsContainer,{alwaysConsumeMouseWheel:null!==(ie=oe.alwaysConsumeMouseWheel)&&void 0!==ie?ie:H.alwaysConsumeMouseWheel,horizontal:1,vertical:null!==(ae=oe.verticalScrollMode)&&void 0!==ae?ae:H.verticalScrollMode,useShadows:null!==(de=oe.useShadows)&&void 0!==de?de:H.useShadows,mouseWheelScrollSensitivity:oe.mouseWheelScrollSensitivity,fastScrollSensitivity:oe.fastScrollSensitivity,scrollByPage:oe.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),R.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,F.ko)(this.rowsContainer,x.B.Change,Ie=>this.onTouchChange(Ie))),this.disposables.add((0,F.ko)(this.scrollableElement.getDomNode(),"scroll",Ie=>Ie.target.scrollTop=0)),this.disposables.add((0,F.ko)(this.domNode,"dragover",Ie=>this.onDragOver(this.toDragEvent(Ie)))),this.disposables.add((0,F.ko)(this.domNode,"drop",Ie=>this.onDrop(this.toDragEvent(Ie)))),this.disposables.add((0,F.ko)(this.domNode,"dragleave",Ie=>this.onDragLeave(this.toDragEvent(Ie)))),this.disposables.add((0,F.ko)(this.domNode,"dragend",Ie=>this.onDragEnd(Ie))),this.setRowLineHeight=null!==(se=oe.setRowLineHeight)&&void 0!==se?se:H.setRowLineHeight,this.setRowHeight=null!==(ge=oe.setRowHeight)&&void 0!==ge?ge:H.setRowHeight,this.supportDynamicHeights=null!==(_e=oe.supportDynamicHeights)&&void 0!==_e?_e:H.supportDynamicHeights,this.dnd=null!==(ye=oe.dnd)&&void 0!==ye?ye:this.disposables.add(H.dnd),this.layout(null===(M=oe.initialSize)||void 0===M?void 0:M.height,null===(ce=oe.initialSize)||void 0===ce?void 0:ce.width)}updateOptions(R){let W;if(void 0!==R.paddingBottom&&(this.paddingBottom=R.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==R.smoothScrolling&&this.scrollable.setSmoothScrollDuration(R.smoothScrolling?125:0),void 0!==R.horizontalScrolling&&(this.horizontalScrolling=R.horizontalScrolling),void 0!==R.scrollByPage&&(W={...W??{},scrollByPage:R.scrollByPage}),void 0!==R.mouseWheelScrollSensitivity&&(W={...W??{},mouseWheelScrollSensitivity:R.mouseWheelScrollSensitivity}),void 0!==R.fastScrollSensitivity&&(W={...W??{},fastScrollSensitivity:R.fastScrollSensitivity}),W&&this.scrollableElement.updateOptions(W),void 0!==R.paddingTop&&R.paddingTop!==this.rangeMap.paddingTop){const Y=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),oe=R.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=R.paddingTop,this.render(Y,Math.max(0,this.lastRenderTop+oe),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}createRangeMap(R){return new p(R)}splice(R,W,Y=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(R,W,Y)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(R,W,Y=[]){const oe=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),G=_.Q.intersect(oe,{start:R,end:R+W}),Q=new Map;for(let ue=G.end-1;ue>=G.start;ue--){const we=this.items[ue];if(we.dragStartDisposable.dispose(),we.checkedDisposable.dispose(),we.row){let Me=Q.get(we.templateId);Me||(Me=[],Q.set(we.templateId,Me));const Ve=this.renderers.get(we.templateId);Ve&&Ve.disposeElement&&Ve.disposeElement(we.element,ue,we.row.templateData,we.size),Me.unshift(we.row)}we.row=null,we.stale=!0}const K={start:R+W,end:this.items.length},ie=_.Q.intersect(K,oe),ae=_.Q.relativeComplement(K,oe),de=Y.map(ue=>({id:String(this.itemId++),element:ue,templateId:this.virtualDelegate.getTemplateId(ue),size:this.virtualDelegate.getHeight(ue),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(ue),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:v.jG.None,checkedDisposable:v.jG.None,stale:!1}));let se;0===R&&W>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,de),se=this.items,this.items=de):(this.rangeMap.splice(R,W,de),se=this.items.splice(R,W,...de));const ge=Y.length-W,_e=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),ye=r(ie,ge),M=_.Q.intersect(_e,ye);for(let ue=M.start;ue<M.end;ue++)this.updateItemInDOM(this.items[ue],ue);const ce=_.Q.relativeComplement(ye,_e);for(const ue of ce)for(let we=ue.start;we<ue.end;we++)this.removeItemFromDOM(we);const Se=ae.map(ue=>r(ue,ge)),ne=[{start:R,end:R+Y.length},...Se].map(ue=>_.Q.intersect(_e,ue)).reverse();for(const ue of ne)for(let we=ue.end-1;we>=ue.start;we--){const Ve=Q.get(this.items[we].templateId),$e=Ve?.pop();this.insertItemInDOM(we,$e)}for(const ue of Q.values())for(const we of ue)this.cache.release(we);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),se.map(ue=>ue.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,F.PG)((0,F.zk)(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let R=0;for(const W of this.items)typeof W.width<"u"&&(R=Math.max(R,W.width));this.scrollWidth=R,this.scrollableElement.setScrollDimensions({scrollWidth:0===R?0:R+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const R of this.items)R.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(R){return this.items[R].element}indexOf(R){return this.items.findIndex(W=>W.element===R)}domElement(R){const W=this.items[R].row;return W&&W.domNode}elementHeight(R){return this.items[R].size}elementTop(R){return this.rangeMap.positionAt(R)}indexAt(R){return this.rangeMap.indexAt(R)}indexAfter(R){return this.rangeMap.indexAfter(R)}layout(R,W){const Y={height:"number"==typeof R?R:(0,F.H4)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,Y.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(Y),typeof W<"u"&&(this.renderWidth=W,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof W?W:(0,F.y6)(this.domNode)})}render(R,W,Y,oe,z,G=!1){const Q=this.getRenderRange(W,Y),K=_.Q.relativeComplement(Q,R).reverse(),ie=_.Q.relativeComplement(R,Q);if(G){const ae=_.Q.intersect(R,Q);for(let de=ae.start;de<ae.end;de++)this.updateItemInDOM(this.items[de],de)}this.cache.transact(()=>{for(const ae of ie)for(let de=ae.start;de<ae.end;de++)this.removeItemFromDOM(de);for(const ae of K)for(let de=ae.end-1;de>=ae.start;de--)this.insertItemInDOM(de)}),void 0!==oe&&(this.rowsContainer.style.left=`-${oe}px`),this.rowsContainer.style.top=`-${W}px`,this.horizontalScrolling&&void 0!==z&&(this.rowsContainer.style.width=`${Math.max(z,this.renderWidth)}px`),this.lastRenderTop=W,this.lastRenderHeight=Y}insertItemInDOM(R,W){var Y,oe,z;const G=this.items[R];if(!G.row)if(W)G.row=W,G.stale=!0;else{const de=this.cache.alloc(G.templateId);G.row=de.row,G.stale||(G.stale=de.isReusingConnectedDomNode)}const Q=this.accessibilityProvider.getRole(G.element)||"listitem";G.row.domNode.setAttribute("role",Q);const K=this.accessibilityProvider.isChecked(G.element);if("boolean"==typeof K)G.row.domNode.setAttribute("aria-checked",String(!!K));else if(K){const de=se=>G.row.domNode.setAttribute("aria-checked",String(!!se));de(K.value),G.checkedDisposable=K.onDidChange(()=>de(K.value))}if(G.stale||!G.row.domNode.parentElement){const de=null!==(z=null===(oe=null===(Y=this.items.at(R+1))||void 0===Y?void 0:Y.row)||void 0===oe?void 0:oe.domNode)&&void 0!==z?z:null;(G.row.domNode.parentElement!==this.rowsContainer||G.row.domNode.nextElementSibling!==de)&&this.rowsContainer.insertBefore(G.row.domNode,de),G.stale=!1}this.updateItemInDOM(G,R);const ie=this.renderers.get(G.templateId);if(!ie)throw new Error(`No renderer found for template id ${G.templateId}`);ie?.renderElement(G.element,R,G.row.templateData,G.size);const ae=this.dnd.getDragURI(G.element);G.dragStartDisposable.dispose(),G.row.domNode.draggable=!!ae,ae&&(G.dragStartDisposable=(0,F.ko)(G.row.domNode,"dragstart",de=>this.onDragStart(G.element,ae,de))),this.horizontalScrolling&&(this.measureItemWidth(G),this.eventuallyUpdateScrollWidth())}measureItemWidth(R){if(!R.row||!R.row.domNode)return;R.row.domNode.style.width="fit-content",R.width=(0,F.y6)(R.row.domNode);const W=(0,F.zk)(R.row.domNode).getComputedStyle(R.row.domNode);W.paddingLeft&&(R.width+=parseFloat(W.paddingLeft)),W.paddingRight&&(R.width+=parseFloat(W.paddingRight)),R.row.domNode.style.width=""}updateItemInDOM(R,W){R.row.domNode.style.top=`${this.elementTop(W)}px`,this.setRowHeight&&(R.row.domNode.style.height=`${R.size}px`),this.setRowLineHeight&&(R.row.domNode.style.lineHeight=`${R.size}px`),R.row.domNode.setAttribute("data-index",`${W}`),R.row.domNode.setAttribute("data-last-element",W===this.length-1?"true":"false"),R.row.domNode.setAttribute("data-parity",W%2==0?"even":"odd"),R.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(R.element,W,this.length))),R.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(R.element,W))),R.row.domNode.setAttribute("id",this.getElementDomId(W)),R.row.domNode.classList.toggle("drop-target",R.dropTarget)}removeItemFromDOM(R){const W=this.items[R];if(W.dragStartDisposable.dispose(),W.checkedDisposable.dispose(),W.row){const Y=this.renderers.get(W.templateId);Y&&Y.disposeElement&&Y.disposeElement(W.element,R,W.row.templateData,W.size),this.cache.release(W.row),W.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(R,W){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:R,reuseAnimation:W})}get scrollTop(){return this.getScrollTop()}set scrollTop(R){this.setScrollTop(R)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return D.Jh.map(this.disposables.add(new w.f(this.domNode,"click")).event,R=>this.toMouseEvent(R),this.disposables)}get onMouseDblClick(){return D.Jh.map(this.disposables.add(new w.f(this.domNode,"dblclick")).event,R=>this.toMouseEvent(R),this.disposables)}get onMouseMiddleClick(){return D.Jh.filter(D.Jh.map(this.disposables.add(new w.f(this.domNode,"auxclick")).event,R=>this.toMouseEvent(R),this.disposables),R=>1===R.browserEvent.button,this.disposables)}get onMouseDown(){return D.Jh.map(this.disposables.add(new w.f(this.domNode,"mousedown")).event,R=>this.toMouseEvent(R),this.disposables)}get onMouseOver(){return D.Jh.map(this.disposables.add(new w.f(this.domNode,"mouseover")).event,R=>this.toMouseEvent(R),this.disposables)}get onMouseOut(){return D.Jh.map(this.disposables.add(new w.f(this.domNode,"mouseout")).event,R=>this.toMouseEvent(R),this.disposables)}get onContextMenu(){return D.Jh.any(D.Jh.map(this.disposables.add(new w.f(this.domNode,"contextmenu")).event,R=>this.toMouseEvent(R),this.disposables),D.Jh.map(this.disposables.add(new w.f(this.domNode,x.B.Contextmenu)).event,R=>this.toGestureEvent(R),this.disposables))}get onTouchStart(){return D.Jh.map(this.disposables.add(new w.f(this.domNode,"touchstart")).event,R=>this.toTouchEvent(R),this.disposables)}get onTap(){return D.Jh.map(this.disposables.add(new w.f(this.rowsContainer,x.B.Tap)).event,R=>this.toGestureEvent(R),this.disposables)}toMouseEvent(R){const W=this.getItemIndexFromEventTarget(R.target||null),Y=typeof W>"u"?void 0:this.items[W];return{browserEvent:R,index:W,element:Y&&Y.element}}toTouchEvent(R){const W=this.getItemIndexFromEventTarget(R.target||null),Y=typeof W>"u"?void 0:this.items[W];return{browserEvent:R,index:W,element:Y&&Y.element}}toGestureEvent(R){const W=this.getItemIndexFromEventTarget(R.initialTarget||null),Y=typeof W>"u"?void 0:this.items[W];return{browserEvent:R,index:W,element:Y&&Y.element}}toDragEvent(R){const W=this.getItemIndexFromEventTarget(R.target||null),Y=typeof W>"u"?void 0:this.items[W];return{browserEvent:R,index:W,element:Y&&Y.element,sector:this.getTargetSector(R,W)}}onScroll(R){try{const W=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(W,R.scrollTop,R.height,R.scrollLeft,R.scrollWidth),this.supportDynamicHeights&&this._rerender(R.scrollTop,R.height,R.inSmoothScrolling)}catch(W){throw console.error("Got bad scroll event:",R),W}}onTouchChange(R){R.preventDefault(),R.stopPropagation(),this.scrollTop-=R.translationY}onDragStart(R,W,Y){var oe,z;if(!Y.dataTransfer)return;const G=this.dnd.getDragElements(R);if(Y.dataTransfer.effectAllowed="copyMove",Y.dataTransfer.setData(a.t.TEXT,W),Y.dataTransfer.setDragImage){let Q;this.dnd.getDragLabel&&(Q=this.dnd.getDragLabel(G,Y)),typeof Q>"u"&&(Q=String(G.length));const K=(0,F.$)(".monaco-drag-image");K.textContent=Q;const ae=(de=>{for(;de&&!de.classList.contains("monaco-workbench");)de=de.parentElement;return de||this.domNode.ownerDocument})(this.domNode);ae.appendChild(K),Y.dataTransfer.setDragImage(K,-10,-10),setTimeout(()=>ae.removeChild(K),0)}this.domNode.classList.add("dragging"),this.currentDragData=new L(G),N.CurrentDragAndDropData=new j(G),null===(z=(oe=this.dnd).onDragStart)||void 0===z||z.call(oe,this.currentDragData,Y)}onDragOver(R){var W,Y;if(R.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),N.CurrentDragAndDropData&&"vscode-ui"===N.CurrentDragAndDropData.getData()||(this.setupDragAndDropScrollTopAnimation(R.browserEvent),!R.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(N.CurrentDragAndDropData)this.currentDragData=N.CurrentDragAndDropData;else{if(!R.browserEvent.dataTransfer.types)return!1;this.currentDragData=new Z}const oe=this.dnd.onDragOver(this.currentDragData,R.element,R.index,R.sector,R.browserEvent);if(this.canDrop="boolean"==typeof oe?oe:oe.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let z;R.browserEvent.dataTransfer.dropEffect="boolean"!=typeof oe&&0===(null===(W=oe.effect)||void 0===W?void 0:W.type)?"copy":"move",z="boolean"!=typeof oe&&oe.feedback?oe.feedback:typeof R.index>"u"?[-1]:[R.index],z=(0,S.dM)(z).filter(Q=>Q>=-1&&Q<this.length).sort((Q,K)=>Q-K),z=-1===z[0]?[-1]:z;let G="boolean"!=typeof oe&&oe.effect&&oe.effect.position?oe.effect.position:"drop-target";if(function te(q,R){return Array.isArray(q)&&Array.isArray(R)?(0,S.aI)(q,R):q===R}(this.currentDragFeedback,z)&&this.currentDragFeedbackPosition===G)return!0;if(this.currentDragFeedback=z,this.currentDragFeedbackPosition=G,this.currentDragFeedbackDisposable.dispose(),-1===z[0])this.domNode.classList.add(G),this.rowsContainer.classList.add(G),this.currentDragFeedbackDisposable=(0,v.s)(()=>{this.domNode.classList.remove(G),this.rowsContainer.classList.remove(G)});else{if(z.length>1&&"drop-target"!==G)throw new Error("Can't use multiple feedbacks with position different than 'over'");"drop-target-after"===G&&z[0]<this.length-1&&(z[0]+=1,G="drop-target-before");for(const Q of z){const K=this.items[Q];K.dropTarget=!0,null===(Y=K.row)||void 0===Y||Y.domNode.classList.add(G)}this.currentDragFeedbackDisposable=(0,v.s)(()=>{var Q;for(const K of z){const ie=this.items[K];ie.dropTarget=!1,null===(Q=ie.row)||void 0===Q||Q.domNode.classList.remove(G)}})}return!0}onDragLeave(R){var W,Y;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,b.EQ)(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&(null===(Y=(W=this.dnd).onDragLeave)||void 0===Y||Y.call(W,this.currentDragData,R.element,R.index,R.browserEvent))}onDrop(R){if(!this.canDrop)return;const W=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,N.CurrentDragAndDropData=void 0,W&&R.browserEvent.dataTransfer&&(R.browserEvent.preventDefault(),W.update(R.browserEvent.dataTransfer),this.dnd.drop(W,R.element,R.index,R.sector,R.browserEvent))}onDragEnd(R){var W,Y;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,N.CurrentDragAndDropData=void 0,null===(Y=(W=this.dnd).onDragEnd)||void 0===Y||Y.call(W,R)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=v.jG.None}setupDragAndDropScrollTopAnimation(R){if(!this.dragOverAnimationDisposable){const W=(0,F.cL)(this.domNode).top;this.dragOverAnimationDisposable=(0,F.i0)((0,F.zk)(this.domNode),this.animateDragAndDropScrollTop.bind(this,W))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,b.EQ)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=R.pageY}animateDragAndDropScrollTop(R){if(void 0===this.dragOverMouseY)return;const W=this.dragOverMouseY-R,Y=this.renderHeight-35;W<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(W-35))):W>Y&&(this.scrollTop+=Math.min(14,Math.floor(.3*(W-Y))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(R,W){if(void 0===W)return;const oe=Math.floor(R.offsetY/this.items[W].size/.25);return(0,k.qE)(oe,0,3)}getItemIndexFromEventTarget(R){const W=this.scrollableElement.getDomNode();let Y=R;for(;(0,F.sb)(Y)&&Y!==this.rowsContainer&&W.contains(Y);){const oe=Y.getAttribute("data-index");if(oe){const z=Number(oe);if(!isNaN(z))return z}Y=Y.parentElement}}getRenderRange(R,W){return{start:this.rangeMap.indexAt(R),end:this.rangeMap.indexAfter(R+W-1)}}_rerender(R,W,Y){const oe=this.getRenderRange(R,W);let z,G;R===this.elementTop(oe.start)?(z=oe.start,G=0):oe.end-oe.start>1&&(z=oe.start+1,G=this.elementTop(z)-R);let Q=0;for(;;){const K=this.getRenderRange(R,W);let ie=!1;for(let ae=K.start;ae<K.end;ae++){const de=this.probeDynamicHeight(ae);0!==de&&this.rangeMap.splice(ae,1,[this.items[ae]]),Q+=de,ie=ie||0!==de}if(!ie){0!==Q&&this.eventuallyUpdateScrollDimensions();const ae=_.Q.relativeComplement(oe,K);for(const se of ae)for(let ge=se.start;ge<se.end;ge++)this.items[ge].row&&this.removeItemFromDOM(ge);const de=_.Q.relativeComplement(K,oe).reverse();for(const se of de)for(let ge=se.end-1;ge>=se.start;ge--)this.insertItemInDOM(ge);for(let se=K.start;se<K.end;se++)this.items[se].row&&this.updateItemInDOM(this.items[se],se);if("number"==typeof z){const se=this.scrollable.getFutureScrollPosition().scrollTop-R,ge=this.elementTop(z)-G+se;this.setScrollTop(ge,Y)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(R){var W,Y,oe;const z=this.items[R];if(this.virtualDelegate.getDynamicHeight){const ie=this.virtualDelegate.getDynamicHeight(z.element);if(null!==ie){const ae=z.size;return z.size=ie,z.lastDynamicHeightWidth=this.renderWidth,ie-ae}}if(!z.hasDynamicHeight||z.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(z.element))return 0;const G=z.size;if(z.row)return z.row.domNode.style.height="",z.size=z.row.domNode.offsetHeight,0===z.size&&!(0,F.QX)(z.row.domNode,(0,F.zk)(z.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!"),z.lastDynamicHeightWidth=this.renderWidth,z.size-G;const{row:Q}=this.cache.alloc(z.templateId);Q.domNode.style.height="",this.rowsContainer.appendChild(Q.domNode);const K=this.renderers.get(z.templateId);if(!K)throw new A.D7("Missing renderer for templateId: "+z.templateId);return K.renderElement(z.element,R,Q.templateData,void 0),z.size=Q.domNode.offsetHeight,null===(W=K.disposeElement)||void 0===W||W.call(K,z.element,R,Q.templateData,void 0),null===(oe=(Y=this.virtualDelegate).setDynamicHeight)||void 0===oe||oe.call(Y,z.element,z.size),z.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(Q.domNode),this.cache.release(Q),z.size-G}getElementDomId(R){return`${this.domId}_${R}`}dispose(){var R,W;for(const Y of this.items)if(Y.dragStartDisposable.dispose(),Y.checkedDisposable.dispose(),Y.row){const oe=this.renderers.get(Y.row.templateId);oe&&(null===(R=oe.disposeElement)||void 0===R||R.call(oe,Y.element,-1,Y.row.templateData,void 0),oe.disposeTemplate(Y.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),null===(W=this.dragOverAnimationDisposable)||void 0===W||W.dispose(),this.disposables.dispose()}}U.InstanceCount=0,O([P.B],U.prototype,"onMouseClick",null),O([P.B],U.prototype,"onMouseDblClick",null),O([P.B],U.prototype,"onMouseMiddleClick",null),O([P.B],U.prototype,"onMouseDown",null),O([P.B],U.prototype,"onMouseOver",null),O([P.B],U.prototype,"onMouseOut",null),O([P.B],U.prototype,"onContextMenu",null),O([P.B],U.prototype,"onTouchStart",null),O([P.B],U.prototype,"onTap",null)},87291:(tt,xe,t)=>{t.d(xe,{hb:()=>M,B8:()=>it,MH:()=>ye,_C:()=>G,W0:()=>R,Bm:()=>oe,B6:()=>te,b$:()=>q,bm:()=>U,mh:()=>se,tX:()=>de,Es:()=>Y,xu:()=>W,bG:()=>ce});var a=t(10467),F=t(91874),w=t(27354),x=t(92873),C=t(28541),S=t(39679);class b{constructor(me){this.spliceables=me}splice(me,le,Ee){this.spliceables.forEach(be=>be.splice(me,le,Ee))}}var P=t(30833),D=t(86671),v=t(84072),_=t(17353),f=t(5643),d=t(28467),r=t(99031),l=t(45045),g=t(21828),p=t(66702);t(67119);class T extends Error{constructor(me,le){super(`ListError [${me}] ${le}`)}}var A=t(83565),k=t(18163),O=t(28044),N=function(He,me,le,Ee){var Ne,be=arguments.length,Ce=be<3?me:null===Ee?Ee=Object.getOwnPropertyDescriptor(me,le):Ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ce=Reflect.decorate(He,me,le,Ee);else for(var Fe=He.length-1;Fe>=0;Fe--)(Ne=He[Fe])&&(Ce=(be<3?Ne(Ce):be>3?Ne(me,le,Ce):Ne(me,le))||Ce);return be>3&&Ce&&Object.defineProperty(me,le,Ce),Ce};class H{constructor(me){this.trait=me,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(me){return me}renderElement(me,le,Ee){const be=this.renderedElements.findIndex(Ce=>Ce.templateData===Ee);if(be>=0){const Ce=this.renderedElements[be];this.trait.unrender(Ee),Ce.index=le}else this.renderedElements.push({index:le,templateData:Ee});this.trait.renderIndex(le,Ee)}splice(me,le,Ee){const be=[];for(const Ce of this.renderedElements)Ce.index<me?be.push(Ce):Ce.index>=me+le&&be.push({index:Ce.index+Ee-le,templateData:Ce.templateData});this.renderedElements=be}renderIndexes(me){for(const{index:le,templateData:Ee}of this.renderedElements)me.indexOf(le)>-1&&this.trait.renderIndex(le,Ee)}disposeTemplate(me){const le=this.renderedElements.findIndex(Ee=>Ee.templateData===me);le<0||this.renderedElements.splice(le,1)}}class L{get name(){return this._trait}get renderer(){return new H(this)}constructor(me){this._trait=me,this.indexes=[],this.sortedIndexes=[],this._onChange=new f.vl,this.onChange=this._onChange.event}splice(me,le,Ee){const be=Ee.length-le,Ce=me+le,Ne=[];let Fe=0;for(;Fe<this.sortedIndexes.length&&this.sortedIndexes[Fe]<me;)Ne.push(this.sortedIndexes[Fe++]);for(let qe=0;qe<Ee.length;qe++)Ee[qe]&&Ne.push(qe+me);for(;Fe<this.sortedIndexes.length&&this.sortedIndexes[Fe]>=Ce;)Ne.push(this.sortedIndexes[Fe++]+be);this.renderer.splice(me,le,Ee.length),this._set(Ne,Ne)}renderIndex(me,le){le.classList.toggle(this._trait,this.contains(me))}unrender(me){me.classList.remove(this._trait)}set(me,le){return this._set(me,[...me].sort(we),le)}_set(me,le,Ee){const be=this.indexes,Ce=this.sortedIndexes;this.indexes=me,this.sortedIndexes=le;const Ne=ne(Ce,me);return this.renderer.renderIndexes(Ne),this._onChange.fire({indexes:me,browserEvent:Ee}),be}get(){return this.indexes}contains(me){return(0,P.El)(this.sortedIndexes,me,we)>=0}dispose(){(0,r.AS)(this._onChange)}}N([_.B],L.prototype,"renderer",null);class j extends L{constructor(me){super("selected"),this.setAriaSelected=me}renderIndex(me,le){super.renderIndex(me,le),this.setAriaSelected&&(this.contains(me)?le.setAttribute("aria-selected","true"):le.setAttribute("aria-selected","false"))}}class Z{constructor(me,le,Ee){this.trait=me,this.view=le,this.identityProvider=Ee}splice(me,le,Ee){if(!this.identityProvider)return this.trait.splice(me,le,new Array(Ee.length).fill(!1));const be=this.trait.get().map(Fe=>this.identityProvider.getId(this.view.element(Fe)).toString());if(0===be.length)return this.trait.splice(me,le,new Array(Ee.length).fill(!1));const Ce=new Set(be),Ne=Ee.map(Fe=>Ce.has(this.identityProvider.getId(Fe).toString()));this.trait.splice(me,le,Ne)}}function te(He){return"INPUT"===He.tagName||"TEXTAREA"===He.tagName}function X(He,me){return!!He.classList.contains(me)||!(He.classList.contains("monaco-list")||!He.parentElement)&&X(He.parentElement,me)}function U(He){return X(He,"monaco-editor")}function q(He){return X(He,"monaco-custom-toggle")}function R(He){return X(He,"action-item")}function W(He){return X(He,"monaco-tree-sticky-row")}function Y(He){return He.classList.contains("monaco-tree-sticky-container")}function oe(He){return!!("A"===He.tagName&&He.classList.contains("monaco-button")||"DIV"===He.tagName&&He.classList.contains("monaco-button-dropdown"))||!(He.classList.contains("monaco-list")||!He.parentElement)&&oe(He.parentElement)}class z{get onKeyDown(){return f.Jh.chain(this.disposables.add(new w.f(this.view.domNode,"keydown")).event,me=>me.filter(le=>!te(le.target)).map(le=>new x.Z(le)))}constructor(me,le,Ee){this.list=me,this.view=le,this.disposables=new r.Cm,this.multipleSelectionDisposables=new r.Cm,this.multipleSelectionSupport=Ee.multipleSelectionSupport,this.disposables.add(this.onKeyDown(be=>{switch(be.keyCode){case 3:return this.onEnter(be);case 16:return this.onUpArrow(be);case 18:return this.onDownArrow(be);case 11:return this.onPageUpArrow(be);case 12:return this.onPageDownArrow(be);case 9:return this.onEscape(be);case 31:this.multipleSelectionSupport&&(g.zx?be.metaKey:be.ctrlKey)&&this.onCtrlA(be)}}))}updateOptions(me){void 0!==me.multipleSelectionSupport&&(this.multipleSelectionSupport=me.multipleSelectionSupport)}onEnter(me){me.preventDefault(),me.stopPropagation(),this.list.setSelection(this.list.getFocus(),me.browserEvent)}onUpArrow(me){me.preventDefault(),me.stopPropagation(),this.list.focusPrevious(1,!1,me.browserEvent);const le=this.list.getFocus()[0];this.list.setAnchor(le),this.list.reveal(le),this.view.domNode.focus()}onDownArrow(me){me.preventDefault(),me.stopPropagation(),this.list.focusNext(1,!1,me.browserEvent);const le=this.list.getFocus()[0];this.list.setAnchor(le),this.list.reveal(le),this.view.domNode.focus()}onPageUpArrow(me){me.preventDefault(),me.stopPropagation(),this.list.focusPreviousPage(me.browserEvent);const le=this.list.getFocus()[0];this.list.setAnchor(le),this.list.reveal(le),this.view.domNode.focus()}onPageDownArrow(me){me.preventDefault(),me.stopPropagation(),this.list.focusNextPage(me.browserEvent);const le=this.list.getFocus()[0];this.list.setAnchor(le),this.list.reveal(le),this.view.domNode.focus()}onCtrlA(me){me.preventDefault(),me.stopPropagation(),this.list.setSelection((0,P.y1)(this.list.length),me.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(me){this.list.getSelection().length&&(me.preventDefault(),me.stopPropagation(),this.list.setSelection([],me.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}N([_.B],z.prototype,"onKeyDown",null);var G=function(He){return He[He.Automatic=0]="Automatic",He[He.Trigger=1]="Trigger",He}(G||{}),Q=function(He){return He[He.Idle=0]="Idle",He[He.Typing=1]="Typing",He}(Q||{});const K=new class{mightProducePrintableCharacter(He){return!(He.ctrlKey||He.metaKey||He.altKey)&&(He.keyCode>=31&&He.keyCode<=56||He.keyCode>=21&&He.keyCode<=30||He.keyCode>=98&&He.keyCode<=107||He.keyCode>=85&&He.keyCode<=95)}};class ie{constructor(me,le,Ee,be,Ce){this.list=me,this.view=le,this.keyboardNavigationLabelProvider=Ee,this.keyboardNavigationEventFilter=be,this.delegate=Ce,this.enabled=!1,this.state=Q.Idle,this.mode=G.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new r.Cm,this.disposables=new r.Cm,this.updateOptions(me.options)}updateOptions(me){var le,Ee;null===(le=me.typeNavigationEnabled)||void 0===le||le?this.enable():this.disable(),this.mode=null!==(Ee=me.typeNavigationMode)&&void 0!==Ee?Ee:G.Automatic}enable(){if(this.enabled)return;let me=!1;const le=f.Jh.chain(this.enabledDisposables.add(new w.f(this.view.domNode,"keydown")).event,Ce=>Ce.filter(Ne=>!te(Ne.target)).filter(()=>this.mode===G.Automatic||this.triggered).map(Ne=>new x.Z(Ne)).filter(Ne=>me||this.keyboardNavigationEventFilter(Ne)).filter(Ne=>this.delegate.mightProducePrintableCharacter(Ne)).forEach(Ne=>F.fs.stop(Ne,!0)).map(Ne=>Ne.browserEvent.key)),Ee=f.Jh.debounce(le,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);f.Jh.reduce(f.Jh.any(le,Ee),(Ce,Ne)=>null===Ne?null:(Ce||"")+Ne,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),Ee(this.onClear,this,this.enabledDisposables),le(()=>me=!0,void 0,this.enabledDisposables),Ee(()=>me=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var me;const le=this.list.getFocus();if(le.length>0&&le[0]===this.previouslyFocused){const Ee=null===(me=this.list.options.accessibilityProvider)||void 0===me?void 0:me.getAriaLabel(this.list.element(le[0]));"string"==typeof Ee?(0,S.xE)(Ee):Ee&&(0,S.xE)(Ee.get())}this.previouslyFocused=-1}onInput(me){if(!me)return this.state=Q.Idle,void(this.triggered=!1);const le=this.list.getFocus(),Ee=le.length>0?le[0]:0,be=this.state===Q.Idle?1:0;this.state=Q.Typing;for(let Ce=0;Ce<this.list.length;Ce++){const Ne=(Ee+Ce+be)%this.list.length,Fe=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Ne)),qe=Fe&&Fe.toString();if(this.list.options.typeNavigationEnabled){if(typeof qe<"u"){if((0,d.WP)(me,qe))return this.previouslyFocused=Ee,this.list.setFocus([Ne]),void this.list.reveal(Ne);const dt=(0,d.O)(me,qe);if(dt&&dt[0].end-dt[0].start>1&&1===dt.length)return this.previouslyFocused=Ee,this.list.setFocus([Ne]),void this.list.reveal(Ne)}}else if(typeof qe>"u"||(0,d.WP)(me,qe))return this.previouslyFocused=Ee,this.list.setFocus([Ne]),void this.list.reveal(Ne)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class ae{constructor(me,le){this.list=me,this.view=le,this.disposables=new r.Cm;const Ee=f.Jh.chain(this.disposables.add(new w.f(le.domNode,"keydown")).event,Ce=>Ce.filter(Ne=>!te(Ne.target)).map(Ne=>new x.Z(Ne)));f.Jh.chain(Ee,Ce=>Ce.filter(Ne=>!(2!==Ne.keyCode||Ne.ctrlKey||Ne.metaKey||Ne.shiftKey||Ne.altKey)))(this.onTab,this,this.disposables)}onTab(me){if(me.target!==this.view.domNode)return;const le=this.list.getFocus();if(0===le.length)return;const Ee=this.view.domElement(le[0]);if(!Ee)return;const be=Ee.querySelector("[tabIndex]");if(!be||!(0,F.sb)(be)||-1===be.tabIndex)return;const Ce=(0,F.zk)(be).getComputedStyle(be);"hidden"===Ce.visibility||"none"===Ce.display||(me.preventDefault(),me.stopPropagation(),be.focus())}dispose(){this.disposables.dispose()}}function de(He){return g.zx?He.browserEvent.metaKey:He.browserEvent.ctrlKey}function se(He){return He.browserEvent.shiftKey}const _e={isSelectionSingleChangeEvent:de,isSelectionRangeChangeEvent:se};class ye{constructor(me){this.list=me,this.disposables=new r.Cm,this._onPointer=new f.vl,this.onPointer=this._onPointer.event,!1!==me.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||_e),this.mouseSupport=typeof me.options.mouseSupport>"u"||!!me.options.mouseSupport,this.mouseSupport&&(me.onMouseDown(this.onMouseDown,this,this.disposables),me.onContextMenu(this.onContextMenu,this,this.disposables),me.onMouseDblClick(this.onDoubleClick,this,this.disposables),me.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(C.q.addTarget(me.getHTMLElement()))),f.Jh.any(me.onMouseClick,me.onMouseMiddleClick,me.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(me){void 0!==me.multipleSelectionSupport&&(this.multipleSelectionController=void 0,me.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||_e))}isSelectionSingleChangeEvent(me){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(me)}isSelectionRangeChangeEvent(me){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(me)}isSelectionChangeEvent(me){return this.isSelectionSingleChangeEvent(me)||this.isSelectionRangeChangeEvent(me)}onMouseDown(me){U(me.browserEvent.target)||(0,F.bq)()!==me.browserEvent.target&&this.list.domFocus()}onContextMenu(me){te(me.browserEvent.target)||U(me.browserEvent.target)||this.list.setFocus(typeof me.index>"u"?[]:[me.index],me.browserEvent)}onViewPointer(me){if(!this.mouseSupport||te(me.browserEvent.target)||U(me.browserEvent.target)||me.browserEvent.isHandledByList)return;me.browserEvent.isHandledByList=!0;const le=me.index;return typeof le>"u"?(this.list.setFocus([],me.browserEvent),this.list.setSelection([],me.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionChangeEvent(me)?this.changeSelection(me):(this.list.setFocus([le],me.browserEvent),this.list.setAnchor(le),function ge(He){return(0,F.Er)(He)&&2===He.button}(me.browserEvent)||this.list.setSelection([le],me.browserEvent),void this._onPointer.fire(me))}onDoubleClick(me){if(te(me.browserEvent.target)||U(me.browserEvent.target)||this.isSelectionChangeEvent(me)||me.browserEvent.isHandledByList)return;me.browserEvent.isHandledByList=!0;const le=this.list.getFocus();this.list.setSelection(le,me.browserEvent)}changeSelection(me){const le=me.index;let Ee=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(me)){typeof Ee>"u"&&(Ee=this.list.getFocus()[0]??le,this.list.setAnchor(Ee));const be=Math.min(Ee,le),Ce=Math.max(Ee,le),Ne=(0,P.y1)(be,Ce+1),Fe=this.list.getSelection(),qe=function Ie(He,me){const le=He.indexOf(me);if(-1===le)return[];const Ee=[];let be=le-1;for(;be>=0&&He[be]===me-(le-be);)Ee.push(He[be--]);for(Ee.reverse(),be=le;be<He.length&&He[be]===me+(be-le);)Ee.push(He[be++]);return Ee}(ne(Fe,[Ee]),Ee);if(0===qe.length)return;const dt=ne(Ne,function ue(He,me){const le=[];let Ee=0,be=0;for(;Ee<He.length||be<me.length;)if(Ee>=He.length)le.push(me[be++]);else if(be>=me.length)le.push(He[Ee++]);else{if(He[Ee]===me[be]){Ee++,be++;continue}He[Ee]<me[be]?le.push(He[Ee++]):be++}return le}(Fe,qe));this.list.setSelection(dt,me.browserEvent),this.list.setFocus([le],me.browserEvent)}else if(this.isSelectionSingleChangeEvent(me)){const be=this.list.getSelection(),Ce=be.filter(Ne=>Ne!==le);this.list.setFocus([le]),this.list.setAnchor(le),this.list.setSelection(be.length===Ce.length?[...Ce,le]:Ce,me.browserEvent)}}dispose(){this.disposables.dispose()}}class M{constructor(me,le){this.styleElement=me,this.selectorSuffix=le}style(me){var le,Ee;const be=this.selectorSuffix&&`.${this.selectorSuffix}`,Ce=[];me.listBackground&&Ce.push(`.monaco-list${be} .monaco-list-rows { background: ${me.listBackground}; }`),me.listFocusBackground&&(Ce.push(`.monaco-list${be}:focus .monaco-list-row.focused { background-color: ${me.listFocusBackground}; }`),Ce.push(`.monaco-list${be}:focus .monaco-list-row.focused:hover { background-color: ${me.listFocusBackground}; }`)),me.listFocusForeground&&Ce.push(`.monaco-list${be}:focus .monaco-list-row.focused { color: ${me.listFocusForeground}; }`),me.listActiveSelectionBackground&&(Ce.push(`.monaco-list${be}:focus .monaco-list-row.selected { background-color: ${me.listActiveSelectionBackground}; }`),Ce.push(`.monaco-list${be}:focus .monaco-list-row.selected:hover { background-color: ${me.listActiveSelectionBackground}; }`)),me.listActiveSelectionForeground&&Ce.push(`.monaco-list${be}:focus .monaco-list-row.selected { color: ${me.listActiveSelectionForeground}; }`),me.listActiveSelectionIconForeground&&Ce.push(`.monaco-list${be}:focus .monaco-list-row.selected .codicon { color: ${me.listActiveSelectionIconForeground}; }`),me.listFocusAndSelectionBackground&&Ce.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${be}:focus .monaco-list-row.selected.focused { background-color: ${me.listFocusAndSelectionBackground}; }\n\t\t\t`),me.listFocusAndSelectionForeground&&Ce.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${be}:focus .monaco-list-row.selected.focused { color: ${me.listFocusAndSelectionForeground}; }\n\t\t\t`),me.listInactiveFocusForeground&&(Ce.push(`.monaco-list${be} .monaco-list-row.focused { color:  ${me.listInactiveFocusForeground}; }`),Ce.push(`.monaco-list${be} .monaco-list-row.focused:hover { color:  ${me.listInactiveFocusForeground}; }`)),me.listInactiveSelectionIconForeground&&Ce.push(`.monaco-list${be} .monaco-list-row.focused .codicon { color:  ${me.listInactiveSelectionIconForeground}; }`),me.listInactiveFocusBackground&&(Ce.push(`.monaco-list${be} .monaco-list-row.focused { background-color:  ${me.listInactiveFocusBackground}; }`),Ce.push(`.monaco-list${be} .monaco-list-row.focused:hover { background-color:  ${me.listInactiveFocusBackground}; }`)),me.listInactiveSelectionBackground&&(Ce.push(`.monaco-list${be} .monaco-list-row.selected { background-color:  ${me.listInactiveSelectionBackground}; }`),Ce.push(`.monaco-list${be} .monaco-list-row.selected:hover { background-color:  ${me.listInactiveSelectionBackground}; }`)),me.listInactiveSelectionForeground&&Ce.push(`.monaco-list${be} .monaco-list-row.selected { color: ${me.listInactiveSelectionForeground}; }`),me.listHoverBackground&&Ce.push(`.monaco-list${be}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${me.listHoverBackground}; }`),me.listHoverForeground&&Ce.push(`.monaco-list${be}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${me.listHoverForeground}; }`);const Ne=(0,F.gI)(me.listFocusAndSelectionOutline,(0,F.gI)(me.listSelectionOutline,null!==(le=me.listFocusOutline)&&void 0!==le?le:""));Ne&&Ce.push(`.monaco-list${be}:focus .monaco-list-row.focused.selected { outline: 1px solid ${Ne}; outline-offset: -1px;}`),me.listFocusOutline&&Ce.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${be}:focus .monaco-list-row.focused { outline: 1px solid ${me.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${be}.last-focused .monaco-list-row.focused { outline: 1px solid ${me.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`);const Fe=(0,F.gI)(me.listSelectionOutline,null!==(Ee=me.listInactiveFocusOutline)&&void 0!==Ee?Ee:"");Fe&&Ce.push(`.monaco-list${be} .monaco-list-row.focused.selected { outline: 1px dotted ${Fe}; outline-offset: -1px; }`),me.listSelectionOutline&&Ce.push(`.monaco-list${be} .monaco-list-row.selected { outline: 1px dotted ${me.listSelectionOutline}; outline-offset: -1px; }`),me.listInactiveFocusOutline&&Ce.push(`.monaco-list${be} .monaco-list-row.focused { outline: 1px dotted ${me.listInactiveFocusOutline}; outline-offset: -1px; }`),me.listHoverOutline&&Ce.push(`.monaco-list${be} .monaco-list-row:hover { outline: 1px dashed ${me.listHoverOutline}; outline-offset: -1px; }`),me.listDropOverBackground&&Ce.push(`\n\t\t\t\t.monaco-list${be}.drop-target,\n\t\t\t\t.monaco-list${be} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${be} .monaco-list-row.drop-target { background-color: ${me.listDropOverBackground} !important; color: inherit !important; }\n\t\t\t`),me.listDropBetweenBackground&&(Ce.push(`\n\t\t\t.monaco-list${be} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,\n\t\t\t.monaco-list${be} .monaco-list-row.drop-target-before::before {\n\t\t\t\tcontent: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;\n\t\t\t\tbackground-color: ${me.listDropBetweenBackground};\n\t\t\t}`),Ce.push(`\n\t\t\t.monaco-list${be} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,\n\t\t\t.monaco-list${be} .monaco-list-row.drop-target-after::after {\n\t\t\t\tcontent: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;\n\t\t\t\tbackground-color: ${me.listDropBetweenBackground};\n\t\t\t}`)),me.tableColumnsBorder&&Ce.push(`\n\t\t\t\t.monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${me.tableColumnsBorder};\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: transparent;\n\t\t\t\t}\n\t\t\t`),me.tableOddRowsBackgroundColor&&Ce.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${me.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=Ce.join("\n")}}const ce={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:v.Q1.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:v.Q1.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:v.Q1.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},Se={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){},dispose(){}}};function ne(He,me){const le=[];let Ee=0,be=0;for(;Ee<He.length||be<me.length;)if(Ee>=He.length)le.push(me[be++]);else if(be>=me.length)le.push(He[Ee++]);else{if(He[Ee]===me[be]){le.push(He[Ee]),Ee++,be++;continue}le.push(He[Ee]<me[be]?He[Ee++]:me[be++])}return le}const we=(He,me)=>He-me;class Me{constructor(me,le){this._templateId=me,this.renderers=le}get templateId(){return this._templateId}renderTemplate(me){return this.renderers.map(le=>le.renderTemplate(me))}renderElement(me,le,Ee,be){let Ce=0;for(const Ne of this.renderers)Ne.renderElement(me,le,Ee[Ce++],be)}disposeElement(me,le,Ee,be){var Ce;let Ne=0;for(const Fe of this.renderers)null===(Ce=Fe.disposeElement)||void 0===Ce||Ce.call(Fe,me,le,Ee[Ne],be),Ne+=1}disposeTemplate(me){let le=0;for(const Ee of this.renderers)Ee.disposeTemplate(me[le++])}}class Ve{constructor(me){this.accessibilityProvider=me,this.templateId="a18n"}renderTemplate(me){return{container:me,disposables:new r.Cm}}renderElement(me,le,Ee){const be=this.accessibilityProvider.getAriaLabel(me),Ce=be&&"string"!=typeof be?be:(0,O.lk)(be);Ee.disposables.add((0,O.fm)(Fe=>{this.setAriaLabel(Fe.readObservable(Ce),Ee.container)}));const Ne=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(me);"number"==typeof Ne?Ee.container.setAttribute("aria-level",`${Ne}`):Ee.container.removeAttribute("aria-level")}setAriaLabel(me,le){me?le.setAttribute("aria-label",me):le.removeAttribute("aria-label")}disposeElement(me,le,Ee,be){Ee.disposables.clear()}disposeTemplate(me){me.disposables.dispose()}}class $e{constructor(me,le){this.list=me,this.dnd=le}getDragElements(me){const le=this.list.getSelectedElements();return le.indexOf(me)>-1?le:[me]}getDragURI(me){return this.dnd.getDragURI(me)}getDragLabel(me,le){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(me,le)}onDragStart(me,le){var Ee,be;null===(be=(Ee=this.dnd).onDragStart)||void 0===be||be.call(Ee,me,le)}onDragOver(me,le,Ee,be,Ce){return this.dnd.onDragOver(me,le,Ee,be,Ce)}onDragLeave(me,le,Ee,be){var Ce,Ne;null===(Ne=(Ce=this.dnd).onDragLeave)||void 0===Ne||Ne.call(Ce,me,le,Ee,be)}onDragEnd(me){var le,Ee;null===(Ee=(le=this.dnd).onDragEnd)||void 0===Ee||Ee.call(le,me)}drop(me,le,Ee,be,Ce){this.dnd.drop(me,le,Ee,be,Ce)}dispose(){this.dnd.dispose()}}class it{get onDidChangeFocus(){return f.Jh.map(this.eventBufferer.wrapEvent(this.focus.onChange),me=>this.toListEvent(me),this.disposables)}get onDidChangeSelection(){return f.Jh.map(this.eventBufferer.wrapEvent(this.selection.onChange),me=>this.toListEvent(me),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let me=!1;const le=f.Jh.chain(this.disposables.add(new w.f(this.view.domNode,"keydown")).event,Ce=>Ce.map(Ne=>new x.Z(Ne)).filter(Ne=>me=58===Ne.keyCode||Ne.shiftKey&&68===Ne.keyCode).map(Ne=>F.fs.stop(Ne,!0)).filter(()=>!1)),Ee=f.Jh.chain(this.disposables.add(new w.f(this.view.domNode,"keyup")).event,Ce=>Ce.forEach(()=>me=!1).map(Ne=>new x.Z(Ne)).filter(Ne=>58===Ne.keyCode||Ne.shiftKey&&68===Ne.keyCode).map(Ne=>F.fs.stop(Ne,!0)).map(({browserEvent:Ne})=>{const Fe=this.getFocus(),qe=Fe.length?Fe[0]:void 0;return{index:qe,element:typeof qe<"u"?this.view.element(qe):void 0,anchor:typeof qe<"u"?this.view.domElement(qe):this.view.domNode,browserEvent:Ne}})),be=f.Jh.chain(this.view.onContextMenu,Ce=>Ce.filter(Ne=>!me).map(({element:Ne,index:Fe,browserEvent:qe})=>({element:Ne,index:Fe,anchor:new k.P((0,F.zk)(this.view.domNode),qe),browserEvent:qe})));return f.Jh.any(le,Ee,be)}get onKeyDown(){return this.disposables.add(new w.f(this.view.domNode,"keydown")).event}get onDidFocus(){return f.Jh.signal(this.disposables.add(new w.f(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return f.Jh.signal(this.disposables.add(new w.f(this.view.domNode,"blur",!0)).event)}constructor(me,le,Ee,be,Ce=Se){var Ne,Fe,qe,dt;this.user=me,this._options=Ce,this.focus=new L("focused"),this.anchor=new L("anchor"),this.eventBufferer=new f.at,this._ariaLabel="",this.disposables=new r.Cm,this._onDidDispose=new f.vl,this.onDidDispose=this._onDidDispose.event;const vt=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(Ne=this._options.accessibilityProvider)||void 0===Ne?void 0:Ne.getWidgetRole():"list";this.selection=new j("listbox"!==vt);const fn=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Ce.accessibilityProvider,this.accessibilityProvider&&(fn.push(new Ve(this.accessibilityProvider)),null===(qe=(Fe=this.accessibilityProvider).onDidChangeActiveDescendant)||void 0===qe||qe.call(Fe,this.onDidChangeActiveDescendant,this,this.disposables)),be=be.map(ht=>new Me(ht.templateId,[...fn,ht]));const on={...Ce,dnd:Ce.dnd&&new $e(this,Ce.dnd)};if(this.view=this.createListView(le,Ee,be,on),this.view.domNode.setAttribute("role",vt),Ce.styleController)this.styleController=Ce.styleController(this.view.domId);else{const ht=(0,F.li)(this.view.domNode);this.styleController=new M(ht,this.view.domId)}this.spliceable=new b([new Z(this.focus,this.view,Ce.identityProvider),new Z(this.selection,this.view,Ce.identityProvider),new Z(this.anchor,this.view,Ce.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new ae(this,this.view)),("boolean"!=typeof Ce.keyboardSupport||Ce.keyboardSupport)&&(this.keyboardController=new z(this,this.view,Ce),this.disposables.add(this.keyboardController)),Ce.keyboardNavigationLabelProvider&&(this.typeNavigationController=new ie(this,this.view,Ce.keyboardNavigationLabelProvider,null!==(dt=Ce.keyboardNavigationEventFilter)&&void 0!==dt?dt:()=>!0,Ce.keyboardNavigationDelegate||K),this.disposables.add(this.typeNavigationController)),this.mouseController=this.createMouseController(Ce),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(me,le,Ee,be){return new A.uO(me,le,Ee,be)}createMouseController(me){return new ye(this)}updateOptions(me={}){var le,Ee;this._options={...this._options,...me},null===(le=this.typeNavigationController)||void 0===le||le.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(me),null===(Ee=this.keyboardController)||void 0===Ee||Ee.updateOptions(me),this.view.updateOptions(me)}get options(){return this._options}splice(me,le,Ee=[]){if(me<0||me>this.view.length)throw new T(this.user,`Invalid start index: ${me}`);if(le<0)throw new T(this.user,`Invalid delete count: ${le}`);0===le&&0===Ee.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(me,le,Ee))}rerender(){this.view.rerender()}element(me){return this.view.element(me)}indexOf(me){return this.view.indexOf(me)}indexAt(me){return this.view.indexAt(me)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(me){this.view.setScrollTop(me)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(me){this._ariaLabel=me,this.view.domNode.setAttribute("aria-label",me)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(me,le){this.view.layout(me,le)}setSelection(me,le){for(const Ee of me)if(Ee<0||Ee>=this.length)throw new T(this.user,`Invalid index ${Ee}`);this.selection.set(me,le)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(me=>this.view.element(me))}setAnchor(me){if(typeof me>"u")this.anchor.set([]);else{if(me<0||me>=this.length)throw new T(this.user,`Invalid index ${me}`);this.anchor.set([me])}}getAnchor(){return(0,P.Fy)(this.anchor.get(),void 0)}getAnchorElement(){const me=this.getAnchor();return typeof me>"u"?void 0:this.element(me)}setFocus(me,le){for(const Ee of me)if(Ee<0||Ee>=this.length)throw new T(this.user,`Invalid index ${Ee}`);this.focus.set(me,le)}focusNext(me=1,le=!1,Ee,be){if(0===this.length)return;const Ce=this.focus.get(),Ne=this.findNextIndex(Ce.length>0?Ce[0]+me:0,le,be);Ne>-1&&this.setFocus([Ne],Ee)}focusPrevious(me=1,le=!1,Ee,be){if(0===this.length)return;const Ce=this.focus.get(),Ne=this.findPreviousIndex(Ce.length>0?Ce[0]-me:0,le,be);Ne>-1&&this.setFocus([Ne],Ee)}focusNextPage(me,le){var Ee=this;return(0,a.A)(function*(){let be=Ee.view.indexAt(Ee.view.getScrollTop()+Ee.view.renderHeight);be=0===be?0:be-1;const Ce=Ee.getFocus()[0];if(Ce!==be&&(void 0===Ce||be>Ce)){const Ne=Ee.findPreviousIndex(be,!1,le);Ee.setFocus(Ne>-1&&Ce!==Ne?[Ne]:[be],me)}else{const Ne=Ee.view.getScrollTop();let Fe=Ne+Ee.view.renderHeight;be>Ce&&(Fe-=Ee.view.elementHeight(be)),Ee.view.setScrollTop(Fe),Ee.view.getScrollTop()!==Ne&&(Ee.setFocus([]),yield(0,D.wR)(0),yield Ee.focusNextPage(me,le))}})()}focusPreviousPage(me,le,Ee=(()=>0)){var be=this;return(0,a.A)(function*(){let Ce;const Ne=Ee(),Fe=be.view.getScrollTop()+Ne;Ce=0===Fe?be.view.indexAt(Fe):be.view.indexAfter(Fe-1);const qe=be.getFocus()[0];if(qe!==Ce&&(void 0===qe||qe>=Ce)){const dt=be.findNextIndex(Ce,!1,le);be.setFocus(dt>-1&&qe!==dt?[dt]:[Ce],me)}else{const dt=Fe;be.view.setScrollTop(Fe-be.view.renderHeight-Ne),be.view.getScrollTop()+Ee()!==dt&&(be.setFocus([]),yield(0,D.wR)(0),yield be.focusPreviousPage(me,le,Ee))}})()}focusLast(me,le){if(0===this.length)return;const Ee=this.findPreviousIndex(this.length-1,!1,le);Ee>-1&&this.setFocus([Ee],me)}focusFirst(me,le){this.focusNth(0,me,le)}focusNth(me,le,Ee){if(0===this.length)return;const be=this.findNextIndex(me,!1,Ee);be>-1&&this.setFocus([be],le)}findNextIndex(me,le=!1,Ee){for(let be=0;be<this.length;be++){if(me>=this.length&&!le)return-1;if(me%=this.length,!Ee||Ee(this.element(me)))return me;me++}return-1}findPreviousIndex(me,le=!1,Ee){for(let be=0;be<this.length;be++){if(me<0&&!le)return-1;if(me=(this.length+me%this.length)%this.length,!Ee||Ee(this.element(me)))return me;me--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(me=>this.view.element(me))}reveal(me,le,Ee=0){if(me<0||me>=this.length)throw new T(this.user,`Invalid index ${me}`);const be=this.view.getScrollTop(),Ce=this.view.elementTop(me),Ne=this.view.elementHeight(me);if((0,p.Et)(le))this.view.setScrollTop((Ne-this.view.renderHeight+Ee)*(0,l.qE)(le,0,1)+Ce-Ee);else{const Fe=Ce+Ne,qe=be+this.view.renderHeight;Ce<be+Ee&&Fe>=qe||(Ce<be+Ee||Fe>=qe&&Ne>=this.view.renderHeight?this.view.setScrollTop(Ce-Ee):Fe>=qe&&this.view.setScrollTop(Fe-this.view.renderHeight))}}getRelativeTop(me,le=0){if(me<0||me>=this.length)throw new T(this.user,`Invalid index ${me}`);const Ee=this.view.getScrollTop(),be=this.view.elementTop(me),Ce=this.view.elementHeight(me);return be<Ee+le||be+Ce>Ee+this.view.renderHeight?null:Math.abs((Ee+le-be)/(Ce-this.view.renderHeight+le))}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(me){return this.view.getElementDomId(me)}getElementTop(me){return this.view.elementTop(me)}style(me){this.styleController.style(me)}toListEvent({indexes:me,browserEvent:le}){return{indexes:me,elements:me.map(Ee=>this.view.element(Ee)),browserEvent:le}}_onFocusChange(){const me=this.focus.get();this.view.domNode.classList.toggle("element-focused",me.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var me;const le=this.focus.get();if(le.length>0){let Ee;!(null===(me=this.accessibilityProvider)||void 0===me)&&me.getActiveDescendantId&&(Ee=this.accessibilityProvider.getActiveDescendantId(this.view.element(le[0]))),this.view.domNode.setAttribute("aria-activedescendant",Ee||this.view.getElementDomId(le[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const me=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===me.length),this.view.domNode.classList.toggle("selection-single",1===me.length),this.view.domNode.classList.toggle("selection-multiple",me.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}N([_.B],it.prototype,"onDidChangeFocus",null),N([_.B],it.prototype,"onDidChangeSelection",null),N([_.B],it.prototype,"onContextMenu",null),N([_.B],it.prototype,"onKeyDown",null),N([_.B],it.prototype,"onDidFocus",null),N([_.B],it.prototype,"onDidBlur",null)},30218:(tt,xe,t)=>{t.d(xe,{v:()=>C});var a=t(91874),F=t(59702),w=t(5643),x=t(99031);class C{constructor(){this._onDidWillResize=new w.vl,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new w.vl,this.onDidResize=this._onDidResize.event,this._sashListener=new x.Cm,this._size=new a.fg(0,0),this._minSize=new a.fg(0,0),this._maxSize=new a.fg(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new F.m(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new F.m(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new F.m(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:F.B.North}),this._southSash=new F.m(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:F.B.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let b,P=0,D=0;this._sashListener.add(w.Jh.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{void 0===b&&(this._onDidWillResize.fire(),b=this._size,P=0,D=0)})),this._sashListener.add(w.Jh.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{void 0!==b&&(b=void 0,P=0,D=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(v=>{b&&(D=v.currentX-v.startX,this.layout(b.height+P,b.width+D),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(v=>{b&&(D=-(v.currentX-v.startX),this.layout(b.height+P,b.width+D),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(v=>{b&&(P=-(v.currentY-v.startY),this.layout(b.height+P,b.width+D),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(v=>{b&&(P=v.currentY-v.startY,this.layout(b.height+P,b.width+D),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(w.Jh.any(this._eastSash.onDidReset,this._westSash.onDidReset)(v=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(w.Jh.any(this._northSash.onDidReset,this._southSash.onDidReset)(v=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(b,P,D,v){this._northSash.state=b?3:0,this._eastSash.state=P?3:0,this._southSash.state=D?3:0,this._westSash.state=v?3:0}layout(b=this.size.height,P=this.size.width){const{height:D,width:v}=this._minSize,{height:_,width:f}=this._maxSize;b=Math.max(D,Math.min(_,b)),P=Math.max(v,Math.min(f,P));const d=new a.fg(P,b);a.fg.equals(d,this._size)||(this.domNode.style.height=b+"px",this.domNode.style.width=P+"px",this._size=d,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(b){this._maxSize=b}get maxSize(){return this._maxSize}set minSize(b){this._minSize=b}get minSize(){return this._minSize}set preferredSize(b){this._preferredSize=b}get preferredSize(){return this._preferredSize}}},59702:(tt,xe,t)=>{t.d(xe,{B:()=>Z,m:()=>z});var a=t(91874),F=t(27354),w=t(28541),x=t(86671),C=t(17353),S=t(5643),b=t(99031),P=t(21828),D=t(85072),v=t.n(D),_=t(97825),f=t.n(_),d=t(77659),r=t.n(d),l=t(55056),g=t.n(l),p=t(10540),m=t.n(p),T=t(41113),A=t.n(T),k=t(14166),O={};O.styleTagTransform=A(),O.setAttributes=g(),O.insert=r().bind(null,"head"),O.domAPI=f(),O.insertStyleElement=m(),v()(k.A,O);var L=function(G,Q,K,ie){var se,ae=arguments.length,de=ae<3?Q:null===ie?ie=Object.getOwnPropertyDescriptor(Q,K):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)de=Reflect.decorate(G,Q,K,ie);else for(var ge=G.length-1;ge>=0;ge--)(se=G[ge])&&(de=(ae<3?se(de):ae>3?se(Q,K,de):se(Q,K))||de);return ae>3&&de&&Object.defineProperty(Q,K,de),de},Z=function(G){return G.North="north",G.South="south",G.East="east",G.West="west",G}(Z||{});const X=new S.vl,q=new S.vl;class R{constructor(Q){this.el=Q,this.disposables=new b.Cm}get onPointerMove(){return this.disposables.add(new F.f((0,a.zk)(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new F.f((0,a.zk)(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}L([C.B],R.prototype,"onPointerMove",null),L([C.B],R.prototype,"onPointerUp",null);class W{get onPointerMove(){return this.disposables.add(new F.f(this.el,w.B.Change)).event}get onPointerUp(){return this.disposables.add(new F.f(this.el,w.B.End)).event}constructor(Q){this.el=Q,this.disposables=new b.Cm}dispose(){this.disposables.dispose()}}L([C.B],W.prototype,"onPointerMove",null),L([C.B],W.prototype,"onPointerUp",null);class Y{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(Q){this.factory=Q}dispose(){}}L([C.B],Y.prototype,"onPointerMove",null),L([C.B],Y.prototype,"onPointerUp",null);const oe="pointer-events-disabled";class z extends b.jG{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(Q){this._state!==Q&&(this.el.classList.toggle("disabled",0===Q),this.el.classList.toggle("minimum",1===Q),this.el.classList.toggle("maximum",2===Q),this._state=Q,this.onDidEnablementChange.fire(Q))}set orthogonalStartSash(Q){if(this._orthogonalStartSash!==Q){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),Q){const K=ie=>{this.orthogonalStartDragHandleDisposables.clear(),0!==ie&&(this._orthogonalStartDragHandle=(0,a.BC)(this.el,(0,a.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,b.s)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new F.f(this._orthogonalStartDragHandle,"mouseenter")).event(()=>z.onMouseEnter(Q),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new F.f(this._orthogonalStartDragHandle,"mouseleave")).event(()=>z.onMouseLeave(Q),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(Q.onDidEnablementChange.event(K,this)),K(Q.state)}this._orthogonalStartSash=Q}}set orthogonalEndSash(Q){if(this._orthogonalEndSash!==Q){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),Q){const K=ie=>{this.orthogonalEndDragHandleDisposables.clear(),0!==ie&&(this._orthogonalEndDragHandle=(0,a.BC)(this.el,(0,a.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,b.s)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new F.f(this._orthogonalEndDragHandle,"mouseenter")).event(()=>z.onMouseEnter(Q),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new F.f(this._orthogonalEndDragHandle,"mouseleave")).event(()=>z.onMouseLeave(Q),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(Q.onDidEnablementChange.event(K,this)),K(Q.state)}this._orthogonalEndSash=Q}}constructor(Q,K,ie){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new x.ve(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new S.vl),this._onDidStart=this._register(new S.vl),this._onDidChange=this._register(new S.vl),this._onDidReset=this._register(new S.vl),this._onDidEnd=this._register(new S.vl),this.orthogonalStartSashDisposables=this._register(new b.Cm),this.orthogonalStartDragHandleDisposables=this._register(new b.Cm),this.orthogonalEndSashDisposables=this._register(new b.Cm),this.orthogonalEndDragHandleDisposables=this._register(new b.Cm),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,a.BC)(Q,(0,a.$)(".monaco-sash")),ie.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${ie.orthogonalEdge}`),P.zx&&this.el.classList.add("mac");const ae=this._register(new F.f(this.el,"mousedown")).event;this._register(ae(ce=>this.onPointerStart(ce,new R(Q)),this));const de=this._register(new F.f(this.el,"dblclick")).event;this._register(de(this.onPointerDoublePress,this));const se=this._register(new F.f(this.el,"mouseenter")).event;this._register(se(()=>z.onMouseEnter(this)));const ge=this._register(new F.f(this.el,"mouseleave")).event;this._register(ge(()=>z.onMouseLeave(this))),this._register(w.q.addTarget(this.el));const _e=this._register(new F.f(this.el,w.B.Start)).event;this._register(_e(ce=>this.onPointerStart(ce,new W(this.el)),this));const ye=this._register(new F.f(this.el,w.B.Tap)).event;let M;this._register(ye(ce=>{if(M)return clearTimeout(M),M=void 0,void this.onPointerDoublePress(ce);clearTimeout(M),M=setTimeout(()=>M=void 0,250)},this)),"number"==typeof ie.size?(this.size=ie.size,0===ie.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(X.event(ce=>{this.size=ce,this.layout()}))),this._register(q.event(ce=>this.hoverDelay=ce)),this.layoutProvider=K,this.orthogonalStartSash=ie.orthogonalStartSash,this.orthogonalEndSash=ie.orthogonalEndSash,this.orientation=ie.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}onPointerStart(Q,K){a.fs.stop(Q);let ie=!1;if(!Q.__orthogonalSashEvent){const ne=this.getOrthogonalSash(Q);ne&&(ie=!0,Q.__orthogonalSashEvent=!0,ne.onPointerStart(Q,new Y(K)))}if(this.linkedSash&&!Q.__linkedSashEvent&&(Q.__linkedSashEvent=!0,this.linkedSash.onPointerStart(Q,new Y(K))),!this.state)return;const ae=this.el.ownerDocument.getElementsByTagName("iframe");for(const ne of ae)ne.classList.add(oe);const de=Q.pageX,se=Q.pageY,ge=Q.altKey,_e={startX:de,currentX:de,startY:se,currentY:se,altKey:ge};this.el.classList.add("active"),this._onDidStart.fire(_e);const ye=(0,a.li)(this.el),M=()=>{let ne="";ne=ie?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":P.zx?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":P.zx?"col-resize":"ew-resize",ye.textContent=`* { cursor: ${ne} !important; }`},ce=new b.Cm;M(),ie||this.onDidEnablementChange.event(M,null,ce),K.onPointerMove(ne=>{a.fs.stop(ne,!1),this._onDidChange.fire({startX:de,currentX:ne.pageX,startY:se,currentY:ne.pageY,altKey:ge})},null,ce),K.onPointerUp(ne=>{a.fs.stop(ne,!1),this.el.removeChild(ye),this.el.classList.remove("active"),this._onDidEnd.fire(),ce.dispose();for(const ue of ae)ue.classList.remove(oe)},null,ce),ce.add(K)}onPointerDoublePress(Q){const K=this.getOrthogonalSash(Q);K&&K._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(Q,K=!1){Q.el.classList.contains("active")?(Q.hoverDelayer.cancel(),Q.el.classList.add("hover")):Q.hoverDelayer.trigger(()=>Q.el.classList.add("hover"),Q.hoverDelay).then(void 0,()=>{}),!K&&Q.linkedSash&&z.onMouseEnter(Q.linkedSash,!0)}static onMouseLeave(Q,K=!1){Q.hoverDelayer.cancel(),Q.el.classList.remove("hover"),!K&&Q.linkedSash&&z.onMouseLeave(Q.linkedSash,!0)}clearSashHoverState(){z.onMouseLeave(this)}layout(){if(0===this.orientation){const Q=this.layoutProvider;this.el.style.left=Q.getVerticalSashLeft(this)-this.size/2+"px",Q.getVerticalSashTop&&(this.el.style.top=Q.getVerticalSashTop(this)+"px"),Q.getVerticalSashHeight&&(this.el.style.height=Q.getVerticalSashHeight(this)+"px")}else{const Q=this.layoutProvider;this.el.style.top=Q.getHorizontalSashTop(this)-this.size/2+"px",Q.getHorizontalSashLeft&&(this.el.style.left=Q.getHorizontalSashLeft(this)+"px"),Q.getHorizontalSashWidth&&(this.el.style.width=Q.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(Q){var K;const ie=null!==(K=Q.initialTarget)&&void 0!==K?K:Q.target;if(ie&&(0,a.sb)(ie)&&ie.classList.contains("orthogonal-drag-handle"))return ie.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},23702:(tt,xe,t)=>{t.d(xe,{MU:()=>ye,QC:()=>de,Se:()=>ge,oO:()=>_e});var a=t(53378),F=t(91874),w=t(29048),x=t(18163),C=t(32945),S=t(2673),b=t(86671),P=t(81072);class v extends S.x{constructor(Se){super(),this._onActivate=Se.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=Se.bgWidth+"px",this.bgDomNode.style.height=Se.bgHeight+"px",typeof Se.top<"u"&&(this.bgDomNode.style.top="0px"),typeof Se.left<"u"&&(this.bgDomNode.style.left="0px"),typeof Se.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof Se.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=Se.className,this.domNode.classList.add(...P.L.asClassNameArray(Se.icon)),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",typeof Se.top<"u"&&(this.domNode.style.top=Se.top+"px"),typeof Se.left<"u"&&(this.domNode.style.left=Se.left+"px"),typeof Se.bottom<"u"&&(this.domNode.style.bottom=Se.bottom+"px"),typeof Se.right<"u"&&(this.domNode.style.right=Se.right+"px"),this._pointerMoveMonitor=this._register(new C._),this._register(F.b2(this.bgDomNode,F.Bx.POINTER_DOWN,Ie=>this._arrowPointerDown(Ie))),this._register(F.b2(this.domNode,F.Bx.POINTER_DOWN,Ie=>this._arrowPointerDown(Ie))),this._pointerdownRepeatTimer=this._register(new F.Be),this._pointerdownScheduleRepeatTimer=this._register(new b.pc)}_arrowPointerDown(Se){Se.target&&Se.target instanceof Element&&(this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,F.zk(Se))},200),this._pointerMoveMonitor.startMonitoring(Se.target,Se.pointerId,Se.buttons,ne=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),Se.preventDefault())}}var _=t(99031);class f extends _.jG{constructor(Se,Ie,ne){super(),this._visibility=Se,this._visibleClassName=Ie,this._invisibleClassName=ne,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new b.pc)}setVisibility(Se){this._visibility!==Se&&(this._visibility=Se,this._updateShouldBeVisible())}setShouldBeVisible(Se){this._rawShouldBeVisible=Se,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const Se=this._applyVisibilitySetting();this._shouldBeVisible!==Se&&(this._shouldBeVisible=Se,this.ensureVisibility())}setIsNeeded(Se){this._isNeeded!==Se&&(this._isNeeded=Se,this.ensureVisibility())}setDomNode(Se){this._domNode=Se,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var Se;null===(Se=this._domNode)||void 0===Se||Se.setClassName(this._visibleClassName)},0))}_hide(Se){var Ie;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,null===(Ie=this._domNode)||void 0===Ie||Ie.setClassName(this._invisibleClassName+(Se?" fade":"")))}}var d=t(21828);class l extends S.x{constructor(Se){super(),this._lazyRender=Se.lazyRender,this._host=Se.host,this._scrollable=Se.scrollable,this._scrollByPage=Se.scrollByPage,this._scrollbarState=Se.scrollbarState,this._visibilityController=this._register(new f(Se.visibility,"visible scrollbar "+Se.extraScrollbarClassName,"invisible scrollbar "+Se.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new C._),this._shouldRender=!0,this.domNode=(0,w.Z)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(F.ko(this.domNode.domNode,F.Bx.POINTER_DOWN,Ie=>this._domNodePointerDown(Ie)))}_createArrow(Se){const Ie=this._register(new v(Se));this.domNode.domNode.appendChild(Ie.bgDomNode),this.domNode.domNode.appendChild(Ie.domNode)}_createSlider(Se,Ie,ne,ue){this.slider=(0,w.Z)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(Se),this.slider.setLeft(Ie),"number"==typeof ne&&this.slider.setWidth(ne),"number"==typeof ue&&this.slider.setHeight(ue),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(F.ko(this.slider.domNode,F.Bx.POINTER_DOWN,we=>{0===we.button&&(we.preventDefault(),this._sliderPointerDown(we))})),this.onclick(this.slider.domNode,we=>{we.leftButton&&we.stopPropagation()})}_onElementSize(Se){return this._scrollbarState.setVisibleSize(Se)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(Se){return this._scrollbarState.setScrollSize(Se)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(Se){return this._scrollbarState.setScrollPosition(Se)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(Se){Se.target===this.domNode.domNode&&this._onPointerDown(Se)}delegatePointerDown(Se){const Ie=this.domNode.domNode.getClientRects()[0].top,ne=Ie+this._scrollbarState.getSliderPosition(),ue=Ie+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),we=this._sliderPointerPosition(Se);ne<=we&&we<=ue?0===Se.button&&(Se.preventDefault(),this._sliderPointerDown(Se)):this._onPointerDown(Se)}_onPointerDown(Se){let Ie,ne;if(Se.target===this.domNode.domNode&&"number"==typeof Se.offsetX&&"number"==typeof Se.offsetY)Ie=Se.offsetX,ne=Se.offsetY;else{const we=F.BK(this.domNode.domNode);Ie=Se.pageX-we.left,ne=Se.pageY-we.top}const ue=this._pointerDownRelativePosition(Ie,ne);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(ue):this._scrollbarState.getDesiredScrollPositionFromOffset(ue)),0===Se.button&&(Se.preventDefault(),this._sliderPointerDown(Se))}_sliderPointerDown(Se){if(!(Se.target&&Se.target instanceof Element))return;const Ie=this._sliderPointerPosition(Se),ne=this._sliderOrthogonalPointerPosition(Se),ue=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(Se.target,Se.pointerId,Se.buttons,we=>{const Me=this._sliderOrthogonalPointerPosition(we),Ve=Math.abs(Me-ne);if(d.uF&&Ve>140)return void this._setDesiredScrollPositionNow(ue.getScrollPosition());const it=this._sliderPointerPosition(we)-Ie;this._setDesiredScrollPositionNow(ue.getDesiredScrollPositionFromDelta(it))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(Se){const Ie={};this.writeScrollPosition(Ie,Se),this._scrollable.setScrollPositionNow(Ie)}updateScrollbarSize(Se){this._updateScrollbarSize(Se),this._scrollbarState.setScrollbarSize(Se),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}var g=t(53393),p=t(15320);class m extends l{constructor(Se,Ie,ne){const ue=Se.getScrollDimensions(),we=Se.getCurrentScrollPosition();if(super({lazyRender:Ie.lazyRender,host:ne,scrollbarState:new g.m(Ie.horizontalHasArrows?Ie.arrowSize:0,2===Ie.horizontal?0:Ie.horizontalScrollbarSize,2===Ie.vertical?0:Ie.verticalScrollbarSize,ue.width,ue.scrollWidth,we.scrollLeft),visibility:Ie.horizontal,extraScrollbarClassName:"horizontal",scrollable:Se,scrollByPage:Ie.scrollByPage}),Ie.horizontalHasArrows){const Me=(Ie.arrowSize-11)/2,Ve=(Ie.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:p.W.scrollbarButtonLeft,top:Ve,left:Me,bottom:void 0,right:void 0,bgWidth:Ie.arrowSize,bgHeight:Ie.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new x.$(null,1,0))}),this._createArrow({className:"scra",icon:p.W.scrollbarButtonRight,top:Ve,left:void 0,bottom:void 0,right:Me,bgWidth:Ie.arrowSize,bgHeight:Ie.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new x.$(null,-1,0))})}this._createSlider(Math.floor((Ie.horizontalScrollbarSize-Ie.horizontalSliderSize)/2),0,void 0,Ie.horizontalSliderSize)}_updateSlider(Se,Ie){this.slider.setWidth(Se),this.slider.setLeft(Ie)}_renderDomNode(Se,Ie){this.domNode.setWidth(Se),this.domNode.setHeight(Ie),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(Se){return this._shouldRender=this._onElementScrollSize(Se.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(Se.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(Se.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(Se,Ie){return Se}_sliderPointerPosition(Se){return Se.pageX}_sliderOrthogonalPointerPosition(Se){return Se.pageY}_updateScrollbarSize(Se){this.slider.setHeight(Se)}writeScrollPosition(Se,Ie){Se.scrollLeft=Ie}updateOptions(Se){this.updateScrollbarSize(2===Se.horizontal?0:Se.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===Se.vertical?0:Se.verticalScrollbarSize),this._visibilityController.setVisibility(Se.horizontal),this._scrollByPage=Se.scrollByPage}}class T extends l{constructor(Se,Ie,ne){const ue=Se.getScrollDimensions(),we=Se.getCurrentScrollPosition();if(super({lazyRender:Ie.lazyRender,host:ne,scrollbarState:new g.m(Ie.verticalHasArrows?Ie.arrowSize:0,2===Ie.vertical?0:Ie.verticalScrollbarSize,0,ue.height,ue.scrollHeight,we.scrollTop),visibility:Ie.vertical,extraScrollbarClassName:"vertical",scrollable:Se,scrollByPage:Ie.scrollByPage}),Ie.verticalHasArrows){const Me=(Ie.arrowSize-11)/2,Ve=(Ie.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:p.W.scrollbarButtonUp,top:Me,left:Ve,bottom:void 0,right:void 0,bgWidth:Ie.verticalScrollbarSize,bgHeight:Ie.arrowSize,onActivate:()=>this._host.onMouseWheel(new x.$(null,0,1))}),this._createArrow({className:"scra",icon:p.W.scrollbarButtonDown,top:void 0,left:Ve,bottom:Me,right:void 0,bgWidth:Ie.verticalScrollbarSize,bgHeight:Ie.arrowSize,onActivate:()=>this._host.onMouseWheel(new x.$(null,0,-1))})}this._createSlider(0,Math.floor((Ie.verticalScrollbarSize-Ie.verticalSliderSize)/2),Ie.verticalSliderSize,void 0)}_updateSlider(Se,Ie){this.slider.setHeight(Se),this.slider.setTop(Ie)}_renderDomNode(Se,Ie){this.domNode.setWidth(Ie),this.domNode.setHeight(Se),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(Se){return this._shouldRender=this._onElementScrollSize(Se.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(Se.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(Se.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(Se,Ie){return Ie}_sliderPointerPosition(Se){return Se.pageY}_sliderOrthogonalPointerPosition(Se){return Se.pageX}_updateScrollbarSize(Se){this.slider.setWidth(Se)}writeScrollPosition(Se,Ie){Se.scrollTop=Ie}updateOptions(Se){this.updateScrollbarSize(2===Se.vertical?0:Se.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(Se.vertical),this._scrollByPage=Se.scrollByPage}}var A=t(5643),k=t(42110),O=t(85072),N=t.n(O),H=t(97825),L=t.n(H),j=t(77659),Z=t.n(j),te=t(55056),X=t.n(te),U=t(10540),q=t.n(U),R=t(41113),W=t.n(R),Y=t(80140),oe={};oe.styleTagTransform=W(),oe.setAttributes=X(),oe.insert=Z().bind(null,"head"),oe.domAPI=L(),oe.insertStyleElement=q(),N()(Y.A,oe);class ae{constructor(Se,Ie,ne){this.timestamp=Se,this.deltaX=Ie,this.deltaY=ne,this.score=0}}class de{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let Se=1,Ie=0,ne=1,ue=this._rear;for(;;){const we=ue===this._front?Se:Math.pow(2,-ne);if(Se-=we,Ie+=this._memory[ue].score*we,ue===this._front)break;ue=(this._capacity+ue-1)%this._capacity,ne++}return Ie<=.5}acceptStandardWheelEvent(Se){if(a.H8){const Ie=F.zk(Se.browserEvent),ne=(0,a.pR)(Ie);this.accept(Date.now(),Se.deltaX*ne,Se.deltaY*ne)}else this.accept(Date.now(),Se.deltaX,Se.deltaY)}accept(Se,Ie,ne){let ue=null;const we=new ae(Se,Ie,ne);-1===this._front&&-1===this._rear?(this._memory[0]=we,this._front=0,this._rear=0):(ue=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=we),we.score=this._computeScore(we,ue)}_computeScore(Se,Ie){if(Math.abs(Se.deltaX)>0&&Math.abs(Se.deltaY)>0)return 1;let ne=.5;if((!this._isAlmostInt(Se.deltaX)||!this._isAlmostInt(Se.deltaY))&&(ne+=.25),Ie){const ue=Math.abs(Se.deltaX),we=Math.abs(Se.deltaY),Me=Math.abs(Ie.deltaX),Ve=Math.abs(Ie.deltaY),$e=Math.max(Math.min(ue,Me),1),it=Math.max(Math.min(we,Ve),1),He=Math.max(ue,Me),me=Math.max(we,Ve);He%$e==0&&me%it==0&&(ne-=.5)}return Math.min(Math.max(ne,0),1)}_isAlmostInt(Se){return Math.abs(Math.round(Se)-Se)<.01}}de.INSTANCE=new de;class se extends S.x{get options(){return this._options}constructor(Se,Ie,ne){super(),this._onScroll=this._register(new A.vl),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new A.vl),Se.style.overflow="hidden",this._options=function M(ce){const Se={lazyRender:typeof ce.lazyRender<"u"&&ce.lazyRender,className:typeof ce.className<"u"?ce.className:"",useShadows:!(typeof ce.useShadows<"u")||ce.useShadows,handleMouseWheel:!(typeof ce.handleMouseWheel<"u")||ce.handleMouseWheel,flipAxes:typeof ce.flipAxes<"u"&&ce.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:typeof ce.consumeMouseWheelIfScrollbarIsNeeded<"u"&&ce.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:typeof ce.alwaysConsumeMouseWheel<"u"&&ce.alwaysConsumeMouseWheel,scrollYToX:typeof ce.scrollYToX<"u"&&ce.scrollYToX,mouseWheelScrollSensitivity:typeof ce.mouseWheelScrollSensitivity<"u"?ce.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof ce.fastScrollSensitivity<"u"?ce.fastScrollSensitivity:5,scrollPredominantAxis:!(typeof ce.scrollPredominantAxis<"u")||ce.scrollPredominantAxis,mouseWheelSmoothScroll:!(typeof ce.mouseWheelSmoothScroll<"u")||ce.mouseWheelSmoothScroll,arrowSize:typeof ce.arrowSize<"u"?ce.arrowSize:11,listenOnDomNode:typeof ce.listenOnDomNode<"u"?ce.listenOnDomNode:null,horizontal:typeof ce.horizontal<"u"?ce.horizontal:1,horizontalScrollbarSize:typeof ce.horizontalScrollbarSize<"u"?ce.horizontalScrollbarSize:10,horizontalSliderSize:typeof ce.horizontalSliderSize<"u"?ce.horizontalSliderSize:0,horizontalHasArrows:typeof ce.horizontalHasArrows<"u"&&ce.horizontalHasArrows,vertical:typeof ce.vertical<"u"?ce.vertical:1,verticalScrollbarSize:typeof ce.verticalScrollbarSize<"u"?ce.verticalScrollbarSize:10,verticalHasArrows:typeof ce.verticalHasArrows<"u"&&ce.verticalHasArrows,verticalSliderSize:typeof ce.verticalSliderSize<"u"?ce.verticalSliderSize:0,scrollByPage:typeof ce.scrollByPage<"u"&&ce.scrollByPage};return Se.horizontalSliderSize=typeof ce.horizontalSliderSize<"u"?ce.horizontalSliderSize:Se.horizontalScrollbarSize,Se.verticalSliderSize=typeof ce.verticalSliderSize<"u"?ce.verticalSliderSize:Se.verticalScrollbarSize,d.zx&&(Se.className+=" mac"),Se}(Ie),this._scrollable=ne,this._register(this._scrollable.onScroll(we=>{this._onWillScroll.fire(we),this._onDidScroll(we),this._onScroll.fire(we)}));const ue={onMouseWheel:we=>this._onMouseWheel(we),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new T(this._scrollable,this._options,ue)),this._horizontalScrollbar=this._register(new m(this._scrollable,this._options,ue)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(Se),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,w.Z)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,w.Z)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,w.Z)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,we=>this._onMouseOver(we)),this.onmouseleave(this._listenOnDomNode,we=>this._onMouseLeave(we)),this._hideTimeout=this._register(new b.pc),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,_.AS)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(Se){this._verticalScrollbar.delegatePointerDown(Se)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(Se){this._scrollable.setScrollDimensions(Se,!1)}updateClassName(Se){this._options.className=Se,d.zx&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(Se){typeof Se.handleMouseWheel<"u"&&(this._options.handleMouseWheel=Se.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof Se.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=Se.mouseWheelScrollSensitivity),typeof Se.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=Se.fastScrollSensitivity),typeof Se.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=Se.scrollPredominantAxis),typeof Se.horizontal<"u"&&(this._options.horizontal=Se.horizontal),typeof Se.vertical<"u"&&(this._options.vertical=Se.vertical),typeof Se.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=Se.horizontalScrollbarSize),typeof Se.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=Se.verticalScrollbarSize),typeof Se.scrollByPage<"u"&&(this._options.scrollByPage=Se.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(Se){this._onMouseWheel(new x.$(Se))}_setListeningToMouseWheel(Se){this._mouseWheelToDispose.length>0!==Se&&(this._mouseWheelToDispose=(0,_.AS)(this._mouseWheelToDispose),Se)&&this._mouseWheelToDispose.push(F.ko(this._listenOnDomNode,F.Bx.MOUSE_WHEEL,ue=>{this._onMouseWheel(new x.$(ue))},{passive:!1}))}_onMouseWheel(Se){var Ie;if(null!==(Ie=Se.browserEvent)&&void 0!==Ie&&Ie.defaultPrevented)return;const ne=de.INSTANCE;ne.acceptStandardWheelEvent(Se);let ue=!1;if(Se.deltaY||Se.deltaX){let Me=Se.deltaY*this._options.mouseWheelScrollSensitivity,Ve=Se.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&Ve+Me===0?Ve=Me=0:Math.abs(Me)>=Math.abs(Ve)?Ve=0:Me=0),this._options.flipAxes&&([Me,Ve]=[Ve,Me]),(this._options.scrollYToX||!d.zx&&Se.browserEvent&&Se.browserEvent.shiftKey)&&!Ve&&(Ve=Me,Me=0),Se.browserEvent&&Se.browserEvent.altKey&&(Ve*=this._options.fastScrollSensitivity,Me*=this._options.fastScrollSensitivity);const it=this._scrollable.getFutureScrollPosition();let He={};if(Me){const me=50*Me,le=it.scrollTop-(me<0?Math.floor(me):Math.ceil(me));this._verticalScrollbar.writeScrollPosition(He,le)}if(Ve){const me=50*Ve,le=it.scrollLeft-(me<0?Math.floor(me):Math.ceil(me));this._horizontalScrollbar.writeScrollPosition(He,le)}He=this._scrollable.validateScrollPosition(He),(it.scrollLeft!==He.scrollLeft||it.scrollTop!==He.scrollTop)&&(this._options.mouseWheelSmoothScroll&&ne.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(He):this._scrollable.setScrollPositionNow(He),ue=!0)}let we=ue;!we&&this._options.alwaysConsumeMouseWheel&&(we=!0),!we&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(we=!0),we&&(Se.preventDefault(),Se.stopPropagation())}_onDidScroll(Se){this._shouldRender=this._horizontalScrollbar.onDidScroll(Se)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(Se)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const Se=this._scrollable.getCurrentScrollPosition(),Ie=Se.scrollTop>0,ne=Se.scrollLeft>0,ue=ne?" left":"",we=Ie?" top":"",Me=ne||Ie?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${ue}`),this._topShadowDomNode.setClassName(`shadow${we}`),this._topLeftShadowDomNode.setClassName(`shadow${Me}${we}${ue}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(Se){this._mouseIsOver=!1,this._hide()}_onMouseOver(Se){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class ge extends se{constructor(Se,Ie){(Ie=Ie||{}).mouseWheelSmoothScroll=!1;const ne=new k.yE({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ue=>F.PG(F.zk(Se),ue)});super(Se,Ie,ne),this._register(ne)}setScrollPosition(Se){this._scrollable.setScrollPositionNow(Se)}}class _e extends se{constructor(Se,Ie,ne){super(Se,Ie,ne)}setScrollPosition(Se){Se.reuseAnimation?this._scrollable.setScrollPositionSmooth(Se,Se.reuseAnimation):this._scrollable.setScrollPositionNow(Se)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class ye extends se{constructor(Se,Ie){(Ie=Ie||{}).mouseWheelSmoothScroll=!1;const ne=new k.yE({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ue=>F.PG(F.zk(Se),ue)});super(Se,Ie,ne),this._register(ne),this._element=Se,this._register(this.onScroll(ue=>{ue.scrollTopChanged&&(this._element.scrollTop=ue.scrollTop),ue.scrollLeftChanged&&(this._element.scrollLeft=ue.scrollLeft)})),this.scanDomNode()}setScrollPosition(Se){this._scrollable.setScrollPositionNow(Se)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},53393:(tt,xe,t)=>{t.d(xe,{m:()=>F});class F{constructor(x,C,S,b,P,D){this._scrollbarSize=Math.round(C),this._oppositeScrollbarSize=Math.round(S),this._arrowSize=Math.round(x),this._visibleSize=b,this._scrollSize=P,this._scrollPosition=D,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new F(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(x){const C=Math.round(x);return this._visibleSize!==C&&(this._visibleSize=C,this._refreshComputedValues(),!0)}setScrollSize(x){const C=Math.round(x);return this._scrollSize!==C&&(this._scrollSize=C,this._refreshComputedValues(),!0)}setScrollPosition(x){const C=Math.round(x);return this._scrollPosition!==C&&(this._scrollPosition=C,this._refreshComputedValues(),!0)}setScrollbarSize(x){this._scrollbarSize=Math.round(x)}setOppositeScrollbarSize(x){this._oppositeScrollbarSize=Math.round(x)}static _computeValues(x,C,S,b,P){const D=Math.max(0,S-x),v=Math.max(0,D-2*C),_=b>0&&b>S;if(!_)return{computedAvailableSize:Math.round(D),computedIsNeeded:_,computedSliderSize:Math.round(v),computedSliderRatio:0,computedSliderPosition:0};const f=Math.round(Math.max(20,Math.floor(S*v/b))),d=(v-f)/(b-S),r=P*d;return{computedAvailableSize:Math.round(D),computedIsNeeded:_,computedSliderSize:Math.round(f),computedSliderRatio:d,computedSliderPosition:Math.round(r)}}_refreshComputedValues(){const x=F._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=x.computedAvailableSize,this._computedIsNeeded=x.computedIsNeeded,this._computedSliderSize=x.computedSliderSize,this._computedSliderRatio=x.computedSliderRatio,this._computedSliderPosition=x.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(x){return this._computedIsNeeded?Math.round((x-this._arrowSize-this._computedSliderSize/2)/this._computedSliderRatio):0}getDesiredScrollPositionFromOffsetPaged(x){if(!this._computedIsNeeded)return 0;let S=this._scrollPosition;return x-this._arrowSize<this._computedSliderPosition?S-=this._visibleSize:S+=this._visibleSize,S}getDesiredScrollPositionFromDelta(x){return this._computedIsNeeded?Math.round((this._computedSliderPosition+x)/this._computedSliderRatio):0}}},72683:(tt,xe,t)=>{t.d(xe,{X:()=>W,U:()=>Y});var a=t(91874),F=t(27354),w=t(59702),x=t(23702),C=t(30833),S=t(84072),b=t(5643),P=t(99031),D=t(45045),v=t(42110),_=t(66702),f=t(85072),d=t.n(f),r=t(97825),l=t.n(r),g=t(77659),p=t.n(g),m=t(55056),T=t.n(m),A=t(10540),k=t.n(A),O=t(41113),N=t.n(O),H=t(3474),L={};L.styleTagTransform=N(),L.setAttributes=T(),L.insert=p().bind(null,"head"),L.domAPI=l(),L.insertStyleElement=k(),d()(H.A,L);const te={separatorBorder:S.Q1.transparent};class X{set size(z){this._size=z}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(z,G){var Q,K;if(z!==this.visible){z?(this.size=(0,D.qE)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof G?G:this.size,this.size=0),this.container.classList.toggle("visible",z);try{null===(K=(Q=this.view).setVisible)||void 0===K||K.call(Q,z)}catch(ie){console.error("Splitview: Failed to set visible view"),console.error(ie)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var z;return null===(z=this.view.proportionalLayout)||void 0===z||z}get snap(){return!!this.view.snap}set enabled(z){this.container.style.pointerEvents=z?"":"none"}constructor(z,G,Q,K){this.container=z,this.view=G,this.disposable=K,this._cachedVisibleSize=void 0,"number"==typeof Q?(this._size=Q,this._cachedVisibleSize=void 0,z.classList.add("visible")):(this._size=0,this._cachedVisibleSize=Q.cachedVisibleSize)}layout(z,G){this.layoutContainer(z);try{this.view.layout(this.size,z,G)}catch(Q){console.error("Splitview: Failed to layout view"),console.error(Q)}}dispose(){this.disposable.dispose()}}class U extends X{layoutContainer(z){this.container.style.top=`${z}px`,this.container.style.height=`${this.size}px`}}class q extends X{layoutContainer(z){this.container.style.left=`${z}px`,this.container.style.width=`${this.size}px`}}var W,oe,R=function(oe){return oe[oe.Idle=0]="Idle",oe[oe.Busy=1]="Busy",oe}(R||{});(oe=W||(W={})).Distribute={type:"distribute"},oe.Split=function z(K){return{type:"split",index:K}},oe.Auto=function G(K){return{type:"auto",index:K}},oe.Invisible=function Q(K){return{type:"invisible",cachedVisibleSize:K}};class Y extends P.jG{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(z){for(const G of this.sashItems)G.sash.orthogonalStartSash=z;this._orthogonalStartSash=z}set orthogonalEndSash(z){for(const G of this.sashItems)G.sash.orthogonalEndSash=z;this._orthogonalEndSash=z}set startSnappingEnabled(z){this._startSnappingEnabled!==z&&(this._startSnappingEnabled=z,this.updateSashEnablement())}set endSnappingEnabled(z){this._endSnappingEnabled!==z&&(this._endSnappingEnabled=z,this.updateSashEnablement())}constructor(z,G={}){var Q,K,ie,ae,de;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=R.Idle,this._onDidSashChange=this._register(new b.vl),this._onDidSashReset=this._register(new b.vl),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==(Q=G.orientation)&&void 0!==Q?Q:0,this.inverseAltBehavior=null!==(K=G.inverseAltBehavior)&&void 0!==K&&K,this.proportionalLayout=null===(ie=G.proportionalLayout)||void 0===ie||ie,this.getSashOrthogonalSize=G.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),z.appendChild(this.el),this.sashContainer=(0,a.BC)(this.el,(0,a.$)(".sash-container")),this.viewContainer=(0,a.$)(".split-view-container"),this.scrollable=this._register(new v.yE({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:ge=>(0,a.PG)((0,a.zk)(this.el),ge)})),this.scrollableElement=this._register(new x.oO(this.viewContainer,{vertical:0===this.orientation?null!==(ae=G.scrollbarVisibility)&&void 0!==ae?ae:1:2,horizontal:1===this.orientation?null!==(de=G.scrollbarVisibility)&&void 0!==de?de:1:2},this.scrollable));const se=this._register(new F.f(this.viewContainer,"scroll")).event;this._register(se(ge=>{const _e=this.scrollableElement.getScrollPosition(),ye=Math.abs(this.viewContainer.scrollLeft-_e.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,M=Math.abs(this.viewContainer.scrollTop-_e.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(void 0!==ye||void 0!==M)&&this.scrollableElement.setScrollPosition({scrollLeft:ye,scrollTop:M})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(ge=>{ge.scrollTopChanged&&(this.viewContainer.scrollTop=ge.scrollTop),ge.scrollLeftChanged&&(this.viewContainer.scrollLeft=ge.scrollLeft)})),(0,a.BC)(this.el,this.scrollableElement.getDomNode()),this.style(G.styles||te),G.descriptor&&(this.size=G.descriptor.size,G.descriptor.views.forEach((ge,_e)=>{const ye=_.b0(ge.visible)||ge.visible?ge.size:{type:"invisible",cachedVisibleSize:ge.size};this.doAddView(ge.view,ye,_e,!0)}),this._contentSize=this.viewItems.reduce((ge,_e)=>ge+_e.size,0),this.saveProportions())}style(z){z.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",z.separatorBorder.toString()))}addView(z,G,Q=this.viewItems.length,K){this.doAddView(z,G,Q,K)}layout(z,G){const Q=Math.max(this.size,this._contentSize);if(this.size=z,this.layoutContext=G,this.proportions){let K=0;for(let ie=0;ie<this.viewItems.length;ie++){const de=this.proportions[ie];"number"==typeof de?K+=de:z-=this.viewItems[ie].size}for(let ie=0;ie<this.viewItems.length;ie++){const ae=this.viewItems[ie],de=this.proportions[ie];"number"==typeof de&&K>0&&(ae.size=(0,D.qE)(Math.round(de*z/K),ae.minimumSize,ae.maximumSize))}}else{const K=(0,C.y1)(this.viewItems.length),ie=K.filter(de=>1===this.viewItems[de].priority),ae=K.filter(de=>2===this.viewItems[de].priority);this.resize(this.viewItems.length-1,z-Q,void 0,ie,ae)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(z=>z.proportionalLayout&&z.visible?z.size/this._contentSize:void 0))}onSashStart({sash:z,start:G,alt:Q}){for(const de of this.viewItems)de.enabled=!1;const K=this.sashItems.findIndex(de=>de.sash===z),ie=(0,P.qE)((0,a.ko)(this.el.ownerDocument.body,"keydown",de=>ae(this.sashDragState.current,de.altKey)),(0,a.ko)(this.el.ownerDocument.body,"keyup",()=>ae(this.sashDragState.current,!1))),ae=(de,se)=>{const ge=this.viewItems.map(Se=>Se.size);let M,ce,_e=Number.NEGATIVE_INFINITY,ye=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(se=!se),se)if(K===this.sashItems.length-1){const Ie=this.viewItems[K];_e=(Ie.minimumSize-Ie.size)/2,ye=(Ie.maximumSize-Ie.size)/2}else{const Ie=this.viewItems[K+1];_e=(Ie.size-Ie.maximumSize)/2,ye=(Ie.size-Ie.minimumSize)/2}if(!se){const Se=(0,C.y1)(K,-1),Ie=(0,C.y1)(K+1,this.viewItems.length),ne=Se.reduce((me,le)=>me+(this.viewItems[le].minimumSize-ge[le]),0),ue=Se.reduce((me,le)=>me+(this.viewItems[le].viewMaximumSize-ge[le]),0),we=0===Ie.length?Number.POSITIVE_INFINITY:Ie.reduce((me,le)=>me+(ge[le]-this.viewItems[le].minimumSize),0),Me=0===Ie.length?Number.NEGATIVE_INFINITY:Ie.reduce((me,le)=>me+(ge[le]-this.viewItems[le].viewMaximumSize),0),Ve=Math.max(ne,Me),$e=Math.min(we,ue),it=this.findFirstSnapIndex(Se),He=this.findFirstSnapIndex(Ie);if("number"==typeof it){const me=this.viewItems[it],le=Math.floor(me.viewMinimumSize/2);M={index:it,limitDelta:me.visible?Ve-le:Ve+le,size:me.size}}if("number"==typeof He){const me=this.viewItems[He],le=Math.floor(me.viewMinimumSize/2);ce={index:He,limitDelta:me.visible?$e+le:$e-le,size:me.size}}}this.sashDragState={start:de,current:de,index:K,sizes:ge,minDelta:_e,maxDelta:ye,alt:se,snapBefore:M,snapAfter:ce,disposable:ie}};ae(G,Q)}onSashChange({current:z}){const{index:G,start:Q,sizes:K,alt:ie,minDelta:ae,maxDelta:de,snapBefore:se,snapAfter:ge}=this.sashDragState;this.sashDragState.current=z;const ye=this.resize(G,z-Q,K,void 0,void 0,ae,de,se,ge);if(ie){const M=G===this.sashItems.length-1,ce=this.viewItems.map(Me=>Me.size),Ie=this.viewItems[M?G:G+1];this.resize(M?G-1:G+1,-ye,ce,void 0,void 0,Ie.size-Ie.maximumSize,Ie.size-Ie.minimumSize)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(z){this._onDidSashChange.fire(z),this.sashDragState.disposable.dispose(),this.saveProportions();for(const G of this.viewItems)G.enabled=!0}onViewChange(z,G){const Q=this.viewItems.indexOf(z);Q<0||Q>=this.viewItems.length||(G=(0,D.qE)(G="number"==typeof G?G:z.size,z.minimumSize,z.maximumSize),this.inverseAltBehavior&&Q>0?(this.resize(Q-1,Math.floor((z.size-G)/2)),this.distributeEmptySpace(),this.layoutViews()):(z.size=G,this.relayout([Q],void 0)))}resizeView(z,G){if(!(z<0||z>=this.viewItems.length)){if(this.state!==R.Idle)throw new Error("Cant modify splitview");this.state=R.Busy;try{const Q=(0,C.y1)(this.viewItems.length).filter(de=>de!==z),K=[...Q.filter(de=>1===this.viewItems[de].priority),z],ie=Q.filter(de=>2===this.viewItems[de].priority),ae=this.viewItems[z];G=Math.round(G),G=(0,D.qE)(G,ae.minimumSize,Math.min(ae.maximumSize,this.size)),ae.size=G,this.relayout(K,ie)}finally{this.state=R.Idle}}}distributeViewSizes(){const z=[];let G=0;for(const de of this.viewItems)de.maximumSize-de.minimumSize>0&&(z.push(de),G+=de.size);const Q=Math.floor(G/z.length);for(const de of z)de.size=(0,D.qE)(Q,de.minimumSize,de.maximumSize);const K=(0,C.y1)(this.viewItems.length),ie=K.filter(de=>1===this.viewItems[de].priority),ae=K.filter(de=>2===this.viewItems[de].priority);this.relayout(ie,ae)}getViewSize(z){return z<0||z>=this.viewItems.length?-1:this.viewItems[z].size}doAddView(z,G,Q=this.viewItems.length,K){if(this.state!==R.Idle)throw new Error("Cant modify splitview");this.state=R.Busy;try{const ie=(0,a.$)(".split-view-view");Q===this.viewItems.length?this.viewContainer.appendChild(ie):this.viewContainer.insertBefore(ie,this.viewContainer.children.item(Q));const ae=z.onDidChange(M=>this.onViewChange(_e,M)),de=(0,P.s)(()=>this.viewContainer.removeChild(ie)),se=(0,P.qE)(ae,de);let ge;"number"==typeof G?ge=G:("auto"===G.type&&(G=this.areViewsDistributed()?{type:"distribute"}:{type:"split",index:G.index}),ge="split"===G.type?this.getViewSize(G.index)/2:"invisible"===G.type?{cachedVisibleSize:G.cachedVisibleSize}:z.minimumSize);const _e=0===this.orientation?new U(ie,z,ge,se):new q(ie,z,ge,se);if(this.viewItems.splice(Q,0,_e),this.viewItems.length>1){const M={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},ce=0===this.orientation?new w.m(this.sashContainer,{getHorizontalSashTop:me=>this.getSashPosition(me),getHorizontalSashWidth:this.getSashOrthogonalSize},{...M,orientation:1}):new w.m(this.sashContainer,{getVerticalSashLeft:me=>this.getSashPosition(me),getVerticalSashHeight:this.getSashOrthogonalSize},{...M,orientation:0}),Se=0===this.orientation?me=>({sash:ce,start:me.startY,current:me.currentY,alt:me.altKey}):me=>({sash:ce,start:me.startX,current:me.currentX,alt:me.altKey}),ne=b.Jh.map(ce.onDidStart,Se)(this.onSashStart,this),we=b.Jh.map(ce.onDidChange,Se)(this.onSashChange,this),Ve=b.Jh.map(ce.onDidEnd,()=>this.sashItems.findIndex(me=>me.sash===ce))(this.onSashEnd,this),$e=ce.onDidReset(()=>{const me=this.sashItems.findIndex(Ne=>Ne.sash===ce),le=(0,C.y1)(me,-1),Ee=(0,C.y1)(me+1,this.viewItems.length),be=this.findFirstSnapIndex(le),Ce=this.findFirstSnapIndex(Ee);"number"==typeof be&&!this.viewItems[be].visible||"number"==typeof Ce&&!this.viewItems[Ce].visible||this._onDidSashReset.fire(me)}),it=(0,P.qE)(ne,we,Ve,$e,ce);this.sashItems.splice(Q-1,0,{sash:ce,disposable:it})}let ye;ie.appendChild(z.element),"number"!=typeof G&&"split"===G.type&&(ye=[G.index]),K||this.relayout([Q],ye),!K&&"number"!=typeof G&&"distribute"===G.type&&this.distributeViewSizes()}finally{this.state=R.Idle}}relayout(z,G){const Q=this.viewItems.reduce((K,ie)=>K+ie.size,0);this.resize(this.viewItems.length-1,this.size-Q,void 0,z,G),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(z,G,Q=this.viewItems.map(_e=>_e.size),K,ie,ae=Number.NEGATIVE_INFINITY,de=Number.POSITIVE_INFINITY,se,ge){if(z<0||z>=this.viewItems.length)return 0;const _e=(0,C.y1)(z,-1),ye=(0,C.y1)(z+1,this.viewItems.length);if(ie)for(const He of ie)(0,C._A)(_e,He),(0,C._A)(ye,He);if(K)for(const He of K)(0,C.r7)(_e,He),(0,C.r7)(ye,He);const M=_e.map(He=>this.viewItems[He]),ce=_e.map(He=>Q[He]),Se=ye.map(He=>this.viewItems[He]),Ie=ye.map(He=>Q[He]),ne=_e.reduce((He,me)=>He+(this.viewItems[me].minimumSize-Q[me]),0),ue=_e.reduce((He,me)=>He+(this.viewItems[me].maximumSize-Q[me]),0),we=0===ye.length?Number.POSITIVE_INFINITY:ye.reduce((He,me)=>He+(Q[me]-this.viewItems[me].minimumSize),0),Me=0===ye.length?Number.NEGATIVE_INFINITY:ye.reduce((He,me)=>He+(Q[me]-this.viewItems[me].maximumSize),0),Ve=Math.max(ne,Me,ae),$e=Math.min(we,ue,de);let it=!1;if(se){const He=this.viewItems[se.index],me=G>=se.limitDelta;it=me!==He.visible,He.setVisible(me,se.size)}if(!it&&ge){const He=this.viewItems[ge.index],me=G<ge.limitDelta;it=me!==He.visible,He.setVisible(me,ge.size)}if(it)return this.resize(z,G,Q,K,ie,ae,de);for(let He=0,me=G=(0,D.qE)(G,Ve,$e);He<M.length;He++){const le=M[He],Ee=(0,D.qE)(ce[He]+me,le.minimumSize,le.maximumSize);me-=Ee-ce[He],le.size=Ee}for(let He=0,me=G;He<Se.length;He++){const le=Se[He],Ee=(0,D.qE)(Ie[He]-me,le.minimumSize,le.maximumSize);me+=Ee-Ie[He],le.size=Ee}return G}distributeEmptySpace(z){const G=this.viewItems.reduce((de,se)=>de+se.size,0);let Q=this.size-G;const K=(0,C.y1)(this.viewItems.length-1,-1),ie=K.filter(de=>1===this.viewItems[de].priority),ae=K.filter(de=>2===this.viewItems[de].priority);for(const de of ae)(0,C._A)(K,de);for(const de of ie)(0,C.r7)(K,de);"number"==typeof z&&(0,C.r7)(K,z);for(let de=0;0!==Q&&de<K.length;de++){const se=this.viewItems[K[de]],ge=(0,D.qE)(se.size+Q,se.minimumSize,se.maximumSize);Q-=ge-se.size,se.size=ge}}layoutViews(){this._contentSize=this.viewItems.reduce((G,Q)=>G+Q.size,0);let z=0;for(const G of this.viewItems)G.layout(z,this.layoutContext),z+=G.size;this.sashItems.forEach(G=>G.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.scrollableElement.setScrollDimensions(0===this.orientation?{height:this.size,scrollHeight:this._contentSize}:{width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let z=!1;const G=this.viewItems.map(se=>z=se.size-se.minimumSize>0||z);z=!1;const Q=this.viewItems.map(se=>z=se.maximumSize-se.size>0||z),K=[...this.viewItems].reverse();z=!1;const ie=K.map(se=>z=se.size-se.minimumSize>0||z).reverse();z=!1;const ae=K.map(se=>z=se.maximumSize-se.size>0||z).reverse();let de=0;for(let se=0;se<this.sashItems.length;se++){const{sash:ge}=this.sashItems[se];de+=this.viewItems[se].size;const ye=!(G[se]&&ae[se+1]),M=!(Q[se]&&ie[se+1]);if(ye&&M){const ce=(0,C.y1)(se,-1),Se=(0,C.y1)(se+1,this.viewItems.length),Ie=this.findFirstSnapIndex(ce),ne=this.findFirstSnapIndex(Se);ge.state="number"==typeof Ie&&!this.viewItems[Ie].visible&&ie[se]&&(de>0||this.startSnappingEnabled)?1:"number"==typeof ne&&!this.viewItems[ne].visible&&G[se]&&(de<this._contentSize||this.endSnappingEnabled)?2:0}else ge.state=ye&&!M?1:!ye&&M?2:3}}getSashPosition(z){let G=0;for(let Q=0;Q<this.sashItems.length;Q++)if(G+=this.viewItems[Q].size,this.sashItems[Q].sash===z)return G;return 0}findFirstSnapIndex(z){for(const G of z){const Q=this.viewItems[G];if(Q.visible&&Q.snap)return G}for(const G of z){const Q=this.viewItems[G];if(Q.visible&&Q.maximumSize-Q.minimumSize>0)return;if(!Q.visible&&Q.snap)return G}}areViewsDistributed(){let z,G;for(const Q of this.viewItems)if(z=void 0===z?Q.size:Math.min(z,Q.size),G=void 0===G?Q.size:Math.max(G,Q.size),G-z>2)return!1;return!0}dispose(){var z;null===(z=this.sashDragState)||void 0===z||z.disposable.dispose(),(0,P.AS)(this.viewItems),this.viewItems=[],this.sashItems.forEach(G=>G.disposable.dispose()),this.sashItems=[],super.dispose()}}},48469:(tt,xe,t)=>{t.d(xe,{l:()=>N,F:()=>O});var a=t(2673),F=t(81072),w=t(5643),x=t(85072),C=t.n(x),S=t(97825),b=t.n(S),P=t(77659),D=t.n(P),v=t(55056),_=t.n(v),f=t(10540),d=t.n(f),r=t(41113),l=t.n(r),g=t(62516),p={};p.styleTagTransform=l(),p.setAttributes=_(),p.insert=D().bind(null,"head"),p.domAPI=b(),p.insertStyleElement=d(),C()(g.A,p);var A=t(96479),k=t(42371);const O={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class N extends a.x{constructor(L){var j;super(),this._onChange=this._register(new w.vl),this.onChange=this._onChange.event,this._onKeyDown=this._register(new w.vl),this.onKeyDown=this._onKeyDown.event,this._opts=L,this._checked=this._opts.isChecked;const Z=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,Z.push(...F.L.asClassNameArray(this._icon))),this._opts.actionClassName&&Z.push(...this._opts.actionClassName.split(" ")),this._checked&&Z.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register((0,k.i)().setupUpdatableHover(null!==(j=L.hoverDelegate)&&void 0!==j?j:(0,A.nZ)("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...Z),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,te=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),te.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,te=>{if(10===te.keyCode||3===te.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),te.preventDefault(),void te.stopPropagation();this._onKeyDown.fire(te)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(L){this._checked=L,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},35481:(tt,xe,t)=>{t.d(xe,{DO:()=>Je,w0:()=>M,KP:()=>ce,RD:()=>$e,vD:()=>Ve}),t(10467);var F=t(91874),x=(t(27354),t(92873)),P=(t(44906),t(26878),t(34593),t(83565)),D=t(87291),_=(t(48469),t(99953)),f=t(12028),r=(t(64948),t(30833)),l=t(86671),g=t(15320),p=t(81072),m=t(20053),T=t(5643),A=t(28467),k=t(99031),O=t(45045),N=t(66702),H=t(85072),L=t.n(H),j=t(97825),Z=t.n(j),te=t(77659),X=t.n(te),U=t(55056),q=t.n(U),R=t(10540),W=t.n(R),Y=t(41113),oe=t.n(Y),z=t(71963),G={};G.styleTagTransform=oe(),G.setAttributes=q(),G.insert=X().bind(null,"head"),G.domAPI=Z(),G.insertStyleElement=W(),L()(z.A,G);var ie=t(81644),de=(t(96479),t(28044));class se extends P.ur{constructor(De){super(De.elements.map(Qe=>Qe.element)),this.data=De}}function ge(ot){return ot instanceof P.ur?new se(ot):ot}class _e{constructor(De,Qe){this.modelProvider=De,this.dnd=Qe,this.autoExpandDisposable=k.jG.None,this.disposables=new k.Cm}getDragURI(De){return this.dnd.getDragURI(De.element)}getDragLabel(De,Qe){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(De.map(mt=>mt.element),Qe)}onDragStart(De,Qe){var mt,kt;null===(kt=(mt=this.dnd).onDragStart)||void 0===kt||kt.call(mt,ge(De),Qe)}onDragOver(De,Qe,mt,kt,Ht,Ft=!0){const Bt=this.dnd.onDragOver(ge(De),Qe&&Qe.element,mt,kt,Ht),rt=this.autoExpandNode!==Qe;if(rt&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=Qe),typeof Qe>"u")return Bt;if(rt&&"boolean"!=typeof Bt&&Bt.autoExpand&&(this.autoExpandDisposable=(0,l.EQ)(()=>{const Ye=this.modelProvider(),st=Ye.getNodeLocation(Qe);Ye.isCollapsed(st)&&Ye.setCollapsed(st,!1),this.autoExpandNode=void 0},500,this.disposables)),"boolean"==typeof Bt||!Bt.accept||typeof Bt.bubble>"u"||Bt.feedback)return Ft?Bt:{accept:"boolean"==typeof Bt?Bt:Bt.accept,effect:"boolean"==typeof Bt?void 0:Bt.effect,feedback:[mt]};if(1===Bt.bubble){const Ye=this.modelProvider(),st=Ye.getNodeLocation(Qe),Ke=Ye.getParentNodeLocation(st),ft=Ye.getNode(Ke),wt=Ke&&Ye.getListIndex(Ke);return this.onDragOver(De,ft,wt,kt,Ht,!1)}const Ut=this.modelProvider(),St=Ut.getNodeLocation(Qe),ke=Ut.getListIndex(St),Ze=Ut.getListRenderCount(St);return{...Bt,feedback:(0,r.y1)(ke,ke+Ze)}}drop(De,Qe,mt,kt,Ht){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(ge(De),Qe&&Qe.element,mt,kt,Ht)}onDragEnd(De){var Qe,mt;null===(mt=(Qe=this.dnd).onDragEnd)||void 0===mt||mt.call(Qe,De)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function ye(ot,De){return De&&{...De,identityProvider:De.identityProvider&&{getId:Qe=>De.identityProvider.getId(Qe.element)},dnd:De.dnd&&new _e(ot,De.dnd),multipleSelectionController:De.multipleSelectionController&&{isSelectionSingleChangeEvent:Qe=>De.multipleSelectionController.isSelectionSingleChangeEvent({...Qe,element:Qe.element}),isSelectionRangeChangeEvent:Qe=>De.multipleSelectionController.isSelectionRangeChangeEvent({...Qe,element:Qe.element})},accessibilityProvider:De.accessibilityProvider&&{...De.accessibilityProvider,getSetSize(Qe){const mt=ot(),kt=mt.getNodeLocation(Qe),Ht=mt.getParentNodeLocation(kt);return mt.getNode(Ht).visibleChildrenCount},getPosInSet:Qe=>Qe.visibleChildIndex+1,isChecked:De.accessibilityProvider&&De.accessibilityProvider.isChecked?Qe=>De.accessibilityProvider.isChecked(Qe.element):void 0,getRole:De.accessibilityProvider&&De.accessibilityProvider.getRole?Qe=>De.accessibilityProvider.getRole(Qe.element):()=>"treeitem",getAriaLabel:Qe=>De.accessibilityProvider.getAriaLabel(Qe.element),getWidgetAriaLabel:()=>De.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:De.accessibilityProvider&&De.accessibilityProvider.getWidgetRole?()=>De.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:De.accessibilityProvider&&De.accessibilityProvider.getAriaLevel?Qe=>De.accessibilityProvider.getAriaLevel(Qe.element):Qe=>Qe.depth,getActiveDescendantId:De.accessibilityProvider.getActiveDescendantId&&(Qe=>De.accessibilityProvider.getActiveDescendantId(Qe.element))},keyboardNavigationLabelProvider:De.keyboardNavigationLabelProvider&&{...De.keyboardNavigationLabelProvider,getKeyboardNavigationLabel:Qe=>De.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Qe.element)}}}class M{constructor(De){this.delegate=De}getHeight(De){return this.delegate.getHeight(De.element)}getTemplateId(De){return this.delegate.getTemplateId(De.element)}hasDynamicHeight(De){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(De.element)}setDynamicHeight(De,Qe){var mt,kt;null===(kt=(mt=this.delegate).setDynamicHeight)||void 0===kt||kt.call(mt,De.element,Qe)}}var ce=function(ot){return ot.None="none",ot.OnHover="onHover",ot.Always="always",ot}(ce||{});class Se{get elements(){return this._elements}constructor(De,Qe=[]){this._elements=Qe,this.disposables=new k.Cm,this.onDidChange=T.Jh.forEach(De,mt=>this._elements=mt,this.disposables)}dispose(){this.disposables.dispose()}}let Ie=(()=>{class ot{constructor(Qe,mt,kt,Ht,Ft,Bt={}){var rt;this.renderer=Qe,this.modelProvider=mt,this.activeNodes=Ht,this.renderedIndentGuides=Ft,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=ot.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=k.jG.None,this.disposables=new k.Cm,this.templateId=Qe.templateId,this.updateOptions(Bt),T.Jh.map(kt,Ut=>Ut.node)(this.onDidChangeNodeTwistieState,this,this.disposables),null===(rt=Qe.onDidChangeTwistieState)||void 0===rt||rt.call(Qe,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(Qe={}){if(typeof Qe.indent<"u"){const mt=(0,O.qE)(Qe.indent,0,40);if(mt!==this.indent){this.indent=mt;for(const[kt,Ht]of this.renderedNodes)this.renderTreeElement(kt,Ht)}}if(typeof Qe.renderIndentGuides<"u"){const mt=Qe.renderIndentGuides!==ce.None;if(mt!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=mt;for(const[kt,Ht]of this.renderedNodes)this._renderIndentGuides(kt,Ht);if(this.indentGuidesDisposable.dispose(),mt){const kt=new k.Cm;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,kt),this.indentGuidesDisposable=kt,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof Qe.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=Qe.hideTwistiesOfChildlessElements)}renderTemplate(Qe){const mt=(0,F.BC)(Qe,(0,F.$)(".monaco-tl-row")),kt=(0,F.BC)(mt,(0,F.$)(".monaco-tl-indent")),Ht=(0,F.BC)(mt,(0,F.$)(".monaco-tl-twistie")),Ft=(0,F.BC)(mt,(0,F.$)(".monaco-tl-contents")),Bt=this.renderer.renderTemplate(Ft);return{container:Qe,indent:kt,twistie:Ht,indentGuidesDisposable:k.jG.None,templateData:Bt}}renderElement(Qe,mt,kt,Ht){this.renderedNodes.set(Qe,kt),this.renderedElements.set(Qe.element,Qe),this.renderTreeElement(Qe,kt),this.renderer.renderElement(Qe,mt,kt.templateData,Ht)}disposeElement(Qe,mt,kt,Ht){var Ft,Bt;kt.indentGuidesDisposable.dispose(),null===(Bt=(Ft=this.renderer).disposeElement)||void 0===Bt||Bt.call(Ft,Qe,mt,kt.templateData,Ht),"number"==typeof Ht&&(this.renderedNodes.delete(Qe),this.renderedElements.delete(Qe.element))}disposeTemplate(Qe){this.renderer.disposeTemplate(Qe.templateData)}onDidChangeTwistieState(Qe){const mt=this.renderedElements.get(Qe);mt&&this.onDidChangeNodeTwistieState(mt)}onDidChangeNodeTwistieState(Qe){const mt=this.renderedNodes.get(Qe);mt&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(Qe,mt))}renderTreeElement(Qe,mt){const kt=ot.DefaultIndent+(Qe.depth-1)*this.indent;mt.twistie.style.paddingLeft=`${kt}px`,mt.indent.style.width=kt+this.indent-16+"px",Qe.collapsible?mt.container.setAttribute("aria-expanded",String(!Qe.collapsed)):mt.container.removeAttribute("aria-expanded"),mt.twistie.classList.remove(...p.L.asClassNameArray(g.W.treeItemExpanded));let Ht=!1;this.renderer.renderTwistie&&(Ht=this.renderer.renderTwistie(Qe.element,mt.twistie)),Qe.collapsible&&(!this.hideTwistiesOfChildlessElements||Qe.visibleChildrenCount>0)?(Ht||mt.twistie.classList.add(...p.L.asClassNameArray(g.W.treeItemExpanded)),mt.twistie.classList.add("collapsible"),mt.twistie.classList.toggle("collapsed",Qe.collapsed)):mt.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(Qe,mt)}_renderIndentGuides(Qe,mt){if((0,F.w_)(mt.indent),mt.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const kt=new k.Cm,Ht=this.modelProvider();for(;;){const Ft=Ht.getNodeLocation(Qe),Bt=Ht.getParentNodeLocation(Ft);if(!Bt)break;const rt=Ht.getNode(Bt),Ut=(0,F.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(rt)&&Ut.classList.add("active"),0===mt.indent.childElementCount?mt.indent.appendChild(Ut):mt.indent.insertBefore(Ut,mt.indent.firstElementChild),this.renderedIndentGuides.add(rt,Ut),kt.add((0,k.s)(()=>this.renderedIndentGuides.delete(rt,Ut))),Qe=rt}mt.indentGuidesDisposable=kt}_onDidChangeActiveNodes(Qe){if(!this.shouldRenderIndentGuides)return;const mt=new Set,kt=this.modelProvider();Qe.forEach(Ht=>{const Ft=kt.getNodeLocation(Ht);try{const Bt=kt.getParentNodeLocation(Ft);Ht.collapsible&&Ht.children.length>0&&!Ht.collapsed?mt.add(Ht):Bt&&mt.add(kt.getNode(Bt))}catch{}}),this.activeIndentNodes.forEach(Ht=>{mt.has(Ht)||this.renderedIndentGuides.forEach(Ht,Ft=>Ft.classList.remove("active"))}),mt.forEach(Ht=>{this.activeIndentNodes.has(Ht)||this.renderedIndentGuides.forEach(Ht,Ft=>Ft.classList.add("active"))}),this.activeIndentNodes=mt}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,k.AS)(this.disposables)}}return ot.DefaultIndent=8,ot})();class ne{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(De,Qe,mt){this.tree=De,this.keyboardNavigationLabelProvider=Qe,this._filter=mt,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new k.Cm,De.onWillRefilter(this.reset,this,this.disposables)}filter(De,Qe){let mt=1;if(this._filter){const Ft=this._filter.filter(De,Qe);if(mt="boolean"==typeof Ft?Ft?1:0:(0,_.iZ)(Ft)?(0,_.Mn)(Ft.visibility):Ft,0===mt)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:A.ne.Default,visibility:mt};const kt=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(De),Ht=Array.isArray(kt)?kt:[kt];for(const Ft of Ht){const Bt=Ft&&Ft.toString();if(typeof Bt>"u")return{data:A.ne.Default,visibility:mt};let rt;if(this.tree.findMatchType===$e.Contiguous){const Ut=Bt.toLowerCase().indexOf(this._lowercasePattern);if(Ut>-1){rt=[Number.MAX_SAFE_INTEGER,0];for(let St=this._lowercasePattern.length;St>0;St--)rt.push(Ut+St-1)}}else rt=(0,A.dt)(this._pattern,this._lowercasePattern,0,Bt,Bt.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(rt)return this._matchCount++,1===Ht.length?{data:rt,visibility:mt}:{data:{label:Bt,score:rt},visibility:mt}}return this.tree.findMode===Ve.Filter?"number"==typeof this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(De):2:{data:A.ne.Default,visibility:mt}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,k.AS)(this.disposables)}}var Ve=function(ot){return ot[ot.Highlight=0]="Highlight",ot[ot.Filter=1]="Filter",ot}(Ve||{}),$e=function(ot){return ot[ot.Fuzzy=0]="Fuzzy",ot[ot.Contiguous=1]="Contiguous",ot}($e||{});class He{get pattern(){return this._pattern}get mode(){return this._mode}set mode(De){De!==this._mode&&(this._mode=De,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(De))}get matchType(){return this._matchType}set matchType(De){De!==this._matchType&&(this._matchType=De,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(De))}constructor(De,Qe,mt,kt,Ht,Ft={}){var Bt,rt;this.tree=De,this.view=mt,this.filter=kt,this.contextViewProvider=Ht,this.options=Ft,this._pattern="",this.width=0,this._onDidChangeMode=new T.vl,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new T.vl,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new T.vl,this._onDidChangeOpenState=new T.vl,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new k.Cm,this.disposables=new k.Cm,this._mode=null!==(Bt=De.options.defaultFindMode)&&void 0!==Bt?Bt:Ve.Highlight,this._matchType=null!==(rt=De.options.defaultFindMatchType)&&void 0!==rt?rt:$e.Fuzzy,Qe.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(De={}){void 0!==De.defaultFindMode&&(this.mode=De.defaultFindMode),void 0!==De.defaultFindMatchType&&(this.matchType=De.defaultFindMatchType)}onDidSpliceModel(){!this.widget||0===this.pattern.length||(this.tree.refilter(),this.render())}render(){var De,Qe,mt,kt;this.pattern&&this.filter.totalCount>0&&0===this.filter.matchCount?null===(De=this.tree.options.showNotFoundMessage)||void 0===De||De?null===(Qe=this.widget)||void 0===Qe||Qe.showMessage({type:2,content:(0,ie.kg)("not found","No elements found.")}):null===(mt=this.widget)||void 0===mt||mt.showMessage({type:2}):null===(kt=this.widget)||void 0===kt||kt.clearMessage()}shouldAllowFocus(De){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1||!A.ne.isDefault(De.filterData)}layout(De){var Qe;this.width=De,null===(Qe=this.widget)||void 0===Qe||Qe.layout(De)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function me(ot,De){return ot.position===De.position&&le(ot,De)}function le(ot,De){return ot.node.element===De.node.element&&ot.startIndex===De.startIndex&&ot.height===De.height&&ot.endIndex===De.endIndex}class Ee{constructor(De=[]){this.stickyNodes=De}get count(){return this.stickyNodes.length}equal(De){return(0,r.aI)(this.stickyNodes,De.stickyNodes,me)}lastNodePartiallyVisible(){if(0===this.count)return!1;const De=this.stickyNodes[this.count-1];if(1===this.count)return 0!==De.position;const Qe=this.stickyNodes[this.count-2];return Qe.position+Qe.height!==De.position}animationStateChanged(De){return!(!(0,r.aI)(this.stickyNodes,De.stickyNodes,le)||0===this.count)&&this.stickyNodes[this.count-1].position!==De.stickyNodes[De.count-1].position}}class be{constrainStickyScrollNodes(De,Qe,mt){for(let kt=0;kt<De.length;kt++){const Ht=De[kt];if(Ht.position+Ht.height>mt||kt>=Qe)return De.slice(0,kt)}return De}}class Ce extends k.jG{constructor(De,Qe,mt,kt,Ht,Ft={}){var Bt;super(),this.tree=De,this.model=Qe,this.view=mt,this.treeDelegate=Ht,this.maxWidgetViewRatio=.4;const rt=this.validateStickySettings(Ft);this.stickyScrollMaxItemCount=rt.stickyScrollMaxItemCount,this.stickyScrollDelegate=null!==(Bt=Ft.stickyScrollDelegate)&&void 0!==Bt?Bt:new be,this._widget=this._register(new Ne(mt.getScrollableElement(),mt,De,kt,Ht,Ft.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(mt.onDidScroll(()=>this.update())),this._register(mt.onDidChangeContentHeight(()=>this.update())),this._register(De.onDidChangeCollapseState(()=>this.update())),this.update()}get height(){return this._widget.height}getNodeAtHeight(De){let Qe;if(Qe=0===De?this.view.firstVisibleIndex:this.view.indexAt(De+this.view.scrollTop),!(Qe<0||Qe>=this.view.length))return this.view.element(Qe)}update(){const De=this.getNodeAtHeight(0);if(!De||0===this.tree.scrollTop)return void this._widget.setState(void 0);const Qe=this.findStickyState(De);this._widget.setState(Qe)}findStickyState(De){const Qe=[];let mt=De,kt=0,Ht=this.getNextStickyNode(mt,void 0,kt);for(;Ht&&(Qe.push(Ht),kt+=Ht.height,!(Qe.length<=this.stickyScrollMaxItemCount)||(mt=this.getNextVisibleNode(Ht),mt));)Ht=this.getNextStickyNode(mt,Ht.node,kt);const Ft=this.constrainStickyNodes(Qe);return Ft.length?new Ee(Ft):void 0}getNextVisibleNode(De){return this.getNodeAtHeight(De.position+De.height)}getNextStickyNode(De,Qe,mt){const kt=this.getAncestorUnderPrevious(De,Qe);if(kt&&(kt!==De||this.nodeIsUncollapsedParent(De)&&!this.nodeTopAlignsWithStickyNodesBottom(De,mt)))return this.createStickyScrollNode(kt,mt)}nodeTopAlignsWithStickyNodesBottom(De,Qe){const mt=this.getNodeIndex(De),kt=this.view.getElementTop(mt);return this.view.scrollTop===kt-Qe}createStickyScrollNode(De,Qe){const mt=this.treeDelegate.getHeight(De),{startIndex:kt,endIndex:Ht}=this.getNodeRange(De);return{node:De,position:this.calculateStickyNodePosition(Ht,Qe,mt),height:mt,startIndex:kt,endIndex:Ht}}getAncestorUnderPrevious(De,Qe=void 0){let mt=De,kt=this.getParentNode(mt);for(;kt;){if(kt===Qe)return mt;mt=kt,kt=this.getParentNode(mt)}if(void 0===Qe)return mt}calculateStickyNodePosition(De,Qe,mt){let kt=this.view.getRelativeTop(De);if(null===kt&&this.view.firstVisibleIndex===De&&De+1<this.view.length){const Ut=this.treeDelegate.getHeight(this.view.element(De)),St=this.view.getRelativeTop(De+1);kt=St?St-Ut/this.view.renderHeight:null}if(null===kt)return Qe;const Ht=this.view.element(De),Ft=this.treeDelegate.getHeight(Ht),rt=kt*this.view.renderHeight+Ft;return Qe+mt>rt&&Qe<=rt?rt-mt:Qe}constrainStickyNodes(De){if(0===De.length)return[];const Qe=this.view.renderHeight*this.maxWidgetViewRatio,mt=De[De.length-1];if(De.length<=this.stickyScrollMaxItemCount&&mt.position+mt.height<=Qe)return De;const kt=this.stickyScrollDelegate.constrainStickyScrollNodes(De,this.stickyScrollMaxItemCount,Qe);if(!kt.length)return[];const Ht=kt[kt.length-1];if(kt.length>this.stickyScrollMaxItemCount||Ht.position+Ht.height>Qe)throw new Error("stickyScrollDelegate violates constraints");return kt}getParentNode(De){const Qe=this.model.getNodeLocation(De),mt=this.model.getParentNodeLocation(Qe);return mt?this.model.getNode(mt):void 0}nodeIsUncollapsedParent(De){const Qe=this.model.getNodeLocation(De);return this.model.getListRenderCount(Qe)>1}getNodeIndex(De){const Qe=this.model.getNodeLocation(De);return this.model.getListIndex(Qe)}getNodeRange(De){const Qe=this.model.getNodeLocation(De),mt=this.model.getListIndex(Qe);if(mt<0)throw new Error("Node not found in tree");return{startIndex:mt,endIndex:mt+this.model.getListRenderCount(Qe)-1}}nodePositionTopBelowWidget(De){const Qe=[];let mt=this.getParentNode(De);for(;mt;)Qe.push(mt),mt=this.getParentNode(mt);let kt=0;for(let Ht=0;Ht<Qe.length&&Ht<this.stickyScrollMaxItemCount;Ht++)kt+=this.treeDelegate.getHeight(Qe[Ht]);return kt}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(De={}){if(!De.stickyScrollMaxItemCount)return;const Qe=this.validateStickySettings(De);this.stickyScrollMaxItemCount!==Qe.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=Qe.stickyScrollMaxItemCount,this.update())}validateStickySettings(De){let Qe=7;return"number"==typeof De.stickyScrollMaxItemCount&&(Qe=Math.max(De.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:Qe}}}class Ne{constructor(De,Qe,mt,kt,Ht,Ft){this.view=Qe,this.tree=mt,this.treeRenderers=kt,this.treeDelegate=Ht,this.accessibilityProvider=Ft,this._previousElements=[],this._previousStateDisposables=new k.Cm,this._rootDomNode=(0,F.$)(".monaco-tree-sticky-container.empty"),De.appendChild(this._rootDomNode);const Bt=(0,F.$)(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(Bt),this.stickyScrollFocus=new Fe(this._rootDomNode,Qe),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}get height(){if(!this._previousState)return 0;const De=this._previousState.stickyNodes[this._previousState.count-1];return De.position+De.height}setState(De){const Qe=!!this._previousState&&this._previousState.count>0,mt=!!De&&De.count>0;if(!Qe&&!mt||Qe&&mt&&this._previousState.equal(De))return;if(Qe!==mt&&this.setVisible(mt),!mt)return this._previousState=void 0,this._previousElements=[],void this._previousStateDisposables.clear();const kt=De.stickyNodes[De.count-1];if(this._previousState&&De.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${kt.position}px`;else{this._previousStateDisposables.clear();const Ht=Array(De.count);for(let Ft=De.count-1;Ft>=0;Ft--){const Bt=De.stickyNodes[Ft],{element:rt,disposable:Ut}=this.createElement(Bt,Ft,De.count);Ht[Ft]=rt,this._rootDomNode.appendChild(rt),this._previousStateDisposables.add(Ut)}this.stickyScrollFocus.updateElements(Ht,De),this._previousElements=Ht}this._previousState=De,this._rootDomNode.style.height=`${kt.position+kt.height}px`}createElement(De,Qe,mt){const kt=De.startIndex,Ht=document.createElement("div");Ht.style.top=`${De.position}px`,!1!==this.tree.options.setRowHeight&&(Ht.style.height=`${De.height}px`),!1!==this.tree.options.setRowLineHeight&&(Ht.style.lineHeight=`${De.height}px`),Ht.classList.add("monaco-tree-sticky-row"),Ht.classList.add("monaco-list-row"),Ht.setAttribute("data-index",`${kt}`),Ht.setAttribute("data-parity",kt%2==0?"even":"odd"),Ht.setAttribute("id",this.view.getElementID(kt));const Ft=this.setAccessibilityAttributes(Ht,De.node.element,Qe,mt),Bt=this.treeDelegate.getTemplateId(De.node),rt=this.treeRenderers.find(Ze=>Ze.templateId===Bt);if(!rt)throw new Error(`No renderer found for template id ${Bt}`);let Ut=De.node;Ut===this.tree.getNode(this.tree.getNodeLocation(De.node))&&(Ut=new Proxy(De.node,{}));const St=rt.renderTemplate(Ht);rt.renderElement(Ut,De.startIndex,St,De.height);const ke=(0,k.s)(()=>{Ft.dispose(),rt.disposeElement(Ut,De.startIndex,St,De.height),rt.disposeTemplate(St),Ht.remove()});return{element:Ht,disposable:ke}}setAccessibilityAttributes(De,Qe,mt,kt){var Ht;if(!this.accessibilityProvider)return k.jG.None;this.accessibilityProvider.getSetSize&&De.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(Qe,mt,kt))),this.accessibilityProvider.getPosInSet&&De.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(Qe,mt))),this.accessibilityProvider.getRole&&De.setAttribute("role",null!==(Ht=this.accessibilityProvider.getRole(Qe))&&void 0!==Ht?Ht:"treeitem");const Ft=this.accessibilityProvider.getAriaLabel(Qe),Bt=Ft&&"string"!=typeof Ft?Ft:(0,de.lk)(Ft),rt=(0,de.fm)(St=>{const ke=St.readObservable(Bt);ke?De.setAttribute("aria-label",ke):De.removeAttribute("aria-label")});"string"==typeof Ft||Ft&&De.setAttribute("aria-label",Ft.get());const Ut=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(Qe);return"number"==typeof Ut&&De.setAttribute("aria-level",`${Ut}`),De.setAttribute("aria-selected",String(!1)),rt}setVisible(De){this._rootDomNode.classList.toggle("empty",!De),De||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class Fe extends k.jG{get domHasFocus(){return this._domHasFocus}set domHasFocus(De){De!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(De),this._domHasFocus=De)}constructor(De,Qe){super(),this.container=De,this.view=Qe,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new T.vl,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new T.vl,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this.container.addEventListener("focus",()=>this.onFocus()),this.container.addEventListener("blur",()=>this.onBlur()),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(mt=>this.onKeyDown(mt))),this._register(this.view.onMouseDown(mt=>this.onMouseDown(mt))),this._register(this.view.onContextMenu(mt=>this.handleContextMenu(mt)))}handleContextMenu(De){const Qe=De.browserEvent.target;if((0,D.Es)(Qe)||(0,D.xu)(Qe)){if(!(0,F.kx)(De.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const Ft=this.state.stickyNodes.findIndex(Bt=>{var rt;return Bt.node.element===(null===(rt=De.element)||void 0===rt?void 0:rt.element)});if(-1===Ft)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");return this.container.focus(),void this.setFocus(Ft)}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");this._onContextMenu.fire({element:this.state.stickyNodes[this.focusedIndex].node.element,anchor:this.elements[this.focusedIndex],browserEvent:De.browserEvent,isStickyScroll:!0})}else this.focusedLast()&&this.view.domFocus()}onKeyDown(De){if(this.domHasFocus&&this.state)if("ArrowUp"===De.key)this.setFocusedElement(Math.max(0,this.focusedIndex-1)),De.preventDefault(),De.stopPropagation();else if("ArrowDown"===De.key||"ArrowRight"===De.key){if(this.focusedIndex>=this.state.count-1){const Qe=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([Qe]),this.scrollNodeUnderWidget(Qe,this.state)}else this.setFocusedElement(this.focusedIndex+1);De.preventDefault(),De.stopPropagation()}}onMouseDown(De){const Qe=De.browserEvent.target;!(0,D.Es)(Qe)&&!(0,D.xu)(Qe)||(De.browserEvent.preventDefault(),De.browserEvent.stopPropagation())}updateElements(De,Qe){if(Qe&&0===Qe.count)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(Qe&&Qe.count!==De.length)throw new Error("Sticky scroll focus received illigel state");const mt=this.focusedIndex;if(this.removeFocus(),this.elements=De,this.state=Qe,Qe){const kt=(0,O.qE)(mt,0,Qe.count-1);this.setFocus(kt)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=Qe?0:-1}setFocusedElement(De){const Qe=this.state;if(!Qe)throw new Error("Cannot set focus when state is undefined");this.setFocus(De),De<Qe.count-1||!Qe.lastNodePartiallyVisible()||this.scrollNodeUnderWidget(Qe.stickyNodes[De].endIndex+1,Qe)}scrollNodeUnderWidget(De,Qe){const mt=Qe.stickyNodes[Qe.count-1],kt=Qe.count>1?Qe.stickyNodes[Qe.count-2]:void 0,Ht=this.view.getElementTop(De);this.view.scrollTop=Ht-(kt?kt.position+kt.height+mt.height:mt.height)}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return!!this.state&&this.view.getHTMLElement().classList.contains("sticky-scroll-focused")}removeFocus(){-1!==this.focusedIndex&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(De){if(0>De)throw new Error("addFocus() can not remove focus");if(!this.state&&De>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&De>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const Qe=this.focusedIndex;Qe>=0&&this.toggleElementFocus(this.elements[Qe],!1),De>=0&&this.toggleElementFocus(this.elements[De],!0),this.focusedIndex=De}toggleElementFocus(De,Qe){this.toggleElementActiveFocus(De,Qe&&this.domHasFocus),this.toggleElementPassiveFocus(De,Qe)}toggleCurrentElementActiveFocus(De){-1!==this.focusedIndex&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],De)}toggleElementActiveFocus(De,Qe){De.classList.toggle("focused",Qe)}toggleElementPassiveFocus(De,Qe){De.classList.toggle("passive-focused",Qe)}toggleStickyScrollFocused(De){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",De)}onFocus(){if(!this.state||0===this.elements.length)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),-1===this.focusedIndex&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function qe(ot){let De=f.Lx.Unknown;return(0,F.XD)(ot.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?De=f.Lx.Twistie:(0,F.XD)(ot.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?De=f.Lx.Element:(0,F.XD)(ot.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(De=f.Lx.Filter),{browserEvent:ot.browserEvent,element:ot.element?ot.element.element:null,target:De}}function dt(ot){const De=(0,D.Es)(ot.browserEvent.target);return{element:ot.element?ot.element.element:null,browserEvent:ot.browserEvent,anchor:ot.anchor,isStickyScroll:De}}function vt(ot,De){De(ot),ot.children.forEach(Qe=>vt(Qe,De))}class fn{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(De,Qe){this.getFirstViewElementWithTrait=De,this.identityProvider=Qe,this.nodes=[],this._onDidChange=new T.vl,this.onDidChange=this._onDidChange.event}set(De,Qe){!Qe?.__forceEvent&&(0,r.aI)(this.nodes,De)||this._set(De,!1,Qe)}_set(De,Qe,mt){if(this.nodes=[...De],this.elements=void 0,this._nodeSet=void 0,!Qe){const kt=this;this._onDidChange.fire({get elements(){return kt.get()},browserEvent:mt})}}get(){return this.elements||(this.elements=this.nodes.map(De=>De.element)),[...this.elements]}getNodes(){return this.nodes}has(De){return this.nodeSet.has(De)}onDidModelSplice({insertedNodes:De,deletedNodes:Qe}){if(!this.identityProvider){const rt=this.createNodeSet(),Ut=St=>rt.delete(St);return Qe.forEach(St=>vt(St,Ut)),void this.set([...rt.values()])}const mt=new Set,kt=rt=>mt.add(this.identityProvider.getId(rt.element).toString());Qe.forEach(rt=>vt(rt,kt));const Ht=new Map,Ft=rt=>Ht.set(this.identityProvider.getId(rt.element).toString(),rt);De.forEach(rt=>vt(rt,Ft));const Bt=[];for(const rt of this.nodes){const Ut=this.identityProvider.getId(rt.element).toString();if(mt.has(Ut)){const ke=Ht.get(Ut);ke&&ke.visible&&Bt.push(ke)}else Bt.push(rt)}if(this.nodes.length>0&&0===Bt.length){const rt=this.getFirstViewElementWithTrait();rt&&Bt.push(rt)}this._set(Bt,!0)}createNodeSet(){const De=new Set;for(const Qe of this.nodes)De.add(Qe);return De}}class on extends D.MH{constructor(De,Qe,mt){super(De),this.tree=Qe,this.stickyScrollProvider=mt}onViewPointer(De){if((0,D.Bm)(De.browserEvent.target)||(0,D.B6)(De.browserEvent.target)||(0,D.bm)(De.browserEvent.target)||De.browserEvent.isHandledByList)return;const Qe=De.element;if(!Qe)return super.onViewPointer(De);if(this.isSelectionRangeChangeEvent(De)||this.isSelectionSingleChangeEvent(De))return super.onViewPointer(De);const mt=De.browserEvent.target,kt=mt.classList.contains("monaco-tl-twistie")||mt.classList.contains("monaco-icon-label")&&mt.classList.contains("folder-icon")&&De.browserEvent.offsetX<16,Ht=(0,D.xu)(De.browserEvent.target);let Ft=!1;if(Ft=!!Ht||("function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(Qe.element):!!this.tree.expandOnlyOnTwistieClick),Ht)this.handleStickyScrollMouseEvent(De,Qe);else{if(Ft&&!kt&&2!==De.browserEvent.detail)return super.onViewPointer(De);if(!this.tree.expandOnDoubleClick&&2===De.browserEvent.detail)return super.onViewPointer(De)}if(Qe.collapsible&&(!Ht||kt)){const Bt=this.tree.getNodeLocation(Qe),rt=De.browserEvent.altKey;if(this.tree.setFocus([Bt]),this.tree.toggleCollapsed(Bt,rt),kt)return void(De.browserEvent.isHandledByList=!0)}Ht||super.onViewPointer(De)}handleStickyScrollMouseEvent(De,Qe){if((0,D.b$)(De.browserEvent.target)||(0,D.W0)(De.browserEvent.target))return;const mt=this.stickyScrollProvider();if(!mt)throw new Error("Sticky scroll controller not found");const kt=this.list.indexOf(Qe),Ht=this.list.getElementTop(kt),Ft=mt.nodePositionTopBelowWidget(Qe);this.tree.scrollTop=Ht-Ft,this.list.domFocus(),this.list.setFocus([kt]),this.list.setSelection([kt])}onDoubleClick(De){De.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||De.browserEvent.isHandledByList||super.onDoubleClick(De)}onMouseDown(De){const Qe=De.browserEvent.target;(0,D.Es)(Qe)||(0,D.xu)(Qe)||super.onMouseDown(De)}onContextMenu(De){const Qe=De.browserEvent.target;(0,D.Es)(Qe)||(0,D.xu)(Qe)||super.onContextMenu(De)}}class ht extends D.B8{constructor(De,Qe,mt,kt,Ht,Ft,Bt,rt){super(De,Qe,mt,kt,rt),this.focusTrait=Ht,this.selectionTrait=Ft,this.anchorTrait=Bt}createMouseController(De){return new on(this,De.tree,De.stickyScrollProvider)}splice(De,Qe,mt=[]){if(super.splice(De,Qe,mt),0===mt.length)return;const kt=[],Ht=[];let Ft;mt.forEach((Bt,rt)=>{this.focusTrait.has(Bt)&&kt.push(De+rt),this.selectionTrait.has(Bt)&&Ht.push(De+rt),this.anchorTrait.has(Bt)&&(Ft=De+rt)}),kt.length>0&&super.setFocus((0,r.dM)([...super.getFocus(),...kt])),Ht.length>0&&super.setSelection((0,r.dM)([...super.getSelection(),...Ht])),"number"==typeof Ft&&super.setAnchor(Ft)}setFocus(De,Qe,mt=!1){super.setFocus(De,Qe),mt||this.focusTrait.set(De.map(kt=>this.element(kt)),Qe)}setSelection(De,Qe,mt=!1){super.setSelection(De,Qe),mt||this.selectionTrait.set(De.map(kt=>this.element(kt)),Qe)}setAnchor(De,Qe=!1){super.setAnchor(De),Qe||this.anchorTrait.set(typeof De>"u"?[]:[this.element(De)])}}class Je{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return T.Jh.filter(T.Jh.map(this.view.onMouseDblClick,qe),De=>De.target!==f.Lx.Filter)}get onMouseOver(){return T.Jh.map(this.view.onMouseOver,qe)}get onMouseOut(){return T.Jh.map(this.view.onMouseOut,qe)}get onContextMenu(){var De,Qe;return T.Jh.any(T.Jh.filter(T.Jh.map(this.view.onContextMenu,dt),mt=>!mt.isStickyScroll),null!==(Qe=null===(De=this.stickyScrollController)||void 0===De?void 0:De.onContextMenu)&&void 0!==Qe?Qe:T.Jh.None)}get onPointer(){return T.Jh.map(this.view.onPointer,qe)}get onKeyDown(){return this.view.onKeyDown}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return T.Jh.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var De,Qe;return null!==(Qe=null===(De=this.findController)||void 0===De?void 0:De.mode)&&void 0!==Qe?Qe:Ve.Highlight}set findMode(De){this.findController&&(this.findController.mode=De)}get findMatchType(){var De,Qe;return null!==(Qe=null===(De=this.findController)||void 0===De?void 0:De.matchType)&&void 0!==Qe?Qe:$e.Fuzzy}set findMatchType(De){this.findController&&(this.findController.matchType=De)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(De,Qe,mt,kt,Ht={}){var Ft;this._user=De,this._options=Ht,this.eventBufferer=new T.at,this.onDidChangeFindOpenState=T.Jh.None,this.onDidChangeStickyScrollFocused=T.Jh.None,this.disposables=new k.Cm,this._onWillRefilter=new T.vl,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new T.vl,this.treeDelegate=new M(mt);const Bt=new T.Wj,rt=new T.Wj,Ut=this.disposables.add(new Se(rt.event)),St=new m.db;this.renderers=kt.map(Ke=>new Ie(Ke,()=>this.model,Bt.event,Ut,St,Ht));for(const Ke of this.renderers)this.disposables.add(Ke);let ke;Ht.keyboardNavigationLabelProvider&&(ke=new ne(this,Ht.keyboardNavigationLabelProvider,Ht.filter),Ht={...Ht,filter:ke},this.disposables.add(ke)),this.focus=new fn(()=>this.view.getFocusedElements()[0],Ht.identityProvider),this.selection=new fn(()=>this.view.getSelectedElements()[0],Ht.identityProvider),this.anchor=new fn(()=>this.view.getAnchorElement(),Ht.identityProvider),this.view=new ht(De,Qe,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...ye(()=>this.model,Ht),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(De,this.view,Ht),Bt.input=this.model.onDidChangeCollapseState;const Ze=T.Jh.forEach(this.model.onDidSplice,Ke=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Ke),this.selection.onDidModelSplice(Ke)})},this.disposables);Ze(()=>null,null,this.disposables);const Ye=this.disposables.add(new T.vl),st=this.disposables.add(new l.ve(0));if(this.disposables.add(T.Jh.any(Ze,this.focus.onDidChange,this.selection.onDidChange)(()=>{st.trigger(()=>{const Ke=new Set;for(const ft of this.focus.getNodes())Ke.add(ft);for(const ft of this.selection.getNodes())Ke.add(ft);Ye.fire([...Ke.values()])})})),rt.input=Ye.event,!1!==Ht.keyboardSupport){const Ke=T.Jh.chain(this.view.onKeyDown,ft=>ft.filter(wt=>!(0,D.B6)(wt.target)).map(wt=>new x.Z(wt)));T.Jh.chain(Ke,ft=>ft.filter(wt=>15===wt.keyCode))(this.onLeftArrow,this,this.disposables),T.Jh.chain(Ke,ft=>ft.filter(wt=>17===wt.keyCode))(this.onRightArrow,this,this.disposables),T.Jh.chain(Ke,ft=>ft.filter(wt=>10===wt.keyCode))(this.onSpace,this,this.disposables)}(null===(Ft=Ht.findWidgetEnabled)||void 0===Ft||Ft)&&Ht.keyboardNavigationLabelProvider&&Ht.contextViewProvider?(this.findController=new He(this,this.model,this.view,ke,Ht.contextViewProvider,this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0),this.focusNavigationFilter=ft=>this.findController.shouldAllowFocus(ft),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType):(this.onDidChangeFindMode=T.Jh.None,this.onDidChangeFindMatchType=T.Jh.None),Ht.enableStickyScroll&&(this.stickyScrollController=new Ce(this,this.model,this.view,this.renderers,this.treeDelegate,Ht),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=(0,F.li)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===ce.Always)}updateOptions(De={}){var Qe;this._options={...this._options,...De};for(const mt of this.renderers)mt.updateOptions(De);this.view.updateOptions(this._options),null===(Qe=this.findController)||void 0===Qe||Qe.updateOptions(De),this.updateStickyScroll(De),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===ce.Always)}get options(){return this._options}updateStickyScroll(De){var Qe;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new Ce(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=T.Jh.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),null===(Qe=this.stickyScrollController)||void 0===Qe||Qe.updateOptions(De)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(De){this.view.scrollTop=De}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(De){this.view.ariaLabel=De}domFocus(){var De;null!==(De=this.stickyScrollController)&&void 0!==De&&De.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(De,Qe){var mt;this.view.layout(De,Qe),(0,N.Et)(Qe)&&(null===(mt=this.findController)||void 0===mt||mt.layout(Qe))}style(De){var Qe,mt;const kt=`.${this.view.domId}`,Ht=[];De.treeIndentGuidesStroke&&(Ht.push(`.monaco-list${kt}:hover .monaco-tl-indent > .indent-guide, .monaco-list${kt}.always .monaco-tl-indent > .indent-guide  { border-color: ${De.treeInactiveIndentGuidesStroke}; }`),Ht.push(`.monaco-list${kt} .monaco-tl-indent > .indent-guide.active { border-color: ${De.treeIndentGuidesStroke}; }`));const Ft=null!==(Qe=De.treeStickyScrollBackground)&&void 0!==Qe?Qe:De.listBackground;Ft&&(Ht.push(`.monaco-list${kt} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${Ft}; }`),Ht.push(`.monaco-list${kt} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${Ft}; }`)),De.treeStickyScrollBorder&&Ht.push(`.monaco-list${kt} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${De.treeStickyScrollBorder}; }`),De.treeStickyScrollShadow&&Ht.push(`.monaco-list${kt} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${De.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),De.listFocusForeground&&(Ht.push(`.monaco-list${kt}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${De.listFocusForeground}; }`),Ht.push(`.monaco-list${kt}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const Bt=(0,F.gI)(De.listFocusAndSelectionOutline,(0,F.gI)(De.listSelectionOutline,null!==(mt=De.listFocusOutline)&&void 0!==mt?mt:""));Bt&&(Ht.push(`.monaco-list${kt}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${Bt}; outline-offset: -1px;}`),Ht.push(`.monaco-list${kt}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),De.listFocusOutline&&(Ht.push(`.monaco-list${kt}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${De.listFocusOutline}; outline-offset: -1px; }`),Ht.push(`.monaco-list${kt}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),Ht.push(`.monaco-workbench.context-menu-visible .monaco-list${kt}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${De.listFocusOutline}; outline-offset: -1px; }`),Ht.push(`.monaco-workbench.context-menu-visible .monaco-list${kt}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),Ht.push(`.monaco-workbench.context-menu-visible .monaco-list${kt}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=Ht.join("\n"),this.view.style(De)}getParentElement(De){const Qe=this.model.getParentNodeLocation(De);return this.model.getNode(Qe).element}getFirstElementChild(De){return this.model.getFirstElementChild(De)}getNode(De){return this.model.getNode(De)}getNodeLocation(De){return this.model.getNodeLocation(De)}collapse(De,Qe=!1){return this.model.setCollapsed(De,!0,Qe)}expand(De,Qe=!1){return this.model.setCollapsed(De,!1,Qe)}toggleCollapsed(De,Qe=!1){return this.model.setCollapsed(De,void 0,Qe)}isCollapsible(De){return this.model.isCollapsible(De)}setCollapsible(De,Qe){return this.model.setCollapsible(De,Qe)}isCollapsed(De){return this.model.isCollapsed(De)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(De,Qe){this.eventBufferer.bufferEvents(()=>{const mt=De.map(Ht=>this.model.getNode(Ht));this.selection.set(mt,Qe);const kt=De.map(Ht=>this.model.getListIndex(Ht)).filter(Ht=>Ht>-1);this.view.setSelection(kt,Qe,!0)})}getSelection(){return this.selection.get()}setFocus(De,Qe){this.eventBufferer.bufferEvents(()=>{const mt=De.map(Ht=>this.model.getNode(Ht));this.focus.set(mt,Qe);const kt=De.map(Ht=>this.model.getListIndex(Ht)).filter(Ht=>Ht>-1);this.view.setFocus(kt,Qe,!0)})}focusNext(De=1,Qe=!1,mt,kt=((0,F.kx)(mt)&&mt.altKey?void 0:this.focusNavigationFilter)){this.view.focusNext(De,Qe,mt,kt)}focusPrevious(De=1,Qe=!1,mt,kt=((0,F.kx)(mt)&&mt.altKey?void 0:this.focusNavigationFilter)){this.view.focusPrevious(De,Qe,mt,kt)}focusNextPage(De,Qe=((0,F.kx)(De)&&De.altKey?void 0:this.focusNavigationFilter)){return this.view.focusNextPage(De,Qe)}focusPreviousPage(De,Qe=((0,F.kx)(De)&&De.altKey?void 0:this.focusNavigationFilter)){return this.view.focusPreviousPage(De,Qe,()=>{var mt,kt;return null!==(kt=null===(mt=this.stickyScrollController)||void 0===mt?void 0:mt.height)&&void 0!==kt?kt:0})}focusFirst(De,Qe=((0,F.kx)(De)&&De.altKey?void 0:this.focusNavigationFilter)){this.view.focusFirst(De,Qe)}getFocus(){return this.focus.get()}reveal(De,Qe){this.model.expandTo(De);const mt=this.model.getListIndex(De);if(-1!==mt)if(this.stickyScrollController){const kt=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(De));this.view.reveal(mt,Qe,kt)}else this.view.reveal(mt,Qe)}onLeftArrow(De){De.preventDefault(),De.stopPropagation();const Qe=this.view.getFocusedElements();if(0===Qe.length)return;const kt=this.model.getNodeLocation(Qe[0]);if(!this.model.setCollapsed(kt,!0)){const Ft=this.model.getParentNodeLocation(kt);if(!Ft)return;const Bt=this.model.getListIndex(Ft);this.view.reveal(Bt),this.view.setFocus([Bt])}}onRightArrow(De){De.preventDefault(),De.stopPropagation();const Qe=this.view.getFocusedElements();if(0===Qe.length)return;const mt=Qe[0],kt=this.model.getNodeLocation(mt);if(!this.model.setCollapsed(kt,!1)){if(!mt.children.some(rt=>rt.visible))return;const[Ft]=this.view.getFocus(),Bt=Ft+1;this.view.reveal(Bt),this.view.setFocus([Bt])}}onSpace(De){De.preventDefault(),De.stopPropagation();const Qe=this.view.getFocusedElements();if(0===Qe.length)return;const kt=this.model.getNodeLocation(Qe[0]);this.model.setCollapsed(kt,void 0,De.browserEvent.altKey)}dispose(){var De;(0,k.AS)(this.disposables),null===(De=this.stickyScrollController)||void 0===De||De.dispose(),this.view.dispose()}}},99953:(tt,xe,t)=>{t.d(xe,{G6:()=>_,Mn:()=>D,iZ:()=>P});var a=t(12028),F=t(30833),w=t(86671),x=t(77034),C=t(33431),S=t(5643),b=t(28481);function P(f){return"object"==typeof f&&"visibility"in f&&"data"in f}function D(f){switch(f){case!0:return 1;case!1:return 0;default:return f}}function v(f){return"boolean"==typeof f.collapsible}class _{constructor(d,r,l,g={}){var p;this.user=d,this.list=r,this.rootRef=[],this.eventBufferer=new S.at,this._onDidChangeCollapseState=new S.vl,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new S.vl,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new S.vl,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new w.ve(x.h),this.collapseByDefault=!(typeof g.collapseByDefault>"u")&&g.collapseByDefault,this.allowNonCollapsibleParents=null!==(p=g.allowNonCollapsibleParents)&&void 0!==p&&p,this.filter=g.filter,this.autoExpandSingleChildren=!(typeof g.autoExpandSingleChildren>"u")&&g.autoExpandSingleChildren,this.root={parent:void 0,element:l,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(d,r,l=b.f.empty(),g={}){if(0===d.length)throw new a.jh(this.user,"Invalid tree location");g.diffIdentityProvider?this.spliceSmart(g.diffIdentityProvider,d,r,l,g):this.spliceSimple(d,r,l,g)}spliceSmart(d,r,l,g,p,m){var T;void 0===g&&(g=b.f.empty()),void 0===m&&(m=null!==(T=p.diffDepth)&&void 0!==T?T:0);const{parentNode:A}=this.getParentNodeWithListIndex(r);if(!A.lastDiffIds)return this.spliceSimple(r,l,g,p);const k=[...g],O=r[r.length-1],N=new C.uP({getElements:()=>A.lastDiffIds},{getElements:()=>[...A.children.slice(0,O),...k,...A.children.slice(O+l)].map(te=>d.getId(te.element).toString())}).ComputeDiff(!1);if(N.quitEarly)return A.lastDiffIds=void 0,this.spliceSimple(r,l,k,p);const H=r.slice(0,-1),L=(te,X,U)=>{if(m>0)for(let q=0;q<U;q++)te--,X--,this.spliceSmart(d,[...H,te,0],Number.MAX_SAFE_INTEGER,k[X].children,p,m-1)};let j=Math.min(A.children.length,O+l),Z=k.length;for(const te of N.changes.sort((X,U)=>U.originalStart-X.originalStart))L(j,Z,j-(te.originalStart+te.originalLength)),j=te.originalStart,Z=te.modifiedStart-O,this.spliceSimple([...H,j],te.originalLength,b.f.slice(k,Z,Z+te.modifiedLength),p);L(j,Z,j)}spliceSimple(d,r,l=b.f.empty(),{onDidCreateNode:g,onDidDeleteNode:p,diffIdentityProvider:m}){const{parentNode:T,listIndex:A,revealed:k,visible:O}=this.getParentNodeWithListIndex(d),N=[],H=b.f.map(l,W=>this.createTreeNode(W,T,T.visible?1:0,k,N,g)),L=d[d.length-1];let j=0;for(let W=L;W>=0&&W<T.children.length;W--){const Y=T.children[W];if(Y.visible){j=Y.visibleChildIndex;break}}const Z=[];let te=0,X=0;for(const W of H)Z.push(W),X+=W.renderNodeCount,W.visible&&(W.visibleChildIndex=j+te++);const U=(0,F.V4)(T.children,L,r,Z);m?T.lastDiffIds?(0,F.V4)(T.lastDiffIds,L,r,Z.map(W=>m.getId(W.element).toString())):T.lastDiffIds=T.children.map(W=>m.getId(W.element).toString()):T.lastDiffIds=void 0;let q=0;for(const W of U)W.visible&&q++;if(0!==q)for(let W=L+Z.length;W<T.children.length;W++){const Y=T.children[W];Y.visible&&(Y.visibleChildIndex-=q)}if(T.visibleChildrenCount+=te-q,k&&O){const W=U.reduce((Y,oe)=>Y+(oe.visible?oe.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(T,X-W),this.list.splice(A,W,N)}if(U.length>0&&p){const W=Y=>{p(Y),Y.children.forEach(W)};U.forEach(W)}this._onDidSplice.fire({insertedNodes:Z,deletedNodes:U});let R=T;for(;R;){if(2===R.visibility){this.refilterDelayer.trigger(()=>this.refilter());break}R=R.parent}}rerender(d){if(0===d.length)throw new a.jh(this.user,"Invalid tree location");const{node:r,listIndex:l,revealed:g}=this.getTreeNodeWithListIndex(d);r.visible&&g&&this.list.splice(l,1,[r])}has(d){return this.hasTreeNode(d)}getListIndex(d){const{listIndex:r,visible:l,revealed:g}=this.getTreeNodeWithListIndex(d);return l&&g?r:-1}getListRenderCount(d){return this.getTreeNode(d).renderNodeCount}isCollapsible(d){return this.getTreeNode(d).collapsible}setCollapsible(d,r){const l=this.getTreeNode(d);typeof r>"u"&&(r=!l.collapsible);const g={collapsible:r};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(d,g))}isCollapsed(d){return this.getTreeNode(d).collapsed}setCollapsed(d,r,l){const g=this.getTreeNode(d);typeof r>"u"&&(r=!g.collapsed);const p={collapsed:r,recursive:l||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(d,p))}_setCollapseState(d,r){const{node:l,listIndex:g,revealed:p}=this.getTreeNodeWithListIndex(d),m=this._setListNodeCollapseState(l,g,p,r);if(l!==this.root&&this.autoExpandSingleChildren&&m&&!v(r)&&l.collapsible&&!l.collapsed&&!r.recursive){let T=-1;for(let A=0;A<l.children.length;A++)if(l.children[A].visible){if(T>-1){T=-1;break}T=A}T>-1&&this._setCollapseState([...d,T],r)}return m}_setListNodeCollapseState(d,r,l,g){const p=this._setNodeCollapseState(d,g,!1);if(!l||!d.visible||!p)return p;const m=d.renderNodeCount,T=this.updateNodeAfterCollapseChange(d);return this.list.splice(r+1,m-(-1===r?0:1),T.slice(1)),p}_setNodeCollapseState(d,r,l){let g;if(d===this.root?g=!1:(v(r)?(g=d.collapsible!==r.collapsible,d.collapsible=r.collapsible):d.collapsible?(g=d.collapsed!==r.collapsed,d.collapsed=r.collapsed):g=!1,g&&this._onDidChangeCollapseState.fire({node:d,deep:l})),!v(r)&&r.recursive)for(const p of d.children)g=this._setNodeCollapseState(p,r,!0)||g;return g}expandTo(d){this.eventBufferer.bufferEvents(()=>{let r=this.getTreeNode(d);for(;r.parent;)r=r.parent,d=d.slice(0,d.length-1),r.collapsed&&this._setCollapseState(d,{collapsed:!1,recursive:!1})})}refilter(){const d=this.root.renderNodeCount,r=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,d,r),this.refilterDelayer.cancel()}createTreeNode(d,r,l,g,p,m){const T={parent:r,element:d.element,children:[],depth:r.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof d.collapsible?d.collapsible:typeof d.collapsed<"u",collapsed:typeof d.collapsed>"u"?this.collapseByDefault:d.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},A=this._filterNode(T,l);T.visibility=A,g&&p.push(T);const k=d.children||b.f.empty(),O=g&&0!==A&&!T.collapsed;let N=0,H=1;for(const L of k){const j=this.createTreeNode(L,T,A,O,p,m);T.children.push(j),H+=j.renderNodeCount,j.visible&&(j.visibleChildIndex=N++)}return this.allowNonCollapsibleParents||(T.collapsible=T.collapsible||T.children.length>0),T.visibleChildrenCount=N,T.visible=2===A?N>0:1===A,T.visible?T.collapsed||(T.renderNodeCount=H):(T.renderNodeCount=0,g&&p.pop()),m?.(T),T}updateNodeAfterCollapseChange(d){const r=d.renderNodeCount,l=[];return this._updateNodeAfterCollapseChange(d,l),this._updateAncestorsRenderNodeCount(d.parent,l.length-r),l}_updateNodeAfterCollapseChange(d,r){if(!1===d.visible)return 0;if(r.push(d),d.renderNodeCount=1,!d.collapsed)for(const l of d.children)d.renderNodeCount+=this._updateNodeAfterCollapseChange(l,r);return this._onDidChangeRenderNodeCount.fire(d),d.renderNodeCount}updateNodeAfterFilterChange(d){const r=d.renderNodeCount,l=[];return this._updateNodeAfterFilterChange(d,d.visible?1:0,l),this._updateAncestorsRenderNodeCount(d.parent,l.length-r),l}_updateNodeAfterFilterChange(d,r,l,g=!0){let p;if(d!==this.root){if(p=this._filterNode(d,r),0===p)return d.visible=!1,d.renderNodeCount=0,!1;g&&l.push(d)}const m=l.length;d.renderNodeCount=d===this.root?0:1;let T=!1;if(d.collapsed&&0===p)d.visibleChildrenCount=0;else{let A=0;for(const k of d.children)T=this._updateNodeAfterFilterChange(k,p,l,g&&!d.collapsed)||T,k.visible&&(k.visibleChildIndex=A++);d.visibleChildrenCount=A}return d!==this.root&&(d.visible=2===p?T:1===p,d.visibility=p),d.visible?d.collapsed||(d.renderNodeCount+=l.length-m):(d.renderNodeCount=0,g&&l.pop()),this._onDidChangeRenderNodeCount.fire(d),d.visible}_updateAncestorsRenderNodeCount(d,r){if(0!==r)for(;d;)d.renderNodeCount+=r,this._onDidChangeRenderNodeCount.fire(d),d=d.parent}_filterNode(d,r){const l=this.filter?this.filter.filter(d.element,r):1;return"boolean"==typeof l?(d.filterData=void 0,l?1:0):P(l)?(d.filterData=l.data,D(l.visibility)):(d.filterData=void 0,D(l))}hasTreeNode(d,r=this.root){if(!d||0===d.length)return!0;const[l,...g]=d;return!(l<0||l>r.children.length)&&this.hasTreeNode(g,r.children[l])}getTreeNode(d,r=this.root){if(!d||0===d.length)return r;const[l,...g]=d;if(l<0||l>r.children.length)throw new a.jh(this.user,"Invalid tree location");return this.getTreeNode(g,r.children[l])}getTreeNodeWithListIndex(d){if(0===d.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:r,listIndex:l,revealed:g,visible:p}=this.getParentNodeWithListIndex(d),m=d[d.length-1];if(m<0||m>r.children.length)throw new a.jh(this.user,"Invalid tree location");const T=r.children[m];return{node:T,listIndex:l,revealed:g,visible:p&&T.visible}}getParentNodeWithListIndex(d,r=this.root,l=0,g=!0,p=!0){const[m,...T]=d;if(m<0||m>r.children.length)throw new a.jh(this.user,"Invalid tree location");for(let A=0;A<m;A++)l+=r.children[A].renderNodeCount;return g=g&&!r.collapsed,p=p&&r.visible,0===T.length?{parentNode:r,listIndex:l,revealed:g,visible:p}:this.getParentNodeWithListIndex(T,r.children[m],l+1,g,p)}getNode(d=[]){return this.getTreeNode(d)}getNodeLocation(d){const r=[];let l=d;for(;l.parent;)r.push(l.parent.children.indexOf(l)),l=l.parent;return r.reverse()}getParentNodeLocation(d){if(0!==d.length)return 1===d.length?[]:(0,F.bS)(d)[0]}getFirstElementChild(d){const r=this.getTreeNode(d);if(0!==r.children.length)return r.children[0].element}}},12028:(tt,xe,t)=>{t.d(xe,{Lx:()=>F,Yo:()=>a,jh:()=>w,y2:()=>x});var a=function(C){return C[C.Expanded=0]="Expanded",C[C.Collapsed=1]="Collapsed",C[C.PreserveOrExpanded=2]="PreserveOrExpanded",C[C.PreserveOrCollapsed=3]="PreserveOrCollapsed",C}(a||{}),F=function(C){return C[C.Unknown=0]="Unknown",C[C.Twistie=1]="Twistie",C[C.Element=2]="Element",C[C.Filter=3]="Filter",C}(F||{});class w extends Error{constructor(S,b){super(`TreeError [${S}] ${b}`)}}class x{constructor(S){this.fn=S,this._map=new WeakMap}map(S){let b=this._map.get(S);return b||(b=this.fn(S),this._map.set(S,b)),b}}},2673:(tt,xe,t)=>{t.d(xe,{x:()=>S});var a=t(91874),F=t(92873),w=t(18163),x=t(28541),C=t(99031);class S extends C.jG{onclick(P,D){this._register(a.ko(P,a.Bx.CLICK,v=>D(new w.P(a.zk(P),v))))}onmousedown(P,D){this._register(a.ko(P,a.Bx.MOUSE_DOWN,v=>D(new w.P(a.zk(P),v))))}onmouseover(P,D){this._register(a.ko(P,a.Bx.MOUSE_OVER,v=>D(new w.P(a.zk(P),v))))}onmouseleave(P,D){this._register(a.ko(P,a.Bx.MOUSE_LEAVE,v=>D(new w.P(a.zk(P),v))))}onkeydown(P,D){this._register(a.ko(P,a.Bx.KEY_DOWN,v=>D(new F.Z(v))))}onkeyup(P,D){this._register(a.ko(P,a.Bx.KEY_UP,v=>D(new F.Z(v))))}oninput(P,D){this._register(a.ko(P,a.Bx.INPUT,D))}onblur(P,D){this._register(a.ko(P,a.Bx.BLUR,D))}onfocus(P,D){this._register(a.ko(P,a.Bx.FOCUS,D))}ignoreGesture(P){return x.q.ignoreTarget(P)}}},63096:(tt,xe,t)=>{function a(w,x){"number"!=typeof w.vscodeWindowId&&Object.defineProperty(w,"vscodeWindowId",{get:()=>x})}t.d(xe,{G:()=>F,y:()=>a});const F=window},64948:(tt,xe,t)=>{t.d(xe,{HJ:()=>D,LN:()=>S,YH:()=>P,ih:()=>v,rc:()=>C,wv:()=>b});var a=t(10467),F=t(5643),w=t(99031),x=t(81644);class C extends w.jG{constructor(f,d="",r="",l=!0,g){super(),this._onDidChange=this._register(new F.vl),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=f,this._label=d,this._cssClass=r,this._enabled=l,this._actionCallback=g}get id(){return this._id}get label(){return this._label}set label(f){this._setLabel(f)}_setLabel(f){this._label!==f&&(this._label=f,this._onDidChange.fire({label:f}))}get tooltip(){return this._tooltip||""}set tooltip(f){this._setTooltip(f)}_setTooltip(f){this._tooltip!==f&&(this._tooltip=f,this._onDidChange.fire({tooltip:f}))}get class(){return this._cssClass}set class(f){this._setClass(f)}_setClass(f){this._cssClass!==f&&(this._cssClass=f,this._onDidChange.fire({class:f}))}get enabled(){return this._enabled}set enabled(f){this._setEnabled(f)}_setEnabled(f){this._enabled!==f&&(this._enabled=f,this._onDidChange.fire({enabled:f}))}get checked(){return this._checked}set checked(f){this._setChecked(f)}_setChecked(f){this._checked!==f&&(this._checked=f,this._onDidChange.fire({checked:f}))}run(f,d){var r=this;return(0,a.A)(function*(){r._actionCallback&&(yield r._actionCallback(f))})()}}class S extends w.jG{constructor(){super(...arguments),this._onWillRun=this._register(new F.vl),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new F.vl),this.onDidRun=this._onDidRun.event}run(f,d){var r=this;return(0,a.A)(function*(){if(!f.enabled)return;let l;r._onWillRun.fire({action:f});try{yield r.runAction(f,d)}catch(g){l=g}r._onDidRun.fire({action:f,error:l})})()}runAction(f,d){return(0,a.A)(function*(){yield f.run(d)})()}}let b=(()=>{class _{constructor(){this.id=_.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...d){let r=[];for(const l of d)l.length&&(r=r.length?[...r,new _,...l]:l);return r}run(){return(0,a.A)(function*(){})()}}return _.ID="vs.actions.separator",_})();class P{get actions(){return this._actions}constructor(f,d,r,l){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=f,this.label=d,this.class=l,this._actions=r}run(){return(0,a.A)(function*(){})()}}let D=(()=>{class _ extends C{constructor(){super(_.ID,x.kg("submenu.empty","(empty)"),void 0,!1)}}return _.ID="vs.actions.empty",_})();function v(_){var f,d,r;return{id:_.id,label:_.label,tooltip:null!==(f=_.tooltip)&&void 0!==f?f:_.label,class:_.class,enabled:null===(d=_.enabled)||void 0===d||d,checked:_.checked,run:(r=(0,a.A)(function*(...l){return _.run(...l)}),function(){return r.apply(this,arguments)})}}},30833:(tt,xe,t)=>{function a(z,G=0){return z[z.length-(1+G)]}function F(z){if(0===z.length)throw new Error("Invalid tail call");return[z.slice(0,z.length-1),z[z.length-1]]}function w(z,G,Q=((K,ie)=>K===ie)){if(z===G)return!0;if(!z||!G||z.length!==G.length)return!1;for(let K=0,ie=z.length;K<ie;K++)if(!Q(z[K],G[K]))return!1;return!0}function x(z,G){const Q=z.length-1;G<Q&&(z[G]=z[Q]),z.pop()}function C(z,G,Q){return function S(z,G){let Q=0,K=z-1;for(;Q<=K;){const ie=(Q+K)/2|0,ae=G(ie);if(ae<0)Q=ie+1;else{if(!(ae>0))return ie;K=ie-1}}return-(Q+1)}(z.length,K=>Q(z[K],G))}function b(z,G,Q){if((z|=0)>=G.length)throw new TypeError("invalid index");const K=G[Math.floor(G.length*Math.random())],ie=[],ae=[],de=[];for(const se of G){const ge=Q(se,K);ge<0?ie.push(se):ge>0?ae.push(se):de.push(se)}return z<ie.length?b(z,ie,Q):z<ie.length+de.length?de[0]:b(z-(ie.length+de.length),ae,Q)}function P(z,G){const Q=[];let K;for(const ie of z.slice(0).sort(G))K&&0===G(K[0],ie)?K.push(ie):(K=[ie],Q.push(K));return Q}function*D(z,G){let Q,K;for(const ie of z)void 0!==K&&G(K,ie)?Q.push(ie):(Q&&(yield Q),Q=[ie]),K=ie;Q&&(yield Q)}function v(z,G){for(let Q=0;Q<=z.length;Q++)G(0===Q?void 0:z[Q-1],Q===z.length?void 0:z[Q])}function _(z,G){for(let Q=0;Q<z.length;Q++)G(0===Q?void 0:z[Q-1],z[Q],Q+1===z.length?void 0:z[Q+1])}function f(z){return z.filter(G=>!!G)}function d(z){let G=0;for(let Q=0;Q<z.length;Q++)z[Q]&&(z[G]=z[Q],G+=1);z.length=G}function r(z){return!Array.isArray(z)||0===z.length}function l(z){return Array.isArray(z)&&z.length>0}function g(z,G=(Q=>Q)){const Q=new Set;return z.filter(K=>{const ie=G(K);return!Q.has(ie)&&(Q.add(ie),!0)})}function p(z,G){return z.length>0?z[0]:G}function m(z,G){let Q="number"==typeof G?z:0;"number"==typeof G?Q=z:(Q=0,G=z);const K=[];if(Q<=G)for(let ie=Q;ie<G;ie++)K.push(ie);else for(let ie=Q;ie>G;ie--)K.push(ie);return K}function T(z,G,Q){const K=z.slice(0,G),ie=z.slice(G);return K.concat(Q,ie)}function A(z,G){const Q=z.indexOf(G);Q>-1&&(z.splice(Q,1),z.unshift(G))}function k(z,G){const Q=z.indexOf(G);Q>-1&&(z.splice(Q,1),z.push(G))}function O(z,G){for(const Q of G)z.push(Q)}function N(z){return Array.isArray(z)?z:[z]}function L(z,G,Q,K){const ie=j(z,G);let ae=z.splice(ie,Q);return void 0===ae&&(ae=[]),function H(z,G,Q){const K=j(z,G),ie=z.length,ae=Q.length;z.length=ie+ae;for(let de=ie-1;de>=K;de--)z[de+ae]=z[de];for(let de=0;de<ae;de++)z[de+K]=Q[de]}(z,ie,K),ae}function j(z,G){return G<0?Math.max(G+z.length,0):Math.min(G,z.length)}var Z,z;function te(z,G){return(Q,K)=>G(z(Q),z(K))}function X(...z){return(G,Q)=>{for(const K of z){const ie=K(G,Q);if(!Z.isNeitherLessOrGreaterThan(ie))return ie}return Z.neitherLessOrGreaterThan}}t.d(xe,{$z:()=>P,Ct:()=>r,E4:()=>O,EI:()=>l,El:()=>C,Fy:()=>p,Hw:()=>R,RT:()=>a,SK:()=>d,SO:()=>b,TS:()=>q,U9:()=>U,UH:()=>x,V4:()=>L,VE:()=>te,Yc:()=>f,_A:()=>A,_j:()=>N,aI:()=>w,bS:()=>F,c1:()=>Y,dM:()=>g,j3:()=>W,kj:()=>_,n:()=>D,nH:()=>X,nK:()=>T,pN:()=>v,r7:()=>k,t9:()=>oe,y1:()=>m}),(z=Z||(Z={})).isLessThan=function G(ae){return ae<0},z.isLessThanOrEqual=function Q(ae){return ae<=0},z.isGreaterThan=function K(ae){return ae>0},z.isNeitherLessOrGreaterThan=function ie(ae){return 0===ae},z.greaterThan=1,z.lessThan=-1,z.neitherLessOrGreaterThan=0;const U=(z,G)=>z-G,q=(z,G)=>U(z?1:0,G?1:0);function R(z){return(G,Q)=>-z(G,Q)}class W{constructor(G){this.items=G,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(G){let Q=this.firstIdx;for(;Q<this.items.length&&G(this.items[Q]);)Q++;const K=Q===this.firstIdx?null:this.items.slice(this.firstIdx,Q);return this.firstIdx=Q,K}takeFromEndWhile(G){let Q=this.lastIdx;for(;Q>=0&&G(this.items[Q]);)Q--;const K=Q===this.lastIdx?null:this.items.slice(Q+1,this.lastIdx+1);return this.lastIdx=Q,K}peek(){if(0!==this.length)return this.items[this.firstIdx]}dequeue(){const G=this.items[this.firstIdx];return this.firstIdx++,G}takeCount(G){const Q=this.items.slice(this.firstIdx,this.firstIdx+G);return this.firstIdx+=G,Q}}class Y{constructor(G){this.iterate=G}toArray(){const G=[];return this.iterate(Q=>(G.push(Q),!0)),G}filter(G){return new Y(Q=>this.iterate(K=>!G(K)||Q(K)))}map(G){return new Y(Q=>this.iterate(K=>Q(G(K))))}findLast(G){let Q;return this.iterate(K=>(G(K)&&(Q=K),!0)),Q}findLastMaxBy(G){let Q,K=!0;return this.iterate(ie=>((K||Z.isGreaterThan(G(ie,Q)))&&(K=!1,Q=ie),!0)),Q}}Y.empty=new Y(z=>{});class oe{constructor(G){this._indexMap=G}static createSortPermutation(G,Q){const K=Array.from(G.keys()).sort((ie,ae)=>Q(G[ie],G[ae]));return new oe(K)}apply(G){return G.map((Q,K)=>G[this._indexMap[K]])}inverse(){const G=this._indexMap.slice();for(let Q=0;Q<this._indexMap.length;Q++)G[this._indexMap[Q]]=Q;return new oe(G)}}},92210:(tt,xe,t)=>{function a(d,r){const l=function F(d,r,l=d.length-1){for(let g=l;g>=0;g--)if(r(d[g]))return g;return-1}(d,r);if(-1!==l)return d[l]}function w(d,r){const l=x(d,r);return-1===l?void 0:d[l]}function x(d,r,l=0,g=d.length){let p=l,m=g;for(;p<m;){const T=Math.floor((p+m)/2);r(d[T])?p=T+1:m=T}return p-1}function C(d,r){const l=S(d,r);return l===d.length?void 0:d[l]}function S(d,r,l=0,g=d.length){let p=l,m=g;for(;p<m;){const T=Math.floor((p+m)/2);r(d[T])?m=T:p=T+1}return p}t.d(xe,{Cn:()=>P,TM:()=>_,Uk:()=>a,XP:()=>C,hw:()=>S,iM:()=>x,kh:()=>v,lx:()=>w,oH:()=>f,ot:()=>D,vJ:()=>b});let b=(()=>{class d{constructor(l){this._array=l,this._findLastMonotonousLastIdx=0}findLastMonotonous(l){if(d.assertInvariants){if(this._prevFindLastPredicate)for(const p of this._array)if(this._prevFindLastPredicate(p)&&!l(p))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.");this._prevFindLastPredicate=l}const g=x(this._array,l,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=g+1,-1===g?void 0:this._array[g]}}return d.assertInvariants=!1,d})();function P(d,r){if(0===d.length)return;let l=d[0];for(let g=1;g<d.length;g++){const p=d[g];r(p,l)>0&&(l=p)}return l}function D(d,r){if(0===d.length)return;let l=d[0];for(let g=1;g<d.length;g++){const p=d[g];r(p,l)>=0&&(l=p)}return l}function v(d,r){return P(d,(l,g)=>-r(l,g))}function _(d,r){if(0===d.length)return-1;let l=0;for(let g=1;g<d.length;g++)r(d[g],d[l])>0&&(l=g);return l}function f(d,r){for(const l of d){const g=r(l);if(void 0!==g)return g}}},43929:(tt,xe,t)=>{t.d(xe,{Ft:()=>C,V7:()=>x,Xo:()=>S,ok:()=>F,xb:()=>w});var a=t(25680);function F(b,P){if(!b)throw new Error(P?`Assertion failed (${P})`:"Assertion Failed")}function w(b,P="Unreachable"){throw new Error(P)}function x(b){b||(0,a.dz)(new a.D7("Soft Assertion Failed"))}function C(b){b()||(b(),(0,a.dz)(new a.D7("Assertion Failed")))}function S(b,P){let D=0;for(;D<b.length-1;){if(!P(b[D],b[D+1]))return!1;D++}return!0}},86671:(tt,xe,t)=>{t.d(xe,{$1:()=>T,$6:()=>N,A0:()=>L,AE:()=>X,EQ:()=>m,F6:()=>j,HC:()=>te,PK:()=>_,Qg:()=>D,SS:()=>v,Th:()=>g,Zv:()=>Z,b7:()=>H,bI:()=>q,pc:()=>A,uC:()=>O,vb:()=>k,ve:()=>l,wR:()=>p});var a=t(10467),F=t(19495),w=t(21468),x=t(25680),C=t(5643),S=t(99031),b=t(21828),P=t(77034);function D(R){return!!R&&"function"==typeof R.then}function v(R){const W=new w.Qi,Y=R(W.token),oe=new Promise((z,G)=>{const Q=W.token.onCancellationRequested(()=>{Q.dispose(),G(new x.AL)});Promise.resolve(Y).then(K=>{Q.dispose(),W.dispose(),z(K)},K=>{Q.dispose(),W.dispose(),G(K)})});return new class{cancel(){W.cancel(),W.dispose()}then(z,G){return oe.then(z,G)}catch(z){return this.then(void 0,z)}finally(z){return oe.finally(z)}}}function _(R,W,Y){return new Promise((oe,z)=>{const G=W.onCancellationRequested(()=>{G.dispose(),oe(Y)});R.then(oe,z).finally(()=>G.dispose())})}class f{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(W){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=W,!this.queuedPromise){const Y=()=>{if(this.queuedPromise=null,this.isDisposed)return;const oe=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,oe};this.queuedPromise=new Promise(oe=>{this.activePromise.then(Y,Y).then(oe)})}return new Promise((Y,oe)=>{this.queuedPromise.then(Y,oe)})}return this.activePromise=W(),new Promise((Y,oe)=>{this.activePromise.then(z=>{this.activePromise=null,Y(z)},z=>{this.activePromise=null,oe(z)})})}dispose(){this.isDisposed=!0}}class l{constructor(W){this.defaultDelay=W,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(W,Y=this.defaultDelay){this.task=W,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((z,G)=>{this.doResolve=z,this.doReject=G}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const z=this.task;return this.task=null,z()}}));const oe=()=>{var z;this.deferred=null,null===(z=this.doResolve)||void 0===z||z.call(this,null)};return this.deferred=Y===P.h?(R=>{let W=!0;return queueMicrotask(()=>{W&&(W=!1,R())}),{isTriggered:()=>W,dispose:()=>{W=!1}}})(oe):((R,W)=>{let Y=!0;const oe=setTimeout(()=>{Y=!1,W()},R);return{isTriggered:()=>Y,dispose:()=>{clearTimeout(oe),Y=!1}}})(Y,oe),this.completionPromise}isTriggered(){var W;return!(null===(W=this.deferred)||void 0===W||!W.isTriggered())}cancel(){var W;this.cancelTimeout(),this.completionPromise&&(null===(W=this.doReject)||void 0===W||W.call(this,new x.AL),this.completionPromise=null)}cancelTimeout(){var W;null===(W=this.deferred)||void 0===W||W.dispose(),this.deferred=null}dispose(){this.cancel()}}class g{constructor(W){this.delayer=new l(W),this.throttler=new f}trigger(W,Y){return this.delayer.trigger(()=>this.throttler.queue(W),Y)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function p(R,W){return W?new Promise((Y,oe)=>{const z=setTimeout(()=>{G.dispose(),Y()},R),G=W.onCancellationRequested(()=>{clearTimeout(z),G.dispose(),oe(new x.AL)})}):v(Y=>p(R,Y))}function m(R,W=0,Y){const oe=setTimeout(()=>{R(),Y&&z.dispose()},W),z=(0,S.s)(()=>{clearTimeout(oe),Y?.deleteAndLeak(z)});return Y?.add(z),z}function T(R,W=(oe=>!!oe),Y=null){let oe=0;const z=R.length,G=()=>{if(oe>=z)return Promise.resolve(Y);const Q=R[oe++];return Promise.resolve(Q()).then(ie=>W(ie)?Promise.resolve(ie):G())};return G()}class A{constructor(W,Y){this._isDisposed=!1,this._token=-1,"function"==typeof W&&"number"==typeof Y&&this.setIfNotSet(W,Y)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(W,Y){if(this._isDisposed)throw new x.D7("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,W()},Y)}setIfNotSet(W,Y){if(this._isDisposed)throw new x.D7("Calling 'setIfNotSet' on a disposed TimeoutTimer");-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,W()},Y))}}class k{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){var W;null===(W=this.disposable)||void 0===W||W.dispose(),this.disposable=void 0}cancelAndSet(W,Y,oe=globalThis){if(this.isDisposed)throw new x.D7("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const z=oe.setInterval(()=>{W()},Y);this.disposable=(0,S.s)(()=>{oe.clearInterval(z),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}}class O{constructor(W,Y){this.timeoutToken=-1,this.runner=W,this.timeout=Y,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(W=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,W)}get delay(){return this.timeout}set delay(W){this.timeout=W}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var W;null===(W=this.runner)||void 0===W||W.call(this)}}let N,H;H="function"!=typeof globalThis.requestIdleCallback||"function"!=typeof globalThis.cancelIdleCallback?(R,W)=>{(0,b._p)(()=>{if(Y)return;const oe=Date.now()+15;W(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,oe-Date.now())}))});let Y=!1;return{dispose(){Y||(Y=!0)}}}:(R,W,Y)=>{const oe=R.requestIdleCallback(W,"number"==typeof Y?{timeout:Y}:void 0);let z=!1;return{dispose(){z||(z=!0,R.cancelIdleCallback(oe))}}},N=R=>H(globalThis,R);class L{constructor(W,Y){this._didRun=!1,this._executor=()=>{try{this._value=Y()}catch(oe){this._error=oe}finally{this._didRun=!0}},this._handle=H(W,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class j extends L{constructor(W){super(globalThis,W)}}class Z{get isRejected(){var W;return 1===(null===(W=this.outcome)||void 0===W?void 0:W.outcome)}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((W,Y)=>{this.completeCallback=W,this.errorCallback=Y})}complete(W){return new Promise(Y=>{this.completeCallback(W),this.outcome={outcome:0,value:W},Y()})}error(W){return new Promise(Y=>{this.errorCallback(W),this.outcome={outcome:1,value:W},Y()})}cancel(){return this.error(new x.AL)}}var te;!function(R){function Y(){return(Y=(0,a.A)(function*(z){let G;const Q=yield Promise.all(z.map(K=>K.then(ie=>ie,ie=>{G||(G=ie)})));if(typeof G<"u")throw G;return Q})).apply(this,arguments)}R.settled=function W(z){return Y.apply(this,arguments)},R.withAsyncBody=function oe(z){return new Promise(function(){var G=(0,a.A)(function*(Q,K){try{yield z(Q,K)}catch(ie){K(ie)}});return function(Q,K){return G.apply(this,arguments)}}())}}(te||(te={}));class X{static fromArray(W){return new X(Y=>{Y.emitMany(W)})}static fromPromise(W){return new X(function(){var Y=(0,a.A)(function*(oe){oe.emitMany(yield W)});return function(oe){return Y.apply(this,arguments)}}())}static fromPromises(W){return new X(function(){var Y=(0,a.A)(function*(oe){yield Promise.all(W.map(function(){var z=(0,a.A)(function*(G){return oe.emitOne(yield G)});return function(G){return z.apply(this,arguments)}}()))});return function(oe){return Y.apply(this,arguments)}}())}static merge(W){return new X(function(){var Y=(0,a.A)(function*(oe){yield Promise.all(W.map(function(){var z=(0,a.A)(function*(G){var ie,Q=!1,K=!1;try{for(var de,ae=(0,F.A)(G);Q=!(de=yield ae.next()).done;Q=!1)oe.emitOne(de.value)}catch(se){K=!0,ie=se}finally{try{Q&&null!=ae.return&&(yield ae.return())}finally{if(K)throw ie}}});return function(G){return z.apply(this,arguments)}}()))});return function(oe){return Y.apply(this,arguments)}}())}constructor(W,Y){var oe=this;this._state=0,this._results=[],this._error=null,this._onReturn=Y,this._onStateChanged=new C.vl,queueMicrotask((0,a.A)(function*(){const z={emitOne:G=>oe.emitOne(G),emitMany:G=>oe.emitMany(G),reject:G=>oe.reject(G)};try{yield Promise.resolve(W(z)),oe.resolve()}catch(G){oe.reject(G)}finally{z.emitOne=void 0,z.emitMany=void 0,z.reject=void 0}}))}[Symbol.asyncIterator](){var W=this;let Y=0;return{next:(oe=(0,a.A)(function*(){for(;;){if(2===W._state)throw W._error;if(Y<W._results.length)return{done:!1,value:W._results[Y++]};if(1===W._state)return{done:!0,value:void 0};yield C.Jh.toPromise(W._onStateChanged.event)}}),function(){return oe.apply(this,arguments)}),return:function(){var oe=(0,a.A)(function*(){var z;return null===(z=W._onReturn)||void 0===z||z.call(W),{done:!0,value:void 0}});return function(){return oe.apply(this,arguments)}}()};var oe}static map(W,Y){return new X(function(){var oe=(0,a.A)(function*(z){var K,G=!1,Q=!1;try{for(var ae,ie=(0,F.A)(W);G=!(ae=yield ie.next()).done;G=!1)z.emitOne(Y(ae.value))}catch(de){Q=!0,K=de}finally{try{G&&null!=ie.return&&(yield ie.return())}finally{if(Q)throw K}}});return function(z){return oe.apply(this,arguments)}}())}map(W){return X.map(this,W)}static filter(W,Y){return new X(function(){var oe=(0,a.A)(function*(z){var K,G=!1,Q=!1;try{for(var ae,ie=(0,F.A)(W);G=!(ae=yield ie.next()).done;G=!1){const de=ae.value;Y(de)&&z.emitOne(de)}}catch(de){Q=!0,K=de}finally{try{G&&null!=ie.return&&(yield ie.return())}finally{if(Q)throw K}}});return function(z){return oe.apply(this,arguments)}}())}filter(W){return X.filter(this,W)}static coalesce(W){return X.filter(W,Y=>!!Y)}coalesce(){return X.coalesce(this)}static toPromise(W){return(0,a.A)(function*(){const Y=[];var G,oe=!1,z=!1;try{for(var K,Q=(0,F.A)(W);oe=!(K=yield Q.next()).done;oe=!1)Y.push(K.value)}catch(ie){z=!0,G=ie}finally{try{oe&&null!=Q.return&&(yield Q.return())}finally{if(z)throw G}}return Y})()}toPromise(){return X.toPromise(this)}emitOne(W){0===this._state&&(this._results.push(W),this._onStateChanged.fire())}emitMany(W){0===this._state&&(this._results=this._results.concat(W),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(W){0===this._state&&(this._state=2,this._error=W,this._onStateChanged.fire())}}X.EMPTY=X.fromArray([]);class U extends X{constructor(W,Y){super(Y),this._source=W}cancel(){this._source.cancel()}}function q(R){const W=new w.Qi,Y=R(W.token);return new U(W,function(){var oe=(0,a.A)(function*(z){const G=W.token.onCancellationRequested(()=>{G.dispose(),W.dispose(),z.reject(new x.AL)});try{var ie,Q=!1,K=!1;try{for(var de,ae=(0,F.A)(Y);Q=!(de=yield ae.next()).done;Q=!1){if(W.token.isCancellationRequested)return;z.emitOne(de.value)}}catch(se){K=!0,ie=se}finally{try{Q&&null!=ae.return&&(yield ae.return())}finally{if(K)throw ie}}G.dispose(),W.dispose()}catch(se){G.dispose(),W.dispose(),z.reject(se)}});return function(z){return oe.apply(this,arguments)}}())}},93233:(tt,xe,t)=>{t.d(xe,{$l:()=>S,Gs:()=>_,MB:()=>C,Sw:()=>D,bb:()=>P,gN:()=>b,pJ:()=>v});var a=t(97081);const F=typeof Buffer<"u";let x;new a.d(()=>new Uint8Array(256));class C{static wrap(d){return F&&!Buffer.isBuffer(d)&&(d=Buffer.from(d.buffer,d.byteOffset,d.byteLength)),new C(d)}constructor(d){this.buffer=d,this.byteLength=this.buffer.byteLength}toString(){return F?this.buffer.toString():(x||(x=new TextDecoder),x.decode(this.buffer))}}function S(f,d){return(0|f[d+0])>>>0|f[d+1]<<8>>>0}function b(f,d,r){f[r+0]=255&d,f[r+1]=255&(d>>>=8)}function P(f,d){return f[d]*2**24+65536*f[d+1]+256*f[d+2]+f[d+3]}function D(f,d,r){f[r+3]=d,f[r+2]=d>>>=8,f[r+1]=d>>>=8,f[r]=d>>>=8}function v(f,d){return f[d]}function _(f,d,r){f[r]=d}},69969:(tt,xe,t)=>{function a(x){return x}t.d(xe,{VV:()=>w,o5:()=>F});class F{constructor(C,S){this.lastCache=void 0,this.lastArgKey=void 0,"function"==typeof C?(this._fn=C,this._computeKey=a):(this._fn=S,this._computeKey=C.getCacheKey)}get(C){const S=this._computeKey(C);return this.lastArgKey!==S&&(this.lastArgKey=S,this.lastCache=this._fn(C)),this.lastCache}}class w{get cachedValues(){return this._map}constructor(C,S){this._map=new Map,this._map2=new Map,"function"==typeof C?(this._fn=C,this._computeKey=a):(this._fn=S,this._computeKey=C.getCacheKey)}get(C){const S=this._computeKey(C);if(this._map2.has(S))return this._map2.get(S);const b=this._fn(C);return this._map.set(C,b),this._map2.set(S,b),b}}},21468:(tt,xe,t)=>{t.d(xe,{Qi:()=>C,XO:()=>w,bs:()=>S});var a=t(5643);const F=Object.freeze(function(b,P){const D=setTimeout(b.bind(P),0);return{dispose(){clearTimeout(D)}}});var w,b;(b=w||(w={})).isCancellationToken=function P(D){return D===b.None||D===b.Cancelled||D instanceof x||!(!D||"object"!=typeof D)&&"boolean"==typeof D.isCancellationRequested&&"function"==typeof D.onCancellationRequested},b.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:a.Jh.None}),b.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:F});class x{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?F:(this._emitter||(this._emitter=new a.vl),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class C{constructor(P){this._token=void 0,this._parentListener=void 0,this._parentListener=P&&P.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new x),this._token}cancel(){this._token?this._token instanceof x&&this._token.cancel():this._token=w.Cancelled}dispose(P=!1){var D;P&&this.cancel(),null===(D=this._parentListener)||void 0===D||D.dispose(),this._token?this._token instanceof x&&this._token.dispose():this._token=w.None}}function S(b){const P=new C;return b.add({dispose(){P.cancel()}}),P.token}},15320:(tt,xe,t)=>{t.d(xe,{W:()=>x});var a=t(66731);const x={add:(0,a.k)("add",6e4),plus:(0,a.k)("plus",6e4),gistNew:(0,a.k)("gist-new",6e4),repoCreate:(0,a.k)("repo-create",6e4),lightbulb:(0,a.k)("lightbulb",60001),lightBulb:(0,a.k)("light-bulb",60001),repo:(0,a.k)("repo",60002),repoDelete:(0,a.k)("repo-delete",60002),gistFork:(0,a.k)("gist-fork",60003),repoForked:(0,a.k)("repo-forked",60003),gitPullRequest:(0,a.k)("git-pull-request",60004),gitPullRequestAbandoned:(0,a.k)("git-pull-request-abandoned",60004),recordKeys:(0,a.k)("record-keys",60005),keyboard:(0,a.k)("keyboard",60005),tag:(0,a.k)("tag",60006),gitPullRequestLabel:(0,a.k)("git-pull-request-label",60006),tagAdd:(0,a.k)("tag-add",60006),tagRemove:(0,a.k)("tag-remove",60006),person:(0,a.k)("person",60007),personFollow:(0,a.k)("person-follow",60007),personOutline:(0,a.k)("person-outline",60007),personFilled:(0,a.k)("person-filled",60007),gitBranch:(0,a.k)("git-branch",60008),gitBranchCreate:(0,a.k)("git-branch-create",60008),gitBranchDelete:(0,a.k)("git-branch-delete",60008),sourceControl:(0,a.k)("source-control",60008),mirror:(0,a.k)("mirror",60009),mirrorPublic:(0,a.k)("mirror-public",60009),star:(0,a.k)("star",60010),starAdd:(0,a.k)("star-add",60010),starDelete:(0,a.k)("star-delete",60010),starEmpty:(0,a.k)("star-empty",60010),comment:(0,a.k)("comment",60011),commentAdd:(0,a.k)("comment-add",60011),alert:(0,a.k)("alert",60012),warning:(0,a.k)("warning",60012),search:(0,a.k)("search",60013),searchSave:(0,a.k)("search-save",60013),logOut:(0,a.k)("log-out",60014),signOut:(0,a.k)("sign-out",60014),logIn:(0,a.k)("log-in",60015),signIn:(0,a.k)("sign-in",60015),eye:(0,a.k)("eye",60016),eyeUnwatch:(0,a.k)("eye-unwatch",60016),eyeWatch:(0,a.k)("eye-watch",60016),circleFilled:(0,a.k)("circle-filled",60017),primitiveDot:(0,a.k)("primitive-dot",60017),closeDirty:(0,a.k)("close-dirty",60017),debugBreakpoint:(0,a.k)("debug-breakpoint",60017),debugBreakpointDisabled:(0,a.k)("debug-breakpoint-disabled",60017),debugHint:(0,a.k)("debug-hint",60017),terminalDecorationSuccess:(0,a.k)("terminal-decoration-success",60017),primitiveSquare:(0,a.k)("primitive-square",60018),edit:(0,a.k)("edit",60019),pencil:(0,a.k)("pencil",60019),info:(0,a.k)("info",60020),issueOpened:(0,a.k)("issue-opened",60020),gistPrivate:(0,a.k)("gist-private",60021),gitForkPrivate:(0,a.k)("git-fork-private",60021),lock:(0,a.k)("lock",60021),mirrorPrivate:(0,a.k)("mirror-private",60021),close:(0,a.k)("close",60022),removeClose:(0,a.k)("remove-close",60022),x:(0,a.k)("x",60022),repoSync:(0,a.k)("repo-sync",60023),sync:(0,a.k)("sync",60023),clone:(0,a.k)("clone",60024),desktopDownload:(0,a.k)("desktop-download",60024),beaker:(0,a.k)("beaker",60025),microscope:(0,a.k)("microscope",60025),vm:(0,a.k)("vm",60026),deviceDesktop:(0,a.k)("device-desktop",60026),file:(0,a.k)("file",60027),fileText:(0,a.k)("file-text",60027),more:(0,a.k)("more",60028),ellipsis:(0,a.k)("ellipsis",60028),kebabHorizontal:(0,a.k)("kebab-horizontal",60028),mailReply:(0,a.k)("mail-reply",60029),reply:(0,a.k)("reply",60029),organization:(0,a.k)("organization",60030),organizationFilled:(0,a.k)("organization-filled",60030),organizationOutline:(0,a.k)("organization-outline",60030),newFile:(0,a.k)("new-file",60031),fileAdd:(0,a.k)("file-add",60031),newFolder:(0,a.k)("new-folder",60032),fileDirectoryCreate:(0,a.k)("file-directory-create",60032),trash:(0,a.k)("trash",60033),trashcan:(0,a.k)("trashcan",60033),history:(0,a.k)("history",60034),clock:(0,a.k)("clock",60034),folder:(0,a.k)("folder",60035),fileDirectory:(0,a.k)("file-directory",60035),symbolFolder:(0,a.k)("symbol-folder",60035),logoGithub:(0,a.k)("logo-github",60036),markGithub:(0,a.k)("mark-github",60036),github:(0,a.k)("github",60036),terminal:(0,a.k)("terminal",60037),console:(0,a.k)("console",60037),repl:(0,a.k)("repl",60037),zap:(0,a.k)("zap",60038),symbolEvent:(0,a.k)("symbol-event",60038),error:(0,a.k)("error",60039),stop:(0,a.k)("stop",60039),variable:(0,a.k)("variable",60040),symbolVariable:(0,a.k)("symbol-variable",60040),array:(0,a.k)("array",60042),symbolArray:(0,a.k)("symbol-array",60042),symbolModule:(0,a.k)("symbol-module",60043),symbolPackage:(0,a.k)("symbol-package",60043),symbolNamespace:(0,a.k)("symbol-namespace",60043),symbolObject:(0,a.k)("symbol-object",60043),symbolMethod:(0,a.k)("symbol-method",60044),symbolFunction:(0,a.k)("symbol-function",60044),symbolConstructor:(0,a.k)("symbol-constructor",60044),symbolBoolean:(0,a.k)("symbol-boolean",60047),symbolNull:(0,a.k)("symbol-null",60047),symbolNumeric:(0,a.k)("symbol-numeric",60048),symbolNumber:(0,a.k)("symbol-number",60048),symbolStructure:(0,a.k)("symbol-structure",60049),symbolStruct:(0,a.k)("symbol-struct",60049),symbolParameter:(0,a.k)("symbol-parameter",60050),symbolTypeParameter:(0,a.k)("symbol-type-parameter",60050),symbolKey:(0,a.k)("symbol-key",60051),symbolText:(0,a.k)("symbol-text",60051),symbolReference:(0,a.k)("symbol-reference",60052),goToFile:(0,a.k)("go-to-file",60052),symbolEnum:(0,a.k)("symbol-enum",60053),symbolValue:(0,a.k)("symbol-value",60053),symbolRuler:(0,a.k)("symbol-ruler",60054),symbolUnit:(0,a.k)("symbol-unit",60054),activateBreakpoints:(0,a.k)("activate-breakpoints",60055),archive:(0,a.k)("archive",60056),arrowBoth:(0,a.k)("arrow-both",60057),arrowDown:(0,a.k)("arrow-down",60058),arrowLeft:(0,a.k)("arrow-left",60059),arrowRight:(0,a.k)("arrow-right",60060),arrowSmallDown:(0,a.k)("arrow-small-down",60061),arrowSmallLeft:(0,a.k)("arrow-small-left",60062),arrowSmallRight:(0,a.k)("arrow-small-right",60063),arrowSmallUp:(0,a.k)("arrow-small-up",60064),arrowUp:(0,a.k)("arrow-up",60065),bell:(0,a.k)("bell",60066),bold:(0,a.k)("bold",60067),book:(0,a.k)("book",60068),bookmark:(0,a.k)("bookmark",60069),debugBreakpointConditionalUnverified:(0,a.k)("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:(0,a.k)("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:(0,a.k)("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:(0,a.k)("debug-breakpoint-data-unverified",60072),debugBreakpointData:(0,a.k)("debug-breakpoint-data",60073),debugBreakpointDataDisabled:(0,a.k)("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:(0,a.k)("debug-breakpoint-log-unverified",60074),debugBreakpointLog:(0,a.k)("debug-breakpoint-log",60075),debugBreakpointLogDisabled:(0,a.k)("debug-breakpoint-log-disabled",60075),briefcase:(0,a.k)("briefcase",60076),broadcast:(0,a.k)("broadcast",60077),browser:(0,a.k)("browser",60078),bug:(0,a.k)("bug",60079),calendar:(0,a.k)("calendar",60080),caseSensitive:(0,a.k)("case-sensitive",60081),check:(0,a.k)("check",60082),checklist:(0,a.k)("checklist",60083),chevronDown:(0,a.k)("chevron-down",60084),chevronLeft:(0,a.k)("chevron-left",60085),chevronRight:(0,a.k)("chevron-right",60086),chevronUp:(0,a.k)("chevron-up",60087),chromeClose:(0,a.k)("chrome-close",60088),chromeMaximize:(0,a.k)("chrome-maximize",60089),chromeMinimize:(0,a.k)("chrome-minimize",60090),chromeRestore:(0,a.k)("chrome-restore",60091),circleOutline:(0,a.k)("circle-outline",60092),circle:(0,a.k)("circle",60092),debugBreakpointUnverified:(0,a.k)("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:(0,a.k)("terminal-decoration-incomplete",60092),circleSlash:(0,a.k)("circle-slash",60093),circuitBoard:(0,a.k)("circuit-board",60094),clearAll:(0,a.k)("clear-all",60095),clippy:(0,a.k)("clippy",60096),closeAll:(0,a.k)("close-all",60097),cloudDownload:(0,a.k)("cloud-download",60098),cloudUpload:(0,a.k)("cloud-upload",60099),code:(0,a.k)("code",60100),collapseAll:(0,a.k)("collapse-all",60101),colorMode:(0,a.k)("color-mode",60102),commentDiscussion:(0,a.k)("comment-discussion",60103),creditCard:(0,a.k)("credit-card",60105),dash:(0,a.k)("dash",60108),dashboard:(0,a.k)("dashboard",60109),database:(0,a.k)("database",60110),debugContinue:(0,a.k)("debug-continue",60111),debugDisconnect:(0,a.k)("debug-disconnect",60112),debugPause:(0,a.k)("debug-pause",60113),debugRestart:(0,a.k)("debug-restart",60114),debugStart:(0,a.k)("debug-start",60115),debugStepInto:(0,a.k)("debug-step-into",60116),debugStepOut:(0,a.k)("debug-step-out",60117),debugStepOver:(0,a.k)("debug-step-over",60118),debugStop:(0,a.k)("debug-stop",60119),debug:(0,a.k)("debug",60120),deviceCameraVideo:(0,a.k)("device-camera-video",60121),deviceCamera:(0,a.k)("device-camera",60122),deviceMobile:(0,a.k)("device-mobile",60123),diffAdded:(0,a.k)("diff-added",60124),diffIgnored:(0,a.k)("diff-ignored",60125),diffModified:(0,a.k)("diff-modified",60126),diffRemoved:(0,a.k)("diff-removed",60127),diffRenamed:(0,a.k)("diff-renamed",60128),diff:(0,a.k)("diff",60129),diffSidebyside:(0,a.k)("diff-sidebyside",60129),discard:(0,a.k)("discard",60130),editorLayout:(0,a.k)("editor-layout",60131),emptyWindow:(0,a.k)("empty-window",60132),exclude:(0,a.k)("exclude",60133),extensions:(0,a.k)("extensions",60134),eyeClosed:(0,a.k)("eye-closed",60135),fileBinary:(0,a.k)("file-binary",60136),fileCode:(0,a.k)("file-code",60137),fileMedia:(0,a.k)("file-media",60138),filePdf:(0,a.k)("file-pdf",60139),fileSubmodule:(0,a.k)("file-submodule",60140),fileSymlinkDirectory:(0,a.k)("file-symlink-directory",60141),fileSymlinkFile:(0,a.k)("file-symlink-file",60142),fileZip:(0,a.k)("file-zip",60143),files:(0,a.k)("files",60144),filter:(0,a.k)("filter",60145),flame:(0,a.k)("flame",60146),foldDown:(0,a.k)("fold-down",60147),foldUp:(0,a.k)("fold-up",60148),fold:(0,a.k)("fold",60149),folderActive:(0,a.k)("folder-active",60150),folderOpened:(0,a.k)("folder-opened",60151),gear:(0,a.k)("gear",60152),gift:(0,a.k)("gift",60153),gistSecret:(0,a.k)("gist-secret",60154),gist:(0,a.k)("gist",60155),gitCommit:(0,a.k)("git-commit",60156),gitCompare:(0,a.k)("git-compare",60157),compareChanges:(0,a.k)("compare-changes",60157),gitMerge:(0,a.k)("git-merge",60158),githubAction:(0,a.k)("github-action",60159),githubAlt:(0,a.k)("github-alt",60160),globe:(0,a.k)("globe",60161),grabber:(0,a.k)("grabber",60162),graph:(0,a.k)("graph",60163),gripper:(0,a.k)("gripper",60164),heart:(0,a.k)("heart",60165),home:(0,a.k)("home",60166),horizontalRule:(0,a.k)("horizontal-rule",60167),hubot:(0,a.k)("hubot",60168),inbox:(0,a.k)("inbox",60169),issueReopened:(0,a.k)("issue-reopened",60171),issues:(0,a.k)("issues",60172),italic:(0,a.k)("italic",60173),jersey:(0,a.k)("jersey",60174),json:(0,a.k)("json",60175),kebabVertical:(0,a.k)("kebab-vertical",60176),key:(0,a.k)("key",60177),law:(0,a.k)("law",60178),lightbulbAutofix:(0,a.k)("lightbulb-autofix",60179),linkExternal:(0,a.k)("link-external",60180),link:(0,a.k)("link",60181),listOrdered:(0,a.k)("list-ordered",60182),listUnordered:(0,a.k)("list-unordered",60183),liveShare:(0,a.k)("live-share",60184),loading:(0,a.k)("loading",60185),location:(0,a.k)("location",60186),mailRead:(0,a.k)("mail-read",60187),mail:(0,a.k)("mail",60188),markdown:(0,a.k)("markdown",60189),megaphone:(0,a.k)("megaphone",60190),mention:(0,a.k)("mention",60191),milestone:(0,a.k)("milestone",60192),gitPullRequestMilestone:(0,a.k)("git-pull-request-milestone",60192),mortarBoard:(0,a.k)("mortar-board",60193),move:(0,a.k)("move",60194),multipleWindows:(0,a.k)("multiple-windows",60195),mute:(0,a.k)("mute",60196),noNewline:(0,a.k)("no-newline",60197),note:(0,a.k)("note",60198),octoface:(0,a.k)("octoface",60199),openPreview:(0,a.k)("open-preview",60200),package:(0,a.k)("package",60201),paintcan:(0,a.k)("paintcan",60202),pin:(0,a.k)("pin",60203),play:(0,a.k)("play",60204),run:(0,a.k)("run",60204),plug:(0,a.k)("plug",60205),preserveCase:(0,a.k)("preserve-case",60206),preview:(0,a.k)("preview",60207),project:(0,a.k)("project",60208),pulse:(0,a.k)("pulse",60209),question:(0,a.k)("question",60210),quote:(0,a.k)("quote",60211),radioTower:(0,a.k)("radio-tower",60212),reactions:(0,a.k)("reactions",60213),references:(0,a.k)("references",60214),refresh:(0,a.k)("refresh",60215),regex:(0,a.k)("regex",60216),remoteExplorer:(0,a.k)("remote-explorer",60217),remote:(0,a.k)("remote",60218),remove:(0,a.k)("remove",60219),replaceAll:(0,a.k)("replace-all",60220),replace:(0,a.k)("replace",60221),repoClone:(0,a.k)("repo-clone",60222),repoForcePush:(0,a.k)("repo-force-push",60223),repoPull:(0,a.k)("repo-pull",60224),repoPush:(0,a.k)("repo-push",60225),report:(0,a.k)("report",60226),requestChanges:(0,a.k)("request-changes",60227),rocket:(0,a.k)("rocket",60228),rootFolderOpened:(0,a.k)("root-folder-opened",60229),rootFolder:(0,a.k)("root-folder",60230),rss:(0,a.k)("rss",60231),ruby:(0,a.k)("ruby",60232),saveAll:(0,a.k)("save-all",60233),saveAs:(0,a.k)("save-as",60234),save:(0,a.k)("save",60235),screenFull:(0,a.k)("screen-full",60236),screenNormal:(0,a.k)("screen-normal",60237),searchStop:(0,a.k)("search-stop",60238),server:(0,a.k)("server",60240),settingsGear:(0,a.k)("settings-gear",60241),settings:(0,a.k)("settings",60242),shield:(0,a.k)("shield",60243),smiley:(0,a.k)("smiley",60244),sortPrecedence:(0,a.k)("sort-precedence",60245),splitHorizontal:(0,a.k)("split-horizontal",60246),splitVertical:(0,a.k)("split-vertical",60247),squirrel:(0,a.k)("squirrel",60248),starFull:(0,a.k)("star-full",60249),starHalf:(0,a.k)("star-half",60250),symbolClass:(0,a.k)("symbol-class",60251),symbolColor:(0,a.k)("symbol-color",60252),symbolConstant:(0,a.k)("symbol-constant",60253),symbolEnumMember:(0,a.k)("symbol-enum-member",60254),symbolField:(0,a.k)("symbol-field",60255),symbolFile:(0,a.k)("symbol-file",60256),symbolInterface:(0,a.k)("symbol-interface",60257),symbolKeyword:(0,a.k)("symbol-keyword",60258),symbolMisc:(0,a.k)("symbol-misc",60259),symbolOperator:(0,a.k)("symbol-operator",60260),symbolProperty:(0,a.k)("symbol-property",60261),wrench:(0,a.k)("wrench",60261),wrenchSubaction:(0,a.k)("wrench-subaction",60261),symbolSnippet:(0,a.k)("symbol-snippet",60262),tasklist:(0,a.k)("tasklist",60263),telescope:(0,a.k)("telescope",60264),textSize:(0,a.k)("text-size",60265),threeBars:(0,a.k)("three-bars",60266),thumbsdown:(0,a.k)("thumbsdown",60267),thumbsup:(0,a.k)("thumbsup",60268),tools:(0,a.k)("tools",60269),triangleDown:(0,a.k)("triangle-down",60270),triangleLeft:(0,a.k)("triangle-left",60271),triangleRight:(0,a.k)("triangle-right",60272),triangleUp:(0,a.k)("triangle-up",60273),twitter:(0,a.k)("twitter",60274),unfold:(0,a.k)("unfold",60275),unlock:(0,a.k)("unlock",60276),unmute:(0,a.k)("unmute",60277),unverified:(0,a.k)("unverified",60278),verified:(0,a.k)("verified",60279),versions:(0,a.k)("versions",60280),vmActive:(0,a.k)("vm-active",60281),vmOutline:(0,a.k)("vm-outline",60282),vmRunning:(0,a.k)("vm-running",60283),watch:(0,a.k)("watch",60284),whitespace:(0,a.k)("whitespace",60285),wholeWord:(0,a.k)("whole-word",60286),window:(0,a.k)("window",60287),wordWrap:(0,a.k)("word-wrap",60288),zoomIn:(0,a.k)("zoom-in",60289),zoomOut:(0,a.k)("zoom-out",60290),listFilter:(0,a.k)("list-filter",60291),listFlat:(0,a.k)("list-flat",60292),listSelection:(0,a.k)("list-selection",60293),selection:(0,a.k)("selection",60293),listTree:(0,a.k)("list-tree",60294),debugBreakpointFunctionUnverified:(0,a.k)("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:(0,a.k)("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:(0,a.k)("debug-breakpoint-function-disabled",60296),debugStackframeActive:(0,a.k)("debug-stackframe-active",60297),circleSmallFilled:(0,a.k)("circle-small-filled",60298),debugStackframeDot:(0,a.k)("debug-stackframe-dot",60298),terminalDecorationMark:(0,a.k)("terminal-decoration-mark",60298),debugStackframe:(0,a.k)("debug-stackframe",60299),debugStackframeFocused:(0,a.k)("debug-stackframe-focused",60299),debugBreakpointUnsupported:(0,a.k)("debug-breakpoint-unsupported",60300),symbolString:(0,a.k)("symbol-string",60301),debugReverseContinue:(0,a.k)("debug-reverse-continue",60302),debugStepBack:(0,a.k)("debug-step-back",60303),debugRestartFrame:(0,a.k)("debug-restart-frame",60304),debugAlt:(0,a.k)("debug-alt",60305),callIncoming:(0,a.k)("call-incoming",60306),callOutgoing:(0,a.k)("call-outgoing",60307),menu:(0,a.k)("menu",60308),expandAll:(0,a.k)("expand-all",60309),feedback:(0,a.k)("feedback",60310),gitPullRequestReviewer:(0,a.k)("git-pull-request-reviewer",60310),groupByRefType:(0,a.k)("group-by-ref-type",60311),ungroupByRefType:(0,a.k)("ungroup-by-ref-type",60312),account:(0,a.k)("account",60313),gitPullRequestAssignee:(0,a.k)("git-pull-request-assignee",60313),bellDot:(0,a.k)("bell-dot",60314),debugConsole:(0,a.k)("debug-console",60315),library:(0,a.k)("library",60316),output:(0,a.k)("output",60317),runAll:(0,a.k)("run-all",60318),syncIgnored:(0,a.k)("sync-ignored",60319),pinned:(0,a.k)("pinned",60320),githubInverted:(0,a.k)("github-inverted",60321),serverProcess:(0,a.k)("server-process",60322),serverEnvironment:(0,a.k)("server-environment",60323),pass:(0,a.k)("pass",60324),issueClosed:(0,a.k)("issue-closed",60324),stopCircle:(0,a.k)("stop-circle",60325),playCircle:(0,a.k)("play-circle",60326),record:(0,a.k)("record",60327),debugAltSmall:(0,a.k)("debug-alt-small",60328),vmConnect:(0,a.k)("vm-connect",60329),cloud:(0,a.k)("cloud",60330),merge:(0,a.k)("merge",60331),export:(0,a.k)("export",60332),graphLeft:(0,a.k)("graph-left",60333),magnet:(0,a.k)("magnet",60334),notebook:(0,a.k)("notebook",60335),redo:(0,a.k)("redo",60336),checkAll:(0,a.k)("check-all",60337),pinnedDirty:(0,a.k)("pinned-dirty",60338),passFilled:(0,a.k)("pass-filled",60339),circleLargeFilled:(0,a.k)("circle-large-filled",60340),circleLarge:(0,a.k)("circle-large",60341),circleLargeOutline:(0,a.k)("circle-large-outline",60341),combine:(0,a.k)("combine",60342),gather:(0,a.k)("gather",60342),table:(0,a.k)("table",60343),variableGroup:(0,a.k)("variable-group",60344),typeHierarchy:(0,a.k)("type-hierarchy",60345),typeHierarchySub:(0,a.k)("type-hierarchy-sub",60346),typeHierarchySuper:(0,a.k)("type-hierarchy-super",60347),gitPullRequestCreate:(0,a.k)("git-pull-request-create",60348),runAbove:(0,a.k)("run-above",60349),runBelow:(0,a.k)("run-below",60350),notebookTemplate:(0,a.k)("notebook-template",60351),debugRerun:(0,a.k)("debug-rerun",60352),workspaceTrusted:(0,a.k)("workspace-trusted",60353),workspaceUntrusted:(0,a.k)("workspace-untrusted",60354),workspaceUnknown:(0,a.k)("workspace-unknown",60355),terminalCmd:(0,a.k)("terminal-cmd",60356),terminalDebian:(0,a.k)("terminal-debian",60357),terminalLinux:(0,a.k)("terminal-linux",60358),terminalPowershell:(0,a.k)("terminal-powershell",60359),terminalTmux:(0,a.k)("terminal-tmux",60360),terminalUbuntu:(0,a.k)("terminal-ubuntu",60361),terminalBash:(0,a.k)("terminal-bash",60362),arrowSwap:(0,a.k)("arrow-swap",60363),copy:(0,a.k)("copy",60364),personAdd:(0,a.k)("person-add",60365),filterFilled:(0,a.k)("filter-filled",60366),wand:(0,a.k)("wand",60367),debugLineByLine:(0,a.k)("debug-line-by-line",60368),inspect:(0,a.k)("inspect",60369),layers:(0,a.k)("layers",60370),layersDot:(0,a.k)("layers-dot",60371),layersActive:(0,a.k)("layers-active",60372),compass:(0,a.k)("compass",60373),compassDot:(0,a.k)("compass-dot",60374),compassActive:(0,a.k)("compass-active",60375),azure:(0,a.k)("azure",60376),issueDraft:(0,a.k)("issue-draft",60377),gitPullRequestClosed:(0,a.k)("git-pull-request-closed",60378),gitPullRequestDraft:(0,a.k)("git-pull-request-draft",60379),debugAll:(0,a.k)("debug-all",60380),debugCoverage:(0,a.k)("debug-coverage",60381),runErrors:(0,a.k)("run-errors",60382),folderLibrary:(0,a.k)("folder-library",60383),debugContinueSmall:(0,a.k)("debug-continue-small",60384),beakerStop:(0,a.k)("beaker-stop",60385),graphLine:(0,a.k)("graph-line",60386),graphScatter:(0,a.k)("graph-scatter",60387),pieChart:(0,a.k)("pie-chart",60388),bracket:(0,a.k)("bracket",60175),bracketDot:(0,a.k)("bracket-dot",60389),bracketError:(0,a.k)("bracket-error",60390),lockSmall:(0,a.k)("lock-small",60391),azureDevops:(0,a.k)("azure-devops",60392),verifiedFilled:(0,a.k)("verified-filled",60393),newline:(0,a.k)("newline",60394),layout:(0,a.k)("layout",60395),layoutActivitybarLeft:(0,a.k)("layout-activitybar-left",60396),layoutActivitybarRight:(0,a.k)("layout-activitybar-right",60397),layoutPanelLeft:(0,a.k)("layout-panel-left",60398),layoutPanelCenter:(0,a.k)("layout-panel-center",60399),layoutPanelJustify:(0,a.k)("layout-panel-justify",60400),layoutPanelRight:(0,a.k)("layout-panel-right",60401),layoutPanel:(0,a.k)("layout-panel",60402),layoutSidebarLeft:(0,a.k)("layout-sidebar-left",60403),layoutSidebarRight:(0,a.k)("layout-sidebar-right",60404),layoutStatusbar:(0,a.k)("layout-statusbar",60405),layoutMenubar:(0,a.k)("layout-menubar",60406),layoutCentered:(0,a.k)("layout-centered",60407),target:(0,a.k)("target",60408),indent:(0,a.k)("indent",60409),recordSmall:(0,a.k)("record-small",60410),errorSmall:(0,a.k)("error-small",60411),terminalDecorationError:(0,a.k)("terminal-decoration-error",60411),arrowCircleDown:(0,a.k)("arrow-circle-down",60412),arrowCircleLeft:(0,a.k)("arrow-circle-left",60413),arrowCircleRight:(0,a.k)("arrow-circle-right",60414),arrowCircleUp:(0,a.k)("arrow-circle-up",60415),layoutSidebarRightOff:(0,a.k)("layout-sidebar-right-off",60416),layoutPanelOff:(0,a.k)("layout-panel-off",60417),layoutSidebarLeftOff:(0,a.k)("layout-sidebar-left-off",60418),blank:(0,a.k)("blank",60419),heartFilled:(0,a.k)("heart-filled",60420),map:(0,a.k)("map",60421),mapHorizontal:(0,a.k)("map-horizontal",60421),foldHorizontal:(0,a.k)("fold-horizontal",60421),mapFilled:(0,a.k)("map-filled",60422),mapHorizontalFilled:(0,a.k)("map-horizontal-filled",60422),foldHorizontalFilled:(0,a.k)("fold-horizontal-filled",60422),circleSmall:(0,a.k)("circle-small",60423),bellSlash:(0,a.k)("bell-slash",60424),bellSlashDot:(0,a.k)("bell-slash-dot",60425),commentUnresolved:(0,a.k)("comment-unresolved",60426),gitPullRequestGoToChanges:(0,a.k)("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:(0,a.k)("git-pull-request-new-changes",60428),searchFuzzy:(0,a.k)("search-fuzzy",60429),commentDraft:(0,a.k)("comment-draft",60430),send:(0,a.k)("send",60431),sparkle:(0,a.k)("sparkle",60432),insert:(0,a.k)("insert",60433),mic:(0,a.k)("mic",60434),thumbsdownFilled:(0,a.k)("thumbsdown-filled",60435),thumbsupFilled:(0,a.k)("thumbsup-filled",60436),coffee:(0,a.k)("coffee",60437),snake:(0,a.k)("snake",60438),game:(0,a.k)("game",60439),vr:(0,a.k)("vr",60440),chip:(0,a.k)("chip",60441),piano:(0,a.k)("piano",60442),music:(0,a.k)("music",60443),micFilled:(0,a.k)("mic-filled",60444),repoFetch:(0,a.k)("repo-fetch",60445),copilot:(0,a.k)("copilot",60446),lightbulbSparkle:(0,a.k)("lightbulb-sparkle",60447),robot:(0,a.k)("robot",60448),sparkleFilled:(0,a.k)("sparkle-filled",60449),diffSingle:(0,a.k)("diff-single",60450),diffMultiple:(0,a.k)("diff-multiple",60451),surroundWith:(0,a.k)("surround-with",60452),share:(0,a.k)("share",60453),gitStash:(0,a.k)("git-stash",60454),gitStashApply:(0,a.k)("git-stash-apply",60455),gitStashPop:(0,a.k)("git-stash-pop",60456),vscode:(0,a.k)("vscode",60457),vscodeInsiders:(0,a.k)("vscode-insiders",60458),codeOss:(0,a.k)("code-oss",60459),runCoverage:(0,a.k)("run-coverage",60460),runAllCoverage:(0,a.k)("run-all-coverage",60461),coverage:(0,a.k)("coverage",60462),githubProject:(0,a.k)("github-project",60463),mapVertical:(0,a.k)("map-vertical",60464),foldVertical:(0,a.k)("fold-vertical",60464),mapVerticalFilled:(0,a.k)("map-vertical-filled",60465),foldVerticalFilled:(0,a.k)("fold-vertical-filled",60465),goToSearch:(0,a.k)("go-to-search",60466),percentage:(0,a.k)("percentage",60467),sortPercentage:(0,a.k)("sort-percentage",60467),attach:(0,a.k)("attach",60468),dialogError:(0,a.k)("dialog-error","error"),dialogWarning:(0,a.k)("dialog-warning","warning"),dialogInfo:(0,a.k)("dialog-info","info"),dialogClose:(0,a.k)("dialog-close","close"),treeItemExpanded:(0,a.k)("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:(0,a.k)("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:(0,a.k)("tree-filter-on-type-off","list-selection"),treeFilterClear:(0,a.k)("tree-filter-clear","close"),treeItemLoading:(0,a.k)("tree-item-loading","loading"),menuSelection:(0,a.k)("menu-selection","check"),menuSubmenu:(0,a.k)("menu-submenu","chevron-right"),menuBarMore:(0,a.k)("menubar-more","more"),scrollbarButtonLeft:(0,a.k)("scrollbar-button-left","triangle-left"),scrollbarButtonRight:(0,a.k)("scrollbar-button-right","triangle-right"),scrollbarButtonUp:(0,a.k)("scrollbar-button-up","triangle-up"),scrollbarButtonDown:(0,a.k)("scrollbar-button-down","triangle-down"),toolBarMore:(0,a.k)("toolbar-more","more"),quickInputBack:(0,a.k)("quick-input-back","arrow-left"),dropDownButton:(0,a.k)("drop-down-button",60084),symbolCustomColor:(0,a.k)("symbol-customcolor",60252),exportIcon:(0,a.k)("export",60332),workspaceUnspecified:(0,a.k)("workspace-unspecified",60355),newLine:(0,a.k)("newline",60394),thumbsDownFilled:(0,a.k)("thumbsdown-filled",60435),thumbsUpFilled:(0,a.k)("thumbsup-filled",60436),gitFetch:(0,a.k)("git-fetch",60445),lightbulbSparkleAutofix:(0,a.k)("lightbulb-sparkle-autofix",60447),debugBreakpointPending:(0,a.k)("debug-breakpoint-pending",60377)}},66731:(tt,xe,t)=>{t.d(xe,{J:()=>x,k:()=>w});var a=t(66702);const F=Object.create(null);function w(C,S){if((0,a.Kg)(S)){const b=F[S];if(void 0===b)throw new Error(`${C} references an unknown codicon: ${S}`);S=b}return F[C]=S,{id:C}}function x(){return F}},58370:(tt,xe,t)=>{function a(w,x){const C=[],S=[];for(const b of w)x.has(b)||C.push(b);for(const b of x)w.has(b)||S.push(b);return{removed:C,added:S}}function F(w,x){const C=new Set;for(const S of x)w.has(S)&&C.add(S);return C}t.d(xe,{E:()=>F,Z:()=>a})},84072:(tt,xe,t)=>{function a(S,b){const P=Math.pow(10,b);return Math.round(S*P)/P}t.d(xe,{$J:()=>x,Q1:()=>C,bU:()=>F,hB:()=>w});class F{constructor(b,P,D,v=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,b)),this.g=0|Math.min(255,Math.max(0,P)),this.b=0|Math.min(255,Math.max(0,D)),this.a=a(Math.max(Math.min(1,v),0),3)}static equals(b,P){return b.r===P.r&&b.g===P.g&&b.b===P.b&&b.a===P.a}}class w{constructor(b,P,D,v){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,b),0),this.s=a(Math.max(Math.min(1,P),0),3),this.l=a(Math.max(Math.min(1,D),0),3),this.a=a(Math.max(Math.min(1,v),0),3)}static equals(b,P){return b.h===P.h&&b.s===P.s&&b.l===P.l&&b.a===P.a}static fromRGBA(b){const P=b.r/255,D=b.g/255,v=b.b/255,_=b.a,f=Math.max(P,D,v),d=Math.min(P,D,v);let r=0,l=0;const g=(d+f)/2,p=f-d;if(p>0){switch(l=Math.min(g<=.5?p/(2*g):p/(2-2*g),1),f){case P:r=(D-v)/p+(D<v?6:0);break;case D:r=(v-P)/p+2;break;case v:r=(P-D)/p+4}r*=60,r=Math.round(r)}return new w(r,l,g,_)}static _hue2rgb(b,P,D){return D<0&&(D+=1),D>1&&(D-=1),D<1/6?b+6*(P-b)*D:D<.5?P:D<2/3?b+(P-b)*(2/3-D)*6:b}static toRGBA(b){const P=b.h/360,{s:D,l:v,a:_}=b;let f,d,r;if(0===D)f=d=r=v;else{const l=v<.5?v*(1+D):v+D-v*D,g=2*v-l;f=w._hue2rgb(g,l,P+1/3),d=w._hue2rgb(g,l,P),r=w._hue2rgb(g,l,P-1/3)}return new F(Math.round(255*f),Math.round(255*d),Math.round(255*r),_)}}class x{constructor(b,P,D,v){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,b),0),this.s=a(Math.max(Math.min(1,P),0),3),this.v=a(Math.max(Math.min(1,D),0),3),this.a=a(Math.max(Math.min(1,v),0),3)}static equals(b,P){return b.h===P.h&&b.s===P.s&&b.v===P.v&&b.a===P.a}static fromRGBA(b){const P=b.r/255,D=b.g/255,v=b.b/255,_=Math.max(P,D,v),d=_-Math.min(P,D,v),r=0===_?0:d/_;let l;return l=0===d?0:_===P?((D-v)/d%6+6)%6:_===D?(v-P)/d+2:(P-D)/d+4,new x(Math.round(60*l),r,_,b.a)}static toRGBA(b){const{h:P,s:D,v,a:_}=b,f=v*D,d=f*(1-Math.abs(P/60%2-1)),r=v-f;let[l,g,p]=[0,0,0];return P<60?(l=f,g=d):P<120?(l=d,g=f):P<180?(g=f,p=d):P<240?(g=d,p=f):P<300?(l=d,p=f):P<=360&&(l=f,p=d),l=Math.round(255*(l+r)),g=Math.round(255*(g+r)),p=Math.round(255*(p+r)),new F(l,g,p,_)}}class C{static fromHex(b){return C.Format.CSS.parseHex(b)||C.red}static equals(b,P){return!b&&!P||!(!b||!P)&&b.equals(P)}get hsla(){return this._hsla?this._hsla:w.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:x.fromRGBA(this.rgba)}constructor(b){if(!b)throw new Error("Color needs a value");if(b instanceof F)this.rgba=b;else if(b instanceof w)this._hsla=b,this.rgba=w.toRGBA(b);else{if(!(b instanceof x))throw new Error("Invalid color ctor argument");this._hsva=b,this.rgba=x.toRGBA(b)}}equals(b){return!!b&&F.equals(this.rgba,b.rgba)&&w.equals(this.hsla,b.hsla)&&x.equals(this.hsva,b.hsva)}getRelativeLuminance(){return a(.2126*C._relativeLuminanceForComponent(this.rgba.r)+.7152*C._relativeLuminanceForComponent(this.rgba.g)+.0722*C._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(b){const P=b/255;return P<=.03928?P/12.92:Math.pow((P+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(b){return this.getRelativeLuminance()>b.getRelativeLuminance()}isDarkerThan(b){return this.getRelativeLuminance()<b.getRelativeLuminance()}lighten(b){return new C(new w(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*b,this.hsla.a))}darken(b){return new C(new w(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*b,this.hsla.a))}transparent(b){const{r:P,g:D,b:v,a:_}=this.rgba;return new C(new F(P,D,v,_*b))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new C(new F(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(b){if(this.isOpaque()||1!==b.rgba.a)return this;const{r:P,g:D,b:v,a:_}=this.rgba;return new C(new F(b.rgba.r-_*(b.rgba.r-P),b.rgba.g-_*(b.rgba.g-D),b.rgba.b-_*(b.rgba.b-v),1))}toString(){return this._toString||(this._toString=C.Format.CSS.format(this)),this._toString}static getLighterColor(b,P,D){if(b.isLighterThan(P))return b;D=D||.5;const v=b.getRelativeLuminance(),_=P.getRelativeLuminance();return b.lighten(D=D*(_-v)/_)}static getDarkerColor(b,P,D){if(b.isDarkerThan(P))return b;D=D||.5;const v=b.getRelativeLuminance(),_=P.getRelativeLuminance();return b.darken(D=D*(v-_)/v)}}C.white=new C(new F(255,255,255,1)),C.black=new C(new F(0,0,0,1)),C.red=new C(new F(255,0,0,1)),C.blue=new C(new F(0,0,255,1)),C.green=new C(new F(0,255,0,1)),C.cyan=new C(new F(0,255,255,1)),C.lightgrey=new C(new F(211,211,211,1)),C.transparent=new C(new F(0,0,0,0)),function(S){let b;!function(P){let D;!function(v){function l(k){const O=k.toString(16);return 2!==O.length?"0"+O:O}function A(k){switch(k){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}v.formatRGB=function _(k){return 1===k.rgba.a?`rgb(${k.rgba.r}, ${k.rgba.g}, ${k.rgba.b})`:S.Format.CSS.formatRGBA(k)},v.formatRGBA=function f(k){return`rgba(${k.rgba.r}, ${k.rgba.g}, ${k.rgba.b}, ${+k.rgba.a.toFixed(2)})`},v.formatHSL=function d(k){return 1===k.hsla.a?`hsl(${k.hsla.h}, ${(100*k.hsla.s).toFixed(2)}%, ${(100*k.hsla.l).toFixed(2)}%)`:S.Format.CSS.formatHSLA(k)},v.formatHSLA=function r(k){return`hsla(${k.hsla.h}, ${(100*k.hsla.s).toFixed(2)}%, ${(100*k.hsla.l).toFixed(2)}%, ${k.hsla.a.toFixed(2)})`},v.formatHex=function g(k){return`#${l(k.rgba.r)}${l(k.rgba.g)}${l(k.rgba.b)}`},v.formatHexA=function p(k,O=!1){return O&&1===k.rgba.a?S.Format.CSS.formatHex(k):`#${l(k.rgba.r)}${l(k.rgba.g)}${l(k.rgba.b)}${l(Math.round(255*k.rgba.a))}`},v.format=function m(k){return k.isOpaque()?S.Format.CSS.formatHex(k):S.Format.CSS.formatRGBA(k)},v.parseHex=function T(k){const O=k.length;if(0===O||35!==k.charCodeAt(0))return null;if(7===O){const N=16*A(k.charCodeAt(1))+A(k.charCodeAt(2)),H=16*A(k.charCodeAt(3))+A(k.charCodeAt(4)),L=16*A(k.charCodeAt(5))+A(k.charCodeAt(6));return new S(new F(N,H,L,1))}if(9===O){const N=16*A(k.charCodeAt(1))+A(k.charCodeAt(2)),H=16*A(k.charCodeAt(3))+A(k.charCodeAt(4)),L=16*A(k.charCodeAt(5))+A(k.charCodeAt(6)),j=16*A(k.charCodeAt(7))+A(k.charCodeAt(8));return new S(new F(N,H,L,j/255))}if(4===O){const N=A(k.charCodeAt(1)),H=A(k.charCodeAt(2)),L=A(k.charCodeAt(3));return new S(new F(16*N+N,16*H+H,16*L+L))}if(5===O){const N=A(k.charCodeAt(1)),H=A(k.charCodeAt(2)),L=A(k.charCodeAt(3)),j=A(k.charCodeAt(4));return new S(new F(16*N+N,16*H+H,16*L+L,(16*j+j)/255))}return null}}(D=P.CSS||(P.CSS={}))}(b=S.Format||(S.Format={}))}(C||(C={}))},47412:(tt,xe,t)=>{t.d(xe,{VX:()=>S,Vq:()=>b,Y:()=>D,gf:()=>C,jt:()=>_});var a=t(10467),F=t(30833),w=t(28481),x=t(90316);function C(f){return{asString:(d=(0,a.A)(function*(){return f}),function(){return d.apply(this,arguments)}),asFile:()=>{},value:"string"==typeof f?f:void 0};var d}function S(f,d,r){const l={id:(0,x.b)(),name:f,uri:d,data:r};return{asString:(g=(0,a.A)(function*(){return""}),function(){return g.apply(this,arguments)}),asFile:()=>l,value:void 0};var g}class b{constructor(){this._entries=new Map}get size(){let d=0;for(const r of this._entries)d++;return d}has(d){return this._entries.has(this.toKey(d))}matches(d){const r=[...this._entries.keys()];return w.f.some(this,([l,g])=>g.asFile())&&r.push("files"),v(P(d),r)}get(d){var r;return null===(r=this._entries.get(this.toKey(d)))||void 0===r?void 0:r[0]}append(d,r){const l=this._entries.get(d);l?l.push(r):this._entries.set(this.toKey(d),[r])}replace(d,r){this._entries.set(this.toKey(d),[r])}delete(d){this._entries.delete(this.toKey(d))}*[Symbol.iterator](){for(const[d,r]of this._entries)for(const l of r)yield[d,l]}toKey(d){return P(d)}}function P(f){return f.toLowerCase()}function D(f,d){return v(P(f),d.map(P))}function v(f,d){if("*/*"===f)return d.length>0;if(d.includes(f))return!0;const r=f.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!r)return!1;const[l,g,p]=r;return"*"===p&&d.some(m=>m.startsWith(g+"/"))}const _=Object.freeze({create:f=>(0,F.dM)(f.map(d=>d.toString())).join("\r\n"),split:f=>f.split("\r\n"),parse:f=>_.split(f).filter(d=>!d.startsWith("#"))})},17353:(tt,xe,t)=>{function a(F,w,x){let C=null,S=null;if("function"==typeof x.value?(C="value",S=x.value,0!==S.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof x.get&&(C="get",S=x.get),!S)throw new Error("not supported");const b=`$memoize$${w}`;x[C]=function(...P){return this.hasOwnProperty(b)||Object.defineProperty(this,b,{configurable:!1,enumerable:!1,writable:!1,value:S.apply(this,P)}),this[b]}}t.d(xe,{B:()=>a})},33431:(tt,xe,t)=>{t.d(xe,{uP:()=>P,F1:()=>x});class a{constructor(v,_,f,d){this.originalStart=v,this.originalLength=_,this.modifiedStart=f,this.modifiedLength=d}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var F=t(55763);class w{constructor(v){this.source=v}getElements(){const v=this.source,_=new Int32Array(v.length);for(let f=0,d=v.length;f<d;f++)_[f]=v.charCodeAt(f);return _}}function x(D,v,_){return new P(new w(D),new w(v)).ComputeDiff(_).changes}class C{static Assert(v,_){if(!v)throw new Error(_)}}class S{static Copy(v,_,f,d,r){for(let l=0;l<r;l++)f[d+l]=v[_+l]}static Copy2(v,_,f,d,r){for(let l=0;l<r;l++)f[d+l]=v[_+l]}}class b{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new a(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(v,_){this.m_originalStart=Math.min(this.m_originalStart,v),this.m_modifiedStart=Math.min(this.m_modifiedStart,_),this.m_originalCount++}AddModifiedElement(v,_){this.m_originalStart=Math.min(this.m_originalStart,v),this.m_modifiedStart=Math.min(this.m_modifiedStart,_),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class P{constructor(v,_,f=null){this.ContinueProcessingPredicate=f,this._originalSequence=v,this._modifiedSequence=_;const[d,r,l]=P._getElements(v),[g,p,m]=P._getElements(_);this._hasStrings=l&&m,this._originalStringElements=d,this._originalElementsOrHash=r,this._modifiedStringElements=g,this._modifiedElementsOrHash=p,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(v){return v.length>0&&"string"==typeof v[0]}static _getElements(v){const _=v.getElements();if(P._isStringArray(_)){const f=new Int32Array(_.length);for(let d=0,r=_.length;d<r;d++)f[d]=(0,F.e2)(_[d],0);return[_,f,!0]}return _ instanceof Int32Array?[[],_,!1]:[[],new Int32Array(_),!1]}ElementsAreEqual(v,_){return this._originalElementsOrHash[v]===this._modifiedElementsOrHash[_]&&(!this._hasStrings||this._originalStringElements[v]===this._modifiedStringElements[_])}ElementsAreStrictEqual(v,_){return!!this.ElementsAreEqual(v,_)&&P._getStrictElement(this._originalSequence,v)===P._getStrictElement(this._modifiedSequence,_)}static _getStrictElement(v,_){return"function"==typeof v.getStrictElement?v.getStrictElement(_):null}OriginalElementsAreEqual(v,_){return this._originalElementsOrHash[v]===this._originalElementsOrHash[_]&&(!this._hasStrings||this._originalStringElements[v]===this._originalStringElements[_])}ModifiedElementsAreEqual(v,_){return this._modifiedElementsOrHash[v]===this._modifiedElementsOrHash[_]&&(!this._hasStrings||this._modifiedStringElements[v]===this._modifiedStringElements[_])}ComputeDiff(v){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,v)}_ComputeDiff(v,_,f,d,r){const l=[!1];let g=this.ComputeDiffRecursive(v,_,f,d,l);return r&&(g=this.PrettifyChanges(g)),{quitEarly:l[0],changes:g}}ComputeDiffRecursive(v,_,f,d,r){for(r[0]=!1;v<=_&&f<=d&&this.ElementsAreEqual(v,f);)v++,f++;for(;_>=v&&d>=f&&this.ElementsAreEqual(_,d);)_--,d--;if(v>_||f>d){let A;return f<=d?(C.Assert(v===_+1,"originalStart should only be one more than originalEnd"),A=[new a(v,0,f,d-f+1)]):v<=_?(C.Assert(f===d+1,"modifiedStart should only be one more than modifiedEnd"),A=[new a(v,_-v+1,f,0)]):(C.Assert(v===_+1,"originalStart should only be one more than originalEnd"),C.Assert(f===d+1,"modifiedStart should only be one more than modifiedEnd"),A=[]),A}const l=[0],g=[0],p=this.ComputeRecursionPoint(v,_,f,d,l,g,r),m=l[0],T=g[0];if(null!==p)return p;if(!r[0]){const A=this.ComputeDiffRecursive(v,m,f,T,r);let k=[];return k=r[0]?[new a(m+1,_-(m+1)+1,T+1,d-(T+1)+1)]:this.ComputeDiffRecursive(m+1,_,T+1,d,r),this.ConcatenateChanges(A,k)}return[new a(v,_-v+1,f,d-f+1)]}WALKTRACE(v,_,f,d,r,l,g,p,m,T,A,k,O,N,H,L,j,Z){let te=null,X=null,U=new b,q=_,R=f,W=O[0]-L[0]-d,Y=-1073741824,oe=this.m_forwardHistory.length-1;do{const z=W+v;z===q||z<R&&m[z-1]<m[z+1]?(N=(A=m[z+1])-W-d,A<Y&&U.MarkNextChange(),Y=A,U.AddModifiedElement(A+1,N),W=z+1-v):(N=(A=m[z-1]+1)-W-d,A<Y&&U.MarkNextChange(),Y=A-1,U.AddOriginalElement(A,N+1),W=z-1-v),oe>=0&&(v=(m=this.m_forwardHistory[oe])[0],q=1,R=m.length-1)}while(--oe>=-1);if(te=U.getReverseChanges(),Z[0]){let z=O[0]+1,G=L[0]+1;if(null!==te&&te.length>0){const Q=te[te.length-1];z=Math.max(z,Q.getOriginalEnd()),G=Math.max(G,Q.getModifiedEnd())}X=[new a(z,k-z+1,G,H-G+1)]}else{U=new b,q=l,R=g,W=O[0]-L[0]-p,Y=1073741824,oe=j?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const z=W+r;z===q||z<R&&T[z-1]>=T[z+1]?(N=(A=T[z+1]-1)-W-p,A>Y&&U.MarkNextChange(),Y=A+1,U.AddOriginalElement(A+1,N+1),W=z+1-r):(N=(A=T[z-1])-W-p,A>Y&&U.MarkNextChange(),Y=A,U.AddModifiedElement(A+1,N+1),W=z-1-r),oe>=0&&(r=(T=this.m_reverseHistory[oe])[0],q=1,R=T.length-1)}while(--oe>=-1);X=U.getChanges()}return this.ConcatenateChanges(te,X)}ComputeRecursionPoint(v,_,f,d,r,l,g){let p=0,m=0,T=0,A=0,k=0,O=0;v--,f--,r[0]=0,l[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const N=_-v+(d-f),H=N+1,L=new Int32Array(H),j=new Int32Array(H),Z=d-f,te=_-v,X=v-f,U=_-d,R=(te-Z)%2==0;L[Z]=v,j[te]=_,g[0]=!1;for(let W=1;W<=N/2+1;W++){let Y=0,oe=0;T=this.ClipDiagonalBound(Z-W,W,Z,H),A=this.ClipDiagonalBound(Z+W,W,Z,H);for(let G=T;G<=A;G+=2){p=G===T||G<A&&L[G-1]<L[G+1]?L[G+1]:L[G-1]+1,m=p-(G-Z)-X;const Q=p;for(;p<_&&m<d&&this.ElementsAreEqual(p+1,m+1);)p++,m++;if(L[G]=p,p+m>Y+oe&&(Y=p,oe=m),!R&&Math.abs(G-te)<=W-1&&p>=j[G])return r[0]=p,l[0]=m,Q<=j[G]&&W<=1448?this.WALKTRACE(Z,T,A,X,te,k,O,U,L,j,p,_,r,m,d,l,R,g):null}const z=(Y-v+(oe-f)-W)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(Y,z))return g[0]=!0,r[0]=Y,l[0]=oe,z>0&&W<=1448?this.WALKTRACE(Z,T,A,X,te,k,O,U,L,j,p,_,r,m,d,l,R,g):(v++,f++,[new a(v,_-v+1,f,d-f+1)]);k=this.ClipDiagonalBound(te-W,W,te,H),O=this.ClipDiagonalBound(te+W,W,te,H);for(let G=k;G<=O;G+=2){p=G===k||G<O&&j[G-1]>=j[G+1]?j[G+1]-1:j[G-1],m=p-(G-te)-U;const Q=p;for(;p>v&&m>f&&this.ElementsAreEqual(p,m);)p--,m--;if(j[G]=p,R&&Math.abs(G-Z)<=W&&p<=L[G])return r[0]=p,l[0]=m,Q>=L[G]&&W<=1448?this.WALKTRACE(Z,T,A,X,te,k,O,U,L,j,p,_,r,m,d,l,R,g):null}if(W<=1447){let G=new Int32Array(A-T+2);G[0]=Z-T+1,S.Copy2(L,T,G,1,A-T+1),this.m_forwardHistory.push(G),G=new Int32Array(O-k+2),G[0]=te-k+1,S.Copy2(j,k,G,1,O-k+1),this.m_reverseHistory.push(G)}}return this.WALKTRACE(Z,T,A,X,te,k,O,U,L,j,p,_,r,m,d,l,R,g)}PrettifyChanges(v){for(let _=0;_<v.length;_++){const f=v[_],d=_<v.length-1?v[_+1].originalStart:this._originalElementsOrHash.length,r=_<v.length-1?v[_+1].modifiedStart:this._modifiedElementsOrHash.length,l=f.originalLength>0,g=f.modifiedLength>0;for(;f.originalStart+f.originalLength<d&&f.modifiedStart+f.modifiedLength<r&&(!l||this.OriginalElementsAreEqual(f.originalStart,f.originalStart+f.originalLength))&&(!g||this.ModifiedElementsAreEqual(f.modifiedStart,f.modifiedStart+f.modifiedLength));){const m=this.ElementsAreStrictEqual(f.originalStart,f.modifiedStart);if(this.ElementsAreStrictEqual(f.originalStart+f.originalLength,f.modifiedStart+f.modifiedLength)&&!m)break;f.originalStart++,f.modifiedStart++}const p=[null];_<v.length-1&&this.ChangesOverlap(v[_],v[_+1],p)&&(v[_]=p[0],v.splice(_+1,1),_--)}for(let _=v.length-1;_>=0;_--){const f=v[_];let d=0,r=0;if(_>0){const A=v[_-1];d=A.originalStart+A.originalLength,r=A.modifiedStart+A.modifiedLength}const l=f.originalLength>0,g=f.modifiedLength>0;let p=0,m=this._boundaryScore(f.originalStart,f.originalLength,f.modifiedStart,f.modifiedLength);for(let A=1;;A++){const k=f.originalStart-A,O=f.modifiedStart-A;if(k<d||O<r||l&&!this.OriginalElementsAreEqual(k,k+f.originalLength)||g&&!this.ModifiedElementsAreEqual(O,O+f.modifiedLength))break;const H=(k===d&&O===r?5:0)+this._boundaryScore(k,f.originalLength,O,f.modifiedLength);H>m&&(m=H,p=A)}f.originalStart-=p,f.modifiedStart-=p;const T=[null];_>0&&this.ChangesOverlap(v[_-1],v[_],T)&&(v[_-1]=T[0],v.splice(_,1),_++)}if(this._hasStrings)for(let _=1,f=v.length;_<f;_++){const d=v[_-1],r=v[_],l=r.originalStart-d.originalStart-d.originalLength,g=d.originalStart,p=r.originalStart+r.originalLength,m=p-g,T=d.modifiedStart,A=r.modifiedStart+r.modifiedLength,k=A-T;if(l<5&&m<20&&k<20){const O=this._findBetterContiguousSequence(g,m,T,k,l);if(O){const[N,H]=O;(N!==d.originalStart+d.originalLength||H!==d.modifiedStart+d.modifiedLength)&&(d.originalLength=N-d.originalStart,d.modifiedLength=H-d.modifiedStart,r.originalStart=N+l,r.modifiedStart=H+l,r.originalLength=p-r.originalStart,r.modifiedLength=A-r.modifiedStart)}}}return v}_findBetterContiguousSequence(v,_,f,d,r){if(_<r||d<r)return null;const l=v+_-r+1,g=f+d-r+1;let p=0,m=0,T=0;for(let A=v;A<l;A++)for(let k=f;k<g;k++){const O=this._contiguousSequenceScore(A,k,r);O>0&&O>p&&(p=O,m=A,T=k)}return p>0?[m,T]:null}_contiguousSequenceScore(v,_,f){let d=0;for(let r=0;r<f;r++){if(!this.ElementsAreEqual(v+r,_+r))return 0;d+=this._originalStringElements[v+r].length}return d}_OriginalIsBoundary(v){return v<=0||v>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[v])}_OriginalRegionIsBoundary(v,_){if(this._OriginalIsBoundary(v)||this._OriginalIsBoundary(v-1))return!0;if(_>0){const f=v+_;if(this._OriginalIsBoundary(f-1)||this._OriginalIsBoundary(f))return!0}return!1}_ModifiedIsBoundary(v){return v<=0||v>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[v])}_ModifiedRegionIsBoundary(v,_){if(this._ModifiedIsBoundary(v)||this._ModifiedIsBoundary(v-1))return!0;if(_>0){const f=v+_;if(this._ModifiedIsBoundary(f-1)||this._ModifiedIsBoundary(f))return!0}return!1}_boundaryScore(v,_,f,d){return(this._OriginalRegionIsBoundary(v,_)?1:0)+(this._ModifiedRegionIsBoundary(f,d)?1:0)}ConcatenateChanges(v,_){const f=[];if(0===v.length||0===_.length)return _.length>0?_:v;if(this.ChangesOverlap(v[v.length-1],_[0],f)){const d=new Array(v.length+_.length-1);return S.Copy(v,0,d,0,v.length-1),d[v.length-1]=f[0],S.Copy(_,1,d,v.length,_.length-1),d}{const d=new Array(v.length+_.length);return S.Copy(v,0,d,0,v.length),S.Copy(_,0,d,v.length,_.length),d}}ChangesOverlap(v,_,f){if(C.Assert(v.originalStart<=_.originalStart,"Left change is not less than or equal to right change"),C.Assert(v.modifiedStart<=_.modifiedStart,"Left change is not less than or equal to right change"),v.originalStart+v.originalLength>=_.originalStart||v.modifiedStart+v.modifiedLength>=_.modifiedStart){let r=v.originalLength,g=v.modifiedLength;return v.originalStart+v.originalLength>=_.originalStart&&(r=_.originalStart+_.originalLength-v.originalStart),v.modifiedStart+v.modifiedLength>=_.modifiedStart&&(g=_.modifiedStart+_.modifiedLength-v.modifiedStart),f[0]=new a(v.originalStart,r,v.modifiedStart,g),!0}return f[0]=null,!1}ClipDiagonalBound(v,_,f,d){if(v>=0&&v<d)return v;const g=_%2==0;return v<0?g===(f%2==0)?0:1:g===((d-f-1)%2==0)?d-1:d-2}}},58958:(tt,xe,t)=>{t.d(xe,{KC:()=>C,S3:()=>w,nx:()=>F,r:()=>x});var a=t(30833);const F=(b,P)=>b===P;function w(b=F){return(P,D)=>a.aI(P,D,b)}function x(){return(b,P)=>b.equals(P)}function C(b,P,D){return b&&P?D(b,P):b===P}},66010:(tt,xe,t)=>{t.d(xe,{r:()=>b});var a=t(30833),F=t(66702),w=t(81644);function x(P,D){return D&&(P.stack||P.stacktrace)?w.kg("stackTrace.format","{0}: {1}",S(P),C(P.stack)||C(P.stacktrace)):S(P)}function C(P){return Array.isArray(P)?P.join("\n"):P}function S(P){return"ERR_UNC_HOST_NOT_ALLOWED"===P.code?`${P.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:"string"==typeof P.code&&"number"==typeof P.errno&&"string"==typeof P.syscall?w.kg("nodeExceptionMessage","A system error occurred ({0})",P.message):P.message||w.kg("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function b(P=null,D=!1){if(!P)return w.kg("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(P)){const v=a.Yc(P),_=b(v[0],D);return v.length>1?w.kg("error.moreErrors","{0} ({1} errors in total)",_,v.length):_}if(F.Kg(P))return P;if(P.detail){const v=P.detail;if(v.error)return x(v.error,D);if(v.exception)return x(v.exception,D)}return P.stack?x(P,D):P.message?P.message:w.kg("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}},25680:(tt,xe,t)=>{t.d(xe,{AL:()=>P,D7:()=>r,EM:()=>f,MB:()=>b,M_:()=>x,Qg:()=>v,aD:()=>D,cU:()=>C,dz:()=>w,iH:()=>_});const F=new class a{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(g){setTimeout(()=>{throw g.stack?d.isErrorNoTelemetry(g)?new d(g.message+"\n\n"+g.stack):new Error(g.message+"\n\n"+g.stack):g},0)}}emit(g){this.listeners.forEach(p=>{p(g)})}onUnexpectedError(g){this.unexpectedErrorHandler(g),this.emit(g)}onUnexpectedExternalError(g){this.unexpectedErrorHandler(g)}};function w(l){b(l)||F.onUnexpectedError(l)}function x(l){b(l)||F.onUnexpectedExternalError(l)}function C(l){if(l instanceof Error){const{name:g,message:p}=l;return{$isError:!0,name:g,message:p,stack:l.stacktrace||l.stack,noTelemetry:d.isErrorNoTelemetry(l)}}return l}const S="Canceled";function b(l){return l instanceof P||l instanceof Error&&l.name===S&&l.message===S}class P extends Error{constructor(){super(S),this.name=this.message}}function D(){const l=new Error(S);return l.name=l.message,l}function v(l){return l?new Error(`Illegal argument: ${l}`):new Error("Illegal argument")}function _(l){return l?new Error(`Illegal state: ${l}`):new Error("Illegal state")}class f extends Error{constructor(g){super("NotSupported"),g&&(this.message=g)}}class d extends Error{constructor(g){super(g),this.name="CodeExpectedError"}static fromError(g){if(g instanceof d)return g;const p=new d;return p.message=g.message,p.stack=g.stack,p}static isErrorNoTelemetry(g){return"CodeExpectedError"===g.name}}class r extends Error{constructor(g){super(g||"An unexpected bug occurred."),Object.setPrototypeOf(this,r.prototype)}}},5643:(tt,xe,t)=>{t.d(xe,{Jh:()=>D,QT:()=>L,Qy:()=>k,Wj:()=>te,_B:()=>j,at:()=>Z,fV:()=>N,uI:()=>H,vl:()=>A});var D,a=t(25680),F=t(15018),w=t(99031),x=t(18002),C=t(42588);!function(X){function R(it){return(He,me=null,le)=>{let be,Ee=!1;return be=it(Ce=>{if(!Ee)return be?be.dispose():Ee=!0,He.call(me,Ce)},null,le),Ee&&be.dispose(),be}}function W(it,He,me){return K((le,Ee=null,be)=>it(Ce=>le.call(Ee,He(Ce)),null,be),me)}function oe(it,He,me){return K((le,Ee=null,be)=>it(Ce=>He(Ce)&&le.call(Ee,Ce),null,be),me)}function K(it,He){let me;const Ee=new A({onWillAddFirstListener(){me=it(Ee.fire,Ee)},onDidRemoveLastListener(){me?.dispose()}});return He?.add(Ee),Ee.event}function ae(it,He,me=100,le=!1,Ee=!1,be,Ce){let Ne,Fe,qe,vt,dt=0;const on=new A({leakWarningThreshold:be,onWillAddFirstListener(){Ne=it(ht=>{dt++,Fe=He(Fe,ht),le&&!qe&&(on.fire(Fe),Fe=void 0),vt=()=>{const Je=Fe;Fe=void 0,qe=void 0,(!le||dt>1)&&on.fire(Je),dt=0},"number"==typeof me?(clearTimeout(qe),qe=setTimeout(vt,me)):void 0===qe&&(qe=0,queueMicrotask(vt))})},onWillRemoveListener(){Ee&&dt>0&&vt?.()},onDidRemoveLastListener(){vt=void 0,Ne.dispose()}});return Ce?.add(on),on.event}X.None=()=>w.jG.None,X.defer=function q(it,He){return ae(it,()=>{},0,void 0,!0,void 0,He)},X.once=R,X.map=W,X.forEach=function Y(it,He,me){return K((le,Ee=null,be)=>it(Ce=>{He(Ce),le.call(Ee,Ce)},null,be),me)},X.filter=oe,X.signal=function z(it){return it},X.any=function G(...it){return(He,me=null,le)=>function ie(it,He){return He instanceof Array?He.push(it):He&&He.add(it),it}((0,w.qE)(...it.map(be=>be(Ce=>He.call(me,Ce)))),le)},X.reduce=function Q(it,He,me,le){let Ee=me;return W(it,be=>(Ee=He(Ee,be),Ee),le)},X.debounce=ae,X.accumulate=function de(it,He=0,me){return X.debounce(it,(le,Ee)=>le?(le.push(Ee),le):[Ee],He,void 0,!0,void 0,me)},X.latch=function se(it,He=((le,Ee)=>le===Ee),me){let Ee,le=!0;return oe(it,be=>{const Ce=le||!He(be,Ee);return le=!1,Ee=be,Ce},me)},X.split=function ge(it,He,me){return[X.filter(it,He,me),X.filter(it,le=>!He(le),me)]},X.buffer=function _e(it,He=!1,me=[],le){let Ee=me.slice(),be=it(Fe=>{Ee?Ee.push(Fe):Ne.fire(Fe)});le&&le.add(be);const Ce=()=>{Ee?.forEach(Fe=>Ne.fire(Fe)),Ee=null},Ne=new A({onWillAddFirstListener(){be||(be=it(Fe=>Ne.fire(Fe)),le&&le.add(be))},onDidAddFirstListener(){Ee&&(He?setTimeout(Ce):Ce())},onDidRemoveLastListener(){be&&be.dispose(),be=null}});return le&&le.add(Ne),Ne.event},X.chain=function ye(it,He){return(le,Ee,be)=>{const Ce=He(new ce);return it(function(Ne){const Fe=Ce.evaluate(Ne);Fe!==M&&le.call(Ee,Fe)},void 0,be)}};const M=Symbol("HaltChainable");class ce{constructor(){this.steps=[]}map(He){return this.steps.push(He),this}forEach(He){return this.steps.push(me=>(He(me),me)),this}filter(He){return this.steps.push(me=>He(me)?me:M),this}reduce(He,me){let le=me;return this.steps.push(Ee=>(le=He(le,Ee),le)),this}latch(He=((me,le)=>me===le)){let le,me=!0;return this.steps.push(Ee=>{const be=me||!He(Ee,le);return me=!1,le=Ee,be?Ee:M}),this}evaluate(He){for(const me of this.steps)if((He=me(He))===M)break;return He}}X.fromNodeEventEmitter=function Se(it,He,me=(le=>le)){const le=(...Ne)=>Ce.fire(me(...Ne)),Ce=new A({onWillAddFirstListener:()=>it.on(He,le),onDidRemoveLastListener:()=>it.removeListener(He,le)});return Ce.event},X.fromDOMEventEmitter=function Ie(it,He,me=(le=>le)){const le=(...Ne)=>Ce.fire(me(...Ne)),Ce=new A({onWillAddFirstListener:()=>it.addEventListener(He,le),onDidRemoveLastListener:()=>it.removeEventListener(He,le)});return Ce.event},X.toPromise=function ne(it){return new Promise(He=>R(it)(He))},X.fromPromise=function ue(it){const He=new A;return it.then(me=>{He.fire(me)},()=>{He.fire(void 0)}).finally(()=>{He.dispose()}),He.event},X.runAndSubscribe=function we(it,He,me){return He(me),it(le=>He(le))};class Me{constructor(He,me){this._observable=He,this._counter=0,this._hasChanged=!1;this.emitter=new A({onWillAddFirstListener:()=>{He.addObserver(this)},onDidRemoveLastListener:()=>{He.removeObserver(this)}}),me&&me.add(this.emitter)}beginUpdate(He){this._counter++}handlePossibleChange(He){}handleChange(He,me){this._hasChanged=!0}endUpdate(He){this._counter--,0===this._counter&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}X.fromObservable=function Ve(it,He){return new Me(it,He).emitter.event},X.fromObservableLight=function $e(it){return(He,me,le)=>{let Ee=0,be=!1;const Ce={beginUpdate(){Ee++},endUpdate(){Ee--,0===Ee&&(it.reportChanges(),be&&(be=!1,He.call(me)))},handlePossibleChange(){},handleChange(){be=!0}};it.addObserver(Ce),it.reportChanges();const Ne={dispose(){it.removeObserver(Ce)}};return le instanceof w.Cm?le.add(Ne):Array.isArray(le)&&le.push(Ne),Ne}}}(D||(D={}));class v{constructor(U){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${U}_${v._idPool++}`,v.all.add(this)}start(U){this._stopWatch=new C.W,this.listenerCount=U}stop(){if(this._stopWatch){const U=this._stopWatch.elapsed();this.durations.push(U),this.elapsedOverall+=U,this.invocationCount+=1,this._stopWatch=void 0}}}v.all=new Set,v._idPool=0;class f{constructor(U,q,R=Math.random().toString(18).slice(2,5)){this._errorHandler=U,this.threshold=q,this.name=R,this._warnCountdown=0}dispose(){var U;null===(U=this._stacks)||void 0===U||U.clear()}check(U,q){const R=this.threshold;if(R<=0||q<R)return;this._stacks||(this._stacks=new Map);const W=this._stacks.get(U.value)||0;if(this._stacks.set(U.value,W+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=.5*R;const[Y,oe]=this.getMostFrequentStack(),z=`[${this.name}] potential listener LEAK detected, having ${q} listeners already. MOST frequent listener (${oe}):`;console.warn(z),console.warn(Y);const G=new r(z,Y);this._errorHandler(G)}return()=>{const Y=this._stacks.get(U.value)||0;this._stacks.set(U.value,Y-1)}}getMostFrequentStack(){if(!this._stacks)return;let U,q=0;for(const[R,W]of this._stacks)(!U||q<W)&&(U=[R,W],q=W);return U}}class d{static create(){var U;const q=new Error;return new d(null!==(U=q.stack)&&void 0!==U?U:"")}constructor(U){this.value=U}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class r extends Error{constructor(U,q){super(U),this.name="ListenerLeakError",this.stack=q}}class l extends Error{constructor(U,q){super(U),this.name="ListenerRefusalError",this.stack=q}}class g{constructor(U){this.value=U}}const T=void 0;class A{constructor(U){var q,R,W,Y,oe,z;this._size=0,this._options=U,this._leakageMon=null!==(q=this._options)&&void 0!==q&&q.leakWarningThreshold?new f(null!==(R=U?.onListenerError)&&void 0!==R?R:a.dz,null!==(Y=null===(W=this._options)||void 0===W?void 0:W.leakWarningThreshold)&&void 0!==Y?Y:-1):void 0,this._perfMon=null!==(oe=this._options)&&void 0!==oe&&oe._profName?new v(this._options._profName):void 0,this._deliveryQueue=null===(z=this._options)||void 0===z?void 0:z.deliveryQueue}dispose(){var U,q,R,W;this._disposed||(this._disposed=!0,(null===(U=this._deliveryQueue)||void 0===U?void 0:U.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),null===(R=null===(q=this._options)||void 0===q?void 0:q.onDidRemoveLastListener)||void 0===R||R.call(q),null===(W=this._leakageMon)||void 0===W||W.dispose())}get event(){var U;return null!==(U=this._event)&&void 0!==U||(this._event=(q,R,W)=>{var Y,oe,z,G,Q,K,ie;if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const _e=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(_e);const ye=null!==(Y=this._leakageMon.getMostFrequentStack())&&void 0!==Y?Y:["UNKNOWN stack",-1],M=new l(`${_e}. HINT: Stack shows most frequent listener (${ye[1]}-times)`,ye[0]);return((null===(oe=this._options)||void 0===oe?void 0:oe.onListenerError)||a.dz)(M),w.jG.None}if(this._disposed)return w.jG.None;R&&(q=q.bind(R));const ae=new g(q);let de;this._leakageMon&&this._size>=Math.ceil(.2*this._leakageMon.threshold)&&(ae.stack=d.create(),de=this._leakageMon.check(ae.stack,this._size+1)),this._listeners?this._listeners instanceof g?(null!==(ie=this._deliveryQueue)&&void 0!==ie||(this._deliveryQueue=new O),this._listeners=[this._listeners,ae]):this._listeners.push(ae):(null===(G=null===(z=this._options)||void 0===z?void 0:z.onWillAddFirstListener)||void 0===G||G.call(z,this),this._listeners=ae,null===(K=null===(Q=this._options)||void 0===Q?void 0:Q.onDidAddFirstListener)||void 0===K||K.call(Q,this)),this._size++;const ge=(0,w.s)(()=>{T?.unregister(ge),de?.(),this._removeListener(ae)});return W instanceof w.Cm?W.add(ge):Array.isArray(W)&&W.push(ge),ge}),this._event}_removeListener(U){var q,R,W,Y;if(null===(R=null===(q=this._options)||void 0===q?void 0:q.onWillRemoveListener)||void 0===R||R.call(q,this),!this._listeners)return;if(1===this._size)return this._listeners=void 0,null===(Y=null===(W=this._options)||void 0===W?void 0:W.onDidRemoveLastListener)||void 0===Y||Y.call(W,this),void(this._size=0);const oe=this._listeners,z=oe.indexOf(U);if(-1===z)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,oe[z]=void 0;const G=this._deliveryQueue.current===this;if(2*this._size<=oe.length){let Q=0;for(let K=0;K<oe.length;K++)oe[K]?oe[Q++]=oe[K]:G&&(this._deliveryQueue.end--,Q<this._deliveryQueue.i&&this._deliveryQueue.i--);oe.length=Q}}_deliver(U,q){var R;if(!U)return;const W=(null===(R=this._options)||void 0===R?void 0:R.onListenerError)||a.dz;if(W)try{U.value(q)}catch(Y){W(Y)}else U.value(q)}_deliverQueue(U){const q=U.current._listeners;for(;U.i<U.end;)this._deliver(q[U.i++],U.value);U.reset()}fire(U){var q,R,W,Y;if(!(null===(q=this._deliveryQueue)||void 0===q)&&q.current&&(this._deliverQueue(this._deliveryQueue),null===(R=this._perfMon)||void 0===R||R.stop()),null===(W=this._perfMon)||void 0===W||W.start(this._size),this._listeners)if(this._listeners instanceof g)this._deliver(this._listeners,U);else{const oe=this._deliveryQueue;oe.enqueue(this,U,this._listeners.length),this._deliverQueue(oe)}null===(Y=this._perfMon)||void 0===Y||Y.stop()}hasListeners(){return this._size>0}}const k=()=>new O;class O{constructor(){this.i=-1,this.end=0}enqueue(U,q,R){this.i=0,this.end=R,this.current=U,this.value=q}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class N extends A{constructor(U){super(U),this._isPaused=0,this._eventQueue=new x.w,this._mergeFn=U?.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){if(this._eventQueue.size>0){const U=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(U))}}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(U){this._size&&(0!==this._isPaused?this._eventQueue.push(U):super.fire(U))}}class H extends N{constructor(U){var q;super(U),this._delay=null!==(q=U.delay)&&void 0!==q?q:100}fire(U){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(U)}}class L extends A{constructor(U){super(U),this._queuedEvents=[],this._mergeFn=U?.merge}fire(U){this.hasListeners()&&(this._queuedEvents.push(U),1===this._queuedEvents.length&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(q=>super.fire(q)),this._queuedEvents=[]}))}}class j{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new A({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(U){const q={event:U,listener:null};return this.events.push(q),this.hasListeners&&this.hook(q),(0,w.s)((0,F.P)(()=>{this.hasListeners&&this.unhook(q);const W=this.events.indexOf(q);this.events.splice(W,1)}))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(U=>this.hook(U))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(U=>this.unhook(U))}hook(U){U.listener=U.event(q=>this.emitter.fire(q))}unhook(U){var q;null===(q=U.listener)||void 0===q||q.dispose(),U.listener=null}dispose(){var U;this.emitter.dispose();for(const q of this.events)null===(U=q.listener)||void 0===U||U.dispose();this.events=[]}}class Z{constructor(){this.data=[]}wrapEvent(U,q,R){return(W,Y,oe)=>U(z=>{var G;const Q=this.data[this.data.length-1];if(!q)return void(Q?Q.buffers.push(()=>W.call(Y,z)):W.call(Y,z));const K=Q;K?(null!==(G=K.items)&&void 0!==G||(K.items=[]),K.items.push(z),0===K.buffers.length&&Q.buffers.push(()=>{var ie;null!==(ie=K.reducedResult)&&void 0!==ie||(K.reducedResult=R?K.items.reduce(q,R):K.items.reduce(q)),W.call(Y,K.reducedResult)})):W.call(Y,q(R,z))},void 0,oe)}bufferEvents(U){const q={buffers:new Array};this.data.push(q);const R=U();return this.data.pop(),q.buffers.forEach(W=>W()),R}}class te{constructor(){this.listening=!1,this.inputEvent=D.None,this.inputEventListener=w.jG.None,this.emitter=new A({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(U){this.inputEvent=U,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=U(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},49007:(tt,xe,t)=>{t.d(xe,{No:()=>v,TH:()=>C,Zn:()=>b,_1:()=>P,kb:()=>S});var a=t(68200),F=t(21828),w=t(6653);function x(_){return 47===_||92===_}function C(_){return _.replace(/[\\/]/g,a.SA.sep)}function S(_){return-1===_.indexOf("/")&&(_=C(_)),/^[a-zA-Z]:(\/|$)/.test(_)&&(_="/"+_),_}function b(_,f=a.SA.sep){if(!_)return"";const d=_.length,r=_.charCodeAt(0);if(x(r)){if(x(_.charCodeAt(1))&&!x(_.charCodeAt(2))){let g=3;const p=g;for(;g<d&&!x(_.charCodeAt(g));g++);if(p!==g&&!x(_.charCodeAt(g+1)))for(g+=1;g<d;g++)if(x(_.charCodeAt(g)))return _.slice(0,g+1).replace(/[\\/]/g,f)}return f}if(D(r)&&58===_.charCodeAt(1))return x(_.charCodeAt(2))?_.slice(0,2)+f:_.slice(0,2);let l=_.indexOf("://");if(-1!==l)for(l+=3;l<d;l++)if(x(_.charCodeAt(l)))return _.slice(0,l+1);return""}function P(_,f,d,r=a.Vn){if(_===f)return!0;if(!_||!f||f.length>_.length)return!1;if(d){if(!(0,w.ns)(_,f))return!1;if(f.length===_.length)return!0;let g=f.length;return f.charAt(f.length-1)===r&&g--,_.charAt(g)===r}return f.charAt(f.length-1)!==r&&(f+=r),0===_.indexOf(f)}function D(_){return _>=65&&_<=90||_>=97&&_<=122}function v(_,f=F.uF){return!!f&&D(_.charCodeAt(0))&&58===_.charCodeAt(1)}},28467:(tt,xe,t)=>{t.d(xe,{ne:()=>Ce,Nd:()=>Ne,Jo:()=>ye,WJ:()=>M,dt:()=>Fe,uU:()=>vt,Tt:()=>p,yr:()=>ge,O:()=>_e,WP:()=>l,dE:()=>m,J1:()=>Q,or:()=>d});var a=t(20053);let w=0;const x=new Uint32Array(10);function S(ht,Je,ot){ht>=ot&&ht<ot+Je.length&&function b(ht){0!==ht&&(x[w++]=255&ht,ht>>8&&(x[w++]=ht>>8&255),ht>>16&&(x[w++]=ht>>16&255))}(Je[ht-ot])}const P=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),D=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),v=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),_=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);var f=t(6653);function d(...ht){return function(Je,ot){for(let De=0,Qe=ht.length;De<Qe;De++){const mt=ht[De](Je,ot);if(mt)return mt}return null}}g.bind(void 0,!1);const l=g.bind(void 0,!0);function g(ht,Je,ot){if(!ot||ot.length<Je.length)return null;let De;return De=ht?f.ns(ot,Je):0===ot.indexOf(Je),De?Je.length>0?[{start:0,end:Je.length}]:[]:null}function p(ht,Je){const ot=Je.toLowerCase().indexOf(ht.toLowerCase());return-1===ot?null:[{start:ot,end:ot+ht.length}]}function m(ht,Je){return T(ht.toLowerCase(),Je.toLowerCase(),0,0)}function T(ht,Je,ot,De){if(ot===ht.length)return[];if(De===Je.length)return null;if(ht[ot]===Je[De]){let Qe=null;return(Qe=T(ht,Je,ot+1,De+1))?U({start:De,end:De+1},Qe):null}return T(ht,Je,ot,De+1)}function A(ht){return 97<=ht&&ht<=122}function k(ht){return 65<=ht&&ht<=90}function O(ht){return 48<=ht&&ht<=57}function N(ht){return 32===ht||9===ht||10===ht||13===ht}const H=new Set;function L(ht){return N(ht)||H.has(ht)}function j(ht,Je){return ht===Je||L(ht)&&L(Je)}"()[]{}<>`'\"-/;:,.?!".split("").forEach(ht=>H.add(ht.charCodeAt(0)));const Z=new Map;function te(ht){if(Z.has(ht))return Z.get(ht);let Je;const ot=function F(ht){const Je=function C(ht){if(w=0,S(ht,P,4352),w>0||(S(ht,D,4449),w>0)||(S(ht,v,4520),w>0)||(S(ht,_,12593),w))return x.subarray(0,w);if(ht>=44032&&ht<=55203){const Je=ht-44032,ot=Je%588,De=Math.floor(Je/588),Qe=Math.floor(ot/28),mt=ot%28-1;if(De<P.length?S(De,P,0):4352+De-12593<_.length&&S(4352+De,_,12593),Qe<D.length?S(Qe,D,0):4449+Qe-12593<_.length&&S(4449+Qe-12593,_,12593),mt>=0&&(mt<v.length?S(mt,v,0):4520+mt-12593<_.length&&S(4520+mt-12593,_,12593)),w>0)return x.subarray(0,w)}}(ht);if(Je&&Je.length>0)return new Uint32Array(Je)}(ht);return ot&&(Je=ot),Z.set(ht,Je),Je}function X(ht){return A(ht)||k(ht)||O(ht)}function U(ht,Je){return 0===Je.length?Je=[ht]:ht.end===Je[0].start?Je[0].start=ht.start:Je.unshift(ht),Je}function q(ht,Je){for(let ot=Je;ot<ht.length;ot++){const De=ht.charCodeAt(ot);if(k(De)||O(De)||ot>0&&!X(ht.charCodeAt(ot-1)))return ot}return ht.length}function R(ht,Je,ot,De){if(ot===ht.length)return[];if(De===Je.length)return null;if(ht[ot]!==Je[De].toLowerCase())return null;{let Qe=null,mt=De+1;for(Qe=R(ht,Je,ot+1,De+1);!Qe&&(mt=q(Je,mt))<Je.length;)Qe=R(ht,Je,ot+1,mt),mt++;return null===Qe?null:U({start:De,end:De+1},Qe)}}function G(ht,Je){if(!Je||0===(Je=Je.trim()).length||!function z(ht){let Je=0,ot=0,De=0,Qe=0;for(let mt=0;mt<ht.length;mt++)De=ht.charCodeAt(mt),k(De)&&Je++,A(De)&&ot++,N(De)&&Qe++;return 0!==Je&&0!==ot||0!==Qe?Je<=5:ht.length<=30}(ht))return null;Je.length>60&&(Je=Je.substring(0,60));const ot=function W(ht){let Je=0,ot=0,De=0,Qe=0,mt=0;for(let rt=0;rt<ht.length;rt++)mt=ht.charCodeAt(rt),k(mt)&&Je++,A(mt)&&ot++,X(mt)&&De++,O(mt)&&Qe++;return{upperPercent:Je/ht.length,lowerPercent:ot/ht.length,alphaPercent:De/ht.length,numericPercent:Qe/ht.length}}(Je);if(!function oe(ht){const{upperPercent:Je,lowerPercent:ot,alphaPercent:De,numericPercent:Qe}=ht;return ot>.2&&Je<.8&&De>.6&&Qe<.2}(ot)){if(!function Y(ht){const{upperPercent:Je,lowerPercent:ot}=ht;return 0===ot&&Je>.6}(ot))return null;Je=Je.toLowerCase()}let De=null,Qe=0;for(ht=ht.toLowerCase();Qe<Je.length&&null===(De=R(ht,Je,0,Qe));)Qe=q(Je,Qe+1);return De}function Q(ht,Je,ot=!1){if(!Je||0===Je.length)return null;let De=null,Qe=0;for(ht=ht.toLowerCase(),Je=Je.toLowerCase();Qe<Je.length&&(De=K(ht,Je,0,Qe,ot),null===De);)Qe=ie(Je,Qe+1);return De}function K(ht,Je,ot,De,Qe){let mt=0;if(ot===ht.length)return[];if(De===Je.length)return null;if(!j(ht.charCodeAt(ot),Je.charCodeAt(De))){const Ft=te(ht.charCodeAt(ot));if(!Ft)return null;for(let Bt=0;Bt<Ft.length;Bt++)if(!j(Ft[Bt],Je.charCodeAt(De+Bt)))return null;mt+=Ft.length-1}let kt=null,Ht=De+mt+1;if(kt=K(ht,Je,ot+1,Ht,Qe),!Qe)for(;!kt&&(Ht=ie(Je,Ht))<Je.length;)kt=K(ht,Je,ot+1,Ht,Qe),Ht++;if(!kt)return null;if(ht.charCodeAt(ot)!==Je.charCodeAt(De)){const Ft=te(ht.charCodeAt(ot));if(!Ft)return kt;for(let Bt=0;Bt<Ft.length;Bt++)if(Ft[Bt]!==Je.charCodeAt(De+Bt))return kt}return U({start:De,end:De+mt+1},kt)}function ie(ht,Je){for(let ot=Je;ot<ht.length;ot++)if(L(ht.charCodeAt(ot))||ot>0&&L(ht.charCodeAt(ot-1)))return ot;return ht.length}const ae=d(l,G,p),de=d(l,G,m),se=new a.qK(1e4);function ge(ht,Je,ot=!1){if("string"!=typeof ht||"string"!=typeof Je)return null;let De=se.get(ht);De||(De=new RegExp(f.Bm(ht),"i"),se.set(ht,De));const Qe=De.exec(Je);return Qe?[{start:Qe.index,end:Qe.index+Qe[0].length}]:ot?de(ht,Je):ae(ht,Je)}function _e(ht,Je){const ot=Fe(ht,ht.toLowerCase(),0,Je,Je.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return ot?M(ot):null}function ye(ht,Je,ot,De,Qe,mt){const kt=Math.min(13,ht.length);for(;ot<kt;ot++){const Ht=Fe(ht,Je,ot,De,Qe,mt,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(Ht)return Ht}return[0,mt]}function M(ht){if(typeof ht>"u")return[];const Je=[],ot=ht[1];for(let De=ht.length-1;De>1;De--){const Qe=ht[De]+ot,mt=Je[Je.length-1];mt&&mt.end===Qe?mt.end=Qe+1:Je.push({start:Qe,end:Qe+1})}return Je}const ce=128;function Se(){const ht=[],Je=[];for(let ot=0;ot<=ce;ot++)Je[ot]=0;for(let ot=0;ot<=ce;ot++)ht.push(Je.slice(0));return ht}function Ie(ht){const Je=[];for(let ot=0;ot<=ht;ot++)Je[ot]=0;return Je}const ne=Ie(2*ce),ue=Ie(2*ce),we=Se(),Me=Se(),Ve=Se(),$e=!1;function it(ht,Je,ot,De,Qe){function mt(Ht,Ft,Bt=" "){for(;Ht.length<Ft;)Ht=Bt+Ht;return Ht}let kt=` |   |${De.split("").map(Ht=>mt(Ht,3)).join("|")}\n`;for(let Ht=0;Ht<=ot;Ht++)kt+=0===Ht?" |":`${Je[Ht-1]}|`,kt+=ht[Ht].slice(0,Qe+1).map(Ft=>mt(Ft.toString(),3)).join("|")+"\n";return kt}function me(ht,Je){if(Je<0||Je>=ht.length)return!1;const ot=ht.codePointAt(Je);switch(ot){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!f.Ss(ot)}}function le(ht,Je){if(Je<0||Je>=ht.length)return!1;switch(ht.charCodeAt(Je)){case 32:case 9:return!0;default:return!1}}function Ee(ht,Je,ot){return Je[ht]!==ot[ht]}var Ce,ht;(ht=Ce||(Ce={})).Default=[-100,0],ht.isDefault=function Je(ot){return!ot||2===ot.length&&-100===ot[0]&&0===ot[1]};let Ne=(()=>{class ht{constructor(ot,De){this.firstMatchCanBeWeak=ot,this.boostFullMatch=De}}return ht.default={boostFullMatch:!0,firstMatchCanBeWeak:!1},ht})();function Fe(ht,Je,ot,De,Qe,mt,kt=Ne.default){const Ht=ht.length>ce?ce:ht.length,Ft=De.length>ce?ce:De.length;if(ot>=Ht||mt>=Ft||Ht-ot>Ft-mt||!function be(ht,Je,ot,De,Qe,mt,kt=!1){for(;Je<ot&&Qe<mt;)ht[Je]===De[Qe]&&(kt&&(ne[Je]=Qe),Je+=1),Qe+=1;return Je===ot}(Je,ot,Ht,Qe,mt,Ft,!0))return;!function qe(ht,Je,ot,De,Qe,mt){let kt=ht-1,Ht=Je-1;for(;kt>=ot&&Ht>=De;)Qe[kt]===mt[Ht]&&(ue[kt]=Ht,kt--),Ht--}(Ht,Ft,ot,mt,Je,Qe);let Bt=1,rt=1,Ut=ot,St=mt;const ke=[!1];for(Bt=1,Ut=ot;Ut<Ht;Bt++,Ut++){const ft=ne[Ut],wt=ue[Ut],qt=Ut+1<Ht?ue[Ut+1]:Ft;for(rt=ft-mt+1,St=ft;St<qt;rt++,St++){let Yt=Number.MIN_SAFE_INTEGER,en=!1;St<=wt&&(Yt=dt(ht,Je,Ut,ot,De,Qe,St,Ft,mt,0===we[Bt-1][rt-1],ke));let an=0;Yt!==Number.MAX_SAFE_INTEGER&&(en=!0,an=Yt+Me[Bt-1][rt-1]);const lt=St>ft,Nt=lt?Me[Bt][rt-1]+(we[Bt][rt-1]>0?-5:0):0,tn=St>ft+1&&we[Bt][rt-1]>0,bn=tn?Me[Bt][rt-2]+(we[Bt][rt-2]>0?-5:0):0;if(tn&&(!lt||bn>=Nt)&&(!en||bn>=an))Me[Bt][rt]=bn,Ve[Bt][rt]=3,we[Bt][rt]=0;else if(lt&&(!en||Nt>=an))Me[Bt][rt]=Nt,Ve[Bt][rt]=2,we[Bt][rt]=0;else{if(!en)throw new Error("not possible");Me[Bt][rt]=an,Ve[Bt][rt]=1,we[Bt][rt]=we[Bt-1][rt-1]+1}}}if($e&&function He(ht,Je,ot,De){ht=ht.substr(Je),ot=ot.substr(De),console.log(it(Me,ht,ht.length,ot,ot.length)),console.log(it(Ve,ht,ht.length,ot,ot.length)),console.log(it(we,ht,ht.length,ot,ot.length))}(ht,ot,De,mt),!ke[0]&&!kt.firstMatchCanBeWeak)return;Bt--,rt--;const Ze=[Me[Bt][rt],mt];let Ye=0,st=0;for(;Bt>=1;){let ft=rt;do{const wt=Ve[Bt][ft];if(3===wt)ft-=2;else{if(2!==wt)break;ft-=1}}while(ft>=1);Ye>1&&Je[ot+Bt-1]===Qe[mt+rt-1]&&!Ee(ft+mt-1,De,Qe)&&Ye+1>we[Bt][ft]&&(ft=rt),ft===rt?Ye++:Ye=1,st||(st=ft),Bt--,rt=ft-1,Ze.push(rt)}return Ft-mt===Ht&&kt.boostFullMatch&&(Ze[0]+=2),Ze[0]-=st-Ht,Ze}function dt(ht,Je,ot,De,Qe,mt,kt,Ht,Ft,Bt,rt){if(Je[ot]!==mt[kt])return Number.MIN_SAFE_INTEGER;let Ut=1,St=!1;return kt===ot-De?Ut=ht[ot]===Qe[kt]?7:5:!Ee(kt,Qe,mt)||0!==kt&&Ee(kt-1,Qe,mt)?!me(mt,kt)||0!==kt&&me(mt,kt-1)?(me(mt,kt-1)||le(mt,kt-1))&&(Ut=5,St=!0):Ut=5:(Ut=ht[ot]===Qe[kt]?7:5,St=!0),Ut>1&&ot===De&&(rt[0]=!0),St||(St=Ee(kt,Qe,mt)||me(mt,kt-1)||le(mt,kt-1)),ot===De?kt>Ft&&(Ut-=St?3:5):Ut+=Bt?St?2:0:St?0:1,kt+1===Ht&&(Ut-=St?3:5),Ut}function vt(ht,Je,ot,De,Qe,mt,kt){return function fn(ht,Je,ot,De,Qe,mt,kt,Ht){let Ft=Fe(ht,Je,ot,De,Qe,mt,Ht);if(Ft&&!kt)return Ft;if(ht.length>=3){const Bt=Math.min(7,ht.length-1);for(let rt=ot+1;rt<Bt;rt++){const Ut=on(ht,rt);if(Ut){const St=Fe(Ut,Ut.toLowerCase(),ot,De,Qe,mt,Ht);St&&(St[0]-=3,(!Ft||St[0]>Ft[0])&&(Ft=St))}}}return Ft}(ht,Je,ot,De,Qe,mt,!0,kt)}function on(ht,Je){if(Je+1>=ht.length)return;const ot=ht[Je],De=ht[Je+1];return ot!==De?ht.slice(0,Je)+De+ot+ht.slice(Je+2):void 0}},15018:(tt,xe,t)=>{function a(F,w){const x=this;let S,C=!1;return function(){if(C)return S;if(C=!0,w)try{S=F.apply(x,arguments)}finally{w()}else S=F.apply(x,arguments);return S}}t.d(xe,{P:()=>a})},37441:(tt,xe,t)=>{t.d(xe,{YW:()=>W,qg:()=>Y});var a=t(10467),F=t(86671),w=t(49007),x=t(20053),C=t(68200),S=t(21828),b=t(6653);const P="**",D="/",v="[/\\\\]",_="[^/\\\\]",f=/\//g;function d(K,ie){switch(K){case 0:return"";case 1:return`${_}*?`;default:return`(?:${v}|${_}+${v}${ie?`|${v}${_}+`:""})*?`}}function r(K,ie){if(!K)return[];const ae=[];let de=!1,se=!1,ge="";for(const _e of K){switch(_e){case ie:if(!de&&!se){ae.push(ge),ge="";continue}break;case"{":de=!0;break;case"}":de=!1;break;case"[":se=!0;break;case"]":se=!1}ge+=_e}return ge&&ae.push(ge),ae}function l(K){if(!K)return"";let ie="";const ae=r(K,D);if(ae.every(de=>de===P))ie=".*";else{let de=!1;ae.forEach((se,ge)=>{if(se===P){if(de)return;ie+=d(2,ge===ae.length-1)}else{let _e=!1,ye="",M=!1,ce="";for(const Se of se)if("}"!==Se&&_e)ye+=Se;else if(!M||"]"===Se&&ce)switch(Se){case"{":_e=!0;continue;case"[":M=!0;continue;case"}":{const ne=`(?:${r(ye,",").map(ue=>l(ue)).join("|")})`;ie+=ne,_e=!1,ye="";break}case"]":ie+="["+ce+"]",M=!1,ce="";break;case"?":ie+=_;continue;case"*":ie+=d(1);continue;default:ie+=(0,b.bm)(Se)}else{let Ie;Ie="-"===Se?Se:"^"!==Se&&"!"!==Se||ce?Se===D?"":(0,b.bm)(Se):"^",ce+=Ie}ge<ae.length-1&&(ae[ge+1]!==P||ge+2<ae.length)&&(ie+=v)}de=se===P})}return ie}const g=/^\*\*\/\*\.[\w\.-]+$/,p=/^\*\*\/([\w\.-]+)\/?$/,m=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,T=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,A=/^\*\*((\/[\w\.-]+)+)\/?$/,k=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,O=new x.qK(1e4),N=function(){return!1},H=function(){return null};function L(K,ie){if(!K)return H;let ae;ae="string"!=typeof K?K.pattern:K,ae=ae.trim();const de=`${ae}_${!!ie.trimForExclusions}`;let ge,se=O.get(de);return se||(se=g.test(ae)?function te(K,ie){return function(ae,de){return"string"==typeof ae&&ae.endsWith(K)?ie:null}}(ae.substr(4),ae):(ge=p.exec(Z(ae,ie)))?function X(K,ie){const ae=`/${K}`,de=`\\${K}`,se=function(_e,ye){return"string"!=typeof _e?null:ye?ye===K?ie:null:_e===K||_e.endsWith(ae)||_e.endsWith(de)?ie:null},ge=[K];return se.basenames=ge,se.patterns=[ie],se.allBasenames=ge,se}(ge[1],ae):(ie.trimForExclusions?T:m).test(ae)?function U(K,ie){const ae=Q(K.slice(1,-1).split(",").map(ye=>L(ye,ie)).filter(ye=>ye!==H),K),de=ae.length;if(!de)return H;if(1===de)return ae[0];const se=function(ye,M){for(let ce=0,Se=ae.length;ce<Se;ce++)if(ae[ce](ye,M))return K;return null},ge=ae.find(ye=>!!ye.allBasenames);ge&&(se.allBasenames=ge.allBasenames);const _e=ae.reduce((ye,M)=>M.allPaths?ye.concat(M.allPaths):ye,[]);return _e.length&&(se.allPaths=_e),se}(ae,ie):(ge=A.exec(Z(ae,ie)))?q(ge[1].substr(1),ae,!0):(ge=k.exec(Z(ae,ie)))?q(ge[1],ae,!1):function R(K){try{const ie=new RegExp(`^${l(K)}$`);return function(ae){return ie.lastIndex=0,"string"==typeof ae&&ie.test(ae)?K:null}}catch{return H}}(ae),O.set(de,se)),function j(K,ie){if("string"==typeof ie)return K;const ae=function(de,se){return(0,w._1)(de,ie.base,!S.j9)?K((0,b.NB)(de.substr(ie.base.length),C.Vn),se):null};return ae.allBasenames=K.allBasenames,ae.allPaths=K.allPaths,ae.basenames=K.basenames,ae.patterns=K.patterns,ae}(se,K)}function Z(K,ie){return ie.trimForExclusions&&K.endsWith("/**")?K.substr(0,K.length-2):K}function q(K,ie,ae){const de=C.Vn===C.SA.sep,se=de?K:K.replace(f,C.Vn),ge=C.Vn+se,_e=C.SA.sep+K;let ye;return ye=ae?function(M,ce){return"string"!=typeof M||M!==se&&!M.endsWith(ge)&&(de||M!==K&&!M.endsWith(_e))?null:ie}:function(M,ce){return"string"!=typeof M||M!==se&&(de||M!==K)?null:ie},ye.allPaths=[(ae?"*/":"./")+K],ye}function W(K,ie,ae){return!(!K||"string"!=typeof ie)&&Y(K)(ie,void 0,ae)}function Y(K,ie={}){if(!K)return N;if("string"==typeof K||function oe(K){return!!K&&"string"==typeof K.base&&"string"==typeof K.pattern}(K)){const ae=L(K,ie);if(ae===H)return N;const de=function(se,ge){return!!ae(se,ge)};return ae.allBasenames&&(de.allBasenames=ae.allBasenames),ae.allPaths&&(de.allPaths=ae.allPaths),de}return function z(K,ie){const ae=Q(Object.getOwnPropertyNames(K).map(ye=>function G(K,ie,ae){if(!1===ie)return H;const de=L(K,ae);if(de===H)return H;if("boolean"==typeof ie)return de;if(ie){const se=ie.when;if("string"==typeof se){const ge=(_e,ye,M,ce)=>{if(!ce||!de(_e,ye))return null;const Ie=ce(se.replace("$(basename)",()=>M));return(0,F.Qg)(Ie)?Ie.then(ne=>ne?K:null):Ie?K:null};return ge.requiresSiblings=!0,ge}}return de}(ye,K[ye],ie)).filter(ye=>ye!==H)),de=ae.length;if(!de)return H;if(!ae.some(ye=>!!ye.requiresSiblings)){if(1===de)return ae[0];const ye=function(Se,Ie){let ne;for(let ue=0,we=ae.length;ue<we;ue++){const Me=ae[ue](Se,Ie);if("string"==typeof Me)return Me;(0,F.Qg)(Me)&&(ne||(ne=[]),ne.push(Me))}return ne?(0,a.A)(function*(){for(const ue of ne){const we=yield ue;if("string"==typeof we)return we}return null})():null},M=ae.find(Se=>!!Se.allBasenames);M&&(ye.allBasenames=M.allBasenames);const ce=ae.reduce((Se,Ie)=>Ie.allPaths?Se.concat(Ie.allPaths):Se,[]);return ce.length&&(ye.allPaths=ce),ye}const se=function(ye,M,ce){let Se,Ie;for(let ne=0,ue=ae.length;ne<ue;ne++){const we=ae[ne];we.requiresSiblings&&ce&&(M||(M=(0,C.P8)(ye)),Se||(Se=M.substr(0,M.length-(0,C.LC)(ye).length)));const Me=we(ye,M,Se,ce);if("string"==typeof Me)return Me;(0,F.Qg)(Me)&&(Ie||(Ie=[]),Ie.push(Me))}return Ie?(0,a.A)(function*(){for(const ne of Ie){const ue=yield ne;if("string"==typeof ue)return ue}return null})():null},ge=ae.find(ye=>!!ye.allBasenames);ge&&(se.allBasenames=ge.allBasenames);const _e=ae.reduce((ye,M)=>M.allPaths?ye.concat(M.allPaths):ye,[]);return _e.length&&(se.allPaths=_e),se}(K,ie)}function Q(K,ie){const ae=K.filter(ye=>!!ye.basenames);if(ae.length<2)return K;const de=ae.reduce((ye,M)=>{const ce=M.basenames;return ce?ye.concat(ce):ye},[]);let se;if(ie){se=[];for(let ye=0,M=de.length;ye<M;ye++)se.push(ie)}else se=ae.reduce((ye,M)=>{const ce=M.patterns;return ce?ye.concat(ce):ye},[]);const ge=function(ye,M){if("string"!=typeof ye)return null;if(!M){let Se;for(Se=ye.length;Se>0;Se--){const Ie=ye.charCodeAt(Se-1);if(47===Ie||92===Ie)break}M=ye.substr(Se)}const ce=de.indexOf(M);return-1!==ce?se[ce]:null};ge.basenames=de,ge.patterns=se,ge.allBasenames=de;const _e=K.filter(ye=>!ye.basenames);return _e.push(ge),_e}},55763:(tt,xe,t)=>{t.d(xe,{e2:()=>S,sN:()=>w,tW:()=>F,v7:()=>d});var a=t(6653);function F(r){return w(r,0)}function w(r,l){switch(typeof r){case"object":return null===r?x(349,l):Array.isArray(r)?function b(r,l){return l=x(104579,l),r.reduce((g,p)=>w(p,g),l)}(r,l):function P(r,l){return l=x(181387,l),Object.keys(r).sort().reduce((g,p)=>(g=S(p,g),w(r[p],g)),l)}(r,l);case"string":return S(r,l);case"boolean":return function C(r,l){return x(r?433:863,l)}(r,l);case"number":return x(r,l);case"undefined":return x(937,l);default:return x(617,l)}}function x(r,l){return(l<<5)-l+r|0}function S(r,l){l=x(149417,l);for(let g=0,p=r.length;g<p;g++)l=x(r.charCodeAt(g),l);return l}function D(r,l,g=32){const p=g-l;return(r<<l|(~((1<<p)-1)&r)>>>p)>>>0}function v(r,l=0,g=r.byteLength,p=0){for(let m=0;m<g;m++)r[l+m]=p}function f(r,l=32){return r instanceof ArrayBuffer?Array.from(new Uint8Array(r)).map(g=>g.toString(16).padStart(2,"0")).join(""):function _(r,l,g="0"){for(;r.length<l;)r=g+r;return r}((r>>>0).toString(16),l/4)}class d{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(l){const g=l.length;if(0===g)return;const p=this._buff;let A,k,m=this._buffLen,T=this._leftoverHighSurrogate;for(0!==T?(A=T,k=-1,T=0):(A=l.charCodeAt(0),k=0);;){let O=A;if(a.pc(A)){if(!(k+1<g)){T=A;break}{const N=l.charCodeAt(k+1);a.LJ(N)?(k++,O=a.z_(A,N)):O=65533}}else a.LJ(A)&&(O=65533);if(m=this._push(p,m,O),k++,!(k<g))break;A=l.charCodeAt(k)}this._buffLen=m,this._leftoverHighSurrogate=T}_push(l,g,p){return p<128?l[g++]=p:p<2048?(l[g++]=192|(1984&p)>>>6,l[g++]=128|(63&p)>>>0):p<65536?(l[g++]=224|(61440&p)>>>12,l[g++]=128|(4032&p)>>>6,l[g++]=128|(63&p)>>>0):(l[g++]=240|(1835008&p)>>>18,l[g++]=128|(258048&p)>>>12,l[g++]=128|(4032&p)>>>6,l[g++]=128|(63&p)>>>0),g>=64&&(this._step(),g-=64,this._totalLen+=64,l[0]=l[64],l[1]=l[65],l[2]=l[66]),g}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),f(this._h0)+f(this._h1)+f(this._h2)+f(this._h3)+f(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,v(this._buff,this._buffLen),this._buffLen>56&&(this._step(),v(this._buff));const l=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(l/4294967296),!1),this._buffDV.setUint32(60,l%4294967296,!1),this._step()}_step(){const l=d._bigBlock32,g=this._buffDV;for(let L=0;L<64;L+=4)l.setUint32(L,g.getUint32(L,!1),!1);for(let L=64;L<320;L+=4)l.setUint32(L,D(l.getUint32(L-12,!1)^l.getUint32(L-32,!1)^l.getUint32(L-56,!1)^l.getUint32(L-64,!1),1),!1);let O,N,H,p=this._h0,m=this._h1,T=this._h2,A=this._h3,k=this._h4;for(let L=0;L<80;L++)L<20?(O=m&T|~m&A,N=1518500249):L<40?(O=m^T^A,N=1859775393):L<60?(O=m&T|m&A|T&A,N=2400959708):(O=m^T^A,N=3395469782),H=D(p,5)+O+k+N+l.getUint32(4*L,!1)&4294967295,k=A,A=T,T=D(m,30),m=p,p=H;this._h0=this._h0+p&4294967295,this._h1=this._h1+m&4294967295,this._h2=this._h2+T&4294967295,this._h3=this._h3+A&4294967295,this._h4=this._h4+k&4294967295}}d._bigBlock32=new DataView(new ArrayBuffer(320))},6260:(tt,xe,t)=>{t.d(xe,{k:()=>a});class a{constructor(w){this.value=w}equals(w){return this.value===w.value}contains(w){return this.equals(w)||""===this.value||w.value.startsWith(this.value+a.sep)}intersects(w){return this.contains(w)||w.contains(this)}append(...w){return new a((this.value?[this.value,...w]:w).join(a.sep))}}a.sep=".",a.None=new a("@@none@@"),a.Empty=new a("")},13225:(tt,xe,t)=>{t.d(xe,{Bc:()=>S,VS:()=>P,_W:()=>d,it:()=>b,nI:()=>r,nK:()=>D,oO:()=>f});var a=t(25680),F=t(605),w=t(76698),x=t(6653),C=t(32417);class S{constructor(g="",p=!1){var m,T,A;if(this.value=g,"string"!=typeof this.value)throw(0,a.Qg)("value");"boolean"==typeof p?(this.isTrusted=p,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(m=p.isTrusted)&&void 0!==m?m:void 0,this.supportThemeIcons=null!==(T=p.supportThemeIcons)&&void 0!==T&&T,this.supportHtml=null!==(A=p.supportHtml)&&void 0!==A&&A)}appendText(g,p=0){return this.value+=function v(l){return l.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}(this.supportThemeIcons?(0,F.m2)(g):g).replace(/([ \t]+)/g,(m,T)=>"&nbsp;".repeat(T.length)).replace(/\>/gm,"\\>").replace(/\n/g,1===p?"\\\n":"\n\n"),this}appendMarkdown(g){return this.value+=g,this}appendCodeblock(g,p){return this.value+=`\n${function _(l,g){var p,m;const T=null!==(m=null===(p=l.match(/^`+/gm))||void 0===p?void 0:p.reduce((k,O)=>k.length>O.length?k:O).length)&&void 0!==m?m:0,A=T>=3?T+1:3;return[`${"`".repeat(A)}${g}`,l,`${"`".repeat(A)}`].join("\n")}(p,g)}\n`,this}appendLink(g,p,m){return this.value+="[",this.value+=this._escape(p,"]"),this.value+="](",this.value+=this._escape(String(g),")"),m&&(this.value+=` "${this._escape(this._escape(m,'"'),")")}"`),this.value+=")",this}_escape(g,p){const m=new RegExp((0,x.bm)(p),"g");return g.replace(m,(T,A)=>"\\"!==g.charAt(A-1)?`\\${T}`:T)}}function b(l){return P(l)?!l.value:!Array.isArray(l)||l.every(b)}function P(l){return l instanceof S||!(!l||"object"!=typeof l)&&!("string"!=typeof l.value||"boolean"!=typeof l.isTrusted&&"object"!=typeof l.isTrusted&&void 0!==l.isTrusted||"boolean"!=typeof l.supportThemeIcons&&void 0!==l.supportThemeIcons)}function D(l,g){return l===g||!(!l||!g)&&l.value===g.value&&l.isTrusted===g.isTrusted&&l.supportThemeIcons===g.supportThemeIcons&&l.supportHtml===g.supportHtml&&(l.baseUri===g.baseUri||!!l.baseUri&&!!g.baseUri&&(0,w.n4)(C.r.from(l.baseUri),C.r.from(g.baseUri)))}function f(l){return l.replace(/"/g,"&quot;")}function d(l){return l&&l.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function r(l){const g=[],p=l.split("|").map(T=>T.trim());l=p[0];const m=p[1];if(m){const T=/height=(\d+)/.exec(m),A=/width=(\d+)/.exec(m),k=T?T[1]:"",O=A?A[1]:"",N=isFinite(parseInt(O)),H=isFinite(parseInt(k));N&&g.push(`width="${O}"`),H&&g.push(`height="${k}"`)}return{href:l,dimensions:g}}},605:(tt,xe,t)=>{t.d(xe,{R$:()=>f,_k:()=>r,m2:()=>b,pS:()=>_,pz:()=>l,sA:()=>D});var a=t(28467),F=t(6653),w=t(81072);const x="$(",C=new RegExp(`\\$\\(${w.L.iconNameExpression}(?:${w.L.iconModifierExpression})?\\)`,"g"),S=new RegExp(`(\\\\)?${C.source}`,"g");function b(g){return g.replace(S,(p,m)=>m?p:`\\${p}`)}const P=new RegExp(`\\\\${C.source}`,"g");function D(g){return g.replace(P,p=>`\\${p}`)}const v=new RegExp(`(\\s)?(\\\\)?${C.source}(\\s)?`,"g");function _(g){return-1===g.indexOf(x)?g:g.replace(v,(p,m,T,A)=>T?p:m||A||"")}function f(g){return g?g.replace(/\$\((.*?)\)/g,(p,m)=>` ${m} `).trim():""}const d=new RegExp(`\\$\\(${w.L.iconNameCharacter}+\\)`,"g");function r(g){d.lastIndex=0;let p="";const m=[];let T=0;for(;;){const A=d.lastIndex,k=d.exec(g),O=g.substring(A,k?.index);if(O.length>0){p+=O;for(let N=0;N<O.length;N++)m.push(T)}if(!k)break;T+=k[0].length}return{text:p,iconOffsets:m}}function l(g,p,m=!1){const{text:T,iconOffsets:A}=p;if(!A||0===A.length)return(0,a.yr)(g,T,m);const k=(0,F.NB)(T," "),O=T.length-k.length,N=(0,a.yr)(g,k,m);if(N)for(const H of N){const L=A[H.start+O]+O;H.start+=L,H.end+=L}return N}},65441:(tt,xe,t)=>{t.d(xe,{n:()=>a,r:()=>F});class a{constructor(x){this._prefix=x,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const F=new a("id#")},86138:(tt,xe,t)=>{t.d(xe,{M:()=>w});var a=t(5643);const w=new class F{constructor(){this._onDidChange=new a.vl,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}},28481:(tt,xe,t)=>{t.d(xe,{f:()=>w});var w,a=t(10467),F=t(19495);!function(x){function C(H){return H&&"object"==typeof H&&"function"==typeof H[Symbol.iterator]}x.is=C;const S=Object.freeze([]);function*P(H){yield H}function N(){return(N=(0,a.A)(function*(H){const L=[];var te,j=!1,Z=!1;try{for(var U,X=(0,F.A)(H);j=!(U=yield X.next()).done;j=!1)L.push(U.value)}catch(q){Z=!0,te=q}finally{try{j&&null!=X.return&&(yield X.return())}finally{if(Z)throw te}}return Promise.resolve(L)})).apply(this,arguments)}x.empty=function b(){return S},x.single=P,x.wrap=function D(H){return C(H)?H:P(H)},x.from=function v(H){return H||S},x.reverse=function*_(H){for(let L=H.length-1;L>=0;L--)yield H[L]},x.isEmpty=function f(H){return!H||!0===H[Symbol.iterator]().next().done},x.first=function d(H){return H[Symbol.iterator]().next().value},x.some=function r(H,L){for(const j of H)if(L(j))return!0;return!1},x.find=function l(H,L){for(const j of H)if(L(j))return j},x.filter=function*g(H,L){for(const j of H)L(j)&&(yield j)},x.map=function*p(H,L){let j=0;for(const Z of H)yield L(Z,j++)},x.concat=function*m(...H){for(const L of H)yield*L},x.reduce=function T(H,L,j){let Z=j;for(const te of H)Z=L(Z,te);return Z},x.slice=function*A(H,L,j=H.length){for(L<0&&(L+=H.length),j<0?j+=H.length:j>H.length&&(j=H.length);L<j;L++)yield H[L]},x.consume=function k(H,L=Number.POSITIVE_INFINITY){const j=[];if(0===L)return[j,H];const Z=H[Symbol.iterator]();for(let te=0;te<L;te++){const X=Z.next();if(X.done)return[j,x.empty()];j.push(X.value)}return[j,{[Symbol.iterator]:()=>Z}]},x.asyncToArray=function O(H){return N.apply(this,arguments)}}(w||(w={}))},79624:(tt,xe,t)=>{t.d(xe,{Fo:()=>v,YM:()=>f,m5:()=>d,uw:()=>C});class a{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(l,g){this._keyCodeToStr[l]=g,this._strToKeyCode[g.toLowerCase()]=l}keyCodeToStr(l){return this._keyCodeToStr[l]}strToKeyCode(l){return this._strToKeyCode[l.toLowerCase()]||0}}const F=new a,w=new a,x=new a,C=new Array(230),S={},b=[],P=Object.create(null),D=Object.create(null),v=[],_=[];for(let r=0;r<=193;r++)v[r]=-1;for(let r=0;r<=132;r++)_[r]=-1;var f,r;function d(r,l){return(r|(65535&l)<<16>>>0)>>>0}!function(){const r="",l=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",r,r],[1,1,"Hyper",0,r,0,r,r,r],[1,2,"Super",0,r,0,r,r,r],[1,3,"Fn",0,r,0,r,r,r],[1,4,"FnLock",0,r,0,r,r,r],[1,5,"Suspend",0,r,0,r,r,r],[1,6,"Resume",0,r,0,r,r,r],[1,7,"Turbo",0,r,0,r,r,r],[1,8,"Sleep",0,r,0,"VK_SLEEP",r,r],[1,9,"WakeUp",0,r,0,r,r,r],[0,10,"KeyA",31,"A",65,"VK_A",r,r],[0,11,"KeyB",32,"B",66,"VK_B",r,r],[0,12,"KeyC",33,"C",67,"VK_C",r,r],[0,13,"KeyD",34,"D",68,"VK_D",r,r],[0,14,"KeyE",35,"E",69,"VK_E",r,r],[0,15,"KeyF",36,"F",70,"VK_F",r,r],[0,16,"KeyG",37,"G",71,"VK_G",r,r],[0,17,"KeyH",38,"H",72,"VK_H",r,r],[0,18,"KeyI",39,"I",73,"VK_I",r,r],[0,19,"KeyJ",40,"J",74,"VK_J",r,r],[0,20,"KeyK",41,"K",75,"VK_K",r,r],[0,21,"KeyL",42,"L",76,"VK_L",r,r],[0,22,"KeyM",43,"M",77,"VK_M",r,r],[0,23,"KeyN",44,"N",78,"VK_N",r,r],[0,24,"KeyO",45,"O",79,"VK_O",r,r],[0,25,"KeyP",46,"P",80,"VK_P",r,r],[0,26,"KeyQ",47,"Q",81,"VK_Q",r,r],[0,27,"KeyR",48,"R",82,"VK_R",r,r],[0,28,"KeyS",49,"S",83,"VK_S",r,r],[0,29,"KeyT",50,"T",84,"VK_T",r,r],[0,30,"KeyU",51,"U",85,"VK_U",r,r],[0,31,"KeyV",52,"V",86,"VK_V",r,r],[0,32,"KeyW",53,"W",87,"VK_W",r,r],[0,33,"KeyX",54,"X",88,"VK_X",r,r],[0,34,"KeyY",55,"Y",89,"VK_Y",r,r],[0,35,"KeyZ",56,"Z",90,"VK_Z",r,r],[0,36,"Digit1",22,"1",49,"VK_1",r,r],[0,37,"Digit2",23,"2",50,"VK_2",r,r],[0,38,"Digit3",24,"3",51,"VK_3",r,r],[0,39,"Digit4",25,"4",52,"VK_4",r,r],[0,40,"Digit5",26,"5",53,"VK_5",r,r],[0,41,"Digit6",27,"6",54,"VK_6",r,r],[0,42,"Digit7",28,"7",55,"VK_7",r,r],[0,43,"Digit8",29,"8",56,"VK_8",r,r],[0,44,"Digit9",30,"9",57,"VK_9",r,r],[0,45,"Digit0",21,"0",48,"VK_0",r,r],[1,46,"Enter",3,"Enter",13,"VK_RETURN",r,r],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",r,r],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",r,r],[1,49,"Tab",2,"Tab",9,"VK_TAB",r,r],[1,50,"Space",10,"Space",32,"VK_SPACE",r,r],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,r,0,r,r,r],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",r,r],[1,64,"F1",59,"F1",112,"VK_F1",r,r],[1,65,"F2",60,"F2",113,"VK_F2",r,r],[1,66,"F3",61,"F3",114,"VK_F3",r,r],[1,67,"F4",62,"F4",115,"VK_F4",r,r],[1,68,"F5",63,"F5",116,"VK_F5",r,r],[1,69,"F6",64,"F6",117,"VK_F6",r,r],[1,70,"F7",65,"F7",118,"VK_F7",r,r],[1,71,"F8",66,"F8",119,"VK_F8",r,r],[1,72,"F9",67,"F9",120,"VK_F9",r,r],[1,73,"F10",68,"F10",121,"VK_F10",r,r],[1,74,"F11",69,"F11",122,"VK_F11",r,r],[1,75,"F12",70,"F12",123,"VK_F12",r,r],[1,76,"PrintScreen",0,r,0,r,r,r],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",r,r],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",r,r],[1,79,"Insert",19,"Insert",45,"VK_INSERT",r,r],[1,80,"Home",14,"Home",36,"VK_HOME",r,r],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",r,r],[1,82,"Delete",20,"Delete",46,"VK_DELETE",r,r],[1,83,"End",13,"End",35,"VK_END",r,r],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",r,r],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",r],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",r],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",r],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",r],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",r,r],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",r,r],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",r,r],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",r,r],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",r,r],[1,94,"NumpadEnter",3,r,0,r,r,r],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",r,r],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",r,r],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",r,r],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",r,r],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",r,r],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",r,r],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",r,r],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",r,r],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",r,r],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",r,r],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",r,r],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",r,r],[1,107,"ContextMenu",58,"ContextMenu",93,r,r,r],[1,108,"Power",0,r,0,r,r,r],[1,109,"NumpadEqual",0,r,0,r,r,r],[1,110,"F13",71,"F13",124,"VK_F13",r,r],[1,111,"F14",72,"F14",125,"VK_F14",r,r],[1,112,"F15",73,"F15",126,"VK_F15",r,r],[1,113,"F16",74,"F16",127,"VK_F16",r,r],[1,114,"F17",75,"F17",128,"VK_F17",r,r],[1,115,"F18",76,"F18",129,"VK_F18",r,r],[1,116,"F19",77,"F19",130,"VK_F19",r,r],[1,117,"F20",78,"F20",131,"VK_F20",r,r],[1,118,"F21",79,"F21",132,"VK_F21",r,r],[1,119,"F22",80,"F22",133,"VK_F22",r,r],[1,120,"F23",81,"F23",134,"VK_F23",r,r],[1,121,"F24",82,"F24",135,"VK_F24",r,r],[1,122,"Open",0,r,0,r,r,r],[1,123,"Help",0,r,0,r,r,r],[1,124,"Select",0,r,0,r,r,r],[1,125,"Again",0,r,0,r,r,r],[1,126,"Undo",0,r,0,r,r,r],[1,127,"Cut",0,r,0,r,r,r],[1,128,"Copy",0,r,0,r,r,r],[1,129,"Paste",0,r,0,r,r,r],[1,130,"Find",0,r,0,r,r,r],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",r,r],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",r,r],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",r,r],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",r,r],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",r,r],[1,136,"KanaMode",0,r,0,r,r,r],[0,137,"IntlYen",0,r,0,r,r,r],[1,138,"Convert",0,r,0,r,r,r],[1,139,"NonConvert",0,r,0,r,r,r],[1,140,"Lang1",0,r,0,r,r,r],[1,141,"Lang2",0,r,0,r,r,r],[1,142,"Lang3",0,r,0,r,r,r],[1,143,"Lang4",0,r,0,r,r,r],[1,144,"Lang5",0,r,0,r,r,r],[1,145,"Abort",0,r,0,r,r,r],[1,146,"Props",0,r,0,r,r,r],[1,147,"NumpadParenLeft",0,r,0,r,r,r],[1,148,"NumpadParenRight",0,r,0,r,r,r],[1,149,"NumpadBackspace",0,r,0,r,r,r],[1,150,"NumpadMemoryStore",0,r,0,r,r,r],[1,151,"NumpadMemoryRecall",0,r,0,r,r,r],[1,152,"NumpadMemoryClear",0,r,0,r,r,r],[1,153,"NumpadMemoryAdd",0,r,0,r,r,r],[1,154,"NumpadMemorySubtract",0,r,0,r,r,r],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",r,r],[1,156,"NumpadClearEntry",0,r,0,r,r,r],[1,0,r,5,"Ctrl",17,"VK_CONTROL",r,r],[1,0,r,4,"Shift",16,"VK_SHIFT",r,r],[1,0,r,6,"Alt",18,"VK_MENU",r,r],[1,0,r,57,"Meta",91,"VK_COMMAND",r,r],[1,157,"ControlLeft",5,r,0,"VK_LCONTROL",r,r],[1,158,"ShiftLeft",4,r,0,"VK_LSHIFT",r,r],[1,159,"AltLeft",6,r,0,"VK_LMENU",r,r],[1,160,"MetaLeft",57,r,0,"VK_LWIN",r,r],[1,161,"ControlRight",5,r,0,"VK_RCONTROL",r,r],[1,162,"ShiftRight",4,r,0,"VK_RSHIFT",r,r],[1,163,"AltRight",6,r,0,"VK_RMENU",r,r],[1,164,"MetaRight",57,r,0,"VK_RWIN",r,r],[1,165,"BrightnessUp",0,r,0,r,r,r],[1,166,"BrightnessDown",0,r,0,r,r,r],[1,167,"MediaPlay",0,r,0,r,r,r],[1,168,"MediaRecord",0,r,0,r,r,r],[1,169,"MediaFastForward",0,r,0,r,r,r],[1,170,"MediaRewind",0,r,0,r,r,r],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",r,r],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",r,r],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",r,r],[1,174,"Eject",0,r,0,r,r,r],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",r,r],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",r,r],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",r,r],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",r,r],[1,179,"LaunchApp1",0,r,0,"VK_MEDIA_LAUNCH_APP1",r,r],[1,180,"SelectTask",0,r,0,r,r,r],[1,181,"LaunchScreenSaver",0,r,0,r,r,r],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",r,r],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",r,r],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",r,r],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",r,r],[1,186,"BrowserStop",0,r,0,"VK_BROWSER_STOP",r,r],[1,187,"BrowserRefresh",0,r,0,"VK_BROWSER_REFRESH",r,r],[1,188,"BrowserFavorites",0,r,0,"VK_BROWSER_FAVORITES",r,r],[1,189,"ZoomToggle",0,r,0,r,r,r],[1,190,"MailReply",0,r,0,r,r,r],[1,191,"MailForward",0,r,0,r,r,r],[1,192,"MailSend",0,r,0,r,r,r],[1,0,r,114,"KeyInComposition",229,r,r,r],[1,0,r,116,"ABNT_C2",194,"VK_ABNT_C2",r,r],[1,0,r,96,"OEM_8",223,"VK_OEM_8",r,r],[1,0,r,0,r,0,"VK_KANA",r,r],[1,0,r,0,r,0,"VK_HANGUL",r,r],[1,0,r,0,r,0,"VK_JUNJA",r,r],[1,0,r,0,r,0,"VK_FINAL",r,r],[1,0,r,0,r,0,"VK_HANJA",r,r],[1,0,r,0,r,0,"VK_KANJI",r,r],[1,0,r,0,r,0,"VK_CONVERT",r,r],[1,0,r,0,r,0,"VK_NONCONVERT",r,r],[1,0,r,0,r,0,"VK_ACCEPT",r,r],[1,0,r,0,r,0,"VK_MODECHANGE",r,r],[1,0,r,0,r,0,"VK_SELECT",r,r],[1,0,r,0,r,0,"VK_PRINT",r,r],[1,0,r,0,r,0,"VK_EXECUTE",r,r],[1,0,r,0,r,0,"VK_SNAPSHOT",r,r],[1,0,r,0,r,0,"VK_HELP",r,r],[1,0,r,0,r,0,"VK_APPS",r,r],[1,0,r,0,r,0,"VK_PROCESSKEY",r,r],[1,0,r,0,r,0,"VK_PACKET",r,r],[1,0,r,0,r,0,"VK_DBE_SBCSCHAR",r,r],[1,0,r,0,r,0,"VK_DBE_DBCSCHAR",r,r],[1,0,r,0,r,0,"VK_ATTN",r,r],[1,0,r,0,r,0,"VK_CRSEL",r,r],[1,0,r,0,r,0,"VK_EXSEL",r,r],[1,0,r,0,r,0,"VK_EREOF",r,r],[1,0,r,0,r,0,"VK_PLAY",r,r],[1,0,r,0,r,0,"VK_ZOOM",r,r],[1,0,r,0,r,0,"VK_NONAME",r,r],[1,0,r,0,r,0,"VK_PA1",r,r],[1,0,r,0,r,0,"VK_OEM_CLEAR",r,r]],g=[],p=[];for(const m of l){const[T,A,k,O,N,H,L,j,Z]=m;if(p[A]||(p[A]=!0,b[A]=k,P[k]=A,D[k.toLowerCase()]=A,T&&(v[A]=O,0!==O&&3!==O&&5!==O&&4!==O&&6!==O&&57!==O&&(_[O]=A))),!g[O]){if(g[O]=!0,!N)throw new Error(`String representation missing for key code ${O} around scan code ${k}`);F.define(O,N),w.define(O,j||N),x.define(O,Z||j||N)}H&&(C[H]=O),L&&(S[L]=O)}_[3]=46}(),(r=f||(f={})).toString=function l(k){return F.keyCodeToStr(k)},r.fromString=function g(k){return F.strToKeyCode(k)},r.toUserSettingsUS=function p(k){return w.keyCodeToStr(k)},r.toUserSettingsGeneral=function m(k){return x.keyCodeToStr(k)},r.fromUserSettings=function T(k){return w.strToKeyCode(k)||x.strToKeyCode(k)},r.toElectronAccelerator=function A(k){if(k>=98&&k<=113)return null;switch(k){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return F.keyCodeToStr(k)}},13752:(tt,xe,t)=>{t.d(xe,{G$:()=>S,Of:()=>w,r0:()=>x,rr:()=>C});var a=t(81644);class F{constructor(D,v,_=v){this.modifierLabels=[null],this.modifierLabels[2]=D,this.modifierLabels[1]=v,this.modifierLabels[3]=_}toLabel(D,v,_){if(0===v.length)return null;const f=[];for(let d=0,r=v.length;d<r;d++){const l=v[d],g=_(l);if(null===g)return null;f[d]=b(l,g,this.modifierLabels[D])}return f.join(" ")}}const w=new F({ctrlKey:"\u2303",shiftKey:"\u21e7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:a.kg({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:a.kg({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:a.kg({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:a.kg({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:a.kg({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:a.kg({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:a.kg({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:a.kg({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),x=new F({ctrlKey:a.kg({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:a.kg({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:a.kg({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:a.kg({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:a.kg({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:a.kg({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:a.kg({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:a.kg({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:a.kg({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:a.kg({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:a.kg({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:a.kg({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),C=new F({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),S=new F({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function b(P,D,v){if(null===D)return"";const _=[];return P.ctrlKey&&_.push(v.ctrlKey),P.shiftKey&&_.push(v.shiftKey),P.altKey&&_.push(v.altKey),P.metaKey&&_.push(v.metaKey),""!==D&&_.push(D),_.join(v.separator)}},89430:(tt,xe,t)=>{t.d(xe,{FW:()=>b,Zv:()=>F,dG:()=>x,z5:()=>P});var a=t(25680);function F(D,v){if("number"==typeof D){if(0===D)return null;const _=(65535&D)>>>0,f=(4294901760&D)>>>16;return new S(0!==f?[w(_,v),w(f,v)]:[w(_,v)])}{const _=[];for(let f=0;f<D.length;f++)_.push(w(D[f],v));return new S(_)}}function w(D,v){const _=!!(2048&D),f=!!(256&D);return new x(2===v?f:_,!!(1024&D),!!(512&D),2===v?_:f,255&D)}class x{constructor(v,_,f,d,r){this.ctrlKey=v,this.shiftKey=_,this.altKey=f,this.metaKey=d,this.keyCode=r}equals(v){return v instanceof x&&this.ctrlKey===v.ctrlKey&&this.shiftKey===v.shiftKey&&this.altKey===v.altKey&&this.metaKey===v.metaKey&&this.keyCode===v.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class S{constructor(v){if(0===v.length)throw(0,a.Qg)("chords");this.chords=v}}class b{constructor(v,_,f,d,r,l){this.ctrlKey=v,this.shiftKey=_,this.altKey=f,this.metaKey=d,this.keyLabel=r,this.keyAriaLabel=l}}class P{}},97081:(tt,xe,t)=>{t.d(xe,{d:()=>a});class a{constructor(w){this.executor=w,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(w){this._error=w}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},99031:(tt,xe,t)=>{t.d(xe,{$w:()=>A,AS:()=>f,Ay:()=>S,BO:()=>T,Cm:()=>l,HE:()=>p,VD:()=>b,Xm:()=>_,jG:()=>g,lC:()=>v,mp:()=>m,qE:()=>d,s:()=>r});var a=t(15018),F=t(28481);let x=null;function S(k){return x?.trackDisposable(k),k}function b(k){x?.markAsDisposed(k)}function P(k,O){x?.setParent(k,O)}function v(k){return x?.markAsSingleton(k),k}function _(k){return"object"==typeof k&&null!==k&&"function"==typeof k.dispose&&0===k.dispose.length}function f(k){if(F.f.is(k)){const O=[];for(const N of k)if(N)try{N.dispose()}catch(H){O.push(H)}if(1===O.length)throw O[0];if(O.length>1)throw new AggregateError(O,"Encountered errors while disposing of store");return Array.isArray(k)?[]:k}if(k)return k.dispose(),k}function d(...k){const O=r(()=>f(k));return function D(k,O){if(x)for(const N of k)x.setParent(N,O)}(k,O),O}function r(k){const O=S({dispose:(0,a.P)(()=>{b(O),k()})});return O}let l=(()=>{class k{constructor(){this._toDispose=new Set,this._isDisposed=!1,S(this)}dispose(){this._isDisposed||(b(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(0!==this._toDispose.size)try{f(this._toDispose)}finally{this._toDispose.clear()}}add(N){if(!N)return N;if(N===this)throw new Error("Cannot register a disposable on itself!");return P(N,this),this._isDisposed?k.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(N),N}deleteAndLeak(N){N&&this._toDispose.has(N)&&(this._toDispose.delete(N),P(N,null))}}return k.DISABLE_DISPOSED_WARNING=!1,k})();class g{constructor(){this._store=new l,S(this),P(this._store,this)}dispose(){b(this),this._store.dispose()}_register(O){if(O===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(O)}}g.None=Object.freeze({dispose(){}});class p{constructor(){this._isDisposed=!1,S(this)}get value(){return this._isDisposed?void 0:this._value}set value(O){var N;this._isDisposed||O===this._value||(null===(N=this._value)||void 0===N||N.dispose(),O&&P(O,this),this._value=O)}clear(){this.value=void 0}dispose(){var O;this._isDisposed=!0,b(this),null===(O=this._value)||void 0===O||O.dispose(),this._value=void 0}}class m{constructor(O){this._disposable=O,this._counter=1}acquire(){return this._counter++,this}release(){return 0==--this._counter&&this._disposable.dispose(),this}}class T{constructor(O){this.object=O}dispose(){}}class A{constructor(){this._store=new Map,this._isDisposed=!1,S(this)}dispose(){b(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{f(this._store.values())}finally{this._store.clear()}}get(O){return this._store.get(O)}set(O,N,H=!1){var L;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),H||null===(L=this._store.get(O))||void 0===L||L.dispose(),this._store.set(O,N)}deleteAndDispose(O){var N;null===(N=this._store.get(O))||void 0===N||N.dispose(),this._store.delete(O)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}},18002:(tt,xe,t)=>{t.d(xe,{w:()=>F});class a{constructor(x){this.element=x,this.next=a.Undefined,this.prev=a.Undefined}}a.Undefined=new a(void 0);class F{constructor(){this._first=a.Undefined,this._last=a.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===a.Undefined}clear(){let x=this._first;for(;x!==a.Undefined;){const C=x.next;x.prev=a.Undefined,x.next=a.Undefined,x=C}this._first=a.Undefined,this._last=a.Undefined,this._size=0}unshift(x){return this._insert(x,!1)}push(x){return this._insert(x,!0)}_insert(x,C){const S=new a(x);if(this._first===a.Undefined)this._first=S,this._last=S;else if(C){const P=this._last;this._last=S,S.prev=P,P.next=S}else{const P=this._first;this._first=S,S.next=P,P.prev=S}this._size+=1;let b=!1;return()=>{b||(b=!0,this._remove(S))}}shift(){if(this._first!==a.Undefined){const x=this._first.element;return this._remove(this._first),x}}pop(){if(this._last!==a.Undefined){const x=this._last.element;return this._remove(this._last),x}}_remove(x){if(x.prev!==a.Undefined&&x.next!==a.Undefined){const C=x.prev;C.next=x.next,x.next.prev=C}else x.prev===a.Undefined&&x.next===a.Undefined?(this._first=a.Undefined,this._last=a.Undefined):x.next===a.Undefined?(this._last=this._last.prev,this._last.next=a.Undefined):x.prev===a.Undefined&&(this._first=this._first.next,this._first.prev=a.Undefined);this._size-=1}*[Symbol.iterator](){let x=this._first;for(;x!==a.Undefined;)yield x.element,x=x.next}}},20053:(tt,xe,t)=>{var a,F;t.d(xe,{cO:()=>D,db:()=>v,fT:()=>C,qK:()=>P});class w{constructor(f,d){this.uri=f,this.value=d}}let C=(()=>{class _{constructor(d,r){if(this[a]="ResourceMap",d instanceof _)this.map=new Map(d.map),this.toKey=r??_.defaultToKey;else if(function x(_){return Array.isArray(_)}(d)){this.map=new Map,this.toKey=r??_.defaultToKey;for(const[l,g]of d)this.set(l,g)}else this.map=new Map,this.toKey=d??_.defaultToKey}set(d,r){return this.map.set(this.toKey(d),new w(d,r)),this}get(d){var r;return null===(r=this.map.get(this.toKey(d)))||void 0===r?void 0:r.value}has(d){return this.map.has(this.toKey(d))}get size(){return this.map.size}clear(){this.map.clear()}delete(d){return this.map.delete(this.toKey(d))}forEach(d,r){typeof r<"u"&&(d=d.bind(r));for(const[l,g]of this.map)d(g.value,g.uri,this)}*values(){for(const d of this.map.values())yield d.value}*keys(){for(const d of this.map.values())yield d.uri}*entries(){for(const d of this.map.values())yield[d.uri,d.value]}*[(a=Symbol.toStringTag,Symbol.iterator)](){for(const[,d]of this.map)yield[d.uri,d.value]}}return _.defaultToKey=f=>f.toString(),_})();class S{constructor(){this[F]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var f;return null===(f=this._head)||void 0===f?void 0:f.value}get last(){var f;return null===(f=this._tail)||void 0===f?void 0:f.value}has(f){return this._map.has(f)}get(f,d=0){const r=this._map.get(f);if(r)return 0!==d&&this.touch(r,d),r.value}set(f,d,r=0){let l=this._map.get(f);if(l)l.value=d,0!==r&&this.touch(l,r);else{switch(l={key:f,value:d,next:void 0,previous:void 0},r){case 0:case 2:default:this.addItemLast(l);break;case 1:this.addItemFirst(l)}this._map.set(f,l),this._size++}return this}delete(f){return!!this.remove(f)}remove(f){const d=this._map.get(f);if(d)return this._map.delete(f),this.removeItem(d),this._size--,d.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const f=this._head;return this._map.delete(f.key),this.removeItem(f),this._size--,f.value}forEach(f,d){const r=this._state;let l=this._head;for(;l;){if(d?f.bind(d)(l.value,l.key,this):f(l.value,l.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");l=l.next}}keys(){const f=this,d=this._state;let r=this._head;const l={[Symbol.iterator]:()=>l,next(){if(f._state!==d)throw new Error("LinkedMap got modified during iteration.");if(r){const g={value:r.key,done:!1};return r=r.next,g}return{value:void 0,done:!0}}};return l}values(){const f=this,d=this._state;let r=this._head;const l={[Symbol.iterator]:()=>l,next(){if(f._state!==d)throw new Error("LinkedMap got modified during iteration.");if(r){const g={value:r.value,done:!1};return r=r.next,g}return{value:void 0,done:!0}}};return l}entries(){const f=this,d=this._state;let r=this._head;const l={[Symbol.iterator]:()=>l,next(){if(f._state!==d)throw new Error("LinkedMap got modified during iteration.");if(r){const g={value:[r.key,r.value],done:!1};return r=r.next,g}return{value:void 0,done:!0}}};return l}[(F=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(f){if(f>=this.size)return;if(0===f)return void this.clear();let d=this._head,r=this.size;for(;d&&r>f;)this._map.delete(d.key),d=d.next,r--;this._head=d,this._size=r,d&&(d.previous=void 0),this._state++}trimNew(f){if(f>=this.size)return;if(0===f)return void this.clear();let d=this._tail,r=this.size;for(;d&&r>f;)this._map.delete(d.key),d=d.previous,r--;this._tail=d,this._size=r,d&&(d.next=void 0),this._state++}addItemFirst(f){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");f.next=this._head,this._head.previous=f}else this._tail=f;this._head=f,this._state++}addItemLast(f){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");f.previous=this._tail,this._tail.next=f}else this._head=f;this._tail=f,this._state++}removeItem(f){if(f===this._head&&f===this._tail)this._head=void 0,this._tail=void 0;else if(f===this._head){if(!f.next)throw new Error("Invalid list");f.next.previous=void 0,this._head=f.next}else if(f===this._tail){if(!f.previous)throw new Error("Invalid list");f.previous.next=void 0,this._tail=f.previous}else{const d=f.next,r=f.previous;if(!d||!r)throw new Error("Invalid list");d.previous=r,r.next=d}f.next=void 0,f.previous=void 0,this._state++}touch(f,d){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===d||2===d)if(1===d){if(f===this._head)return;const r=f.next,l=f.previous;f===this._tail?(l.next=void 0,this._tail=l):(r.previous=l,l.next=r),f.previous=void 0,f.next=this._head,this._head.previous=f,this._head=f,this._state++}else if(2===d){if(f===this._tail)return;const r=f.next,l=f.previous;f===this._head?(r.previous=void 0,this._head=r):(r.previous=l,l.next=r),f.next=void 0,f.previous=this._tail,this._tail.next=f,this._tail=f,this._state++}}toJSON(){const f=[];return this.forEach((d,r)=>{f.push([r,d])}),f}fromJSON(f){this.clear();for(const[d,r]of f)this.set(d,r)}}class b extends S{constructor(f,d=1){super(),this._limit=f,this._ratio=Math.min(Math.max(0,d),1)}get limit(){return this._limit}set limit(f){this._limit=f,this.checkTrim()}get(f,d=2){return super.get(f,d)}peek(f){return super.get(f,0)}set(f,d){return super.set(f,d,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}}class P extends b{constructor(f,d=1){super(f,d)}trim(f){this.trimOld(f)}set(f,d){return super.set(f,d),this.checkTrim(),this}}class D{constructor(f){if(this._m1=new Map,this._m2=new Map,f)for(const[d,r]of f)this.set(d,r)}clear(){this._m1.clear(),this._m2.clear()}set(f,d){this._m1.set(f,d),this._m2.set(d,f)}get(f){return this._m1.get(f)}getKey(f){return this._m2.get(f)}delete(f){const d=this._m1.get(f);return void 0!==d&&(this._m1.delete(f),this._m2.delete(d),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class v{constructor(){this.map=new Map}add(f,d){let r=this.map.get(f);r||(r=new Set,this.map.set(f,r)),r.add(d)}delete(f,d){const r=this.map.get(f);r&&(r.delete(d),0===r.size&&this.map.delete(f))}forEach(f,d){const r=this.map.get(f);r&&r.forEach(d)}get(f){return this.map.get(f)||new Set}}},83713:(tt,xe,t)=>{t.d(xe,{As:()=>w,qg:()=>x});var a=t(93233),F=t(32417);function w(b){return JSON.stringify(b,C)}function x(b){let P=JSON.parse(b);return P=S(P),P}function C(b,P){return P instanceof RegExp?{$mid:2,source:P.source,flags:P.flags}:P}function S(b,P=0){if(!b||P>200)return b;if("object"==typeof b){switch(b.$mid){case 1:return F.r.revive(b);case 2:return new RegExp(b.source,b.flags);case 17:return new Date(b.source)}if(b instanceof a.MB||b instanceof Uint8Array)return b;if(Array.isArray(b))for(let D=0;D<b.length;++D)b[D]=S(b[D],P+1);else for(const D in b)Object.hasOwnProperty.call(b,D)&&(b[D]=S(b[D],P+1))}return b}},12323:(tt,xe,t)=>{t.d(xe,{K:()=>a});const a=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},75109:(tt,xe,t)=>{t.d(xe,{Ez:()=>_,fV:()=>P,ny:()=>S,v$:()=>b,zl:()=>r});var a=t(25680),F=t(21828),w=t(6653),x=t(32417),C=t(68200),S=function(g){return g.inMemory="inmemory",g.vscode="vscode",g.internal="private",g.walkThrough="walkThrough",g.walkThroughSnippet="walkThroughSnippet",g.http="http",g.https="https",g.file="file",g.mailto="mailto",g.untitled="untitled",g.data="data",g.command="command",g.vscodeRemote="vscode-remote",g.vscodeRemoteResource="vscode-remote-resource",g.vscodeManagedRemoteResource="vscode-managed-remote-resource",g.vscodeUserData="vscode-userdata",g.vscodeCustomEditor="vscode-custom-editor",g.vscodeNotebookCell="vscode-notebook-cell",g.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",g.vscodeNotebookCellOutput="vscode-notebook-cell-output",g.vscodeInteractiveInput="vscode-interactive-input",g.vscodeSettings="vscode-settings",g.vscodeWorkspaceTrust="vscode-workspace-trust",g.vscodeTerminal="vscode-terminal",g.vscodeChatCodeBlock="vscode-chat-code-block",g.vscodeCopilotBackingChatCodeBlock="vscode-copilot-chat-code-block",g.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",g.vscodeChatSesssion="vscode-chat-editor",g.webviewPanel="webview-panel",g.vscodeWebview="vscode-webview",g.extension="extension",g.vscodeFileResource="vscode-file",g.tmp="tmp",g.vsls="vsls",g.vscodeSourceControl="vscode-scm",g.commentsInput="comment",g.codeSetting="code-setting",g}(S||{});function b(g,p){return x.r.isUri(g)?(0,w.Q_)(g.scheme,p):(0,w.ns)(g,p+":")}function P(g,...p){return p.some(m=>b(g,m))}const _=new class v{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(p){this._preferredWebSchema=p}get _remoteResourcesPath(){return C.SA.join(this._serverRootPath,S.vscodeRemoteResource)}rewrite(p){if(this._delegate)try{return this._delegate(p)}catch(N){return a.dz(N),p}const m=p.authority;let T=this._hosts[m];T&&-1!==T.indexOf(":")&&-1===T.indexOf("[")&&(T=`[${T}]`);const A=this._ports[m],k=this._connectionTokens[m];let O=`path=${encodeURIComponent(p.path)}`;return"string"==typeof k&&(O+=`&tkn=${encodeURIComponent(k)}`),x.r.from({scheme:F.HZ?this._preferredWebSchema:S.vscodeRemoteResource,authority:`${T}:${A}`,path:this._remoteResourcesPath,query:O})}},r=new((()=>{class g{uriToBrowserUri(m){return m.scheme===S.vscodeRemote?_.rewrite(m):m.scheme!==S.file||!F.ib&&F.lg!==`${S.vscodeFileResource}://${g.FALLBACK_AUTHORITY}`?m:m.with({scheme:S.vscodeFileResource,authority:m.authority||g.FALLBACK_AUTHORITY,query:null,fragment:null})}}return g.FALLBACK_AUTHORITY="vscode-app",g})());var l;!function(g){const p=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);g.CoopAndCoep=Object.freeze(p.get("3"));const m="vscode-coi";g.getHeadersFromQuery=function T(k){let O;"string"==typeof k?O=new URL(k).searchParams:k instanceof URL?O=k.searchParams:x.r.isUri(k)&&(O=new URL(k.toString(!0)).searchParams);const N=O?.get(m);if(N)return p.get(N)},g.addSearchParam=function A(k,O,N){if(!globalThis.crossOriginIsolated)return;const H=O&&N?"3":N?"2":"1";k instanceof URLSearchParams?k.set(m,H):k[m]=H}}(l||(l={}))},45045:(tt,xe,t)=>{function a(x,C,S){return Math.min(Math.max(x,C),S)}t.d(xe,{Uq:()=>F,mu:()=>w,qE:()=>a});class F{constructor(){this._n=1,this._val=0}update(C){return this._val=this._val+(C-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class w{constructor(C){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(C),this._values.fill(0,0,C)}update(C){const S=this._values[this._index];return this._values[this._index]=C,this._index=(this._index+1)%this._values.length,this._sum-=S,this._sum+=C,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},24311:(tt,xe,t)=>{t.d(xe,{Go:()=>F,PI:()=>C,V0:()=>v,aI:()=>P,co:()=>b,kT:()=>_,ol:()=>w});var a=t(66702);function F(f){if(!f||"object"!=typeof f||f instanceof RegExp)return f;const d=Array.isArray(f)?[]:{};return Object.entries(f).forEach(([r,l])=>{d[r]=l&&"object"==typeof l?F(l):l}),d}function w(f){if(!f||"object"!=typeof f)return f;const d=[f];for(;d.length>0;){const r=d.shift();Object.freeze(r);for(const l in r)if(x.call(r,l)){const g=r[l];"object"==typeof g&&!Object.isFrozen(g)&&!(0,a.iu)(g)&&d.push(g)}}return f}const x=Object.prototype.hasOwnProperty;function C(f,d){return S(f,d,new Set)}function S(f,d,r){if((0,a.z)(f))return f;const l=d(f);if(typeof l<"u")return l;if(Array.isArray(f)){const g=[];for(const p of f)g.push(S(p,d,r));return g}if((0,a.Gv)(f)){if(r.has(f))throw new Error("Cannot clone recursive data-structure");r.add(f);const g={};for(const p in f)x.call(f,p)&&(g[p]=S(f[p],d,r));return r.delete(f),g}return f}function b(f,d,r=!0){return(0,a.Gv)(f)?((0,a.Gv)(d)&&Object.keys(d).forEach(l=>{l in f?r&&((0,a.Gv)(f[l])&&(0,a.Gv)(d[l])?b(f[l],d[l],r):f[l]=d[l]):f[l]=d[l]}),f):d}function P(f,d){if(f===d)return!0;if(null==f||null==d||typeof f!=typeof d||"object"!=typeof f||Array.isArray(f)!==Array.isArray(d))return!1;let r,l;if(Array.isArray(f)){if(f.length!==d.length)return!1;for(r=0;r<f.length;r++)if(!P(f[r],d[r]))return!1}else{const g=[];for(l in f)g.push(l);g.sort();const p=[];for(l in d)p.push(l);if(p.sort(),!P(g,p))return!1;for(r=0;r<g.length;r++)if(!P(f[g[r]],d[g[r]]))return!1}return!0}function v(f){const d=[];for(const r of function D(f){let d=[];for(;Object.prototype!==f;)d=d.concat(Object.getOwnPropertyNames(f)),f=Object.getPrototypeOf(f);return d}(f))"function"==typeof f[r]&&d.push(r);return d}function _(f,d){const r=g=>function(){const p=Array.prototype.slice.call(arguments,0);return d(g,p)},l={};for(const g of f)l[g]=r(g);return l}},28044:(tt,xe,t)=>{t.d(xe,{fm:()=>b,Y:()=>D,zL:()=>P,yC:()=>v,lk:()=>f.lk,un:()=>F.un,nb:()=>F.nb,ZX:()=>f.ZX,C:()=>F.C,rm:()=>F.rm,X2:()=>a.X2,y0:()=>f.y0,Yd:()=>f.Yd,yQ:()=>f.yQ,FY:()=>a.FY,OI:()=>f.OI,PO:()=>a.PO,Rn:()=>a.Rn,oJ:()=>r});var a=t(19159),F=t(37673),w=t(43929),x=t(99031),C=t(87320),S=t(86457);function b(g){return new _(new C.nA(void 0,void 0,g),g,void 0,void 0)}function P(g,p){var m;return new _(new C.nA(g.owner,g.debugName,null!==(m=g.debugReferenceFn)&&void 0!==m?m:p),p,void 0,void 0)}function D(g,p){var m;return new _(new C.nA(g.owner,g.debugName,null!==(m=g.debugReferenceFn)&&void 0!==m?m:p),p,g.createEmptyChangeSummary,g.handleChange)}function v(g){const p=new x.Cm,m=P({owner:void 0,debugName:void 0,debugReferenceFn:g},T=>{p.clear(),g(T,p)});return(0,x.s)(()=>{m.dispose(),p.dispose()})}class _{get debugName(){var p;return null!==(p=this._debugNameData.getDebugName(this))&&void 0!==p?p:"(anonymous)"}constructor(p,m,T,A){var k,O;this._debugNameData=p,this._runFn=m,this.createChangeSummary=T,this._handleChange=A,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=null===(k=this.createChangeSummary)||void 0===k?void 0:k.call(this),null===(O=(0,S.tZ)())||void 0===O||O.handleAutorunCreated(this),this._runIfNeeded(),(0,x.Ay)(this)}dispose(){this.disposed=!0;for(const p of this.dependencies)p.removeObserver(this);this.dependencies.clear(),(0,x.VD)(this)}_runIfNeeded(){var p,m,T;if(3===this.state)return;const A=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=A,this.state=3;const k=this.disposed;try{if(!k){null===(p=(0,S.tZ)())||void 0===p||p.handleAutorunTriggered(this);const O=this.changeSummary;this.changeSummary=null===(m=this.createChangeSummary)||void 0===m?void 0:m.call(this),this._runFn(this,O)}}finally{k||null===(T=(0,S.tZ)())||void 0===T||T.handleAutorunFinished(this);for(const O of this.dependenciesToBeRemoved)O.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){3===this.state&&(this.state=1),this.updateCount++}endUpdate(){if(1===this.updateCount)do{if(1===this.state){this.state=3;for(const p of this.dependencies)if(p.reportChanges(),2===this.state)break}this._runIfNeeded()}while(3!==this.state);this.updateCount--,(0,w.Ft)(()=>this.updateCount>=0)}handlePossibleChange(p){3===this.state&&this.dependencies.has(p)&&!this.dependenciesToBeRemoved.has(p)&&(this.state=1)}handleChange(p,m){this.dependencies.has(p)&&!this.dependenciesToBeRemoved.has(p)&&(!this._handleChange||this._handleChange({changedObservable:p,change:m,didChange:A=>A===p},this.changeSummary))&&(this.state=2)}readObservable(p){if(this.disposed)return p.get();p.addObserver(this);const m=p.get();return this.dependencies.add(p),this.dependenciesToBeRemoved.delete(p),m}}(b||(b={})).Observer=_;var f=t(30721),d=t(25680);function r(g,p,m,T){return p||(p=A=>null!=A),new Promise((A,k)=>{let O=!0,N=!1;const H=g.map(j=>({isFinished:p(j),error:!!m&&m(j),state:j})),L=b(j=>{const{isFinished:Z,error:te,state:X}=H.read(j);(Z||te)&&(O?N=!0:L.dispose(),te?k(!0===te?X:te):A(X))});if(T){const j=T.onCancellationRequested(()=>{L.dispose(),j.dispose(),k(new d.AL)});if(T.isCancellationRequested)return L.dispose(),j.dispose(),void k(new d.AL)}O=!1,N&&L.dispose()})}},19159:(tt,xe,t)=>{t.d(xe,{Bm:()=>S,FB:()=>P,FY:()=>A,N2:()=>v,PO:()=>m,Rn:()=>d,X2:()=>N,YY:()=>l,ZK:()=>f,Zh:()=>k,fL:()=>g,zV:()=>_});var a=t(10467),F=t(58958),w=t(87320),x=t(86457);let C,b,D,r;function S(L){C=L}function P(L){b=L}function v(L){D=L}class _{get TChange(){return null}reportChanges(){this.get()}read(j){return j?j.readObservable(this):this.get()}map(j,Z){const te=void 0===Z?void 0:j,X=void 0===Z?j:Z;return D({owner:te,debugName:()=>{const U=(0,w.qQ)(X);if(void 0!==U)return U;const R=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(X.toString());return R?`${this.debugName}.${R[2]}`:te?void 0:`${this.debugName} (mapped)`},debugReferenceFn:X},U=>X(this.read(U),U))}recomputeInitiallyAndOnChange(j,Z){return j.add(C(this,Z)),this}}class f extends _{constructor(){super(...arguments),this.observers=new Set}addObserver(j){const Z=this.observers.size;this.observers.add(j),0===Z&&this.onFirstObserverAdded()}removeObserver(j){this.observers.delete(j)&&0===this.observers.size&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function d(L,j){const Z=new T(L,j);try{L(Z)}finally{Z.finish()}}function l(L){if(r)L(r);else{const j=new T(L,void 0);r=j;try{L(j)}finally{j.finish(),r=void 0}}}function g(L,j){return p.apply(this,arguments)}function p(){return(p=(0,a.A)(function*(L,j){const Z=new T(L,j);try{yield L(Z)}finally{Z.finish()}})).apply(this,arguments)}function m(L,j,Z){L?j(L):d(j,Z)}class T{constructor(j,Z){var te;this._fn=j,this._getDebugName=Z,this.updatingObservers=[],null===(te=(0,x.tZ)())||void 0===te||te.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():(0,w.qQ)(this._fn)}updateObserver(j,Z){this.updatingObservers.push({observer:j,observable:Z}),j.beginUpdate(Z)}finish(){var j;const Z=this.updatingObservers;for(let te=0;te<Z.length;te++){const{observer:X,observable:U}=Z[te];X.endUpdate(U)}this.updatingObservers=null,null===(j=(0,x.tZ)())||void 0===j||j.handleEndTransaction()}}function A(L,j){let Z;return Z="string"==typeof L?new w.nA(void 0,L,void 0):new w.nA(L,void 0,void 0),new O(Z,j,F.nx)}function k(L,j){var Z;return new O(new w.nA(L.owner,L.debugName,void 0),j,null!==(Z=L.equalsFn)&&void 0!==Z?Z:F.nx)}class O extends f{get debugName(){var j;return null!==(j=this._debugNameData.getDebugName(this))&&void 0!==j?j:"ObservableValue"}constructor(j,Z,te){super(),this._debugNameData=j,this._equalityComparator=te,this._value=Z}get(){return this._value}set(j,Z,te){var X;if(void 0===te&&this._equalityComparator(this._value,j))return;let U;Z||(Z=U=new T(()=>{},()=>`Setting ${this.debugName}`));try{const q=this._value;this._setValue(j),null===(X=(0,x.tZ)())||void 0===X||X.handleObservableChanged(this,{oldValue:q,newValue:j,change:te,didChange:!0,hadValue:!0});for(const R of this.observers)Z.updateObserver(R,this),R.handleChange(this,te)}finally{U&&U.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(j){this._value=j}}function N(L,j){let Z;return Z="string"==typeof L?new w.nA(void 0,L,void 0):new w.nA(L,void 0,void 0),new H(Z,j,F.nx)}class H extends O{_setValue(j){this._value!==j&&(this._value&&this._value.dispose(),this._value=j)}dispose(){var j;null===(j=this._value)||void 0===j||j.dispose()}}},87320:(tt,xe,t)=>{t.d(xe,{nA:()=>a,qQ:()=>_});class a{constructor(d,r,l){this.owner=d,this.debugNameSource=r,this.referenceFn=l}getDebugName(d){return function x(f,d){var r;const l=w.get(f);if(l)return l;const g=function C(f,d){const r=w.get(f);if(r)return r;const l=d.owner?function D(f){var d;const r=P.get(f);if(r)return r;const l=function v(f){const d=f.constructor;return d?d.name:"Object"}(f);let g=null!==(d=b.get(l))&&void 0!==d?d:0;g++,b.set(l,g);const p=1===g?l:`${l}#${g}`;return P.set(f,p),p}(d.owner)+".":"";let g;const p=d.debugNameSource;if(void 0!==p){if("function"!=typeof p)return l+p;if(g=p(),void 0!==g)return l+g}const m=d.referenceFn;if(void 0!==m&&(g=_(m),void 0!==g))return l+g;if(void 0!==d.owner){const T=function S(f,d){for(const r in f)if(f[r]===d)return r}(d.owner,f);if(void 0!==T)return l+T}}(f,d);if(g){let p=null!==(r=F.get(g))&&void 0!==r?r:0;p++,F.set(g,p);const m=1===p?g:`${g}#${p}`;return w.set(f,m),m}}(d,this)}}const F=new Map,w=new WeakMap,b=new Map,P=new WeakMap;function _(f){const d=f.toString(),l=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(d),g=l?l[1]:void 0;return g?.trim()}},37673:(tt,xe,t)=>{t.d(xe,{C:()=>D,a0:()=>f,dQ:()=>P,nb:()=>v,rm:()=>_,un:()=>b});var a=t(43929),F=t(58958),w=t(99031),x=t(19159),C=t(87320),S=t(86457);function b(l,g){return void 0!==g?new d(new C.nA(l,void 0,g),g,void 0,void 0,void 0,F.nx):new d(new C.nA(void 0,void 0,l),l,void 0,void 0,void 0,F.nx)}function P(l,g,p){return new r(new C.nA(l,void 0,g),g,void 0,void 0,void 0,F.nx,p)}function D(l,g){var p;return new d(new C.nA(l.owner,l.debugName,l.debugReferenceFn),g,void 0,void 0,l.onLastObserverRemoved,null!==(p=l.equalsFn)&&void 0!==p?p:F.nx)}function v(l,g){var p;return new d(new C.nA(l.owner,l.debugName,void 0),g,l.createEmptyChangeSummary,l.handleChange,void 0,null!==(p=l.equalityComparer)&&void 0!==p?p:F.nx)}function _(l,g){let p,m;void 0===g?(p=l,m=void 0):(m=l,p=g);const T=new w.Cm;return new d(new C.nA(m,void 0,p),A=>(T.clear(),p(A,T)),void 0,void 0,()=>T.dispose(),F.nx)}function f(l,g){let p,m;void 0===g?(p=l,m=void 0):(m=l,p=g);const T=new w.Cm;return new d(new C.nA(m,void 0,p),A=>{T.clear();const k=p(A);return k&&T.add(k),k},void 0,void 0,()=>T.dispose(),F.nx)}(0,x.N2)(D);class d extends x.ZK{get debugName(){var g;return null!==(g=this._debugNameData.getDebugName(this))&&void 0!==g?g:"(anonymous)"}constructor(g,p,m,T,A=void 0,k){var O,N;super(),this._debugNameData=g,this._computeFn=p,this.createChangeSummary=m,this._handleChange=T,this._handleLastObserverRemoved=A,this._equalityComparator=k,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=null===(O=this.createChangeSummary)||void 0===O?void 0:O.call(this),null===(N=(0,S.tZ)())||void 0===N||N.handleDerivedCreated(this)}onLastObserverRemoved(){var g;this.state=0,this.value=void 0;for(const p of this.dependencies)p.removeObserver(this);this.dependencies.clear(),null===(g=this._handleLastObserverRemoved)||void 0===g||g.call(this)}get(){var g;if(0===this.observers.size){const p=this._computeFn(this,null===(g=this.createChangeSummary)||void 0===g?void 0:g.call(this));return this.onLastObserverRemoved(),p}do{if(1===this.state)for(const p of this.dependencies)if(p.reportChanges(),2===this.state)break;1===this.state&&(this.state=3),this._recomputeIfNeeded()}while(3!==this.state);return this.value}_recomputeIfNeeded(){var g,p;if(3===this.state)return;const m=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=m;const T=0!==this.state,A=this.value;this.state=3;const k=this.changeSummary;this.changeSummary=null===(g=this.createChangeSummary)||void 0===g?void 0:g.call(this);try{this.value=this._computeFn(this,k)}finally{for(const N of this.dependenciesToBeRemoved)N.removeObserver(this);this.dependenciesToBeRemoved.clear()}const O=T&&!this._equalityComparator(A,this.value);if(null===(p=(0,S.tZ)())||void 0===p||p.handleDerivedRecomputed(this,{oldValue:A,newValue:this.value,change:void 0,didChange:O,hadValue:T}),O)for(const N of this.observers)N.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(g){this.updateCount++;const p=1===this.updateCount;if(3===this.state&&(this.state=1,!p))for(const m of this.observers)m.handlePossibleChange(this);if(p)for(const m of this.observers)m.beginUpdate(this)}endUpdate(g){if(this.updateCount--,0===this.updateCount){const p=[...this.observers];for(const m of p)m.endUpdate(this)}(0,a.Ft)(()=>this.updateCount>=0)}handlePossibleChange(g){if(3===this.state&&this.dependencies.has(g)&&!this.dependenciesToBeRemoved.has(g)){this.state=1;for(const p of this.observers)p.handlePossibleChange(this)}}handleChange(g,p){if(this.dependencies.has(g)&&!this.dependenciesToBeRemoved.has(g)){const m=!this._handleChange||this._handleChange({changedObservable:g,change:p,didChange:A=>A===g},this.changeSummary),T=3===this.state;if(m&&(1===this.state||T)&&(this.state=2,T))for(const A of this.observers)A.handlePossibleChange(this)}}readObservable(g){g.addObserver(this);const p=g.get();return this.dependencies.add(g),this.dependenciesToBeRemoved.delete(g),p}addObserver(g){const p=!this.observers.has(g)&&this.updateCount>0;super.addObserver(g),p&&g.beginUpdate(this)}removeObserver(g){const p=this.observers.has(g)&&this.updateCount>0;super.removeObserver(g),p&&g.endUpdate(this)}}class r extends d{constructor(g,p,m,T,A=void 0,k,O){super(g,p,m,T,A,k),this.set=O}}},86457:(tt,xe,t)=>{let a;function F(r){a=r}function w(){return a}t.d(xe,{Br:()=>F,jm:()=>x,tZ:()=>w});class x{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(l){return function C(r){const l=new Array,g=[];let p="";!function m(A){if("length"in A)for(const k of A)k&&m(k);else"text"in A?(p+=`%c${A.text}`,l.push(A.style),A.data&&g.push(...A.data)):"data"in A&&g.push(...A.data)}(r);const T=[p,...l];return T.push(...g),T}([S(f("|  ",this.indentation)),l])}formatInfo(l){return l.hadValue?l.didChange?[S(" "),P(D(l.oldValue,70),{color:"red",strikeThrough:!0}),S(" "),P(D(l.newValue,60),{color:"green"})]:[S(" (unchanged)")]:[S(" "),P(D(l.newValue,60),{color:"green"}),S(" (initial)")]}handleObservableChanged(l,g){console.log(...this.textToConsoleArgs([b("observable value changed"),P(l.debugName,{color:"BlueViolet"}),...this.formatInfo(g)]))}formatChanges(l){if(0!==l.size)return P(" (changed deps: "+[...l].map(g=>g.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(l){const g=l.handleChange;this.changedObservablesSets.set(l,new Set),l.handleChange=(p,m)=>(this.changedObservablesSets.get(l).add(p),g.apply(l,[p,m]))}handleDerivedRecomputed(l,g){const p=this.changedObservablesSets.get(l);console.log(...this.textToConsoleArgs([b("derived recomputed"),P(l.debugName,{color:"BlueViolet"}),...this.formatInfo(g),this.formatChanges(p),{data:[{fn:l._computeFn}]}])),p.clear()}handleFromEventObservableTriggered(l,g){console.log(...this.textToConsoleArgs([b("observable from event triggered"),P(l.debugName,{color:"BlueViolet"}),...this.formatInfo(g),{data:[{fn:l._getValue}]}]))}handleAutorunCreated(l){const g=l.handleChange;this.changedObservablesSets.set(l,new Set),l.handleChange=(p,m)=>(this.changedObservablesSets.get(l).add(p),g.apply(l,[p,m]))}handleAutorunTriggered(l){const g=this.changedObservablesSets.get(l);console.log(...this.textToConsoleArgs([b("autorun"),P(l.debugName,{color:"BlueViolet"}),this.formatChanges(g),{data:[{fn:l._runFn}]}])),g.clear(),this.indentation++}handleAutorunFinished(l){this.indentation--}handleBeginTransaction(l){let g=l.getDebugName();void 0===g&&(g=""),console.log(...this.textToConsoleArgs([b("transaction"),P(g,{color:"BlueViolet"}),{data:[{fn:l._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}function S(r){return P(r,{color:"black"})}function b(r){return P(function d(r,l){for(;r.length<l;)r+=" ";return r}(`${r}: `,10),{color:"black",bold:!0})}function P(r,l={color:"black"}){const p={color:l.color};return l.strikeThrough&&(p["text-decoration"]="line-through"),l.bold&&(p["font-weight"]="bold"),{text:r,style:function g(m){return Object.entries(m).reduce((T,[A,k])=>`${T}${A}:${k};`,"")}(p)}}function D(r,l){switch(typeof r){case"number":default:return""+r;case"string":return r.length+2<=l?`"${r}"`:`"${r.substr(0,l-7)}"+...`;case"boolean":return r?"true":"false";case"undefined":return"undefined";case"object":return null===r?"null":Array.isArray(r)?function v(r,l){let g="[ ",p=!0;for(const m of r){if(p||(g+=", "),g.length-5>l){g+="...";break}p=!1,g+=`${D(m,l-g.length)}`}return g+=" ]",g}(r,l):function _(r,l){let g="{ ",p=!0;for(const[m,T]of Object.entries(r)){if(p||(g+=", "),g.length-5>l){g+="...";break}p=!1,g+=`${m}: ${D(T,l-g.length)}`}return g+=" }",g}(r,l);case"symbol":return r.toString();case"function":return`[[Function${r.name?" "+r.name:""}]]`}}function f(r,l){let g="";for(let p=1;p<=l;p++)g+=r;return g}},30721:(tt,xe,t)=>{t.d(xe,{OI:()=>g,Rl:()=>A,Yd:()=>d,ZX:()=>m,lk:()=>b,y0:()=>D,yQ:()=>_}),t(5643);var H,F=t(99031),w=t(19159),x=t(87320),C=t(37673),S=t(86457);function b(H){return new P(H)}class P extends w.zV{constructor(L){super(),this.value=L}get debugName(){return this.toString()}get(){return this.value}addObserver(L){}removeObserver(L){}toString(){return`Const: ${this.value}`}}function D(H,L){return new v(H,L)}class v extends w.ZK{constructor(L,j){super(),this.event=L,this._getValue=j,this.hasValue=!1,this.handleEvent=Z=>{var te;const X=this._getValue(Z),U=this.value,q=!this.hasValue||U!==X;let R=!1;q&&(this.value=X,this.hasValue&&(R=!0,(0,w.PO)(v.globalTransaction,W=>{var Y;null===(Y=(0,S.tZ)())||void 0===Y||Y.handleFromEventObservableTriggered(this,{oldValue:U,newValue:X,change:void 0,didChange:q,hadValue:this.hasValue});for(const oe of this.observers)W.updateObserver(oe,this),oe.handleChange(this,void 0)},()=>{const W=this.getDebugName();return"Event fired"+(W?`: ${W}`:"")})),this.hasValue=!0),R||null===(te=(0,S.tZ)())||void 0===te||te.handleFromEventObservableTriggered(this,{oldValue:U,newValue:X,change:void 0,didChange:q,hadValue:this.hasValue})}}getDebugName(){return(0,x.qQ)(this._getValue)}get debugName(){const L=this.getDebugName();return"From Event"+(L?`: ${L}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}function _(H,L){return new f(H,L)}(H=D||(D={})).Observer=v,H.batchEventsGlobally=function L(j,Z){let te=!1;void 0===v.globalTransaction&&(v.globalTransaction=j,te=!0);try{Z()}finally{te&&(v.globalTransaction=void 0)}};class f extends w.ZK{constructor(L,j){super(),this.debugName=L,this.event=j,this.handleEvent=()=>{(0,w.Rn)(Z=>{for(const te of this.observers)Z.updateObserver(te,this),te.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function d(H){return"string"==typeof H?new r(H):new r(void 0,H)}class r extends w.ZK{get debugName(){var L;return null!==(L=new x.nA(this._owner,this._debugName,void 0).getDebugName(this))&&void 0!==L?L:"Observable Signal"}constructor(L,j){super(),this._debugName=L,this._owner=j}trigger(L,j){if(L)for(const Z of this.observers)L.updateObserver(Z,this),Z.handleChange(this,j);else(0,w.Rn)(Z=>{this.trigger(Z,j)},()=>`Trigger signal ${this.debugName}`)}get(){}}function g(H,L){const j=new p(!0,L);return H.addObserver(j),L?L(H.get()):H.reportChanges(),(0,F.s)(()=>{H.removeObserver(j)})}(0,w.FB)(function l(H){const L=new p(!1,void 0);return H.addObserver(L),(0,F.s)(()=>{H.removeObserver(L)})}),(0,w.Bm)(g);class p{constructor(L,j){this._forceRecompute=L,this._handleValue=j,this._counter=0}beginUpdate(L){this._counter++}endUpdate(L){this._counter--,0===this._counter&&this._forceRecompute&&(this._handleValue?this._handleValue(L.get()):L.reportChanges())}handlePossibleChange(L){}handleChange(L,j){}}function m(H,L){let j;return(0,C.un)(H,te=>(j=L(te,j),j))}function A(H,L,j,Z){let te=new k(j,Z);return(0,C.C)({debugReferenceFn:j,owner:H,onLastObserverRemoved:()=>{te.dispose(),te=new k(j)}},U=>(te.setItems(L.read(U)),te.getItems()))}class k{constructor(L,j){this._map=L,this._keySelector=j,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(L=>L.store.dispose()),this._cache.clear()}setItems(L){const j=[],Z=new Set(this._cache.keys());for(const te of L){const X=this._keySelector?this._keySelector(te):te;let U=this._cache.get(X);if(U)Z.delete(X);else{const q=new F.Cm;U={out:this._map(te,q),store:q},this._cache.set(X,U)}j.push(U.out)}for(const te of Z)this._cache.get(te).store.dispose(),this._cache.delete(te);this._items=j}getItems(){return this._items}}},68200:(tt,xe,t)=>{t.d(xe,{IN:()=>A,LC:()=>te,P8:()=>Z,S8:()=>N,SA:()=>O,V8:()=>L,Vn:()=>X,hd:()=>H,pD:()=>j});var a=t(26834);const S=46,b=47,P=92,D=58;class _ extends Error{constructor(q,R,W){let Y;"string"==typeof R&&0===R.indexOf("not ")?(Y="must not be",R=R.replace(/^not /,"")):Y="must be";const oe=-1!==q.indexOf(".")?"property":"argument";let z=`The "${q}" ${oe} ${Y} of type ${R}`;z+=". Received type "+typeof W,super(z),this.code="ERR_INVALID_ARG_TYPE"}}function d(U,q){if("string"!=typeof U)throw new _(q,"string",U)}const r="win32"===a.iD;function l(U){return U===b||U===P}function g(U){return U===b}function p(U){return U>=65&&U<=90||U>=97&&U<=122}function m(U,q,R,W){let Y="",oe=0,z=-1,G=0,Q=0;for(let K=0;K<=U.length;++K){if(K<U.length)Q=U.charCodeAt(K);else{if(W(Q))break;Q=b}if(W(Q)){if(z!==K-1&&1!==G)if(2===G){if(Y.length<2||2!==oe||Y.charCodeAt(Y.length-1)!==S||Y.charCodeAt(Y.length-2)!==S){if(Y.length>2){const ie=Y.lastIndexOf(R);-1===ie?(Y="",oe=0):(Y=Y.slice(0,ie),oe=Y.length-1-Y.lastIndexOf(R)),z=K,G=0;continue}if(0!==Y.length){Y="",oe=0,z=K,G=0;continue}}q&&(Y+=Y.length>0?`${R}..`:"..",oe=2)}else Y.length>0?Y+=`${R}${U.slice(z+1,K)}`:Y=U.slice(z+1,K),oe=K-z-1;z=K,G=0}else Q===S&&-1!==G?++G:G=-1}return Y}function T(U,q){!function f(U,q){if(null===U||"object"!=typeof U)throw new _(q,"Object",U)}(q,"pathObject");const R=q.dir||q.root,W=q.base||`${q.name||""}${q.ext||""}`;return R?R===q.root?`${R}${W}`:`${R}${U}${W}`:W}const A={resolve(...U){let q="",R="",W=!1;for(let Y=U.length-1;Y>=-1;Y--){let oe;if(Y>=0){if(oe=U[Y],d(oe,"path"),0===oe.length)continue}else 0===q.length?oe=a.bJ():(oe=a._K[`=${q}`]||a.bJ(),(void 0===oe||oe.slice(0,2).toLowerCase()!==q.toLowerCase()&&oe.charCodeAt(2)===P)&&(oe=`${q}\\`));const z=oe.length;let G=0,Q="",K=!1;const ie=oe.charCodeAt(0);if(1===z)l(ie)&&(G=1,K=!0);else if(l(ie))if(K=!0,l(oe.charCodeAt(1))){let ae=2,de=ae;for(;ae<z&&!l(oe.charCodeAt(ae));)ae++;if(ae<z&&ae!==de){const se=oe.slice(de,ae);for(de=ae;ae<z&&l(oe.charCodeAt(ae));)ae++;if(ae<z&&ae!==de){for(de=ae;ae<z&&!l(oe.charCodeAt(ae));)ae++;(ae===z||ae!==de)&&(Q=`\\\\${se}\\${oe.slice(de,ae)}`,G=ae)}}}else G=1;else p(ie)&&oe.charCodeAt(1)===D&&(Q=oe.slice(0,2),G=2,z>2&&l(oe.charCodeAt(2))&&(K=!0,G=3));if(Q.length>0)if(q.length>0){if(Q.toLowerCase()!==q.toLowerCase())continue}else q=Q;if(W){if(q.length>0)break}else if(R=`${oe.slice(G)}\\${R}`,W=K,K&&q.length>0)break}return R=m(R,!W,"\\",l),W?`${q}\\${R}`:`${q}${R}`||"."},normalize(U){d(U,"path");const q=U.length;if(0===q)return".";let W,R=0,Y=!1;const oe=U.charCodeAt(0);if(1===q)return g(oe)?"\\":U;if(l(oe))if(Y=!0,l(U.charCodeAt(1))){let G=2,Q=G;for(;G<q&&!l(U.charCodeAt(G));)G++;if(G<q&&G!==Q){const K=U.slice(Q,G);for(Q=G;G<q&&l(U.charCodeAt(G));)G++;if(G<q&&G!==Q){for(Q=G;G<q&&!l(U.charCodeAt(G));)G++;if(G===q)return`\\\\${K}\\${U.slice(Q)}\\`;G!==Q&&(W=`\\\\${K}\\${U.slice(Q,G)}`,R=G)}}}else R=1;else p(oe)&&U.charCodeAt(1)===D&&(W=U.slice(0,2),R=2,q>2&&l(U.charCodeAt(2))&&(Y=!0,R=3));let z=R<q?m(U.slice(R),!Y,"\\",l):"";return 0===z.length&&!Y&&(z="."),z.length>0&&l(U.charCodeAt(q-1))&&(z+="\\"),void 0===W?Y?`\\${z}`:z:Y?`${W}\\${z}`:`${W}${z}`},isAbsolute(U){d(U,"path");const q=U.length;if(0===q)return!1;const R=U.charCodeAt(0);return l(R)||q>2&&p(R)&&U.charCodeAt(1)===D&&l(U.charCodeAt(2))},join(...U){if(0===U.length)return".";let q,R;for(let oe=0;oe<U.length;++oe){const z=U[oe];d(z,"path"),z.length>0&&(void 0===q?q=R=z:q+=`\\${z}`)}if(void 0===q)return".";let W=!0,Y=0;if("string"==typeof R&&l(R.charCodeAt(0))){++Y;const oe=R.length;oe>1&&l(R.charCodeAt(1))&&(++Y,oe>2&&(l(R.charCodeAt(2))?++Y:W=!1))}if(W){for(;Y<q.length&&l(q.charCodeAt(Y));)Y++;Y>=2&&(q=`\\${q.slice(Y)}`)}return A.normalize(q)},relative(U,q){if(d(U,"from"),d(q,"to"),U===q)return"";const R=A.resolve(U),W=A.resolve(q);if(R===W||(U=R.toLowerCase())===(q=W.toLowerCase()))return"";let Y=0;for(;Y<U.length&&U.charCodeAt(Y)===P;)Y++;let oe=U.length;for(;oe-1>Y&&U.charCodeAt(oe-1)===P;)oe--;const z=oe-Y;let G=0;for(;G<q.length&&q.charCodeAt(G)===P;)G++;let Q=q.length;for(;Q-1>G&&q.charCodeAt(Q-1)===P;)Q--;const K=Q-G,ie=z<K?z:K;let ae=-1,de=0;for(;de<ie;de++){const ge=U.charCodeAt(Y+de);if(ge!==q.charCodeAt(G+de))break;ge===P&&(ae=de)}if(de!==ie){if(-1===ae)return W}else{if(K>ie){if(q.charCodeAt(G+de)===P)return W.slice(G+de+1);if(2===de)return W.slice(G+de)}z>ie&&(U.charCodeAt(Y+de)===P?ae=de:2===de&&(ae=3)),-1===ae&&(ae=0)}let se="";for(de=Y+ae+1;de<=oe;++de)(de===oe||U.charCodeAt(de)===P)&&(se+=0===se.length?"..":"\\..");return G+=ae,se.length>0?`${se}${W.slice(G,Q)}`:(W.charCodeAt(G)===P&&++G,W.slice(G,Q))},toNamespacedPath(U){if("string"!=typeof U||0===U.length)return U;const q=A.resolve(U);if(q.length<=2)return U;if(q.charCodeAt(0)===P){if(q.charCodeAt(1)===P){const R=q.charCodeAt(2);if(63!==R&&R!==S)return`\\\\?\\UNC\\${q.slice(2)}`}}else if(p(q.charCodeAt(0))&&q.charCodeAt(1)===D&&q.charCodeAt(2)===P)return`\\\\?\\${q}`;return U},dirname(U){d(U,"path");const q=U.length;if(0===q)return".";let R=-1,W=0;const Y=U.charCodeAt(0);if(1===q)return l(Y)?U:".";if(l(Y)){if(R=W=1,l(U.charCodeAt(1))){let G=2,Q=G;for(;G<q&&!l(U.charCodeAt(G));)G++;if(G<q&&G!==Q){for(Q=G;G<q&&l(U.charCodeAt(G));)G++;if(G<q&&G!==Q){for(Q=G;G<q&&!l(U.charCodeAt(G));)G++;if(G===q)return U;G!==Q&&(R=W=G+1)}}}}else p(Y)&&U.charCodeAt(1)===D&&(R=q>2&&l(U.charCodeAt(2))?3:2,W=R);let oe=-1,z=!0;for(let G=q-1;G>=W;--G)if(l(U.charCodeAt(G))){if(!z){oe=G;break}}else z=!1;if(-1===oe){if(-1===R)return".";oe=R}return U.slice(0,oe)},basename(U,q){void 0!==q&&d(q,"ext"),d(U,"path");let oe,R=0,W=-1,Y=!0;if(U.length>=2&&p(U.charCodeAt(0))&&U.charCodeAt(1)===D&&(R=2),void 0!==q&&q.length>0&&q.length<=U.length){if(q===U)return"";let z=q.length-1,G=-1;for(oe=U.length-1;oe>=R;--oe){const Q=U.charCodeAt(oe);if(l(Q)){if(!Y){R=oe+1;break}}else-1===G&&(Y=!1,G=oe+1),z>=0&&(Q===q.charCodeAt(z)?-1==--z&&(W=oe):(z=-1,W=G))}return R===W?W=G:-1===W&&(W=U.length),U.slice(R,W)}for(oe=U.length-1;oe>=R;--oe)if(l(U.charCodeAt(oe))){if(!Y){R=oe+1;break}}else-1===W&&(Y=!1,W=oe+1);return-1===W?"":U.slice(R,W)},extname(U){d(U,"path");let q=0,R=-1,W=0,Y=-1,oe=!0,z=0;U.length>=2&&U.charCodeAt(1)===D&&p(U.charCodeAt(0))&&(q=W=2);for(let G=U.length-1;G>=q;--G){const Q=U.charCodeAt(G);if(l(Q)){if(!oe){W=G+1;break}}else-1===Y&&(oe=!1,Y=G+1),Q===S?-1===R?R=G:1!==z&&(z=1):-1!==R&&(z=-1)}return-1===R||-1===Y||0===z||1===z&&R===Y-1&&R===W+1?"":U.slice(R,Y)},format:T.bind(null,"\\"),parse(U){d(U,"path");const q={root:"",dir:"",base:"",ext:"",name:""};if(0===U.length)return q;const R=U.length;let W=0,Y=U.charCodeAt(0);if(1===R)return l(Y)?(q.root=q.dir=U,q):(q.base=q.name=U,q);if(l(Y)){if(W=1,l(U.charCodeAt(1))){let ae=2,de=ae;for(;ae<R&&!l(U.charCodeAt(ae));)ae++;if(ae<R&&ae!==de){for(de=ae;ae<R&&l(U.charCodeAt(ae));)ae++;if(ae<R&&ae!==de){for(de=ae;ae<R&&!l(U.charCodeAt(ae));)ae++;ae===R?W=ae:ae!==de&&(W=ae+1)}}}}else if(p(Y)&&U.charCodeAt(1)===D){if(R<=2)return q.root=q.dir=U,q;if(W=2,l(U.charCodeAt(2))){if(3===R)return q.root=q.dir=U,q;W=3}}W>0&&(q.root=U.slice(0,W));let oe=-1,z=W,G=-1,Q=!0,K=U.length-1,ie=0;for(;K>=W;--K)if(Y=U.charCodeAt(K),l(Y)){if(!Q){z=K+1;break}}else-1===G&&(Q=!1,G=K+1),Y===S?-1===oe?oe=K:1!==ie&&(ie=1):-1!==oe&&(ie=-1);return-1!==G&&(-1===oe||0===ie||1===ie&&oe===G-1&&oe===z+1?q.base=q.name=U.slice(z,G):(q.name=U.slice(z,oe),q.base=U.slice(z,G),q.ext=U.slice(oe,G))),q.dir=z>0&&z!==W?U.slice(0,z-1):q.root,q},sep:"\\",delimiter:";",win32:null,posix:null},k=(()=>{if(r){const U=/\\/g;return()=>{const q=a.bJ().replace(U,"/");return q.slice(q.indexOf("/"))}}return()=>a.bJ()})(),O={resolve(...U){let q="",R=!1;for(let W=U.length-1;W>=-1&&!R;W--){const Y=W>=0?U[W]:k();d(Y,"path"),0!==Y.length&&(q=`${Y}/${q}`,R=Y.charCodeAt(0)===b)}return q=m(q,!R,"/",g),R?`/${q}`:q.length>0?q:"."},normalize(U){if(d(U,"path"),0===U.length)return".";const q=U.charCodeAt(0)===b,R=U.charCodeAt(U.length-1)===b;return 0===(U=m(U,!q,"/",g)).length?q?"/":R?"./":".":(R&&(U+="/"),q?`/${U}`:U)},isAbsolute:U=>(d(U,"path"),U.length>0&&U.charCodeAt(0)===b),join(...U){if(0===U.length)return".";let q;for(let R=0;R<U.length;++R){const W=U[R];d(W,"path"),W.length>0&&(void 0===q?q=W:q+=`/${W}`)}return void 0===q?".":O.normalize(q)},relative(U,q){if(d(U,"from"),d(q,"to"),U===q||(U=O.resolve(U))===(q=O.resolve(q)))return"";const W=U.length,Y=W-1,z=q.length-1,G=Y<z?Y:z;let Q=-1,K=0;for(;K<G;K++){const ae=U.charCodeAt(1+K);if(ae!==q.charCodeAt(1+K))break;ae===b&&(Q=K)}if(K===G)if(z>G){if(q.charCodeAt(1+K)===b)return q.slice(1+K+1);if(0===K)return q.slice(1+K)}else Y>G&&(U.charCodeAt(1+K)===b?Q=K:0===K&&(Q=0));let ie="";for(K=1+Q+1;K<=W;++K)(K===W||U.charCodeAt(K)===b)&&(ie+=0===ie.length?"..":"/..");return`${ie}${q.slice(1+Q)}`},toNamespacedPath:U=>U,dirname(U){if(d(U,"path"),0===U.length)return".";const q=U.charCodeAt(0)===b;let R=-1,W=!0;for(let Y=U.length-1;Y>=1;--Y)if(U.charCodeAt(Y)===b){if(!W){R=Y;break}}else W=!1;return-1===R?q?"/":".":q&&1===R?"//":U.slice(0,R)},basename(U,q){void 0!==q&&d(q,"ext"),d(U,"path");let oe,R=0,W=-1,Y=!0;if(void 0!==q&&q.length>0&&q.length<=U.length){if(q===U)return"";let z=q.length-1,G=-1;for(oe=U.length-1;oe>=0;--oe){const Q=U.charCodeAt(oe);if(Q===b){if(!Y){R=oe+1;break}}else-1===G&&(Y=!1,G=oe+1),z>=0&&(Q===q.charCodeAt(z)?-1==--z&&(W=oe):(z=-1,W=G))}return R===W?W=G:-1===W&&(W=U.length),U.slice(R,W)}for(oe=U.length-1;oe>=0;--oe)if(U.charCodeAt(oe)===b){if(!Y){R=oe+1;break}}else-1===W&&(Y=!1,W=oe+1);return-1===W?"":U.slice(R,W)},extname(U){d(U,"path");let q=-1,R=0,W=-1,Y=!0,oe=0;for(let z=U.length-1;z>=0;--z){const G=U.charCodeAt(z);if(G!==b)-1===W&&(Y=!1,W=z+1),G===S?-1===q?q=z:1!==oe&&(oe=1):-1!==q&&(oe=-1);else if(!Y){R=z+1;break}}return-1===q||-1===W||0===oe||1===oe&&q===W-1&&q===R+1?"":U.slice(q,W)},format:T.bind(null,"/"),parse(U){d(U,"path");const q={root:"",dir:"",base:"",ext:"",name:""};if(0===U.length)return q;const R=U.charCodeAt(0)===b;let W;R?(q.root="/",W=1):W=0;let Y=-1,oe=0,z=-1,G=!0,Q=U.length-1,K=0;for(;Q>=W;--Q){const ie=U.charCodeAt(Q);if(ie!==b)-1===z&&(G=!1,z=Q+1),ie===S?-1===Y?Y=Q:1!==K&&(K=1):-1!==Y&&(K=-1);else if(!G){oe=Q+1;break}}if(-1!==z){const ie=0===oe&&R?1:oe;-1===Y||0===K||1===K&&Y===z-1&&Y===oe+1?q.base=q.name=U.slice(ie,z):(q.name=U.slice(ie,Y),q.base=U.slice(ie,z),q.ext=U.slice(Y,z))}return oe>0?q.dir=U.slice(0,oe-1):R&&(q.dir="/"),q},sep:"/",delimiter:":",win32:null,posix:null};O.win32=A.win32=A,O.posix=A.posix=O;const N=r?A.normalize:O.normalize,H=r?A.resolve:O.resolve,L=r?A.relative:O.relative,j=r?A.dirname:O.dirname,Z=r?A.basename:O.basename,te=r?A.extname:O.extname,X=r?A.sep:O.sep},21828:(tt,xe,t)=>{t.d(xe,{BH:()=>oe,Fr:()=>W,H8:()=>de,HZ:()=>X,OS:()=>Q,UP:()=>_e,_p:()=>G,cm:()=>ae,gm:()=>se,ib:()=>te,j9:()=>Z,lg:()=>q,m0:()=>ye,nr:()=>ge,uF:()=>L,un:()=>R,zx:()=>j});var F,w,a=t(81644);const x="en";let l,T,C=!1,S=!1,b=!1,P=!1,D=!1,v=!1,_=!1,f=!1,d=!1,r=!1,g=x,p=null,m=null;const A=globalThis;let k;typeof A.vscode<"u"&&typeof A.vscode.process<"u"?k=A.vscode.process:typeof process<"u"&&"string"==typeof(null===(F=null==process?void 0:process.versions)||void 0===F?void 0:F.node)&&(k=process);const O="string"==typeof(null===(w=k?.versions)||void 0===w?void 0:w.electron),N=O&&"renderer"===k?.type;if("object"==typeof k){C="win32"===k.platform,S="darwin"===k.platform,b="linux"===k.platform,P=b&&!!k.env.SNAP&&!!k.env.SNAP_REVISION,_=O,d=!!k.env.CI||!!k.env.BUILD_ARTIFACTSTAGINGDIRECTORY,l=x,g=x;const M=k.env.VSCODE_NLS_CONFIG;if(M)try{const ce=JSON.parse(M);l=ce.locale,p=ce.osLocale,g=ce.availableLanguages["*"]||x,m=ce._translationsConfigFile}catch{}D=!0}else"object"!=typeof navigator||N?console.error("Unable to resolve platform."):(T=navigator.userAgent,C=T.indexOf("Windows")>=0,S=T.indexOf("Macintosh")>=0,f=(T.indexOf("Macintosh")>=0||T.indexOf("iPad")>=0||T.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,b=T.indexOf("Linux")>=0,r=T?.indexOf("Mobi")>=0,v=!0,l=a.AM(a.kg({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||x,g=l,p=navigator.language);let H=0;S?H=1:C?H=3:b&&(H=2);const L=C,j=S,Z=b,te=D,X=v,q=v&&"function"==typeof A.importScripts?A.origin:void 0,R=f,W=r,Y=T,oe=g,z="function"==typeof A.postMessage&&!A.importScripts,G=(()=>{if(z){const M=[];A.addEventListener("message",Se=>{if(Se.data&&Se.data.vscodeScheduleAsyncWork)for(let Ie=0,ne=M.length;Ie<ne;Ie++){const ue=M[Ie];if(ue.id===Se.data.vscodeScheduleAsyncWork)return M.splice(Ie,1),void ue.callback()}});let ce=0;return Se=>{const Ie=++ce;M.push({id:Ie,callback:Se}),A.postMessage({vscodeScheduleAsyncWork:Ie},"*")}}return M=>setTimeout(M)})(),Q=S||f?2:C?1:3;let K=!0,ie=!1;function ae(){if(!ie){ie=!0;const M=new Uint8Array(2);M[0]=1,M[1]=2,K=513===new Uint16Array(M.buffer)[0]}return K}const de=!!(Y&&Y.indexOf("Chrome")>=0),se=!!(Y&&Y.indexOf("Firefox")>=0),ge=!!(!de&&Y&&Y.indexOf("Safari")>=0),_e=!!(Y&&Y.indexOf("Edg/")>=0),ye=!!(Y&&Y.indexOf("Android")>=0)},26834:(tt,xe,t)=>{t.d(xe,{_K:()=>C,bJ:()=>x,iD:()=>S});var a=t(21828);let F;const w=globalThis.vscode;if(typeof w<"u"&&typeof w.process<"u"){const b=w.process;F={get platform(){return b.platform},get arch(){return b.arch},get env(){return b.env},cwd:()=>b.cwd()}}else F=typeof process<"u"?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd()}:{get platform(){return a.uF?"win32":a.zx?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const x=F.cwd,C=F.env,S=F.platform},43850:(tt,xe,t)=>{var a;t.d(xe,{Q:()=>a}),function(F){function w(b,P){if(b.start>=P.end||P.start>=b.end)return{start:0,end:0};const D=Math.max(b.start,P.start),v=Math.min(b.end,P.end);return v-D<=0?{start:0,end:0}:{start:D,end:v}}function x(b){return b.end-b.start<=0}F.intersect=w,F.isEmpty=x,F.intersects=function C(b,P){return!x(w(b,P))},F.relativeComplement=function S(b,P){const D=[],v={start:b.start,end:Math.min(P.start,b.end)},_={start:Math.max(P.end,b.start),end:b.end};return x(v)||D.push(v),x(_)||D.push(_),D}}(a||(a={}))},76698:(tt,xe,t)=>{t.d(xe,{B6:()=>te,Fd:()=>A,LC:()=>p,P8:()=>g,Pi:()=>l,er:()=>D,iZ:()=>k,n4:()=>f,o1:()=>O,pD:()=>m,su:()=>b,uJ:()=>T});var a=t(49007),F=t(75109),w=t(68200),x=t(21828),C=t(6653),S=t(32417);function b(X){return(0,S.I)(X,!0)}class P{constructor(U){this._ignorePathCasing=U}compare(U,q,R=!1){return U===q?0:(0,C.UD)(this.getComparisonKey(U,R),this.getComparisonKey(q,R))}isEqual(U,q,R=!1){return U===q||!(!U||!q)&&this.getComparisonKey(U,R)===this.getComparisonKey(q,R)}getComparisonKey(U,q=!1){return U.with({path:this._ignorePathCasing(U)?U.path.toLowerCase():void 0,fragment:q?null:void 0}).toString()}isEqualOrParent(U,q,R=!1){if(U.scheme===q.scheme){if(U.scheme===F.ny.file)return a._1(b(U),b(q),this._ignorePathCasing(U))&&U.query===q.query&&(R||U.fragment===q.fragment);if(H(U.authority,q.authority))return a._1(U.path,q.path,this._ignorePathCasing(U),"/")&&U.query===q.query&&(R||U.fragment===q.fragment)}return!1}joinPath(U,...q){return S.r.joinPath(U,...q)}basenameOrAuthority(U){return g(U)||U.authority}basename(U){return w.SA.basename(U.path)}extname(U){return w.SA.extname(U.path)}dirname(U){if(0===U.path.length)return U;let q;return U.scheme===F.ny.file?q=S.r.file(w.pD(b(U))).path:(q=w.SA.dirname(U.path),U.authority&&q.length&&47!==q.charCodeAt(0)&&(console.error(`dirname("${U.toString})) resulted in a relative path`),q="/")),U.with({path:q})}normalizePath(U){if(!U.path.length)return U;let q;return q=U.scheme===F.ny.file?S.r.file(w.S8(b(U))).path:w.SA.normalize(U.path),U.with({path:q})}relativePath(U,q){if(U.scheme!==q.scheme||!H(U.authority,q.authority))return;if(U.scheme===F.ny.file){const Y=w.V8(b(U),b(q));return x.uF?a.TH(Y):Y}let R=U.path||"/";const W=q.path||"/";if(this._ignorePathCasing(U)){let Y=0;for(const oe=Math.min(R.length,W.length);Y<oe&&(R.charCodeAt(Y)===W.charCodeAt(Y)||R.charAt(Y).toLowerCase()===W.charAt(Y).toLowerCase());Y++);R=W.substr(0,Y)+R.substr(Y)}return w.SA.relative(R,W)}resolvePath(U,q){if(U.scheme===F.ny.file){const R=S.r.file(w.hd(b(U),q));return U.with({authority:R.authority,path:R.path})}return q=a.kb(q),U.with({path:w.SA.resolve(U.path,q)})}isAbsolutePath(U){return!!U.path&&"/"===U.path[0]}isEqualAuthority(U,q){return U===q||void 0!==U&&void 0!==q&&(0,C.Q_)(U,q)}hasTrailingPathSeparator(U,q=w.Vn){if(U.scheme===F.ny.file){const R=b(U);return R.length>a.Zn(R).length&&R[R.length-1]===q}{const R=U.path;return R.length>1&&47===R.charCodeAt(R.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(U.fsPath)}}removeTrailingPathSeparator(U,q=w.Vn){return L(U,q)?U.with({path:U.path.substr(0,U.path.length-1)}):U}addTrailingPathSeparator(U,q=w.Vn){let R=!1;if(U.scheme===F.ny.file){const W=b(U);R=void 0!==W&&W.length===a.Zn(W).length&&W[W.length-1]===q}else{q="/";const W=U.path;R=1===W.length&&47===W.charCodeAt(W.length-1)}return R||L(U,q)?U:U.with({path:U.path+"/"})}}const D=new P(()=>!1),f=(new P(X=>X.scheme!==F.ny.file||!x.j9),new P(X=>!0),D.isEqual.bind(D)),l=(D.isEqualOrParent.bind(D),D.getComparisonKey.bind(D),D.basenameOrAuthority.bind(D)),g=D.basename.bind(D),p=D.extname.bind(D),m=D.dirname.bind(D),T=D.joinPath.bind(D),A=D.normalizePath.bind(D),k=D.relativePath.bind(D),O=D.resolvePath.bind(D),H=(D.isAbsolutePath.bind(D),D.isEqualAuthority.bind(D)),L=D.hasTrailingPathSeparator.bind(D);var te,X;D.removeTrailingPathSeparator.bind(D),D.addTrailingPathSeparator.bind(D),(X=te||(te={})).META_DATA_LABEL="label",X.META_DATA_DESCRIPTION="description",X.META_DATA_SIZE="size",X.META_DATA_MIME="mime",X.parseMetaData=function U(q){const R=new Map;q.path.substring(q.path.indexOf(";")+1,q.path.lastIndexOf(";")).split(";").forEach(oe=>{const[z,G]=oe.split(":");z&&G&&R.set(z,G)});const Y=q.path.substring(0,q.path.indexOf(";"));return Y&&R.set(X.META_DATA_MIME,Y),R}},42110:(tt,xe,t)=>{t.d(xe,{yE:()=>x});var a=t(5643),F=t(99031);class w{constructor(f,d,r,l,g,p,m){this._forceIntegerValues=f,this._scrollStateBrand=void 0,this._forceIntegerValues&&(d|=0,r|=0,l|=0,g|=0,p|=0,m|=0),this.rawScrollLeft=l,this.rawScrollTop=m,d<0&&(d=0),l+d>r&&(l=r-d),l<0&&(l=0),g<0&&(g=0),m+g>p&&(m=p-g),m<0&&(m=0),this.width=d,this.scrollWidth=r,this.scrollLeft=l,this.height=g,this.scrollHeight=p,this.scrollTop=m}equals(f){return this.rawScrollLeft===f.rawScrollLeft&&this.rawScrollTop===f.rawScrollTop&&this.width===f.width&&this.scrollWidth===f.scrollWidth&&this.scrollLeft===f.scrollLeft&&this.height===f.height&&this.scrollHeight===f.scrollHeight&&this.scrollTop===f.scrollTop}withScrollDimensions(f,d){return new w(this._forceIntegerValues,typeof f.width<"u"?f.width:this.width,typeof f.scrollWidth<"u"?f.scrollWidth:this.scrollWidth,d?this.rawScrollLeft:this.scrollLeft,typeof f.height<"u"?f.height:this.height,typeof f.scrollHeight<"u"?f.scrollHeight:this.scrollHeight,d?this.rawScrollTop:this.scrollTop)}withScrollPosition(f){return new w(this._forceIntegerValues,this.width,this.scrollWidth,typeof f.scrollLeft<"u"?f.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof f.scrollTop<"u"?f.scrollTop:this.rawScrollTop)}createScrollEvent(f,d){return{inSmoothScrolling:d,oldWidth:f.width,oldScrollWidth:f.scrollWidth,oldScrollLeft:f.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:f.height,oldScrollHeight:f.scrollHeight,oldScrollTop:f.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:this.width!==f.width,scrollWidthChanged:this.scrollWidth!==f.scrollWidth,scrollLeftChanged:this.scrollLeft!==f.scrollLeft,heightChanged:this.height!==f.height,scrollHeightChanged:this.scrollHeight!==f.scrollHeight,scrollTopChanged:this.scrollTop!==f.scrollTop}}}class x extends F.jG{constructor(f){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new a.vl),this.onScroll=this._onScroll.event,this._smoothScrollDuration=f.smoothScrollDuration,this._scheduleAtNextAnimationFrame=f.scheduleAtNextAnimationFrame,this._state=new w(f.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(f){this._smoothScrollDuration=f}validateScrollPosition(f){return this._state.withScrollPosition(f)}getScrollDimensions(){return this._state}setScrollDimensions(f,d){var r;const l=this._state.withScrollDimensions(f,d);this._setState(l,!!this._smoothScrolling),null===(r=this._smoothScrolling)||void 0===r||r.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(f){const d=this._state.withScrollPosition(f);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(d,!1)}setScrollPositionSmooth(f,d){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(f);if(this._smoothScrolling){const r=this._state.withScrollPosition(f={scrollLeft:typeof f.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:f.scrollLeft,scrollTop:typeof f.scrollTop>"u"?this._smoothScrolling.to.scrollTop:f.scrollTop});if(this._smoothScrolling.to.scrollLeft===r.scrollLeft&&this._smoothScrolling.to.scrollTop===r.scrollTop)return;let l;l=d?new P(this._smoothScrolling.from,r,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,r,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=l}else{const r=this._state.withScrollPosition(f);this._smoothScrolling=P.start(this._state,r,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const f=this._smoothScrolling.tick(),d=this._state.withScrollPosition(f);if(this._setState(d,!0),this._smoothScrolling){if(f.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(f,d){const r=this._state;r.equals(f)||(this._state=f,this._onScroll.fire(this._state.createScrollEvent(r,d)))}}class C{constructor(f,d,r){this.scrollLeft=f,this.scrollTop=d,this.isDone=r}}function S(_,f){const d=f-_;return function(r){return _+d*function v(_){return 1-function D(_){return Math.pow(_,3)}(1-_)}(r)}}class P{constructor(f,d,r,l){this.from=f,this.to=d,this.duration=l,this.startTime=r,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(f,d,r){if(Math.abs(f-d)>2.5*r){let g,p;return f<d?(g=f+.75*r,p=d-.75*r):(g=f-.75*r,p=d+.75*r),function b(_,f,d){return function(r){return r<d?_(r/d):f((r-d)/(1-d))}}(S(f,g),S(p,d),.33)}return S(f,d)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(f){this.to=f.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(f){const d=(f-this.startTime)/this.duration;if(d<1){const r=this.scrollLeft(d),l=this.scrollTop(d);return new C(r,l,!1)}return new C(this.to.scrollLeft,this.to.scrollTop,!0)}combine(f,d,r){return P.start(f,d,r)}static start(f,d,r){r+=10;const l=Date.now()-10;return new P(f,d,l,r)}}},63832:(tt,xe,t)=>{t.d(xe,{A:()=>w});var a=t(6653),F=function(x){return x[x.Ignore=0]="Ignore",x[x.Info=1]="Info",x[x.Warning=2]="Warning",x[x.Error=3]="Error",x}(F||{});!function(x){const C="error",S="warning",P="info";x.fromValue=function v(f){return f?a.Q_(C,f)?x.Error:a.Q_(S,f)||a.Q_("warn",f)?x.Warning:a.Q_(P,f)?x.Info:x.Ignore:x.Ignore},x.toString=function _(f){switch(f){case x.Error:return C;case x.Warning:return S;case x.Info:return P;default:return"ignore"}}}(F||(F={}));const w=F},42588:(tt,xe,t)=>{t.d(xe,{W:()=>F});const a=globalThis.performance&&"function"==typeof globalThis.performance.now;class F{static create(x){return new F(x)}constructor(x){this._now=a&&!1===x?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}}},6653:(tt,xe,t)=>{t.d(xe,{$X:()=>Se,AV:()=>x,BO:()=>f,Bm:()=>d,Bq:()=>v,DB:()=>j,E_:()=>_e,GP:()=>S,HG:()=>T,LJ:()=>Y,LU:()=>we,Lv:()=>Z,MV:()=>ae,NB:()=>_,OS:()=>l,Q_:()=>X,Qp:()=>q,S8:()=>be,Ss:()=>ne,UD:()=>O,UU:()=>A,Vi:()=>R,W1:()=>H,Wd:()=>me,Wv:()=>te,Z5:()=>z,_J:()=>ce,aC:()=>M,bm:()=>D,eY:()=>g,en:()=>m,ih:()=>P,iy:()=>ie,jy:()=>b,km:()=>K,lF:()=>N,lT:()=>k,m:()=>de,ne:()=>Ie,ns:()=>U,pc:()=>W,r_:()=>ue,tk:()=>Ve,tl:()=>Ce,uz:()=>p,wB:()=>r,y_:()=>Ne,zY:()=>Me,z_:()=>oe,zd:()=>L});var w,a=t(69969),F=t(97081);function x(Fe){return!Fe||"string"!=typeof Fe||0===Fe.trim().length}const C=/{(\d+)}/g;function S(Fe,...qe){return 0===qe.length?Fe:Fe.replace(C,function(dt,vt){const fn=parseInt(vt,10);return isNaN(fn)||fn<0||fn>=qe.length?dt:qe[fn]})}function b(Fe){return Fe.replace(/[<>"'&]/g,qe=>{switch(qe){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return qe})}function P(Fe){return Fe.replace(/[<>&]/g,function(qe){switch(qe){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return qe}})}function D(Fe){return Fe.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function v(Fe,qe=" "){return f(_(Fe,qe),qe)}function _(Fe,qe){if(!Fe||!qe)return Fe;const dt=qe.length;if(0===dt||0===Fe.length)return Fe;let vt=0;for(;Fe.indexOf(qe,vt)===vt;)vt+=dt;return Fe.substring(vt)}function f(Fe,qe){if(!Fe||!qe)return Fe;const dt=qe.length,vt=Fe.length;if(0===dt||0===vt)return Fe;let fn=vt,on=-1;for(;on=Fe.lastIndexOf(qe,fn-1),-1!==on&&on+dt===fn;){if(0===on)return"";fn=on}return Fe.substring(0,fn)}function d(Fe){return Fe.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function r(Fe){return Fe.replace(/\*/g,"")}function l(Fe,qe,dt={}){if(!Fe)throw new Error("Cannot create regex from empty string");qe||(Fe=D(Fe)),dt.wholeWord&&(/\B/.test(Fe.charAt(0))||(Fe="\\b"+Fe),/\B/.test(Fe.charAt(Fe.length-1))||(Fe+="\\b"));let vt="";return dt.global&&(vt+="g"),dt.matchCase||(vt+="i"),dt.multiline&&(vt+="m"),dt.unicode&&(vt+="u"),new RegExp(Fe,vt)}function g(Fe){return"^"!==Fe.source&&"^$"!==Fe.source&&"$"!==Fe.source&&"^\\s*$"!==Fe.source&&!(!Fe.exec("")||0!==Fe.lastIndex)}function p(Fe){return Fe.split(/\r\n|\r|\n/)}function m(Fe){var qe;const dt=[],vt=Fe.split(/(\r\n|\r|\n)/);for(let fn=0;fn<Math.ceil(vt.length/2);fn++)dt.push(vt[2*fn]+(null!==(qe=vt[2*fn+1])&&void 0!==qe?qe:""));return dt}function T(Fe){for(let qe=0,dt=Fe.length;qe<dt;qe++){const vt=Fe.charCodeAt(qe);if(32!==vt&&9!==vt)return qe}return-1}function A(Fe,qe=0,dt=Fe.length){for(let vt=qe;vt<dt;vt++){const fn=Fe.charCodeAt(vt);if(32!==fn&&9!==fn)return Fe.substring(qe,vt)}return Fe.substring(qe,dt)}function k(Fe,qe=Fe.length-1){for(let dt=qe;dt>=0;dt--){const vt=Fe.charCodeAt(dt);if(32!==vt&&9!==vt)return dt}return-1}function O(Fe,qe){return Fe<qe?-1:Fe>qe?1:0}function N(Fe,qe,dt=0,vt=Fe.length,fn=0,on=qe.length){for(;dt<vt&&fn<on;dt++,fn++){const ot=Fe.charCodeAt(dt),De=qe.charCodeAt(fn);if(ot<De)return-1;if(ot>De)return 1}const ht=vt-dt,Je=on-fn;return ht<Je?-1:ht>Je?1:0}function H(Fe,qe){return L(Fe,qe,0,Fe.length,0,qe.length)}function L(Fe,qe,dt=0,vt=Fe.length,fn=0,on=qe.length){for(;dt<vt&&fn<on;dt++,fn++){let ot=Fe.charCodeAt(dt),De=qe.charCodeAt(fn);if(ot===De)continue;if(ot>=128||De>=128)return N(Fe.toLowerCase(),qe.toLowerCase(),dt,vt,fn,on);Z(ot)&&(ot-=32),Z(De)&&(De-=32);const Qe=ot-De;if(0!==Qe)return Qe}const ht=vt-dt,Je=on-fn;return ht<Je?-1:ht>Je?1:0}function j(Fe){return Fe>=48&&Fe<=57}function Z(Fe){return Fe>=97&&Fe<=122}function te(Fe){return Fe>=65&&Fe<=90}function X(Fe,qe){return Fe.length===qe.length&&0===L(Fe,qe)}function U(Fe,qe){return!(qe.length>Fe.length)&&0===L(Fe,qe,0,qe.length)}function q(Fe,qe){const dt=Math.min(Fe.length,qe.length);let vt;for(vt=0;vt<dt;vt++)if(Fe.charCodeAt(vt)!==qe.charCodeAt(vt))return vt;return dt}function R(Fe,qe){const dt=Math.min(Fe.length,qe.length);let vt;const fn=Fe.length-1,on=qe.length-1;for(vt=0;vt<dt;vt++)if(Fe.charCodeAt(fn-vt)!==qe.charCodeAt(on-vt))return vt;return dt}function W(Fe){return 55296<=Fe&&Fe<=56319}function Y(Fe){return 56320<=Fe&&Fe<=57343}function oe(Fe,qe){return qe-56320+(Fe-55296<<10)+65536}function z(Fe,qe,dt){const vt=Fe.charCodeAt(dt);if(W(vt)&&dt+1<qe){const fn=Fe.charCodeAt(dt+1);if(Y(fn))return oe(vt,fn)}return vt}class Q{get offset(){return this._offset}constructor(qe,dt=0){this._str=qe,this._len=qe.length,this._offset=dt}setOffset(qe){this._offset=qe}prevCodePoint(){const qe=function G(Fe,qe){const dt=Fe.charCodeAt(qe-1);if(Y(dt)&&qe>1){const vt=Fe.charCodeAt(qe-2);if(W(vt))return oe(vt,dt)}return dt}(this._str,this._offset);return this._offset-=qe>=65536?2:1,qe}nextCodePoint(){const qe=z(this._str,this._len,this._offset);return this._offset+=qe>=65536?2:1,qe}eol(){return this._offset>=this._len}}class K{get offset(){return this._iterator.offset}constructor(qe,dt=0){this._iterator=new Q(qe,dt)}nextGraphemeLength(){const qe=it.getInstance(),dt=this._iterator,vt=dt.offset;let fn=qe.getGraphemeBreakType(dt.nextCodePoint());for(;!dt.eol();){const on=dt.offset,ht=qe.getGraphemeBreakType(dt.nextCodePoint());if($e(fn,ht)){dt.setOffset(on);break}fn=ht}return dt.offset-vt}prevGraphemeLength(){const qe=it.getInstance(),dt=this._iterator,vt=dt.offset;let fn=qe.getGraphemeBreakType(dt.prevCodePoint());for(;dt.offset>0;){const on=dt.offset,ht=qe.getGraphemeBreakType(dt.prevCodePoint());if($e(ht,fn)){dt.setOffset(on);break}fn=ht}return vt-dt.offset}eol(){return this._iterator.eol()}}function ie(Fe,qe){return new K(Fe,qe).nextGraphemeLength()}function ae(Fe,qe){return new K(Fe,qe).prevGraphemeLength()}function de(Fe,qe){qe>0&&Y(Fe.charCodeAt(qe))&&qe--;const dt=qe+ie(Fe,qe);return[dt-ae(Fe,dt),dt]}let se;function _e(Fe){return se||(se=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/),se.test(Fe)}const ye=/^[\t\n\r\x20-\x7E]*$/;function M(Fe){return ye.test(Fe)}const ce=/[\u2028\u2029]/;function Se(Fe){return ce.test(Fe)}function Ie(Fe){return Fe>=11904&&Fe<=55215||Fe>=63744&&Fe<=64255||Fe>=65281&&Fe<=65374}function ne(Fe){return Fe>=127462&&Fe<=127487||8986===Fe||8987===Fe||9200===Fe||9203===Fe||Fe>=9728&&Fe<=10175||11088===Fe||11093===Fe||Fe>=127744&&Fe<=128591||Fe>=128640&&Fe<=128764||Fe>=128992&&Fe<=129008||Fe>=129280&&Fe<=129535||Fe>=129648&&Fe<=129782}const ue="\ufeff";function we(Fe){return!!(Fe&&Fe.length>0&&65279===Fe.charCodeAt(0))}function Me(Fe,qe=!1){return!!Fe&&(qe&&(Fe=Fe.replace(/\\./g,"")),Fe.toLowerCase()!==Fe)}function Ve(Fe){return Fe%=52,String.fromCharCode(Fe<26?97+Fe:65+Fe-26)}function $e(Fe,qe){return 0===Fe?5!==qe&&7!==qe:!(2===Fe&&3===qe||4!==Fe&&2!==Fe&&3!==Fe&&4!==qe&&2!==qe&&3!==qe&&(8===Fe&&(8===qe||9===qe||11===qe||12===qe)||(11===Fe||9===Fe)&&(9===qe||10===qe)||(12===Fe||10===Fe)&&10===qe||5===qe||13===qe||7===qe||1===Fe||13===Fe&&14===qe||6===Fe&&6===qe))}let it=(()=>{class Fe{static getInstance(){return Fe._INSTANCE||(Fe._INSTANCE=new Fe),Fe._INSTANCE}constructor(){this._data=function He(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}()}getGraphemeBreakType(dt){if(dt<32)return 10===dt?3:13===dt?2:4;if(dt<127)return 0;const vt=this._data,fn=vt.length/3;let on=1;for(;on<=fn;)if(dt<vt[3*on])on*=2;else{if(!(dt>vt[3*on+1]))return vt[3*on+2];on=2*on+1}return 0}}return Fe._INSTANCE=null,Fe})();function me(Fe,qe){if(0===Fe)return 0;const dt=function le(Fe,qe){const dt=new Q(qe,Fe);let vt=dt.prevCodePoint();for(;Ee(vt)||65039===vt||8419===vt;){if(0===dt.offset)return;vt=dt.prevCodePoint()}if(!ne(vt))return;let fn=dt.offset;return fn>0&&8205===dt.prevCodePoint()&&(fn=dt.offset),fn}(Fe,qe);if(void 0!==dt)return dt;const vt=new Q(qe,Fe);return vt.prevCodePoint(),vt.offset}function Ee(Fe){return 127995<=Fe&&Fe<=127999}const be="\xa0";class Ce{static getInstance(qe){return w.cache.get(Array.from(qe))}static getLocales(){return w._locales.value}constructor(qe){this.confusableDictionary=qe}isAmbiguous(qe){return this.confusableDictionary.has(qe)}getPrimaryConfusable(qe){return this.confusableDictionary.get(qe)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}w=Ce,Ce.ambiguousCharacterData=new F.d(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),Ce.cache=new a.o5({getCacheKey:JSON.stringify},Fe=>{function qe(De){const Qe=new Map;for(let mt=0;mt<De.length;mt+=2)Qe.set(De[mt],De[mt+1]);return Qe}function vt(De,Qe){if(!De)return Qe;const mt=new Map;for(const[kt,Ht]of De)Qe.has(kt)&&mt.set(kt,Ht);return mt}const fn=w.ambiguousCharacterData.value;let ht,on=Fe.filter(De=>!De.startsWith("_")&&De in fn);0===on.length&&(on=["_default"]);for(const De of on)ht=vt(ht,qe(fn[De]));const ot=function dt(De,Qe){const mt=new Map(De);for(const[kt,Ht]of Qe)mt.set(kt,Ht);return mt}(qe(fn._common),ht);return new w(ot)}),Ce._locales=new F.d(()=>Object.keys(w.ambiguousCharacterData.value).filter(Fe=>!Fe.startsWith("_")));class Ne{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Ne.getRawData())),this._data}static isInvisibleCharacter(qe){return Ne.getData().has(qe)}static get codePoints(){return Ne.getData()}}Ne._data=void 0},77034:(tt,xe,t)=>{t.d(xe,{h:()=>a});const a=Symbol("MicrotaskDelay")},98360:(tt,xe,t)=>{t.d(xe,{cB:()=>b});var a=t(6653);class F{constructor(){this._value="",this._pos=0}reset(D){return this._value=D,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(D){return D.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class w{constructor(D=!0){this._caseSensitive=D}reset(D){return this._value=D,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let D=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!D)break;this._from++}else D=!1;return this}cmp(D){return this._caseSensitive?(0,a.lF)(D,this._value,0,D.length,this._from,this._to):(0,a.zd)(D,this._value,0,D.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class x{constructor(D=!0,v=!0){this._splitOnBackslash=D,this._caseSensitive=v}reset(D){this._from=0,this._to=0,this._value=D,this._valueLen=D.length;for(let v=D.length-1;v>=0;v--,this._valueLen--){const _=this._value.charCodeAt(v);if(!(47===_||this._splitOnBackslash&&92===_))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let D=!0;for(;this._to<this._valueLen;this._to++){const v=this._value.charCodeAt(this._to);if(47===v||this._splitOnBackslash&&92===v){if(!D)break;this._from++}else D=!1}return this}cmp(D){return this._caseSensitive?(0,a.lF)(D,this._value,0,D.length,this._from,this._to):(0,a.zd)(D,this._value,0,D.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class C{constructor(D,v){this._ignorePathCasing=D,this._ignoreQueryAndFragment=v,this._states=[],this._stateIdx=0}reset(D){return this._value=D,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new x(!1,!this._ignorePathCasing(D)),this._pathIterator.reset(D.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(D)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(D){if(1===this._states[this._stateIdx])return(0,a.W1)(D,this._value.scheme);if(2===this._states[this._stateIdx])return(0,a.W1)(D,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(D);if(4===this._states[this._stateIdx])return(0,a.UD)(D,this._value.query);if(5===this._states[this._stateIdx])return(0,a.UD)(D,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class S{constructor(){this.height=1}rotateLeft(){const D=this.right;return this.right=D.left,D.left=this,this.updateHeight(),D.updateHeight(),D}rotateRight(){const D=this.left;return this.left=D.right,D.right=this,this.updateHeight(),D.updateHeight(),D}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var D,v;return null!==(v=null===(D=this.left)||void 0===D?void 0:D.height)&&void 0!==v?v:0}get heightRight(){var D,v;return null!==(v=null===(D=this.right)||void 0===D?void 0:D.height)&&void 0!==v?v:0}}class b{static forUris(D=(()=>!1),v=(()=>!1)){return new b(new C(D,v))}static forStrings(){return new b(new F)}static forConfigKeys(){return new b(new w)}constructor(D){this._iter=D}clear(){this._root=void 0}set(D,v){const _=this._iter.reset(D);let f;this._root||(this._root=new S,this._root.segment=_.value());const d=[];for(f=this._root;;){const l=_.cmp(f.segment);if(l>0)f.left||(f.left=new S,f.left.segment=_.value()),d.push([-1,f]),f=f.left;else if(l<0)f.right||(f.right=new S,f.right.segment=_.value()),d.push([1,f]),f=f.right;else{if(!_.hasNext())break;_.next(),f.mid||(f.mid=new S,f.mid.segment=_.value()),d.push([0,f]),f=f.mid}}const r=f.value;f.value=v,f.key=D;for(let l=d.length-1;l>=0;l--){const g=d[l][1];g.updateHeight();const p=g.balanceFactor();if(p<-1||p>1){const m=d[l][0],T=d[l+1][0];if(1===m&&1===T)d[l][1]=g.rotateLeft();else if(-1===m&&-1===T)d[l][1]=g.rotateRight();else if(1===m&&-1===T)g.right=d[l+1][1]=d[l+1][1].rotateRight(),d[l][1]=g.rotateLeft();else{if(-1!==m||1!==T)throw new Error;g.left=d[l+1][1]=d[l+1][1].rotateLeft(),d[l][1]=g.rotateRight()}if(l>0)switch(d[l-1][0]){case-1:d[l-1][1].left=d[l][1];break;case 1:d[l-1][1].right=d[l][1];break;case 0:d[l-1][1].mid=d[l][1]}else this._root=d[0][1]}}return r}get(D){var v;return null===(v=this._getNode(D))||void 0===v?void 0:v.value}_getNode(D){const v=this._iter.reset(D);let _=this._root;for(;_;){const f=v.cmp(_.segment);if(f>0)_=_.left;else if(f<0)_=_.right;else{if(!v.hasNext())break;v.next(),_=_.mid}}return _}has(D){const v=this._getNode(D);return!(void 0===v?.value&&void 0===v?.mid)}delete(D){return this._delete(D,!1)}deleteSuperstr(D){return this._delete(D,!0)}_delete(D,v){var _;const f=this._iter.reset(D),d=[];let r=this._root;for(;r;){const l=f.cmp(r.segment);if(l>0)d.push([-1,r]),r=r.left;else if(l<0)d.push([1,r]),r=r.right;else{if(!f.hasNext())break;f.next(),d.push([0,r]),r=r.mid}}if(r){if(v?(r.left=void 0,r.mid=void 0,r.right=void 0,r.height=1):(r.key=void 0,r.value=void 0),!r.mid&&!r.value)if(r.left&&r.right){const l=this._min(r.right);if(l.key){const{key:g,value:p,segment:m}=l;this._delete(l.key,!1),r.key=g,r.value=p,r.segment=m}}else{const l=null!==(_=r.left)&&void 0!==_?_:r.right;if(d.length>0){const[g,p]=d[d.length-1];switch(g){case-1:p.left=l;break;case 0:p.mid=l;break;case 1:p.right=l}}else this._root=l}for(let l=d.length-1;l>=0;l--){const g=d[l][1];g.updateHeight();const p=g.balanceFactor();if(p>1?(g.right.balanceFactor()>=0||(g.right=g.right.rotateRight()),d[l][1]=g.rotateLeft()):p<-1&&(g.left.balanceFactor()<=0||(g.left=g.left.rotateLeft()),d[l][1]=g.rotateRight()),l>0)switch(d[l-1][0]){case-1:d[l-1][1].left=d[l][1];break;case 1:d[l-1][1].right=d[l][1];break;case 0:d[l-1][1].mid=d[l][1]}else this._root=d[0][1]}}}_min(D){for(;D.left;)D=D.left;return D}findSubstr(D){const v=this._iter.reset(D);let f,_=this._root;for(;_;){const d=v.cmp(_.segment);if(d>0)_=_.left;else if(d<0)_=_.right;else{if(!v.hasNext())break;v.next(),f=_.value||f,_=_.mid}}return _&&_.value||f}findSuperstr(D){return this._findSuperstrOrElement(D,!1)}_findSuperstrOrElement(D,v){const _=this._iter.reset(D);let f=this._root;for(;f;){const d=_.cmp(f.segment);if(d>0)f=f.left;else if(d<0)f=f.right;else{if(!_.hasNext())return f.mid?this._entries(f.mid):v?f.value:void 0;_.next(),f=f.mid}}}forEach(D){for(const[v,_]of this)D(_,v)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(D){const v=[];return this._dfsEntries(D,v),v[Symbol.iterator]()}_dfsEntries(D,v){D&&(D.left&&this._dfsEntries(D.left,v),D.value&&v.push([D.key,D.value]),D.mid&&this._dfsEntries(D.mid,v),D.right&&this._dfsEntries(D.right,v))}}},81072:(tt,xe,t)=>{t.d(xe,{L:()=>w});var F,w,a=t(15320);(F||(F={})).isThemeColor=function C(S){return S&&"object"==typeof S&&"string"==typeof S.id},function(x){x.iconNameSegment="[A-Za-z0-9]+",x.iconNameExpression="[A-Za-z0-9-]+",x.iconModifierExpression="~[A-Za-z]+",x.iconNameCharacter="[A-Za-z0-9~-]";const C=new RegExp(`^(${x.iconNameExpression})(${x.iconModifierExpression})?$`);function S(g){const p=C.exec(g.id);if(!p)return S(a.W.error);const[,m,T]=p,A=["codicon","codicon-"+m];return T&&A.push("codicon-modifier-"+T.substring(1)),A}x.asClassNameArray=S,x.asClassName=function b(g){return S(g).join(" ")},x.asCSSSelector=function P(g){return"."+S(g).join(".")},x.isThemeIcon=function D(g){return g&&"object"==typeof g&&"string"==typeof g.id&&(typeof g.color>"u"||F.isThemeColor(g.color))};const v=new RegExp(`^\\$\\((${x.iconNameExpression}(?:${x.iconModifierExpression})?)\\)$`);x.fromString=function _(g){const p=v.exec(g);if(!p)return;const[,m]=p;return{id:m}},x.fromId=function f(g){return{id:g}},x.modify=function d(g,p){let m=g.id;const T=m.lastIndexOf("~");return-1!==T&&(m=m.substring(0,T)),p&&(m=`${m}~${p}`),{id:m}},x.getModifier=function r(g){const p=g.id.lastIndexOf("~");if(-1!==p)return g.id.substring(p+1)},x.isEqual=function l(g,p){var m,T;return g.id===p.id&&(null===(m=g.color)||void 0===m?void 0:m.id)===(null===(T=p.color)||void 0===T?void 0:T.id)}}(w||(w={}))},66702:(tt,xe,t)=>{function a(l){return"string"==typeof l}function F(l){return!("object"!=typeof l||null===l||Array.isArray(l)||l instanceof RegExp||l instanceof Date)}function w(l){const g=Object.getPrototypeOf(Uint8Array);return"object"==typeof l&&l instanceof g}function x(l){return"number"==typeof l&&!isNaN(l)}function C(l){return!!l&&"function"==typeof l[Symbol.iterator]}function S(l){return!0===l||!1===l}function b(l){return typeof l>"u"}function P(l){return!D(l)}function D(l){return b(l)||null===l}function v(l,g){if(!l)throw new Error(g?`Unexpected type, expected '${g}'`:"Unexpected type")}function _(l){if(D(l))throw new Error("Assertion Failed: argument is undefined or null");return l}function f(l){return"function"==typeof l}function d(l,g){const p=Math.min(l.length,g.length);for(let m=0;m<p;m++)r(l[m],g[m])}function r(l,g){if(a(g)){if(typeof l!==g)throw new Error(`argument does not match constraint: typeof ${g}`)}else if(f(g)){try{if(l instanceof g)return}catch{}if(!D(l)&&l.constructor===g||1===g.length&&!0===g.call(void 0,l))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}t.d(xe,{Et:()=>x,Gv:()=>F,Kg:()=>a,Lm:()=>S,O9:()=>P,Tn:()=>f,b0:()=>b,eU:()=>_,iu:()=>w,j:()=>v,jx:()=>d,xZ:()=>C,z:()=>D})},94371:(tt,xe,t)=>{function a(w){return w<0?0:w>255?255:0|w}function F(w){return w<0?0:w>4294967295?4294967295:0|w}t.d(xe,{W:()=>a,j:()=>F})},32417:(tt,xe,t)=>{t.d(xe,{I:()=>m,r:()=>f});var a=t(68200),F=t(21828);const w=/^\w[\w\d+.-]*$/,x=/^\//,C=/^\/\//,D="",v="/",_=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{static isUri(H){return H instanceof f||!!H&&"string"==typeof H.authority&&"string"==typeof H.fragment&&"string"==typeof H.path&&"string"==typeof H.query&&"string"==typeof H.scheme&&"string"==typeof H.fsPath&&"function"==typeof H.with&&"function"==typeof H.toString}constructor(H,L,j,Z,te,X=!1){"object"==typeof H?(this.scheme=H.scheme||D,this.authority=H.authority||D,this.path=H.path||D,this.query=H.query||D,this.fragment=H.fragment||D):(this.scheme=function b(N,H){return N||H?N:"file"}(H,X),this.authority=L||D,this.path=function P(N,H){switch(N){case"https":case"http":case"file":H?H[0]!==v&&(H=v+H):H=v}return H}(this.scheme,j||D),this.query=Z||D,this.fragment=te||D,function S(N,H){if(!N.scheme&&H)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${N.authority}", path: "${N.path}", query: "${N.query}", fragment: "${N.fragment}"}`);if(N.scheme&&!w.test(N.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(N.path)if(N.authority){if(!x.test(N.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(C.test(N.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,X))}get fsPath(){return m(this,!1)}with(H){if(!H)return this;let{scheme:L,authority:j,path:Z,query:te,fragment:X}=H;return void 0===L?L=this.scheme:null===L&&(L=D),void 0===j?j=this.authority:null===j&&(j=D),void 0===Z?Z=this.path:null===Z&&(Z=D),void 0===te?te=this.query:null===te&&(te=D),void 0===X?X=this.fragment:null===X&&(X=D),L===this.scheme&&j===this.authority&&Z===this.path&&te===this.query&&X===this.fragment?this:new r(L,j,Z,te,X)}static parse(H,L=!1){const j=_.exec(H);return j?new r(j[2]||D,O(j[4]||D),O(j[5]||D),O(j[7]||D),O(j[9]||D),L):new r(D,D,D,D,D)}static file(H){let L=D;if(F.uF&&(H=H.replace(/\\/g,v)),H[0]===v&&H[1]===v){const j=H.indexOf(v,2);-1===j?(L=H.substring(2),H=v):(L=H.substring(2,j),H=H.substring(j)||v)}return new r("file",L,H,D,D)}static from(H,L){return new r(H.scheme,H.authority,H.path,H.query,H.fragment,L)}static joinPath(H,...L){if(!H.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let j;return j=F.uF&&"file"===H.scheme?f.file(a.IN.join(m(H,!0),...L)).path:a.SA.join(H.path,...L),H.with({path:j})}toString(H=!1){return T(this,H)}toJSON(){return this}static revive(H){var L,j;if(H){if(H instanceof f)return H;{const Z=new r(H);return Z._formatted=null!==(L=H.external)&&void 0!==L?L:null,Z._fsPath=H._sep===d&&null!==(j=H.fsPath)&&void 0!==j?j:null,Z}}return H}}const d=F.uF?1:void 0;class r extends f{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=m(this,!1)),this._fsPath}toString(H=!1){return H?T(this,!0):(this._formatted||(this._formatted=T(this,!1)),this._formatted)}toJSON(){const H={$mid:1};return this._fsPath&&(H.fsPath=this._fsPath,H._sep=d),this._formatted&&(H.external=this._formatted),this.path&&(H.path=this.path),this.scheme&&(H.scheme=this.scheme),this.authority&&(H.authority=this.authority),this.query&&(H.query=this.query),this.fragment&&(H.fragment=this.fragment),H}}const l={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function g(N,H,L){let j,Z=-1;for(let te=0;te<N.length;te++){const X=N.charCodeAt(te);if(X>=97&&X<=122||X>=65&&X<=90||X>=48&&X<=57||45===X||46===X||95===X||126===X||H&&47===X||L&&91===X||L&&93===X||L&&58===X)-1!==Z&&(j+=encodeURIComponent(N.substring(Z,te)),Z=-1),void 0!==j&&(j+=N.charAt(te));else{void 0===j&&(j=N.substr(0,te));const U=l[X];void 0!==U?(-1!==Z&&(j+=encodeURIComponent(N.substring(Z,te)),Z=-1),j+=U):-1===Z&&(Z=te)}}return-1!==Z&&(j+=encodeURIComponent(N.substring(Z))),void 0!==j?j:N}function p(N){let H;for(let L=0;L<N.length;L++){const j=N.charCodeAt(L);35===j||63===j?(void 0===H&&(H=N.substr(0,L)),H+=l[j]):void 0!==H&&(H+=N[L])}return void 0!==H?H:N}function m(N,H){let L;return L=N.authority&&N.path.length>1&&"file"===N.scheme?`//${N.authority}${N.path}`:47===N.path.charCodeAt(0)&&(N.path.charCodeAt(1)>=65&&N.path.charCodeAt(1)<=90||N.path.charCodeAt(1)>=97&&N.path.charCodeAt(1)<=122)&&58===N.path.charCodeAt(2)?H?N.path.substr(1):N.path[1].toLowerCase()+N.path.substr(2):N.path,F.uF&&(L=L.replace(/\//g,"\\")),L}function T(N,H){const L=H?p:g;let j="",{scheme:Z,authority:te,path:X,query:U,fragment:q}=N;if(Z&&(j+=Z,j+=":"),(te||"file"===Z)&&(j+=v,j+=v),te){let R=te.indexOf("@");if(-1!==R){const W=te.substr(0,R);te=te.substr(R+1),R=W.lastIndexOf(":"),-1===R?j+=L(W,!1,!1):(j+=L(W.substr(0,R),!1,!1),j+=":",j+=L(W.substr(R+1),!1,!0)),j+="@"}te=te.toLowerCase(),R=te.lastIndexOf(":"),-1===R?j+=L(te,!1,!0):(j+=L(te.substr(0,R),!1,!0),j+=te.substr(R))}if(X){if(X.length>=3&&47===X.charCodeAt(0)&&58===X.charCodeAt(2)){const R=X.charCodeAt(1);R>=65&&R<=90&&(X=`/${String.fromCharCode(R+32)}:${X.substr(3)}`)}else if(X.length>=2&&58===X.charCodeAt(1)){const R=X.charCodeAt(0);R>=65&&R<=90&&(X=`${String.fromCharCode(R+32)}:${X.substr(2)}`)}j+=L(X,!0,!1)}return U&&(j+="?",j+=L(U,!1,!1)),q&&(j+="#",j+=H?q:g(q,!1,!1)),j}function A(N){try{return decodeURIComponent(N)}catch{return N.length>3?N.substr(0,3)+A(N.substr(3)):N}}const k=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function O(N){return N.match(k)?N.replace(k,H=>A(H)):N}},90316:(tt,xe,t)=>{t.d(xe,{b:()=>a});const a=function(){if("object"==typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID.bind(crypto);let F;F="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(C){for(let S=0;S<C.length;S++)C[S]=Math.floor(256*Math.random());return C};const w=new Uint8Array(16),x=[];for(let C=0;C<256;C++)x.push(C.toString(16).padStart(2,"0"));return function(){F(w),w[6]=15&w[6]|64,w[8]=63&w[8]|128;let S=0,b="";return b+=x[w[S++]],b+=x[w[S++]],b+=x[w[S++]],b+=x[w[S++]],b+="-",b+=x[w[S++]],b+=x[w[S++]],b+="-",b+=x[w[S++]],b+=x[w[S++]],b+="-",b+=x[w[S++]],b+=x[w[S++]],b+="-",b+=x[w[S++]],b+=x[w[S++]],b+=x[w[S++]],b+=x[w[S++]],b+=x[w[S++]],b+=x[w[S++]],b}}()},39437:(tt,xe,t)=>{t.d(xe,{K:()=>l});var a=t(10467),F=t(48169),w=Object.defineProperty,x=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,b=(g,p,m,T)=>{if(p&&"object"==typeof p||"function"==typeof p)for(let A of C(p))!S.call(g,A)&&A!==m&&w(g,A,{get:()=>p[A],enumerable:!(T=x(p,A))||T.enumerable});return g},D={};b(D,F,"default");var v={},_={},f=class RL{static getOrCreate(p){return _[p]||(_[p]=new RL(p)),_[p]}constructor(p){this._languageId=p,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((m,T)=>{this._lazyLoadPromiseResolve=m,this._lazyLoadPromiseReject=T})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,v[this._languageId].loader().then(p=>this._lazyLoadPromiseResolve(p),p=>this._lazyLoadPromiseReject(p))),this._lazyLoadPromise}};function l(g){const p=g.id;v[p]=g,D.languages.register(g);const m=f.getOrCreate(p);var T;D.languages.registerTokensProviderFactory(p,{create:(T=(0,a.A)(function*(){return(yield m.load()).language}),function(){return T.apply(this,arguments)})}),D.languages.onLanguageEncountered(p,(0,a.A)(function*(){const T=yield m.load();D.languages.setLanguageConfiguration(p,T.conf)}))}},92085:(tt,xe,t)=>{(0,t(39437).K)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>t.e(6081).then(t.bind(t,66081))})},46461:(tt,xe,t)=>{(0,t(39437).K)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>t.e(6969).then(t.bind(t,76969))})},59119:(tt,xe,t)=>{(0,t(39437).K)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>t.e(3359).then(t.bind(t,63359))})},44231:(tt,xe,t)=>{(0,t(39437).K)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>t.e(6423).then(t.bind(t,6423))})},47159:(tt,xe,t)=>{(0,t(39437).K)({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>t.e(4231).then(t.bind(t,24231))})},43831:(tt,xe,t)=>{(0,t(39437).K)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>t.e(1767).then(t.bind(t,21767))})},87903:(tt,xe,t)=>{(0,t(39437).K)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>t.e(4303).then(t.bind(t,64303))})},15957:(tt,xe,t)=>{(0,t(39437).K)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>t.e(8881).then(t.bind(t,78881))})},91163:(tt,xe,t)=>{var a=t(39437);(0,a.K)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>t.e(515).then(t.bind(t,50515))}),(0,a.K)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>t.e(515).then(t.bind(t,50515))})},34407:(tt,xe,t)=>{(0,t(39437).K)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>t.e(9559).then(t.bind(t,89559))})},82767:(tt,xe,t)=>{(0,t(39437).K)({id:"csp",extensions:[".csp"],aliases:["CSP","csp"],loader:()=>t.e(5967).then(t.bind(t,55967))})},96775:(tt,xe,t)=>{(0,t(39437).K)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>t.e(1559).then(t.bind(t,61559))})},78011:(tt,xe,t)=>{(0,t(39437).K)({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>t.e(8899).then(t.bind(t,18899))})},75655:(tt,xe,t)=>{(0,t(39437).K)({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>t.e(263).then(t.bind(t,30263))})},12189:(tt,xe,t)=>{(0,t(39437).K)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>t.e(2121).then(t.bind(t,42121))})},88807:(tt,xe,t)=>{(0,t(39437).K)({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>t.e(7655).then(t.bind(t,57655))})},74895:(tt,xe,t)=>{(0,t(39437).K)({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>t.e(8271).then(t.bind(t,78271))})},38711:(tt,xe,t)=>{(0,t(39437).K)({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>t.e(4727).then(t.bind(t,54727))})},72551:(tt,xe,t)=>{var a=t(39437);(0,a.K)({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>t.e(4359).then(t.bind(t,14359)).then(F=>F.TagAutoInterpolationDollar)}),(0,a.K)({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>t.e(4359).then(t.bind(t,14359)).then(F=>F.TagAngleInterpolationDollar)}),(0,a.K)({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>t.e(4359).then(t.bind(t,14359)).then(F=>F.TagBracketInterpolationDollar)}),(0,a.K)({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>t.e(4359).then(t.bind(t,14359)).then(F=>F.TagAngleInterpolationBracket)}),(0,a.K)({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>t.e(4359).then(t.bind(t,14359)).then(F=>F.TagBracketInterpolationBracket)}),(0,a.K)({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>t.e(4359).then(t.bind(t,14359)).then(F=>F.TagAutoInterpolationDollar)}),(0,a.K)({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>t.e(4359).then(t.bind(t,14359)).then(F=>F.TagAutoInterpolationBracket)})},24813:(tt,xe,t)=>{(0,t(39437).K)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>t.e(6217).then(t.bind(t,76217))})},89849:(tt,xe,t)=>{(0,t(39437).K)({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>t.e(9645).then(t.bind(t,69645))})},87943:(tt,xe,t)=>{(0,t(39437).K)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>t.e(6039).then(t.bind(t,26039))})},28961:(tt,xe,t)=>{(0,t(39437).K)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>t.e(7333).then(t.bind(t,97333))})},67847:(tt,xe,t)=>{(0,t(39437).K)({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>t.e(2759).then(t.bind(t,72759))})},66599:(tt,xe,t)=>{(0,t(39437).K)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>t.e(5271).then(t.bind(t,5271))})},74359:(tt,xe,t)=>{(0,t(39437).K)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>t.e(4823).then(t.bind(t,94823))})},15301:(tt,xe,t)=>{(0,t(39437).K)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>t.e(5457).then(t.bind(t,85457))})},30343:(tt,xe,t)=>{(0,t(39437).K)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Promise.all([t.e(2076),t.e(5383)]).then(t.bind(t,95383))})},48003:(tt,xe,t)=>{(0,t(39437).K)({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>t.e(3787).then(t.bind(t,73787))})},80927:(tt,xe,t)=>{(0,t(39437).K)({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>t.e(1487).then(t.bind(t,61487))})},20615:(tt,xe,t)=>{(0,t(39437).K)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>t.e(8759).then(t.bind(t,88759))})},28619:(tt,xe,t)=>{(0,t(39437).K)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>t.e(2947).then(t.bind(t,42947))})},34373:(tt,xe,t)=>{(0,t(39437).K)({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>t.e(849).then(t.bind(t,20849))})},443:(tt,xe,t)=>{(0,t(39437).K)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>t.e(163).then(t.bind(t,50163))})},67729:(tt,xe,t)=>{(0,t(39437).K)({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>t.e(8917).then(t.bind(t,58917))})},96055:(tt,xe,t)=>{(0,t(39437).K)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>t.e(487).then(t.bind(t,60487))})},99287:(tt,xe,t)=>{(0,t(39437).K)({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>t.e(1927).then(t.bind(t,81927))})},23623:(tt,xe,t)=>{(0,t(39437).K)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>t.e(7111).then(t.bind(t,97111))})},82443:(tt,xe,t)=>{(0,t(39437).K)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>t.e(4035).then(t.bind(t,4035))})},36579:(tt,xe,t)=>{(0,t(39437).K)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>t.e(923).then(t.bind(t,20923))})},64983:(tt,xe,t)=>{(0,t(39437).K)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>t.e(4519).then(t.bind(t,4519))})},33921:(tt,xe,t)=>{(0,t(39437).K)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>t.e(6085).then(t.bind(t,16085))})},99863:(tt,xe,t)=>{(0,t(39437).K)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>t.e(6887).then(t.bind(t,46887))})},97063:(tt,xe,t)=>{(0,t(39437).K)({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>t.e(5591).then(t.bind(t,5591))})},16023:(tt,xe,t)=>{(0,t(39437).K)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>t.e(7927).then(t.bind(t,37927))})},34471:(tt,xe,t)=>{(0,t(39437).K)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>t.e(1527).then(t.bind(t,1527))})},7815:(tt,xe,t)=>{(0,t(39437).K)({id:"pla",extensions:[".pla"],loader:()=>t.e(8503).then(t.bind(t,68503))})},72823:(tt,xe,t)=>{(0,t(39437).K)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>t.e(3047).then(t.bind(t,23047))})},17619:(tt,xe,t)=>{(0,t(39437).K)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>t.e(3163).then(t.bind(t,13163))})},11079:(tt,xe,t)=>{(0,t(39437).K)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>t.e(4951).then(t.bind(t,4951))})},69751:(tt,xe,t)=>{(0,t(39437).K)({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>t.e(2183).then(t.bind(t,62183))})},83499:(tt,xe,t)=>{(0,t(39437).K)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>t.e(2579).then(t.bind(t,12579))})},69329:(tt,xe,t)=>{(0,t(39437).K)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>t.e(4405).then(t.bind(t,34405))})},88199:(tt,xe,t)=>{(0,t(39437).K)({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>t.e(6855).then(t.bind(t,16855))})},65491:(tt,xe,t)=>{(0,t(39437).K)({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>t.e(4779).then(t.bind(t,44779))})},94123:(tt,xe,t)=>{(0,t(39437).K)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>t.e(1779).then(t.bind(t,11779))})},94663:(tt,xe,t)=>{(0,t(39437).K)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>t.e(7623).then(t.bind(t,97623))})},99719:(tt,xe,t)=>{(0,t(39437).K)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>t.e(9831).then(t.bind(t,99831))})},68207:(tt,xe,t)=>{(0,t(39437).K)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>t.e(4719).then(t.bind(t,34719))})},14565:(tt,xe,t)=>{(0,t(39437).K)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>t.e(2545).then(t.bind(t,42545))})},95653:(tt,xe,t)=>{(0,t(39437).K)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>t.e(4113).then(t.bind(t,64113))})},1335:(tt,xe,t)=>{(0,t(39437).K)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>t.e(2407).then(t.bind(t,22407))})},72807:(tt,xe,t)=>{(0,t(39437).K)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>t.e(2775).then(t.bind(t,62775))})},33395:(tt,xe,t)=>{(0,t(39437).K)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>t.e(11).then(t.bind(t,80011))})},37213:(tt,xe,t)=>{(0,t(39437).K)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>t.e(345).then(t.bind(t,90345))})},40331:(tt,xe,t)=>{(0,t(39437).K)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>t.e(6403).then(t.bind(t,6403))})},10759:(tt,xe,t)=>{(0,t(39437).K)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>t.e(8471).then(t.bind(t,68471))})},73729:(tt,xe,t)=>{(0,t(39437).K)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>t.e(2293).then(t.bind(t,62293))})},46855:(tt,xe,t)=>{(0,t(39437).K)({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>t.e(3095).then(t.bind(t,3095))})},77179:(tt,xe,t)=>{(0,t(39437).K)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>t.e(4211).then(t.bind(t,64211))})},27175:(tt,xe,t)=>{(0,t(39437).K)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>t.e(7191).then(t.bind(t,27191))})},71303:(tt,xe,t)=>{(0,t(39437).K)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>t.e(8631).then(t.bind(t,28631))})},16079:(tt,xe,t)=>{var a=t(39437);(0,a.K)({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>t.e(1391).then(t.bind(t,71391))}),(0,a.K)({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>t.e(1391).then(t.bind(t,71391))})},76167:(tt,xe,t)=>{(0,t(39437).K)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>t.e(1463).then(t.bind(t,81463))})},11463:(tt,xe,t)=>{(0,t(39437).K)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>t.e(5447).then(t.bind(t,15447))})},63559:(tt,xe,t)=>{(0,t(39437).K)({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>t.e(2076).then(t.bind(t,57847))})},57571:(tt,xe,t)=>{(0,t(39437).K)({id:"typespec",extensions:[".tsp"],aliases:["TypeSpec"],loader:()=>t.e(4859).then(t.bind(t,84859))})},67281:(tt,xe,t)=>{(0,t(39437).K)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>t.e(5861).then(t.bind(t,25861))})},73143:(tt,xe,t)=>{(0,t(39437).K)({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>t.e(6311).then(t.bind(t,46311))})},96335:(tt,xe,t)=>{(0,t(39437).K)({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>t.e(1231).then(t.bind(t,71231))})},76419:(tt,xe,t)=>{(0,t(39437).K)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>t.e(9867).then(t.bind(t,59867))})},93988:(tt,xe,t)=>{t.d(xe,{M:()=>F});var a=t(29048);function F(w,x){w instanceof a.D?(w.setFontFamily(x.getMassagedFontFamily()),w.setFontWeight(x.fontWeight),w.setFontSize(x.fontSize),w.setFontFeatureSettings(x.fontFeatureSettings),w.setFontVariationSettings(x.fontVariationSettings),w.setLineHeight(x.lineHeight),w.setLetterSpacing(x.letterSpacing)):(w.style.fontFamily=x.getMassagedFontFamily(),w.style.fontWeight=x.fontWeight,w.style.fontSize=x.fontSize+"px",w.style.fontFeatureSettings=x.fontFeatureSettings,w.style.fontVariationSettings=x.fontVariationSettings,w.style.lineHeight=x.lineHeight+"px",w.style.letterSpacing=x.letterSpacing+"px")}},39450:(tt,xe,t)=>{t.d(xe,{u:()=>x});var a=t(99031),F=t(5643),w=t(91874);class x extends a.jG{constructor(S,b){super(),this._onDidChange=this._register(new F.vl),this.onDidChange=this._onDidChange.event,this._referenceDomElement=S,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,b)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let S=null;const b=()=>{S?this.observe({width:S.width,height:S.height}):this.observe()};let P=!1,D=!1;const v=()=>{if(P&&!D)try{P=!1,D=!0,b()}finally{(0,w.PG)((0,w.zk)(this._referenceDomElement),()=>{D=!1,v()})}};this._resizeObserver=new ResizeObserver(_=>{S=_&&_[0]&&_[0].contentRect?{width:_[0].contentRect.width,height:_[0].contentRect.height}:null,P=!0,v()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(S){this.measureReferenceDomElement(!0,S)}measureReferenceDomElement(S,b){let P=0,D=0;b?(P=b.width,D=b.height):this._referenceDomElement&&(P=this._referenceDomElement.clientWidth,D=this._referenceDomElement.clientHeight),P=Math.max(5,P),D=Math.max(5,D),(this._width!==P||this._height!==D)&&(this._width=P,this._height=D,S&&this._onDidChange.fire())}}},52963:(tt,xe,t)=>{t.d(xe,{T:()=>d});var a=t(91874),F=t(51655),w=t(5643),x=t(99031),C=t(93988);class S{constructor(l,g){this.chr=l,this.type=g,this.width=0}fulfill(l){this.width=l}}class b{constructor(l,g){this._bareFontInfo=l,this._requests=g,this._container=null,this._testElements=null}read(l){this._createDomElements(),l.document.body.appendChild(this._container),this._readFromDomElements(),l.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const l=document.createElement("div");l.style.position="absolute",l.style.top="-50000px",l.style.width="50000px";const g=document.createElement("div");(0,C.M)(g,this._bareFontInfo),l.appendChild(g);const p=document.createElement("div");(0,C.M)(p,this._bareFontInfo),p.style.fontWeight="bold",l.appendChild(p);const m=document.createElement("div");(0,C.M)(m,this._bareFontInfo),m.style.fontStyle="italic",l.appendChild(m);const T=[];for(const A of this._requests){let k;0===A.type&&(k=g),2===A.type&&(k=p),1===A.type&&(k=m),k.appendChild(document.createElement("br"));const O=document.createElement("span");b._render(O,A),k.appendChild(O),T.push(O)}this._container=l,this._testElements=T}static _render(l,g){if(" "===g.chr){let p="\xa0";for(let m=0;m<8;m++)p+=p;l.innerText=p}else{let p=g.chr;for(let m=0;m<8;m++)p+=p;l.textContent=p}}_readFromDomElements(){for(let l=0,g=this._requests.length;l<g;l++)this._requests[l].fulfill(this._testElements[l].offsetWidth/256)}}var D=t(99207),v=t(13317);class f{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(l){const g=l.getId();return!!this._values[g]}get(l){const g=l.getId();return this._values[g]}put(l,g){const p=l.getId();this._keys[p]=l,this._values[p]=g}remove(l){const g=l.getId();delete this._keys[g],delete this._values[g]}getValues(){return Object.keys(this._keys).map(l=>this._values[l])}}const d=new class _ extends x.jG{constructor(){super(...arguments),this._cache=new Map,this._evictUntrustedReadingsTimeout=-1,this._onDidChange=this._register(new w.vl),this.onDidChange=this._onDidChange.event}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(l){const g=(0,a.Q2)(l);let p=this._cache.get(g);return p||(p=new f,this._cache.set(g,p)),p}_writeToCache(l,g,p){this._ensureCache(l).put(g,p),!p.isTrusted&&-1===this._evictUntrustedReadingsTimeout&&(this._evictUntrustedReadingsTimeout=l.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(l)},5e3))}_evictUntrustedReadings(l){const g=this._ensureCache(l),p=g.getValues();let m=!1;for(const T of p)T.isTrusted||(m=!0,g.remove(T));m&&this._onDidChange.fire()}readFontInfo(l,g){const p=this._ensureCache(l);if(!p.has(g)){let m=this._actualReadFontInfo(l,g);(m.typicalHalfwidthCharacterWidth<=2||m.typicalFullwidthCharacterWidth<=2||m.spaceWidth<=2||m.maxDigitWidth<=2)&&(m=new v.YJ({pixelRatio:F.c.getInstance(l).value,fontFamily:m.fontFamily,fontWeight:m.fontWeight,fontSize:m.fontSize,fontFeatureSettings:m.fontFeatureSettings,fontVariationSettings:m.fontVariationSettings,lineHeight:m.lineHeight,letterSpacing:m.letterSpacing,isMonospace:m.isMonospace,typicalHalfwidthCharacterWidth:Math.max(m.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(m.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:m.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(m.spaceWidth,5),middotWidth:Math.max(m.middotWidth,5),wsmiddotWidth:Math.max(m.wsmiddotWidth,5),maxDigitWidth:Math.max(m.maxDigitWidth,5)},!1)),this._writeToCache(l,g,m)}return p.get(g)}_createRequest(l,g,p,m){const T=new S(l,g);return p.push(T),m?.push(T),T}_actualReadFontInfo(l,g){const p=[],m=[],T=this._createRequest("n",0,p,m),A=this._createRequest("\uff4d",0,p,null),k=this._createRequest(" ",0,p,m),O=this._createRequest("0",0,p,m),N=this._createRequest("1",0,p,m),H=this._createRequest("2",0,p,m),L=this._createRequest("3",0,p,m),j=this._createRequest("4",0,p,m),Z=this._createRequest("5",0,p,m),te=this._createRequest("6",0,p,m),X=this._createRequest("7",0,p,m),U=this._createRequest("8",0,p,m),q=this._createRequest("9",0,p,m),R=this._createRequest("\u2192",0,p,m),W=this._createRequest("\uffeb",0,p,null),Y=this._createRequest("\xb7",0,p,m),oe=this._createRequest("\u2e31",0,p,null),z="|/-_ilm%";for(let ae=0,de=8;ae<de;ae++)this._createRequest(z.charAt(ae),0,p,m),this._createRequest(z.charAt(ae),1,p,m),this._createRequest(z.charAt(ae),2,p,m);!function P(r,l,g){new b(l,g).read(r)}(l,g,p);const G=Math.max(O.width,N.width,H.width,L.width,j.width,Z.width,te.width,X.width,U.width,q.width);let Q=g.fontFeatureSettings===D.Bc.OFF;const K=m[0].width;for(let ae=1,de=m.length;Q&&ae<de;ae++){const se=K-m[ae].width;if(se<-.001||se>.001){Q=!1;break}}let ie=!0;return Q&&W.width!==K&&(ie=!1),W.width>R.width&&(ie=!1),new v.YJ({pixelRatio:F.c.getInstance(l).value,fontFamily:g.fontFamily,fontWeight:g.fontWeight,fontSize:g.fontSize,fontFeatureSettings:g.fontFeatureSettings,fontVariationSettings:g.fontVariationSettings,lineHeight:g.lineHeight,letterSpacing:g.letterSpacing,isMonospace:Q,typicalHalfwidthCharacterWidth:T.width,typicalFullwidthCharacterWidth:A.width,canUseHalfwidthRightwardsArrow:ie,spaceWidth:k.width,middotWidth:Y.width,wsmiddotWidth:oe.width,maxDigitWidth:G},!0)}}},78608:(tt,xe,t)=>{t.d(xe,{M:()=>w});var a=t(5643);const w=new class F{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new a.vl,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(C){this._tabFocus=C,this._onDidChangeTabFocus.fire(this._tabFocus)}}},12837:(tt,xe,t)=>{t.d(xe,{$D:()=>p,Eq:()=>m,M0:()=>N,Mz:()=>O,No:()=>k,bs:()=>T});var a=t(53378),F=t(91874),w=t(27354),x=t(92873),C=t(49956),S=t(86671),b=t(5643),P=t(99031),D=t(12323),v=t(6653),_=t(36824),f=t(14105),d=t(69912),r=t(52152),g=function(H,L){return function(j,Z){L(j,Z,H)}},p=function(H){return H.Tap="-monaco-textarea-synthetic-tap",H}(p||{});const m={forceCopyWithSyntaxHighlighting:!1};class T{constructor(){this._lastState=null}set(L,j){this._lastState={lastCopiedValue:L,data:j}}get(L){return this._lastState&&this._lastState.lastCopiedValue===L?this._lastState.data:(this._lastState=null,null)}}T.INSTANCE=new T;class A{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(L){const j={text:L=L||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=L.length,j}}let k=class extends P.jG{get textAreaState(){return this._textAreaState}constructor(L,j,Z,te,X,U){super(),this._host=L,this._textArea=j,this._OS=Z,this._browser=te,this._accessibilityService=X,this._logService=U,this._onFocus=this._register(new b.vl),this.onFocus=this._onFocus.event,this._onBlur=this._register(new b.vl),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new b.vl),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new b.vl),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new b.vl),this.onCut=this._onCut.event,this._onPaste=this._register(new b.vl),this.onPaste=this._onPaste.event,this._onType=this._register(new b.vl),this.onType=this._onType.event,this._onCompositionStart=this._register(new b.vl),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new b.vl),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new b.vl),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new b.vl),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new P.HE),this._asyncTriggerCut=this._register(new S.uC(()=>this._onCut.fire(),0)),this._textAreaState=_._O.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(b.Jh.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new S.uC(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let q=null;this._register(this._textArea.onKeyDown(R=>{const W=new x.Z(R);(114===W.keyCode||this._currentComposition&&1===W.keyCode)&&W.stopPropagation(),W.equals(9)&&W.preventDefault(),q=W,this._onKeyDown.fire(W)})),this._register(this._textArea.onKeyUp(R=>{const W=new x.Z(R);this._onKeyUp.fire(W)})),this._register(this._textArea.onCompositionStart(R=>{_.Hf&&console.log("[compositionstart]",R);const W=new A;if(!this._currentComposition)return this._currentComposition=W,2===this._OS&&q&&q.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===R.data&&("ArrowRight"===q.code||"ArrowLeft"===q.code)?(_.Hf&&console.log("[compositionstart] Handling long press case on macOS + arrow key",R),W.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:R.data})):void this._onCompositionStart.fire({data:R.data});this._currentComposition=W})),this._register(this._textArea.onCompositionUpdate(R=>{_.Hf&&console.log("[compositionupdate]",R);const W=this._currentComposition;if(!W)return;if(this._browser.isAndroid){const oe=_._O.readFromTextArea(this._textArea,this._textAreaState),z=_._O.deduceAndroidCompositionInput(this._textAreaState,oe);return this._textAreaState=oe,this._onType.fire(z),void this._onCompositionUpdate.fire(R)}const Y=W.handleCompositionUpdate(R.data);this._textAreaState=_._O.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(Y),this._onCompositionUpdate.fire(R)})),this._register(this._textArea.onCompositionEnd(R=>{_.Hf&&console.log("[compositionend]",R);const W=this._currentComposition;if(!W)return;if(this._currentComposition=null,this._browser.isAndroid){const oe=_._O.readFromTextArea(this._textArea,this._textAreaState),z=_._O.deduceAndroidCompositionInput(this._textAreaState,oe);return this._textAreaState=oe,this._onType.fire(z),void this._onCompositionEnd.fire()}const Y=W.handleCompositionUpdate(R.data);this._textAreaState=_._O.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(Y),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(R=>{if(_.Hf&&console.log("[input]",R),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const W=_._O.readFromTextArea(this._textArea,this._textAreaState),Y=_._O.deduceInput(this._textAreaState,W,2===this._OS);0===Y.replacePrevCharCnt&&1===Y.text.length&&(v.pc(Y.text.charCodeAt(0))||127===Y.text.charCodeAt(0))||(this._textAreaState=W,(""!==Y.text||0!==Y.replacePrevCharCnt||0!==Y.replaceNextCharCnt||0!==Y.positionDelta)&&this._onType.fire(Y))})),this._register(this._textArea.onCut(R=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(R),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(R=>{this._ensureClipboardGetsEditorSelection(R)})),this._register(this._textArea.onPaste(R=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),R.preventDefault(),!R.clipboardData)return;let[W,Y]=O.getTextData(R.clipboardData);W&&(Y=Y||T.INSTANCE.get(W),this._onPaste.fire({text:W,metadata:Y}))})),this._register(this._textArea.onFocus(()=>{const R=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!R&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new S.uC(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let L=0;return F.ko(this._textArea.ownerDocument,"selectionchange",j=>{if(C.p.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const Z=Date.now(),te=Z-L;if(L=Z,te<5)return;const X=Z-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),X<100||!this._textAreaState.selection)return;const U=this._textArea.getValue();if(this._textAreaState.value!==U)return;const q=this._textArea.getSelectionStart(),R=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===q&&this._textAreaState.selectionEnd===R)return;const W=this._textAreaState.deduceEditorPosition(q),Y=this._host.deduceModelPosition(W[0],W[1],W[2]),oe=this._textAreaState.deduceEditorPosition(R),z=this._host.deduceModelPosition(oe[0],oe[1],oe[2]),G=new f.L(Y.lineNumber,Y.column,z.lineNumber,z.column);this._onSelectionChangeRequest.fire(G)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(L){this._hasFocus!==L&&(this._hasFocus=L,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(L,j){this._hasFocus||(j=j.collapseSelection()),j.writeToTextArea(L,this._textArea,this._hasFocus),this._textAreaState=j}writeNativeTextAreaContent(L){!this._accessibilityService.isScreenReaderOptimized()&&"render"===L||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${L})`),this._setAndWriteTextAreaState(L,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(L){const j=this._host.getDataToCopy(),Z={version:1,isFromEmptySelection:j.isFromEmptySelection,multicursorText:j.multicursorText,mode:j.mode};T.INSTANCE.set(this._browser.isFirefox?j.text.replace(/\r\n/g,"\n"):j.text,Z),L.preventDefault(),L.clipboardData&&O.setTextData(L.clipboardData,j.text,j.html,Z)}};k=function(H,L,j,Z){var U,te=arguments.length,X=te<3?L:null===Z?Z=Object.getOwnPropertyDescriptor(L,j):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(H,L,j,Z);else for(var q=H.length-1;q>=0;q--)(U=H[q])&&(X=(te<3?U(X):te>3?U(L,j,X):U(L,j))||X);return te>3&&X&&Object.defineProperty(L,j,X),X}([g(4,d.j),g(5,r.rr)],k);const O={getTextData(H){const L=H.getData(D.K.text);let j=null;const Z=H.getData("vscode-editor-data");if("string"==typeof Z)try{j=JSON.parse(Z),1!==j.version&&(j=null)}catch{}return 0===L.length&&null===j&&H.files.length>0?[Array.prototype.slice.call(H.files,0).map(X=>X.name).join("\n"),null]:[L,j]},setTextData(H,L,j,Z){H.setData(D.K.text,L),"string"==typeof j&&H.setData("text/html",j),H.setData("vscode-editor-data",JSON.stringify(Z))}};class N extends P.jG{get ownerDocument(){return this._actual.ownerDocument}constructor(L){super(),this._actual=L,this.onKeyDown=this._register(new w.f(this._actual,"keydown")).event,this.onKeyUp=this._register(new w.f(this._actual,"keyup")).event,this.onCompositionStart=this._register(new w.f(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new w.f(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new w.f(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new w.f(this._actual,"beforeinput")).event,this.onInput=this._register(new w.f(this._actual,"input")).event,this.onCut=this._register(new w.f(this._actual,"cut")).event,this.onCopy=this._register(new w.f(this._actual,"copy")).event,this.onPaste=this._register(new w.f(this._actual,"paste")).event,this.onFocus=this._register(new w.f(this._actual,"focus")).event,this.onBlur=this._register(new w.f(this._actual,"blur")).event,this._onSyntheticTap=this._register(new b.vl),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>C.p.onKeyDown())),this._register(this.onBeforeInput(()=>C.p.onBeforeInput())),this._register(this.onInput(()=>C.p.onInput())),this._register(this.onKeyUp(()=>C.p.onKeyUp())),this._register(F.ko(this._actual,p.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const L=F.jG(this._actual);return L?L.activeElement===this._actual:!!this._actual.isConnected&&F.bq()===this._actual}setIgnoreSelectionChangeTime(L){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(L,j){const Z=this._actual;Z.value!==j&&(this.setIgnoreSelectionChangeTime("setValue"),Z.value=j)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(L,j,Z){const te=this._actual;let X=null;const U=F.jG(te);X=U?U.activeElement:F.bq();const q=F.zk(X),R=X===te;if(R&&te.selectionStart===j&&te.selectionEnd===Z)a.gm&&q.parent!==q&&te.focus();else{if(R)return this.setIgnoreSelectionChangeTime("setSelectionRange"),te.setSelectionRange(j,Z),void(a.gm&&q.parent!==q&&te.focus());try{const oe=F.zK(te);this.setIgnoreSelectionChangeTime("setSelectionRange"),te.focus(),te.setSelectionRange(j,Z),F.wk(te,oe)}catch{}}}}},36824:(tt,xe,t)=>{t.d(xe,{Al:()=>C,Hf:()=>w,_O:()=>x});var a=t(6653),F=t(73678);const w=!1;class x{constructor(b,P,D,v,_){this.value=b,this.selectionStart=P,this.selectionEnd=D,this.selection=v,this.newlineCountBeforeSelection=_}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(b,P){const D=b.getValue(),v=b.getSelectionStart(),_=b.getSelectionEnd();let f;return P&&D.substring(0,v)===P.value.substring(0,P.selectionStart)&&(f=P.newlineCountBeforeSelection),new x(D,v,_,null,f)}collapseSelection(){return this.selectionStart===this.value.length?this:new x(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(b,P,D){w&&console.log(`writeToTextArea ${b}: ${this.toString()}`),P.setValue(b,this.value),D&&P.setSelectionRange(b,this.selectionStart,this.selectionEnd)}deduceEditorPosition(b){var P,D,v,_,f,d,r,l;if(b<=this.selectionStart){const m=this.value.substring(b,this.selectionStart);return this._finishDeduceEditorPosition(null!==(D=null===(P=this.selection)||void 0===P?void 0:P.getStartPosition())&&void 0!==D?D:null,m,-1)}if(b>=this.selectionEnd){const m=this.value.substring(this.selectionEnd,b);return this._finishDeduceEditorPosition(null!==(_=null===(v=this.selection)||void 0===v?void 0:v.getEndPosition())&&void 0!==_?_:null,m,1)}const g=this.value.substring(this.selectionStart,b);if(-1===g.indexOf("\u2026"))return this._finishDeduceEditorPosition(null!==(d=null===(f=this.selection)||void 0===f?void 0:f.getStartPosition())&&void 0!==d?d:null,g,1);const p=this.value.substring(b,this.selectionEnd);return this._finishDeduceEditorPosition(null!==(l=null===(r=this.selection)||void 0===r?void 0:r.getEndPosition())&&void 0!==l?l:null,p,-1)}_finishDeduceEditorPosition(b,P,D){let v=0,_=-1;for(;-1!==(_=P.indexOf("\n",_+1));)v++;return[b,D*P.length,v]}static deduceInput(b,P,D){if(!b)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};w&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${b.toString()}`),console.log(`CURRENT STATE: ${P.toString()}`));const v=Math.min(a.Qp(b.value,P.value),b.selectionStart,P.selectionStart),_=Math.min(a.Vi(b.value,P.value),b.value.length-b.selectionEnd,P.value.length-P.selectionEnd),f=b.value.substring(v,b.value.length-_),d=P.value.substring(v,P.value.length-_),r=b.selectionStart-v,l=b.selectionEnd-v,g=P.selectionStart-v,p=P.selectionEnd-v;if(w&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${f}>, selectionStart: ${r}, selectionEnd: ${l}`),console.log(`AFTER DIFFING CURRENT STATE: <${d}>, selectionStart: ${g}, selectionEnd: ${p}`)),g===p){const T=b.selectionStart-v;return w&&console.log(`REMOVE PREVIOUS: ${T} chars`),{text:d,replacePrevCharCnt:T,replaceNextCharCnt:0,positionDelta:0}}return{text:d,replacePrevCharCnt:l-r,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(b,P){if(!b)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(w&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${b.toString()}`),console.log(`CURRENT STATE: ${P.toString()}`)),b.value===P.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:P.selectionEnd-b.selectionEnd};const D=Math.min(a.Qp(b.value,P.value),b.selectionEnd),v=Math.min(a.Vi(b.value,P.value),b.value.length-b.selectionEnd),_=b.value.substring(D,b.value.length-v),f=P.value.substring(D,P.value.length-v),r=b.selectionEnd-D,l=P.selectionStart-D,g=P.selectionEnd-D;return w&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${_}>, selectionStart: ${b.selectionStart-D}, selectionEnd: ${r}`),console.log(`AFTER DIFFING CURRENT STATE: <${f}>, selectionStart: ${l}, selectionEnd: ${g}`)),{text:f,replacePrevCharCnt:r,replaceNextCharCnt:_.length-r,positionDelta:g-f.length}}}x.EMPTY=new x("",0,0,null,void 0);class C{static _getPageOfLine(b,P){return Math.floor((b-1)/P)}static _getRangeForPage(b,P){const D=b*P;return new F.Q(D+1,1,D+P+1,1)}static fromEditorSelection(b,P,D,v){const f=C._getPageOfLine(P.startLineNumber,D),d=C._getRangeForPage(f,D),r=C._getPageOfLine(P.endLineNumber,D),l=C._getRangeForPage(r,D);let g=d.intersectRanges(new F.Q(1,1,P.startLineNumber,P.startColumn));if(v&&b.getValueLengthInRange(g,1)>500){const N=b.modifyPosition(g.getEndPosition(),-500);g=F.Q.fromPositions(N,g.getEndPosition())}const p=b.getValueInRange(g,1),m=b.getLineCount(),T=b.getLineMaxColumn(m);let A=l.intersectRanges(new F.Q(P.endLineNumber,P.endColumn,m,T));if(v&&b.getValueLengthInRange(A,1)>500){const N=b.modifyPosition(A.getStartPosition(),500);A=F.Q.fromPositions(A.getStartPosition(),N)}const k=b.getValueInRange(A,1);let O;if(f===r||f+1===r)O=b.getValueInRange(P,1);else{const N=d.intersectRanges(P),H=l.intersectRanges(P);O=b.getValueInRange(N,1)+"\u2026"+b.getValueInRange(H,1)}return v&&O.length>1e3&&(O=O.substring(0,500)+"\u2026"+O.substring(O.length-500,O.length)),new x(p+O+k,p.length,p.length+O.length,P,g.endLineNumber-g.startLineNumber)}}},88175:(tt,xe,t)=>{t.d(xe,{Yh:()=>Z,QM:()=>N});var a=t(81644),F=t(53378),w=t(66702),x=t(39679),C=t(47639),S=t(31212),b=t(31360),P=t(13632),D=t(73678);class v{static columnSelect(q,R,W,Y,oe,z){const G=Math.abs(oe-W)+1,Q=W>oe,K=Y>z,ie=Y<z,ae=[];for(let de=0;de<G;de++){const se=W+(Q?-de:de),ge=q.columnFromVisibleColumn(R,se,Y),_e=q.columnFromVisibleColumn(R,se,z),ye=q.visibleColumnFromColumn(R,new P.y(se,ge)),M=q.visibleColumnFromColumn(R,new P.y(se,_e));ie&&(ye>z||M<Y)||K&&(M>Y||ye<z)||ae.push(new b.mG(new D.Q(se,ge,se,ge),0,0,new P.y(se,_e),0))}if(0===ae.length)for(let de=0;de<G;de++){const se=W+(Q?-de:de),ge=R.getLineMaxColumn(se);ae.push(new b.mG(new D.Q(se,ge,se,ge),0,0,new P.y(se,ge),0))}return{viewStates:ae,reversed:Q,fromLineNumber:W,fromVisualColumn:Y,toLineNumber:oe,toVisualColumn:z}}static columnSelectLeft(q,R,W){let Y=W.toViewVisualColumn;return Y>0&&Y--,v.columnSelect(q,R,W.fromViewLineNumber,W.fromViewVisualColumn,W.toViewLineNumber,Y)}static columnSelectRight(q,R,W){let Y=0;const oe=Math.min(W.fromViewLineNumber,W.toViewLineNumber),z=Math.max(W.fromViewLineNumber,W.toViewLineNumber);for(let Q=oe;Q<=z;Q++){const K=R.getLineMaxColumn(Q),ie=q.visibleColumnFromColumn(R,new P.y(Q,K));Y=Math.max(Y,ie)}let G=W.toViewVisualColumn;return G<Y&&G++,this.columnSelect(q,R,W.fromViewLineNumber,W.fromViewVisualColumn,W.toViewLineNumber,G)}static columnSelectUp(q,R,W,Y){const z=Math.max(1,W.toViewLineNumber-(Y?q.pageSize:1));return this.columnSelect(q,R,W.fromViewLineNumber,W.fromViewVisualColumn,z,W.toViewVisualColumn)}static columnSelectDown(q,R,W,Y){const oe=Y?q.pageSize:1,z=Math.min(R.getLineCount(),W.toViewLineNumber+oe);return this.columnSelect(q,R,W.fromViewLineNumber,W.fromViewVisualColumn,z,W.toViewVisualColumn)}}var A,U,k,N,_=t(68571),f=t(46813),d=t(69527),r=t(69995),l=t(50168),g=t(36246),p=t(91874);class T extends C.DX{runEditorCommand(q,R,W){const Y=R._getViewModel();Y&&this.runCoreEditorCommand(Y,W||{})}}(U=A||(A={})).metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(W){if(!w.Gv(W))return!1;const Y=W;return!(!w.Kg(Y.to)||!w.b0(Y.by)&&!w.Kg(Y.by)||!w.b0(Y.value)&&!w.Et(Y.value)||!w.b0(Y.revealCursor)&&!w.Lm(Y.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},U.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},U.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"},U.parse=function R(W){let Y,oe;switch(W.to){case U.RawDirection.Up:Y=1;break;case U.RawDirection.Right:Y=2;break;case U.RawDirection.Down:Y=3;break;case U.RawDirection.Left:Y=4;break;default:return null}switch(W.by){case U.RawUnit.Line:oe=1;break;case U.RawUnit.WrappedLine:oe=2;break;case U.RawUnit.Page:oe=3;break;case U.RawUnit.HalfPage:oe=4;break;case U.RawUnit.Editor:oe=5;break;case U.RawUnit.Column:oe=6;break;default:oe=2}return{direction:Y,unit:oe,value:Math.floor(W.value||1),revealCursor:!!W.revealCursor,select:!!W.select}},function(U){U.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(R){if(!w.Gv(R))return!1;const W=R;return!(!w.Et(W.lineNumber)&&!w.Kg(W.lineNumber)||!w.b0(W.at)&&!w.Kg(W.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},U.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(k||(k={}));class O{constructor(q){q.addImplementation(1e4,"code-editor",(R,W)=>{const Y=R.get(S.T).getFocusedCodeEditor();return!(!Y||!Y.hasTextFocus())&&this._runEditorCommand(R,Y,W)}),q.addImplementation(1e3,"generic-dom-input-textarea",(R,W)=>{const Y=(0,p.bq)();return!!(Y&&["input","textarea"].indexOf(Y.tagName.toLowerCase())>=0)&&(this.runDOMCommand(Y),!0)}),q.addImplementation(0,"generic-dom",(R,W)=>{const Y=R.get(S.T).getActiveCodeEditor();return!!Y&&(Y.focus(),this._runEditorCommand(R,Y,W))})}_runEditorCommand(q,R,W){return this.runEditorCommand(q,R,W)||!0}}!function(U){class q extends T{constructor(ce){super(ce),this._inSelectionMode=ce.inSelectionMode}runCoreEditorCommand(ce,Se){Se.position&&(ce.model.pushStackElement(),ce.setCursorStates(Se.source,3,[f.c.moveTo(ce,ce.getPrimaryCursorState(),this._inSelectionMode,Se.position,Se.viewPosition)])&&2!==Se.revealType&&ce.revealAllCursors(Se.source,!0,!0))}}U.MoveTo=(0,C.E_)(new q({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),U.MoveToSelect=(0,C.E_)(new q({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class R extends T{runCoreEditorCommand(ce,Se){ce.model.pushStackElement();const Ie=this._getColumnSelectResult(ce,ce.getPrimaryCursorState(),ce.getCursorColumnSelectData(),Se);null!==Ie&&(ce.setCursorStates(Se.source,3,Ie.viewStates.map(ne=>b.MF.fromViewState(ne))),ce.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Ie.fromLineNumber,fromViewVisualColumn:Ie.fromVisualColumn,toViewLineNumber:Ie.toLineNumber,toViewVisualColumn:Ie.toVisualColumn}),Ie.reversed?ce.revealTopMostCursor(Se.source):ce.revealBottomMostCursor(Se.source))}}U.ColumnSelect=(0,C.E_)(new class extends R{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(M,ce,Se,Ie){if(typeof Ie.position>"u"||typeof Ie.viewPosition>"u"||typeof Ie.mouseColumn>"u")return null;const ne=M.model.validatePosition(Ie.position),ue=M.coordinatesConverter.validateViewPosition(new P.y(Ie.viewPosition.lineNumber,Ie.viewPosition.column),ne);return v.columnSelect(M.cursorConfig,M,Ie.doColumnSelect?Se.fromViewLineNumber:ue.lineNumber,Ie.doColumnSelect?Se.fromViewVisualColumn:Ie.mouseColumn-1,ue.lineNumber,Ie.mouseColumn-1)}}),U.CursorColumnSelectLeft=(0,C.E_)(new class extends R{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(M,ce,Se,Ie){return v.columnSelectLeft(M.cursorConfig,M,Se)}}),U.CursorColumnSelectRight=(0,C.E_)(new class extends R{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(M,ce,Se,Ie){return v.columnSelectRight(M.cursorConfig,M,Se)}});class W extends R{constructor(ce){super(ce),this._isPaged=ce.isPaged}_getColumnSelectResult(ce,Se,Ie,ne){return v.columnSelectUp(ce.cursorConfig,ce,Ie,this._isPaged)}}U.CursorColumnSelectUp=(0,C.E_)(new W({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:3600,linux:{primary:0}}})),U.CursorColumnSelectPageUp=(0,C.E_)(new W({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:3595,linux:{primary:0}}}));class Y extends R{constructor(ce){super(ce),this._isPaged=ce.isPaged}_getColumnSelectResult(ce,Se,Ie,ne){return v.columnSelectDown(ce.cursorConfig,ce,Ie,this._isPaged)}}U.CursorColumnSelectDown=(0,C.E_)(new Y({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:3602,linux:{primary:0}}})),U.CursorColumnSelectPageDown=(0,C.E_)(new Y({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:3596,linux:{primary:0}}}));class oe extends T{constructor(){super({id:"cursorMove",precondition:void 0,metadata:f.S.metadata})}runCoreEditorCommand(ce,Se){const Ie=f.S.parse(Se);Ie&&this._runCursorMove(ce,Se.source,Ie)}_runCursorMove(ce,Se,Ie){ce.model.pushStackElement(),ce.setCursorStates(Se,3,oe._move(ce,ce.getCursorStates(),Ie)),ce.revealAllCursors(Se,!0)}static _move(ce,Se,Ie){const ne=Ie.select,ue=Ie.value;switch(Ie.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return f.c.simpleMove(ce,Se,Ie.direction,ne,ue,Ie.unit);case 11:case 13:case 12:case 14:return f.c.viewportMove(ce,Se,Ie.direction,ne,ue);default:return null}}}U.CursorMoveImpl=oe,U.CursorMove=(0,C.E_)(new oe);class z extends T{constructor(ce){super(ce),this._staticArgs=ce.args}runCoreEditorCommand(ce,Se){let Ie=this._staticArgs;-1===this._staticArgs.value&&(Ie={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:Se.pageSize||ce.cursorConfig.pageSize}),ce.model.pushStackElement(),ce.setCursorStates(Se.source,3,f.c.simpleMove(ce,ce.getCursorStates(),Ie.direction,Ie.select,Ie.value,Ie.unit)),ce.revealAllCursors(Se.source,!0)}}U.CursorLeft=(0,C.E_)(new z({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),U.CursorLeftSelect=(0,C.E_)(new z({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:1039}})),U.CursorRight=(0,C.E_)(new z({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),U.CursorRightSelect=(0,C.E_)(new z({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:1041}})),U.CursorUp=(0,C.E_)(new z({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),U.CursorUpSelect=(0,C.E_)(new z({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),U.CursorPageUp=(0,C.E_)(new z({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:11}})),U.CursorPageUpSelect=(0,C.E_)(new z({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:1035}})),U.CursorDown=(0,C.E_)(new z({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),U.CursorDownSelect=(0,C.E_)(new z({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),U.CursorPageDown=(0,C.E_)(new z({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:12}})),U.CursorPageDownSelect=(0,C.E_)(new z({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:1036}})),U.CreateCursor=(0,C.E_)(new class extends T{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(M,ce){if(!ce.position)return;let Se;Se=ce.wholeLine?f.c.line(M,M.getPrimaryCursorState(),!1,ce.position,ce.viewPosition):f.c.moveTo(M,M.getPrimaryCursorState(),!1,ce.position,ce.viewPosition);const Ie=M.getCursorStates();if(Ie.length>1){const ne=Se.modelState?Se.modelState.position:null,ue=Se.viewState?Se.viewState.position:null;for(let we=0,Me=Ie.length;we<Me;we++){const Ve=Ie[we];if((!ne||Ve.modelState.selection.containsPosition(ne))&&(!ue||Ve.viewState.selection.containsPosition(ue)))return Ie.splice(we,1),M.model.pushStackElement(),void M.setCursorStates(ce.source,3,Ie)}}Ie.push(Se),M.model.pushStackElement(),M.setCursorStates(ce.source,3,Ie)}}),U.LastCursorMoveToSelect=(0,C.E_)(new class extends T{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(M,ce){if(!ce.position)return;const Se=M.getLastAddedCursorIndex(),Ie=M.getCursorStates(),ne=Ie.slice(0);ne[Se]=f.c.moveTo(M,Ie[Se],!0,ce.position,ce.viewPosition),M.model.pushStackElement(),M.setCursorStates(ce.source,3,ne)}});class G extends T{constructor(ce){super(ce),this._inSelectionMode=ce.inSelectionMode}runCoreEditorCommand(ce,Se){ce.model.pushStackElement(),ce.setCursorStates(Se.source,3,f.c.moveToBeginningOfLine(ce,ce.getCursorStates(),this._inSelectionMode)),ce.revealAllCursors(Se.source,!0)}}U.CursorHome=(0,C.E_)(new G({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),U.CursorHomeSelect=(0,C.E_)(new G({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class Q extends T{constructor(ce){super(ce),this._inSelectionMode=ce.inSelectionMode}runCoreEditorCommand(ce,Se){ce.model.pushStackElement(),ce.setCursorStates(Se.source,3,this._exec(ce.getCursorStates())),ce.revealAllCursors(Se.source,!0)}_exec(ce){const Se=[];for(let Ie=0,ne=ce.length;Ie<ne;Ie++){const ue=ce[Ie];Se[Ie]=b.MF.fromModelState(ue.modelState.move(this._inSelectionMode,ue.modelState.position.lineNumber,1,0))}return Se}}U.CursorLineStart=(0,C.E_)(new Q({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:0,mac:{primary:287}}})),U.CursorLineStartSelect=(0,C.E_)(new Q({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:0,mac:{primary:1311}}}));class K extends T{constructor(ce){super(ce),this._inSelectionMode=ce.inSelectionMode}runCoreEditorCommand(ce,Se){ce.model.pushStackElement(),ce.setCursorStates(Se.source,3,f.c.moveToEndOfLine(ce,ce.getCursorStates(),this._inSelectionMode,Se.sticky||!1)),ce.revealAllCursors(Se.source,!0)}}U.CursorEnd=(0,C.E_)(new K({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:r.R.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:a.kg("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),U.CursorEndSelect=(0,C.E_)(new K({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:r.R.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:a.kg("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class ie extends T{constructor(ce){super(ce),this._inSelectionMode=ce.inSelectionMode}runCoreEditorCommand(ce,Se){ce.model.pushStackElement(),ce.setCursorStates(Se.source,3,this._exec(ce,ce.getCursorStates())),ce.revealAllCursors(Se.source,!0)}_exec(ce,Se){const Ie=[];for(let ne=0,ue=Se.length;ne<ue;ne++){const we=Se[ne],Me=we.modelState.position.lineNumber,Ve=ce.model.getLineMaxColumn(Me);Ie[ne]=b.MF.fromModelState(we.modelState.move(this._inSelectionMode,Me,Ve,0))}return Ie}}U.CursorLineEnd=(0,C.E_)(new ie({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:0,mac:{primary:291}}})),U.CursorLineEndSelect=(0,C.E_)(new ie({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:0,mac:{primary:1315}}}));class ae extends T{constructor(ce){super(ce),this._inSelectionMode=ce.inSelectionMode}runCoreEditorCommand(ce,Se){ce.model.pushStackElement(),ce.setCursorStates(Se.source,3,f.c.moveToBeginningOfBuffer(ce,ce.getCursorStates(),this._inSelectionMode)),ce.revealAllCursors(Se.source,!0)}}U.CursorTop=(0,C.E_)(new ae({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:2062,mac:{primary:2064}}})),U.CursorTopSelect=(0,C.E_)(new ae({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:3086,mac:{primary:3088}}}));class de extends T{constructor(ce){super(ce),this._inSelectionMode=ce.inSelectionMode}runCoreEditorCommand(ce,Se){ce.model.pushStackElement(),ce.setCursorStates(Se.source,3,f.c.moveToEndOfBuffer(ce,ce.getCursorStates(),this._inSelectionMode)),ce.revealAllCursors(Se.source,!0)}}U.CursorBottom=(0,C.E_)(new de({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:2061,mac:{primary:2066}}})),U.CursorBottomSelect=(0,C.E_)(new de({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:3085,mac:{primary:3090}}}));class se extends T{constructor(){super({id:"editorScroll",precondition:void 0,metadata:A.metadata})}determineScrollMethod(ce){return[6].includes(ce.unit)&&[4,2].includes(ce.direction)?this._runHorizontalEditorScroll.bind(this):[1,2,3,4,5,6].includes(ce.unit)&&[1,3].includes(ce.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(ce,Se){const Ie=A.parse(Se);if(!Ie)return;const ne=this.determineScrollMethod(Ie);ne&&ne(ce,Se.source,Ie)}_runVerticalEditorScroll(ce,Se,Ie){const ne=this._computeDesiredScrollTop(ce,Ie);if(Ie.revealCursor){const ue=ce.getCompletelyVisibleViewRangeAtScrollTop(ne);ce.setCursorStates(Se,3,[f.c.findPositionInViewportIfOutside(ce,ce.getPrimaryCursorState(),ue,Ie.select)])}ce.viewLayout.setScrollPosition({scrollTop:ne},0)}_computeDesiredScrollTop(ce,Se){if(1===Se.unit){const ue=ce.viewLayout.getFutureViewport(),we=ce.getCompletelyVisibleViewRangeAtScrollTop(ue.top),Me=ce.coordinatesConverter.convertViewRangeToModelRange(we);let Ve;Ve=1===Se.direction?Math.max(1,Me.startLineNumber-Se.value):Math.min(ce.model.getLineCount(),Me.startLineNumber+Se.value);const $e=ce.coordinatesConverter.convertModelPositionToViewPosition(new P.y(Ve,1));return ce.viewLayout.getVerticalOffsetForLineNumber($e.lineNumber)}if(5===Se.unit){let ue=0;return 3===Se.direction&&(ue=ce.model.getLineCount()-ce.cursorConfig.pageSize),ce.viewLayout.getVerticalOffsetForLineNumber(ue)}let Ie;Ie=3===Se.unit?ce.cursorConfig.pageSize*Se.value:4===Se.unit?Math.round(ce.cursorConfig.pageSize/2)*Se.value:Se.value;const ne=(1===Se.direction?-1:1)*Ie;return ce.viewLayout.getCurrentScrollTop()+ne*ce.cursorConfig.lineHeight}_runHorizontalEditorScroll(ce,Se,Ie){const ne=this._computeDesiredScrollLeft(ce,Ie);ce.viewLayout.setScrollPosition({scrollLeft:ne},0)}_computeDesiredScrollLeft(ce,Se){const Ie=(4===Se.direction?-1:1)*Se.value;return ce.viewLayout.getCurrentScrollLeft()+Ie*ce.cursorConfig.typicalHalfwidthCharacterWidth}}U.EditorScrollImpl=se,U.EditorScroll=(0,C.E_)(new se),U.ScrollLineUp=(0,C.E_)(new class extends T{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(M,ce){U.EditorScroll.runCoreEditorCommand(M,{to:A.RawDirection.Up,by:A.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:ce.source})}}),U.ScrollPageUp=(0,C.E_)(new class extends T{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(M,ce){U.EditorScroll.runCoreEditorCommand(M,{to:A.RawDirection.Up,by:A.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:ce.source})}}),U.ScrollEditorTop=(0,C.E_)(new class extends T{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus}})}runCoreEditorCommand(M,ce){U.EditorScroll.runCoreEditorCommand(M,{to:A.RawDirection.Up,by:A.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:ce.source})}}),U.ScrollLineDown=(0,C.E_)(new class extends T{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(M,ce){U.EditorScroll.runCoreEditorCommand(M,{to:A.RawDirection.Down,by:A.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:ce.source})}}),U.ScrollPageDown=(0,C.E_)(new class extends T{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(M,ce){U.EditorScroll.runCoreEditorCommand(M,{to:A.RawDirection.Down,by:A.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:ce.source})}}),U.ScrollEditorBottom=(0,C.E_)(new class extends T{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus}})}runCoreEditorCommand(M,ce){U.EditorScroll.runCoreEditorCommand(M,{to:A.RawDirection.Down,by:A.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:ce.source})}}),U.ScrollLeft=(0,C.E_)(new class extends T{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus}})}runCoreEditorCommand(M,ce){U.EditorScroll.runCoreEditorCommand(M,{to:A.RawDirection.Left,by:A.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:ce.source})}}),U.ScrollRight=(0,C.E_)(new class extends T{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus}})}runCoreEditorCommand(M,ce){U.EditorScroll.runCoreEditorCommand(M,{to:A.RawDirection.Right,by:A.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:ce.source})}});class ge extends T{constructor(ce){super(ce),this._inSelectionMode=ce.inSelectionMode}runCoreEditorCommand(ce,Se){Se.position&&(ce.model.pushStackElement(),ce.setCursorStates(Se.source,3,[f.c.word(ce,ce.getPrimaryCursorState(),this._inSelectionMode,Se.position)]),2!==Se.revealType&&ce.revealAllCursors(Se.source,!0,!0))}}U.WordSelect=(0,C.E_)(new ge({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),U.WordSelectDrag=(0,C.E_)(new ge({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),U.LastCursorWordSelect=(0,C.E_)(new class extends T{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(M,ce){if(!ce.position)return;const Se=M.getLastAddedCursorIndex(),Ie=M.getCursorStates(),ne=Ie.slice(0),ue=Ie[Se];ne[Se]=f.c.word(M,ue,ue.modelState.hasSelection(),ce.position),M.model.pushStackElement(),M.setCursorStates(ce.source,3,ne)}});class _e extends T{constructor(ce){super(ce),this._inSelectionMode=ce.inSelectionMode}runCoreEditorCommand(ce,Se){Se.position&&(ce.model.pushStackElement(),ce.setCursorStates(Se.source,3,[f.c.line(ce,ce.getPrimaryCursorState(),this._inSelectionMode,Se.position,Se.viewPosition)]),2!==Se.revealType&&ce.revealAllCursors(Se.source,!1,!0))}}U.LineSelect=(0,C.E_)(new _e({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),U.LineSelectDrag=(0,C.E_)(new _e({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ye extends T{constructor(ce){super(ce),this._inSelectionMode=ce.inSelectionMode}runCoreEditorCommand(ce,Se){if(!Se.position)return;const Ie=ce.getLastAddedCursorIndex(),ne=ce.getCursorStates(),ue=ne.slice(0);ue[Ie]=f.c.line(ce,ne[Ie],this._inSelectionMode,Se.position,Se.viewPosition),ce.model.pushStackElement(),ce.setCursorStates(Se.source,3,ue)}}U.LastCursorLineSelect=(0,C.E_)(new ye({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),U.LastCursorLineSelectDrag=(0,C.E_)(new ye({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),U.CancelSelection=(0,C.E_)(new class extends T{constructor(){super({id:"cancelSelection",precondition:r.R.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(M,ce){M.model.pushStackElement(),M.setCursorStates(ce.source,3,[f.c.cancelSelection(M,M.getPrimaryCursorState())]),M.revealAllCursors(ce.source,!0)}}),U.RemoveSecondaryCursors=(0,C.E_)(new class extends T{constructor(){super({id:"removeSecondaryCursors",precondition:r.R.hasMultipleSelections,kbOpts:{weight:1,kbExpr:r.R.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(M,ce){M.model.pushStackElement(),M.setCursorStates(ce.source,3,[M.getPrimaryCursorState()]),M.revealAllCursors(ce.source,!0),(0,x.h5)(a.kg("removedCursor","Removed secondary cursors"))}}),U.RevealLine=(0,C.E_)(new class extends T{constructor(){super({id:"revealLine",precondition:void 0,metadata:k.metadata})}runCoreEditorCommand(M,ce){const Se=ce,Ie=Se.lineNumber||0;let ne="number"==typeof Ie?Ie+1:parseInt(Ie)+1;ne<1&&(ne=1);const ue=M.model.getLineCount();ne>ue&&(ne=ue);const we=new D.Q(ne,1,ne,M.model.getLineMaxColumn(ne));let Me=0;if(Se.at)switch(Se.at){case k.RawAtArgument.Top:Me=3;break;case k.RawAtArgument.Center:Me=1;break;case k.RawAtArgument.Bottom:Me=4}const Ve=M.coordinatesConverter.convertModelRangeToViewRange(we);M.revealRange(ce.source,!1,Ve,Me,0)}}),U.SelectAll=new class extends O{constructor(){super(C.tc)}runDOMCommand(M){F.gm&&(M.focus(),M.select()),M.ownerDocument.execCommand("selectAll")}runEditorCommand(M,ce,Se){const Ie=ce._getViewModel();Ie&&this.runCoreEditorCommand(Ie,Se)}runCoreEditorCommand(M,ce){M.model.pushStackElement(),M.setCursorStates("keyboard",3,[f.c.selectAll(M,M.getPrimaryCursorState())])}},U.SetSelection=(0,C.E_)(new class extends T{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(M,ce){ce.selection&&(M.model.pushStackElement(),M.setCursorStates(ce.source,3,[b.MF.fromModelSelection(ce.selection)]))}})}(N||(N={}));const H=l.M$.and(r.R.textInputFocus,r.R.columnSelection);function L(U,q){g.f.registerKeybindingRule({id:U,primary:q,when:H,weight:1})}function j(U){return U.register(),U}var Z;L(N.CursorColumnSelectLeft.id,1039),L(N.CursorColumnSelectRight.id,1041),L(N.CursorColumnSelectUp.id,1040),L(N.CursorColumnSelectPageUp.id,1035),L(N.CursorColumnSelectDown.id,1042),L(N.CursorColumnSelectPageDown.id,1036),function(U){class q extends C.DX{runEditorCommand(W,Y,oe){const z=Y._getViewModel();z&&this.runCoreEditingCommand(Y,z,oe||{})}}U.CoreEditingCommand=q,U.LineBreakInsert=(0,C.E_)(new class extends q{constructor(){super({id:"lineBreakInsert",precondition:r.R.writable,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(R,W,Y){R.pushUndoStop(),R.executeCommands(this.id,d.TK.lineBreakInsert(W.cursorConfig,W.model,W.getCursorStates().map(oe=>oe.modelState.selection)))}}),U.Outdent=(0,C.E_)(new class extends q{constructor(){super({id:"outdent",precondition:r.R.writable,kbOpts:{weight:0,kbExpr:l.M$.and(r.R.editorTextFocus,r.R.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(R,W,Y){R.pushUndoStop(),R.executeCommands(this.id,d.TK.outdent(W.cursorConfig,W.model,W.getCursorStates().map(oe=>oe.modelState.selection))),R.pushUndoStop()}}),U.Tab=(0,C.E_)(new class extends q{constructor(){super({id:"tab",precondition:r.R.writable,kbOpts:{weight:0,kbExpr:l.M$.and(r.R.editorTextFocus,r.R.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(R,W,Y){R.pushUndoStop(),R.executeCommands(this.id,d.TK.tab(W.cursorConfig,W.model,W.getCursorStates().map(oe=>oe.modelState.selection))),R.pushUndoStop()}}),U.DeleteLeft=(0,C.E_)(new class extends q{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(R,W,Y){const[oe,z]=_.g.deleteLeft(W.getPrevEditOperationType(),W.cursorConfig,W.model,W.getCursorStates().map(G=>G.modelState.selection),W.getCursorAutoClosedCharacters());oe&&R.pushUndoStop(),R.executeCommands(this.id,z),W.setPrevEditOperationType(2)}}),U.DeleteRight=(0,C.E_)(new class extends q{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:r.R.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(R,W,Y){const[oe,z]=_.g.deleteRight(W.getPrevEditOperationType(),W.cursorConfig,W.model,W.getCursorStates().map(G=>G.modelState.selection));oe&&R.pushUndoStop(),R.executeCommands(this.id,z),W.setPrevEditOperationType(3)}}),U.Undo=new class extends O{constructor(){super(C.aU)}runDOMCommand(R){R.ownerDocument.execCommand("undo")}runEditorCommand(R,W,Y){if(W.hasModel()&&!0!==W.getOption(91))return W.getModel().undo()}},U.Redo=new class extends O{constructor(){super(C.ih)}runDOMCommand(R){R.ownerDocument.execCommand("redo")}runEditorCommand(R,W,Y){if(W.hasModel()&&!0!==W.getOption(91))return W.getModel().redo()}}}(Z||(Z={}));class te extends C.uB{constructor(q,R,W){super({id:q,precondition:void 0,metadata:W}),this._handlerId=R}runCommand(q,R){const W=q.get(S.T).getFocusedCodeEditor();W&&W.trigger("keyboard",this._handlerId,R)}}function X(U,q){j(new te("default:"+U,U)),j(new te(U,U,q))}X("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),X("replacePreviousChar"),X("compositionType"),X("compositionStart"),X("compositionEnd"),X("paste"),X("cut")},29288:(tt,xe,t)=>{t.d(xe,{l:()=>v,q:()=>b});var a=t(10467),F=t(77580),w=t(47412),x=t(12323),C=t(32417),S=t(27487);function b(_){const f=new w.Vq;for(const d of _.items){const r=d.type;if("string"===d.kind){const l=new Promise(g=>d.getAsString(g));f.append(r,(0,w.gf)(l))}else if("file"===d.kind){const l=d.getAsFile();l&&f.append(r,P(l))}}return f}function P(_){const f=_.path?C.r.parse(_.path):void 0;return(0,w.VX)(_.name,f,(0,a.A)(function*(){return new Uint8Array(yield _.arrayBuffer())}))}const D=Object.freeze([S.sV.EDITORS,S.sV.FILES,F.t.RESOURCES,F.t.INTERNAL_URI_LIST]);function v(_,f=!1){const d=b(_),r=d.get(F.t.INTERNAL_URI_LIST);if(r)d.replace(x.K.uriList,r);else if(f||!d.has(x.K.uriList)){const l=[];for(const g of _.items){const p=g.getAsFile();if(p){const m=p.path;try{l.push(m?C.r.file(m).toString():C.r.parse(p.name,!0).toString())}catch{}}}l.length&&d.replace(x.K.uriList,(0,w.gf)(w.jt.create(l)))}for(const l of D)d.delete(l);return d}},26713:(tt,xe,t)=>{t.d(xe,{Np:()=>w,jA:()=>C,z9:()=>F});var a=t(51967);function F(S){return!(!S||"function"!=typeof S.getEditorType)&&S.getEditorType()===a._.ICodeEditor}function w(S){return!(!S||"function"!=typeof S.getEditorType)&&S.getEditorType()===a._.IDiffEditor}function C(S){return F(S)?S:w(S)?S.getModifiedEditor():function x(S){return!!S&&"object"==typeof S&&"function"==typeof S.onDidChangeActiveEditor}(S)&&F(S.activeCodeEditor)?S.activeCodeEditor:null}},17105:(tt,xe,t)=>{t.d(xe,{$z:()=>r,BA:()=>g,DW:()=>l,Hh:()=>P,Qn:()=>p,dO:()=>d,i_:()=>f,nz:()=>b,wt:()=>_});var a=t(91874),F=t(32945),w=t(18163),x=t(86671),C=t(99031),S=t(85478);class b{constructor(k,O){this.x=k,this.y=O,this._pageCoordinatesBrand=void 0}toClientCoordinates(k){return new P(this.x-k.scrollX,this.y-k.scrollY)}}class P{constructor(k,O){this.clientX=k,this.clientY=O,this._clientCoordinatesBrand=void 0}toPageCoordinates(k){return new b(this.clientX+k.scrollX,this.clientY+k.scrollY)}}class D{constructor(k,O,N,H){this.x=k,this.y=O,this.width=N,this.height=H,this._editorPagePositionBrand=void 0}}class v{constructor(k,O){this.x=k,this.y=O,this._positionRelativeToEditorBrand=void 0}}function _(A){const k=a.BK(A);return new D(k.left,k.top,k.width,k.height)}function f(A,k,O){return new v((O.x-k.x)/(k.width/A.offsetWidth),(O.y-k.y)/(k.height/A.offsetHeight))}class d extends w.P{constructor(k,O,N){super(a.zk(N),k),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=O,this.pos=new b(this.posx,this.posy),this.editorPos=_(N),this.relativePos=f(N,this.editorPos,this.pos)}}class r{constructor(k){this._editorViewDomNode=k}_create(k){return new d(k,!1,this._editorViewDomNode)}onContextMenu(k,O){return a.ko(k,"contextmenu",N=>{O(this._create(N))})}onMouseUp(k,O){return a.ko(k,"mouseup",N=>{O(this._create(N))})}onMouseDown(k,O){return a.ko(k,a.Bx.MOUSE_DOWN,N=>{O(this._create(N))})}onPointerDown(k,O){return a.ko(k,a.Bx.POINTER_DOWN,N=>{O(this._create(N),N.pointerId)})}onMouseLeave(k,O){return a.ko(k,a.Bx.MOUSE_LEAVE,N=>{O(this._create(N))})}onMouseMove(k,O){return a.ko(k,"mousemove",N=>O(this._create(N)))}}class l{constructor(k){this._editorViewDomNode=k}_create(k){return new d(k,!1,this._editorViewDomNode)}onPointerUp(k,O){return a.ko(k,"pointerup",N=>{O(this._create(N))})}onPointerDown(k,O){return a.ko(k,a.Bx.POINTER_DOWN,N=>{O(this._create(N),N.pointerId)})}onPointerLeave(k,O){return a.ko(k,a.Bx.POINTER_LEAVE,N=>{O(this._create(N))})}onPointerMove(k,O){return a.ko(k,"pointermove",N=>O(this._create(N)))}}class g extends C.jG{constructor(k){super(),this._editorViewDomNode=k,this._globalPointerMoveMonitor=this._register(new F._),this._keydownListener=null}startMonitoring(k,O,N,H,L){this._keydownListener=a.b2(k.ownerDocument,"keydown",j=>{j.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,j.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(k,O,N,j=>{H(new d(j,!0,this._editorViewDomNode))},j=>{this._keydownListener.dispose(),L(j)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}let p=(()=>{class A{constructor(O){this._editor=O,this._instanceId=++A._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new x.uC(()=>this.garbageCollect(),1e3)}createClassNameRef(O){const N=this.getOrCreateRule(O);return N.increaseRefCount(),{className:N.className,dispose:()=>{N.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(O){const N=this.computeUniqueKey(O);let H=this._rules.get(N);if(!H){const L=this._counter++;H=new m(N,`dyn-rule-${this._instanceId}-${L}`,a.Cl(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,O),this._rules.set(N,H)}return H}computeUniqueKey(O){return JSON.stringify(O)}garbageCollect(){for(const O of this._rules.values())O.hasReferences()||(this._rules.delete(O.key),O.dispose())}}return A._idPool=0,A})();class m{constructor(k,O,N,H){this.key=k,this.className=O,this.properties=H,this._referenceCount=0,this._styleElementDisposables=new C.Cm,this._styleElement=a.li(N,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(k,O){let N=`.${k} {`;for(const H in O){const L=O[H];let j;j="object"==typeof L?(0,S.GuP)(L.id):L;const Z=H.replace(/(^[A-Z])/,([k])=>k.toLowerCase()).replace(/([A-Z])/g,([k])=>`-${k.toLowerCase()}`);N+=`\n\t${Z}: ${j};`}return N+="\n}",N}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}},47639:(tt,xe,t)=>{t.d(xe,{DX:()=>A,E_:()=>L,Fl:()=>j,HW:()=>X,PF:()=>O,aU:()=>Y,dS:()=>U,fE:()=>m,gW:()=>Z,ih:()=>oe,ke:()=>H,ks:()=>k,qO:()=>N,tc:()=>z,uB:()=>p,xX:()=>te});var U,G,a=t(81644),F=t(32417),w=t(31212),x=t(13632),C=t(31925),S=t(35425),b=t(79134),P=t(51126),D=t(50168),v=t(598),_=t(36246),f=t(97018),d=t(55922),r=t(66702),l=t(52152),g=t(91874);class p{constructor(Q){this.id=Q.id,this.precondition=Q.precondition,this._kbOpts=Q.kbOpts,this._menuOpts=Q.menuOpts,this.metadata=Q.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const Q=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const K of Q){let ie=K.kbExpr;this.precondition&&(ie=ie?D.M$.and(ie,this.precondition):this.precondition),_.f.registerKeybindingRule({id:this.id,weight:K.weight,args:K.args,when:ie,primary:K.primary,secondary:K.secondary,win:K.win,linux:K.linux,mac:K.mac})}}P.w.registerCommand({id:this.id,handler:(Q,K)=>this.runCommand(Q,K),metadata:this.metadata})}_registerMenuItem(Q){b.ZG.appendMenuItem(Q.menuId,{group:Q.group,command:{id:this.id,title:Q.title,icon:Q.icon,precondition:this.precondition},when:Q.when,order:Q.order})}}class m extends p{constructor(){super(...arguments),this._implementations=[]}addImplementation(Q,K,ie,ae){return this._implementations.push({priority:Q,name:K,implementation:ie,when:ae}),this._implementations.sort((de,se)=>se.priority-de.priority),{dispose:()=>{for(let de=0;de<this._implementations.length;de++)if(this._implementations[de].implementation===ie)return void this._implementations.splice(de,1)}}}runCommand(Q,K){const ie=Q.get(l.rr),ae=Q.get(D.fN);ie.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const de of this._implementations){if(de.when){const ge=ae.getContext((0,g.bq)());if(!de.when.evaluate(ge))continue}const se=de.implementation(Q,K);if(se)return ie.trace(`Command '${this.id}' was handled by '${de.name}'.`),"boolean"==typeof se?void 0:se}ie.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class T extends p{constructor(Q,K){super(K),this.command=Q}runCommand(Q,K){return this.command.runCommand(Q,K)}}class A extends p{static bindToContribution(Q){return class extends A{constructor(ie){super(ie),this._callback=ie.handler}runEditorCommand(ie,ae,de){const se=Q(ae);se&&this._callback(se,de)}}}static runEditorCommand(Q,K,ie,ae){const de=Q.get(w.T),se=de.getFocusedCodeEditor()||de.getActiveCodeEditor();if(se)return se.invokeWithinContext(ge=>{if(ge.get(D.fN).contextMatchesRules(ie??void 0))return ae(ge,se,K)})}runCommand(Q,K){return A.runEditorCommand(Q,K,this.precondition,(ie,ae,de)=>this.runEditorCommand(ie,ae,de))}}class k extends A{static convertOptions(Q){let K;function ie(ae){return ae.menuId||(ae.menuId=b.D8.EditorContext),ae.title||(ae.title=Q.label),ae.when=D.M$.and(Q.precondition,ae.when),ae}return K=Array.isArray(Q.menuOpts)?Q.menuOpts:Q.menuOpts?[Q.menuOpts]:[],Array.isArray(Q.contextMenuOpts)?K.push(...Q.contextMenuOpts.map(ie)):Q.contextMenuOpts&&K.push(ie(Q.contextMenuOpts)),Q.menuOpts=K,Q}constructor(Q){super(k.convertOptions(Q)),this.label=Q.label,this.alias=Q.alias}runEditorCommand(Q,K,ie){return this.reportTelemetry(Q,K),this.run(Q,K,ie||{})}reportTelemetry(Q,K){Q.get(d.k).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class O extends k{constructor(){super(...arguments),this._implementations=[]}addImplementation(Q,K){return this._implementations.push([Q,K]),this._implementations.sort((ie,ae)=>ae[0]-ie[0]),{dispose:()=>{for(let ie=0;ie<this._implementations.length;ie++)if(this._implementations[ie][1]===K)return void this._implementations.splice(ie,1)}}}run(Q,K,ie){for(const ae of this._implementations){const de=ae[1](Q,K,ie);if(de)return"boolean"==typeof de?void 0:de}}}class N extends b.L{run(Q,...K){const ie=Q.get(w.T),ae=ie.getFocusedCodeEditor()||ie.getActiveCodeEditor();if(ae)return ae.invokeWithinContext(de=>{var se,ge;const _e=de.get(D.fN),ye=de.get(l.rr);if(_e.contextMatchesRules(null!==(se=this.desc.precondition)&&void 0!==se?se:void 0))return this.runEditorCommand(de,ae,...K);ye.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,null===(ge=this.desc.precondition)||void 0===ge?void 0:ge.serialize())})}}function H(G,Q){P.w.registerCommand(G,function(K,...ie){const ae=K.get(v._Y),[de,se]=ie;(0,r.j)(F.r.isUri(de)),(0,r.j)(x.y.isIPosition(se));const ge=K.get(C.S).getModel(de);if(ge){const _e=x.y.lift(se);return ae.invokeFunction(Q,ge,_e,...ie.slice(2))}return K.get(S.b).createModelReference(de).then(_e=>new Promise((ye,M)=>{try{ye(ae.invokeFunction(Q,_e.object.textEditorModel,x.y.lift(se),ie.slice(2)))}catch(ce){M(ce)}}).finally(()=>{_e.dispose()}))})}function L(G){return R.INSTANCE.registerEditorCommand(G),G}function j(G){const Q=new G;return R.INSTANCE.registerEditorAction(Q),Q}function Z(G){return R.INSTANCE.registerEditorAction(G),G}function te(G){R.INSTANCE.registerEditorAction(G)}function X(G,Q,K){R.INSTANCE.registerEditorContribution(G,Q,K)}(G=U||(U={})).getEditorCommand=function Q(se){return R.INSTANCE.getEditorCommand(se)},G.getEditorActions=function K(){return R.INSTANCE.getEditorActions()},G.getEditorContributions=function ie(){return R.INSTANCE.getEditorContributions()},G.getSomeEditorContributions=function ae(se){return R.INSTANCE.getEditorContributions().filter(ge=>se.indexOf(ge.id)>=0)},G.getDiffEditorContributions=function de(){return R.INSTANCE.getDiffEditorContributions()};class R{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(Q,K,ie){this.editorContributions.push({id:Q,ctor:K,instantiation:ie})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(Q){Q.register(),this.editorActions.push(Q)}getEditorActions(){return this.editorActions}registerEditorCommand(Q){Q.register(),this.editorCommands[Q.id]=Q}getEditorCommand(Q){return this.editorCommands[Q]||null}}function W(G){return G.register(),G}R.INSTANCE=new R,f.O.add("editor.contributions",R.INSTANCE);const Y=W(new m({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:b.D8.MenubarEditMenu,group:"1_do",title:a.kg({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:b.D8.CommandPalette,group:"",title:a.kg("undo","Undo"),order:1}]}));W(new T(Y,{id:"default:undo",precondition:void 0}));const oe=W(new m({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:b.D8.MenubarEditMenu,group:"1_do",title:a.kg({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:b.D8.CommandPalette,group:"",title:a.kg("redo","Redo"),order:1}]}));W(new T(oe,{id:"default:redo",precondition:void 0}));const z=W(new m({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:b.D8.MenubarSelectionMenu,group:"1_basic",title:a.kg({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:b.D8.CommandPalette,group:"",title:a.kg("selectAll","Select All"),order:1}]}))},876:(tt,xe,t)=>{t.d(xe,{cw:()=>S,jN:()=>C,nu:()=>x});var a=t(598),F=t(32417),w=t(66702);const x=(0,a.u1)("IWorkspaceEditService");class C{constructor(D){this.metadata=D}static convert(D){return D.edits.map(v=>{if(S.is(v))return S.lift(v);if(b.is(v))return b.lift(v);throw new Error("Unsupported edit")})}}class S extends C{static is(D){return D instanceof S||(0,w.Gv)(D)&&F.r.isUri(D.resource)&&(0,w.Gv)(D.textEdit)}static lift(D){return D instanceof S?D:new S(D.resource,D.textEdit,D.versionId,D.metadata)}constructor(D,v,_=void 0,f){super(f),this.resource=D,this.textEdit=v,this.versionId=_}}class b extends C{static is(D){return D instanceof b||(0,w.Gv)(D)&&(!!D.newResource||!!D.oldResource)}static lift(D){return D instanceof b?D:new b(D.oldResource,D.newResource,D.options,D.metadata)}constructor(D,v,_={},f){super(f),this.oldResource=D,this.newResource=v,this.options=_}}},31212:(tt,xe,t)=>{t.d(xe,{T:()=>F});const F=(0,t(598).u1)("codeEditorService")},91664:(tt,xe,t)=>{t.d(xe,{Z6:()=>Wi,Bc:()=>Zn});var a=t(10467),F=t(86671),w=t(99031),x=t(25680),C=t(5643),S=t(24311),b=t(21828),P=t(6653);let v=!1;function _(Pn){b.HZ&&(v||(v=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(Pn.message))}class f{constructor(pt,ct,Tt,ut){this.vsWorker=pt,this.req=ct,this.method=Tt,this.args=ut,this.type=0}}class d{constructor(pt,ct,Tt,ut){this.vsWorker=pt,this.seq=ct,this.res=Tt,this.err=ut,this.type=1}}class r{constructor(pt,ct,Tt,ut){this.vsWorker=pt,this.req=ct,this.eventName=Tt,this.arg=ut,this.type=2}}class l{constructor(pt,ct,Tt){this.vsWorker=pt,this.req=ct,this.event=Tt,this.type=3}}class g{constructor(pt,ct){this.vsWorker=pt,this.req=ct,this.type=4}}class p{constructor(pt){this._workerId=-1,this._handler=pt,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(pt){this._workerId=pt}sendMessage(pt,ct){const Tt=String(++this._lastSentReq);return new Promise((ut,Ct)=>{this._pendingReplies[Tt]={resolve:ut,reject:Ct},this._send(new f(this._workerId,Tt,pt,ct))})}listen(pt,ct){let Tt=null;const ut=new C.vl({onWillAddFirstListener:()=>{Tt=String(++this._lastSentReq),this._pendingEmitters.set(Tt,ut),this._send(new r(this._workerId,Tt,pt,ct))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(Tt),this._send(new g(this._workerId,Tt)),Tt=null}});return ut.event}handleMessage(pt){!pt||!pt.vsWorker||-1!==this._workerId&&pt.vsWorker!==this._workerId||this._handleMessage(pt)}_handleMessage(pt){switch(pt.type){case 1:return this._handleReplyMessage(pt);case 0:return this._handleRequestMessage(pt);case 2:return this._handleSubscribeEventMessage(pt);case 3:return this._handleEventMessage(pt);case 4:return this._handleUnsubscribeEventMessage(pt)}}_handleReplyMessage(pt){if(!this._pendingReplies[pt.seq])return void console.warn("Got reply to unknown seq");const ct=this._pendingReplies[pt.seq];if(delete this._pendingReplies[pt.seq],pt.err){let Tt=pt.err;return pt.err.$isError&&(Tt=new Error,Tt.name=pt.err.name,Tt.message=pt.err.message,Tt.stack=pt.err.stack),void ct.reject(Tt)}ct.resolve(pt.res)}_handleRequestMessage(pt){const ct=pt.req;this._handler.handleMessage(pt.method,pt.args).then(ut=>{this._send(new d(this._workerId,ct,ut,void 0))},ut=>{ut.detail instanceof Error&&(ut.detail=(0,x.cU)(ut.detail)),this._send(new d(this._workerId,ct,void 0,(0,x.cU)(ut)))})}_handleSubscribeEventMessage(pt){const ct=pt.req,Tt=this._handler.handleEvent(pt.eventName,pt.arg)(ut=>{this._send(new l(this._workerId,ct,ut))});this._pendingEvents.set(ct,Tt)}_handleEventMessage(pt){this._pendingEmitters.has(pt.req)?this._pendingEmitters.get(pt.req).fire(pt.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(pt){this._pendingEvents.has(pt.req)?(this._pendingEvents.get(pt.req).dispose(),this._pendingEvents.delete(pt.req)):console.warn("Got unsubscribe for unknown req")}_send(pt){const ct=[];if(0===pt.type)for(let Tt=0;Tt<pt.args.length;Tt++)pt.args[Tt]instanceof ArrayBuffer&&ct.push(pt.args[Tt]);else 1===pt.type&&pt.res instanceof ArrayBuffer&&ct.push(pt.res);this._handler.sendMessage(pt,ct)}}class m extends w.jG{constructor(pt,ct,Tt){super();let ut=null;this._worker=this._register(pt.create("vs/base/common/worker/simpleWorker",jn=>{this._protocol.handleMessage(jn)},jn=>{ut?.(jn)})),this._protocol=new p({sendMessage:(jn,Nn)=>{this._worker.postMessage(jn,Nn)},handleMessage:(jn,Nn)=>{if("function"!=typeof Tt[jn])return Promise.reject(new Error("Missing method "+jn+" on main thread host."));try{return Promise.resolve(Tt[jn].apply(Tt,Nn))}catch(gn){return Promise.reject(gn)}},handleEvent:(jn,Nn)=>{if(A(jn)){const gn=Tt[jn].call(Tt,Nn);if("function"!=typeof gn)throw new Error(`Missing dynamic event ${jn} on main thread host.`);return gn}if(T(jn)){const gn=Tt[jn];if("function"!=typeof gn)throw new Error(`Missing event ${jn} on main thread host.`);return gn}throw new Error(`Malformed event name ${jn}`)}}),this._protocol.setWorkerId(this._worker.getId());let Ct=null;const Jt=globalThis.require;typeof Jt<"u"&&"function"==typeof Jt.getConfig?Ct=Jt.getConfig():typeof globalThis.requirejs<"u"&&(Ct=globalThis.requirejs.s.contexts._.config);const un=(0,S.V0)(Tt);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(Ct)),ct,un]);const Wn=(jn,Nn)=>this._request(jn,Nn),Kn=(jn,Nn)=>this._protocol.listen(jn,Nn);this._lazyProxy=new Promise((jn,Nn)=>{ut=Nn,this._onModuleLoaded.then(gn=>{jn(function k(Pn,pt,ct){const Tt=Jt=>function(){const un=Array.prototype.slice.call(arguments,0);return pt(Jt,un)},ut=Jt=>function(un){return ct(Jt,un)},Ct={};for(const Jt of Pn)Ct[Jt]=A(Jt)?ut(Jt):T(Jt)?ct(Jt,void 0):Tt(Jt);return Ct}(gn,Wn,Kn))},gn=>{Nn(gn),this._onError("Worker failed to load "+ct,gn)})})}getProxyObject(){return this._lazyProxy}_request(pt,ct){return new Promise((Tt,ut)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(pt,ct).then(Tt,ut)},ut)})}_onError(pt,ct){console.error(pt),console.info(ct)}}function T(Pn){return"o"===Pn[0]&&"n"===Pn[1]&&P.Wv(Pn.charCodeAt(2))}function A(Pn){return/^onDynamic/.test(Pn)&&P.Wv(Pn.charCodeAt(9))}const L=(0,t(87892).H)("defaultWorkerFactory",{createScriptURL:Pn=>Pn});class te extends w.jG{constructor(pt,ct,Tt,ut,Ct){super(),this.id=ct,this.label=Tt;const Jt=function j(Pn){const pt=globalThis.MonacoEnvironment;if(pt){if("function"==typeof pt.getWorker)return pt.getWorker("workerMain.js",Pn);if("function"==typeof pt.getWorkerUrl){const ct=pt.getWorkerUrl("workerMain.js",Pn);return new Worker(L?L.createScriptURL(ct):ct,{name:Pn})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(Tt);this.worker=function Z(Pn){return"function"==typeof Pn.then}(Jt)?Jt:Promise.resolve(Jt),this.postMessage(pt,[]),this.worker.then(un=>{un.onmessage=function(Wn){ut(Wn.data)},un.onmessageerror=Ct,"function"==typeof un.addEventListener&&un.addEventListener("error",Ct)}),this._register((0,w.s)(()=>{var un;null===(un=this.worker)||void 0===un||un.then(Wn=>{Wn.onmessage=null,Wn.onmessageerror=null,Wn.removeEventListener("error",Ct),Wn.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(pt,ct){var Tt;null===(Tt=this.worker)||void 0===Tt||Tt.then(ut=>{try{ut.postMessage(pt,ct)}catch(Ct){(0,x.dz)(Ct),(0,x.dz)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:Ct}))}})}}let X=(()=>{class Pn{constructor(ct){this._label=ct,this._webWorkerFailedBeforeError=!1}create(ct,Tt,ut){const Ct=++Pn.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new te(ct,Ct,this._label||"anonymous"+Ct,Tt,Jt=>{_(Jt),this._webWorkerFailedBeforeError=Jt,ut(Jt)})}}return Pn.LAST_WORKER_ID=0,Pn})();var U=t(73678),q=t(70416),R=t(33431),W=t(32417),Y=t(13632),oe=t(54511);class z{constructor(pt,ct,Tt,ut){this._uri=pt,this._lines=ct,this._eol=Tt,this._versionId=ut,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(pt){pt.eol&&pt.eol!==this._eol&&(this._eol=pt.eol,this._lineStarts=null);const ct=pt.changes;for(const Tt of ct)this._acceptDeleteRange(Tt.range),this._acceptInsertText(new Y.y(Tt.range.startLineNumber,Tt.range.startColumn),Tt.text);this._versionId=pt.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const pt=this._eol.length,ct=this._lines.length,Tt=new Uint32Array(ct);for(let ut=0;ut<ct;ut++)Tt[ut]=this._lines[ut].length+pt;this._lineStarts=new oe.N(Tt)}}_setLineText(pt,ct){this._lines[pt]=ct,this._lineStarts&&this._lineStarts.setValue(pt,this._lines[pt].length+this._eol.length)}_acceptDeleteRange(pt){if(pt.startLineNumber!==pt.endLineNumber)this._setLineText(pt.startLineNumber-1,this._lines[pt.startLineNumber-1].substring(0,pt.startColumn-1)+this._lines[pt.endLineNumber-1].substring(pt.endColumn-1)),this._lines.splice(pt.startLineNumber,pt.endLineNumber-pt.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(pt.startLineNumber,pt.endLineNumber-pt.startLineNumber);else{if(pt.startColumn===pt.endColumn)return;this._setLineText(pt.startLineNumber-1,this._lines[pt.startLineNumber-1].substring(0,pt.startColumn-1)+this._lines[pt.startLineNumber-1].substring(pt.endColumn-1))}}_acceptInsertText(pt,ct){if(0===ct.length)return;const Tt=(0,P.uz)(ct);if(1===Tt.length)return void this._setLineText(pt.lineNumber-1,this._lines[pt.lineNumber-1].substring(0,pt.column-1)+Tt[0]+this._lines[pt.lineNumber-1].substring(pt.column-1));Tt[Tt.length-1]+=this._lines[pt.lineNumber-1].substring(pt.column-1),this._setLineText(pt.lineNumber-1,this._lines[pt.lineNumber-1].substring(0,pt.column-1)+Tt[0]);const ut=new Uint32Array(Tt.length-1);for(let Ct=1;Ct<Tt.length;Ct++)this._lines.splice(pt.lineNumber+Ct-1,0,Tt[Ct]),ut[Ct-1]=Tt[Ct].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(pt.lineNumber,ut)}}var G=t(50199),Q=t(72493);class K{constructor(pt,ct,Tt){const ut=new Uint8Array(pt*ct);for(let Ct=0,Jt=pt*ct;Ct<Jt;Ct++)ut[Ct]=Tt;this._data=ut,this.rows=pt,this.cols=ct}get(pt,ct){return this._data[pt*this.cols+ct]}set(pt,ct,Tt){this._data[pt*this.cols+ct]=Tt}}class ie{constructor(pt){let ct=0,Tt=0;for(let Ct=0,Jt=pt.length;Ct<Jt;Ct++){const[un,Wn,Kn]=pt[Ct];Wn>ct&&(ct=Wn),un>Tt&&(Tt=un),Kn>Tt&&(Tt=Kn)}ct++,Tt++;const ut=new K(Tt,ct,0);for(let Ct=0,Jt=pt.length;Ct<Jt;Ct++){const[un,Wn,Kn]=pt[Ct];ut.set(un,Wn,Kn)}this._states=ut,this._maxCharCode=ct}nextState(pt,ct){return ct<0||ct>=this._maxCharCode?0:this._states.get(pt,ct)}}let ae=null,se=null;class _e{static _createLink(pt,ct,Tt,ut,Ct){let Jt=Ct-1;do{const un=ct.charCodeAt(Jt);if(2!==pt.get(un))break;Jt--}while(Jt>ut);if(ut>0){const un=ct.charCodeAt(ut-1),Wn=ct.charCodeAt(Jt);(40===un&&41===Wn||91===un&&93===Wn||123===un&&125===Wn)&&Jt--}return{range:{startLineNumber:Tt,startColumn:ut+1,endLineNumber:Tt,endColumn:Jt+2},url:ct.substring(ut,Jt+1)}}static computeLinks(pt,ct=function de(){return null===ae&&(ae=new ie([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),ae}()){const Tt=function ge(){if(null===se){se=new Q.V(0);const Pn=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let ct=0;ct<Pn.length;ct++)se.set(Pn.charCodeAt(ct),1);const pt=".,;:";for(let ct=0;ct<pt.length;ct++)se.set(pt.charCodeAt(ct),2)}return se}(),ut=[];for(let Ct=1,Jt=pt.getLineCount();Ct<=Jt;Ct++){const un=pt.getLineContent(Ct),Wn=un.length;let Kn=0,jn=0,Nn=0,gn=1,Wt=!1,mn=!1,En=!1,On=!1;for(;Kn<Wn;){let Rn=!1;const Qn=un.charCodeAt(Kn);if(13===gn){let fi;switch(Qn){case 40:Wt=!0,fi=0;break;case 41:fi=Wt?0:1;break;case 91:En=!0,mn=!0,fi=0;break;case 93:En=!1,fi=mn?0:1;break;case 123:On=!0,fi=0;break;case 125:fi=On?0:1;break;case 39:case 34:case 96:fi=Nn===Qn?1:39===Nn||34===Nn||96===Nn?0:1;break;case 42:fi=42===Nn?1:0;break;case 124:fi=124===Nn?1:0;break;case 32:fi=En?0:1;break;default:fi=Tt.get(Qn)}1===fi&&(ut.push(_e._createLink(Tt,un,Ct,jn,Kn)),Rn=!0)}else if(12===gn){let fi;91===Qn?(mn=!0,fi=0):fi=Tt.get(Qn),1===fi?Rn=!0:gn=13}else gn=ct.nextState(gn,Qn),0===gn&&(Rn=!0);Rn&&(gn=1,Wt=!1,mn=!1,On=!1,jn=Kn+1,Nn=Qn),Kn++}13===gn&&ut.push(_e._createLink(Tt,un,Ct,jn,Wn))}return ut}}class M{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(pt,ct,Tt,ut,Ct){if(pt&&ct){const Jt=this.doNavigateValueSet(ct,Ct);if(Jt)return{range:pt,value:Jt}}if(Tt&&ut){const Jt=this.doNavigateValueSet(ut,Ct);if(Jt)return{range:Tt,value:Jt}}return null}doNavigateValueSet(pt,ct){const Tt=this.numberReplace(pt,ct);return null!==Tt?Tt:this.textReplace(pt,ct)}numberReplace(pt,ct){const Tt=Math.pow(10,pt.length-(pt.lastIndexOf(".")+1));let ut=Number(pt);const Ct=parseFloat(pt);return isNaN(ut)||isNaN(Ct)||ut!==Ct?null:0!==ut||ct?(ut=Math.floor(ut*Tt),ut+=ct?Tt:-Tt,String(ut/Tt)):null}textReplace(pt,ct){return this.valueSetsReplace(this._defaultValueSet,pt,ct)}valueSetsReplace(pt,ct,Tt){let ut=null;for(let Ct=0,Jt=pt.length;null===ut&&Ct<Jt;Ct++)ut=this.valueSetReplace(pt[Ct],ct,Tt);return ut}valueSetReplace(pt,ct,Tt){let ut=pt.indexOf(ct);return ut>=0?(ut+=Tt?1:-1,ut<0?ut=pt.length-1:ut%=pt.length,pt[ut]):null}}M.INSTANCE=new M;var ce=t(96484),Se=t(42588),Ie=t(48752),ne=t(89146),ue=t(84094),we=t(43929),Me=t(84132);class $e{computeDiff(pt,ct,Tt){var ut;const Jt=new Ce(pt,ct,{maxComputationTime:Tt.maxComputationTimeMs,shouldIgnoreTrimWhitespace:Tt.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),un=[];let Wn=null;for(const Kn of Jt.changes){let jn,Nn;jn=0===Kn.originalEndLineNumber?new Me.M(Kn.originalStartLineNumber+1,Kn.originalStartLineNumber+1):new Me.M(Kn.originalStartLineNumber,Kn.originalEndLineNumber+1),Nn=0===Kn.modifiedEndLineNumber?new Me.M(Kn.modifiedStartLineNumber+1,Kn.modifiedStartLineNumber+1):new Me.M(Kn.modifiedStartLineNumber,Kn.modifiedEndLineNumber+1);let gn=new ue.wm(jn,Nn,null===(ut=Kn.charChanges)||void 0===ut?void 0:ut.map(Wt=>new ue.q6(new U.Q(Wt.originalStartLineNumber,Wt.originalStartColumn,Wt.originalEndLineNumber,Wt.originalEndColumn),new U.Q(Wt.modifiedStartLineNumber,Wt.modifiedStartColumn,Wt.modifiedEndLineNumber,Wt.modifiedEndColumn))));Wn&&(Wn.modified.endLineNumberExclusive===gn.modified.startLineNumber||Wn.original.endLineNumberExclusive===gn.original.startLineNumber)&&(gn=new ue.wm(Wn.original.join(gn.original),Wn.modified.join(gn.modified),Wn.innerChanges&&gn.innerChanges?Wn.innerChanges.concat(gn.innerChanges):void 0),un.pop()),un.push(gn),Wn=gn}return(0,we.Ft)(()=>(0,we.Xo)(un,(Kn,jn)=>jn.original.startLineNumber-Kn.original.endLineNumberExclusive==jn.modified.startLineNumber-Kn.modified.endLineNumberExclusive&&Kn.original.endLineNumberExclusive<jn.original.startLineNumber&&Kn.modified.endLineNumberExclusive<jn.modified.startLineNumber)),new ne.p(un,[],Jt.quitEarly)}}function it(Pn,pt,ct,Tt){return new R.uP(Pn,pt,ct).ComputeDiff(Tt)}class He{constructor(pt){const ct=[],Tt=[];for(let ut=0,Ct=pt.length;ut<Ct;ut++)ct[ut]=Ne(pt[ut],1),Tt[ut]=Fe(pt[ut],1);this.lines=pt,this._startColumns=ct,this._endColumns=Tt}getElements(){const pt=[];for(let ct=0,Tt=this.lines.length;ct<Tt;ct++)pt[ct]=this.lines[ct].substring(this._startColumns[ct]-1,this._endColumns[ct]-1);return pt}getStrictElement(pt){return this.lines[pt]}getStartLineNumber(pt){return pt+1}getEndLineNumber(pt){return pt+1}createCharSequence(pt,ct,Tt){const ut=[],Ct=[],Jt=[];let un=0;for(let Wn=ct;Wn<=Tt;Wn++){const Kn=this.lines[Wn],Nn=pt?this._endColumns[Wn]:Kn.length+1;for(let gn=pt?this._startColumns[Wn]:1;gn<Nn;gn++)ut[un]=Kn.charCodeAt(gn-1),Ct[un]=Wn+1,Jt[un]=gn,un++;!pt&&Wn<Tt&&(ut[un]=10,Ct[un]=Wn+1,Jt[un]=Kn.length+1,un++)}return new me(ut,Ct,Jt)}}class me{constructor(pt,ct,Tt){this._charCodes=pt,this._lineNumbers=ct,this._columns=Tt}toString(){return"["+this._charCodes.map((pt,ct)=>(10===pt?"\\n":String.fromCharCode(pt))+`-(${this._lineNumbers[ct]},${this._columns[ct]})`).join(", ")+"]"}_assertIndex(pt,ct){if(pt<0||pt>=ct.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(pt){return pt>0&&pt===this._lineNumbers.length?this.getEndLineNumber(pt-1):(this._assertIndex(pt,this._lineNumbers),this._lineNumbers[pt])}getEndLineNumber(pt){return-1===pt?this.getStartLineNumber(pt+1):(this._assertIndex(pt,this._lineNumbers),10===this._charCodes[pt]?this._lineNumbers[pt]+1:this._lineNumbers[pt])}getStartColumn(pt){return pt>0&&pt===this._columns.length?this.getEndColumn(pt-1):(this._assertIndex(pt,this._columns),this._columns[pt])}getEndColumn(pt){return-1===pt?this.getStartColumn(pt+1):(this._assertIndex(pt,this._columns),10===this._charCodes[pt]?1:this._columns[pt]+1)}}class le{constructor(pt,ct,Tt,ut,Ct,Jt,un,Wn){this.originalStartLineNumber=pt,this.originalStartColumn=ct,this.originalEndLineNumber=Tt,this.originalEndColumn=ut,this.modifiedStartLineNumber=Ct,this.modifiedStartColumn=Jt,this.modifiedEndLineNumber=un,this.modifiedEndColumn=Wn}static createFromDiffChange(pt,ct,Tt){const ut=ct.getStartLineNumber(pt.originalStart),Ct=ct.getStartColumn(pt.originalStart),Jt=ct.getEndLineNumber(pt.originalStart+pt.originalLength-1),un=ct.getEndColumn(pt.originalStart+pt.originalLength-1),Wn=Tt.getStartLineNumber(pt.modifiedStart),Kn=Tt.getStartColumn(pt.modifiedStart),jn=Tt.getEndLineNumber(pt.modifiedStart+pt.modifiedLength-1),Nn=Tt.getEndColumn(pt.modifiedStart+pt.modifiedLength-1);return new le(ut,Ct,Jt,un,Wn,Kn,jn,Nn)}}class be{constructor(pt,ct,Tt,ut,Ct){this.originalStartLineNumber=pt,this.originalEndLineNumber=ct,this.modifiedStartLineNumber=Tt,this.modifiedEndLineNumber=ut,this.charChanges=Ct}static createFromDiffResult(pt,ct,Tt,ut,Ct,Jt,un){let Wn,Kn,jn,Nn,gn;if(0===ct.originalLength?(Wn=Tt.getStartLineNumber(ct.originalStart)-1,Kn=0):(Wn=Tt.getStartLineNumber(ct.originalStart),Kn=Tt.getEndLineNumber(ct.originalStart+ct.originalLength-1)),0===ct.modifiedLength?(jn=ut.getStartLineNumber(ct.modifiedStart)-1,Nn=0):(jn=ut.getStartLineNumber(ct.modifiedStart),Nn=ut.getEndLineNumber(ct.modifiedStart+ct.modifiedLength-1)),Jt&&ct.originalLength>0&&ct.originalLength<20&&ct.modifiedLength>0&&ct.modifiedLength<20&&Ct()){const Wt=Tt.createCharSequence(pt,ct.originalStart,ct.originalStart+ct.originalLength-1),mn=ut.createCharSequence(pt,ct.modifiedStart,ct.modifiedStart+ct.modifiedLength-1);if(Wt.getElements().length>0&&mn.getElements().length>0){let En=it(Wt,mn,Ct,!0).changes;un&&(En=function Ee(Pn){if(Pn.length<=1)return Pn;const pt=[Pn[0]];let ct=pt[0];for(let Tt=1,ut=Pn.length;Tt<ut;Tt++){const Ct=Pn[Tt];Math.min(Ct.originalStart-(ct.originalStart+ct.originalLength),Ct.modifiedStart-(ct.modifiedStart+ct.modifiedLength))<3?(ct.originalLength=Ct.originalStart+Ct.originalLength-ct.originalStart,ct.modifiedLength=Ct.modifiedStart+Ct.modifiedLength-ct.modifiedStart):(pt.push(Ct),ct=Ct)}return pt}(En)),gn=[];for(let On=0,Rn=En.length;On<Rn;On++)gn.push(le.createFromDiffChange(En[On],Wt,mn))}}return new be(Wn,Kn,jn,Nn,gn)}}class Ce{constructor(pt,ct,Tt){this.shouldComputeCharChanges=Tt.shouldComputeCharChanges,this.shouldPostProcessCharChanges=Tt.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=Tt.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=Tt.shouldMakePrettyDiff,this.originalLines=pt,this.modifiedLines=ct,this.original=new He(pt),this.modified=new He(ct),this.continueLineDiff=qe(Tt.maxComputationTime),this.continueCharDiff=qe(0===Tt.maxComputationTime?0:Math.min(Tt.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const pt=it(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),ct=pt.changes,Tt=pt.quitEarly;if(this.shouldIgnoreTrimWhitespace){const un=[];for(let Wn=0,Kn=ct.length;Wn<Kn;Wn++)un.push(be.createFromDiffResult(this.shouldIgnoreTrimWhitespace,ct[Wn],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:Tt,changes:un}}const ut=[];let Ct=0,Jt=0;for(let un=-1,Wn=ct.length;un<Wn;un++){const Kn=un+1<Wn?ct[un+1]:null,jn=Kn?Kn.originalStart:this.originalLines.length,Nn=Kn?Kn.modifiedStart:this.modifiedLines.length;for(;Ct<jn&&Jt<Nn;){const gn=this.originalLines[Ct],Wt=this.modifiedLines[Jt];if(gn!==Wt){{let mn=Ne(gn,1),En=Ne(Wt,1);for(;mn>1&&En>1&&gn.charCodeAt(mn-2)===Wt.charCodeAt(En-2);)mn--,En--;(mn>1||En>1)&&this._pushTrimWhitespaceCharChange(ut,Ct+1,1,mn,Jt+1,1,En)}{let mn=Fe(gn,1),En=Fe(Wt,1);const On=gn.length+1,Rn=Wt.length+1;for(;mn<On&&En<Rn&&gn.charCodeAt(mn-1)===gn.charCodeAt(En-1);)mn++,En++;(mn<On||En<Rn)&&this._pushTrimWhitespaceCharChange(ut,Ct+1,mn,On,Jt+1,En,Rn)}}Ct++,Jt++}Kn&&(ut.push(be.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Kn,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),Ct+=Kn.originalLength,Jt+=Kn.modifiedLength)}return{quitEarly:Tt,changes:ut}}_pushTrimWhitespaceCharChange(pt,ct,Tt,ut,Ct,Jt,un){if(this._mergeTrimWhitespaceCharChange(pt,ct,Tt,ut,Ct,Jt,un))return;let Wn;this.shouldComputeCharChanges&&(Wn=[new le(ct,Tt,ct,ut,Ct,Jt,Ct,un)]),pt.push(new be(ct,ct,Ct,Ct,Wn))}_mergeTrimWhitespaceCharChange(pt,ct,Tt,ut,Ct,Jt,un){const Wn=pt.length;if(0===Wn)return!1;const Kn=pt[Wn-1];return 0!==Kn.originalEndLineNumber&&0!==Kn.modifiedEndLineNumber&&(Kn.originalEndLineNumber===ct&&Kn.modifiedEndLineNumber===Ct?(this.shouldComputeCharChanges&&Kn.charChanges&&Kn.charChanges.push(new le(ct,Tt,ct,ut,Ct,Jt,Ct,un)),!0):Kn.originalEndLineNumber+1===ct&&Kn.modifiedEndLineNumber+1===Ct&&(Kn.originalEndLineNumber=ct,Kn.modifiedEndLineNumber=Ct,this.shouldComputeCharChanges&&Kn.charChanges&&Kn.charChanges.push(new le(ct,Tt,ct,ut,Ct,Jt,Ct,un)),!0))}}function Ne(Pn,pt){const ct=P.HG(Pn);return-1===ct?pt:ct+1}function Fe(Pn,pt){const ct=P.lT(Pn);return-1===ct?pt:ct+2}function qe(Pn){if(0===Pn)return()=>!0;const pt=Date.now();return()=>Date.now()-pt<Pn}var dt=t(19399);var fn=t(84072);function on(Pn){const pt=[];for(const ct of Pn){const Tt=Number(ct);(Tt||0===Tt&&""!==ct.replace(/\s/g,""))&&pt.push(Tt)}return pt}function ht(Pn,pt,ct,Tt){return{red:Pn/255,blue:ct/255,green:pt/255,alpha:Tt}}function Je(Pn,pt){const ct=pt.index,Tt=pt[0].length;if(!ct)return;const ut=Pn.positionAt(ct);return{startLineNumber:ut.lineNumber,startColumn:ut.column,endLineNumber:ut.lineNumber,endColumn:ut.column+Tt}}function ot(Pn,pt){if(!Pn)return;const ct=fn.Q1.Format.CSS.parseHex(pt);return ct?{range:Pn,color:ht(ct.rgba.r,ct.rgba.g,ct.rgba.b,ct.rgba.a)}:void 0}function De(Pn,pt,ct){if(!Pn||1!==pt.length)return;const Ct=on(pt[0].values());return{range:Pn,color:ht(Ct[0],Ct[1],Ct[2],ct?Ct[3]:1)}}function Qe(Pn,pt,ct){if(!Pn||1!==pt.length)return;const Ct=on(pt[0].values()),Jt=new fn.Q1(new fn.hB(Ct[0],Ct[1]/100,Ct[2]/100,ct?Ct[3]:1));return{range:Pn,color:ht(Jt.rgba.r,Jt.rgba.g,Jt.rgba.b,Jt.rgba.a)}}function mt(Pn,pt){return"string"==typeof Pn?[...Pn.matchAll(pt)]:Pn.findMatches(pt)}const Ft=new RegExp("\\bMARK:\\s*(.*)$","d"),Bt=/^-+|-+$/g;function ke(Pn,pt,ct){Ft.lastIndex=0;const Tt=Ft.exec(Pn);if(Tt){const Jt={startLineNumber:pt,startColumn:Tt.indices[1][0]+1,endLineNumber:pt,endColumn:Tt.indices[1][1]+1};if(Jt.endColumn>Jt.startColumn){const un={range:Jt,...Ze(Tt[1]),shouldBeInComments:!0};(un.text||un.hasSeparatorLine)&&ct.push(un)}}}function Ze(Pn){const pt=(Pn=Pn.trim()).startsWith("-");return{text:Pn=Pn.replace(Bt,""),hasSeparatorLine:pt}}class Ye extends z{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(pt){const ct=[];for(let Tt=0;Tt<this._lines.length;Tt++){const ut=this._lines[Tt],Ct=this.offsetAt(new Y.y(Tt+1,1)),Jt=ut.matchAll(pt);for(const un of Jt)(un.index||0===un.index)&&(un.index=un.index+Ct),ct.push(un)}return ct}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(pt){return this._lines[pt-1]}getWordAtPosition(pt,ct){const Tt=(0,G.Th)(pt.column,(0,G.Io)(ct),this._lines[pt.lineNumber-1],0);return Tt?new U.Q(pt.lineNumber,Tt.startColumn,pt.lineNumber,Tt.endColumn):null}words(pt){const ct=this._lines,Tt=this._wordenize.bind(this);let ut=0,Ct="",Jt=0,un=[];return{*[Symbol.iterator](){for(;;)if(Jt<un.length){const Wn=Ct.substring(un[Jt].start,un[Jt].end);Jt+=1,yield Wn}else{if(!(ut<ct.length))break;Ct=ct[ut],un=Tt(Ct,pt),Jt=0,ut+=1}}}}getLineWords(pt,ct){const Tt=this._lines[pt-1],ut=this._wordenize(Tt,ct),Ct=[];for(const Jt of ut)Ct.push({word:Tt.substring(Jt.start,Jt.end),startColumn:Jt.start+1,endColumn:Jt.end+1});return Ct}_wordenize(pt,ct){const Tt=[];let ut;for(ct.lastIndex=0;(ut=ct.exec(pt))&&0!==ut[0].length;)Tt.push({start:ut.index,end:ut.index+ut[0].length});return Tt}getValueInRange(pt){if((pt=this._validateRange(pt)).startLineNumber===pt.endLineNumber)return this._lines[pt.startLineNumber-1].substring(pt.startColumn-1,pt.endColumn-1);const ct=this._eol,Tt=pt.startLineNumber-1,ut=pt.endLineNumber-1,Ct=[];Ct.push(this._lines[Tt].substring(pt.startColumn-1));for(let Jt=Tt+1;Jt<ut;Jt++)Ct.push(this._lines[Jt]);return Ct.push(this._lines[ut].substring(0,pt.endColumn-1)),Ct.join(ct)}offsetAt(pt){return pt=this._validatePosition(pt),this._ensureLineStarts(),this._lineStarts.getPrefixSum(pt.lineNumber-2)+(pt.column-1)}positionAt(pt){pt=Math.floor(pt),pt=Math.max(0,pt),this._ensureLineStarts();const ct=this._lineStarts.getIndexOf(pt);return{lineNumber:1+ct.index,column:1+Math.min(ct.remainder,this._lines[ct.index].length)}}_validateRange(pt){const ct=this._validatePosition({lineNumber:pt.startLineNumber,column:pt.startColumn}),Tt=this._validatePosition({lineNumber:pt.endLineNumber,column:pt.endColumn});return ct.lineNumber!==pt.startLineNumber||ct.column!==pt.startColumn||Tt.lineNumber!==pt.endLineNumber||Tt.column!==pt.endColumn?{startLineNumber:ct.lineNumber,startColumn:ct.column,endLineNumber:Tt.lineNumber,endColumn:Tt.column}:pt}_validatePosition(pt){if(!Y.y.isIPosition(pt))throw new Error("bad position");let{lineNumber:ct,column:Tt}=pt,ut=!1;if(ct<1)ct=1,Tt=1,ut=!0;else if(ct>this._lines.length)ct=this._lines.length,Tt=this._lines[ct-1].length+1,ut=!0;else{const Ct=this._lines[ct-1].length+1;Tt<1?(Tt=1,ut=!0):Tt>Ct&&(Tt=Ct,ut=!0)}return ut?{lineNumber:ct,column:Tt}:pt}}let st=(()=>{class Pn{constructor(ct,Tt){this._host=ct,this._models=Object.create(null),this._foreignModuleFactory=Tt,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(ct){return this._models[ct]}_getModels(){const ct=[];return Object.keys(this._models).forEach(Tt=>ct.push(this._models[Tt])),ct}acceptNewModel(ct){this._models[ct.url]=new Ye(W.r.parse(ct.url),ct.lines,ct.EOL,ct.versionId)}acceptModelChanged(ct,Tt){this._models[ct]&&this._models[ct].onEvents(Tt)}acceptRemovedModel(ct){this._models[ct]&&delete this._models[ct]}computeUnicodeHighlights(ct,Tt,ut){var Ct=this;return(0,a.A)(function*(){const Jt=Ct._getModel(ct);return Jt?Ie.P.computeUnicodeHighlights(Jt,Tt,ut):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})()}findSectionHeaders(ct,Tt){var ut=this;return(0,a.A)(function*(){const Ct=ut._getModel(ct);return Ct?function rt(Pn,pt){var ct;let Tt=[];if(pt.findRegionSectionHeaders&&null!==(ct=pt.foldingRules)&&void 0!==ct&&ct.markers){const ut=function Ut(Pn,pt){const ct=[],Tt=Pn.getLineCount();for(let ut=1;ut<=Tt;ut++){const Ct=Pn.getLineContent(ut),Jt=Ct.match(pt.foldingRules.markers.start);if(Jt){const un={startLineNumber:ut,startColumn:Jt[0].length+1,endLineNumber:ut,endColumn:Ct.length+1};if(un.endColumn>un.startColumn){const Wn={range:un,...Ze(Ct.substring(Jt[0].length)),shouldBeInComments:!1};(Wn.text||Wn.hasSeparatorLine)&&ct.push(Wn)}}}return ct}(Pn,pt);Tt=Tt.concat(ut)}if(pt.findMarkSectionHeaders){const ut=function St(Pn){const pt=[],ct=Pn.getLineCount();for(let Tt=1;Tt<=ct;Tt++)ke(Pn.getLineContent(Tt),Tt,pt);return pt}(Pn);Tt=Tt.concat(ut)}return Tt}(Ct,Tt):[]})()}computeDiff(ct,Tt,ut,Ct){var Jt=this;return(0,a.A)(function*(){const un=Jt._getModel(ct),Wn=Jt._getModel(Tt);return un&&Wn?Pn.computeDiff(un,Wn,ut,Ct):null})()}static computeDiff(ct,Tt,ut,Ct){const Jt="advanced"===Ct?new dt.D8:new $e,un=ct.getLinesContent(),Wn=Tt.getLinesContent(),Kn=Jt.computeDiff(un,Wn,ut);function Nn(gn){return gn.map(Wt=>{var mn;return[Wt.original.startLineNumber,Wt.original.endLineNumberExclusive,Wt.modified.startLineNumber,Wt.modified.endLineNumberExclusive,null===(mn=Wt.innerChanges)||void 0===mn?void 0:mn.map(En=>[En.originalRange.startLineNumber,En.originalRange.startColumn,En.originalRange.endLineNumber,En.originalRange.endColumn,En.modifiedRange.startLineNumber,En.modifiedRange.startColumn,En.modifiedRange.endLineNumber,En.modifiedRange.endColumn])]})}return{identical:!(Kn.changes.length>0)&&this._modelsAreIdentical(ct,Tt),quitEarly:Kn.hitTimeout,changes:Nn(Kn.changes),moves:Kn.moves.map(gn=>[gn.lineRangeMapping.original.startLineNumber,gn.lineRangeMapping.original.endLineNumberExclusive,gn.lineRangeMapping.modified.startLineNumber,gn.lineRangeMapping.modified.endLineNumberExclusive,Nn(gn.changes)])}}static _modelsAreIdentical(ct,Tt){const ut=ct.getLineCount();if(ut!==Tt.getLineCount())return!1;for(let Jt=1;Jt<=ut;Jt++)if(ct.getLineContent(Jt)!==Tt.getLineContent(Jt))return!1;return!0}computeMoreMinimalEdits(ct,Tt,ut){var Ct=this;return(0,a.A)(function*(){const Jt=Ct._getModel(ct);if(!Jt)return Tt;const un=[];let Wn;Tt=Tt.slice(0).sort((jn,Nn)=>jn.range&&Nn.range?U.Q.compareRangesUsingStarts(jn.range,Nn.range):(jn.range?0:1)-(Nn.range?0:1));let Kn=0;for(let jn=1;jn<Tt.length;jn++)U.Q.getEndPosition(Tt[Kn].range).equals(U.Q.getStartPosition(Tt[jn].range))?(Tt[Kn].range=U.Q.fromPositions(U.Q.getStartPosition(Tt[Kn].range),U.Q.getEndPosition(Tt[jn].range)),Tt[Kn].text+=Tt[jn].text):(Kn++,Tt[Kn]=Tt[jn]);Tt.length=Kn+1;for(let{range:jn,text:Nn,eol:gn}of Tt){if("number"==typeof gn&&(Wn=gn),U.Q.isEmpty(jn)&&!Nn)continue;const Wt=Jt.getValueInRange(jn);if(Nn=Nn.replace(/\r\n|\n|\r/g,Jt.eol),Wt===Nn)continue;if(Math.max(Nn.length,Wt.length)>Pn._diffLimit){un.push({range:jn,text:Nn});continue}const mn=(0,R.F1)(Wt,Nn,ut),En=Jt.offsetAt(U.Q.lift(jn).getStartPosition());for(const On of mn){const Rn=Jt.positionAt(En+On.originalStart),Qn=Jt.positionAt(En+On.originalStart+On.originalLength),fi={text:Nn.substr(On.modifiedStart,On.modifiedLength),range:{startLineNumber:Rn.lineNumber,startColumn:Rn.column,endLineNumber:Qn.lineNumber,endColumn:Qn.column}};Jt.getValueInRange(fi.range)!==fi.text&&un.push(fi)}}return"number"==typeof Wn&&un.push({eol:Wn,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),un})()}computeLinks(ct){var Tt=this;return(0,a.A)(function*(){const ut=Tt._getModel(ct);return ut?function ye(Pn){return Pn&&"function"==typeof Pn.getLineCount&&"function"==typeof Pn.getLineContent?_e.computeLinks(Pn):[]}(ut):null})()}computeDefaultDocumentColors(ct){var Tt=this;return(0,a.A)(function*(){const ut=Tt._getModel(ct);return ut?function Ht(Pn){return Pn&&"function"==typeof Pn.getValue&&"function"==typeof Pn.positionAt?function kt(Pn){const pt=[],Tt=mt(Pn,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(Tt.length>0)for(const ut of Tt){const Ct=ut.filter(Kn=>void 0!==Kn),Jt=Ct[1],un=Ct[2];if(!un)continue;let Wn;if("rgb"===Jt){const Kn=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;Wn=De(Je(Pn,ut),mt(un,Kn),!1)}else if("rgba"===Jt){const Kn=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;Wn=De(Je(Pn,ut),mt(un,Kn),!0)}else if("hsl"===Jt){const Kn=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;Wn=Qe(Je(Pn,ut),mt(un,Kn),!1)}else if("hsla"===Jt){const Kn=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;Wn=Qe(Je(Pn,ut),mt(un,Kn),!0)}else"#"===Jt&&(Wn=ot(Je(Pn,ut),Jt+un));Wn&&pt.push(Wn)}return pt}(Pn):[]}(ut):null})()}textualSuggest(ct,Tt,ut,Ct){var Jt=this;return(0,a.A)(function*(){const un=new Se.W,Wn=new RegExp(ut,Ct),Kn=new Set;e:for(const jn of ct){const Nn=Jt._getModel(jn);if(Nn)for(const gn of Nn.words(Wn))if(gn!==Tt&&isNaN(Number(gn))&&(Kn.add(gn),Kn.size>Pn._suggestionsLimit))break e}return{words:Array.from(Kn),duration:un.elapsed()}})()}computeWordRanges(ct,Tt,ut,Ct){var Jt=this;return(0,a.A)(function*(){const un=Jt._getModel(ct);if(!un)return Object.create(null);const Wn=new RegExp(ut,Ct),Kn=Object.create(null);for(let jn=Tt.startLineNumber;jn<Tt.endLineNumber;jn++){const Nn=un.getLineWords(jn,Wn);for(const gn of Nn){if(!isNaN(Number(gn.word)))continue;let Wt=Kn[gn.word];Wt||(Wt=[],Kn[gn.word]=Wt),Wt.push({startLineNumber:jn,startColumn:gn.startColumn,endLineNumber:jn,endColumn:gn.endColumn})}}return Kn})()}navigateValueSet(ct,Tt,ut,Ct,Jt){var un=this;return(0,a.A)(function*(){const Wn=un._getModel(ct);if(!Wn)return null;const Kn=new RegExp(Ct,Jt);Tt.startColumn===Tt.endColumn&&(Tt={startLineNumber:Tt.startLineNumber,startColumn:Tt.startColumn,endLineNumber:Tt.endLineNumber,endColumn:Tt.endColumn+1});const jn=Wn.getValueInRange(Tt),Nn=Wn.getWordAtPosition({lineNumber:Tt.startLineNumber,column:Tt.startColumn},Kn);if(!Nn)return null;const gn=Wn.getValueInRange(Nn);return M.INSTANCE.navigateValueSet(Tt,jn,Nn,gn,ut)})()}loadForeignModule(ct,Tt,ut){const un={host:(0,S.kT)(ut,(Wn,Kn)=>this._host.fhr(Wn,Kn)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(un,Tt),Promise.resolve((0,S.V0)(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(ct,Tt){if(!this._foreignModule||"function"!=typeof this._foreignModule[ct])return Promise.reject(new Error("Missing requestHandler or method: "+ct));try{return Promise.resolve(this._foreignModule[ct].apply(this._foreignModule,Tt))}catch(ut){return Promise.reject(ut)}}}return Pn._diffLimit=1e5,Pn._suggestionsLimit=1e4,Pn})();"function"==typeof importScripts&&(globalThis.monaco=(0,ce.r)());var ft=t(31925),wt=t(51355),qt=t(30833),Yt=t(52152),en=t(15307),an=t(63096),lt=t(91874),tn=function(Pn,pt){return function(ct,Tt){pt(ct,Tt,Pn)}};function zn(Pn,pt){const ct=Pn.getModel(pt);return!(!ct||ct.isTooLargeForSyncing())}let Zn=class extends w.jG{constructor(pt,ct,Tt,ut,Ct){super(),this._modelService=pt,this._workerManager=this._register(new wi(this._modelService,ut)),this._logService=Tt,this._register(Ct.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(Jt,un)=>zn(this._modelService,Jt.uri)?this._workerManager.withWorker().then(Wn=>Wn.computeLinks(Jt.uri)).then(Wn=>Wn&&{links:Wn}):Promise.resolve({links:[]})})),this._register(Ct.completionProvider.register("*",new ei(this._workerManager,ct,this._modelService,ut)))}dispose(){super.dispose()}canComputeUnicodeHighlights(pt){return zn(this._modelService,pt)}computedUnicodeHighlights(pt,ct,Tt){return this._workerManager.withWorker().then(ut=>ut.computedUnicodeHighlights(pt,ct,Tt))}computeDiff(pt,ct,Tt,ut){var Ct=this;return(0,a.A)(function*(){const Jt=yield Ct._workerManager.withWorker().then(Kn=>Kn.computeDiff(pt,ct,Tt,ut));return Jt?{identical:Jt.identical,quitEarly:Jt.quitEarly,changes:Wn(Jt.changes),moves:Jt.moves.map(Kn=>new ne.t(new ue.WL(new Me.M(Kn[0],Kn[1]),new Me.M(Kn[2],Kn[3])),Wn(Kn[4])))}:null;function Wn(Kn){return Kn.map(jn=>{var Nn;return new ue.wm(new Me.M(jn[0],jn[1]),new Me.M(jn[2],jn[3]),null===(Nn=jn[4])||void 0===Nn?void 0:Nn.map(gn=>new ue.q6(new U.Q(gn[0],gn[1],gn[2],gn[3]),new U.Q(gn[4],gn[5],gn[6],gn[7]))))})}})()}computeMoreMinimalEdits(pt,ct,Tt=!1){if((0,qt.EI)(ct)){if(!zn(this._modelService,pt))return Promise.resolve(ct);const ut=Se.W.create(),Ct=this._workerManager.withWorker().then(Jt=>Jt.computeMoreMinimalEdits(pt,ct,Tt));return Ct.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",pt.toString(!0),ut.elapsed())),Promise.race([Ct,(0,F.wR)(1e3).then(()=>ct)])}return Promise.resolve(void 0)}canNavigateValueSet(pt){return zn(this._modelService,pt)}navigateValueSet(pt,ct,Tt){return this._workerManager.withWorker().then(ut=>ut.navigateValueSet(pt,ct,Tt))}canComputeWordRanges(pt){return zn(this._modelService,pt)}computeWordRanges(pt,ct){return this._workerManager.withWorker().then(Tt=>Tt.computeWordRanges(pt,ct))}findSectionHeaders(pt,ct){return this._workerManager.withWorker().then(Tt=>Tt.findSectionHeaders(pt,ct))}};Zn=function(Pn,pt,ct,Tt){var Jt,ut=arguments.length,Ct=ut<3?pt:null===Tt?Tt=Object.getOwnPropertyDescriptor(pt,ct):Tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ct=Reflect.decorate(Pn,pt,ct,Tt);else for(var un=Pn.length-1;un>=0;un--)(Jt=Pn[un])&&(Ct=(ut<3?Jt(Ct):ut>3?Jt(pt,ct,Ct):Jt(pt,ct))||Ct);return ut>3&&Ct&&Object.defineProperty(pt,ct,Ct),Ct}([tn(0,ft.S),tn(1,wt.U),tn(2,Yt.rr),tn(3,q.JZ),tn(4,en.u)],Zn);class ei{constructor(pt,ct,Tt,ut){this.languageConfigurationService=ut,this._debugDisplayName="wordbasedCompletions",this._workerManager=pt,this._configurationService=ct,this._modelService=Tt}provideCompletionItems(pt,ct){var Tt=this;return(0,a.A)(function*(){const ut=Tt._configurationService.getValue(pt.uri,ct,"editor");if("off"===ut.wordBasedSuggestions)return;const Ct=[];if("currentDocument"===ut.wordBasedSuggestions)zn(Tt._modelService,pt.uri)&&Ct.push(pt.uri);else for(const gn of Tt._modelService.getModels())zn(Tt._modelService,gn.uri)&&(gn===pt?Ct.unshift(gn.uri):("allDocuments"===ut.wordBasedSuggestions||gn.getLanguageId()===pt.getLanguageId())&&Ct.push(gn.uri));if(0===Ct.length)return;const Jt=Tt.languageConfigurationService.getLanguageConfiguration(pt.getLanguageId()).getWordDefinition(),un=pt.getWordAtPosition(ct),Wn=un?new U.Q(ct.lineNumber,un.startColumn,ct.lineNumber,un.endColumn):U.Q.fromPositions(ct),Kn=Wn.setEndPosition(ct.lineNumber,ct.column),Nn=yield(yield Tt._workerManager.withWorker()).textualSuggest(Ct,un?.word,Jt);return Nn?{duration:Nn.duration,suggestions:Nn.words.map(gn=>({kind:18,label:gn,insertText:gn,range:{insert:Kn,replace:Wn}}))}:void 0})()}}class wi extends w.jG{constructor(pt,ct){super(),this.languageConfigurationService=ct,this._modelService=pt,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new lt.Be).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4),an.G),this._register(this._modelService.onModelRemoved(ut=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Wi(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class hi extends w.jG{constructor(pt,ct,Tt){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=pt,this._modelService=ct,!Tt){const ut=new F.vb;ut.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(ut)}}dispose(){for(const pt in this._syncedModels)(0,w.AS)(this._syncedModels[pt]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(pt,ct){for(const Tt of pt){const ut=Tt.toString();this._syncedModels[ut]||this._beginModelSync(Tt,ct),this._syncedModels[ut]&&(this._syncedModelsLastUsedTime[ut]=(new Date).getTime())}}_checkStopModelSync(){const pt=(new Date).getTime(),ct=[];for(const Tt in this._syncedModelsLastUsedTime)pt-this._syncedModelsLastUsedTime[Tt]>6e4&&ct.push(Tt);for(const Tt of ct)this._stopModelSync(Tt)}_beginModelSync(pt,ct){const Tt=this._modelService.getModel(pt);if(!Tt||!ct&&Tt.isTooLargeForSyncing())return;const ut=pt.toString();this._proxy.acceptNewModel({url:Tt.uri.toString(),lines:Tt.getLinesContent(),EOL:Tt.getEOL(),versionId:Tt.getVersionId()});const Ct=new w.Cm;Ct.add(Tt.onDidChangeContent(Jt=>{this._proxy.acceptModelChanged(ut.toString(),Jt)})),Ct.add(Tt.onWillDispose(()=>{this._stopModelSync(ut)})),Ct.add((0,w.s)(()=>{this._proxy.acceptRemovedModel(ut)})),this._syncedModels[ut]=Ct}_stopModelSync(pt){const ct=this._syncedModels[pt];delete this._syncedModels[pt],delete this._syncedModelsLastUsedTime[pt],(0,w.AS)(ct)}}class yi{constructor(pt){this._instance=pt,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Vi{constructor(pt){this._workerClient=pt}fhr(pt,ct){return this._workerClient.fhr(pt,ct)}}class Wi extends w.jG{constructor(pt,ct,Tt,ut){super(),this.languageConfigurationService=ut,this._disposed=!1,this._modelService=pt,this._keepIdleModels=ct,this._workerFactory=new X(Tt),this._worker=null,this._modelManager=null}fhr(pt,ct){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new m(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Vi(this)))}catch(pt){_(pt),this._worker=new yi(new st(new Vi(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,pt=>(_(pt),this._worker=new yi(new st(new Vi(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(pt){return this._modelManager||(this._modelManager=this._register(new hi(pt,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(pt,ct=!1){var Tt=this;return(0,a.A)(function*(){return Tt._disposed?Promise.reject((0,x.aD)()):Tt._getProxy().then(ut=>(Tt._getOrCreateModelManager(ut).ensureSyncedResources(pt,ct),ut))})()}computedUnicodeHighlights(pt,ct,Tt){return this._withSyncedResources([pt]).then(ut=>ut.computeUnicodeHighlights(pt.toString(),ct,Tt))}computeDiff(pt,ct,Tt,ut){return this._withSyncedResources([pt,ct],!0).then(Ct=>Ct.computeDiff(pt.toString(),ct.toString(),Tt,ut))}computeMoreMinimalEdits(pt,ct,Tt){return this._withSyncedResources([pt]).then(ut=>ut.computeMoreMinimalEdits(pt.toString(),ct,Tt))}computeLinks(pt){return this._withSyncedResources([pt]).then(ct=>ct.computeLinks(pt.toString()))}computeDefaultDocumentColors(pt){return this._withSyncedResources([pt]).then(ct=>ct.computeDefaultDocumentColors(pt.toString()))}textualSuggest(pt,ct,Tt){var ut=this;return(0,a.A)(function*(){const Ct=yield ut._withSyncedResources(pt),Jt=Tt.source,un=Tt.flags;return Ct.textualSuggest(pt.map(Wn=>Wn.toString()),ct,Jt,un)})()}computeWordRanges(pt,ct){return this._withSyncedResources([pt]).then(Tt=>{const ut=this._modelService.getModel(pt);if(!ut)return Promise.resolve(null);const Ct=this.languageConfigurationService.getLanguageConfiguration(ut.getLanguageId()).getWordDefinition(),Jt=Ct.source,un=Ct.flags;return Tt.computeWordRanges(pt.toString(),ct,Jt,un)})}navigateValueSet(pt,ct,Tt){return this._withSyncedResources([pt]).then(ut=>{const Ct=this._modelService.getModel(pt);if(!Ct)return null;const Jt=this.languageConfigurationService.getLanguageConfiguration(Ct.getLanguageId()).getWordDefinition(),un=Jt.source,Wn=Jt.flags;return ut.navigateValueSet(pt.toString(),ct,Tt,un,Wn)})}findSectionHeaders(pt,ct){return this._withSyncedResources([pt]).then(Tt=>Tt.findSectionHeaders(pt.toString(),ct))}dispose(){super.dispose(),this._disposed=!0}}},44583:(tt,xe,t)=>{t.d(xe,{D:()=>a});class a{static capture(w){if(0===w.getScrollTop()||w.hasPendingScrollAnimation())return new a(w.getScrollTop(),w.getContentHeight(),null,0,null);let x=null,C=0;const S=w.getVisibleRanges();if(S.length>0){x=S[0].getStartPosition();const b=w.getTopForPosition(x.lineNumber,x.column);C=w.getScrollTop()-b}return new a(w.getScrollTop(),w.getContentHeight(),x,C,w.getPosition())}constructor(w,x,C,S,b){this._initialScrollTop=w,this._initialContentHeight=x,this._visiblePosition=C,this._visiblePositionScrollDelta=S,this._cursorPosition=b}restore(w){if((this._initialContentHeight!==w.getContentHeight()||this._initialScrollTop!==w.getScrollTop())&&this._visiblePosition){const x=w.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);w.setScrollTop(x+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(w){if(this._initialContentHeight===w.getContentHeight()&&this._initialScrollTop===w.getScrollTop())return;const x=w.getPosition();if(!this._cursorPosition||!x)return;const C=w.getTopForLineNumber(x.lineNumber)-w.getTopForLineNumber(this._cursorPosition.lineNumber);w.setScrollTop(w.getScrollTop()+C,1)}}},5342:(tt,xe,t)=>{t.d(xe,{Gb:()=>d,Ax:()=>f,rk:()=>A});var a=t(53378),F=t(29048),w=t(21828),x=t(51435);class C{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(O,N){O.selectNodeContents(N)}static _readClientRects(O,N,H,L,j){const Z=this._createRange();try{return Z.setStart(O,N),Z.setEnd(H,L),Z.getClientRects()}catch{return null}finally{this._detachRange(Z,j)}}static _mergeAdjacentRanges(O){if(1===O.length)return O;O.sort(x.IO.compare);const N=[];let H=0,L=O[0];for(let j=1,Z=O.length;j<Z;j++){const te=O[j];L.left+L.width+.9>=te.left?L.width=Math.max(L.width,te.left+te.width-L.left):(N[H++]=L,L=te)}return N[H++]=L,N}static _createHorizontalRangesFromClientRects(O,N,H){if(!O||0===O.length)return null;const L=[];for(let j=0,Z=O.length;j<Z;j++){const te=O[j];L[j]=new x.IO(Math.max(0,(te.left-N)/H),te.width/H)}return this._mergeAdjacentRanges(L)}static readHorizontalRanges(O,N,H,L,j,Z){const X=O.children.length-1;if(0>X)return null;if((N=Math.min(X,Math.max(0,N)))===(L=Math.min(X,Math.max(0,L)))&&H===j&&0===H&&!O.children[N].firstChild){const W=O.children[N].getClientRects();return Z.markDidDomLayout(),this._createHorizontalRangesFromClientRects(W,Z.clientRectDeltaLeft,Z.clientRectScale)}N!==L&&L>0&&0===j&&(L--,j=1073741824);let U=O.children[N].firstChild,q=O.children[L].firstChild;if((!U||!q)&&(!U&&0===H&&N>0&&(U=O.children[N-1].firstChild,H=1073741824),!q&&0===j&&L>0&&(q=O.children[L-1].firstChild,j=1073741824)),!U||!q)return null;H=Math.min(U.textContent.length,Math.max(0,H)),j=Math.min(q.textContent.length,Math.max(0,j));const R=this._readClientRects(U,H,q,j,Z.endNode);return Z.markDidDomLayout(),this._createHorizontalRangesFromClientRects(R,Z.clientRectDeltaLeft,Z.clientRectScale)}}var S=t(86162),b=t(38993),P=t(8374),D=t(99207);const v=!!w.ib||!(w.j9||a.gm||a.nr);let _=!0;class f{constructor(O,N){this.themeType=N;const H=O.options,L=H.get(50);this.renderWhitespace="off"===H.get(38)?H.get(99):"none",this.renderControlCharacters=H.get(94),this.spaceWidth=L.spaceWidth,this.middotWidth=L.middotWidth,this.wsmiddotWidth=L.wsmiddotWidth,this.useMonospaceOptimizations=L.isMonospace&&!H.get(33),this.canUseHalfwidthRightwardsArrow=L.canUseHalfwidthRightwardsArrow,this.lineHeight=H.get(67),this.stopRenderingLineAfter=H.get(117),this.fontLigatures=H.get(51)}equals(O){return this.themeType===O.themeType&&this.renderWhitespace===O.renderWhitespace&&this.renderControlCharacters===O.renderControlCharacters&&this.spaceWidth===O.spaceWidth&&this.middotWidth===O.middotWidth&&this.wsmiddotWidth===O.wsmiddotWidth&&this.useMonospaceOptimizations===O.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===O.canUseHalfwidthRightwardsArrow&&this.lineHeight===O.lineHeight&&this.stopRenderingLineAfter===O.stopRenderingLineAfter&&this.fontLigatures===O.fontLigatures}}let d=(()=>{class k{constructor(N){this._options=N,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(N){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=(0,F.Z)(N)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(N){this._isMaybeInvalid=!0,this._options=N}onSelectionChanged(){return!(!(0,P.Bb)(this._options.themeType)&&"selection"!==this._options.renderWhitespace||(this._isMaybeInvalid=!0,0))}renderLine(N,H,L,j,Z){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const te=j.getViewLineRenderingData(N),X=this._options,U=S.d.filter(te.inlineDecorations,N,te.minColumn,te.maxColumn);let q=null;if((0,P.Bb)(X.themeType)||"selection"===this._options.renderWhitespace){const oe=j.selections;for(const z of oe){if(z.endLineNumber<N||z.startLineNumber>N)continue;const G=z.startLineNumber===N?z.startColumn:te.minColumn,Q=z.endLineNumber===N?z.endColumn:te.maxColumn;G<Q&&((0,P.Bb)(X.themeType)&&U.push(new S.d(G,Q,"inline-selected-text",0)),"selection"===this._options.renderWhitespace&&(q||(q=[]),q.push(new b.MT(G-1,Q-1))))}}const R=new b.zL(X.useMonospaceOptimizations,X.canUseHalfwidthRightwardsArrow,te.content,te.continuesWithWrappedLine,te.isBasicASCII,te.containsRTL,te.minColumn-1,te.tokens,U,te.tabSize,te.startVisibleColumn,X.spaceWidth,X.middotWidth,X.wsmiddotWidth,X.stopRenderingLineAfter,X.renderWhitespace,X.renderControlCharacters,X.fontLigatures!==D.Bc.OFF,q);if(this._renderedViewLine&&this._renderedViewLine.input.equals(R))return!1;Z.appendString('<div style="top:'),Z.appendString(String(H)),Z.appendString("px;height:"),Z.appendString(String(L)),Z.appendString('px;" class="'),Z.appendString(k.CLASS_NAME),Z.appendString('">');const W=(0,b.UW)(R,Z);Z.appendString("</div>");let Y=null;return _&&v&&te.isBasicASCII&&X.useMonospaceOptimizations&&0===W.containsForeignElements&&(Y=new r(this._renderedViewLine?this._renderedViewLine.domNode:null,R,W.characterMapping)),Y||(Y=p(this._renderedViewLine?this._renderedViewLine.domNode:null,R,W.characterMapping,W.containsRTL,W.containsForeignElements)),this._renderedViewLine=Y,!0}layoutLine(N,H,L){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(H),this._renderedViewLine.domNode.setHeight(L))}getWidth(N){return this._renderedViewLine?this._renderedViewLine.getWidth(N):0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof r}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof r?this._renderedViewLine.monospaceAssumptionsAreValid():_}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof r&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(N,H,L,j){if(!this._renderedViewLine)return null;H=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,H)),L=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,L));const Z=this._renderedViewLine.input.stopRenderingLineAfter;if(-1!==Z&&H>Z+1&&L>Z+1)return new x.pj(!0,[new x.IO(this.getWidth(j),0)]);-1!==Z&&H>Z+1&&(H=Z+1),-1!==Z&&L>Z+1&&(L=Z+1);const te=this._renderedViewLine.getVisibleRangesForRange(N,H,L,j);return te&&te.length>0?new x.pj(!1,te):null}getColumnOfNodeOffset(N,H){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(N,H):1}}return k.CLASS_NAME="view-line",k})();class r{constructor(O,N,H){this._cachedWidth=-1,this.domNode=O,this.input=N;const L=Math.floor(N.lineContent.length/300);if(L>0){this._keyColumnPixelOffsetCache=new Float32Array(L);for(let j=0;j<L;j++)this._keyColumnPixelOffsetCache[j]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=H,this._charWidth=N.spaceWidth}getWidth(O){if(!this.domNode||this.input.lineContent.length<300){const N=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*N)}return-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,O?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||-1!==this._cachedWidth}monospaceAssumptionsAreValid(){if(!this.domNode)return _;if(this.input.lineContent.length<300){const O=this.getWidth(null);Math.abs(O-this.domNode.domNode.firstChild.offsetWidth)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),_=!1)}return _}toSlowRenderedLine(){return p(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(O,N,H,L){const j=this._getColumnPixelOffset(O,N,L),Z=this._getColumnPixelOffset(O,H,L);return[new x.IO(j,Z-j)]}_getColumnPixelOffset(O,N,H){if(N<=300){const U=this._characterMapping.getHorizontalOffset(N);return this._charWidth*U}const L=Math.floor((N-1)/300)-1,j=300*(L+1)+1;let Z=-1;if(this._keyColumnPixelOffsetCache&&(Z=this._keyColumnPixelOffsetCache[L],-1===Z&&(Z=this._actualReadPixelOffset(O,j,H),this._keyColumnPixelOffsetCache[L]=Z)),-1===Z){const U=this._characterMapping.getHorizontalOffset(N);return this._charWidth*U}const te=this._characterMapping.getHorizontalOffset(j),X=this._characterMapping.getHorizontalOffset(N);return Z+this._charWidth*(X-te)}_getReadingTarget(O){return O.domNode.firstChild}_actualReadPixelOffset(O,N,H){if(!this.domNode)return-1;const L=this._characterMapping.getDomPosition(N),j=C.readHorizontalRanges(this._getReadingTarget(this.domNode),L.partIndex,L.charIndex,L.partIndex,L.charIndex,H);return j&&0!==j.length?j[0].left:-1}getColumnOfNodeOffset(O,N){return A(this._characterMapping,O,N)}}class l{constructor(O,N,H,L,j){if(this.domNode=O,this.input=N,this._characterMapping=H,this._isWhitespaceOnly=/^\s*$/.test(N.lineContent),this._containsForeignElements=j,this._cachedWidth=-1,this._pixelOffsetCache=null,!L||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let Z=0,te=this._characterMapping.length;Z<=te;Z++)this._pixelOffsetCache[Z]=-1}}_getReadingTarget(O){return O.domNode.firstChild}getWidth(O){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,O?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(O,N,H,L){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const j=this._readPixelOffset(this.domNode,O,N,L);if(-1===j)return null;const Z=this._readPixelOffset(this.domNode,O,H,L);return-1===Z?null:[new x.IO(j,Z-j)]}return this._readVisibleRangesForRange(this.domNode,O,N,H,L)}_readVisibleRangesForRange(O,N,H,L,j){if(H===L){const Z=this._readPixelOffset(O,N,H,j);return-1===Z?null:[new x.IO(Z,0)]}return this._readRawVisibleRangesForRange(O,H,L,j)}_readPixelOffset(O,N,H,L){if(0===this._characterMapping.length){if(0===this._containsForeignElements||2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth(L);const j=this._getReadingTarget(O);return j.firstChild?(L.markDidDomLayout(),j.firstChild.offsetWidth):0}if(null!==this._pixelOffsetCache){const j=this._pixelOffsetCache[H];if(-1!==j)return j;const Z=this._actualReadPixelOffset(O,N,H,L);return this._pixelOffsetCache[H]=Z,Z}return this._actualReadPixelOffset(O,N,H,L)}_actualReadPixelOffset(O,N,H,L){if(0===this._characterMapping.length){const X=C.readHorizontalRanges(this._getReadingTarget(O),0,0,0,0,L);return X&&0!==X.length?X[0].left:-1}if(H===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth(L);const j=this._characterMapping.getDomPosition(H),Z=C.readHorizontalRanges(this._getReadingTarget(O),j.partIndex,j.charIndex,j.partIndex,j.charIndex,L);if(!Z||0===Z.length)return-1;const te=Z[0].left;if(this.input.isBasicASCII){const X=this._characterMapping.getHorizontalOffset(H),U=Math.round(this.input.spaceWidth*X);if(Math.abs(U-te)<=1)return U}return te}_readRawVisibleRangesForRange(O,N,H,L){if(1===N&&H===this._characterMapping.length)return[new x.IO(0,this.getWidth(L))];const j=this._characterMapping.getDomPosition(N),Z=this._characterMapping.getDomPosition(H);return C.readHorizontalRanges(this._getReadingTarget(O),j.partIndex,j.charIndex,Z.partIndex,Z.charIndex,L)}getColumnOfNodeOffset(O,N){return A(this._characterMapping,O,N)}}class g extends l{_readVisibleRangesForRange(O,N,H,L,j){const Z=super._readVisibleRangesForRange(O,N,H,L,j);if(!Z||0===Z.length||H===L||1===H&&L===this._characterMapping.length)return Z;if(!this.input.containsRTL){const te=this._readPixelOffset(O,N,L,j);if(-1!==te){const X=Z[Z.length-1];X.left<te&&(X.width=te-X.left)}}return Z}}const p=a.Tc?function m(k,O,N,H,L){return new g(k,O,N,H,L)}:function T(k,O,N,H,L){return new l(k,O,N,H,L)};function A(k,O,N){const H=O.textContent.length;let L=-1;for(;O;)O=O.previousSibling,L++;return k.getColumn(new b.wZ(L,N),H)}},51435:(tt,xe,t)=>{t.d(xe,{BG:()=>w,IO:()=>C,Y:()=>x,eh:()=>F,pj:()=>b,qN:()=>S});class a{constructor(D,v){this._restrictedRenderingContextBrand=void 0,this._viewLayout=D,this.viewportData=v,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const _=this._viewLayout.getCurrentViewport();this.scrollTop=_.top,this.scrollLeft=_.left,this.viewportWidth=_.width,this.viewportHeight=_.height}getScrolledTopFromAbsoluteTop(D){return D-this.scrollTop}getVerticalOffsetForLineNumber(D,v){return this._viewLayout.getVerticalOffsetForLineNumber(D,v)}getVerticalOffsetAfterLineNumber(D,v){return this._viewLayout.getVerticalOffsetAfterLineNumber(D,v)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class F extends a{constructor(D,v,_){super(D,v),this._renderingContextBrand=void 0,this._viewLines=_}linesVisibleRangesForRange(D,v){return this._viewLines.linesVisibleRangesForRange(D,v)}visibleRangeForPosition(D){return this._viewLines.visibleRangeForPosition(D)}}class w{constructor(D,v,_,f){this.outsideRenderedLine=D,this.lineNumber=v,this.ranges=_,this.continuesOnNextLine=f}}class x{static from(D){const v=new Array(D.length);for(let _=0,f=D.length;_<f;_++){const d=D[_];v[_]=new x(d.left,d.width)}return v}constructor(D,v){this._horizontalRangeBrand=void 0,this.left=Math.round(D),this.width=Math.round(v)}toString(){return`[${this.left},${this.width}]`}}class C{constructor(D,v){this._floatHorizontalRangeBrand=void 0,this.left=D,this.width=v}toString(){return`[${this.left},${this.width}]`}static compare(D,v){return D.left-v.left}}class S{constructor(D,v){this.outsideRenderedLine=D,this.originalLeft=v,this.left=Math.round(this.originalLeft)}}class b{constructor(D,v){this.outsideRenderedLine=D,this.ranges=v}}},23544:(tt,xe,t)=>{t.d(xe,{x:()=>ia});var a=t(10467),F=t(79313),w=t(47639);let S=class{constructor(s,u){}dispose(){}};var s;S.ID="editor.contrib.markerDecorations",S=function(Lt,s,u,E){var Ae,$=arguments.length,ee=$<3?s:null===E?E=Object.getOwnPropertyDescriptor(s,u):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ee=Reflect.decorate(Lt,s,u,E);else for(var Be=Lt.length-1;Be>=0;Be--)(Ae=Lt[Be])&&(ee=($<3?Ae(ee):$>3?Ae(s,u,ee):Ae(s,u))||ee);return $>3&&ee&&Object.defineProperty(s,u,ee),ee}([(1,s=F.A,function(u,E){s(u,E,1)})],S),(0,w.HW)(S.ID,S,0);var b=t(91874),P=t(25680),D=t(5643),v=t(99031),_=t(75109),f=t(85072),d=t.n(f),r=t(97825),l=t.n(r),g=t(77659),p=t.n(g),m=t(55056),T=t.n(m),A=t(10540),k=t.n(A),O=t(41113),N=t.n(O),H=t(6049),L={};L.styleTagTransform=N(),L.setAttributes=T(),L.insert=p().bind(null,"head"),L.domAPI=l(),L.insertStyleElement=k(),d()(H.A,L);var te=t(93988),X=t(53378),U=t(30833),q=t(24311),R=t(21828),W=t(39450),Y=t(52963);let oe=(()=>{class Lt{constructor(u,E){this.key=u,this.migrate=E}apply(u){const E=Lt._read(u,this.key);this.migrate(E,Ae=>Lt._read(u,Ae),(Ae,Be)=>Lt._write(u,Ae,Be))}static _read(u,E){if(typeof u>"u")return;const $=E.indexOf(".");if($>=0){const ee=E.substring(0,$);return this._read(u[ee],E.substring($+1))}return u[E]}static _write(u,E,$){const ee=E.indexOf(".");if(ee>=0){const Ae=E.substring(0,ee);return u[Ae]=u[Ae]||{},void this._write(u[Ae],E.substring(ee+1),$)}u[E]=$}}return Lt.items=[],Lt})();function z(Lt,s){oe.items.push(new oe(Lt,s))}function G(Lt,s){z(Lt,(u,E,$)=>{if(typeof u<"u")for(const[ee,Ae]of s)if(u===ee)return void $(Lt,Ae)})}G("wordWrap",[[!0,"on"],[!1,"off"]]),G("lineNumbers",[[!0,"on"],[!1,"off"]]),G("cursorBlinking",[["visible","solid"]]),G("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),G("renderLineHighlight",[[!0,"line"],[!1,"none"]]),G("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),G("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),G("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),G("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),G("autoIndent",[[!1,"advanced"],[!0,"full"]]),G("matchBrackets",[[!0,"always"],[!1,"never"]]),G("renderFinalNewline",[[!0,"on"],[!1,"off"]]),G("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),G("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),G("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),z("autoClosingBrackets",(Lt,s,u)=>{!1===Lt&&(u("autoClosingBrackets","never"),typeof s("autoClosingQuotes")>"u"&&u("autoClosingQuotes","never"),typeof s("autoSurround")>"u"&&u("autoSurround","never"))}),z("renderIndentGuides",(Lt,s,u)=>{typeof Lt<"u"&&(u("renderIndentGuides",void 0),typeof s("guides.indentation")>"u"&&u("guides.indentation",!!Lt))}),z("highlightActiveIndentGuide",(Lt,s,u)=>{typeof Lt<"u"&&(u("highlightActiveIndentGuide",void 0),typeof s("guides.highlightActiveIndentation")>"u"&&u("guides.highlightActiveIndentation",!!Lt))});const K={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};z("suggest.filteredTypes",(Lt,s,u)=>{if(Lt&&"object"==typeof Lt){for(const E of Object.entries(K))!1===Lt[E[0]]&&typeof s(`suggest.${E[1]}`)>"u"&&u(`suggest.${E[1]}`,!1);u("suggest.filteredTypes",void 0)}}),z("quickSuggestions",(Lt,s,u)=>{if("boolean"==typeof Lt){const E=Lt?"on":"off";u("quickSuggestions",{comments:E,strings:E,other:E})}}),z("experimental.stickyScroll.enabled",(Lt,s,u)=>{"boolean"==typeof Lt&&(u("experimental.stickyScroll.enabled",void 0),typeof s("stickyScroll.enabled")>"u"&&u("stickyScroll.enabled",Lt))}),z("experimental.stickyScroll.maxLineCount",(Lt,s,u)=>{"number"==typeof Lt&&(u("experimental.stickyScroll.maxLineCount",void 0),typeof s("stickyScroll.maxLineCount")>"u"&&u("stickyScroll.maxLineCount",Lt))}),z("codeActionsOnSave",(Lt,s,u)=>{if(Lt&&"object"==typeof Lt){let E=!1;const $={};for(const ee of Object.entries(Lt))"boolean"==typeof ee[1]?(E=!0,$[ee[0]]=ee[1]?"explicit":"never"):$[ee[0]]=ee[1];E&&u("codeActionsOnSave",$)}}),z("codeActionWidget.includeNearbyQuickfixes",(Lt,s,u)=>{"boolean"==typeof Lt&&(u("codeActionWidget.includeNearbyQuickfixes",void 0),typeof s("codeActionWidget.includeNearbyQuickFixes")>"u"&&u("codeActionWidget.includeNearbyQuickFixes",Lt))}),z("lightbulb.enabled",(Lt,s,u)=>{"boolean"==typeof Lt&&u("lightbulb.enabled",Lt?void 0:"off")});var ie=t(78608),ae=t(99207),de=t(78854),se=t(13317),ge=t(69912),_e=t(51655);let ce=class extends v.jG{constructor(s,u,E,$,ee){super(),this._accessibilityService=ee,this._onDidChange=this._register(new D.vl),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new D.vl),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new ae.n0,this.isSimpleWidget=s,this.contextMenuId=u,this._containerObserver=this._register(new W.u($,E.dimension)),this._targetWindowId=(0,b.zk)($).vscodeWindowId,this._rawOptions=Me(E),this._validatedOptions=we.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(de.D.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(ie.M.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(Y.T.onDidChange(()=>this._recomputeOptions())),this._register(_e.c.getInstance((0,b.zk)($)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const s=this._computeOptions(),u=we.checkEquals(this.options,s);null!==u&&(this.options=s,this._onDidChangeFast.fire(u),this._onDidChange.fire(u))}_computeOptions(){const s=this._readEnvConfiguration(),u=se._8.createFromValidatedSettings(this._validatedOptions,s.pixelRatio,this.isSimpleWidget),E=this._readFontInfo(u),$={memory:this._computeOptionsMemory,outerWidth:s.outerWidth,outerHeight:s.outerHeight-this._reservedHeight,fontInfo:E,extraEditorClassName:s.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:s.emptySelectionClipboard,pixelRatio:s.pixelRatio,tabFocusMode:ie.M.getTabFocusMode(),accessibilitySupport:s.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return we.computeOptions(this._validatedOptions,$)}_readEnvConfiguration(){return{extraEditorClassName:Ie(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:X.Tc||X.gm,pixelRatio:_e.c.getInstance((0,b.ZF)(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(s){return Y.T.readFontInfo((0,b.ZF)(this._targetWindowId,!0).window,s)}getRawOptions(){return this._rawOptions}updateOptions(s){const u=Me(s);we.applyUpdate(this._rawOptions,u)&&(this._validatedOptions=we.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(s){this._containerObserver.observe(s)}setIsDominatedByLongLines(s){this._isDominatedByLongLines!==s&&(this._isDominatedByLongLines=s,this._recomputeOptions())}setModelLineCount(s){const u=function Se(Lt){let s=0;for(;Lt;)Lt=Math.floor(Lt/10),s++;return s||1}(s);this._lineNumbersDigitCount!==u&&(this._lineNumbersDigitCount=u,this._recomputeOptions())}setViewLineCount(s){this._viewLineCount!==s&&(this._viewLineCount=s,this._recomputeOptions())}setReservedHeight(s){this._reservedHeight!==s&&(this._reservedHeight=s,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(s){this._glyphMarginDecorationLaneCount!==s&&(this._glyphMarginDecorationLaneCount=s,this._recomputeOptions())}};function Ie(){let Lt="";return!X.nr&&!X.c8&&(Lt+="no-user-select "),X.nr&&(Lt+="no-minimap-shadow ",Lt+="enable-user-select "),R.zx&&(Lt+="mac "),Lt}ce=function(Lt,s,u,E){var Ae,$=arguments.length,ee=$<3?s:null===E?E=Object.getOwnPropertyDescriptor(s,u):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ee=Reflect.decorate(Lt,s,u,E);else for(var Be=Lt.length-1;Be>=0;Be--)(Ae=Lt[Be])&&(ee=($<3?Ae(ee):$>3?Ae(s,u,ee):Ae(s,u))||ee);return $>3&&ee&&Object.defineProperty(s,u,ee),ee}([function(Lt,s){return function(u,E){s(u,E,4)}}(0,ge.j)],ce);class ne{constructor(){this._values=[]}_read(s){return this._values[s]}get(s){return this._values[s]}_write(s,u){this._values[s]=u}}class ue{constructor(){this._values=[]}_read(s){if(s>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[s]}get(s){return this._read(s)}_write(s,u){this._values[s]=u}}class we{static validateOptions(s){const u=new ne;for(const E of ae.BE)u._write(E.id,E.validate("_never_"===E.name?void 0:s[E.name]));return u}static computeOptions(s,u){const E=new ue;for(const $ of ae.BE)E._write($.id,$.compute(u,E,s._read($.id)));return E}static _deepEquals(s,u){if("object"!=typeof s||"object"!=typeof u||!s||!u)return s===u;if(Array.isArray(s)||Array.isArray(u))return!(!Array.isArray(s)||!Array.isArray(u))&&U.aI(s,u);if(Object.keys(s).length!==Object.keys(u).length)return!1;for(const E in s)if(!we._deepEquals(s[E],u[E]))return!1;return!0}static checkEquals(s,u){const E=[];let $=!1;for(const ee of ae.BE){const Ae=!we._deepEquals(s._read(ee.id),u._read(ee.id));E[ee.id]=Ae,Ae&&($=!0)}return $?new ae.lw(E):null}static applyUpdate(s,u){let E=!1;for(const $ of ae.BE)if(u.hasOwnProperty($.name)){const ee=$.applyUpdate(s[$.name],u[$.name]);s[$.name]=ee.newValue,E=E||ee.didChange}return E}}function Me(Lt){const s=q.Go(Lt);return function Q(Lt){oe.items.forEach(s=>s.apply(Lt))}(s),s}var Ve=t(31212),$e=t(29048),it=t(49956),He=t(17105);class me extends v.jG{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(s){return!1}onCompositionEnd(s){return!1}onConfigurationChanged(s){return!1}onCursorStateChanged(s){return!1}onDecorationsChanged(s){return!1}onFlushed(s){return!1}onFocusChanged(s){return!1}onLanguageConfigurationChanged(s){return!1}onLineMappingChanged(s){return!1}onLinesChanged(s){return!1}onLinesDeleted(s){return!1}onLinesInserted(s){return!1}onRevealRangeRequest(s){return!1}onScrollChanged(s){return!1}onThemeChanged(s){return!1}onTokensChanged(s){return!1}onTokensColorsChanged(s){return!1}onZonesChanged(s){return!1}handleEvents(s){let u=!1;for(let E=0,$=s.length;E<$;E++){const ee=s[E];switch(ee.type){case 0:this.onCompositionStart(ee)&&(u=!0);break;case 1:this.onCompositionEnd(ee)&&(u=!0);break;case 2:this.onConfigurationChanged(ee)&&(u=!0);break;case 3:this.onCursorStateChanged(ee)&&(u=!0);break;case 4:this.onDecorationsChanged(ee)&&(u=!0);break;case 5:this.onFlushed(ee)&&(u=!0);break;case 6:this.onFocusChanged(ee)&&(u=!0);break;case 7:this.onLanguageConfigurationChanged(ee)&&(u=!0);break;case 8:this.onLineMappingChanged(ee)&&(u=!0);break;case 9:this.onLinesChanged(ee)&&(u=!0);break;case 10:this.onLinesDeleted(ee)&&(u=!0);break;case 11:this.onLinesInserted(ee)&&(u=!0);break;case 12:this.onRevealRangeRequest(ee)&&(u=!0);break;case 13:this.onScrollChanged(ee)&&(u=!0);break;case 15:this.onTokensChanged(ee)&&(u=!0);break;case 14:this.onThemeChanged(ee)&&(u=!0);break;case 16:this.onTokensColorsChanged(ee)&&(u=!0);break;case 17:this.onZonesChanged(ee)&&(u=!0);break;default:console.info("View received unknown event: "),console.info(ee)}}u&&(this._shouldRender=!0)}}class le extends me{constructor(s){super(),this._context=s,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Ee{static write(s,u){s.setAttribute("data-mprt",String(u))}static read(s){const u=s.getAttribute("data-mprt");return null===u?0:parseInt(u,10)}static collect(s,u){const E=[];let $=0;for(;s&&s!==s.ownerDocument.body&&s!==u;)s.nodeType===s.ELEMENT_NODE&&(E[$++]=this.read(s)),s=s.parentElement;const ee=new Uint8Array($);for(let Ae=0;Ae<$;Ae++)ee[Ae]=E[$-Ae-1];return ee}}var on,be=t(5342),Ce=t(13632),Ne=t(73678),Fe=t(52282),qe=t(55564),dt=t(97081);class vt{constructor(s=null){this.hitTarget=s,this.type=0}}class fn{get hitTarget(){return this.spanNode}constructor(s,u,E){this.position=s,this.spanNode=u,this.injectedText=E,this.type=1}}!function(Lt){Lt.createFromDOMInfo=function s(u,E,$){const ee=u.getPositionFromDOMInfo(E,$);return ee?new fn(ee,E,null):new vt(E)}}(on||(on={}));class ht{constructor(s,u){this.lastViewCursorsRenderData=s,this.lastTextareaPosition=u}}class Je{static _deduceRage(s,u=null){return!u&&s?new Ne.Q(s.lineNumber,s.column,s.lineNumber,s.column):u??null}static createUnknown(s,u,E){return{type:0,element:s,mouseColumn:u,position:E,range:this._deduceRage(E)}}static createTextarea(s,u){return{type:1,element:s,mouseColumn:u,position:null,range:null}}static createMargin(s,u,E,$,ee,Ae){return{type:s,element:u,mouseColumn:E,position:$,range:ee,detail:Ae}}static createViewZone(s,u,E,$,ee){return{type:s,element:u,mouseColumn:E,position:$,range:this._deduceRage($),detail:ee}}static createContentText(s,u,E,$,ee){return{type:6,element:s,mouseColumn:u,position:E,range:this._deduceRage(E,$),detail:ee}}static createContentEmpty(s,u,E,$){return{type:7,element:s,mouseColumn:u,position:E,range:this._deduceRage(E),detail:$}}static createContentWidget(s,u,E){return{type:9,element:s,mouseColumn:u,position:null,range:null,detail:E}}static createScrollbar(s,u,E){return{type:11,element:s,mouseColumn:u,position:E,range:this._deduceRage(E)}}static createOverlayWidget(s,u,E){return{type:12,element:s,mouseColumn:u,position:null,range:null,detail:E}}static createOutsideEditor(s,u,E,$){return{type:13,element:null,mouseColumn:s,position:u,range:this._deduceRage(u),outsidePosition:E,outsideDistance:$}}static _typeToString(s){return 1===s?"TEXTAREA":2===s?"GUTTER_GLYPH_MARGIN":3===s?"GUTTER_LINE_NUMBERS":4===s?"GUTTER_LINE_DECORATIONS":5===s?"GUTTER_VIEW_ZONE":6===s?"CONTENT_TEXT":7===s?"CONTENT_EMPTY":8===s?"CONTENT_VIEW_ZONE":9===s?"CONTENT_WIDGET":10===s?"OVERVIEW_RULER":11===s?"SCROLLBAR":12===s?"OVERLAY_WIDGET":"UNKNOWN"}static toString(s){return this._typeToString(s.type)+": "+s.position+" - "+s.range+" - "+JSON.stringify(s.detail)}}class ot{static isTextArea(s){return 2===s.length&&3===s[0]&&7===s[1]}static isChildOfViewLines(s){return s.length>=4&&3===s[0]&&8===s[3]}static isStrictChildOfViewLines(s){return s.length>4&&3===s[0]&&8===s[3]}static isChildOfScrollableElement(s){return s.length>=2&&3===s[0]&&6===s[1]}static isChildOfMinimap(s){return s.length>=2&&3===s[0]&&9===s[1]}static isChildOfContentWidgets(s){return s.length>=4&&3===s[0]&&1===s[3]}static isChildOfOverflowGuard(s){return s.length>=1&&3===s[0]}static isChildOfOverflowingContentWidgets(s){return s.length>=1&&2===s[0]}static isChildOfOverlayWidgets(s){return s.length>=2&&3===s[0]&&4===s[1]}static isChildOfOverflowingOverlayWidgets(s){return s.length>=1&&5===s[0]}}class De{constructor(s,u,E){this.viewModel=s.viewModel;const $=s.configuration.options;this.layoutInfo=$.get(145),this.viewDomNode=u.viewDomNode,this.lineHeight=$.get(67),this.stickyTabStops=$.get(116),this.typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=E,this._context=s,this._viewHelper=u}getZoneAtCoord(s){return De.getZoneAtCoord(this._context,s)}static getZoneAtCoord(s,u){const E=s.viewLayout.getWhitespaceAtVerticalOffset(u);if(E){const $=E.verticalOffset+E.height/2,ee=s.viewModel.getLineCount();let Be,Ae=null,et=null;return E.afterLineNumber!==ee&&(et=new Ce.y(E.afterLineNumber+1,1)),E.afterLineNumber>0&&(Ae=new Ce.y(E.afterLineNumber,s.viewModel.getLineMaxColumn(E.afterLineNumber))),Be=null===et?Ae:null===Ae?et:u<$?Ae:et,{viewZoneId:E.id,afterLineNumber:E.afterLineNumber,positionBefore:Ae,positionAfter:et,position:Be}}return null}getFullLineRangeAtCoord(s){if(this._context.viewLayout.isAfterLines(s)){const $=this._context.viewModel.getLineCount(),ee=this._context.viewModel.getLineMaxColumn($);return{range:new Ne.Q($,ee,$,ee),isAfterLines:!0}}const u=this._context.viewLayout.getLineNumberAtVerticalOffset(s),E=this._context.viewModel.getLineMaxColumn(u);return{range:new Ne.Q(u,1,u,E),isAfterLines:!1}}getLineNumberAtVerticalOffset(s){return this._context.viewLayout.getLineNumberAtVerticalOffset(s)}isAfterLines(s){return this._context.viewLayout.isAfterLines(s)}isInTopPadding(s){return this._context.viewLayout.isInTopPadding(s)}isInBottomPadding(s){return this._context.viewLayout.isInBottomPadding(s)}getVerticalOffsetForLineNumber(s){return this._context.viewLayout.getVerticalOffsetForLineNumber(s)}findAttribute(s,u){return De._findAttribute(s,u,this._viewHelper.viewDomNode)}static _findAttribute(s,u,E){for(;s&&s!==s.ownerDocument.body;){if(s.hasAttribute&&s.hasAttribute(u))return s.getAttribute(u);if(s===E)return null;s=s.parentNode}return null}getLineWidth(s){return this._viewHelper.getLineWidth(s)}visibleRangeForPosition(s,u){return this._viewHelper.visibleRangeForPosition(s,u)}getPositionFromDOMInfo(s,u){return this._viewHelper.getPositionFromDOMInfo(s,u)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Qe{constructor(s,u,E,$){this.editorPos=u,this.pos=E,this.relativePos=$,this.mouseVerticalOffset=Math.max(0,s.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=s.getCurrentScrollLeft()+this.relativePos.x-s.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<s.layoutInfo.contentLeft&&this.relativePos.x>=s.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Ft._getMouseColumn(this.mouseContentHorizontalOffset,s.typicalHalfwidthCharacterWidth))}}class mt extends Qe{get target(){return this._useHitTestTarget?this.hitTestResult.value.hitTarget:this._eventTarget}get targetPath(){return this._targetPathCacheElement!==this.target&&(this._targetPathCacheElement=this.target,this._targetPathCacheValue=Ee.collect(this.target,this._ctx.viewDomNode)),this._targetPathCacheValue}constructor(s,u,E,$,ee){super(s,u,E,$),this.hitTestResult=new dt.d(()=>Ft.doHitTest(this._ctx,this)),this._targetPathCacheElement=null,this._targetPathCacheValue=new Uint8Array(0),this._ctx=s,this._eventTarget=ee,this._useHitTestTarget=!this._eventTarget}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}get wouldBenefitFromHitTestTargetSwitch(){return!this._useHitTestTarget&&null!==this.hitTestResult.value.hitTarget&&this.target!==this.hitTestResult.value.hitTarget}switchToHitTestTarget(){this._useHitTestTarget=!0}_getMouseColumn(s=null){return s&&s.column<this._ctx.viewModel.getLineMaxColumn(s.lineNumber)?Fe.A.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(s.lineNumber),s.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(s=null){return Je.createUnknown(this.target,this._getMouseColumn(s),s)}fulfillTextarea(){return Je.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(s,u,E,$){return Je.createMargin(s,this.target,this._getMouseColumn(u),u,E,$)}fulfillViewZone(s,u,E){return Je.createViewZone(s,this.target,this._getMouseColumn(u),u,E)}fulfillContentText(s,u,E){return Je.createContentText(this.target,this._getMouseColumn(s),s,u,E)}fulfillContentEmpty(s,u){return Je.createContentEmpty(this.target,this._getMouseColumn(s),s,u)}fulfillContentWidget(s){return Je.createContentWidget(this.target,this._getMouseColumn(),s)}fulfillScrollbar(s){return Je.createScrollbar(this.target,this._getMouseColumn(s),s)}fulfillOverlayWidget(s){return Je.createOverlayWidget(this.target,this._getMouseColumn(),s)}}const kt={isAfterLines:!0};function Ht(Lt){return{isAfterLines:!1,horizontalDistanceToText:Lt}}class Ft{constructor(s,u){this._context=s,this._viewHelper=u}mouseTargetIsWidget(s){const E=Ee.collect(s.target,this._viewHelper.viewDomNode);return!!(ot.isChildOfContentWidgets(E)||ot.isChildOfOverflowingContentWidgets(E)||ot.isChildOfOverlayWidgets(E)||ot.isChildOfOverflowingOverlayWidgets(E))}createMouseTarget(s,u,E,$,ee){const Ae=new De(this._context,this._viewHelper,s),Be=new mt(Ae,u,E,$,ee);try{const et=Ft._createMouseTarget(Ae,Be);if(6===et.type&&Ae.stickyTabStops&&null!==et.position){const gt=Ft._snapToSoftTabBoundary(et.position,Ae.viewModel),xt=Ne.Q.fromPositions(gt,gt).plusRange(et.range);return Be.fulfillContentText(gt,xt,et.detail)}return et}catch{return Be.fulfillUnknown()}}static _createMouseTarget(s,u){if(null===u.target)return u.fulfillUnknown();const E=u;let $=null;return!ot.isChildOfOverflowGuard(u.targetPath)&&!ot.isChildOfOverflowingContentWidgets(u.targetPath)&&!ot.isChildOfOverflowingOverlayWidgets(u.targetPath)&&($=$||u.fulfillUnknown()),$=$||Ft._hitTestContentWidget(s,E),$=$||Ft._hitTestOverlayWidget(s,E),$=$||Ft._hitTestMinimap(s,E),$=$||Ft._hitTestScrollbarSlider(s,E),$=$||Ft._hitTestViewZone(s,E),$=$||Ft._hitTestMargin(s,E),$=$||Ft._hitTestViewCursor(s,E),$=$||Ft._hitTestTextArea(s,E),$=$||Ft._hitTestViewLines(s,E),$=$||Ft._hitTestScrollbar(s,E),$||u.fulfillUnknown()}static _hitTestContentWidget(s,u){if(ot.isChildOfContentWidgets(u.targetPath)||ot.isChildOfOverflowingContentWidgets(u.targetPath)){const E=s.findAttribute(u.target,"widgetId");return E?u.fulfillContentWidget(E):u.fulfillUnknown()}return null}static _hitTestOverlayWidget(s,u){if(ot.isChildOfOverlayWidgets(u.targetPath)||ot.isChildOfOverflowingOverlayWidgets(u.targetPath)){const E=s.findAttribute(u.target,"widgetId");return E?u.fulfillOverlayWidget(E):u.fulfillUnknown()}return null}static _hitTestViewCursor(s,u){if(u.target){const E=s.lastRenderData.lastViewCursorsRenderData;for(const $ of E)if(u.target===$.domNode)return u.fulfillContentText($.position,null,{mightBeForeignElement:!1,injectedText:null})}if(u.isInContentArea){const E=s.lastRenderData.lastViewCursorsRenderData,$=u.mouseContentHorizontalOffset,ee=u.mouseVerticalOffset;for(const Ae of E){if($<Ae.contentLeft||$>Ae.contentLeft+Ae.width)continue;const Be=s.getVerticalOffsetForLineNumber(Ae.position.lineNumber);if(Be<=ee&&ee<=Be+Ae.height)return u.fulfillContentText(Ae.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(s,u){const E=s.getZoneAtCoord(u.mouseVerticalOffset);return E?u.fulfillViewZone(u.isInContentArea?8:5,E.position,E):null}static _hitTestTextArea(s,u){return ot.isTextArea(u.targetPath)?s.lastRenderData.lastTextareaPosition?u.fulfillContentText(s.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):u.fulfillTextarea():null}static _hitTestMargin(s,u){if(u.isInMarginArea){const E=s.getFullLineRangeAtCoord(u.mouseVerticalOffset),$=E.range.getStartPosition();let ee=Math.abs(u.relativePos.x);const Ae={isAfterLines:E.isAfterLines,glyphMarginLeft:s.layoutInfo.glyphMarginLeft,glyphMarginWidth:s.layoutInfo.glyphMarginWidth,lineNumbersWidth:s.layoutInfo.lineNumbersWidth,offsetX:ee};if(ee-=s.layoutInfo.glyphMarginLeft,ee<=s.layoutInfo.glyphMarginWidth){const Be=s.viewModel.coordinatesConverter.convertViewPositionToModelPosition(E.range.getStartPosition()),et=s.viewModel.glyphLanes.getLanesAtLine(Be.lineNumber);return Ae.glyphMarginLane=et[Math.floor(ee/s.lineHeight)],u.fulfillMargin(2,$,E.range,Ae)}return ee-=s.layoutInfo.glyphMarginWidth,ee<=s.layoutInfo.lineNumbersWidth?u.fulfillMargin(3,$,E.range,Ae):(ee-=s.layoutInfo.lineNumbersWidth,u.fulfillMargin(4,$,E.range,Ae))}return null}static _hitTestViewLines(s,u){if(!ot.isChildOfViewLines(u.targetPath))return null;if(s.isInTopPadding(u.mouseVerticalOffset))return u.fulfillContentEmpty(new Ce.y(1,1),kt);if(s.isAfterLines(u.mouseVerticalOffset)||s.isInBottomPadding(u.mouseVerticalOffset)){const $=s.viewModel.getLineCount(),ee=s.viewModel.getLineMaxColumn($);return u.fulfillContentEmpty(new Ce.y($,ee),kt)}if(ot.isStrictChildOfViewLines(u.targetPath)){const $=s.getLineNumberAtVerticalOffset(u.mouseVerticalOffset);if(0===s.viewModel.getLineLength($)){const Ae=s.getLineWidth($),Be=Ht(u.mouseContentHorizontalOffset-Ae);return u.fulfillContentEmpty(new Ce.y($,1),Be)}const ee=s.getLineWidth($);if(u.mouseContentHorizontalOffset>=ee){const Ae=Ht(u.mouseContentHorizontalOffset-ee),Be=new Ce.y($,s.viewModel.getLineMaxColumn($));return u.fulfillContentEmpty(Be,Ae)}}const E=u.hitTestResult.value;return 1===E.type?Ft.createMouseTargetFromHitTestPosition(s,u,E.spanNode,E.position,E.injectedText):u.wouldBenefitFromHitTestTargetSwitch?(u.switchToHitTestTarget(),this._createMouseTarget(s,u)):u.fulfillUnknown()}static _hitTestMinimap(s,u){if(ot.isChildOfMinimap(u.targetPath)){const E=s.getLineNumberAtVerticalOffset(u.mouseVerticalOffset),$=s.viewModel.getLineMaxColumn(E);return u.fulfillScrollbar(new Ce.y(E,$))}return null}static _hitTestScrollbarSlider(s,u){if(ot.isChildOfScrollableElement(u.targetPath)&&u.target&&1===u.target.nodeType){const E=u.target.className;if(E&&/\b(slider|scrollbar)\b/.test(E)){const $=s.getLineNumberAtVerticalOffset(u.mouseVerticalOffset),ee=s.viewModel.getLineMaxColumn($);return u.fulfillScrollbar(new Ce.y($,ee))}}return null}static _hitTestScrollbar(s,u){if(ot.isChildOfScrollableElement(u.targetPath)){const E=s.getLineNumberAtVerticalOffset(u.mouseVerticalOffset),$=s.viewModel.getLineMaxColumn(E);return u.fulfillScrollbar(new Ce.y(E,$))}return null}getMouseColumn(s){const u=this._context.configuration.options,E=u.get(145),$=this._context.viewLayout.getCurrentScrollLeft()+s.x-E.contentLeft;return Ft._getMouseColumn($,u.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(s,u){return s<0?1:Math.round(s/u)+1}static createMouseTargetFromHitTestPosition(s,u,E,$,ee){const Ae=$.lineNumber,Be=$.column,et=s.getLineWidth(Ae);if(u.mouseContentHorizontalOffset>et){const qn=Ht(u.mouseContentHorizontalOffset-et);return u.fulfillContentEmpty($,qn)}const gt=s.visibleRangeForPosition(Ae,Be);if(!gt)return u.fulfillUnknown($);if(Math.abs(u.mouseContentHorizontalOffset-gt.left)<1)return u.fulfillContentText($,null,{mightBeForeignElement:!!ee,injectedText:ee});const Kt=[];if(Kt.push({offset:gt.left,column:Be}),Be>1){const qn=s.visibleRangeForPosition(Ae,Be-1);qn&&Kt.push({offset:qn.left,column:Be-1})}if(Be<s.viewModel.getLineMaxColumn(Ae)){const qn=s.visibleRangeForPosition(Ae,Be+1);qn&&Kt.push({offset:qn.left,column:Be+1})}Kt.sort((qn,di)=>qn.offset-di.offset);const rn=u.pos.toClientCoordinates(b.zk(s.viewDomNode)),Dn=E.getBoundingClientRect(),Ln=Dn.left<=rn.clientX&&rn.clientX<=Dn.right;let Fn=null;for(let qn=1;qn<Kt.length;qn++){const di=Kt[qn-1],si=Kt[qn];if(di.offset<=u.mouseContentHorizontalOffset&&u.mouseContentHorizontalOffset<=si.offset){Fn=new Ne.Q(Ae,di.column,Ae,si.column);const Ci=Math.abs(di.offset-u.mouseContentHorizontalOffset),Bi=Math.abs(si.offset-u.mouseContentHorizontalOffset);$=new Ce.y(Ae,Ci<Bi?di.column:si.column);break}}return u.fulfillContentText($,Fn,{mightBeForeignElement:!Ln||!!ee,injectedText:ee})}static _doHitTestWithCaretRangeFromPoint(s,u){const E=s.getLineNumberAtVerticalOffset(u.mouseVerticalOffset),$=s.getVerticalOffsetForLineNumber(E),ee=$+s.lineHeight;if(!(E===s.viewModel.getLineCount()&&u.mouseVerticalOffset>ee)){const Be=Math.floor(($+ee)/2);let et=u.pos.y+(Be-u.mouseVerticalOffset);et<=u.editorPos.y&&(et=u.editorPos.y+1),et>=u.editorPos.y+u.editorPos.height&&(et=u.editorPos.y+u.editorPos.height-1);const gt=new He.nz(u.pos.x,et),xt=this._actualDoHitTestWithCaretRangeFromPoint(s,gt.toClientCoordinates(b.zk(s.viewDomNode)));if(1===xt.type)return xt}return this._actualDoHitTestWithCaretRangeFromPoint(s,u.pos.toClientCoordinates(b.zk(s.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(s,u){const E=b.jG(s.viewDomNode);let $;if($=E?typeof E.caretRangeFromPoint>"u"?function Bt(Lt,s,u){const E=document.createRange();let $=Lt.elementFromPoint(s,u);if(null!==$){for(;$&&$.firstChild&&$.firstChild.nodeType!==$.firstChild.TEXT_NODE&&$.lastChild&&$.lastChild.firstChild;)$=$.lastChild;const ee=$.getBoundingClientRect(),Ae=b.zk($),rn=`${Ae.getComputedStyle($,null).getPropertyValue("font-style")} ${Ae.getComputedStyle($,null).getPropertyValue("font-variant")} ${Ae.getComputedStyle($,null).getPropertyValue("font-weight")} ${Ae.getComputedStyle($,null).getPropertyValue("font-size")}/${Ae.getComputedStyle($,null).getPropertyValue("line-height")} ${Ae.getComputedStyle($,null).getPropertyValue("font-family")}`,Dn=$.innerText;let qn,Ln=ee.left,Fn=0;if(s>ee.left+ee.width)Fn=Dn.length;else{const di=rt.getInstance();for(let si=0;si<Dn.length+1;si++){if(qn=di.getCharWidth(Dn.charAt(si),rn)/2,Ln+=qn,s<Ln){Fn=si;break}Ln+=qn}}E.setStart($.firstChild,Fn),E.setEnd($.firstChild,Fn)}return E}(E,u.clientX,u.clientY):E.caretRangeFromPoint(u.clientX,u.clientY):s.viewDomNode.ownerDocument.caretRangeFromPoint(u.clientX,u.clientY),!$||!$.startContainer)return new vt;const ee=$.startContainer;if(ee.nodeType===ee.TEXT_NODE){const Ae=ee.parentNode,Be=Ae?Ae.parentNode:null,et=Be?Be.parentNode:null;return(et&&et.nodeType===et.ELEMENT_NODE?et.className:null)===be.Gb.CLASS_NAME?on.createFromDOMInfo(s,Ae,$.startOffset):new vt(ee.parentNode)}if(ee.nodeType===ee.ELEMENT_NODE){const Ae=ee.parentNode,Be=Ae?Ae.parentNode:null;return(Be&&Be.nodeType===Be.ELEMENT_NODE?Be.className:null)===be.Gb.CLASS_NAME?on.createFromDOMInfo(s,ee,ee.textContent.length):new vt(ee)}return new vt}static _doHitTestWithCaretPositionFromPoint(s,u){const E=s.viewDomNode.ownerDocument.caretPositionFromPoint(u.clientX,u.clientY);if(E.offsetNode.nodeType===E.offsetNode.TEXT_NODE){const $=E.offsetNode.parentNode,ee=$?$.parentNode:null,Ae=ee?ee.parentNode:null;return(Ae&&Ae.nodeType===Ae.ELEMENT_NODE?Ae.className:null)===be.Gb.CLASS_NAME?on.createFromDOMInfo(s,E.offsetNode.parentNode,E.offset):new vt(E.offsetNode.parentNode)}if(E.offsetNode.nodeType===E.offsetNode.ELEMENT_NODE){const $=E.offsetNode.parentNode,Ae=$?$.parentNode:null,Be=Ae&&Ae.nodeType===Ae.ELEMENT_NODE?Ae.className:null;if(($&&$.nodeType===$.ELEMENT_NODE?$.className:null)===be.Gb.CLASS_NAME){const et=E.offsetNode.childNodes[Math.min(E.offset,E.offsetNode.childNodes.length-1)];if(et)return on.createFromDOMInfo(s,et,0)}else if(Be===be.Gb.CLASS_NAME)return on.createFromDOMInfo(s,E.offsetNode,0)}return new vt(E.offsetNode)}static _snapToSoftTabBoundary(s,u){const E=u.getLineContent(s.lineNumber),{tabSize:$}=u.model.getOptions(),ee=qe.s.atomicPosition(E,s.column-1,$,2);return-1!==ee?new Ce.y(s.lineNumber,ee+1):s}static doHitTest(s,u){let E=new vt;if("function"==typeof s.viewDomNode.ownerDocument.caretRangeFromPoint?E=this._doHitTestWithCaretRangeFromPoint(s,u):s.viewDomNode.ownerDocument.caretPositionFromPoint&&(E=this._doHitTestWithCaretPositionFromPoint(s,u.pos.toClientCoordinates(b.zk(s.viewDomNode)))),1===E.type){const $=s.viewModel.getInjectedTextAt(E.position),ee=s.viewModel.normalizePosition(E.position,2);($||!ee.equals(E.position))&&(E=new fn(ee,E.spanNode,$))}return E}}let rt=(()=>{class Lt{static getInstance(){return Lt._INSTANCE||(Lt._INSTANCE=new Lt),Lt._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(u,E){const $=u+E;if(this._cache[$])return this._cache[$];const ee=this._canvas.getContext("2d");ee.font=E;const Be=ee.measureText(u).width;return this._cache[$]=Be,Be}}return Lt._INSTANCE=null,Lt})();var Ut=t(32062),St=t(28541),ke=t(63096),Ze=t(18163),Ye=t(14105),st=t(23702);class Ke extends me{constructor(s,u,E){super(),this._mouseLeaveMonitor=null,this._context=s,this.viewController=u,this.viewHelper=E,this.mouseTargetFactory=new Ft(this._context,E),this._mouseDownOperation=this._register(new ft(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(Ae,Be)=>this._createMouseTarget(Ae,Be),Ae=>this._getMouseColumn(Ae))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(145).height;const $=new He.$z(this.viewHelper.viewDomNode);this._register($.onContextMenu(this.viewHelper.viewDomNode,Ae=>this._onContextMenu(Ae,!0))),this._register($.onMouseMove(this.viewHelper.viewDomNode,Ae=>{this._onMouseMove(Ae),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=b.ko(this.viewHelper.viewDomNode.ownerDocument,"mousemove",Be=>{this.viewHelper.viewDomNode.contains(Be.target)||this._onMouseLeave(new He.dO(Be,!1,this.viewHelper.viewDomNode))}))})),this._register($.onMouseUp(this.viewHelper.viewDomNode,Ae=>this._onMouseUp(Ae))),this._register($.onMouseLeave(this.viewHelper.viewDomNode,Ae=>this._onMouseLeave(Ae)));let ee=0;this._register($.onPointerDown(this.viewHelper.viewDomNode,(Ae,Be)=>{ee=Be})),this._register(b.ko(this.viewHelper.viewDomNode,b.Bx.POINTER_UP,Ae=>{this._mouseDownOperation.onPointerUp()})),this._register($.onMouseDown(this.viewHelper.viewDomNode,Ae=>this._onMouseDown(Ae,ee))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const s=st.QC.INSTANCE;let u=0,E=de.D.getZoomLevel(),$=!1,ee=0;function Be(et){return R.zx?(et.metaKey||et.ctrlKey)&&!et.shiftKey&&!et.altKey:et.ctrlKey&&!et.metaKey&&!et.shiftKey&&!et.altKey}this._register(b.ko(this.viewHelper.viewDomNode,b.Bx.MOUSE_WHEEL,et=>{if(this.viewController.emitMouseWheel(et),!this._context.configuration.options.get(76))return;const gt=new Ze.$(et);if(s.acceptStandardWheelEvent(gt),s.isPhysicalMouseWheel()){if(Be(et)){const xt=de.D.getZoomLevel();de.D.setZoomLevel(xt+(gt.deltaY>0?1:-1)),gt.preventDefault(),gt.stopPropagation()}}else Date.now()-u>50&&(E=de.D.getZoomLevel(),$=Be(et),ee=0),u=Date.now(),ee+=gt.deltaY,$&&(de.D.setZoomLevel(E+ee/5),gt.preventDefault(),gt.stopPropagation())},{capture:!0,passive:!1}))}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(s){if(s.hasChanged(145)){const u=this._context.configuration.options.get(145).height;this._height!==u&&(this._height=u,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(s){return this._mouseDownOperation.onCursorStateChanged(s),!1}onFocusChanged(s){return!1}getTargetAtClientPoint(s,u){const $=new He.Hh(s,u).toPageCoordinates(b.zk(this.viewHelper.viewDomNode)),ee=(0,He.wt)(this.viewHelper.viewDomNode);if($.y<ee.y||$.y>ee.y+ee.height||$.x<ee.x||$.x>ee.x+ee.width)return null;const Ae=(0,He.i_)(this.viewHelper.viewDomNode,ee,$);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),ee,$,Ae,null)}_createMouseTarget(s,u){let E=s.target;if(!this.viewHelper.viewDomNode.contains(E)){const $=b.jG(this.viewHelper.viewDomNode);$&&(E=$.elementsFromPoint(s.posx,s.posy).find(ee=>this.viewHelper.viewDomNode.contains(ee)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),s.editorPos,s.pos,s.relativePos,u?E:null)}_getMouseColumn(s){return this.mouseTargetFactory.getMouseColumn(s.relativePos)}_onContextMenu(s,u){this.viewController.emitContextMenu({event:s,target:this._createMouseTarget(s,u)})}_onMouseMove(s){this.mouseTargetFactory.mouseTargetIsWidget(s)||s.preventDefault(),!(this._mouseDownOperation.isActive()||s.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:s,target:this._createMouseTarget(s,!0)})}_onMouseLeave(s){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:s,target:null})}_onMouseUp(s){this.viewController.emitMouseUp({event:s,target:this._createMouseTarget(s,!0)})}_onMouseDown(s,u){const E=this._createMouseTarget(s,!0),$=6===E.type||7===E.type,ee=2===E.type||3===E.type||4===E.type,Ae=3===E.type,Be=this._context.configuration.options.get(109),et=8===E.type||5===E.type,gt=9===E.type;let xt=s.leftButton||s.middleButton;R.zx&&s.leftButton&&s.ctrlKey&&(xt=!1);const Kt=()=>{s.preventDefault(),this.viewHelper.focusTextArea()};xt&&($||Ae&&Be)?(Kt(),this._mouseDownOperation.start(E.type,s,u)):ee?s.preventDefault():et?xt&&this.viewHelper.shouldSuppressMouseDownOnViewZone(E.detail.viewZoneId)&&(Kt(),this._mouseDownOperation.start(E.type,s,u),s.preventDefault()):gt&&this.viewHelper.shouldSuppressMouseDownOnWidget(E.detail)&&(Kt(),s.preventDefault()),this.viewController.emitMouseDown({event:s,target:E})}}class ft extends v.jG{constructor(s,u,E,$,ee,Ae){super(),this._context=s,this._viewController=u,this._viewHelper=E,this._mouseTargetFactory=$,this._createMouseTarget=ee,this._getMouseColumn=Ae,this._mouseMoveMonitor=this._register(new He.BA(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new wt(this._context,this._viewHelper,this._mouseTargetFactory,(Be,et,gt)=>this._dispatchMouse(Be,et,gt))),this._mouseState=new Yt,this._currentSelection=new Ye.L(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(s){this._lastMouseEvent=s,this._mouseState.setModifiers(s);const u=this._findMousePosition(s,!1);u&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:s,target:u}):13!==u.type||"above"!==u.outsidePosition&&"below"!==u.outsidePosition?(this._topBottomDragScrolling.stop(),this._dispatchMouse(u,!0,1)):this._topBottomDragScrolling.start(u,s))}start(s,u,E){this._lastMouseEvent=u,this._mouseState.setStartedOnLineNumbers(3===s),this._mouseState.setStartButtons(u),this._mouseState.setModifiers(u);const $=this._findMousePosition(u,!0);if(!$||!$.position)return;this._mouseState.trySetCount(u.detail,$.position),u.detail=this._mouseState.count;const ee=this._context.configuration.options;if(!ee.get(91)&&ee.get(35)&&!ee.get(22)&&!this._mouseState.altKey&&u.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===$.type&&$.position&&this._currentSelection.containsPosition($.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,E,u.buttons,Ae=>this._onMouseDownThenMove(Ae),Ae=>{const Be=this._findMousePosition(this._lastMouseEvent,!1);b.kx(Ae)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:Be?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse($,u.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,E,u.buttons,Ae=>this._onMouseDownThenMove(Ae),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(s){this._currentSelection=s.selections[0]}_getPositionOutsideEditor(s){const u=s.editorPos,E=this._context.viewModel,$=this._context.viewLayout,ee=this._getMouseColumn(s);if(s.posy<u.y){const Be=u.y-s.posy,et=Math.max($.getCurrentScrollTop()-Be,0),gt=De.getZoneAtCoord(this._context,et);if(gt){const Kt=this._helpPositionJumpOverViewZone(gt);if(Kt)return Je.createOutsideEditor(ee,Kt,"above",Be)}const xt=$.getLineNumberAtVerticalOffset(et);return Je.createOutsideEditor(ee,new Ce.y(xt,1),"above",Be)}if(s.posy>u.y+u.height){const Be=s.posy-u.y-u.height,et=$.getCurrentScrollTop()+s.relativePos.y,gt=De.getZoneAtCoord(this._context,et);if(gt){const Kt=this._helpPositionJumpOverViewZone(gt);if(Kt)return Je.createOutsideEditor(ee,Kt,"below",Be)}const xt=$.getLineNumberAtVerticalOffset(et);return Je.createOutsideEditor(ee,new Ce.y(xt,E.getLineMaxColumn(xt)),"below",Be)}const Ae=$.getLineNumberAtVerticalOffset($.getCurrentScrollTop()+s.relativePos.y);if(s.posx<u.x){const Be=u.x-s.posx;return Je.createOutsideEditor(ee,new Ce.y(Ae,1),"left",Be)}if(s.posx>u.x+u.width){const Be=s.posx-u.x-u.width;return Je.createOutsideEditor(ee,new Ce.y(Ae,E.getLineMaxColumn(Ae)),"right",Be)}return null}_findMousePosition(s,u){const E=this._getPositionOutsideEditor(s);if(E)return E;const $=this._createMouseTarget(s,u);if(!$.position)return null;if(8===$.type||5===$.type){const Ae=this._helpPositionJumpOverViewZone($.detail);if(Ae)return Je.createViewZone($.type,$.element,$.mouseColumn,Ae,$.detail)}return $}_helpPositionJumpOverViewZone(s){const u=new Ce.y(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),E=s.positionBefore,$=s.positionAfter;return E&&$?E.isBefore(u)?E:$:null}_dispatchMouse(s,u,E){s.position&&this._viewController.dispatchMouse({position:s.position,mouseColumn:s.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:E,inSelectionMode:u,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:6===s.type&&null!==s.detail.injectedText})}}class wt extends v.jG{constructor(s,u,E,$){super(),this._context=s,this._viewHelper=u,this._mouseTargetFactory=E,this._dispatchMouse=$,this._operation=null}dispose(){super.dispose(),this.stop()}start(s,u){this._operation?this._operation.setPosition(s,u):this._operation=new qt(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,s,u)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class qt extends v.jG{constructor(s,u,E,$,ee,Ae){super(),this._context=s,this._viewHelper=u,this._mouseTargetFactory=E,this._dispatchMouse=$,this._position=ee,this._mouseEvent=Ae,this._lastTime=Date.now(),this._animationFrameDisposable=b.PG(b.zk(Ae.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(s,u){this._position=s,this._mouseEvent=u}_tick(){const s=Date.now(),u=s-this._lastTime;return this._lastTime=s,u}_getScrollSpeed(){const s=this._context.configuration.options.get(67),u=this._context.configuration.options.get(145).height/s,E=this._position.outsideDistance/s;return E<=1.5?Math.max(30,u*(1+E)):E<=3?Math.max(60,u*(2+E)):Math.max(200,u*(7+E))}_execute(){const s=this._context.configuration.options.get(67),$=this._getScrollSpeed()*(this._tick()/1e3)*s;this._context.viewModel.viewLayout.deltaScrollNow(0,"above"===this._position.outsidePosition?-$:$),this._viewHelper.renderNow();const Ae=this._context.viewLayout.getLinesViewportData(),Be="above"===this._position.outsidePosition?Ae.startLineNumber:Ae.endLineNumber;let et;{const gt=(0,He.wt)(this._viewHelper.viewDomNode),xt=this._context.configuration.options.get(145).horizontalScrollbarHeight,Kt=new He.nz(this._mouseEvent.pos.x,gt.y+gt.height-xt-.1),Qt=(0,He.i_)(this._viewHelper.viewDomNode,gt,Kt);et=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),gt,Kt,Qt,null)}(!et.position||et.position.lineNumber!==Be)&&(et="above"===this._position.outsidePosition?Je.createOutsideEditor(this._position.mouseColumn,new Ce.y(Be,1),"above",this._position.outsideDistance):Je.createOutsideEditor(this._position.mouseColumn,new Ce.y(Be,this._context.viewModel.getLineMaxColumn(Be)),"below",this._position.outsideDistance)),this._dispatchMouse(et,!0,2),this._animationFrameDisposable=b.PG(b.zk(et.element),()=>this._execute())}}let Yt=(()=>{class Lt{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(u){this._altKey=u.altKey,this._ctrlKey=u.ctrlKey,this._metaKey=u.metaKey,this._shiftKey=u.shiftKey}setStartButtons(u){this._leftButton=u.leftButton,this._middleButton=u.middleButton}setStartedOnLineNumbers(u){this._startedOnLineNumbers=u}trySetCount(u,E){const $=(new Date).getTime();$-this._lastSetMouseDownCountTime>Lt.CLEAR_MOUSE_DOWN_COUNT_TIME&&(u=1),this._lastSetMouseDownCountTime=$,u>this._lastMouseDownCount+1&&(u=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(E)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=E,this._lastMouseDownCount=Math.min(u,this._lastMouseDownPositionEqualCount)}}return Lt.CLEAR_MOUSE_DOWN_COUNT_TIME=400,Lt})();var en=t(12837);class an extends Ke{constructor(s,u,E){super(s,u,E),this._register(St.q.addTarget(this.viewHelper.linesContentDomNode)),this._register(b.ko(this.viewHelper.linesContentDomNode,St.B.Tap,ee=>this.onTap(ee))),this._register(b.ko(this.viewHelper.linesContentDomNode,St.B.Change,ee=>this.onChange(ee))),this._register(b.ko(this.viewHelper.linesContentDomNode,St.B.Contextmenu,ee=>this._onContextMenu(new He.dO(ee,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(b.ko(this.viewHelper.linesContentDomNode,"pointerdown",ee=>{const Ae=ee.pointerType;this._lastPointerType="mouse"!==Ae?"touch"===Ae?"touch":"pen":"mouse"}));const $=new He.DW(this.viewHelper.viewDomNode);this._register($.onPointerMove(this.viewHelper.viewDomNode,ee=>this._onMouseMove(ee))),this._register($.onPointerUp(this.viewHelper.viewDomNode,ee=>this._onMouseUp(ee))),this._register($.onPointerLeave(this.viewHelper.viewDomNode,ee=>this._onMouseLeave(ee))),this._register($.onPointerDown(this.viewHelper.viewDomNode,(ee,Ae)=>this._onMouseDown(ee,Ae)))}onTap(s){!s.initialTarget||!this.viewHelper.linesContentDomNode.contains(s.initialTarget)||(s.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(s,!1))}onChange(s){"touch"===this._lastPointerType&&this._context.viewModel.viewLayout.deltaScrollNow(-s.translationX,-s.translationY),"pen"===this._lastPointerType&&this._dispatchGesture(s,!0)}_dispatchGesture(s,u){const E=this._createMouseTarget(new He.dO(s,!1,this.viewHelper.viewDomNode),!1);E.position&&this.viewController.dispatchMouse({position:E.position,mouseColumn:E.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:s.tapCount,inSelectionMode:u,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:6===E.type&&null!==E.detail.injectedText})}_onMouseDown(s,u){"touch"!==s.browserEvent.pointerType&&super._onMouseDown(s,u)}}class lt extends Ke{constructor(s,u,E){super(s,u,E),this._register(St.q.addTarget(this.viewHelper.linesContentDomNode)),this._register(b.ko(this.viewHelper.linesContentDomNode,St.B.Tap,$=>this.onTap($))),this._register(b.ko(this.viewHelper.linesContentDomNode,St.B.Change,$=>this.onChange($))),this._register(b.ko(this.viewHelper.linesContentDomNode,St.B.Contextmenu,$=>this._onContextMenu(new He.dO($,!1,this.viewHelper.viewDomNode),!1)))}onTap(s){s.preventDefault(),this.viewHelper.focusTextArea();const u=this._createMouseTarget(new He.dO(s,!1,this.viewHelper.viewDomNode),!1);if(u.position){const E=document.createEvent("CustomEvent");E.initEvent(en.$D.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(E),this.viewController.moveTo(u.position,1)}}onChange(s){this._context.viewModel.viewLayout.deltaScrollNow(-s.translationX,-s.translationY)}}class Nt extends v.jG{constructor(s,u,E){super(),this.handler=this._register((R.un||R.m0&&R.Fr)&&Ut.e.pointerEvents?new an(s,u,E):ke.G.TouchEvent?new lt(s,u,E):new Ke(s,u,E))}getTargetAtClientPoint(s,u){return this.handler.getTargetAtClientPoint(s,u)}}var tn=t(86307),bn={};bn.styleTagTransform=N(),bn.setAttributes=T(),bn.insert=p().bind(null,"head"),bn.domAPI=l(),bn.insertStyleElement=k(),d()(tn.A,bn);var Zn=t(81644),ei=t(6653),wi=t(36824),hi=t(6953),yi={};yi.styleTagTransform=N(),yi.setAttributes=T(),yi.insert=p().bind(null,"head"),yi.domAPI=l(),yi.insertStyleElement=k(),d()(hi.A,yi);class Pn extends me{}var pt=t(48187),ct=t(30976);let Tt=(()=>{class Lt extends Pn{constructor(u){super(),this._context=u,this._readConfig(),this._lastCursorModelPosition=new Ce.y(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const u=this._context.configuration.options;this._lineHeight=u.get(67);const E=u.get(68);this._renderLineNumbers=E.renderType,this._renderCustomLineNumbers=E.renderFn,this._renderFinalNewline=u.get(95);const $=u.get(145);this._lineNumbersLeft=$.lineNumbersLeft,this._lineNumbersWidth=$.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(u){return this._readConfig(),!0}onCursorStateChanged(u){const E=u.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(E);let $=!1;return this._activeLineNumber!==E.lineNumber&&(this._activeLineNumber=E.lineNumber,$=!0),(2===this._renderLineNumbers||3===this._renderLineNumbers)&&($=!0),$}onFlushed(u){return!0}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollTopChanged}onZonesChanged(u){return!0}onDecorationsChanged(u){return u.affectsLineNumber}_getLineRenderLineNumber(u){const E=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ce.y(u,1));if(1!==E.column)return"";const $=E.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers($);if(2===this._renderLineNumbers){const ee=Math.abs(this._lastCursorModelPosition.lineNumber-$);return 0===ee?'<span class="relative-current-line-number">'+$+"</span>":String(ee)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===$||$%10==0||$===this._context.viewModel.getLineCount()?String($):"":String($)}prepareRender(u){if(0===this._renderLineNumbers)return void(this._renderResult=null);const E=R.j9?this._lineHeight%2==0?" lh-even":" lh-odd":"",$=u.visibleRange.startLineNumber,ee=u.visibleRange.endLineNumber,Ae=this._context.viewModel.getDecorationsInViewport(u.visibleRange).filter(xt=>!!xt.options.lineNumberClassName);Ae.sort((xt,Kt)=>Ne.Q.compareRangesUsingEnds(xt.range,Kt.range));let Be=0;const et=this._context.viewModel.getLineCount(),gt=[];for(let xt=$;xt<=ee;xt++){const Kt=xt-$;let Qt=this._getLineRenderLineNumber(xt),rn="";for(;Be<Ae.length&&Ae[Be].range.endLineNumber<xt;)Be++;for(let Dn=Be;Dn<Ae.length;Dn++){const{range:Ln,options:Fn}=Ae[Dn];Ln.startLineNumber<=xt&&(rn+=" "+Fn.lineNumberClassName)}Qt||rn?(xt===et&&0===this._context.viewModel.getLineLength(xt)&&("off"===this._renderFinalNewline&&(Qt=""),"dimmed"===this._renderFinalNewline&&(rn+=" dimmed-line-number")),xt===this._activeLineNumber&&(rn+=" active-line-number"),gt[Kt]=`<div class="${Lt.CLASS_NAME}${E}${rn}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${Qt}</div>`):gt[Kt]=""}this._renderResult=gt}render(u,E){if(!this._renderResult)return"";const $=E-u;return $<0||$>=this._renderResult.length?"":this._renderResult[$]}}return Lt.CLASS_NAME="line-numbers",Lt})();(0,pt.zy)((Lt,s)=>{const u=Lt.getColor(ct.Qt),E=Lt.getColor(ct.JB);E?s.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${E}; }`):u&&s.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${u.transparent(.4)}; }`)});var ut=t(58731),Ct={};Ct.styleTagTransform=N(),Ct.setAttributes=T(),Ct.insert=p().bind(null,"head"),Ct.domAPI=l(),Ct.insertStyleElement=k(),d()(ut.A,Ct);let Wn=(()=>{class Lt extends le{constructor(u){super(u);const E=this._context.configuration.options,$=E.get(145);this._canUseLayerHinting=!E.get(32),this._contentLeft=$.contentLeft,this._glyphMarginLeft=$.glyphMarginLeft,this._glyphMarginWidth=$.glyphMarginWidth,this._domNode=(0,$e.Z)(document.createElement("div")),this._domNode.setClassName(Lt.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,$e.Z)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Lt.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(u){const E=this._context.configuration.options,$=E.get(145);return this._canUseLayerHinting=!E.get(32),this._contentLeft=$.contentLeft,this._glyphMarginLeft=$.glyphMarginLeft,this._glyphMarginWidth=$.glyphMarginWidth,!0}onScrollChanged(u){return super.onScrollChanged(u)||u.scrollTopChanged}prepareRender(u){}render(u){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict"),this._domNode.setTop(-(u.scrollTop-u.bigNumbersDelta));const $=Math.min(u.scrollHeight,1e6);this._domNode.setHeight($),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight($)}}return Lt.CLASS_NAME="glyph-margin",Lt.OUTER_CLASS_NAME="margin",Lt})();var Kn=t(34181),jn=t(266),Nn={};Nn.styleTagTransform=N(),Nn.setAttributes=T(),Nn.insert=p().bind(null,"head"),Nn.domAPI=l(),Nn.insertStyleElement=k(),d()(jn.A,Nn);const mn="monaco-mouse-cursor-text";var En=t(41489),On=t(84072),Rn=t(86138),Qn=t(59002),fi=t(598),Sn=function(Lt,s){return function(u,E){s(u,E,Lt)}};class Xt{constructor(s,u,E,$,ee){this._context=s,this.modelLineNumber=u,this.distanceToModelLineStart=E,this.widthOfHiddenLineTextBefore=$,this.distanceToModelLineEnd=ee,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(s){const u=new Ce.y(this.modelLineNumber,this.distanceToModelLineStart+1),E=new Ce.y(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(u),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(E),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=s.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=s.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(s){return this._previousPresentation||(this._previousPresentation=s||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const je=X.gm;let at=class extends le{constructor(s,u,E,$,ee){super(s),this._keybindingService=$,this._instantiationService=ee,this._primaryCursorPosition=new Ce.y(1,1),this._primaryCursorVisibleRange=null,this._viewController=u,this._visibleRangeProvider=E,this._scrollLeft=0,this._scrollTop=0;const Ae=this._context.configuration.options,Be=Ae.get(145);this._setAccessibilityOptions(Ae),this._contentLeft=Be.contentLeft,this._contentWidth=Be.contentWidth,this._contentHeight=Be.height,this._fontInfo=Ae.get(50),this._lineHeight=Ae.get(67),this._emptySelectionClipboard=Ae.get(37),this._copyWithSyntaxHighlighting=Ae.get(25),this._visibleTextArea=null,this._selections=[new Ye.L(1,1,1,1)],this._modelSelections=[new Ye.L(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,$e.Z)(document.createElement("textarea")),Ee.write(this.textArea,7),this.textArea.setClassName(`inputarea ${mn}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:et}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=et*this._fontInfo.spaceWidth+"px",this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(Ae)),this.textArea.setAttribute("aria-required",Ae.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(Ae.get(124))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",Zn.kg("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",Ae.get(91)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,$e.Z)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const gt={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:Qt=>this._context.viewModel.getLineMaxColumn(Qt),getValueInRange:(Qt,rn)=>this._context.viewModel.getValueInRange(Qt,rn),getValueLengthInRange:(Qt,rn)=>this._context.viewModel.getValueLengthInRange(Qt,rn),modifyPosition:(Qt,rn)=>this._context.viewModel.modifyPosition(Qt,rn)},xt={getDataToCopy:()=>{const Qt=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,R.uF),rn=this._context.viewModel.model.getEOL(),Dn=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),Ln=Array.isArray(Qt)?Qt:null,Fn=Array.isArray(Qt)?Qt.join(rn):Qt;let qn,di=null;if(en.Eq.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Fn.length<65536){const si=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);si&&(qn=si.html,di=si.mode)}return{isFromEmptySelection:Dn,multicursorText:Ln,text:Fn,html:qn,mode:di}},getScreenReaderContent:()=>{if(1===this._accessibilitySupport){const Qt=this._selections[0];if(R.zx&&Qt.isEmpty()){const Dn=Qt.getStartPosition();let Ln=this._getWordBeforePosition(Dn);if(0===Ln.length&&(Ln=this._getCharacterBeforePosition(Dn)),Ln.length>0)return new wi._O(Ln,Ln.length,Ln.length,Ne.Q.fromPositions(Dn),0)}if(R.zx&&!Qt.isEmpty()&&gt.getValueLengthInRange(Qt,0)<500){const Dn=gt.getValueInRange(Qt,0);return new wi._O(Dn,0,Dn.length,Qt,0)}if(X.nr&&!Qt.isEmpty()){const Dn="vscode-placeholder";return new wi._O(Dn,0,Dn.length,null,void 0)}return wi._O.EMPTY}if(X.m0){const Qt=this._selections[0];if(Qt.isEmpty()){const rn=Qt.getStartPosition(),[Dn,Ln]=this._getAndroidWordAtPosition(rn);if(Dn.length>0)return new wi._O(Dn,Ln,Ln,Ne.Q.fromPositions(rn),0)}return wi._O.EMPTY}return wi.Al.fromEditorSelection(gt,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(Qt,rn,Dn)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(Qt,rn,Dn)},Kt=this._register(new en.M0(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(en.No,xt,Kt,R.OS,{isAndroid:X.m0,isChrome:X.H8,isFirefox:X.gm,isSafari:X.nr})),this._register(this._textAreaInput.onKeyDown(Qt=>{this._viewController.emitKeyDown(Qt)})),this._register(this._textAreaInput.onKeyUp(Qt=>{this._viewController.emitKeyUp(Qt)})),this._register(this._textAreaInput.onPaste(Qt=>{let rn=!1,Dn=null,Ln=null;Qt.metadata&&(rn=this._emptySelectionClipboard&&!!Qt.metadata.isFromEmptySelection,Dn=typeof Qt.metadata.multicursorText<"u"?Qt.metadata.multicursorText:null,Ln=Qt.metadata.mode),this._viewController.paste(Qt.text,rn,Dn,Ln)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(Qt=>{Qt.replacePrevCharCnt||Qt.replaceNextCharCnt||Qt.positionDelta?(wi.Hf&&console.log(` => compositionType: <<${Qt.text}>>, ${Qt.replacePrevCharCnt}, ${Qt.replaceNextCharCnt}, ${Qt.positionDelta}`),this._viewController.compositionType(Qt.text,Qt.replacePrevCharCnt,Qt.replaceNextCharCnt,Qt.positionDelta)):(wi.Hf&&console.log(` => type: <<${Qt.text}>>`),this._viewController.type(Qt.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(Qt=>{this._viewController.setSelection(Qt)})),this._register(this._textAreaInput.onCompositionStart(Qt=>{const rn=this.textArea.domNode,Dn=this._modelSelections[0],{distanceToModelLineStart:Ln,widthOfHiddenTextBefore:Fn}=(()=>{const di=rn.value.substring(0,Math.min(rn.selectionStart,rn.selectionEnd)),si=di.lastIndexOf("\n"),Ci=di.substring(si+1),Bi=Ci.lastIndexOf("\t"),Oi=Ci.length-Bi-1,Xi=Dn.getStartPosition(),Ji=Math.min(Xi.column-1,Oi),no=Xi.column-1-Ji,qi=Ci.substring(0,Ci.length-Ji),{tabSize:oo}=this._context.viewModel.model.getOptions(),Qi=function Mt(Lt,s,u,E){if(0===s.length)return 0;const $=Lt.createElement("div");$.style.position="absolute",$.style.top="-50000px",$.style.width="50000px";const ee=Lt.createElement("span");(0,te.M)(ee,u),ee.style.whiteSpace="pre",ee.style.tabSize=E*u.spaceWidth+"px",ee.append(s),$.appendChild(ee),Lt.body.appendChild($);const Ae=ee.offsetWidth;return Lt.body.removeChild($),Ae}(this.textArea.domNode.ownerDocument,qi,this._fontInfo,oo);return{distanceToModelLineStart:no,widthOfHiddenTextBefore:Qi}})(),{distanceToModelLineEnd:qn}=(()=>{const di=rn.value.substring(Math.max(rn.selectionStart,rn.selectionEnd)),si=di.indexOf("\n"),Ci=-1===si?di:di.substring(0,si),Bi=Ci.indexOf("\t"),Oi=-1===Bi?Ci.length:Ci.length-Bi-1,Xi=Dn.getEndPosition(),Ji=Math.min(this._context.viewModel.model.getLineMaxColumn(Xi.lineNumber)-Xi.column,Oi);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Xi.lineNumber)-Xi.column-Ji}})();this._context.viewModel.revealRange("keyboard",!0,Ne.Q.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Xt(this._context,Dn.startLineNumber,Ln,Fn,qn),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${mn} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(Qt=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${mn}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(Rn.M.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(s){this._textAreaInput.writeNativeTextAreaContent(s)}dispose(){super.dispose()}_getAndroidWordAtPosition(s){const E=this._context.viewModel.getLineContent(s.lineNumber),$=(0,Kn.i)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',[]);let ee=!0,Ae=s.column,Be=!0,et=s.column,gt=0;for(;gt<50&&(ee||Be);){if(ee&&Ae<=1&&(ee=!1),ee){const xt=E.charCodeAt(Ae-2);0!==$.get(xt)?ee=!1:Ae--}if(Be&&et>E.length&&(Be=!1),Be){const xt=E.charCodeAt(et-1);0!==$.get(xt)?Be=!1:et++}gt++}return[E.substring(Ae-1,et-1),s.column-Ae]}_getWordBeforePosition(s){const u=this._context.viewModel.getLineContent(s.lineNumber),E=(0,Kn.i)(this._context.configuration.options.get(131),[]);let $=s.column,ee=0;for(;$>1;){const Ae=u.charCodeAt($-2);if(0!==E.get(Ae)||ee>50)return u.substring($-1,s.column-1);ee++,$--}return u.substring(0,s.column-1)}_getCharacterBeforePosition(s){if(s.column>1){const E=this._context.viewModel.getLineContent(s.lineNumber).charAt(s.column-2);if(!ei.pc(E.charCodeAt(0)))return E}return""}_getAriaLabel(s){var u,E,$;if(1===s.get(2)){const Ae=null===(u=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))||void 0===u?void 0:u.getAriaLabel(),Be=null===(E=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))||void 0===E?void 0:E.getAriaLabel(),et=null===($=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))||void 0===$?void 0:$.getAriaLabel(),gt=Zn.kg("accessibilityModeOff","The editor is not accessible at this time.");return Ae?Zn.kg("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",gt,Ae):Be?Zn.kg("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",gt,Be):et?Zn.kg("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",gt,et):gt}return s.get(4)}_setAccessibilityOptions(s){this._accessibilitySupport=s.get(2);const u=s.get(3);this._accessibilityPageSize=2===this._accessibilitySupport&&u===ae.qB.accessibilityPageSize.defaultValue?500:u;const $=s.get(145).wrappingColumn;if(-1!==$&&1!==this._accessibilitySupport){const ee=s.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round($*ee.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=je?0:1}onConfigurationChanged(s){const u=this._context.configuration.options,E=u.get(145);this._setAccessibilityOptions(u),this._contentLeft=E.contentLeft,this._contentWidth=E.contentWidth,this._contentHeight=E.height,this._fontInfo=u.get(50),this._lineHeight=u.get(67),this._emptySelectionClipboard=u.get(37),this._copyWithSyntaxHighlighting=u.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:$}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=$*this._fontInfo.spaceWidth+"px",this.textArea.setAttribute("aria-label",this._getAriaLabel(u)),this.textArea.setAttribute("aria-required",u.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(u.get(124))),(s.hasChanged(34)||s.hasChanged(91))&&this._ensureReadOnlyAttribute(),s.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(s){return this._selections=s.selections.slice(0),this._modelSelections=s.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLinesChanged(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return this._scrollLeft=s.scrollLeft,this._scrollTop=s.scrollTop,!0}onZonesChanged(s){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(s){s.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",s.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),s.role&&this.textArea.setAttribute("role",s.role)}_ensureReadOnlyAttribute(){const s=this._context.configuration.options;!Rn.M.enabled||s.get(34)&&s.get(91)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(s){var u;this._primaryCursorPosition=new Ce.y(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=s.visibleRangeForPosition(this._primaryCursorPosition),null===(u=this._visibleTextArea)||void 0===u||u.prepareRender(s)}render(s){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var s;if(this._visibleTextArea){const $=this._visibleTextArea.visibleTextareaStart,ee=this._visibleTextArea.visibleTextareaEnd,Ae=this._visibleTextArea.startPosition,Be=this._visibleTextArea.endPosition;if(Ae&&Be&&$&&ee&&ee.left>=this._scrollLeft&&$.left<=this._scrollLeft+this._contentWidth){const et=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,gt=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let xt=this._visibleTextArea.widthOfHiddenLineTextBefore,Kt=this._contentLeft+$.left-this._scrollLeft,Qt=ee.left-$.left+1;if(Kt<this._contentLeft){const di=this._contentLeft-Kt;Kt+=di,xt+=di,Qt-=di}Qt>this._contentWidth&&(Qt=this._contentWidth);const rn=this._context.viewModel.getViewLineData(Ae.lineNumber),Dn=rn.tokens.findTokenIndexAtOffset(Ae.column-1),Ln=rn.tokens.findTokenIndexAtOffset(Be.column-1),qn=this._visibleTextArea.definePresentation(Dn===Ln?rn.tokens.getPresentation(Dn):null);this.textArea.domNode.scrollTop=gt*this._lineHeight,this.textArea.domNode.scrollLeft=xt,this._doRender({lastRenderPosition:null,top:et,left:Kt,width:Qt,height:this._lineHeight,useCover:!1,color:(En.dG.getColorMap()||[])[qn.foreground],italic:qn.italic,bold:qn.bold,underline:qn.underline,strikethrough:qn.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const u=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(u<this._contentLeft||u>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const E=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(E<0||E>this._contentHeight)this._renderAtTopLeft();else if(R.zx||2===this._accessibilitySupport){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:E,left:this._textAreaWrapping?this._contentLeft:u,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const $=null!==(s=this._textAreaInput.textAreaState.newlineCountBeforeSelection)&&void 0!==s?s:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=$*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:E,left:this._textAreaWrapping?this._contentLeft:u,width:this._textAreaWidth,height:je?0:1,useCover:!1})}_newlinecount(s){let u=0,E=-1;for(;E=s.indexOf("\n",E+1),-1!==E;)u++;return u}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:je?0:1,useCover:!0})}_doRender(s){this._lastRenderPosition=s.lastRenderPosition;const u=this.textArea,E=this.textAreaCover;(0,te.M)(u,this._fontInfo),u.setTop(s.top),u.setLeft(s.left),u.setWidth(s.width),u.setHeight(s.height),u.setColor(s.color?On.Q1.Format.CSS.formatHex(s.color):""),u.setFontStyle(s.italic?"italic":""),s.bold&&u.setFontWeight("bold"),u.setTextDecoration(`${s.underline?" underline":""}${s.strikethrough?" line-through":""}`),E.setTop(s.useCover?s.top:0),E.setLeft(s.useCover?s.left:0),E.setWidth(s.useCover?s.width:0),E.setHeight(s.useCover?s.height:0);const $=this._context.configuration.options;$.get(57)?E.setClassName("monaco-editor-background textAreaCover "+Wn.OUTER_CLASS_NAME):0!==$.get(68).renderType?E.setClassName("monaco-editor-background textAreaCover "+Tt.CLASS_NAME):E.setClassName("monaco-editor-background textAreaCover")}};at=function(Lt,s,u,E){var Ae,$=arguments.length,ee=$<3?s:null===E?E=Object.getOwnPropertyDescriptor(s,u):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ee=Reflect.decorate(Lt,s,u,E);else for(var Be=Lt.length-1;Be>=0;Be--)(Ae=Lt[Be])&&(ee=($<3?Ae(ee):$>3?Ae(s,u,ee):Ae(s,u))||ee);return $>3&&ee&&Object.defineProperty(s,u,ee),ee}([Sn(3,Qn.b),Sn(4,fi._Y)],at);var Et=t(51435),Vt=t(88175);class zt{constructor(s,u,E,$){this.configuration=s,this.viewModel=u,this.userInputEvents=E,this.commandDelegate=$}paste(s,u,E,$){this.commandDelegate.paste(s,u,E,$)}type(s){this.commandDelegate.type(s)}compositionType(s,u,E,$){this.commandDelegate.compositionType(s,u,E,$)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(s){Vt.QM.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:s})}_validateViewColumn(s){const u=this.viewModel.getLineMinColumn(s.lineNumber);return s.column<u?new Ce.y(s.lineNumber,u):s}_hasMulticursorModifier(s){switch(this.configuration.options.get(78)){case"altKey":return s.altKey;case"ctrlKey":return s.ctrlKey;case"metaKey":return s.metaKey;default:return!1}}_hasNonMulticursorModifier(s){switch(this.configuration.options.get(78)){case"altKey":return s.ctrlKey||s.metaKey;case"ctrlKey":return s.altKey||s.metaKey;case"metaKey":return s.ctrlKey||s.altKey;default:return!1}}dispatchMouse(s){const u=this.configuration.options,E=R.j9&&u.get(107),$=u.get(22);s.middleButton&&!E?this._columnSelect(s.position,s.mouseColumn,s.inSelectionMode):s.startedOnLineNumbers?this._hasMulticursorModifier(s)?s.inSelectionMode?this._lastCursorLineSelect(s.position,s.revealType):this._createCursor(s.position,!0):s.inSelectionMode?this._lineSelectDrag(s.position,s.revealType):this._lineSelect(s.position,s.revealType):s.mouseDownCount>=4?this._selectAll():3===s.mouseDownCount?this._hasMulticursorModifier(s)?s.inSelectionMode?this._lastCursorLineSelectDrag(s.position,s.revealType):this._lastCursorLineSelect(s.position,s.revealType):s.inSelectionMode?this._lineSelectDrag(s.position,s.revealType):this._lineSelect(s.position,s.revealType):2===s.mouseDownCount?s.onInjectedText||(this._hasMulticursorModifier(s)?this._lastCursorWordSelect(s.position,s.revealType):s.inSelectionMode?this._wordSelectDrag(s.position,s.revealType):this._wordSelect(s.position,s.revealType)):this._hasMulticursorModifier(s)?this._hasNonMulticursorModifier(s)||(s.shiftKey?this._columnSelect(s.position,s.mouseColumn,!0):s.inSelectionMode?this._lastCursorMoveToSelect(s.position,s.revealType):this._createCursor(s.position,!1)):s.inSelectionMode?s.altKey||$?this._columnSelect(s.position,s.mouseColumn,!0):this._moveToSelect(s.position,s.revealType):this.moveTo(s.position,s.revealType)}_usualArgs(s,u){return s=this._validateViewColumn(s),{source:"mouse",position:this._convertViewToModelPosition(s),viewPosition:s,revealType:u}}moveTo(s,u){Vt.QM.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(s,u))}_moveToSelect(s,u){Vt.QM.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(s,u))}_columnSelect(s,u,E){s=this._validateViewColumn(s),Vt.QM.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(s),viewPosition:s,mouseColumn:u,doColumnSelect:E})}_createCursor(s,u){s=this._validateViewColumn(s),Vt.QM.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(s),viewPosition:s,wholeLine:u})}_lastCursorMoveToSelect(s,u){Vt.QM.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(s,u))}_wordSelect(s,u){Vt.QM.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(s,u))}_wordSelectDrag(s,u){Vt.QM.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(s,u))}_lastCursorWordSelect(s,u){Vt.QM.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(s,u))}_lineSelect(s,u){Vt.QM.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(s,u))}_lineSelectDrag(s,u){Vt.QM.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(s,u))}_lastCursorLineSelect(s,u){Vt.QM.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(s,u))}_lastCursorLineSelectDrag(s,u){Vt.QM.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(s,u))}_selectAll(){Vt.QM.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(s){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(s)}emitKeyDown(s){this.userInputEvents.emitKeyDown(s)}emitKeyUp(s){this.userInputEvents.emitKeyUp(s)}emitContextMenu(s){this.userInputEvents.emitContextMenu(s)}emitMouseMove(s){this.userInputEvents.emitMouseMove(s)}emitMouseLeave(s){this.userInputEvents.emitMouseLeave(s)}emitMouseUp(s){this.userInputEvents.emitMouseUp(s)}emitMouseDown(s){this.userInputEvents.emitMouseDown(s)}emitMouseDrag(s){this.userInputEvents.emitMouseDrag(s)}emitMouseDrop(s){this.userInputEvents.emitMouseDrop(s)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(s){this.userInputEvents.emitMouseWheel(s)}}var sn=t(87892),kn=t(10139);class oi{constructor(s){this._createLine=s,this._set(1,[])}flush(){this._set(1,[])}_set(s,u){this._lines=u,this._rendLineNumberStart=s}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(s){const u=s-this._rendLineNumberStart;if(u<0||u>=this._lines.length)throw new P.D7("Illegal value for lineNumber");return this._lines[u]}onLinesDeleted(s,u){if(0===this.getCount())return null;const E=this.getStartLineNumber(),$=this.getEndLineNumber();if(u<E)return this._rendLineNumberStart-=u-s+1,null;if(s>$)return null;let ee=0,Ae=0;for(let et=E;et<=$;et++)s<=et&&et<=u&&(0===Ae?(ee=et-this._rendLineNumberStart,Ae=1):Ae++);if(s<E){let et=0;et=u<E?u-s+1:E-s,this._rendLineNumberStart-=et}return this._lines.splice(ee,Ae)}onLinesChanged(s,u){const E=s+u-1;if(0===this.getCount())return!1;const $=this.getStartLineNumber(),ee=this.getEndLineNumber();let Ae=!1;for(let Be=s;Be<=E;Be++)Be>=$&&Be<=ee&&(this._lines[Be-this._rendLineNumberStart].onContentChanged(),Ae=!0);return Ae}onLinesInserted(s,u){if(0===this.getCount())return null;const E=u-s+1,$=this.getStartLineNumber(),ee=this.getEndLineNumber();if(s<=$)return this._rendLineNumberStart+=E,null;if(s>ee)return null;if(E+s>ee)return this._lines.splice(s-this._rendLineNumberStart,ee-s+1);const Ae=[];for(let Kt=0;Kt<E;Kt++)Ae[Kt]=this._createLine();const Be=s-this._rendLineNumberStart,et=this._lines.slice(0,Be),gt=this._lines.slice(Be,this._lines.length-E),xt=this._lines.slice(this._lines.length-E,this._lines.length);return this._lines=et.concat(Ae).concat(gt),xt}onTokensChanged(s){if(0===this.getCount())return!1;const u=this.getStartLineNumber(),E=this.getEndLineNumber();let $=!1;for(let ee=0,Ae=s.length;ee<Ae;ee++){const Be=s[ee];if(Be.toLineNumber<u||Be.fromLineNumber>E)continue;const et=Math.max(u,Be.fromLineNumber),gt=Math.min(E,Be.toLineNumber);for(let xt=et;xt<=gt;xt++)this._lines[xt-this._rendLineNumberStart].onTokensChanged(),$=!0}return $}}class mi{constructor(s){this._host=s,this.domNode=this._createDomNode(),this._linesCollection=new oi(()=>this._host.createVisibleLine())}_createDomNode(){const s=(0,$e.Z)(document.createElement("div"));return s.setClassName("view-layer"),s.setPosition("absolute"),s.domNode.setAttribute("role","presentation"),s.domNode.setAttribute("aria-hidden","true"),s}onConfigurationChanged(s){return!!s.hasChanged(145)}onFlushed(s){return this._linesCollection.flush(),!0}onLinesChanged(s){return this._linesCollection.onLinesChanged(s.fromLineNumber,s.count)}onLinesDeleted(s){const u=this._linesCollection.onLinesDeleted(s.fromLineNumber,s.toLineNumber);if(u)for(let E=0,$=u.length;E<$;E++){const ee=u[E].getDomNode();ee&&this.domNode.domNode.removeChild(ee)}return!0}onLinesInserted(s){const u=this._linesCollection.onLinesInserted(s.fromLineNumber,s.toLineNumber);if(u)for(let E=0,$=u.length;E<$;E++){const ee=u[E].getDomNode();ee&&this.domNode.domNode.removeChild(ee)}return!0}onScrollChanged(s){return s.scrollTopChanged}onTokensChanged(s){return this._linesCollection.onTokensChanged(s.ranges)}onZonesChanged(s){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(s){return this._linesCollection.getLine(s)}renderLines(s){const u=this._linesCollection._get(),ee=new gi(this.domNode.domNode,this._host,s).render({rendLineNumberStart:u.rendLineNumberStart,lines:u.lines,linesLength:u.lines.length},s.startLineNumber,s.endLineNumber,s.relativeVerticalOffset);this._linesCollection._set(ee.rendLineNumberStart,ee.lines)}}class gi{constructor(s,u,E){this.domNode=s,this.host=u,this.viewportData=E}render(s,u,E,$){const ee={rendLineNumberStart:s.rendLineNumberStart,lines:s.lines.slice(0),linesLength:s.linesLength};if(ee.rendLineNumberStart+ee.linesLength-1<u||E<ee.rendLineNumberStart){ee.rendLineNumberStart=u,ee.linesLength=E-u+1,ee.lines=[];for(let Ae=u;Ae<=E;Ae++)ee.lines[Ae-u]=this.host.createVisibleLine();return this._finishRendering(ee,!0,$),ee}if(this._renderUntouchedLines(ee,Math.max(u-ee.rendLineNumberStart,0),Math.min(E-ee.rendLineNumberStart,ee.linesLength-1),$,u),ee.rendLineNumberStart>u){const Ae=u,Be=Math.min(E,ee.rendLineNumberStart-1);Ae<=Be&&(this._insertLinesBefore(ee,Ae,Be,$,u),ee.linesLength+=Be-Ae+1)}else if(ee.rendLineNumberStart<u){const Ae=Math.min(ee.linesLength,u-ee.rendLineNumberStart);Ae>0&&(this._removeLinesBefore(ee,Ae),ee.linesLength-=Ae)}if(ee.rendLineNumberStart=u,ee.rendLineNumberStart+ee.linesLength-1<E){const Ae=ee.rendLineNumberStart+ee.linesLength,Be=E;Ae<=Be&&(this._insertLinesAfter(ee,Ae,Be,$,u),ee.linesLength+=Be-Ae+1)}else if(ee.rendLineNumberStart+ee.linesLength-1>E){const Ae=Math.max(0,E-ee.rendLineNumberStart+1),et=ee.linesLength-1-Ae+1;et>0&&(this._removeLinesAfter(ee,et),ee.linesLength-=et)}return this._finishRendering(ee,!1,$),ee}_renderUntouchedLines(s,u,E,$,ee){const Ae=s.rendLineNumberStart,Be=s.lines;for(let et=u;et<=E;et++){const gt=Ae+et;Be[et].layoutLine(gt,$[gt-ee],this.viewportData.lineHeight)}}_insertLinesBefore(s,u,E,$,ee){const Ae=[];let Be=0;for(let et=u;et<=E;et++)Ae[Be++]=this.host.createVisibleLine();s.lines=Ae.concat(s.lines)}_removeLinesBefore(s,u){for(let E=0;E<u;E++){const $=s.lines[E].getDomNode();$&&this.domNode.removeChild($)}s.lines.splice(0,u)}_insertLinesAfter(s,u,E,$,ee){const Ae=[];let Be=0;for(let et=u;et<=E;et++)Ae[Be++]=this.host.createVisibleLine();s.lines=s.lines.concat(Ae)}_removeLinesAfter(s,u){const E=s.linesLength-u;for(let $=0;$<u;$++){const ee=s.lines[E+$].getDomNode();ee&&this.domNode.removeChild(ee)}s.lines.splice(E,u)}_finishRenderingNewLines(s,u,E,$){gi._ttPolicy&&(E=gi._ttPolicy.createHTML(E));const ee=this.domNode.lastChild;u||!ee?this.domNode.innerHTML=E:ee.insertAdjacentHTML("afterend",E);let Ae=this.domNode.lastChild;for(let Be=s.linesLength-1;Be>=0;Be--)$[Be]&&(s.lines[Be].setDomNode(Ae),Ae=Ae.previousSibling)}_finishRenderingInvalidLines(s,u,E){const $=document.createElement("div");gi._ttPolicy&&(u=gi._ttPolicy.createHTML(u)),$.innerHTML=u;for(let ee=0;ee<s.linesLength;ee++){const Ae=s.lines[ee];if(E[ee]){const Be=$.firstChild,et=Ae.getDomNode();et.parentNode.replaceChild(Be,et),Ae.setDomNode(Be)}}}_finishRendering(s,u,E){const $=gi._sb,ee=s.linesLength,Ae=s.lines,Be=s.rendLineNumberStart,et=[];{$.reset();let gt=!1;for(let xt=0;xt<ee;xt++){const Kt=Ae[xt];et[xt]=!1,!Kt.getDomNode()&&Kt.renderLine(xt+Be,E[xt],this.viewportData.lineHeight,this.viewportData,$)&&(et[xt]=!0,gt=!0)}gt&&this._finishRenderingNewLines(s,u,$.build(),et)}{$.reset();let gt=!1;const xt=[];for(let Kt=0;Kt<ee;Kt++){const Qt=Ae[Kt];xt[Kt]=!1,!et[Kt]&&Qt.renderLine(Kt+Be,E[Kt],this.viewportData.lineHeight,this.viewportData,$)&&(xt[Kt]=!0,gt=!0)}gt&&this._finishRenderingInvalidLines(s,$.build(),xt)}}}gi._ttPolicy=(0,sn.H)("editorViewLayer",{createHTML:Lt=>Lt}),gi._sb=new kn.fe(1e5);class ai extends le{constructor(s){super(s),this._visibleLines=new mi(this),this.domNode=this._visibleLines.domNode;const E=this._context.configuration.options.get(50);(0,te.M)(this.domNode,E),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let s=0,u=this._dynamicOverlays.length;s<u;s++)if(this._dynamicOverlays[s].shouldRender())return!0;return!1}dispose(){super.dispose();for(let s=0,u=this._dynamicOverlays.length;s<u;s++)this._dynamicOverlays[s].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new li(this._dynamicOverlays)}addDynamicOverlay(s){this._dynamicOverlays.push(s)}onConfigurationChanged(s){this._visibleLines.onConfigurationChanged(s);const E=this._context.configuration.options.get(50);return(0,te.M)(this.domNode,E),!0}onFlushed(s){return this._visibleLines.onFlushed(s)}onFocusChanged(s){return this._isFocused=s.isFocused,!0}onLinesChanged(s){return this._visibleLines.onLinesChanged(s)}onLinesDeleted(s){return this._visibleLines.onLinesDeleted(s)}onLinesInserted(s){return this._visibleLines.onLinesInserted(s)}onScrollChanged(s){return this._visibleLines.onScrollChanged(s)||!0}onTokensChanged(s){return this._visibleLines.onTokensChanged(s)}onZonesChanged(s){return this._visibleLines.onZonesChanged(s)}prepareRender(s){const u=this._dynamicOverlays.filter(E=>E.shouldRender());for(let E=0,$=u.length;E<$;E++){const ee=u[E];ee.prepareRender(s),ee.onDidRender()}}render(s){this._viewOverlaysRender(s),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(s){this._visibleLines.renderLines(s.viewportData)}}class li{constructor(s){this._dynamicOverlays=s,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(s){this._domNode=(0,$e.Z)(s)}onContentChanged(){}onTokensChanged(){}renderLine(s,u,E,$,ee){let Ae="";for(let Be=0,et=this._dynamicOverlays.length;Be<et;Be++)Ae+=this._dynamicOverlays[Be].render($.startLineNumber,s);return this._renderedContent!==Ae&&(this._renderedContent=Ae,ee.appendString('<div style="top:'),ee.appendString(String(u)),ee.appendString("px;height:"),ee.appendString(String(E)),ee.appendString('px;">'),ee.appendString(Ae),ee.appendString("</div>"),!0)}layoutLine(s,u,E){this._domNode&&(this._domNode.setTop(u),this._domNode.setHeight(E))}}class $i extends ai{constructor(s){super(s);const E=this._context.configuration.options.get(145);this._contentWidth=E.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(s){const E=this._context.configuration.options.get(145);return this._contentWidth=E.contentWidth,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollWidthChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s),this.domNode.setWidth(Math.max(s.scrollWidth,this._contentWidth))}}class Zi extends ai{constructor(s){super(s);const u=this._context.configuration.options,E=u.get(145);this._contentLeft=E.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,te.M)(this.domNode,u.get(50))}onConfigurationChanged(s){const u=this._context.configuration.options;(0,te.M)(this.domNode,u.get(50));const E=u.get(145);return this._contentLeft=E.contentLeft,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollHeightChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s);const u=Math.min(s.scrollHeight,1e6);this.domNode.setHeight(u),this.domNode.setWidth(this._contentLeft)}}class Pi{constructor(s){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=s}emitKeyDown(s){var u;null===(u=this.onKeyDown)||void 0===u||u.call(this,s)}emitKeyUp(s){var u;null===(u=this.onKeyUp)||void 0===u||u.call(this,s)}emitContextMenu(s){var u;null===(u=this.onContextMenu)||void 0===u||u.call(this,this._convertViewToModelMouseEvent(s))}emitMouseMove(s){var u;null===(u=this.onMouseMove)||void 0===u||u.call(this,this._convertViewToModelMouseEvent(s))}emitMouseLeave(s){var u;null===(u=this.onMouseLeave)||void 0===u||u.call(this,this._convertViewToModelMouseEvent(s))}emitMouseDown(s){var u;null===(u=this.onMouseDown)||void 0===u||u.call(this,this._convertViewToModelMouseEvent(s))}emitMouseUp(s){var u;null===(u=this.onMouseUp)||void 0===u||u.call(this,this._convertViewToModelMouseEvent(s))}emitMouseDrag(s){var u;null===(u=this.onMouseDrag)||void 0===u||u.call(this,this._convertViewToModelMouseEvent(s))}emitMouseDrop(s){var u;null===(u=this.onMouseDrop)||void 0===u||u.call(this,this._convertViewToModelMouseEvent(s))}emitMouseDropCanceled(){var s;null===(s=this.onMouseDropCanceled)||void 0===s||s.call(this)}emitMouseWheel(s){var u;null===(u=this.onMouseWheel)||void 0===u||u.call(this,s)}_convertViewToModelMouseEvent(s){return s.target?{event:s.event,target:this._convertViewToModelMouseTarget(s.target)}:s}_convertViewToModelMouseTarget(s){return Pi.convertViewToModelMouseTarget(s,this._coordinatesConverter)}static convertViewToModelMouseTarget(s,u){const E={...s};return E.position&&(E.position=u.convertViewPositionToModelPosition(E.position)),E.range&&(E.range=u.convertViewRangeToModelRange(E.range)),(5===E.type||8===E.type)&&(E.detail=this.convertViewToModelViewZoneData(E.detail,u)),E}static convertViewToModelViewZoneData(s,u){return{viewZoneId:s.viewZoneId,positionBefore:s.positionBefore?u.convertViewPositionToModelPosition(s.positionBefore):s.positionBefore,positionAfter:s.positionAfter?u.convertViewPositionToModelPosition(s.positionAfter):s.positionAfter,position:u.convertViewPositionToModelPosition(s.position),afterLineNumber:u.convertViewPositionToModelPosition(new Ce.y(s.afterLineNumber,1)).lineNumber}}}var At=t(72035),Rt={};Rt.styleTagTransform=N(),Rt.setAttributes=T(),Rt.insert=p().bind(null,"head"),Rt.domAPI=l(),Rt.insertStyleElement=k(),d()(At.A,Rt);class An extends le{constructor(s){super(s),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,$e.Z)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let s=!1;const E=this._context.configuration.options.get(145),$=E.contentWidth-E.verticalScrollbarWidth;this.contentWidth!==$&&(this.contentWidth=$,s=!0);const ee=E.contentLeft;return this.contentLeft!==ee&&(this.contentLeft=ee,s=!0),s}dispose(){super.dispose()}onConfigurationChanged(s){return this.update()}onScrollChanged(s){return s.scrollTopChanged||s.scrollLeftChanged}onDecorationsChanged(s){return!0}onZonesChanged(s){return!0}prepareRender(s){}render(s){var u;let E=0;const $=s.getDecorationsInViewport();for(const ee of $){if(!ee.options.blockClassName)continue;let Be,et,Ae=this.blocks[E];Ae||(Ae=this.blocks[E]=(0,$e.Z)(document.createElement("div")),this.domNode.appendChild(Ae)),ee.options.blockIsAfterEnd?(Be=s.getVerticalOffsetAfterLineNumber(ee.range.endLineNumber,!1),et=s.getVerticalOffsetAfterLineNumber(ee.range.endLineNumber,!0)):(Be=s.getVerticalOffsetForLineNumber(ee.range.startLineNumber,!0),et=ee.range.isEmpty()&&!ee.options.blockDoesNotCollapse?s.getVerticalOffsetForLineNumber(ee.range.startLineNumber,!1):s.getVerticalOffsetAfterLineNumber(ee.range.endLineNumber,!0));const[gt,xt,Kt,Qt]=null!==(u=ee.options.blockPadding)&&void 0!==u?u:[0,0,0,0];Ae.setClassName("blockDecorations-block "+ee.options.blockClassName),Ae.setLeft(this.contentLeft-Qt),Ae.setWidth(this.contentWidth+Qt+xt),Ae.setTop(Be-s.scrollTop-gt),Ae.setHeight(et-Be+gt+Kt),E++}for(let ee=E;ee<this.blocks.length;ee++)this.blocks[ee].domNode.remove();this.blocks.length=E}}class Hn extends le{constructor(s,u){super(s),this._viewDomNode=u,this._widgets={},this.domNode=(0,$e.Z)(document.createElement("div")),Ee.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,$e.Z)(document.createElement("div")),Ee.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(s){const u=Object.keys(this._widgets);for(const E of u)this._widgets[E].onConfigurationChanged(s);return!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLineMappingChanged(s){return this._updateAnchorsViewPositions(),!0}onLinesChanged(s){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(s){return this._updateAnchorsViewPositions(),!0}onLinesInserted(s){return this._updateAnchorsViewPositions(),!0}onScrollChanged(s){return!0}onZonesChanged(s){return!0}_updateAnchorsViewPositions(){const s=Object.keys(this._widgets);for(const u of s)this._widgets[u].updateAnchorViewPosition()}addWidget(s){const u=new ni(this._context,this._viewDomNode,s);this._widgets[u.id]=u,u.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(u.domNode):this.domNode.appendChild(u.domNode),this.setShouldRender()}setWidgetPosition(s,u,E,$,ee){this._widgets[s.getId()].setPosition(u,E,$,ee),this.setShouldRender()}removeWidget(s){const u=s.getId();if(this._widgets.hasOwnProperty(u)){const E=this._widgets[u];delete this._widgets[u];const $=E.domNode.domNode;$.parentNode.removeChild($),$.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(s){return!!this._widgets.hasOwnProperty(s)&&this._widgets[s].suppressMouseDown}onBeforeRender(s){const u=Object.keys(this._widgets);for(const E of u)this._widgets[E].onBeforeRender(s)}prepareRender(s){const u=Object.keys(this._widgets);for(const E of u)this._widgets[E].prepareRender(s)}render(s){const u=Object.keys(this._widgets);for(const E of u)this._widgets[E].render(s)}}class ni{constructor(s,u,E){this._primaryAnchor=new $n(null,null),this._secondaryAnchor=new $n(null,null),this._context=s,this._viewDomNode=u,this._actual=E,this.domNode=(0,$e.Z)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const $=this._context.configuration.options,ee=$.get(145);this._fixedOverflowWidgets=$.get(42),this._contentWidth=ee.contentWidth,this._contentLeft=ee.contentLeft,this._lineHeight=$.get(67),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(s){const u=this._context.configuration.options;if(this._lineHeight=u.get(67),s.hasChanged(145)){const E=u.get(145);this._contentLeft=E.contentLeft,this._contentWidth=E.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(s,u,E){function $(ee,Ae,Be){if(!ee)return new $n(null,null);const et=Ae.model.validatePosition(ee);if(Ae.coordinatesConverter.modelPositionIsVisible(et)){const gt=Ae.coordinatesConverter.convertModelPositionToViewPosition(et,Be??void 0);return new $n(ee,gt)}return new $n(ee,null)}this._affinity=s,this._primaryAnchor=$(u,this._context.viewModel,this._affinity),this._secondaryAnchor=$(E,this._context.viewModel,this._affinity)}_getMaxWidth(){const s=this.domNode.domNode.ownerDocument,u=s.defaultView;return this.allowEditorOverflow?u?.innerWidth||s.documentElement.offsetWidth||s.body.offsetWidth:this._contentWidth}setPosition(s,u,E,$){this._setPosition($,s,u),this._preference=E,this.domNode.setDisplay(this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?"block":"none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(s,u,E,$){const ee=s.top,Be=s.top+s.height;let rn=s.left;return rn+u>$.scrollLeft+$.viewportWidth&&(rn=$.scrollLeft+$.viewportWidth-u),rn<$.scrollLeft&&(rn=$.scrollLeft),{fitsAbove:ee>=E,aboveTop:ee-E,fitsBelow:$.viewportHeight-Be>=E,belowTop:Be,left:rn}}_layoutHorizontalSegmentInPage(s,u,E,$){var ee;const et=Math.max(15,u.left-$),gt=Math.min(u.left+u.width+$,s.width-15),Kt=this._viewDomNode.domNode.ownerDocument.defaultView;let Qt=u.left+E-(null!==(ee=Kt?.scrollX)&&void 0!==ee?ee:0);if(Qt+$>gt){const rn=Qt-(gt-$);Qt-=rn,E-=rn}if(Qt<et){const rn=Qt-et;Qt-=rn,E-=rn}return[E,Qt]}_layoutBoxInPage(s,u,E,$){var ee,Ae;const Be=s.top-E,et=s.top+s.height,gt=b.BK(this._viewDomNode.domNode),xt=this._viewDomNode.domNode.ownerDocument,Kt=xt.defaultView,Qt=gt.top+Be-(null!==(ee=Kt?.scrollY)&&void 0!==ee?ee:0),rn=gt.top+et-(null!==(Ae=Kt?.scrollY)&&void 0!==Ae?Ae:0),Dn=b.tG(xt.body),[Ln,Fn]=this._layoutHorizontalSegmentInPage(Dn,gt,s.left-$.scrollLeft+this._contentLeft,u),si=Qt>=22,Ci=rn+E<=Dn.height-22;return this._fixedOverflowWidgets?{fitsAbove:si,aboveTop:Math.max(Qt,22),fitsBelow:Ci,belowTop:rn,left:Fn}:{fitsAbove:si,aboveTop:Be,fitsBelow:Ci,belowTop:et,left:Ln}}_prepareRenderWidgetAtExactPositionOverflowing(s){return new Ri(s.top,s.left+this._contentLeft)}_getAnchorsCoordinates(s){var u,E;return{primary:Be(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),secondary:Be((null===(u=this._secondaryAnchor.viewPosition)||void 0===u?void 0:u.lineNumber)===(null===(E=this._primaryAnchor.viewPosition)||void 0===E?void 0:E.lineNumber)?this._secondaryAnchor.viewPosition:null,this._affinity,this._lineHeight)};function Be(et,gt,xt){if(!et)return null;const Kt=s.visibleRangeForPosition(et);if(!Kt)return null;const Qt=1===et.column&&3===gt?0:Kt.left,rn=s.getVerticalOffsetForLineNumber(et.lineNumber)-s.scrollTop;return new Ii(rn,Qt,xt)}}_reduceAnchorCoordinates(s,u,E){if(!u)return s;const $=this._context.configuration.options.get(50);let ee=u.left;return ee=ee<s.left?Math.max(ee,s.left-E+$.typicalFullwidthCharacterWidth):Math.min(ee,s.left+E-$.typicalFullwidthCharacterWidth),new Ii(s.top,ee,s.height)}_prepareRenderWidget(s){if(!this._preference||0===this._preference.length)return null;const{primary:u,secondary:E}=this._getAnchorsCoordinates(s);if(!u)return{kind:"offViewport",preserveFocus:this.domNode.domNode.contains(this.domNode.domNode.ownerDocument.activeElement)};if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let Ae=null;if("function"==typeof this._actual.beforeRender&&(Ae=yn(this._actual.beforeRender,this._actual)),Ae)this._cachedDomNodeOffsetWidth=Ae.width,this._cachedDomNodeOffsetHeight=Ae.height;else{const et=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(et.width),this._cachedDomNodeOffsetHeight=Math.round(et.height)}}const $=this._reduceAnchorCoordinates(u,E,this._cachedDomNodeOffsetWidth);let ee;ee=this.allowEditorOverflow?this._layoutBoxInPage($,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,s):this._layoutBoxInViewport($,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,s);for(let Ae=1;Ae<=2;Ae++)for(const Be of this._preference)if(1===Be){if(!ee)return null;if(2===Ae||ee.fitsAbove)return{kind:"inViewport",coordinate:new Ri(ee.aboveTop,ee.left),position:1}}else{if(2!==Be)return this.allowEditorOverflow?{kind:"inViewport",coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new Ri($.top,$.left)),position:0}:{kind:"inViewport",coordinate:new Ri($.top,$.left),position:0};if(!ee)return null;if(2===Ae||ee.fitsBelow)return{kind:"inViewport",coordinate:new Ri(ee.belowTop,ee.left),position:2}}return null}onBeforeRender(s){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<s.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>s.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(s){this._renderData=this._prepareRenderWidget(s)}render(s){var u;if(!this._renderData||"offViewport"===this._renderData.kind)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,"offViewport"===(null===(u=this._renderData)||void 0===u?void 0:u.kind)&&this._renderData.preserveFocus?this.domNode.setTop(-1e3):this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&yn(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+s.scrollTop-s.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&yn(this._actual.afterRender,this._actual,this._renderData.position)}}class $n{constructor(s,u){this.modelPosition=s,this.viewPosition=u}}class Ri{constructor(s,u){this.top=s,this.left=u,this._coordinateBrand=void 0}}class Ii{constructor(s,u,E){this.top=s,this.left=u,this.height=E,this._anchorCoordinateBrand=void 0}}function yn(Lt,s,...u){try{return Lt.call(s,...u)}catch{return null}}var Ue=t(28405),Dt={};Dt.styleTagTransform=N(),Dt.setAttributes=T(),Dt.insert=p().bind(null,"head"),Dt.domAPI=l(),Dt.insertStyleElement=k(),d()(Ue.A,Dt);var Zt=t(8374);class xn extends Pn{constructor(s){super(),this._context=s;const u=this._context.configuration.options,E=u.get(145);this._renderLineHighlight=u.get(96),this._renderLineHighlightOnlyWhenFocus=u.get(97),this._wordWrap=E.isViewportWrapping,this._contentLeft=E.contentLeft,this._contentWidth=E.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Ye.L(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let s=!1;const u=new Set;for(const ee of this._selections)u.add(ee.positionLineNumber);const E=Array.from(u);E.sort((ee,Ae)=>ee-Ae),U.aI(this._cursorLineNumbers,E)||(this._cursorLineNumbers=E,s=!0);const $=this._selections.every(ee=>ee.isEmpty());return this._selectionIsEmpty!==$&&(this._selectionIsEmpty=$,s=!0),s}onThemeChanged(s){return this._readFromSelections()}onConfigurationChanged(s){const u=this._context.configuration.options,E=u.get(145);return this._renderLineHighlight=u.get(96),this._renderLineHighlightOnlyWhenFocus=u.get(97),this._wordWrap=E.isViewportWrapping,this._contentLeft=E.contentLeft,this._contentWidth=E.contentWidth,!0}onCursorStateChanged(s){return this._selections=s.selections,this._readFromSelections()}onFlushed(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return s.scrollWidthChanged||s.scrollTopChanged}onZonesChanged(s){return!0}onFocusChanged(s){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=s.isFocused,!0)}prepareRender(s){if(!this._shouldRenderThis())return void(this._renderData=null);const u=s.visibleRange.startLineNumber,E=s.visibleRange.endLineNumber,$=[];for(let Ae=u;Ae<=E;Ae++)$[Ae-u]="";if(this._wordWrap){const Ae=this._renderOne(s,!1);for(const Be of this._cursorLineNumbers){const et=this._context.viewModel.coordinatesConverter,gt=et.convertViewPositionToModelPosition(new Ce.y(Be,1)).lineNumber,xt=et.convertModelPositionToViewPosition(new Ce.y(gt,1)).lineNumber,Kt=et.convertModelPositionToViewPosition(new Ce.y(gt,this._context.viewModel.model.getLineMaxColumn(gt))).lineNumber,Qt=Math.max(xt,u),rn=Math.min(Kt,E);for(let Dn=Qt;Dn<=rn;Dn++)$[Dn-u]=Ae}}const ee=this._renderOne(s,!0);for(const Ae of this._cursorLineNumbers)Ae<u||Ae>E||($[Ae-u]=ee);this._renderData=$}render(s,u){if(!this._renderData)return"";const E=u-s;return E>=this._renderData.length?"":this._renderData[E]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Jn extends xn{_renderOne(s,u){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(u?" current-line-exact":"")}" style="width:${Math.max(s.scrollWidth,this._contentWidth)}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class pi extends xn{_renderOne(s,u){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&u?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,pt.zy)((Lt,s)=>{const u=Lt.getColor(ct.kG);if(u&&(s.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${u}; }`),s.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${u}; border: none; }`)),!u||u.isTransparent()||Lt.defines(ct.Mf)){const E=Lt.getColor(ct.Mf);E&&(s.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${E}; }`),s.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${E}; }`),(0,Zt.Bb)(Lt.type)&&(s.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),s.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}});var Ti=t(83093),Ni={};Ni.styleTagTransform=N(),Ni.setAttributes=T(),Ni.insert=p().bind(null,"head"),Ni.domAPI=l(),Ni.insertStyleElement=k(),d()(Ti.A,Ni);class vi extends Pn{constructor(s){super(),this._context=s,this._typicalHalfwidthCharacterWidth=this._context.configuration.options.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(s){return this._typicalHalfwidthCharacterWidth=this._context.configuration.options.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLinesChanged(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return s.scrollTopChanged||s.scrollWidthChanged}onZonesChanged(s){return!0}prepareRender(s){const u=s.getDecorationsInViewport();let E=[],$=0;for(let et=0,gt=u.length;et<gt;et++){const xt=u[et];xt.options.className&&(E[$++]=xt)}E=E.sort((et,gt)=>{if(et.options.zIndex<gt.options.zIndex)return-1;if(et.options.zIndex>gt.options.zIndex)return 1;const xt=et.options.className,Kt=gt.options.className;return xt<Kt?-1:xt>Kt?1:Ne.Q.compareRangesUsingStarts(et.range,gt.range)});const ee=s.visibleRange.startLineNumber,Ae=s.visibleRange.endLineNumber,Be=[];for(let et=ee;et<=Ae;et++)Be[et-ee]="";this._renderWholeLineDecorations(s,E,Be),this._renderNormalDecorations(s,E,Be),this._renderResult=Be}_renderWholeLineDecorations(s,u,E){const $=s.visibleRange.startLineNumber,ee=s.visibleRange.endLineNumber;for(let Ae=0,Be=u.length;Ae<Be;Ae++){const et=u[Ae];if(!et.options.isWholeLine)continue;const gt='<div class="cdr '+et.options.className+'" style="left:0;width:100%;"></div>',xt=Math.max(et.range.startLineNumber,$),Kt=Math.min(et.range.endLineNumber,ee);for(let Qt=xt;Qt<=Kt;Qt++)E[Qt-$]+=gt}}_renderNormalDecorations(s,u,E){var $;const ee=s.visibleRange.startLineNumber;let Ae=null,Be=!1,et=null,gt=!1;for(let xt=0,Kt=u.length;xt<Kt;xt++){const Qt=u[xt];if(Qt.options.isWholeLine)continue;const rn=Qt.options.className,Dn=!!Qt.options.showIfCollapsed;let Ln=Qt.range;Dn&&1===Ln.endColumn&&Ln.endLineNumber!==Ln.startLineNumber&&(Ln=new Ne.Q(Ln.startLineNumber,Ln.startColumn,Ln.endLineNumber-1,this._context.viewModel.getLineMaxColumn(Ln.endLineNumber-1))),Ae===rn&&Be===Dn&&Ne.Q.areIntersectingOrTouching(et,Ln)?et=Ne.Q.plusRange(et,Ln):(null!==Ae&&this._renderNormalDecoration(s,et,Ae,gt,Be,ee,E),Ae=rn,Be=Dn,et=Ln,gt=null!==($=Qt.options.shouldFillLineOnLineBreak)&&void 0!==$&&$)}null!==Ae&&this._renderNormalDecoration(s,et,Ae,gt,Be,ee,E)}_renderNormalDecoration(s,u,E,$,ee,Ae,Be){const et=s.linesVisibleRangesForRange(u,"findMatch"===E);if(et)for(let gt=0,xt=et.length;gt<xt;gt++){const Kt=et[gt];if(Kt.outsideRenderedLine)continue;const Qt=Kt.lineNumber-Ae;if(ee&&1===Kt.ranges.length){const rn=Kt.ranges[0];if(rn.width<this._typicalHalfwidthCharacterWidth){const Dn=Math.round(rn.left+rn.width/2),Ln=Math.max(0,Math.round(Dn-this._typicalHalfwidthCharacterWidth/2));Kt.ranges[0]=new Et.Y(Ln,this._typicalHalfwidthCharacterWidth)}}for(let rn=0,Dn=Kt.ranges.length;rn<Dn;rn++){const Ln=$&&Kt.continuesOnNextLine&&1===Dn,Fn=Kt.ranges[rn],qn='<div class="cdr '+E+'" style="left:'+String(Fn.left)+"px;width:"+(Ln?"100%;":String(Fn.width)+"px;")+'"></div>';Be[Qt]+=qn}}}render(s,u){if(!this._renderResult)return"";const E=u-s;return E<0||E>=this._renderResult.length?"":this._renderResult[E]}}class Gi extends le{constructor(s,u,E,$){super(s);const ee=this._context.configuration.options,Ae=ee.get(103),Be=ee.get(75),et=ee.get(40),gt=ee.get(106),xt={listenOnDomNode:E.domNode,className:"editor-scrollable "+(0,pt.Pz)(s.theme.type),useShadows:!1,lazyRender:!0,vertical:Ae.vertical,horizontal:Ae.horizontal,verticalHasArrows:Ae.verticalHasArrows,horizontalHasArrows:Ae.horizontalHasArrows,verticalScrollbarSize:Ae.verticalScrollbarSize,verticalSliderSize:Ae.verticalSliderSize,horizontalScrollbarSize:Ae.horizontalScrollbarSize,horizontalSliderSize:Ae.horizontalSliderSize,handleMouseWheel:Ae.handleMouseWheel,alwaysConsumeMouseWheel:Ae.alwaysConsumeMouseWheel,arrowSize:Ae.arrowSize,mouseWheelScrollSensitivity:Be,fastScrollSensitivity:et,scrollPredominantAxis:gt,scrollByPage:Ae.scrollByPage};this.scrollbar=this._register(new st.oO(u.domNode,xt,this._context.viewLayout.getScrollable())),Ee.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=(0,$e.Z)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const Kt=(Qt,rn,Dn)=>{const Ln={};if(rn){const Fn=Qt.scrollTop;Fn&&(Ln.scrollTop=this._context.viewLayout.getCurrentScrollTop()+Fn,Qt.scrollTop=0)}if(Dn){const Fn=Qt.scrollLeft;Fn&&(Ln.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+Fn,Qt.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(Ln,1)};this._register(b.ko(E.domNode,"scroll",Qt=>Kt(E.domNode,!0,!0))),this._register(b.ko(u.domNode,"scroll",Qt=>Kt(u.domNode,!0,!1))),this._register(b.ko($.domNode,"scroll",Qt=>Kt($.domNode,!0,!1))),this._register(b.ko(this.scrollbarDomNode.domNode,"scroll",Qt=>Kt(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const s=this._context.configuration.options,u=s.get(145);this.scrollbarDomNode.setLeft(u.contentLeft),"right"===s.get(73).side?this.scrollbarDomNode.setWidth(u.contentWidth+u.minimap.minimapWidth):this.scrollbarDomNode.setWidth(u.contentWidth),this.scrollbarDomNode.setHeight(u.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(s){this.scrollbar.delegateVerticalScrollbarPointerDown(s)}delegateScrollFromMouseWheelEvent(s){this.scrollbar.delegateScrollFromMouseWheelEvent(s)}onConfigurationChanged(s){if(s.hasChanged(103)||s.hasChanged(75)||s.hasChanged(40)){const u=this._context.configuration.options,E=u.get(103),$=u.get(75),ee=u.get(40),Ae=u.get(106);this.scrollbar.updateOptions({vertical:E.vertical,horizontal:E.horizontal,verticalScrollbarSize:E.verticalScrollbarSize,horizontalScrollbarSize:E.horizontalScrollbarSize,scrollByPage:E.scrollByPage,handleMouseWheel:E.handleMouseWheel,mouseWheelScrollSensitivity:$,fastScrollSensitivity:ee,scrollPredominantAxis:Ae})}return s.hasChanged(145)&&this._setLayout(),!0}onScrollChanged(s){return!0}onThemeChanged(s){return this.scrollbar.updateClassName("editor-scrollable "+(0,pt.Pz)(this._context.theme.type)),!0}prepareRender(s){}render(s){this.scrollbar.renderNow()}}var Ui=t(98081),Mi={};Mi.styleTagTransform=N(),Mi.setAttributes=T(),Mi.insert=p().bind(null,"head"),Mi.domAPI=l(),Mi.insertStyleElement=k(),d()(Ui.A,Mi);var B=t(63782);class re{constructor(s,u,E,$,ee){this.startLineNumber=s,this.endLineNumber=u,this.className=E,this.tooltip=$,this._decorationToRenderBrand=void 0,this.zIndex=ee??0}}class Le{constructor(s,u,E){this.className=s,this.zIndex=u,this.tooltip=E}}class Pe{constructor(){this.decorations=[]}add(s){this.decorations.push(s)}getDecorations(){return this.decorations}}class fe extends Pn{_render(s,u,E){const $=[];for(let Be=s;Be<=u;Be++)$[Be-s]=new Pe;if(0===E.length)return $;E.sort((Be,et)=>Be.className===et.className?Be.startLineNumber===et.startLineNumber?Be.endLineNumber-et.endLineNumber:Be.startLineNumber-et.startLineNumber:Be.className<et.className?-1:1);let ee=null,Ae=0;for(let Be=0,et=E.length;Be<et;Be++){const gt=E[Be],xt=gt.className,Kt=gt.zIndex;let Qt=Math.max(gt.startLineNumber,s)-s;const rn=Math.min(gt.endLineNumber,u)-s;ee===xt?(Qt=Math.max(Ae+1,Qt),Ae=Math.max(Ae,rn)):(ee=xt,Ae=rn);for(let Dn=Qt;Dn<=Ae;Dn++)$[Dn].add(new Le(xt,Kt,gt.tooltip))}return $}}class Te extends le{constructor(s){super(s),this._widgets={},this._context=s;const u=this._context.configuration.options,E=u.get(145);this.domNode=(0,$e.Z)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=u.get(67),this._glyphMargin=u.get(57),this._glyphMarginLeft=E.glyphMarginLeft,this._glyphMarginWidth=E.glyphMarginWidth,this._glyphMarginDecorationLaneCount=E.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(s){const u=this._context.configuration.options,E=u.get(145);return this._lineHeight=u.get(67),this._glyphMargin=u.get(57),this._glyphMarginLeft=E.glyphMarginLeft,this._glyphMarginWidth=E.glyphMarginWidth,this._glyphMarginDecorationLaneCount=E.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLinesChanged(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return s.scrollTopChanged}onZonesChanged(s){return!0}addWidget(s){const u=(0,$e.Z)(s.getDomNode());this._widgets[s.getId()]={widget:s,preference:s.getPosition(),domNode:u,renderInfo:null},u.setPosition("absolute"),u.setDisplay("none"),u.setAttribute("widgetId",s.getId()),this.domNode.appendChild(u),this.setShouldRender()}setWidgetPosition(s,u){const E=this._widgets[s.getId()];return!(E.preference.lane===u.lane&&E.preference.zIndex===u.zIndex&&Ne.Q.equalsRange(E.preference.range,u.range)||(E.preference=u,this.setShouldRender(),0))}removeWidget(s){var u;const E=s.getId();if(this._widgets[E]){const ee=this._widgets[E].domNode.domNode;delete this._widgets[E],null===(u=ee.parentNode)||void 0===u||u.removeChild(ee),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(s,u){var E,$,ee;const Ae=s.visibleRange.startLineNumber,Be=s.visibleRange.endLineNumber,et=s.getDecorationsInViewport();for(const gt of et){const xt=gt.options.glyphMarginClassName;if(!xt)continue;const Kt=Math.max(gt.range.startLineNumber,Ae),Qt=Math.min(gt.range.endLineNumber,Be),rn=null!==($=null===(E=gt.options.glyphMargin)||void 0===E?void 0:E.position)&&void 0!==$?$:B.ZS.Center,Dn=null!==(ee=gt.options.zIndex)&&void 0!==ee?ee:0;for(let Ln=Kt;Ln<=Qt;Ln++){const Fn=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ce.y(Ln,0)),qn=this._context.viewModel.glyphLanes.getLanesAtLine(Fn.lineNumber).indexOf(rn);u.push(new ze(Ln,qn,Dn,xt))}}}_collectWidgetBasedGlyphRenderRequest(s,u){const E=s.visibleRange.startLineNumber,$=s.visibleRange.endLineNumber;for(const ee of Object.values(this._widgets)){const Ae=ee.preference.range,{startLineNumber:Be,endLineNumber:et}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(Ne.Q.lift(Ae));if(!Be||!et||et<E||Be>$)continue;const gt=Math.max(Be,E),xt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ce.y(gt,0)),Kt=this._context.viewModel.glyphLanes.getLanesAtLine(xt.lineNumber).indexOf(ee.preference.lane);u.push(new Xe(gt,Kt,ee.preference.zIndex,ee))}}_collectSortedGlyphRenderRequests(s){const u=[];return this._collectDecorationBasedGlyphRenderRequest(s,u),this._collectWidgetBasedGlyphRenderRequest(s,u),u.sort((E,$)=>E.lineNumber===$.lineNumber?E.laneIndex===$.laneIndex?E.zIndex===$.zIndex?$.type===E.type?0===E.type&&0===$.type?E.className<$.className?-1:1:0:$.type-E.type:$.zIndex-E.zIndex:E.laneIndex-$.laneIndex:E.lineNumber-$.lineNumber),u}prepareRender(s){if(!this._glyphMargin)return void(this._decorationGlyphsToRender=[]);for(const $ of Object.values(this._widgets))$.renderInfo=null;const u=new U.j3(this._collectSortedGlyphRenderRequests(s)),E=[];for(;u.length>0;){const $=u.peek();if(!$)break;const ee=u.takeWhile(Be=>Be.lineNumber===$.lineNumber&&Be.laneIndex===$.laneIndex);if(!ee||0===ee.length)break;const Ae=ee[0];if(0===Ae.type){const Be=[];for(const et of ee){if(et.zIndex!==Ae.zIndex||et.type!==Ae.type)break;(0===Be.length||Be[Be.length-1]!==et.className)&&Be.push(et.className)}E.push(Ae.accept(Be.join(" ")))}else Ae.widget.renderInfo={lineNumber:Ae.lineNumber,laneIndex:Ae.laneIndex}}this._decorationGlyphsToRender=E}render(s){if(!this._glyphMargin){for(const E of Object.values(this._widgets))E.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const E=this._managedDomNodes.pop();E?.domNode.remove()}return}const u=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const E of Object.values(this._widgets))if(E.renderInfo){const $=s.viewportData.relativeVerticalOffset[E.renderInfo.lineNumber-s.viewportData.startLineNumber],ee=this._glyphMarginLeft+E.renderInfo.laneIndex*this._lineHeight;E.domNode.setDisplay("block"),E.domNode.setTop($),E.domNode.setLeft(ee),E.domNode.setWidth(u),E.domNode.setHeight(this._lineHeight)}else E.domNode.setDisplay("none");for(let E=0;E<this._decorationGlyphsToRender.length;E++){const $=this._decorationGlyphsToRender[E],ee=s.viewportData.relativeVerticalOffset[$.lineNumber-s.viewportData.startLineNumber],Ae=this._glyphMarginLeft+$.laneIndex*this._lineHeight;let Be;E<this._managedDomNodes.length?Be=this._managedDomNodes[E]:(Be=(0,$e.Z)(document.createElement("div")),this._managedDomNodes.push(Be),this.domNode.appendChild(Be)),Be.setClassName("cgmr codicon "+$.combinedClassName),Be.setPosition("absolute"),Be.setTop(ee),Be.setLeft(Ae),Be.setWidth(u),Be.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const E=this._managedDomNodes.pop();E?.domNode.remove()}}}class ze{constructor(s,u,E,$){this.lineNumber=s,this.laneIndex=u,this.zIndex=E,this.className=$,this.type=0}accept(s){return new _t(this.lineNumber,this.laneIndex,s)}}class Xe{constructor(s,u,E,$){this.lineNumber=s,this.laneIndex=u,this.zIndex=E,this.widget=$,this.type=1}}class _t{constructor(s,u,E){this.lineNumber=s,this.laneIndex=u,this.combinedClassName=E}}var It=t(93777),Ot={};Ot.styleTagTransform=N(),Ot.setAttributes=T(),Ot.insert=p().bind(null,"head"),Ot.domAPI=l(),Ot.insertStyleElement=k(),d()(It.A,Ot);var _n=t(66702),vn=t(39899),Cn=t(97078);class Gn extends Pn{constructor(s){super(),this._context=s,this._primaryPosition=null;const u=this._context.configuration.options,E=u.get(146),$=u.get(50);this._spaceWidth=$.spaceWidth,this._maxIndentLeft=-1===E.wrappingColumn?-1:E.wrappingColumn*$.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=u.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(s){const u=this._context.configuration.options,E=u.get(146),$=u.get(50);return this._spaceWidth=$.spaceWidth,this._maxIndentLeft=-1===E.wrappingColumn?-1:E.wrappingColumn*$.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=u.get(16),!0}onCursorStateChanged(s){var u;const $=s.selections[0].getPosition();return!(null!==(u=this._primaryPosition)&&void 0!==u&&u.equals($)||(this._primaryPosition=$,0))}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLinesChanged(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return s.scrollTopChanged}onZonesChanged(s){return!0}onLanguageConfigurationChanged(s){return!0}prepareRender(s){var u,E,$,ee;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const Ae=s.visibleRange.startLineNumber,Be=s.visibleRange.endLineNumber,et=s.scrollWidth,gt=this._primaryPosition,xt=this.getGuidesByLine(Ae,Math.min(Be+1,this._context.viewModel.getLineCount()),gt),Kt=[];for(let Qt=Ae;Qt<=Be;Qt++){const rn=Qt-Ae,Dn=xt[rn];let Ln="";const Fn=null!==(E=null===(u=s.visibleRangeForPosition(new Ce.y(Qt,1)))||void 0===u?void 0:u.left)&&void 0!==E?E:0;for(const qn of Dn){const di=-1===qn.column?Fn+(qn.visibleColumn-1)*this._spaceWidth:s.visibleRangeForPosition(new Ce.y(Qt,qn.column)).left;if(di>et||this._maxIndentLeft>0&&di>this._maxIndentLeft)break;const si=qn.horizontalLine?qn.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",Ci=qn.horizontalLine?(null!==(ee=null===($=s.visibleRangeForPosition(new Ce.y(Qt,qn.horizontalLine.endColumn)))||void 0===$?void 0:$.left)&&void 0!==ee?ee:di+this._spaceWidth)-di:this._spaceWidth;Ln+=`<div class="core-guide ${qn.className} ${si}" style="left:${di}px;width:${Ci}px"></div>`}Kt[rn]=Ln}this._renderResult=Kt}getGuidesByLine(s,u,E){const $=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.viewModel.getBracketGuidesInRangeByLine(s,u,E,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?Cn.N6.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?Cn.N6.EnabledForActive:Cn.N6.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,ee=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(s,u):null;let Ae=0,Be=0,et=0;if(!1!==this._bracketPairGuideOptions.highlightActiveIndentation&&E){const Kt=this._context.viewModel.getActiveIndentGuide(E.lineNumber,s,u);Ae=Kt.startLineNumber,Be=Kt.endLineNumber,et=Kt.indent}const{indentSize:gt}=this._context.viewModel.model.getOptions(),xt=[];for(let Kt=s;Kt<=u;Kt++){const Qt=new Array;xt.push(Qt);const rn=$?$[Kt-s]:[],Dn=new U.j3(rn),Ln=ee?ee[Kt-s]:0;for(let Fn=1;Fn<=Ln;Fn++){const qn=(Fn-1)*gt+1,di=("always"===this._bracketPairGuideOptions.highlightActiveIndentation||0===rn.length)&&Ae<=Kt&&Kt<=Be&&Fn===et;Qt.push(...Dn.takeWhile(Ci=>Ci.visibleColumn<qn)||[]);const si=Dn.peek();(!si||si.visibleColumn!==qn||si.horizontalLine)&&Qt.push(new Cn.TH(qn,-1,"core-guide-indent lvl-"+(Fn-1)%30+(di?" indent-active":""),null,-1,-1))}Qt.push(...Dn.takeWhile(Fn=>!0)||[])}return xt}render(s,u){if(!this._renderResult)return"";const E=u-s;return E<0||E>=this._renderResult.length?"":this._renderResult[E]}}function Yn(Lt){if(!Lt||!Lt.isTransparent())return Lt}(0,pt.zy)((Lt,s)=>{const u=[{bracketColor:ct.sN,guideColor:ct.n4,guideColorActive:ct.bB},{bracketColor:ct.lQ,guideColor:ct.I2,guideColorActive:ct.WS},{bracketColor:ct.ss,guideColor:ct.Bo,guideColorActive:ct.Pe},{bracketColor:ct.l5,guideColor:ct.If,guideColorActive:ct.WD},{bracketColor:ct.sH,guideColor:ct.BD,guideColorActive:ct.P1},{bracketColor:ct.zp,guideColor:ct.IW,guideColorActive:ct.WY}],E=new vn.k,$=[{indentColor:ct.vV,indentColorActive:ct.H0},{indentColor:ct.ob,indentColorActive:ct.Am},{indentColor:ct.hz,indentColorActive:ct.tK},{indentColor:ct.ow,indentColorActive:ct.A3},{indentColor:ct.vP,indentColorActive:ct.tp},{indentColor:ct.CM,indentColorActive:ct.As}],ee=u.map(Be=>{var et,gt;const xt=Lt.getColor(Be.bracketColor),Kt=Lt.getColor(Be.guideColor),Qt=Lt.getColor(Be.guideColorActive),rn=Yn(null!==(et=Yn(Kt))&&void 0!==et?et:xt?.transparent(.3)),Dn=Yn(null!==(gt=Yn(Qt))&&void 0!==gt?gt:xt);if(rn&&Dn)return{guideColor:rn,guideColorActive:Dn}}).filter(_n.O9),Ae=$.map(Be=>{const et=Lt.getColor(Be.indentColor),gt=Lt.getColor(Be.indentColorActive),xt=Yn(et),Kt=Yn(gt);if(xt&&Kt)return{indentColor:xt,indentColorActive:Kt}}).filter(_n.O9);if(ee.length>0){for(let Be=0;Be<30;Be++){const et=ee[Be%ee.length];s.addRule(`.monaco-editor .${E.getInlineClassNameOfLevel(Be).replace(/ /g,".")} { --guide-color: ${et.guideColor}; --guide-color-active: ${et.guideColorActive}; }`)}s.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),s.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),s.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),s.addRule(`.monaco-editor .vertical.${E.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),s.addRule(`.monaco-editor .horizontal-top.${E.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),s.addRule(`.monaco-editor .horizontal-bottom.${E.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(Ae.length>0){for(let Be=0;Be<30;Be++){const et=Ae[Be%Ae.length];s.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${Be} { --indent-color: ${et.indentColor}; --indent-color-active: ${et.indentColorActive}; }`)}s.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),s.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}});var Xn=t(86671),_i=t(65876),Si={};Si.styleTagTransform=N(),Si.setAttributes=T(),Si.insert=p().bind(null,"head"),Si.domAPI=l(),Si.insertStyleElement=k(),d()(_i.A,Si);class xi{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const s=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=s.left,this._clientRectScale=s.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(s,u){this._domNode=s,this.endNode=u,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class Vn{constructor(){this._currentVisibleRange=new Ne.Q(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(s){this._currentVisibleRange=s}}class ri{constructor(s,u,E,$,ee,Ae,Be){this.minimalReveal=s,this.lineNumber=u,this.startColumn=E,this.endColumn=$,this.startScrollTop=ee,this.stopScrollTop=Ae,this.scrollType=Be,this.type="range",this.minLineNumber=u,this.maxLineNumber=u}}class ki{constructor(s,u,E,$,ee){this.minimalReveal=s,this.selections=u,this.startScrollTop=E,this.stopScrollTop=$,this.scrollType=ee,this.type="selections";let Ae=u[0].startLineNumber,Be=u[0].endLineNumber;for(let et=1,gt=u.length;et<gt;et++){const xt=u[et];Ae=Math.min(Ae,xt.startLineNumber),Be=Math.max(Be,xt.endLineNumber)}this.minLineNumber=Ae,this.maxLineNumber=Be}}let go=(()=>{class Lt extends le{constructor(u,E){super(u),this._linesContent=E,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new mi(this),this.domNode=this._visibleLines.domNode;const $=this._context.configuration,ee=this._context.configuration.options,Ae=ee.get(50),Be=ee.get(146);this._lineHeight=ee.get(67),this._typicalHalfwidthCharacterWidth=Ae.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Be.isViewportWrapping,this._revealHorizontalRightPadding=ee.get(100),this._cursorSurroundingLines=ee.get(29),this._cursorSurroundingLinesStyle=ee.get(30),this._canUseLayerHinting=!ee.get(32),this._viewLineOptions=new be.Ax($,this._context.theme.type),Ee.write(this.domNode,8),this.domNode.setClassName(`view-lines ${mn}`),(0,te.M)(this.domNode,Ae),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Xn.uC(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Xn.uC(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new Vn,this._horizontalRevealRequest=null,this._stickyScrollEnabled=ee.get(115).enabled,this._maxNumberStickyLines=ee.get(115).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new be.Gb(this._viewLineOptions)}onConfigurationChanged(u){this._visibleLines.onConfigurationChanged(u),u.hasChanged(146)&&(this._maxLineWidth=0);const E=this._context.configuration.options,$=E.get(50),ee=E.get(146);return this._lineHeight=E.get(67),this._typicalHalfwidthCharacterWidth=$.typicalHalfwidthCharacterWidth,this._isViewportWrapping=ee.isViewportWrapping,this._revealHorizontalRightPadding=E.get(100),this._cursorSurroundingLines=E.get(29),this._cursorSurroundingLinesStyle=E.get(30),this._canUseLayerHinting=!E.get(32),this._stickyScrollEnabled=E.get(115).enabled,this._maxNumberStickyLines=E.get(115).maxLineCount,(0,te.M)(this.domNode,$),this._onOptionsMaybeChanged(),u.hasChanged(145)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const E=new be.Ax(this._context.configuration,this._context.theme.type);if(!this._viewLineOptions.equals(E)){this._viewLineOptions=E;const $=this._visibleLines.getStartLineNumber(),ee=this._visibleLines.getEndLineNumber();for(let Ae=$;Ae<=ee;Ae++)this._visibleLines.getVisibleLine(Ae).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(u){const E=this._visibleLines.getStartLineNumber(),$=this._visibleLines.getEndLineNumber();let ee=!1;for(let Ae=E;Ae<=$;Ae++)ee=this._visibleLines.getVisibleLine(Ae).onSelectionChanged()||ee;return ee}onDecorationsChanged(u){{const E=this._visibleLines.getStartLineNumber(),$=this._visibleLines.getEndLineNumber();for(let ee=E;ee<=$;ee++)this._visibleLines.getVisibleLine(ee).onDecorationsChanged()}return!0}onFlushed(u){const E=this._visibleLines.onFlushed(u);return this._maxLineWidth=0,E}onLinesChanged(u){return this._visibleLines.onLinesChanged(u)}onLinesDeleted(u){return this._visibleLines.onLinesDeleted(u)}onLinesInserted(u){return this._visibleLines.onLinesInserted(u)}onRevealRangeRequest(u){const E=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),u.source,u.minimalReveal,u.range,u.selections,u.verticalType);if(-1===E)return!1;let $=this._context.viewLayout.validateScrollPosition({scrollTop:E});u.revealHorizontal?u.range&&u.range.startLineNumber!==u.range.endLineNumber?$={scrollTop:$.scrollTop,scrollLeft:0}:u.range?this._horizontalRevealRequest=new ri(u.minimalReveal,u.range.startLineNumber,u.range.startColumn,u.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),$.scrollTop,u.scrollType):u.selections&&u.selections.length>0&&(this._horizontalRevealRequest=new ki(u.minimalReveal,u.selections,this._context.viewLayout.getCurrentScrollTop(),$.scrollTop,u.scrollType)):this._horizontalRevealRequest=null;const Ae=Math.abs(this._context.viewLayout.getCurrentScrollTop()-$.scrollTop)<=this._lineHeight?1:u.scrollType;return this._context.viewModel.viewLayout.setScrollPosition($,Ae),!0}onScrollChanged(u){if(this._horizontalRevealRequest&&u.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&u.scrollTopChanged){const E=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),$=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(u.scrollTop<E||u.scrollTop>$)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(u.scrollWidth),this._visibleLines.onScrollChanged(u)||!0}onTokensChanged(u){return this._visibleLines.onTokensChanged(u)}onZonesChanged(u){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(u)}onThemeChanged(u){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(u,E){const $=this._getViewLineDomNode(u);if(null===$)return null;const ee=this._getLineNumberFor($);if(-1===ee||ee<1||ee>this._context.viewModel.getLineCount())return null;if(1===this._context.viewModel.getLineMaxColumn(ee))return new Ce.y(ee,1);const Ae=this._visibleLines.getStartLineNumber(),Be=this._visibleLines.getEndLineNumber();if(ee<Ae||ee>Be)return null;let et=this._visibleLines.getVisibleLine(ee).getColumnOfNodeOffset(u,E);const gt=this._context.viewModel.getLineMinColumn(ee);return et<gt&&(et=gt),new Ce.y(ee,et)}_getViewLineDomNode(u){for(;u&&1===u.nodeType;){if(u.className===be.Gb.CLASS_NAME)return u;u=u.parentElement}return null}_getLineNumberFor(u){const E=this._visibleLines.getStartLineNumber(),$=this._visibleLines.getEndLineNumber();for(let ee=E;ee<=$;ee++)if(u===this._visibleLines.getVisibleLine(ee).getDomNode())return ee;return-1}getLineWidth(u){const E=this._visibleLines.getStartLineNumber(),$=this._visibleLines.getEndLineNumber();if(u<E||u>$)return-1;const ee=new xi(this.domNode.domNode,this._textRangeRestingSpot),Ae=this._visibleLines.getVisibleLine(u).getWidth(ee);return this._updateLineWidthsSlowIfDomDidLayout(ee),Ae}linesVisibleRangesForRange(u,E){if(this.shouldRender())return null;const $=u.endLineNumber,ee=Ne.Q.intersectRanges(u,this._lastRenderedData.getCurrentVisibleRange());if(!ee)return null;const Ae=[];let Be=0;const et=new xi(this.domNode.domNode,this._textRangeRestingSpot);let gt=0;E&&(gt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ce.y(ee.startLineNumber,1)).lineNumber);const xt=this._visibleLines.getStartLineNumber(),Kt=this._visibleLines.getEndLineNumber();for(let Qt=ee.startLineNumber;Qt<=ee.endLineNumber;Qt++){if(Qt<xt||Qt>Kt)continue;const rn=Qt===ee.startLineNumber?ee.startColumn:1,Dn=Qt!==ee.endLineNumber,Ln=Dn?this._context.viewModel.getLineMaxColumn(Qt):ee.endColumn,Fn=this._visibleLines.getVisibleLine(Qt).getVisibleRangesForRange(Qt,rn,Ln,et);if(Fn){if(E&&Qt<$){const qn=gt;gt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Ce.y(Qt+1,1)).lineNumber,qn!==gt&&(Fn.ranges[Fn.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}Ae[Be++]=new Et.BG(Fn.outsideRenderedLine,Qt,Et.Y.from(Fn.ranges),Dn)}}return this._updateLineWidthsSlowIfDomDidLayout(et),0===Be?null:Ae}_visibleRangesForLineRange(u,E,$){if(this.shouldRender()||u<this._visibleLines.getStartLineNumber()||u>this._visibleLines.getEndLineNumber())return null;const ee=new xi(this.domNode.domNode,this._textRangeRestingSpot),Ae=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(u,E,$,ee);return this._updateLineWidthsSlowIfDomDidLayout(ee),Ae}visibleRangeForPosition(u){const E=this._visibleRangesForLineRange(u.lineNumber,u.column,u.column);return E?new Et.qN(E.outsideRenderedLine,E.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(u){u.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(u){const E=this._visibleLines.getStartLineNumber(),$=this._visibleLines.getEndLineNumber();let ee=1,Ae=!0;for(let Be=E;Be<=$;Be++){const et=this._visibleLines.getVisibleLine(Be);!u||et.getWidthIsFast()?ee=Math.max(ee,et.getWidth(null)):Ae=!1}return Ae&&1===E&&$===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(ee),Ae}_checkMonospaceFontAssumptions(){let u=-1,E=-1;const $=this._visibleLines.getStartLineNumber(),ee=this._visibleLines.getEndLineNumber();for(let Ae=$;Ae<=ee;Ae++){const Be=this._visibleLines.getVisibleLine(Ae);if(Be.needsMonospaceFontCheck()){const et=Be.getWidth(null);et>E&&(E=et,u=Ae)}}if(-1!==u&&!this._visibleLines.getVisibleLine(u).monospaceAssumptionsAreValid())for(let Ae=$;Ae<=ee;Ae++)this._visibleLines.getVisibleLine(Ae).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(u){if(this._visibleLines.renderLines(u),this._lastRenderedData.setCurrentVisibleRange(u.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const $=this._horizontalRevealRequest;if(u.startLineNumber<=$.minLineNumber&&$.maxLineNumber<=u.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const ee=this._computeScrollLeftToReveal($);ee&&(this._isViewportWrapping||this._ensureMaxLineWidth(ee.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:ee.scrollLeft},$.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),R.j9&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const $=this._visibleLines.getStartLineNumber(),ee=this._visibleLines.getEndLineNumber();for(let Ae=$;Ae<=ee;Ae++)if(this._visibleLines.getVisibleLine(Ae).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const E=this._context.viewLayout.getCurrentScrollTop()-u.bigNumbersDelta;this._linesContent.setTop(-E),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(u){const E=Math.ceil(u);this._maxLineWidth<E&&(this._maxLineWidth=E,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(u,E,$,ee,Ae,Be){const et=u.top,gt=u.height,xt=et+gt;let Kt,Qt,rn;if(Ae&&Ae.length>0){let di=Ae[0].startLineNumber,si=Ae[0].endLineNumber;for(let Ci=1,Bi=Ae.length;Ci<Bi;Ci++){const Oi=Ae[Ci];di=Math.min(di,Oi.startLineNumber),si=Math.max(si,Oi.endLineNumber)}Kt=!1,Qt=this._context.viewLayout.getVerticalOffsetForLineNumber(di),rn=this._context.viewLayout.getVerticalOffsetForLineNumber(si)+this._lineHeight}else{if(!ee)return-1;Kt=!0,Qt=this._context.viewLayout.getVerticalOffsetForLineNumber(ee.startLineNumber),rn=this._context.viewLayout.getVerticalOffsetForLineNumber(ee.endLineNumber)+this._lineHeight}let qn,Ln=0,Fn=0;if("mouse"!==E&&!$||"default"!==this._cursorSurroundingLinesStyle){const di=Math.min(gt/this._lineHeight/2,this._cursorSurroundingLines);Ln=this._stickyScrollEnabled?Math.max(di,this._maxNumberStickyLines)*this._lineHeight:di*this._lineHeight,Fn=Math.max(0,di-1)*this._lineHeight}else $||(Ln=this._lineHeight);if($||(0===Be||4===Be)&&(Fn+=this._lineHeight),Qt-=Ln,rn+=Fn,rn-Qt>gt){if(!Kt)return-1;qn=Qt}else if(5===Be||6===Be)if(6===Be&&et<=Qt&&rn<=xt)qn=et;else{const di=Math.max(5*this._lineHeight,.2*gt);qn=Math.max(rn-gt,Qt-di)}else qn=1===Be||2===Be?2===Be&&et<=Qt&&rn<=xt?et:Math.max(0,(Qt+rn)/2-gt/2):this._computeMinimumScrolling(et,xt,Qt,rn,3===Be,4===Be);return qn}_computeScrollLeftToReveal(u){const E=this._context.viewLayout.getCurrentViewport(),$=this._context.configuration.options.get(145),ee=E.left,Ae=ee+E.width-$.verticalScrollbarWidth;let Be=1073741824,et=0;if("range"===u.type){const xt=this._visibleRangesForLineRange(u.lineNumber,u.startColumn,u.endColumn);if(!xt)return null;for(const Kt of xt.ranges)Be=Math.min(Be,Math.round(Kt.left)),et=Math.max(et,Math.round(Kt.left+Kt.width))}else for(const xt of u.selections){if(xt.startLineNumber!==xt.endLineNumber)return null;const Kt=this._visibleRangesForLineRange(xt.startLineNumber,xt.startColumn,xt.endColumn);if(!Kt)return null;for(const Qt of Kt.ranges)Be=Math.min(Be,Math.round(Qt.left)),et=Math.max(et,Math.round(Qt.left+Qt.width))}return u.minimalReveal||(Be=Math.max(0,Be-Lt.HORIZONTAL_EXTRA_PX),et+=this._revealHorizontalRightPadding),"selections"===u.type&&et-Be>E.width?null:{scrollLeft:this._computeMinimumScrolling(ee,Ae,Be,et),maxHorizontalOffset:et}}_computeMinimumScrolling(u,E,$,ee,Ae,Be){Ae=!!Ae,Be=!!Be;const et=(E|=0)-(u|=0);return(ee|=0)-($|=0)<et?Ae?$:Be?Math.max(0,ee-et):$<u?$:ee>E?Math.max(0,ee-et):u:$}}return Lt.HORIZONTAL_EXTRA_PX=30,Lt})();var io=t(57375),Wo={};Wo.styleTagTransform=N(),Wo.setAttributes=T(),Wo.insert=p().bind(null,"head"),Wo.domAPI=l(),Wo.insertStyleElement=k(),d()(io.A,Wo);class ts extends fe{constructor(s){super(),this._context=s;const E=this._context.configuration.options.get(145);this._decorationsLeft=E.decorationsLeft,this._decorationsWidth=E.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(s){const E=this._context.configuration.options.get(145);return this._decorationsLeft=E.decorationsLeft,this._decorationsWidth=E.decorationsWidth,!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLinesChanged(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return s.scrollTopChanged}onZonesChanged(s){return!0}_getDecorations(s){var u,E;const $=s.getDecorationsInViewport(),ee=[];let Ae=0;for(let Be=0,et=$.length;Be<et;Be++){const gt=$[Be],xt=gt.options.linesDecorationsClassName,Kt=gt.options.zIndex;xt&&(ee[Ae++]=new re(gt.range.startLineNumber,gt.range.endLineNumber,xt,null!==(u=gt.options.linesDecorationsTooltip)&&void 0!==u?u:null,Kt));const Qt=gt.options.firstLineDecorationClassName;Qt&&(ee[Ae++]=new re(gt.range.startLineNumber,gt.range.startLineNumber,Qt,null!==(E=gt.options.linesDecorationsTooltip)&&void 0!==E?E:null,Kt))}return ee}prepareRender(s){const u=s.visibleRange.startLineNumber,E=s.visibleRange.endLineNumber,$=this._render(u,E,this._getDecorations(s)),Be='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',et=[];for(let gt=u;gt<=E;gt++){const xt=gt-u,Kt=$[xt].getDecorations();let Qt="";for(const rn of Kt){let Dn='<div class="cldr '+rn.className;null!==rn.tooltip&&(Dn+='" title="'+rn.tooltip),Dn+=Be,Qt+=Dn}et[xt]=Qt}this._renderResult=et}render(s,u){return this._renderResult?this._renderResult[u-s]:""}}var vo=t(73313),Fo={};Fo.styleTagTransform=N(),Fo.setAttributes=T(),Fo.insert=p().bind(null,"head"),Fo.domAPI=l(),Fo.insertStyleElement=k(),d()(vo.A,Fo);class Vo extends fe{constructor(s){super(),this._context=s,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(s){return!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLinesChanged(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return s.scrollTopChanged}onZonesChanged(s){return!0}_getDecorations(s){const u=s.getDecorationsInViewport(),E=[];let $=0;for(let ee=0,Ae=u.length;ee<Ae;ee++){const Be=u[ee],et=Be.options.marginClassName;et&&(E[$++]=new re(Be.range.startLineNumber,Be.range.endLineNumber,et,null,Be.options.zIndex))}return E}prepareRender(s){const u=s.visibleRange.startLineNumber,E=s.visibleRange.endLineNumber,$=this._render(u,E,this._getDecorations(s)),ee=[];for(let Ae=u;Ae<=E;Ae++){const Be=Ae-u,et=$[Be].getDecorations();let gt="";for(const xt of et)gt+='<div class="cmdr '+xt.className+'" style=""></div>';ee[Be]=gt}this._renderResult=ee}render(s,u){return this._renderResult?this._renderResult[u-s]:""}}var To=t(36493),co={};co.styleTagTransform=N(),co.setAttributes=T(),co.insert=p().bind(null,"head"),co.domAPI=l(),co.insertStyleElement=k(),d()(To.A,co);var is=t(32945);class $o{constructor(s,u,E,$){this._rgba8Brand=void 0,this.r=$o._clamp(s),this.g=$o._clamp(u),this.b=$o._clamp(E),this.a=$o._clamp($)}equals(s){return this.r===s.r&&this.g===s.g&&this.b===s.b&&this.a===s.a}static _clamp(s){return s<0?0:s>255?255:0|s}}$o.Empty=new $o(0,0,0,0);let qr=(()=>{class Lt extends v.jG{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,v.lC)(new Lt)),this._INSTANCE}constructor(){super(),this._onDidChange=new D.vl,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(En.dG.onDidChange(u=>{u.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const u=En.dG.getColorMap();if(!u)return this._colors=[$o.Empty],void(this._backgroundIsLight=!0);this._colors=[$o.Empty];for(let $=1;$<u.length;$++){const ee=u[$].rgba;this._colors[$]=new $o(ee.r,ee.g,ee.b,Math.round(255*ee.a))}const E=u[2].getRelativeLuminance();this._backgroundIsLight=E>=.5,this._onDidChange.fire(void 0)}getColor(u){return(u<1||u>=this._colors.length)&&(u=2),this._colors[u]}backgroundIsLight(){return this._backgroundIsLight}}return Lt._INSTANCE=null,Lt})();var js=t(1905),Lo=t(85478);const ns=(()=>{const Lt=[];for(let s=32;s<=126;s++)Lt.push(s);return Lt.push(65533),Lt})();var Gs=t(94371);class Ds{constructor(s,u){this.scale=u,this._minimapCharRendererBrand=void 0,this.charDataNormal=Ds.soften(s,.8),this.charDataLight=Ds.soften(s,50/60)}static soften(s,u){const E=new Uint8ClampedArray(s.length);for(let $=0,ee=s.length;$<ee;$++)E[$]=(0,Gs.W)(s[$]*u);return E}renderChar(s,u,E,$,ee,Ae,Be,et,gt,xt,Kt){const Qt=1*this.scale,rn=2*this.scale,Dn=Kt?1:rn;if(u+Qt>s.width||E+Dn>s.height)return void console.warn("bad render request outside image data");const Ln=xt?this.charDataLight:this.charDataNormal,Fn=((Lt,s)=>(Lt-=32)<0||Lt>96?s<=2?(Lt+96)%96:95:Lt)($,gt),qn=4*s.width,di=Be.r,si=Be.g,Ci=Be.b,Bi=ee.r-di,Oi=ee.g-si,Xi=ee.b-Ci,Ji=Math.max(Ae,et),no=s.data;let qi=Fn*Qt*rn,oo=E*qn+4*u;for(let Qi=0;Qi<Dn;Qi++){let ro=oo;for(let Qo=0;Qo<Qt;Qo++){const ko=Ln[qi++]/255*(Ae/255);no[ro++]=di+Bi*ko,no[ro++]=si+Oi*ko,no[ro++]=Ci+Xi*ko,no[ro++]=Ji}oo+=qn}}blockRenderChar(s,u,E,$,ee,Ae,Be,et){const gt=1*this.scale,Kt=et?1:2*this.scale;if(u+gt>s.width||E+Kt>s.height)return void console.warn("bad render request outside image data");const Qt=4*s.width,rn=ee/255*.5,Dn=Ae.r,Ln=Ae.g,Fn=Ae.b,Ci=Dn+($.r-Dn)*rn,Bi=Ln+($.g-Ln)*rn,Oi=Fn+($.b-Fn)*rn,Xi=Math.max(ee,Be),Ji=s.data;let no=E*Qt+4*u;for(let qi=0;qi<Kt;qi++){let oo=no;for(let Qi=0;Qi<gt;Qi++)Ji[oo++]=Ci,Ji[oo++]=Bi,Ji[oo++]=Oi,Ji[oo++]=Xi;no+=Qt}}}var ur=t(15018);const ea={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Qs=Lt=>{const s=new Uint8ClampedArray(Lt.length/2);for(let u=0;u<Lt.length;u+=2)s[u>>1]=ea[Lt[u]]<<4|15&ea[Lt[u+1]];return s},Oo={1:(0,ur.P)(()=>Qs("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,ur.P)(()=>Qs("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Uo{static create(s,u){if(this.lastCreated&&s===this.lastCreated.scale&&u===this.lastFontFamily)return this.lastCreated;let E;return E=Oo[s]?new Ds(Oo[s](),s):Uo.createFromSampleData(Uo.createSampleData(u).data,s),this.lastFontFamily=u,this.lastCreated=E,E}static createSampleData(s){const u=document.createElement("canvas"),E=u.getContext("2d");u.style.height="16px",u.height=16,u.width=960,u.style.width="960px",E.fillStyle="#ffffff",E.font=`bold 16px ${s}`,E.textBaseline="middle";let $=0;for(const ee of ns)E.fillText(String.fromCharCode(ee),$,8),$+=10;return E.getImageData(0,0,960,16)}static createFromSampleData(s,u){if(61440!==s.length)throw new Error("Unexpected source in MinimapCharRenderer");const $=Uo._downsample(s,u);return new Ds($,u)}static _downsampleChar(s,u,E,$,ee){const Ae=1*ee,Be=2*ee;let et=$,gt=0;for(let xt=0;xt<Be;xt++){const Kt=xt/Be*16,Qt=(xt+1)/Be*16;for(let rn=0;rn<Ae;rn++){const Dn=rn/Ae*10,Ln=(rn+1)/Ae*10;let Fn=0,qn=0;for(let si=Kt;si<Qt;si++){const Ci=u+3840*Math.floor(si),Bi=1-(si-Math.floor(si));for(let Oi=Dn;Oi<Ln;Oi++){const Xi=1-(Oi-Math.floor(Oi)),Ji=Ci+4*Math.floor(Oi),no=Xi*Bi;qn+=no,Fn+=s[Ji]*s[Ji+3]/255*no}}const di=Fn/qn;gt=Math.max(gt,di),E[et++]=(0,Gs.W)(di)}}return gt}static _downsample(s,u){const E=2*u*1*u,$=96*E,ee=new Uint8ClampedArray($);let Ae=0,Be=0,et=0;for(let gt=0;gt<96;gt++)et=Math.max(et,this._downsampleChar(s,Be,ee,Ae,u)),Ae+=E,Be+=40;if(et>0){const gt=255/et;for(let xt=0;xt<$;xt++)ee[xt]*=gt}return ee}}var ir=t(20053);const Hl=R.uF?'"Segoe WPC", "Segoe UI", sans-serif':R.zx?"-apple-system, BlinkMacSystemFont, sans-serif":'system-ui, "Ubuntu", "Droid Sans", sans-serif';class Ys{constructor(s,u,E){const $=s.options,ee=$.get(143),Ae=$.get(145),Be=Ae.minimap,et=$.get(50),gt=$.get(73);this.renderMinimap=Be.renderMinimap,this.size=gt.size,this.minimapHeightIsEditorHeight=Be.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=$.get(105),this.paddingTop=$.get(84).top,this.paddingBottom=$.get(84).bottom,this.showSlider=gt.showSlider,this.autohide=gt.autohide,this.pixelRatio=ee,this.typicalHalfwidthCharacterWidth=et.typicalHalfwidthCharacterWidth,this.lineHeight=$.get(67),this.minimapLeft=Be.minimapLeft,this.minimapWidth=Be.minimapWidth,this.minimapHeight=Ae.height,this.canvasInnerWidth=Be.minimapCanvasInnerWidth,this.canvasInnerHeight=Be.minimapCanvasInnerHeight,this.canvasOuterWidth=Be.minimapCanvasOuterWidth,this.canvasOuterHeight=Be.minimapCanvasOuterHeight,this.isSampling=Be.minimapIsSampling,this.editorHeight=Ae.height,this.fontScale=Be.minimapScale,this.minimapLineHeight=Be.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.sectionHeaderFontFamily=Hl,this.sectionHeaderFontSize=gt.sectionHeaderFontSize*ee,this.sectionHeaderLetterSpacing=gt.sectionHeaderLetterSpacing,this.sectionHeaderFontColor=Ys._getSectionHeaderColor(u,E.getColor(1)),this.charRenderer=(0,ur.P)(()=>Uo.create(this.fontScale,et.fontFamily)),this.defaultBackgroundColor=E.getColor(2),this.backgroundColor=Ys._getMinimapBackground(u,this.defaultBackgroundColor),this.foregroundAlpha=Ys._getMinimapForegroundOpacity(u)}static _getMinimapBackground(s,u){const E=s.getColor(Lo.ILr);return E?new $o(E.rgba.r,E.rgba.g,E.rgba.b,Math.round(255*E.rgba.a)):u}static _getMinimapForegroundOpacity(s){const u=s.getColor(Lo.K1Z);return u?$o._clamp(Math.round(255*u.rgba.a)):255}static _getSectionHeaderColor(s,u){const E=s.getColor(Lo.By2);return E?new $o(E.rgba.r,E.rgba.g,E.rgba.b,Math.round(255*E.rgba.a)):u}equals(s){return this.renderMinimap===s.renderMinimap&&this.size===s.size&&this.minimapHeightIsEditorHeight===s.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===s.scrollBeyondLastLine&&this.paddingTop===s.paddingTop&&this.paddingBottom===s.paddingBottom&&this.showSlider===s.showSlider&&this.autohide===s.autohide&&this.pixelRatio===s.pixelRatio&&this.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&this.lineHeight===s.lineHeight&&this.minimapLeft===s.minimapLeft&&this.minimapWidth===s.minimapWidth&&this.minimapHeight===s.minimapHeight&&this.canvasInnerWidth===s.canvasInnerWidth&&this.canvasInnerHeight===s.canvasInnerHeight&&this.canvasOuterWidth===s.canvasOuterWidth&&this.canvasOuterHeight===s.canvasOuterHeight&&this.isSampling===s.isSampling&&this.editorHeight===s.editorHeight&&this.fontScale===s.fontScale&&this.minimapLineHeight===s.minimapLineHeight&&this.minimapCharWidth===s.minimapCharWidth&&this.sectionHeaderFontSize===s.sectionHeaderFontSize&&this.sectionHeaderLetterSpacing===s.sectionHeaderLetterSpacing&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(s.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(s.backgroundColor)&&this.foregroundAlpha===s.foregroundAlpha}}class Ho{constructor(s,u,E,$,ee,Ae,Be,et,gt){this.scrollTop=s,this.scrollHeight=u,this.sliderNeeded=E,this._computedSliderRatio=$,this.sliderTop=ee,this.sliderHeight=Ae,this.topPaddingLineCount=Be,this.startLineNumber=et,this.endLineNumber=gt}getDesiredScrollTopFromDelta(s){return Math.round(this.scrollTop+s/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(s){return Math.round((s-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(s){const u=Math.max(this.startLineNumber,s.startLineNumber),E=Math.min(this.endLineNumber,s.endLineNumber);return u>E?null:[u,E]}getYForLineNumber(s,u){return+(s-this.startLineNumber+this.topPaddingLineCount)*u}static create(s,u,E,$,ee,Ae,Be,et,gt,xt,Kt){const Qt=s.pixelRatio,rn=s.minimapLineHeight,Dn=Math.floor(s.canvasInnerHeight/rn),Ln=s.lineHeight;if(s.minimapHeightIsEditorHeight){let Oi=et*s.lineHeight+s.paddingTop+s.paddingBottom;s.scrollBeyondLastLine&&(Oi+=Math.max(0,ee-s.lineHeight-s.paddingBottom));const Xi=Math.max(1,Math.floor(ee*ee/Oi)),Ji=Math.max(0,s.minimapHeight-Xi),no=Ji/(xt-ee),qi=gt*no,oo=Ji>0,Qi=Math.floor(s.canvasInnerHeight/s.minimapLineHeight),ro=Math.floor(s.paddingTop/s.lineHeight);return new Ho(gt,xt,oo,no,qi,Xi,ro,1,Math.min(Be,Qi))}let Fn;Fn=Ae&&E!==Be?Math.floor((E-u+1)*rn/Qt):Math.floor(ee/Ln*rn/Qt);const qn=Math.floor(s.paddingTop/Ln);let si,di=Math.floor(s.paddingBottom/Ln);s.scrollBeyondLastLine&&(di=Math.max(di,ee/Ln-1)),si=di>0?(qn+Be+di-ee/Ln-1)*rn/Qt:Math.max(0,(qn+Be)*rn/Qt-Fn),si=Math.min(s.minimapHeight-Fn,si);const Ci=si/(xt-ee),Bi=gt*Ci;if(Dn>=qn+Be+di)return new Ho(gt,xt,si>0,Ci,Bi,Fn,qn,1,Be);{let Oi;Oi=u>1?u+qn:Math.max(1,gt/Ln);let Xi,Ji=Math.max(1,Math.floor(Oi-Bi*Qt/rn));Ji<qn?(Xi=qn-Ji+1,Ji=1):(Xi=0,Ji=Math.max(1,Ji-qn)),Kt&&Kt.scrollHeight===xt&&(Kt.scrollTop>gt&&(Ji=Math.min(Ji,Kt.startLineNumber),Xi=Math.max(Xi,Kt.topPaddingLineCount)),Kt.scrollTop<gt&&(Ji=Math.max(Ji,Kt.startLineNumber),Xi=Math.min(Xi,Kt.topPaddingLineCount)));const no=Math.min(Be,Ji-Xi+Dn-1),qi=(gt-$)/Ln;let oo;return oo=gt>=s.paddingTop?(u-Ji+Xi+qi)*rn/Qt:gt/s.paddingTop*(Xi+qi)*rn/Qt,new Ho(gt,xt,!0,Ci,oo,Fn,Xi,Ji,no)}}}class gl{constructor(s){this.dy=s}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}gl.INVALID=new gl(-1);class Ir{constructor(s,u,E){this.renderedLayout=s,this._imageData=u,this._renderedLines=new oi(()=>gl.INVALID),this._renderedLines._set(s.startLineNumber,E)}linesEquals(s){if(!this.scrollEquals(s))return!1;const E=this._renderedLines._get().lines;for(let $=0,ee=E.length;$<ee;$++)if(-1===E[$].dy)return!1;return!0}scrollEquals(s){return this.renderedLayout.startLineNumber===s.startLineNumber&&this.renderedLayout.endLineNumber===s.endLineNumber}_get(){const s=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:s.rendLineNumberStart,lines:s.lines}}onLinesChanged(s,u){return this._renderedLines.onLinesChanged(s,u)}onLinesDeleted(s,u){this._renderedLines.onLinesDeleted(s,u)}onLinesInserted(s,u){this._renderedLines.onLinesInserted(s,u)}onTokensChanged(s){return this._renderedLines.onTokensChanged(s)}}class ca{constructor(s,u,E,$){this._backgroundFillData=ca._createBackgroundFillData(u,E,$),this._buffers=[s.createImageData(u,E),s.createImageData(u,E)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const s=this._buffers[this._lastUsedBuffer];return s.data.set(this._backgroundFillData),s}static _createBackgroundFillData(s,u,E){const $=E.r,ee=E.g,Ae=E.b,Be=E.a,et=new Uint8ClampedArray(s*u*4);let gt=0;for(let xt=0;xt<u;xt++)for(let Kt=0;Kt<s;Kt++)et[gt]=$,et[gt+1]=ee,et[gt+2]=Ae,et[gt+3]=Be,gt+=4;return et}}class wa{static compute(s,u,E){if(0===s.renderMinimap||!s.isSampling)return[null,[]];const{minimapLineCount:$}=ae.xZ.computeContainedMinimapLineCount({viewLineCount:u,scrollBeyondLastLine:s.scrollBeyondLastLine,paddingTop:s.paddingTop,paddingBottom:s.paddingBottom,height:s.editorHeight,lineHeight:s.lineHeight,pixelRatio:s.pixelRatio}),ee=u/$,Ae=ee/2;if(!E||0===E.minimapLines.length){const Fn=[];if(Fn[0]=1,$>1){for(let qn=0,di=$-1;qn<di;qn++)Fn[qn]=Math.round(qn*ee+Ae);Fn[$-1]=u}return[new wa(ee,Fn),[]]}const Be=E.minimapLines,et=Be.length,gt=[];let xt=0,Kt=0,Qt=1,Dn=[],Ln=null;for(let Fn=0;Fn<$;Fn++){const qn=Math.max(Qt,Math.round(Fn*ee)),di=Math.max(qn,Math.round((Fn+1)*ee));for(;xt<et&&Be[xt]<qn;){if(Dn.length<10){const Ci=xt+1+Kt;Ln&&"deleted"===Ln.type&&Ln._oldIndex===xt-1?Ln.deleteToLineNumber++:(Ln={type:"deleted",_oldIndex:xt,deleteFromLineNumber:Ci,deleteToLineNumber:Ci},Dn.push(Ln)),Kt--}xt++}let si;if(xt<et&&Be[xt]<=di)si=Be[xt],xt++;else if(si=0===Fn?1:Fn+1===$?u:Math.round(Fn*ee+Ae),Dn.length<10){const Ci=xt+1+Kt;Ln&&"inserted"===Ln.type&&Ln._i===Fn-1?Ln.insertToLineNumber++:(Ln={type:"inserted",_i:Fn,insertFromLineNumber:Ci,insertToLineNumber:Ci},Dn.push(Ln)),Kt++}gt[Fn]=si,Qt=si}if(Dn.length<10)for(;xt<et;){const Fn=xt+1+Kt;Ln&&"deleted"===Ln.type&&Ln._oldIndex===xt-1?Ln.deleteToLineNumber++:(Ln={type:"deleted",_oldIndex:xt,deleteFromLineNumber:Fn,deleteToLineNumber:Fn},Dn.push(Ln)),Kt--,xt++}else Dn=[{type:"flush"}];return[new wa(ee,gt),Dn]}constructor(s,u){this.samplingRatio=s,this.minimapLines=u}modelLineToMinimapLine(s){return Math.min(this.minimapLines.length,Math.max(1,Math.round(s/this.samplingRatio)))}modelLineRangeToMinimapLineRange(s,u){let E=this.modelLineToMinimapLine(s)-1;for(;E>0&&this.minimapLines[E-1]>=s;)E--;let $=this.modelLineToMinimapLine(u)-1;for(;$+1<this.minimapLines.length&&this.minimapLines[$+1]<=u;)$++;if(E===$){const ee=this.minimapLines[E];if(ee<s||ee>u)return null}return[E+1,$+1]}decorationLineRangeToMinimapLineRange(s,u){let E=this.modelLineToMinimapLine(s),$=this.modelLineToMinimapLine(u);return s!==u&&$===E&&($===this.minimapLines.length?E>1&&E--:$++),[E,$]}onLinesDeleted(s){const u=s.toLineNumber-s.fromLineNumber+1;let E=this.minimapLines.length,$=0;for(let ee=this.minimapLines.length-1;ee>=0&&!(this.minimapLines[ee]<s.fromLineNumber);ee--)this.minimapLines[ee]<=s.toLineNumber?(this.minimapLines[ee]=Math.max(1,s.fromLineNumber-1),E=Math.min(E,ee),$=Math.max($,ee)):this.minimapLines[ee]-=u;return[E,$]}onLinesInserted(s){const u=s.toLineNumber-s.fromLineNumber+1;for(let E=this.minimapLines.length-1;E>=0&&!(this.minimapLines[E]<s.fromLineNumber);E--)this.minimapLines[E]+=u}}class Bs extends le{constructor(s){super(s),this._sectionHeaderCache=new ir.qK(10,1.5),this.tokensColorTracker=qr.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new Ys(this._context.configuration,this._context.theme,this.tokensColorTracker);const[u]=wa.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=u,this._shouldCheckSampling=!1,this._actual=new ua(s.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const s=new Ys(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(s)&&(this.options=s,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(s){return this._onOptionsMaybeChanged()}onCursorStateChanged(s){return this._selections=s.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(s){return!!s.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(s){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(s){if(this._samplingState){const u=this._samplingState.modelLineRangeToMinimapLineRange(s.fromLineNumber,s.fromLineNumber+s.count-1);return!!u&&this._actual.onLinesChanged(u[0],u[1]-u[0]+1)}return this._actual.onLinesChanged(s.fromLineNumber,s.count)}onLinesDeleted(s){if(this._samplingState){const[u,E]=this._samplingState.onLinesDeleted(s);return u<=E&&this._actual.onLinesChanged(u+1,E-u+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(s.fromLineNumber,s.toLineNumber)}onLinesInserted(s){return this._samplingState?(this._samplingState.onLinesInserted(s),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(s.fromLineNumber,s.toLineNumber)}onScrollChanged(s){return this._actual.onScrollChanged()}onThemeChanged(s){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(s){if(this._samplingState){const u=[];for(const E of s.ranges){const $=this._samplingState.modelLineRangeToMinimapLineRange(E.fromLineNumber,E.toLineNumber);$&&u.push({fromLineNumber:$[0],toLineNumber:$[1]})}return!!u.length&&this._actual.onTokensChanged(u)}return this._actual.onTokensChanged(s.ranges)}onTokensColorsChanged(s){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(s){return this._actual.onZonesChanged()}prepareRender(s){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(s){let u=s.visibleRange.startLineNumber,E=s.visibleRange.endLineNumber;this._samplingState&&(u=this._samplingState.modelLineToMinimapLine(u),E=this._samplingState.modelLineToMinimapLine(E));const $={viewportContainsWhitespaceGaps:s.viewportData.whitespaceViewportData.length>0,scrollWidth:s.scrollWidth,scrollHeight:s.scrollHeight,viewportStartLineNumber:u,viewportEndLineNumber:E,viewportStartLineNumberVerticalOffset:s.getVerticalOffsetForLineNumber(u),scrollTop:s.scrollTop,scrollLeft:s.scrollLeft,viewportWidth:s.viewportWidth,viewportHeight:s.viewportHeight};this._actual.render($)}_recreateLineSampling(){this._minimapSelections=null;const s=!!this._samplingState,[u,E]=wa.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=u,s&&this._samplingState)for(const $ of E)switch($.type){case"deleted":this._actual.onLinesDeleted($.deleteFromLineNumber,$.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted($.insertFromLineNumber,$.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(s){return this._context.viewModel.getLineContent(this._samplingState?this._samplingState.minimapLines[s-1]:s)}getLineMaxColumn(s){return this._context.viewModel.getLineMaxColumn(this._samplingState?this._samplingState.minimapLines[s-1]:s)}getMinimapLinesRenderingData(s,u,E){if(this._samplingState){const $=[];for(let ee=0,Ae=u-s+1;ee<Ae;ee++)$[ee]=E[ee]?this._context.viewModel.getViewLineData(this._samplingState.minimapLines[s+ee-1]):null;return $}return this._context.viewModel.getMinimapLinesRenderingData(s,u,E).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const s of this._selections){const[u,E]=this._samplingState.decorationLineRangeToMinimapLineRange(s.startLineNumber,s.endLineNumber);this._minimapSelections.push(new Ye.L(u,s.startColumn,E,s.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(s,u){const E=this._getMinimapDecorationsInViewport(s,u).filter($=>{var ee;return!(null!==(ee=$.options.minimap)&&void 0!==ee&&ee.sectionHeaderStyle)});if(this._samplingState){const $=[];for(const ee of E){if(!ee.options.minimap)continue;const Ae=ee.range,Be=this._samplingState.modelLineToMinimapLine(Ae.startLineNumber),et=this._samplingState.modelLineToMinimapLine(Ae.endLineNumber);$.push(new js.vo(new Ne.Q(Be,Ae.startColumn,et,Ae.endColumn),ee.options))}return $}return E}getSectionHeaderDecorationsInViewport(s,u){return s=Math.floor(Math.max(1,s-this.options.sectionHeaderFontSize/this.options.minimapLineHeight)),this._getMinimapDecorationsInViewport(s,u).filter(Ae=>{var Be;return!(null===(Be=Ae.options.minimap)||void 0===Be||!Be.sectionHeaderStyle)})}_getMinimapDecorationsInViewport(s,u){let E;if(this._samplingState){const ee=this._samplingState.minimapLines[u-1];E=new Ne.Q(this._samplingState.minimapLines[s-1],1,ee,this._context.viewModel.getLineMaxColumn(ee))}else E=new Ne.Q(s,1,u,this._context.viewModel.getLineMaxColumn(u));return this._context.viewModel.getMinimapDecorationsInRange(E)}getSectionHeaderText(s,u){var E;const $=null===(E=s.options.minimap)||void 0===E?void 0:E.sectionHeaderText;if(!$)return null;const ee=this._sectionHeaderCache.get($);if(ee)return ee;const Ae=u($);return this._sectionHeaderCache.set($,Ae),Ae}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(s){this._samplingState&&(s=this._samplingState.minimapLines[s-1]),this._context.viewModel.revealRange("mouse",!1,new Ne.Q(s,1,s,1),1,0)}setScrollTop(s){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:s},1)}}class ua extends v.jG{constructor(s,u){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=s,this._model=u,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Lo.yr0),this._domNode=(0,$e.Z)(document.createElement("div")),Ee.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,$e.Z)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,$e.Z)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,$e.Z)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,$e.Z)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,$e.Z)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=b.b2(this._domNode.domNode,b.Bx.POINTER_DOWN,E=>{if(E.preventDefault(),0===this._model.options.renderMinimap||!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(0===E.button&&this._lastRenderData){const gt=b.BK(this._slider.domNode);this._startSliderDragging(E,gt.top+gt.height/2,this._lastRenderData.renderedLayout)}return}let et=Math.floor(this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*E.offsetY/this._model.options.minimapLineHeight)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;et=Math.min(et,this._model.getLineCount()),this._model.revealLineNumber(et)}),this._sliderPointerMoveMonitor=new is._,this._sliderPointerDownListener=b.b2(this._slider.domNode,b.Bx.POINTER_DOWN,E=>{E.preventDefault(),E.stopPropagation(),0===E.button&&this._lastRenderData&&this._startSliderDragging(E,E.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=St.q.addTarget(this._domNode.domNode),this._sliderTouchStartListener=b.ko(this._domNode.domNode,St.B.Start,E=>{E.preventDefault(),E.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(E))},{passive:!1}),this._sliderTouchMoveListener=b.ko(this._domNode.domNode,St.B.Change,E=>{E.preventDefault(),E.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(E)},{passive:!1}),this._sliderTouchEndListener=b.b2(this._domNode.domNode,St.B.End,E=>{E.preventDefault(),E.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(s,u,E){if(!(s.target&&s.target instanceof Element))return;const $=s.pageX;this._slider.toggleClassName("active",!0);const ee=(Ae,Be)=>{const et=b.BK(this._domNode.domNode),gt=Math.min(Math.abs(Be-$),Math.abs(Be-et.left),Math.abs(Be-et.left-et.width));this._model.setScrollTop(R.uF&&gt>140?E.scrollTop:E.getDesiredScrollTopFromDelta(Ae-u))};s.pageY!==u&&ee(s.pageY,$),this._sliderPointerMoveMonitor.startMonitoring(s.target,s.pointerId,s.buttons,Ae=>ee(Ae.pageY,Ae.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(s){const u=this._domNode.domNode.getBoundingClientRect().top,E=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(s.pageY-u);this._model.setScrollTop(E)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const s=["minimap"];return s.push("always"===this._model.options.showSlider?"slider-always":"slider-mouseover"),this._model.options.autohide&&s.push("autohide"),s.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new ca(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(s,u){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(s,u)}onLinesDeleted(s,u){var E;return null===(E=this._lastRenderData)||void 0===E||E.onLinesDeleted(s,u),!0}onLinesInserted(s,u){var E;return null===(E=this._lastRenderData)||void 0===E||E.onLinesInserted(s,u),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Lo.yr0),this._renderDecorations=!0,!0}onTokensChanged(s){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(s)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(s){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);this._shadow.setClassName(s.scrollLeft+s.viewportWidth>=s.scrollWidth?"minimap-shadow-hidden":"minimap-shadow-visible");const E=Ho.create(this._model.options,s.viewportStartLineNumber,s.viewportEndLineNumber,s.viewportStartLineNumberVerticalOffset,s.viewportHeight,s.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),s.scrollTop,s.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(E.sliderNeeded?"block":"none"),this._slider.setTop(E.sliderTop),this._slider.setHeight(E.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(E.sliderHeight),this.renderDecorations(E),this._lastRenderData=this.renderLines(E)}renderDecorations(s){if(this._renderDecorations){this._renderDecorations=!1;const u=this._model.getSelections();u.sort(Ne.Q.compareRangesUsingStarts);const E=this._model.getMinimapDecorationsInViewport(s.startLineNumber,s.endLineNumber);E.sort((Qt,rn)=>(Qt.options.zIndex||0)-(rn.options.zIndex||0));const{canvasInnerWidth:$,canvasInnerHeight:ee}=this._model.options,Ae=this._model.options.minimapLineHeight,Be=this._model.options.minimapCharWidth,et=this._model.getOptions().tabSize,gt=this._decorationsCanvas.domNode.getContext("2d");gt.clearRect(0,0,$,ee);const xt=new ha(s.startLineNumber,s.endLineNumber,!1);this._renderSelectionLineHighlights(gt,u,xt,s,Ae),this._renderDecorationsLineHighlights(gt,E,xt,s,Ae);const Kt=new ha(s.startLineNumber,s.endLineNumber,null);this._renderSelectionsHighlights(gt,u,Kt,s,Ae,et,Be,$),this._renderDecorationsHighlights(gt,E,Kt,s,Ae,et,Be,$),this._renderSectionHeaders(s)}}_renderSelectionLineHighlights(s,u,E,$,ee){if(!this._selectionColor||this._selectionColor.isTransparent())return;s.fillStyle=this._selectionColor.transparent(.5).toString();let Ae=0,Be=0;for(const et of u){const gt=$.intersectWithViewport(et);if(!gt)continue;const[xt,Kt]=gt;for(let Dn=xt;Dn<=Kt;Dn++)E.set(Dn,!0);const Qt=$.getYForLineNumber(xt,ee),rn=$.getYForLineNumber(Kt,ee);Be>=Qt||(Be>Ae&&s.fillRect(ae.xq,Ae,s.canvas.width,Be-Ae),Ae=Qt),Be=rn}Be>Ae&&s.fillRect(ae.xq,Ae,s.canvas.width,Be-Ae)}_renderDecorationsLineHighlights(s,u,E,$,ee){const Ae=new Map;for(let Be=u.length-1;Be>=0;Be--){const et=u[Be],gt=et.options.minimap;if(!gt||1!==gt.position)continue;const xt=$.intersectWithViewport(et.range);if(!xt)continue;const[Kt,Qt]=xt,rn=gt.getColor(this._theme.value);if(!rn||rn.isTransparent())continue;let Dn=Ae.get(rn.toString());Dn||(Dn=rn.transparent(.5).toString(),Ae.set(rn.toString(),Dn)),s.fillStyle=Dn;for(let Ln=Kt;Ln<=Qt;Ln++){if(E.has(Ln))continue;E.set(Ln,!0);const Fn=$.getYForLineNumber(Kt,ee);s.fillRect(ae.xq,Fn,s.canvas.width,ee)}}}_renderSelectionsHighlights(s,u,E,$,ee,Ae,Be,et){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const gt of u){const xt=$.intersectWithViewport(gt);if(!xt)continue;const[Kt,Qt]=xt;for(let rn=Kt;rn<=Qt;rn++)this.renderDecorationOnLine(s,E,gt,this._selectionColor,$,rn,ee,ee,Ae,Be,et)}}_renderDecorationsHighlights(s,u,E,$,ee,Ae,Be,et){for(const gt of u){const xt=gt.options.minimap;if(!xt)continue;const Kt=$.intersectWithViewport(gt.range);if(!Kt)continue;const[Qt,rn]=Kt,Dn=xt.getColor(this._theme.value);if(Dn&&!Dn.isTransparent())for(let Ln=Qt;Ln<=rn;Ln++)switch(xt.position){case 1:this.renderDecorationOnLine(s,E,gt.range,Dn,$,Ln,ee,ee,Ae,Be,et);continue;case 2:{const Fn=$.getYForLineNumber(Ln,ee);this.renderDecoration(s,Dn,2,Fn,2,ee);continue}}}}renderDecorationOnLine(s,u,E,$,ee,Ae,Be,et,gt,xt,Kt){const Qt=ee.getYForLineNumber(Ae,et);if(Qt+Be<0||Qt>this._model.options.canvasInnerHeight)return;const{startLineNumber:rn,endLineNumber:Dn}=E,Ln=rn===Ae?E.startColumn:1,Fn=Dn===Ae?E.endColumn:this._model.getLineMaxColumn(Ae),qn=this.getXOffsetForPosition(u,Ae,Ln,gt,xt,Kt),di=this.getXOffsetForPosition(u,Ae,Fn,gt,xt,Kt);this.renderDecoration(s,$,qn,Qt,di-qn,Be)}getXOffsetForPosition(s,u,E,$,ee,Ae){if(1===E)return ae.xq;if((E-1)*ee>=Ae)return Ae;let et=s.get(u);if(!et){const gt=this._model.getLineContent(u);et=[ae.xq];let xt=ae.xq;for(let Kt=1;Kt<gt.length+1;Kt++){const Qt=gt.charCodeAt(Kt-1),Dn=xt+(9===Qt?$*ee:ei.ne(Qt)?2*ee:ee);if(Dn>=Ae){et[Kt]=Ae;break}et[Kt]=Dn,xt=Dn}s.set(u,et)}return E-1<et.length?et[E-1]:Ae}renderDecoration(s,u,E,$,ee,Ae){s.fillStyle=u&&u.toString()||"",s.fillRect(E,$,ee,Ae)}_renderSectionHeaders(s){var u;const E=this._model.options.minimapLineHeight,$=this._model.options.sectionHeaderFontSize,ee=this._model.options.sectionHeaderLetterSpacing,Ae=1.5*$,{canvasInnerWidth:Be}=this._model.options,et=this._model.options.backgroundColor,gt=`rgb(${et.r} ${et.g} ${et.b} / .7)`,xt=this._model.options.sectionHeaderFontColor,Kt=`rgb(${xt.r} ${xt.g} ${xt.b})`,Qt=Kt,rn=this._decorationsCanvas.domNode.getContext("2d");rn.letterSpacing=ee+"px",rn.font="500 "+$+"px "+this._model.options.sectionHeaderFontFamily,rn.strokeStyle=Qt,rn.lineWidth=.2;const Dn=this._model.getSectionHeaderDecorationsInViewport(s.startLineNumber,s.endLineNumber);Dn.sort((Fn,qn)=>Fn.range.startLineNumber-qn.range.startLineNumber);const Ln=ua._fitSectionHeader.bind(null,rn,Be-ae.xq);for(const Fn of Dn){const qn=s.getYForLineNumber(Fn.range.startLineNumber,E)+$,di=qn-$,si=di+2,Ci=this._model.getSectionHeaderText(Fn,Ln);ua._renderSectionLabel(rn,Ci,2===(null===(u=Fn.options.minimap)||void 0===u?void 0:u.sectionHeaderStyle),gt,Kt,Be,di,Ae,qn,si)}}static _fitSectionHeader(s,u,E){if(!E)return E;const ee=s.measureText(E).width,Ae=s.measureText("\u2026").width;if(ee<=u||ee<=Ae)return E;const Be=E.length,gt=Math.floor((u-Ae)/(ee/E.length))-1;let xt=Math.ceil(gt/2);for(;xt>0&&/\s/.test(E[xt-1]);)--xt;return E.substring(0,xt)+"\u2026"+E.substring(Be-(gt-xt))}static _renderSectionLabel(s,u,E,$,ee,Ae,Be,et,gt,xt){u&&(s.fillStyle=$,s.fillRect(0,Be,Ae,et),s.fillStyle=ee,s.fillText(u,ae.xq,gt)),E&&(s.beginPath(),s.moveTo(0,xt),s.lineTo(Ae,xt),s.closePath(),s.stroke())}renderLines(s){const u=s.startLineNumber,E=s.endLineNumber,$=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(s)){const ko=this._lastRenderData._get();return new Ir(s,ko.imageData,ko.lines)}const ee=this._getBuffer();if(!ee)return null;const[Ae,Be,et]=ua._renderUntouchedLines(ee,s.topPaddingLineCount,u,E,$,this._lastRenderData),gt=this._model.getMinimapLinesRenderingData(u,E,et),xt=this._model.getOptions().tabSize,Kt=this._model.options.defaultBackgroundColor,Qt=this._model.options.backgroundColor,rn=this._model.options.foregroundAlpha,Dn=this._model.tokensColorTracker,Ln=Dn.backgroundIsLight(),Fn=this._model.options.renderMinimap,qn=this._model.options.charRenderer(),di=this._model.options.fontScale,si=this._model.options.minimapCharWidth,Bi=(1===Fn?2:3)*di,Oi=$>Bi?Math.floor(($-Bi)/2):0,Xi=Qt.a/255,Ji=new $o(Math.round((Qt.r-Kt.r)*Xi+Kt.r),Math.round((Qt.g-Kt.g)*Xi+Kt.g),Math.round((Qt.b-Kt.b)*Xi+Kt.b),255);let no=s.topPaddingLineCount*$;const qi=[];for(let ko=0,bs=E-u+1;ko<bs;ko++)et[ko]&&ua._renderLine(ee,Ji,Qt.a,Ln,Fn,si,Dn,rn,qn,no,Oi,xt,gt[ko],di,$),qi[ko]=new gl(no),no+=$;const oo=-1===Ae?0:Ae,ro=(-1===Be?ee.height:Be)-oo;return this._canvas.domNode.getContext("2d").putImageData(ee,0,0,0,oo,ee.width,ro),new Ir(s,ee,qi)}static _renderUntouchedLines(s,u,E,$,ee,Ae){const Be=[];if(!Ae){for(let no=0,qi=$-E+1;no<qi;no++)Be[no]=!0;return[-1,-1,Be]}const et=Ae._get(),gt=et.imageData.data,xt=et.rendLineNumberStart,Kt=et.lines,Qt=Kt.length,rn=s.width,Dn=s.data,Ln=($-E+1)*ee*rn*4;let Fn=-1,qn=-1,di=-1,si=-1,Ci=-1,Bi=-1,Oi=u*ee;for(let no=E;no<=$;no++){const qi=no-E,oo=no-xt,Qi=oo>=0&&oo<Qt?Kt[oo].dy:-1;if(-1===Qi){Be[qi]=!0,Oi+=ee;continue}const ro=Qi*rn*4,Qo=(Qi+ee)*rn*4,ko=Oi*rn*4,bs=(Oi+ee)*rn*4;si===ro&&Bi===ko?(si=Qo,Bi=bs):(-1!==di&&(Dn.set(gt.subarray(di,si),Ci),-1===Fn&&0===di&&di===Ci&&(Fn=si),-1===qn&&si===Ln&&di===Ci&&(qn=di)),di=ro,si=Qo,Ci=ko,Bi=bs),Be[qi]=!1,Oi+=ee}return-1!==di&&(Dn.set(gt.subarray(di,si),Ci),-1===Fn&&0===di&&di===Ci&&(Fn=si),-1===qn&&si===Ln&&di===Ci&&(qn=di)),[-1===Fn?-1:Fn/(4*rn),-1===qn?-1:qn/(4*rn),Be]}static _renderLine(s,u,E,$,ee,Ae,Be,et,gt,xt,Kt,Qt,rn,Dn,Ln){const Fn=rn.content,qn=rn.tokens,di=s.width-Ae,si=1===Ln;let Ci=ae.xq,Bi=0,Oi=0;for(let Xi=0,Ji=qn.getCount();Xi<Ji;Xi++){const no=qn.getEndOffset(Xi),qi=qn.getForeground(Xi),oo=Be.getColor(qi);for(;Bi<no;Bi++){if(Ci>di)return;const Qi=Fn.charCodeAt(Bi);if(9===Qi){const ro=Qt-(Bi+Oi)%Qt;Oi+=ro-1,Ci+=ro*Ae}else if(32===Qi)Ci+=Ae;else{const ro=ei.ne(Qi)?2:1;for(let Qo=0;Qo<ro;Qo++)if(2===ee?gt.blockRenderChar(s,Ci,xt+Kt,oo,et,u,E,si):gt.renderChar(s,Ci,xt+Kt,Qi,oo,et,u,E,Dn,$,si),Ci+=Ae,Ci>di)return}}}}}class ha{constructor(s,u,E){this._startLineNumber=s,this._endLineNumber=u,this._defaultValue=E,this._values=[];for(let $=0,ee=this._endLineNumber-this._startLineNumber+1;$<ee;$++)this._values[$]=E}has(s){return this.get(s)!==this._defaultValue}set(s,u){s<this._startLineNumber||s>this._endLineNumber||(this._values[s-this._startLineNumber]=u)}get(s){return s<this._startLineNumber||s>this._endLineNumber?this._defaultValue:this._values[s-this._startLineNumber]}}var La=t(80213),Br={};Br.styleTagTransform=N(),Br.setAttributes=T(),Br.insert=p().bind(null,"head"),Br.domAPI=l(),Br.insertStyleElement=k(),d()(La.A,Br);class zs extends le{constructor(s,u){super(s),this._viewDomNode=u;const $=this._context.configuration.options.get(145);this._widgets={},this._verticalScrollbarWidth=$.verticalScrollbarWidth,this._minimapWidth=$.minimap.minimapWidth,this._horizontalScrollbarHeight=$.horizontalScrollbarHeight,this._editorHeight=$.height,this._editorWidth=$.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=(0,$e.Z)(document.createElement("div")),Ee.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=(0,$e.Z)(document.createElement("div")),Ee.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(s){const E=this._context.configuration.options.get(145);return this._verticalScrollbarWidth=E.verticalScrollbarWidth,this._minimapWidth=E.minimap.minimapWidth,this._horizontalScrollbarHeight=E.horizontalScrollbarHeight,this._editorHeight=E.height,this._editorWidth=E.width,!0}addWidget(s){const u=(0,$e.Z)(s.getDomNode());this._widgets[s.getId()]={widget:s,preference:null,domNode:u},u.setPosition("absolute"),u.setAttribute("widgetId",s.getId()),s.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(u):this._domNode.appendChild(u),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(s,u){const E=this._widgets[s.getId()],$=u?u.preference:null,ee=u?.stackOridinal;return E.preference===$&&E.stack===ee?(this._updateMaxMinWidth(),!1):(E.preference=$,E.stack=ee,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(s){const u=s.getId();if(this._widgets.hasOwnProperty(u)){const $=this._widgets[u].domNode.domNode;delete this._widgets[u],$.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var s,u;let E=0;const $=Object.keys(this._widgets);for(let ee=0,Ae=$.length;ee<Ae;ee++){const gt=null===(u=(s=this._widgets[$[ee]].widget).getMinContentWidthInPx)||void 0===u?void 0:u.call(s);typeof gt<"u"&&(E=Math.max(E,gt))}this._context.viewLayout.setOverlayWidgetsMinWidth(E)}_renderWidget(s,u){const E=s.domNode;if(null===s.preference)return void E.setTop("");const $=2*this._verticalScrollbarWidth+this._minimapWidth;if(0===s.preference||1===s.preference)E.setTop(1===s.preference?this._editorHeight-E.domNode.clientHeight-2*this._horizontalScrollbarHeight:0),void 0!==s.stack?(E.setTop(u[s.preference]),u[s.preference]+=E.domNode.clientWidth):E.setRight($);else if(2===s.preference)E.domNode.style.right="50%",void 0!==s.stack?(E.setTop(u[2]),u[2]+=E.domNode.clientHeight):E.setTop(0);else{const{top:ee,left:Ae}=s.preference;if(this._context.configuration.options.get(42)&&s.widget.allowEditorOverflow){const et=this._viewDomNodeRect;E.setTop(ee+et.top),E.setLeft(Ae+et.left),E.setPosition("fixed")}else E.setTop(ee),E.setLeft(Ae),E.setPosition("absolute")}}prepareRender(s){this._viewDomNodeRect=b.BK(this._viewDomNode.domNode)}render(s){this._domNode.setWidth(this._editorWidth);const u=Object.keys(this._widgets),E=Array.from({length:3},()=>0);u.sort(($,ee)=>(this._widgets[$].stack||0)-(this._widgets[ee].stack||0));for(let $=0,ee=u.length;$<ee;$++)this._renderWidget(this._widgets[u[$]],E)}}class zl{constructor(s,u){const E=s.options;this.lineHeight=E.get(67),this.pixelRatio=E.get(143),this.overviewRulerLanes=E.get(83),this.renderBorder=E.get(82);const $=u.getColor(ct.x9);this.borderColor=$?$.toString():null,this.hideCursor=E.get(59);const ee=u.getColor(ct.D0);this.cursorColorSingle=ee?ee.transparent(.7).toString():null;const Ae=u.getColor(ct.sC);this.cursorColorPrimary=Ae?Ae.transparent(.7).toString():null;const Be=u.getColor(ct.we);this.cursorColorSecondary=Be?Be.transparent(.7).toString():null,this.themeType=u.type;const et=E.get(73),gt=et.enabled,xt=et.side,Kt=u.getColor(ct.Xr),Qt=En.dG.getDefaultBackground();this.backgroundColor=Kt||(gt&&"right"===xt?Qt:null);const Dn=E.get(145).overviewRuler;this.top=Dn.top,this.right=Dn.right,this.domWidth=Dn.width,this.domHeight=Dn.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Ln,Fn]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Ln,this.w=Fn}_initLanes(s,u,E){const $=u-s;if(E>=3){const ee=Math.floor($/3),Ae=Math.floor($/3),Be=$-ee-Ae,gt=s+ee;return[[0,s,gt,s,s+ee+Be,s,gt,s],[0,ee,Be,ee+Be,Ae,ee+Be+Ae,Be+Ae,ee+Be+Ae]]}if(2===E){const ee=Math.floor($/2),Ae=$-ee;return[[0,s,s,s,s+ee,s,s,s],[0,ee,ee,ee,Ae,ee+Ae,ee+Ae,ee+Ae]]}return[[0,s,s,s,s,s,s,s],[0,$,$,$,$,$,$,$]]}equals(s){return this.lineHeight===s.lineHeight&&this.pixelRatio===s.pixelRatio&&this.overviewRulerLanes===s.overviewRulerLanes&&this.renderBorder===s.renderBorder&&this.borderColor===s.borderColor&&this.hideCursor===s.hideCursor&&this.cursorColorSingle===s.cursorColorSingle&&this.cursorColorPrimary===s.cursorColorPrimary&&this.cursorColorSecondary===s.cursorColorSecondary&&this.themeType===s.themeType&&On.Q1.equals(this.backgroundColor,s.backgroundColor)&&this.top===s.top&&this.right===s.right&&this.domWidth===s.domWidth&&this.domHeight===s.domHeight&&this.canvasWidth===s.canvasWidth&&this.canvasHeight===s.canvasHeight}}class Kl extends le{constructor(s){super(s),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=(0,$e.Z)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=En.dG.onDidChange(u=>{u.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[{position:new Ce.y(1,1),color:this._settings.cursorColorSingle}]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(s){const u=new zl(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(u)||(this._settings=u,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,s&&this._render(),0))}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(s){return!!this._updateSettings(!1)&&this._markRenderingIsNeeded()}onCursorStateChanged(s){this._cursorPositions=[];for(let u=0,E=s.selections.length;u<E;u++){let $=this._settings.cursorColorSingle;E>1&&($=0===u?this._settings.cursorColorPrimary:this._settings.cursorColorSecondary),this._cursorPositions.push({position:s.selections[u].getPosition(),color:$})}return this._cursorPositions.sort((u,E)=>Ce.y.compare(u.position,E.position)),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(s){return!!s.affectsOverviewRuler&&this._markRenderingIsMaybeNeeded()}onFlushed(s){return this._markRenderingIsNeeded()}onScrollChanged(s){return!!s.scrollHeightChanged&&this._markRenderingIsNeeded()}onZonesChanged(s){return this._markRenderingIsNeeded()}onThemeChanged(s){return!!this._updateSettings(!1)&&this._markRenderingIsNeeded()}getDomNode(){return this._domNode.domNode}prepareRender(s){}render(s){this._render(),this._actualShouldRender=0}_render(){const s=this._settings.backgroundColor;if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(s?On.Q1.Format.CSS.formatHexA(s):""),void this._domNode.setDisplay("none");const u=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(u.sort(js.Uv.compareByRenderingProps),1===this._actualShouldRender&&!js.Uv.equalsArr(this._renderedDecorations,u)&&(this._actualShouldRender=2),1===this._actualShouldRender&&!(0,U.aI)(this._renderedCursorPositions,this._cursorPositions,(Dn,Ln)=>Dn.position.lineNumber===Ln.position.lineNumber&&Dn.color===Ln.color)&&(this._actualShouldRender=2),1===this._actualShouldRender)return;this._renderedDecorations=u,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const E=this._settings.canvasWidth,$=this._settings.canvasHeight,ee=this._settings.lineHeight,Ae=this._context.viewLayout,et=$/this._context.viewLayout.getScrollHeight(),gt=6*this._settings.pixelRatio|0,xt=gt/2|0,Kt=this._domNode.domNode.getContext("2d");s?s.isOpaque()?(Kt.fillStyle=On.Q1.Format.CSS.formatHexA(s),Kt.fillRect(0,0,E,$)):(Kt.clearRect(0,0,E,$),Kt.fillStyle=On.Q1.Format.CSS.formatHexA(s),Kt.fillRect(0,0,E,$)):Kt.clearRect(0,0,E,$);const Qt=this._settings.x,rn=this._settings.w;for(const Dn of u){const Fn=Dn.data;Kt.fillStyle=Dn.color;let qn=0,di=0,si=0;for(let Ci=0,Bi=Fn.length/3;Ci<Bi;Ci++){const Oi=Fn[3*Ci],Ji=Fn[3*Ci+2];let no=Ae.getVerticalOffsetForLineNumber(Fn[3*Ci+1])*et|0,qi=(Ae.getVerticalOffsetForLineNumber(Ji)+ee)*et|0;if(qi-no<gt){let Qi=(no+qi)/2|0;Qi<xt?Qi=xt:Qi+xt>$&&(Qi=$-xt),no=Qi-xt,qi=Qi+xt}no>si+1||Oi!==qn?(0!==Ci&&Kt.fillRect(Qt[qn],di,rn[qn],si-di),qn=Oi,di=no,si=qi):qi>si&&(si=qi)}Kt.fillRect(Qt[qn],di,rn[qn],si-di)}if(!this._settings.hideCursor){const Dn=2*this._settings.pixelRatio|0,Ln=Dn/2|0,Fn=this._settings.x[7],qn=this._settings.w[7];let di=-100,si=-100,Ci=null;for(let Bi=0,Oi=this._cursorPositions.length;Bi<Oi;Bi++){const Xi=this._cursorPositions[Bi].color;if(!Xi)continue;let no=Ae.getVerticalOffsetForLineNumber(this._cursorPositions[Bi].position.lineNumber)*et|0;no<Ln?no=Ln:no+Ln>$&&(no=$-Ln);const qi=no-Ln,oo=qi+Dn;qi>si+1||Xi!==Ci?(0!==Bi&&Ci&&Kt.fillRect(Fn,di,qn,si-di),di=qi,si=oo):oo>si&&(si=oo),Ci=Xi,Kt.fillStyle=Xi}Ci&&Kt.fillRect(Fn,di,qn,si-di)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Kt.beginPath(),Kt.lineWidth=1,Kt.strokeStyle=this._settings.borderColor,Kt.moveTo(0,0),Kt.lineTo(0,$),Kt.stroke(),Kt.moveTo(0,0),Kt.lineTo(E,0),Kt.stroke())}}var ec=t(56642);class bd extends me{constructor(s,u){super(),this._context=s;const E=this._context.configuration.options;this._domNode=(0,$e.Z)(document.createElement("canvas")),this._domNode.setClassName(u),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new ec.rW($=>this._context.viewLayout.getVerticalOffsetForLineNumber($)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(E.get(67)),this._zoneManager.setPixelRatio(E.get(143)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(s){const u=this._context.configuration.options;return s.hasChanged(67)&&(this._zoneManager.setLineHeight(u.get(67)),this._render()),s.hasChanged(143)&&(this._zoneManager.setPixelRatio(u.get(143)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(s){return this._render(),!0}onScrollChanged(s){return s.scrollHeightChanged&&(this._zoneManager.setOuterHeight(s.scrollHeight),this._render()),!0}onZonesChanged(s){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(s){this._domNode.setTop(s.top),this._domNode.setRight(s.right);let u=!1;u=this._zoneManager.setDOMWidth(s.width)||u,u=this._zoneManager.setDOMHeight(s.height)||u,u&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(s){this._zoneManager.setZones(s),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const s=this._zoneManager.getCanvasWidth(),u=this._zoneManager.getCanvasHeight(),E=this._zoneManager.resolveColorZones(),$=this._zoneManager.getId2Color(),ee=this._domNode.domNode.getContext("2d");return ee.clearRect(0,0,s,u),E.length>0&&this._renderOneLane(ee,E,$,s),!0}_renderOneLane(s,u,E,$){let ee=0,Ae=0,Be=0;for(const et of u){const gt=et.colorId,xt=et.from,Kt=et.to;gt!==ee?(s.fillRect(0,Ae,$,Be-Ae),ee=gt,s.fillStyle=E[ee],Ae=xt,Be=Kt):Be>=xt?Be=Math.max(Be,Kt):(s.fillRect(0,Ae,$,Be-Ae),Ae=xt,Be=Kt)}s.fillRect(0,Ae,$,Be-Ae)}}var Ar=t(81637),xa={};xa.styleTagTransform=N(),xa.setAttributes=T(),xa.insert=p().bind(null,"head"),xa.domAPI=l(),xa.insertStyleElement=k(),d()(Ar.A,xa);class Cr extends le{constructor(s){super(s),this.domNode=(0,$e.Z)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const u=this._context.configuration.options;this._rulers=u.get(102),this._typicalHalfwidthCharacterWidth=u.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(s){const u=this._context.configuration.options;return this._rulers=u.get(102),this._typicalHalfwidthCharacterWidth=u.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(s){return s.scrollHeightChanged}prepareRender(s){}_ensureRulersCount(){const s=this._renderedRulers.length,u=this._rulers.length;if(s===u)return;if(s<u){const{tabSize:$}=this._context.viewModel.model.getOptions(),ee=$;let Ae=u-s;for(;Ae>0;){const Be=(0,$e.Z)(document.createElement("div"));Be.setClassName("view-ruler"),Be.setWidth(ee),this.domNode.appendChild(Be),this._renderedRulers.push(Be),Ae--}return}let E=s-u;for(;E>0;){const $=this._renderedRulers.pop();this.domNode.removeChild($),E--}}render(s){this._ensureRulersCount();for(let u=0,E=this._rulers.length;u<E;u++){const $=this._renderedRulers[u],ee=this._rulers[u];$.setBoxShadow(ee.color?`1px 0 0 0 ${ee.color} inset`:""),$.setHeight(Math.min(s.scrollHeight,1e6)),$.setLeft(ee.column*this._typicalHalfwidthCharacterWidth)}}}var br=t(29133),so={};so.styleTagTransform=N(),so.setAttributes=T(),so.insert=p().bind(null,"head"),so.domAPI=l(),so.insertStyleElement=k(),d()(br.A,so);class ds extends le{constructor(s){super(s),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const E=this._context.configuration.options.get(103);this._useShadows=E.useShadows,this._domNode=(0,$e.Z)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const s=this._useShadows&&this._scrollTop>0;return this._shouldShow!==s&&(this._shouldShow=s,!0)}getDomNode(){return this._domNode}_updateWidth(){const u=this._context.configuration.options.get(145);this._width=0===u.minimap.renderMinimap||u.minimap.minimapWidth>0&&0===u.minimap.minimapLeft?u.width:u.width-u.verticalScrollbarWidth}onConfigurationChanged(s){const E=this._context.configuration.options.get(103);return this._useShadows=E.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(s){return this._scrollTop=s.scrollTop,this._updateShouldShow()}prepareRender(s){}render(s){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}var Ws=t(48829),ao={};ao.styleTagTransform=N(),ao.setAttributes=T(),ao.insert=p().bind(null,"head"),ao.domAPI=l(),ao.insertStyleElement=k(),d()(Ws.A,ao);class Es{constructor(s){this.left=s.left,this.width=s.width,this.startStyle=null,this.endStyle=null}}class Zs{constructor(s,u){this.lineNumber=s,this.ranges=u}}function Ka(Lt){return new Es(Lt)}function Ns(Lt){return new Zs(Lt.lineNumber,Lt.ranges.map(Ka))}let tc=(()=>{class Lt extends Pn{constructor(u){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=u;const E=this._context.configuration.options;this._roundedSelection=E.get(101),this._typicalHalfwidthCharacterWidth=E.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(u){const E=this._context.configuration.options;return this._roundedSelection=E.get(101),this._typicalHalfwidthCharacterWidth=E.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(u){return this._selections=u.selections.slice(0),!0}onDecorationsChanged(u){return!0}onFlushed(u){return!0}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollTopChanged}onZonesChanged(u){return!0}_visibleRangesHaveGaps(u){for(let E=0,$=u.length;E<$;E++)if(u[E].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(u,E,$){const ee=this._typicalHalfwidthCharacterWidth/4;let Ae=null,Be=null;if($&&$.length>0&&E.length>0){const et=E[0].lineNumber;if(et===u.startLineNumber)for(let xt=0;!Ae&&xt<$.length;xt++)$[xt].lineNumber===et&&(Ae=$[xt].ranges[0]);const gt=E[E.length-1].lineNumber;if(gt===u.endLineNumber)for(let xt=$.length-1;!Be&&xt>=0;xt--)$[xt].lineNumber===gt&&(Be=$[xt].ranges[0]);Ae&&!Ae.startStyle&&(Ae=null),Be&&!Be.startStyle&&(Be=null)}for(let et=0,gt=E.length;et<gt;et++){const xt=E[et].ranges[0],Kt=xt.left,Qt=xt.left+xt.width,rn={top:0,bottom:0},Dn={top:0,bottom:0};if(et>0){const Ln=E[et-1].ranges[0].left,Fn=E[et-1].ranges[0].left+E[et-1].ranges[0].width;ml(Kt-Ln)<ee?rn.top=2:Kt>Ln&&(rn.top=1),ml(Qt-Fn)<ee?Dn.top=2:Ln<Qt&&Qt<Fn&&(Dn.top=1)}else Ae&&(rn.top=Ae.startStyle.top,Dn.top=Ae.endStyle.top);if(et+1<gt){const Ln=E[et+1].ranges[0].left,Fn=E[et+1].ranges[0].left+E[et+1].ranges[0].width;ml(Kt-Ln)<ee?rn.bottom=2:Ln<Kt&&Kt<Fn&&(rn.bottom=1),ml(Qt-Fn)<ee?Dn.bottom=2:Qt<Fn&&(Dn.bottom=1)}else Be&&(rn.bottom=Be.startStyle.bottom,Dn.bottom=Be.endStyle.bottom);xt.startStyle=rn,xt.endStyle=Dn}}_getVisibleRangesWithStyle(u,E,$){const Ae=(E.linesVisibleRangesForRange(u,!0)||[]).map(Ns);return!this._visibleRangesHaveGaps(Ae)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(E.visibleRange,Ae,$),Ae}_createSelectionPiece(u,E,$,ee,Ae){return'<div class="cslr '+$+'" style="top:'+u.toString()+"px;bottom:"+E.toString()+"px;left:"+ee.toString()+"px;width:"+Ae.toString()+'px;"></div>'}_actualRenderOneSelection(u,E,$,ee){if(0===ee.length)return;const Ae=!!ee[0].ranges[0].startStyle,Be=ee[0].lineNumber,et=ee[ee.length-1].lineNumber;for(let gt=0,xt=ee.length;gt<xt;gt++){const Kt=ee[gt],Qt=Kt.lineNumber,rn=Qt-E,Dn=$&&Qt===Be?1:0,Ln=$&&Qt!==Be&&Qt===et?1:0;let Fn="",qn="";for(let di=0,si=Kt.ranges.length;di<si;di++){const Ci=Kt.ranges[di];if(Ae){const Oi=Ci.startStyle,Xi=Ci.endStyle;if(1===Oi.top||1===Oi.bottom){Fn+=this._createSelectionPiece(Dn,Ln,Lt.SELECTION_CLASS_NAME,Ci.left-Lt.ROUNDED_PIECE_WIDTH,Lt.ROUNDED_PIECE_WIDTH);let Ji=Lt.EDITOR_BACKGROUND_CLASS_NAME;1===Oi.top&&(Ji+=" "+Lt.SELECTION_TOP_RIGHT),1===Oi.bottom&&(Ji+=" "+Lt.SELECTION_BOTTOM_RIGHT),Fn+=this._createSelectionPiece(Dn,Ln,Ji,Ci.left-Lt.ROUNDED_PIECE_WIDTH,Lt.ROUNDED_PIECE_WIDTH)}if(1===Xi.top||1===Xi.bottom){Fn+=this._createSelectionPiece(Dn,Ln,Lt.SELECTION_CLASS_NAME,Ci.left+Ci.width,Lt.ROUNDED_PIECE_WIDTH);let Ji=Lt.EDITOR_BACKGROUND_CLASS_NAME;1===Xi.top&&(Ji+=" "+Lt.SELECTION_TOP_LEFT),1===Xi.bottom&&(Ji+=" "+Lt.SELECTION_BOTTOM_LEFT),Fn+=this._createSelectionPiece(Dn,Ln,Ji,Ci.left+Ci.width,Lt.ROUNDED_PIECE_WIDTH)}}let Bi=Lt.SELECTION_CLASS_NAME;if(Ae){const Oi=Ci.startStyle,Xi=Ci.endStyle;0===Oi.top&&(Bi+=" "+Lt.SELECTION_TOP_LEFT),0===Oi.bottom&&(Bi+=" "+Lt.SELECTION_BOTTOM_LEFT),0===Xi.top&&(Bi+=" "+Lt.SELECTION_TOP_RIGHT),0===Xi.bottom&&(Bi+=" "+Lt.SELECTION_BOTTOM_RIGHT)}qn+=this._createSelectionPiece(Dn,Ln,Bi,Ci.left,Ci.width)}u[rn][0]+=Fn,u[rn][1]+=qn}}prepareRender(u){const E=[],$=u.visibleRange.startLineNumber,ee=u.visibleRange.endLineNumber;for(let Be=$;Be<=ee;Be++)E[Be-$]=["",""];const Ae=[];for(let Be=0,et=this._selections.length;Be<et;Be++){const gt=this._selections[Be];if(gt.isEmpty()){Ae[Be]=null;continue}const xt=this._getVisibleRangesWithStyle(gt,u,this._previousFrameVisibleRangesWithStyle[Be]);Ae[Be]=xt,this._actualRenderOneSelection(E,$,this._selections.length>1,xt)}this._previousFrameVisibleRangesWithStyle=Ae,this._renderResult=E.map(([Be,et])=>Be+et)}render(u,E){if(!this._renderResult)return"";const $=E-u;return $<0||$>=this._renderResult.length?"":this._renderResult[$]}}return Lt.SELECTION_CLASS_NAME="selected-text",Lt.SELECTION_TOP_LEFT="top-left-radius",Lt.SELECTION_BOTTOM_LEFT="bottom-left-radius",Lt.SELECTION_TOP_RIGHT="top-right-radius",Lt.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Lt.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Lt.ROUNDED_PIECE_WIDTH=10,Lt})();function ml(Lt){return Lt<0?-Lt:Lt}(0,pt.zy)((Lt,s)=>{const u=Lt.getColor(Lo.rm4);u&&!u.isTransparent()&&s.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${u}; }`)});var $a=t(2289),pl={};pl.styleTagTransform=N(),pl.setAttributes=T(),pl.insert=p().bind(null,"head"),pl.domAPI=l(),pl.insertStyleElement=k(),d()($a.A,pl);class nc{constructor(s,u,E,$,ee,Ae,Be){this.top=s,this.left=u,this.paddingLeft=E,this.width=$,this.height=ee,this.textContent=Ae,this.textContentClassName=Be}}var Tr=function(Lt){return Lt[Lt.Single=0]="Single",Lt[Lt.MultiPrimary=1]="MultiPrimary",Lt[Lt.MultiSecondary=2]="MultiSecondary",Lt}(Tr||{});class Ma{constructor(s,u){this._context=s;const E=this._context.configuration.options,$=E.get(50);this._cursorStyle=E.get(28),this._lineHeight=E.get(67),this._typicalHalfwidthCharacterWidth=$.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(E.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,$e.Z)(document.createElement("div")),this._domNode.setClassName(`cursor ${mn}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,te.M)(this._domNode,$),this._domNode.setDisplay("none"),this._position=new Ce.y(1,1),this._pluralityClass="",this.setPlurality(u),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}setPlurality(s){switch(s){default:case Tr.Single:this._pluralityClass="";break;case Tr.MultiPrimary:this._pluralityClass="cursor-primary";break;case Tr.MultiSecondary:this._pluralityClass="cursor-secondary"}}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(s){const u=this._context.configuration.options,E=u.get(50);return this._cursorStyle=u.get(28),this._lineHeight=u.get(67),this._typicalHalfwidthCharacterWidth=E.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(u.get(31),this._typicalHalfwidthCharacterWidth),(0,te.M)(this._domNode,E),!0}onCursorPositionChanged(s,u){return this._domNode.domNode.style.transitionProperty=u?"none":"",this._position=s,!0}_getGraphemeAwarePosition(){const{lineNumber:s,column:u}=this._position,E=this._context.viewModel.getLineContent(s),[$,ee]=ei.m(E,u-1);return[new Ce.y(s,$+1),E.substring($,ee)]}_prepareRender(s){let u="",E="";const[$,ee]=this._getGraphemeAwarePosition();if(this._cursorStyle===ae.m9.Line||this._cursorStyle===ae.m9.LineThin){const Qt=s.visibleRangeForPosition($);if(!Qt||Qt.outsideRenderedLine)return null;const rn=b.zk(this._domNode.domNode);let Dn;this._cursorStyle===ae.m9.Line?(Dn=b.vT(rn,this._lineCursorWidth>0?this._lineCursorWidth:2),Dn>2&&(u=ee,E=this._getTokenClassName($))):Dn=b.vT(rn,1);let Ln=Qt.left,Fn=0;Dn>=2&&Ln>=1&&(Fn=1,Ln-=Fn);const qn=s.getVerticalOffsetForLineNumber($.lineNumber)-s.bigNumbersDelta;return new nc(qn,Ln,Fn,Dn,this._lineHeight,u,E)}const Ae=s.linesVisibleRangesForRange(new Ne.Q($.lineNumber,$.column,$.lineNumber,$.column+ee.length),!1);if(!Ae||0===Ae.length)return null;const Be=Ae[0];if(Be.outsideRenderedLine||0===Be.ranges.length)return null;const et=Be.ranges[0],gt="\t"===ee||et.width<1?this._typicalHalfwidthCharacterWidth:et.width;this._cursorStyle===ae.m9.Block&&(u=ee,E=this._getTokenClassName($));let xt=s.getVerticalOffsetForLineNumber($.lineNumber)-s.bigNumbersDelta,Kt=this._lineHeight;return(this._cursorStyle===ae.m9.Underline||this._cursorStyle===ae.m9.UnderlineThin)&&(xt+=this._lineHeight-2,Kt=2),new nc(xt,et.left,0,gt,Kt,u,E)}_getTokenClassName(s){const u=this._context.viewModel.getViewLineData(s.lineNumber),E=u.tokens.findTokenIndexAtOffset(s.column-1);return u.tokens.getClassName(E)}prepareRender(s){this._renderData=this._prepareRender(s)}render(s){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${this._pluralityClass} ${mn} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}let Ga=(()=>{class Lt extends le{constructor(u){super(u);const E=this._context.configuration.options;this._readOnly=E.get(91),this._cursorBlinking=E.get(26),this._cursorStyle=E.get(28),this._cursorSmoothCaretAnimation=E.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Ma(this._context,Tr.Single),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,$e.Z)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Xn.pc,this._cursorFlatBlinkInterval=new b.Be,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(u){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(u){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(u){const E=this._context.configuration.options;this._readOnly=E.get(91),this._cursorBlinking=E.get(26),this._cursorStyle=E.get(28),this._cursorSmoothCaretAnimation=E.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(u);for(let $=0,ee=this._secondaryCursors.length;$<ee;$++)this._secondaryCursors[$].onConfigurationChanged(u);return!0}_onCursorPositionChanged(u,E,$){const ee=this._secondaryCursors.length!==E.length||"explicit"===this._cursorSmoothCaretAnimation&&3!==$;if(this._primaryCursor.setPlurality(E.length?Tr.MultiPrimary:Tr.Single),this._primaryCursor.onCursorPositionChanged(u,ee),this._updateBlinking(),this._secondaryCursors.length<E.length){const Ae=E.length-this._secondaryCursors.length;for(let Be=0;Be<Ae;Be++){const et=new Ma(this._context,Tr.MultiSecondary);this._domNode.domNode.insertBefore(et.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(et)}}else if(this._secondaryCursors.length>E.length){const Ae=this._secondaryCursors.length-E.length;for(let Be=0;Be<Ae;Be++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let Ae=0;Ae<E.length;Ae++)this._secondaryCursors[Ae].onCursorPositionChanged(E[Ae],ee)}onCursorStateChanged(u){const E=[];for(let ee=0,Ae=u.selections.length;ee<Ae;ee++)E[ee]=u.selections[ee].getPosition();this._onCursorPositionChanged(E[0],E.slice(1),u.reason);const $=u.selections[0].isEmpty();return this._selectionIsEmpty!==$&&(this._selectionIsEmpty=$,this._updateDomClassName()),!0}onDecorationsChanged(u){return!0}onFlushed(u){return!0}onFocusChanged(u){return this._editorHasFocus=u.isFocused,this._updateBlinking(),!1}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return!0}onTokensChanged(u){const E=$=>{for(let ee=0,Ae=u.ranges.length;ee<Ae;ee++)if(u.ranges[ee].fromLineNumber<=$.lineNumber&&$.lineNumber<=u.ranges[ee].toLineNumber)return!0;return!1};if(E(this._primaryCursor.getPosition()))return!0;for(const $ of this._secondaryCursors)if(E($.getPosition()))return!0;return!1}onZonesChanged(u){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const u=this._getCursorBlinking(),E=0===u,$=5===u;E?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!E&&!$&&(1===u?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},Lt.BLINK_INTERVAL,(0,b.zk)(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Lt.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let u="cursors-layer";switch(this._selectionIsEmpty||(u+=" has-selection"),this._cursorStyle){case ae.m9.Line:u+=" cursor-line-style";break;case ae.m9.Block:u+=" cursor-block-style";break;case ae.m9.Underline:u+=" cursor-underline-style";break;case ae.m9.LineThin:u+=" cursor-line-thin-style";break;case ae.m9.BlockOutline:u+=" cursor-block-outline-style";break;case ae.m9.UnderlineThin:u+=" cursor-underline-thin-style";break;default:u+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:u+=" cursor-blink";break;case 2:u+=" cursor-smooth";break;case 3:u+=" cursor-phase";break;case 4:u+=" cursor-expand";break;default:u+=" cursor-solid"}else u+=" cursor-solid";return("on"===this._cursorSmoothCaretAnimation||"explicit"===this._cursorSmoothCaretAnimation)&&(u+=" cursor-smooth-caret-animation"),u}_show(){this._primaryCursor.show();for(let u=0,E=this._secondaryCursors.length;u<E;u++)this._secondaryCursors[u].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let u=0,E=this._secondaryCursors.length;u<E;u++)this._secondaryCursors[u].hide();this._isVisible=!1}prepareRender(u){this._primaryCursor.prepareRender(u);for(let E=0,$=this._secondaryCursors.length;E<$;E++)this._secondaryCursors[E].prepareRender(u)}render(u){const E=[];let $=0;const ee=this._primaryCursor.render(u);ee&&(E[$++]=ee);for(let Ae=0,Be=this._secondaryCursors.length;Ae<Be;Ae++){const et=this._secondaryCursors[Ae].render(u);et&&(E[$++]=et)}this._renderData=E}getLastRenderData(){return this._renderData}}return Lt.BLINK_INTERVAL=500,Lt})();(0,pt.zy)((Lt,s)=>{const u=[{class:".cursor",foreground:ct.D0,background:ct.kM},{class:".cursor-primary",foreground:ct.sC,background:ct.je},{class:".cursor-secondary",foreground:ct.we,background:ct.L0}];for(const E of u){const $=Lt.getColor(E.foreground);if($){let ee=Lt.getColor(E.background);ee||(ee=$.opposite()),s.addRule(`.monaco-editor .cursors-layer ${E.class} { background-color: ${$}; border-color: ${$}; color: ${ee}; }`),(0,Zt.Bb)(Lt.type)&&s.addRule(`.monaco-editor .cursors-layer.has-selection ${E.class} { border-left: 1px solid ${ee}; border-right: 1px solid ${ee}; }`)}}});const iu=()=>{throw new Error("Invalid change accessor")};class Qa extends le{constructor(s){super(s);const u=this._context.configuration.options,E=u.get(145);this._lineHeight=u.get(67),this._contentWidth=E.contentWidth,this._contentLeft=E.contentLeft,this.domNode=(0,$e.Z)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,$e.Z)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const s=this._context.viewLayout.getWhitespaces(),u=new Map;for(const $ of s)u.set($.id,$);let E=!1;return this._context.viewModel.changeWhitespace($=>{const ee=Object.keys(this._zones);for(let Ae=0,Be=ee.length;Ae<Be;Ae++){const et=ee[Ae],gt=this._zones[et],xt=this._computeWhitespaceProps(gt.delegate);gt.isInHiddenArea=xt.isInHiddenArea;const Kt=u.get(et);Kt&&(Kt.afterLineNumber!==xt.afterViewLineNumber||Kt.height!==xt.heightInPx)&&($.changeOneWhitespace(et,xt.afterViewLineNumber,xt.heightInPx),this._safeCallOnComputedHeight(gt.delegate,xt.heightInPx),E=!0)}}),E}onConfigurationChanged(s){const u=this._context.configuration.options,E=u.get(145);return this._lineHeight=u.get(67),this._contentWidth=E.contentWidth,this._contentLeft=E.contentLeft,s.hasChanged(67)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(s){return this._recomputeWhitespacesProps()}onLinesDeleted(s){return!0}onScrollChanged(s){return s.scrollTopChanged||s.scrollWidthChanged}onZonesChanged(s){return!0}onLinesInserted(s){return!0}_getZoneOrdinal(s){var u,E;return null!==(E=null!==(u=s.ordinal)&&void 0!==u?u:s.afterColumn)&&void 0!==E?E:1e4}_computeWhitespaceProps(s){if(0===s.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(s),minWidthInPx:this._minWidthInPixels(s)};let u,E;if(typeof s.afterColumn<"u")u=this._context.viewModel.model.validatePosition({lineNumber:s.afterLineNumber,column:s.afterColumn});else{const Ae=this._context.viewModel.model.validatePosition({lineNumber:s.afterLineNumber,column:1}).lineNumber;u=new Ce.y(Ae,this._context.viewModel.model.getLineMaxColumn(Ae))}E=u.column===this._context.viewModel.model.getLineMaxColumn(u.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:u.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:u.lineNumber,column:u.column+1});const $=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(u,s.afterColumnAffinity,!0),ee=s.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(E);return{isInHiddenArea:!ee,afterViewLineNumber:$.lineNumber,heightInPx:ee?this._heightInPixels(s):0,minWidthInPx:this._minWidthInPixels(s)}}changeViewZones(s){let u=!1;return this._context.viewModel.changeWhitespace(E=>{const $={addZone:ee=>(u=!0,this._addZone(E,ee)),removeZone:ee=>{ee&&(u=this._removeZone(E,ee)||u)},layoutZone:ee=>{ee&&(u=this._layoutZone(E,ee)||u)}};(function bh(Lt,s){try{return Lt(s)}catch(u){(0,P.dz)(u)}})(s,$),$.addZone=iu,$.removeZone=iu,$.layoutZone=iu}),u}_addZone(s,u){const E=this._computeWhitespaceProps(u),ee={whitespaceId:s.insertWhitespace(E.afterViewLineNumber,this._getZoneOrdinal(u),E.heightInPx,E.minWidthInPx),delegate:u,isInHiddenArea:E.isInHiddenArea,isVisible:!1,domNode:(0,$e.Z)(u.domNode),marginDomNode:u.marginDomNode?(0,$e.Z)(u.marginDomNode):null};return this._safeCallOnComputedHeight(ee.delegate,E.heightInPx),ee.domNode.setPosition("absolute"),ee.domNode.domNode.style.width="100%",ee.domNode.setDisplay("none"),ee.domNode.setAttribute("monaco-view-zone",ee.whitespaceId),this.domNode.appendChild(ee.domNode),ee.marginDomNode&&(ee.marginDomNode.setPosition("absolute"),ee.marginDomNode.domNode.style.width="100%",ee.marginDomNode.setDisplay("none"),ee.marginDomNode.setAttribute("monaco-view-zone",ee.whitespaceId),this.marginDomNode.appendChild(ee.marginDomNode)),this._zones[ee.whitespaceId]=ee,this.setShouldRender(),ee.whitespaceId}_removeZone(s,u){if(this._zones.hasOwnProperty(u)){const E=this._zones[u];return delete this._zones[u],s.removeWhitespace(E.whitespaceId),E.domNode.removeAttribute("monaco-visible-view-zone"),E.domNode.removeAttribute("monaco-view-zone"),E.domNode.domNode.parentNode.removeChild(E.domNode.domNode),E.marginDomNode&&(E.marginDomNode.removeAttribute("monaco-visible-view-zone"),E.marginDomNode.removeAttribute("monaco-view-zone"),E.marginDomNode.domNode.parentNode.removeChild(E.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(s,u){if(this._zones.hasOwnProperty(u)){const E=this._zones[u],$=this._computeWhitespaceProps(E.delegate);return E.isInHiddenArea=$.isInHiddenArea,s.changeOneWhitespace(E.whitespaceId,$.afterViewLineNumber,$.heightInPx),this._safeCallOnComputedHeight(E.delegate,$.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(s){return!!this._zones.hasOwnProperty(s)&&!!this._zones[s].delegate.suppressMouseDown}_heightInPixels(s){return"number"==typeof s.heightInPx?s.heightInPx:"number"==typeof s.heightInLines?this._lineHeight*s.heightInLines:this._lineHeight}_minWidthInPixels(s){return"number"==typeof s.minWidthInPx?s.minWidthInPx:0}_safeCallOnComputedHeight(s,u){if("function"==typeof s.onComputedHeight)try{s.onComputedHeight(u)}catch(E){(0,P.dz)(E)}}_safeCallOnDomNodeTop(s,u){if("function"==typeof s.onDomNodeTop)try{s.onDomNodeTop(u)}catch(E){(0,P.dz)(E)}}prepareRender(s){}render(s){const u=s.viewportData.whitespaceViewportData,E={};let $=!1;for(const Ae of u)this._zones[Ae.id].isInHiddenArea||(E[Ae.id]=Ae,$=!0);const ee=Object.keys(this._zones);for(let Ae=0,Be=ee.length;Ae<Be;Ae++){const et=ee[Ae],gt=this._zones[et];let xt=0,Kt=0,Qt="none";E.hasOwnProperty(et)?(xt=E[et].verticalOffset-s.bigNumbersDelta,Kt=E[et].height,Qt="block",gt.isVisible||(gt.domNode.setAttribute("monaco-visible-view-zone","true"),gt.isVisible=!0),this._safeCallOnDomNodeTop(gt.delegate,s.getScrolledTopFromAbsoluteTop(E[et].verticalOffset))):(gt.isVisible&&(gt.domNode.removeAttribute("monaco-visible-view-zone"),gt.isVisible=!1),this._safeCallOnDomNodeTop(gt.delegate,s.getScrolledTopFromAbsoluteTop(-1e6))),gt.domNode.setTop(xt),gt.domNode.setHeight(Kt),gt.domNode.setDisplay(Qt),gt.marginDomNode&&(gt.marginDomNode.setTop(xt),gt.marginDomNode.setHeight(Kt),gt.marginDomNode.setDisplay(Qt))}$&&(this.domNode.setWidth(Math.max(s.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}var Ia=t(98189),ta={};ta.styleTagTransform=N(),ta.setAttributes=T(),ta.insert=p().bind(null,"head"),ta.domAPI=l(),ta.insertStyleElement=k(),d()(Ia.A,ta);var Sd=t(38993);class oc extends Pn{constructor(s){super(),this._context=s,this._options=new Ql(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(s){const u=new Ql(this._context.configuration);return this._options.equals(u)?s.hasChanged(145):(this._options=u,!0)}onCursorStateChanged(s){return this._selection=s.selections,"selection"===this._options.renderWhitespace}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLinesChanged(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return s.scrollTopChanged}onZonesChanged(s){return!0}prepareRender(s){if("none"===this._options.renderWhitespace)return void(this._renderResult=null);const $=s.visibleRange.endLineNumber-s.visibleRange.startLineNumber+1,ee=new Array($);for(let Be=0;Be<$;Be++)ee[Be]=!0;const Ae=this._context.viewModel.getMinimapLinesRenderingData(s.viewportData.startLineNumber,s.viewportData.endLineNumber,ee);this._renderResult=[];for(let Be=s.viewportData.startLineNumber;Be<=s.viewportData.endLineNumber;Be++){const et=Be-s.viewportData.startLineNumber,gt=Ae.data[et];let xt=null;if("selection"===this._options.renderWhitespace){const Kt=this._selection;for(const Qt of Kt){if(Qt.endLineNumber<Be||Qt.startLineNumber>Be)continue;const rn=Qt.startLineNumber===Be?Qt.startColumn:gt.minColumn,Dn=Qt.endLineNumber===Be?Qt.endColumn:gt.maxColumn;rn<Dn&&(xt||(xt=[]),xt.push(new Sd.MT(rn-1,Dn-1)))}}this._renderResult[et]=this._applyRenderWhitespace(s,Be,xt,gt)}}_applyRenderWhitespace(s,u,E,$){if("selection"===this._options.renderWhitespace&&!E||"trailing"===this._options.renderWhitespace&&$.continuesWithWrappedLine)return"";const ee=this._context.theme.getColor(ct.w4),Ae=this._options.renderWithSVG,Be=$.content,et=-1===this._options.stopRenderingLineAfter?Be.length:Math.min(this._options.stopRenderingLineAfter,Be.length),gt=$.continuesWithWrappedLine,xt=$.minColumn-1,Kt="boundary"===this._options.renderWhitespace,Qt="trailing"===this._options.renderWhitespace,rn=this._options.lineHeight,Dn=this._options.middotWidth,Fn=this._options.spaceWidth,si=Math.abs(this._options.wsmiddotWidth-Fn)<Math.abs(Dn-Fn)?11825:183,Ci=this._options.canUseHalfwidthRightwardsArrow;let Ji,Bi="",Oi=!1,Xi=ei.HG(Be);-1===Xi?(Oi=!0,Xi=et,Ji=et):Ji=ei.lT(Be);let no=0,qi=E&&E[no],oo=0;for(let Qi=xt;Qi<et;Qi++){const ro=Be.charCodeAt(Qi);if(qi&&Qi>=qi.endOffset&&(no++,qi=E&&E[no]),9!==ro&&32!==ro||Qt&&!Oi&&Qi<=Ji)continue;if(Kt&&Qi>=Xi&&Qi<=Ji&&32===ro){const ko=Qi-1>=0?Be.charCodeAt(Qi-1):0,bs=Qi+1<et?Be.charCodeAt(Qi+1):0;if(32!==ko&&32!==bs)continue}if(Kt&&gt&&Qi===et-1){const ko=Qi-1>=0?Be.charCodeAt(Qi-1):0;if(32===ro&&32!==ko&&9!==ko)continue}if(E&&(!qi||qi.startOffset>Qi||qi.endOffset<=Qi))continue;const Qo=s.visibleRangeForPosition(new Ce.y(u,Qi+1));Qo&&(Ae?(oo=Math.max(oo,Qo.left),Bi+=9===ro?this._renderArrow(rn,Fn,Qo.left):`<circle cx="${(Qo.left+Fn/2).toFixed(2)}" cy="${(rn/2).toFixed(2)}" r="${(Fn/7).toFixed(2)}" />`):Bi+=9===ro?`<div class="mwh" style="left:${Qo.left}px;height:${rn}px;">${Ci?"\uffeb":"\u2192"}</div>`:`<div class="mwh" style="left:${Qo.left}px;height:${rn}px;">${String.fromCharCode(si)}</div>`)}return Ae?(oo=Math.round(oo+Fn),`<svg style="bottom:0;position:absolute;width:${oo}px;height:${rn}px" viewBox="0 0 ${oo} ${rn}" xmlns="http://www.w3.org/2000/svg" fill="${ee}">`+Bi+"</svg>"):Bi}_renderArrow(s,u,E){const Ae=s/2,Be=E,et={x:0,y:u/7/2},gt={x:.8*u,y:et.y},xt={x:gt.x-.2*gt.x,y:gt.y+.2*gt.x},Kt={x:xt.x+.1*gt.x,y:xt.y+.1*gt.x},Qt={x:Kt.x+.35*gt.x,y:Kt.y-.35*gt.x};return`<path d="M ${[et,gt,xt,Kt,Qt,{x:Qt.x,y:-Qt.y},{x:Kt.x,y:-Kt.y},{x:xt.x,y:-xt.y},{x:gt.x,y:-gt.y},{x:et.x,y:-et.y}].map(Ci=>`${(Be+Ci.x).toFixed(2)} ${(Ae+Ci.y).toFixed(2)}`).join(" L ")}" />`}render(s,u){if(!this._renderResult)return"";const E=u-s;return E<0||E>=this._renderResult.length?"":this._renderResult[E]}}class Ql{constructor(s){const u=s.options,E=u.get(50),$=u.get(38);"off"===$?(this.renderWhitespace="none",this.renderWithSVG=!1):"svg"===$?(this.renderWhitespace=u.get(99),this.renderWithSVG=!0):(this.renderWhitespace=u.get(99),this.renderWithSVG=!1),this.spaceWidth=E.spaceWidth,this.middotWidth=E.middotWidth,this.wsmiddotWidth=E.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=E.canUseHalfwidthRightwardsArrow,this.lineHeight=u.get(67),this.stopRenderingLineAfter=u.get(117)}equals(s){return this.renderWhitespace===s.renderWhitespace&&this.renderWithSVG===s.renderWithSVG&&this.spaceWidth===s.spaceWidth&&this.middotWidth===s.middotWidth&&this.wsmiddotWidth===s.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===s.canUseHalfwidthRightwardsArrow&&this.lineHeight===s.lineHeight&&this.stopRenderingLineAfter===s.stopRenderingLineAfter}}class Yl{constructor(s,u,E,$){this.selections=s,this.startLineNumber=0|u.startLineNumber,this.endLineNumber=0|u.endLineNumber,this.relativeVerticalOffset=u.relativeVerticalOffset,this.bigNumbersDelta=0|u.bigNumbersDelta,this.lineHeight=0|u.lineHeight,this.whitespaceViewportData=E,this._model=$,this.visibleRange=new Ne.Q(u.startLineNumber,this._model.getLineMinColumn(u.startLineNumber),u.endLineNumber,this._model.getLineMaxColumn(u.endLineNumber))}getViewLineRenderingData(s){return this._model.getViewportViewLineRenderingData(this.visibleRange,s)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class Dd{get type(){return this._theme.type}get value(){return this._theme}constructor(s){this._theme=s}update(s){this._theme=s}getColor(s){return this._theme.getColor(s)}}class fa{constructor(s,u,E){this.configuration=s,this.theme=new Dd(u),this.viewModel=E,this.viewLayout=E.viewLayout}addEventHandler(s){this.viewModel.addViewEventHandler(s)}removeEventHandler(s){this.viewModel.removeViewEventHandler(s)}}let Ta=class extends me{constructor(s,u,E,$,ee,Ae,Be){super(),this._instantiationService=Be,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new Ye.L(1,1,1,1)],this._renderAnimationFrame=null;const et=new zt(u,$,ee,s);this._context=new fa(u,E,$),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(at,this._context,et,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,$e.Z)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,$e.Z)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,$e.Z)(document.createElement("div")),Ee.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Gi(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new go(this._context,this._linesContent),this._viewZones=new Qa(this._context),this._viewParts.push(this._viewZones);const gt=new Kl(this._context);this._viewParts.push(gt);const xt=new ds(this._context);this._viewParts.push(xt);const Kt=new $i(this._context);this._viewParts.push(Kt),Kt.addDynamicOverlay(new Jn(this._context)),Kt.addDynamicOverlay(new tc(this._context)),Kt.addDynamicOverlay(new Gn(this._context)),Kt.addDynamicOverlay(new vi(this._context)),Kt.addDynamicOverlay(new oc(this._context));const Qt=new Zi(this._context);this._viewParts.push(Qt),Qt.addDynamicOverlay(new pi(this._context)),Qt.addDynamicOverlay(new Vo(this._context)),Qt.addDynamicOverlay(new ts(this._context)),Qt.addDynamicOverlay(new Tt(this._context)),this._glyphMarginWidgets=new Te(this._context),this._viewParts.push(this._glyphMarginWidgets);const rn=new Wn(this._context);rn.getDomNode().appendChild(this._viewZones.marginDomNode),rn.getDomNode().appendChild(Qt.getDomNode()),rn.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(rn),this._contentWidgets=new Hn(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Ga(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new zs(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const Dn=new Cr(this._context);this._viewParts.push(Dn);const Ln=new An(this._context);this._viewParts.push(Ln);const Fn=new Bs(this._context);if(this._viewParts.push(Fn),gt){const qn=this._scrollbar.getOverviewRulerLayoutInfo();qn.parent.insertBefore(gt.getDomNode(),qn.insertBefore)}this._linesContent.appendChild(Kt.getDomNode()),this._linesContent.appendChild(Dn.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(rn.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(xt.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(Fn.getDomNode()),this._overflowGuardContainer.appendChild(Ln.domNode),this.domNode.appendChild(this._overflowGuardContainer),Ae?(Ae.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),Ae.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode)),this._applyLayout(),this._pointerHandler=this._register(new Nt(this._context,et,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const s=this._context.viewModel.model,u=this._context.viewModel.glyphLanes;let E=[],$=0;E=E.concat(s.getAllMarginDecorations().map(ee=>{var Ae,Be,et;const gt=null!==(Be=null===(Ae=ee.options.glyphMargin)||void 0===Ae?void 0:Ae.position)&&void 0!==Be?Be:B.ZS.Center;return $=Math.max($,ee.range.endLineNumber),{range:ee.range,lane:gt,persist:null===(et=ee.options.glyphMargin)||void 0===et?void 0:et.persistLane}})),E=E.concat(this._glyphMarginWidgets.getWidgets().map(ee=>{const Ae=s.validateRange(ee.preference.range);return $=Math.max($,Ae.endLineNumber),{range:Ae,lane:ee.preference.lane}})),E.sort((ee,Ae)=>Ne.Q.compareRangesUsingStarts(ee.range,Ae.range)),u.reset($);for(const ee of E)u.push(ee.lane,ee.range,ee.persist);return u}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:s=>{this._textAreaHandler.textArea.domNode.dispatchEvent(s)},getLastRenderData:()=>{const s=this._viewCursors.getLastRenderData()||[],u=this._textAreaHandler.getLastRenderData();return new ht(s,u)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:s=>this._viewZones.shouldSuppressMouseDownOnViewZone(s),shouldSuppressMouseDownOnWidget:s=>this._contentWidgets.shouldSuppressMouseDownOnWidget(s),getPositionFromDOMInfo:(s,u)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(s,u)),visibleRangeForPosition:(s,u)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Ce.y(s,u))),getLineWidth:s=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(s))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:s=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(s))}}_applyLayout(){const u=this._context.configuration.options.get(145);this.domNode.setWidth(u.width),this.domNode.setHeight(u.height),this._overflowGuardContainer.setWidth(u.width),this._overflowGuardContainer.setHeight(u.height),this._linesContent.setWidth(16777216),this._linesContent.setHeight(16777216)}_getEditorClassName(){const s=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(142)+" "+(0,pt.Pz)(this._context.theme.type)+s}handleEvents(s){super.handleEvents(s),this._scheduleRender()}onConfigurationChanged(s){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(s){return this._selections=s.selections,!1}onDecorationsChanged(s){return s.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(s){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(s){return this._context.theme.update(s.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const s of this._viewParts)s.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new P.D7;if(null===this._renderAnimationFrame){const s=this._createCoordinatedRendering();this._renderAnimationFrame=sc.INSTANCE.scheduleCoordinatedRendering({window:b.zk(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new P.D7;try{return s.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new P.D7;return s.renderText()},prepareRender:(u,E)=>{if(this._store.isDisposed)throw new P.D7;return s.prepareRender(u,E)},render:(u,E)=>{if(this._store.isDisposed)throw new P.D7;return s.render(u,E)}})}}_flushAccumulatedAndRenderNow(){const s=this._createCoordinatedRendering();ka(()=>s.prepareRenderText());const u=ka(()=>s.renderText());if(u){const[E,$]=u;ka(()=>s.prepareRender(E,$)),ka(()=>s.render(E,$))}}_getViewPartsToRender(){const s=[];let u=0;for(const E of this._viewParts)E.shouldRender()&&(s[u++]=E);return s}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const s=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount(s.requiredLanes)}it.p.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let s=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===s.length)return null;const u=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(u.startLineNumber,u.endLineNumber,u.centeredLineNumber);const E=new Yl(this._selections,u,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(E),this._viewLines.shouldRender()&&(this._viewLines.renderText(E),this._viewLines.onDidRender(),s=this._getViewPartsToRender()),[s,new Et.eh(this._context.viewLayout,E,this._viewLines)]},prepareRender:(s,u)=>{for(const E of s)E.prepareRender(u)},render:(s,u)=>{for(const E of s)E.render(u),E.onDidRender()}}}delegateVerticalScrollbarPointerDown(s){this._scrollbar.delegateVerticalScrollbarPointerDown(s)}delegateScrollFromMouseWheelEvent(s){this._scrollbar.delegateScrollFromMouseWheelEvent(s)}restoreState(s){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:s.scrollTop,scrollLeft:s.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(s,u){const E=this._context.viewModel.model.validatePosition({lineNumber:s,column:u}),$=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(E);this._flushAccumulatedAndRenderNow();const ee=this._viewLines.visibleRangeForPosition(new Ce.y($.lineNumber,$.column));return ee?ee.left:-1}getTargetAtClientPoint(s,u){const E=this._pointerHandler.getTargetAtClientPoint(s,u);return E?Pi.convertViewToModelMouseTarget(E,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(s){return new bd(this._context,s)}change(s){this._viewZones.changeViewZones(s),this._scheduleRender()}render(s,u){if(u){this._viewLines.forceShouldRender();for(const E of this._viewParts)E.forceShouldRender()}s?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(s){this._textAreaHandler.writeScreenReaderContent(s)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(s){this._textAreaHandler.setAriaOptions(s)}addContentWidget(s){this._contentWidgets.addWidget(s.widget),this.layoutContentWidget(s),this._scheduleRender()}layoutContentWidget(s){var u,E,$,ee,Ae,Be,et,gt;this._contentWidgets.setWidgetPosition(s.widget,null!==(E=null===(u=s.position)||void 0===u?void 0:u.position)&&void 0!==E?E:null,null!==(ee=null===($=s.position)||void 0===$?void 0:$.secondaryPosition)&&void 0!==ee?ee:null,null!==(Be=null===(Ae=s.position)||void 0===Ae?void 0:Ae.preference)&&void 0!==Be?Be:null,null!==(gt=null===(et=s.position)||void 0===et?void 0:et.positionAffinity)&&void 0!==gt?gt:null),this._scheduleRender()}removeContentWidget(s){this._contentWidgets.removeWidget(s.widget),this._scheduleRender()}addOverlayWidget(s){this._overlayWidgets.addWidget(s.widget),this.layoutOverlayWidget(s),this._scheduleRender()}layoutOverlayWidget(s){this._overlayWidgets.setWidgetPosition(s.widget,s.position)&&this._scheduleRender()}removeOverlayWidget(s){this._overlayWidgets.removeWidget(s.widget),this._scheduleRender()}addGlyphMarginWidget(s){this._glyphMarginWidgets.addWidget(s.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(s){this._glyphMarginWidgets.setWidgetPosition(s.widget,s.position)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(s){this._glyphMarginWidgets.removeWidget(s.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};function ka(Lt){try{return Lt()}catch(s){return(0,P.dz)(s),null}}Ta=function(Lt,s,u,E){var Ae,$=arguments.length,ee=$<3?s:null===E?E=Object.getOwnPropertyDescriptor(s,u):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ee=Reflect.decorate(Lt,s,u,E);else for(var Be=Lt.length-1;Be>=0;Be--)(Ae=Lt[Be])&&(ee=($<3?Ae(ee):$>3?Ae(s,u,ee):Ae(s,u))||ee);return $>3&&ee&&Object.defineProperty(s,u,ee),ee}([function(Lt,s){return function(u,E){s(u,E,6)}}(0,fi._Y)],Ta);class sc{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(s){return this._coordinatedRenderings.push(s),this._scheduleRender(s.window),{dispose:()=>{const u=this._coordinatedRenderings.indexOf(s);if(-1!==u&&(this._coordinatedRenderings.splice(u,1),0===this._coordinatedRenderings.length)){for(const[E,$]of this._animationFrameRunners)$.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(s){this._animationFrameRunners.has(s)||this._animationFrameRunners.set(s,b.Oq(s,()=>{this._animationFrameRunners.delete(s),this._onRenderScheduled()},100))}_onRenderScheduled(){const s=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const E of s)ka(()=>E.prepareRenderText());const u=[];for(let E=0,$=s.length;E<$;E++){const ee=s[E];u[E]=ka(()=>ee.renderText())}for(let E=0,$=s.length;E<$;E++){const ee=s[E],Ae=u[E];if(!Ae)continue;const[Be,et]=Ae;ka(()=>ee.prepareRender(Be,et))}for(let E=0,$=s.length;E<$;E++){const ee=s[E],Ae=u[E];if(!Ae)continue;const[Be,et]=Ae;ka(()=>ee.render(Be,et))}}}sc.INSTANCE=new sc;var ou=t(43929);class na{constructor(s,u,E,$,ee){this.injectionOffsets=s,this.injectionOptions=u,this.breakOffsets=E,this.breakOffsetsVisibleColumn=$,this.wrappedTextIndentLength=ee}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(s){return s>0?this.wrappedTextIndentLength:0}getLineLength(s){let $=this.breakOffsets[s]-(s>0?this.breakOffsets[s-1]:0);return s>0&&($+=this.wrappedTextIndentLength),$}getMaxOutputOffset(s){return this.getLineLength(s)}translateToInputOffset(s,u){s>0&&(u=Math.max(0,u-this.wrappedTextIndentLength));let $=0===s?u:this.breakOffsets[s-1]+u;if(null!==this.injectionOffsets)for(let ee=0;ee<this.injectionOffsets.length&&$>this.injectionOffsets[ee];ee++)$<this.injectionOffsets[ee]+this.injectionOptions[ee].content.length?$=this.injectionOffsets[ee]:$-=this.injectionOptions[ee].content.length;return $}translateToOutputPosition(s,u=2){let E=s;if(null!==this.injectionOffsets)for(let $=0;$<this.injectionOffsets.length&&!(s<this.injectionOffsets[$]||1!==u&&s===this.injectionOffsets[$]);$++)E+=this.injectionOptions[$].content.length;return this.offsetInInputWithInjectionsToOutputPosition(E,u)}offsetInInputWithInjectionsToOutputPosition(s,u=2){let E=0,$=this.breakOffsets.length-1,ee=0,Ae=0;for(;E<=$;){ee=E+($-E)/2|0;const et=this.breakOffsets[ee];if(Ae=ee>0?this.breakOffsets[ee-1]:0,0===u)if(s<=Ae)$=ee-1;else{if(!(s>et))break;E=ee+1}else if(s<Ae)$=ee-1;else{if(!(s>=et))break;E=ee+1}}let Be=s-Ae;return ee>0&&(Be+=this.wrappedTextIndentLength),new ga(ee,Be)}normalizeOutputPosition(s,u,E){if(null!==this.injectionOffsets){const $=this.outputPositionToOffsetInInputWithInjections(s,u),ee=this.normalizeOffsetInInputWithInjectionsAroundInjections($,E);if(ee!==$)return this.offsetInInputWithInjectionsToOutputPosition(ee,E)}if(0===E){if(s>0&&u===this.getMinOutputOffset(s))return new ga(s-1,this.getMaxOutputOffset(s-1))}else if(1===E&&s<this.getOutputLineCount()-1&&u===this.getMaxOutputOffset(s))return new ga(s+1,this.getMinOutputOffset(s+1));return new ga(s,u)}outputPositionToOffsetInInputWithInjections(s,u){return s>0&&(u=Math.max(0,u-this.wrappedTextIndentLength)),(s>0?this.breakOffsets[s-1]:0)+u}normalizeOffsetInInputWithInjectionsAroundInjections(s,u){const E=this.getInjectedTextAtOffset(s);if(!E)return s;if(2===u){if(s===E.offsetInInputWithInjections+E.length&&su(this.injectionOptions[E.injectedTextIndex].cursorStops))return E.offsetInInputWithInjections+E.length;{let $=E.offsetInInputWithInjections;if(rc(this.injectionOptions[E.injectedTextIndex].cursorStops))return $;let ee=E.injectedTextIndex-1;for(;ee>=0&&this.injectionOffsets[ee]===this.injectionOffsets[E.injectedTextIndex]&&!su(this.injectionOptions[ee].cursorStops)&&($-=this.injectionOptions[ee].content.length,!rc(this.injectionOptions[ee].cursorStops));)ee--;return $}}if(1===u||4===u){let $=E.offsetInInputWithInjections+E.length,ee=E.injectedTextIndex;for(;ee+1<this.injectionOffsets.length&&this.injectionOffsets[ee+1]===this.injectionOffsets[ee];)$+=this.injectionOptions[ee+1].content.length,ee++;return $}if(0===u||3===u){let $=E.offsetInInputWithInjections,ee=E.injectedTextIndex;for(;ee-1>=0&&this.injectionOffsets[ee-1]===this.injectionOffsets[ee];)$-=this.injectionOptions[ee-1].content.length,ee--;return $}(0,ou.xb)(u)}getInjectedText(s,u){const E=this.outputPositionToOffsetInInputWithInjections(s,u),$=this.getInjectedTextAtOffset(E);return $?{options:this.injectionOptions[$.injectedTextIndex]}:null}getInjectedTextAtOffset(s){const u=this.injectionOffsets,E=this.injectionOptions;if(null!==u){let $=0;for(let ee=0;ee<u.length;ee++){const Ae=E[ee].content.length,Be=u[ee]+$,et=u[ee]+$+Ae;if(Be>s)break;if(s<=et)return{injectedTextIndex:ee,offsetInInputWithInjections:Be,length:Ae};$+=Ae}}}}function su(Lt){return null==Lt||Lt===B.VW.Right||Lt===B.VW.Both}function rc(Lt){return null==Lt||Lt===B.VW.Left||Lt===B.VW.Both}class ga{constructor(s,u){this.outputLineIndex=s,this.outputOffset=u}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(s){return new Ce.y(s+this.outputLineIndex,this.outputOffset+1)}}var Pr=t(69382);const Ed=(0,sn.H)("domLineBreaksComputer",{createHTML:Lt=>Lt});class _l{static create(s){return new _l(new WeakRef(s))}constructor(s){this.targetWindow=s}createLineBreaksComputer(s,u,E,$,ee){const Ae=[],Be=[];return{addRequest:(et,gt,xt)=>{Ae.push(et),Be.push(gt)},finalize:()=>function vl(Lt,s,u,E,$,ee,Ae,Be){var et;function gt(qi){const oo=Be[qi];if(oo){const Qi=Pr.uK.applyInjectedText(s[qi],oo),ro=oo.map(ko=>ko.options),Qo=oo.map(ko=>ko.column-1);return new na(Qo,ro,[Qi.length],[],0)}return null}if(-1===$){const qi=[];for(let oo=0,Qi=s.length;oo<Qi;oo++)qi[oo]=gt(oo);return qi}const xt=Math.round($*u.typicalHalfwidthCharacterWidth),Qt=Math.round(E*(3===ee?2:2===ee?1:0)),rn=Math.ceil(u.spaceWidth*Qt),Dn=document.createElement("div");(0,te.M)(Dn,u);const Ln=new kn.fe(1e4),Fn=[],qn=[],di=[],si=[],Ci=[];for(let qi=0;qi<s.length;qi++){const oo=Pr.uK.applyInjectedText(s[qi],Be[qi]);let Qi=0,ro=0,Qo=xt;if(0!==ee)if(Qi=ei.HG(oo),-1===Qi)Qi=0;else{for(let jo=0;jo<Qi;jo++)ro+=9===oo.charCodeAt(jo)?E-ro%E:1;const Ms=Math.ceil(u.spaceWidth*ro);Ms+u.typicalFullwidthCharacterWidth>xt?(Qi=0,ro=0):Qo=xt-Ms}const ko=oo.substr(Qi),bs=ru(ko,ro,E,Qo,Ln,rn);Fn[qi]=Qi,qn[qi]=ro,di[qi]=ko,si[qi]=bs[0],Ci[qi]=bs[1]}const Bi=Ln.build(),Oi=null!==(et=Ed?.createHTML(Bi))&&void 0!==et?et:Bi;Dn.innerHTML=Oi,Dn.style.position="absolute",Dn.style.top="10000","keepAll"===Ae?(Dn.style.wordBreak="keep-all",Dn.style.overflowWrap="anywhere"):(Dn.style.wordBreak="inherit",Dn.style.overflowWrap="break-word"),Lt.document.body.appendChild(Dn);const Xi=document.createRange(),Ji=Array.prototype.slice.call(Dn.children,0),no=[];for(let qi=0;qi<s.length;qi++){const Qi=Pa(Xi,Ji[qi],di[qi],si[qi]);if(null===Qi){no[qi]=gt(qi);continue}const ro=Fn[qi],Qo=qn[qi]+Qt,ko=Ci[qi],bs=[];for(let bo=0,yr=Qi.length;bo<yr;bo++)bs[bo]=ko[Qi[bo]];if(0!==ro)for(let bo=0,yr=Qi.length;bo<yr;bo++)Qi[bo]+=ro;let Ms,jo;const zo=Be[qi];zo?(Ms=zo.map(bo=>bo.options),jo=zo.map(bo=>bo.column-1)):(Ms=null,jo=null),no[qi]=new na(jo,Ms,Qi,bs,Qo)}return Lt.document.body.removeChild(Dn),no}((0,_n.eU)(this.targetWindow.deref()),Ae,s,u,E,$,ee,Be)}}}function ru(Lt,s,u,E,$,ee){if(0!==ee){const Qt=String(ee);$.appendString('<div style="text-indent: -'),$.appendString(Qt),$.appendString("px; padding-left: "),$.appendString(Qt),$.appendString("px; box-sizing: border-box; width:")}else $.appendString('<div style="width:');$.appendString(String(E)),$.appendString('px;">');const Ae=Lt.length;let Be=s,et=0;const gt=[],xt=[];let Kt=0<Ae?Lt.charCodeAt(0):0;$.appendString("<span>");for(let Qt=0;Qt<Ae;Qt++){0!==Qt&&Qt%16384==0&&$.appendString("</span><span>"),gt[Qt]=et,xt[Qt]=Be;const rn=Kt;Kt=Qt+1<Ae?Lt.charCodeAt(Qt+1):0;let Dn=1,Ln=1;switch(rn){case 9:Dn=u-Be%u,Ln=Dn;for(let Fn=1;Fn<=Dn;Fn++)Fn<Dn?$.appendCharCode(160):$.appendASCIICharCode(32);break;case 32:32===Kt?$.appendCharCode(160):$.appendASCIICharCode(32);break;case 60:$.appendString("&lt;");break;case 62:$.appendString("&gt;");break;case 38:$.appendString("&amp;");break;case 0:$.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:$.appendCharCode(65533);break;default:ei.ne(rn)&&Ln++,$.appendCharCode(rn<32?9216+rn:rn)}et+=Dn,Be+=Ln}return $.appendString("</span>"),gt[Lt.length]=et,xt[Lt.length]=Be,$.appendString("</div>"),[gt,xt]}function Pa(Lt,s,u,E){if(u.length<=1)return null;const $=Array.prototype.slice.call(s.children,0),ee=[];try{ws(Lt,$,E,0,null,u.length-1,null,ee)}catch(Ae){return console.log(Ae),null}return 0===ee.length?null:(ee.push(u.length),ee)}function ws(Lt,s,u,E,$,ee,Ae,Be){if(E===ee||($=$||Or(Lt,s,u[E],u[E+1]),Ae=Ae||Or(Lt,s,u[ee],u[ee+1]),Math.abs($[0].top-Ae[0].top)<=.1))return;if(E+1===ee)return void Be.push(ee);const et=E+(ee-E)/2|0,gt=Or(Lt,s,u[et],u[et+1]);ws(Lt,s,u,E,$,et,gt,Be),ws(Lt,s,u,et,gt,ee,Ae,Be)}function Or(Lt,s,u,E){return Lt.setStart(s[u/16384|0].firstChild,u%16384),Lt.setEnd(s[E/16384|0].firstChild,E%16384),Lt.getClientRects()}class au extends v.jG{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new v.$w),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(s,u,E){this._editor=s,this._instantiationService=E;for(const $ of u)this._pending.has($.id)?(0,P.dz)(new Error(`Cannot have two contributions with the same id ${$.id}`)):this._pending.set($.id,$);this._instantiateSome(0),this._register((0,b.U3)((0,b.zk)(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register((0,b.U3)((0,b.zk)(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register((0,b.U3)((0,b.zk)(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const s={};for(const[u,E]of this._instances)"function"==typeof E.saveViewState&&(s[u]=E.saveViewState());return s}restoreViewState(s){for(const[u,E]of this._instances)"function"==typeof E.restoreViewState&&E.restoreViewState(s[u])}get(s){return this._instantiateById(s),this._instances.get(s)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var s;return(0,b.U3)((0,b.zk)(null===(s=this._editor)||void 0===s?void 0:s.getDomNode()),()=>{this._instantiateSome(1)},50)}_instantiateSome(s){if(this._finishedInstantiation[s])return;this._finishedInstantiation[s]=!0;const u=this._findPendingContributionsByInstantiation(s);for(const E of u)this._instantiateById(E.id)}_findPendingContributionsByInstantiation(s){const u=[];for(const[,E]of this._pending)E.instantiation===s&&u.push(E);return u}_instantiateById(s){const u=this._pending.get(s);if(u){if(this._pending.delete(s),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const E=this._instantiationService.createInstance(u.ctor,this._editor);this._instances.set(u.id,E),"function"==typeof E.restoreViewState&&0!==u.instantiation&&console.warn(`Editor contribution '${u.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(E){(0,P.dz)(E)}}}}var Za=t(27948),Cl=t(82656),wd=t(51967),Ko=t(69995),lu=t(70416),Oa=t(80753),yh=t(15307),Zl=t(72493);class fr{static create(s){return new fr(s.get(134),s.get(133))}constructor(s,u){this.classifier=new us(s,u)}createLineBreaksComputer(s,u,E,$,ee){const Ae=[],Be=[],et=[];return{addRequest:(gt,xt,Kt)=>{Ae.push(gt),Be.push(xt),et.push(Kt)},finalize:()=>{const gt=s.typicalFullwidthCharacterWidth/s.typicalHalfwidthCharacterWidth,xt=[];for(let Kt=0,Qt=Ae.length;Kt<Qt;Kt++){const rn=Be[Kt],Dn=et[Kt];xt[Kt]=!Dn||Dn.injectionOptions||rn?or(this.classifier,Ae[Kt],rn,u,E,gt,$,ee):Ls(this.classifier,Dn,Ae[Kt],u,E,gt,$,ee)}return zi.length=0,lo.length=0,xt}}}}class us extends Zl.V{constructor(s,u){super(0);for(let E=0;E<s.length;E++)this.set(s.charCodeAt(E),1);for(let E=0;E<u.length;E++)this.set(u.charCodeAt(E),2)}get(s){return s>=0&&s<256?this._asciiMap[s]:s>=12352&&s<=12543||s>=13312&&s<=19903||s>=19968&&s<=40959?3:this._map.get(s)||this._defaultValue}}let zi=[],lo=[];function Ls(Lt,s,u,E,$,ee,Ae,Be){if(-1===$)return null;const et=u.length;if(et<=1)return null;const gt="keepAll"===Be,xt=s.breakOffsets,Kt=s.breakOffsetsVisibleColumn,Qt=os(u,E,$,ee,Ae),rn=$-Qt,Dn=zi,Ln=lo;let Fn=0,qn=0,di=0,si=$;const Ci=xt.length;let Bi=0;if(Bi>=0){let Oi=Math.abs(Kt[Bi]-si);for(;Bi+1<Ci;){const Xi=Math.abs(Kt[Bi+1]-si);if(Xi>=Oi)break;Oi=Xi,Bi++}}for(;Bi<Ci;){let Oi=Bi<0?0:xt[Bi],Xi=Bi<0?0:Kt[Bi];qn>Oi&&(Oi=qn,Xi=di);let Ji=0,no=0,qi=0,oo=0;if(Xi<=si){let ro=Xi,Qo=0===Oi?0:u.charCodeAt(Oi-1),ko=0===Oi?0:Lt.get(Qo),bs=!0;for(let Ms=Oi;Ms<et;Ms++){const jo=Ms,zo=u.charCodeAt(Ms);let bo,yr;if(ei.pc(zo)?(Ms++,bo=0,yr=2):(bo=Lt.get(zo),yr=Ps(zo,ro,E,ee)),jo>qn&&ma(0,ko,zo,bo,gt)&&(Ji=jo,no=ro),ro+=yr,ro>si){jo>qn?(qi=jo,oo=ro-yr):(qi=Ms+1,oo=ro),ro-no>rn&&(Ji=0),bs=!1;break}Qo=zo,ko=bo}if(bs){Fn>0&&(Dn[Fn]=xt[xt.length-1],Ln[Fn]=Kt[xt.length-1],Fn++);break}}if(0===Ji){let ro=Xi,Qo=u.charCodeAt(Oi),ko=Lt.get(Qo),bs=!1;for(let Ms=Oi-1;Ms>=qn;Ms--){const jo=Ms+1,zo=u.charCodeAt(Ms);if(9===zo){bs=!0;break}let bo,yr;if(ei.LJ(zo)?(Ms--,bo=0,yr=2):(bo=Lt.get(zo),yr=ei.ne(zo)?ee:1),ro<=si){if(0===qi&&(qi=jo,oo=ro),ro<=si-rn)break;if(ma(0,bo,Qo,ko,gt)){Ji=jo,no=ro;break}}ro-=yr,Qo=zo,ko=bo}if(0!==Ji){const Ms=rn-(oo-no);if(Ms<=E){const jo=u.charCodeAt(qi);let zo;zo=ei.pc(jo)?2:Ps(jo,oo,E,ee),Ms-zo<0&&(Ji=0)}}if(bs){Bi--;continue}}if(0===Ji&&(Ji=qi,no=oo),Ji<=qn){const ro=u.charCodeAt(qn);ei.pc(ro)?(Ji=qn+2,no=di+2):(Ji=qn+1,no=di+Ps(ro,di,E,ee))}for(qn=Ji,Dn[Fn]=Ji,di=no,Ln[Fn]=no,Fn++,si=no+rn;Bi<0||Bi<Ci&&Kt[Bi]<no;)Bi++;let Qi=Math.abs(Kt[Bi]-si);for(;Bi+1<Ci;){const ro=Math.abs(Kt[Bi+1]-si);if(ro>=Qi)break;Qi=ro,Bi++}}return 0===Fn?null:(Dn.length=Fn,Ln.length=Fn,zi=s.breakOffsets,lo=s.breakOffsetsVisibleColumn,s.breakOffsets=Dn,s.breakOffsetsVisibleColumn=Ln,s.wrappedTextIndentLength=Qt,s)}function or(Lt,s,u,E,$,ee,Ae,Be){const et=Pr.uK.applyInjectedText(s,u);let gt,xt;if(u&&u.length>0?(gt=u.map(no=>no.options),xt=u.map(no=>no.column-1)):(gt=null,xt=null),-1===$)return gt?new na(xt,gt,[et.length],[],0):null;const Kt=et.length;if(Kt<=1)return gt?new na(xt,gt,[et.length],[],0):null;const Qt="keepAll"===Be,rn=os(et,E,$,ee,Ae),Dn=$-rn,Ln=[],Fn=[];let qn=0,di=0,si=0,Ci=$,Bi=et.charCodeAt(0),Oi=Lt.get(Bi),Xi=Ps(Bi,0,E,ee),Ji=1;ei.pc(Bi)&&(Xi+=1,Bi=et.charCodeAt(1),Oi=Lt.get(Bi),Ji++);for(let no=Ji;no<Kt;no++){const qi=no,oo=et.charCodeAt(no);let Qi,ro;ei.pc(oo)?(no++,Qi=0,ro=2):(Qi=Lt.get(oo),ro=Ps(oo,Xi,E,ee)),ma(0,Oi,oo,Qi,Qt)&&(di=qi,si=Xi),Xi+=ro,Xi>Ci&&((0===di||Xi-si>Dn)&&(di=qi,si=Xi-ro),Ln[qn]=di,Fn[qn]=si,qn++,Ci=si+Dn,di=0),Bi=oo,Oi=Qi}return 0!==qn||u&&0!==u.length?(Ln[qn]=Kt,Fn[qn]=Xi,new na(xt,gt,Ln,Fn,rn)):null}function Ps(Lt,s,u,E){return 9===Lt?u-s%u:ei.ne(Lt)||Lt<32?E:1}function gr(Lt,s){return s-Lt%s}function ma(Lt,s,u,E,$){return 32!==u&&(2===s&&2!==E||1!==s&&1===E||!$&&3===s&&2!==E||!$&&3===E&&1!==s)}function os(Lt,s,u,E,$){let ee=0;if(0!==$){const Ae=ei.HG(Lt);if(-1!==Ae){for(let et=0;et<Ae;et++)ee+=9===Lt.charCodeAt(et)?gr(ee,s):1;const Be=3===$?2:2===$?1:0;for(let et=0;et<Be;et++)ee+=gr(ee,s);ee+E>u&&(ee=0)}}return ee}var xs=t(92210),Go=t(31360);class uo{constructor(s){this._selTrackedRange=null,this._trackSelection=!0,this._setState(s,new Go.mG(new Ne.Q(1,1,1,1),0,0,new Ce.y(1,1),0),new Go.mG(new Ne.Q(1,1,1,1),0,0,new Ce.y(1,1),0))}dispose(s){this._removeTrackedRange(s)}startTrackingSelection(s){this._trackSelection=!0,this._updateTrackedRange(s)}stopTrackingSelection(s){this._trackSelection=!1,this._removeTrackedRange(s)}_updateTrackedRange(s){this._trackSelection&&(this._selTrackedRange=s.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(s){this._selTrackedRange=s.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Go.MF(this.modelState,this.viewState)}readSelectionFromMarkers(s){const u=s.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!u.isEmpty()?Ye.L.fromRange(u.collapseToEnd(),this.modelState.selection.getDirection()):Ye.L.fromRange(u,this.modelState.selection.getDirection())}ensureValidState(s){this._setState(s,this.modelState,this.viewState)}setState(s,u,E){this._setState(s,u,E)}static _validatePositionWithCache(s,u,E,$){return u.equals(E)?$:s.normalizePosition(u,2)}static _validateViewState(s,u){const E=u.position,$=u.selectionStart.getStartPosition(),ee=u.selectionStart.getEndPosition(),Ae=s.normalizePosition(E,2),Be=this._validatePositionWithCache(s,$,E,Ae),et=this._validatePositionWithCache(s,ee,$,Be);return E.equals(Ae)&&$.equals(Be)&&ee.equals(et)?u:new Go.mG(Ne.Q.fromPositions(Be,et),u.selectionStartKind,u.selectionStartLeftoverVisibleColumns+$.column-Be.column,Ae,u.leftoverVisibleColumns+E.column-Ae.column)}_setState(s,u,E){if(E&&(E=uo._validateViewState(s.viewModel,E)),u){const $=s.model.validateRange(u.selectionStart),ee=u.selectionStart.equalsRange($)?u.selectionStartLeftoverVisibleColumns:0,Ae=s.model.validatePosition(u.position),Be=u.position.equals(Ae)?u.leftoverVisibleColumns:0;u=new Go.mG($,u.selectionStartKind,ee,Ae,Be)}else{if(!E)return;const $=s.model.validateRange(s.coordinatesConverter.convertViewRangeToModelRange(E.selectionStart)),ee=s.model.validatePosition(s.coordinatesConverter.convertViewPositionToModelPosition(E.position));u=new Go.mG($,E.selectionStartKind,E.selectionStartLeftoverVisibleColumns,ee,E.leftoverVisibleColumns)}if(E){const $=s.coordinatesConverter.validateViewRange(E.selectionStart,u.selectionStart),ee=s.coordinatesConverter.validateViewPosition(E.position,u.position);E=new Go.mG($,u.selectionStartKind,u.selectionStartLeftoverVisibleColumns,ee,u.leftoverVisibleColumns)}else{const $=s.coordinatesConverter.convertModelPositionToViewPosition(new Ce.y(u.selectionStart.startLineNumber,u.selectionStart.startColumn)),ee=s.coordinatesConverter.convertModelPositionToViewPosition(new Ce.y(u.selectionStart.endLineNumber,u.selectionStart.endColumn)),Ae=new Ne.Q($.lineNumber,$.column,ee.lineNumber,ee.column),Be=s.coordinatesConverter.convertModelPositionToViewPosition(u.position);E=new Go.mG(Ae,u.selectionStartKind,u.selectionStartLeftoverVisibleColumns,Be,u.leftoverVisibleColumns)}this.modelState=u,this.viewState=E,this._updateTrackedRange(s)}}class bl{constructor(s){this.context=s,this.cursors=[new uo(s)],this.lastAddedCursorIndex=0}dispose(){for(const s of this.cursors)s.dispose(this.context)}startTrackingSelections(){for(const s of this.cursors)s.startTrackingSelection(this.context)}stopTrackingSelections(){for(const s of this.cursors)s.stopTrackingSelection(this.context)}updateContext(s){this.context=s}ensureValidState(){for(const s of this.cursors)s.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(s=>s.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(s=>s.asCursorState())}getViewPositions(){return this.cursors.map(s=>s.viewState.position)}getTopMostViewPosition(){return(0,xs.kh)(this.cursors,(0,U.VE)(s=>s.viewState.position,Ce.y.compare)).viewState.position}getBottomMostViewPosition(){return(0,xs.ot)(this.cursors,(0,U.VE)(s=>s.viewState.position,Ce.y.compare)).viewState.position}getSelections(){return this.cursors.map(s=>s.modelState.selection)}getViewSelections(){return this.cursors.map(s=>s.viewState.selection)}setSelections(s){this.setStates(Go.MF.fromModelSelections(s))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(s){null!==s&&(this.cursors[0].setState(this.context,s[0].modelState,s[0].viewState),this._setSecondaryStates(s.slice(1)))}_setSecondaryStates(s){const u=this.cursors.length-1,E=s.length;if(u<E){const $=E-u;for(let ee=0;ee<$;ee++)this._addSecondaryCursor()}else if(u>E){const $=u-E;for(let ee=0;ee<$;ee++)this._removeSecondaryCursor(this.cursors.length-2)}for(let $=0;$<E;$++)this.cursors[$+1].setState(this.context,s[$].modelState,s[$].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new uo(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(s){this.lastAddedCursorIndex>=s+1&&this.lastAddedCursorIndex--,this.cursors[s+1].dispose(this.context),this.cursors.splice(s+1,1)}normalize(){if(1===this.cursors.length)return;const s=this.cursors.slice(0),u=[];for(let E=0,$=s.length;E<$;E++)u.push({index:E,selection:s[E].modelState.selection});u.sort((0,U.VE)(E=>E.selection,Ne.Q.compareRangesUsingStarts));for(let E=0;E<u.length-1;E++){const $=u[E],ee=u[E+1],Ae=$.selection,Be=ee.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let et;if(et=Be.isEmpty()||Ae.isEmpty()?Be.getStartPosition().isBeforeOrEqual(Ae.getEndPosition()):Be.getStartPosition().isBefore(Ae.getEndPosition()),et){const gt=$.index<ee.index?E:E+1,xt=$.index<ee.index?E+1:E,Kt=u[xt].index,Qt=u[gt].index,rn=u[xt].selection,Dn=u[gt].selection;if(!rn.equalsSelection(Dn)){const Ln=rn.plusRange(Dn),qn=Dn.selectionStartLineNumber===Dn.startLineNumber&&Dn.selectionStartColumn===Dn.startColumn;let di,si;Kt===this.lastAddedCursorIndex?(di=rn.selectionStartLineNumber===rn.startLineNumber&&rn.selectionStartColumn===rn.startColumn,this.lastAddedCursorIndex=Qt):di=qn,si=di?new Ye.L(Ln.startLineNumber,Ln.startColumn,Ln.endLineNumber,Ln.endColumn):new Ye.L(Ln.endLineNumber,Ln.endColumn,Ln.startLineNumber,Ln.startColumn),u[gt].selection=si;const Ci=Go.MF.fromModelSelection(si);s[Qt].setState(this.context,Ci.modelState,Ci.viewState)}for(const Ln of u)Ln.index>Kt&&Ln.index--;s.splice(Kt,1),u.splice(xt,1),this._removeSecondaryCursor(Kt-1),E--}}}}class ac{constructor(s,u,E,$){this._cursorContextBrand=void 0,this.model=s,this.viewModel=u,this.coordinatesConverter=E,this.cursorConfig=$}}var Wr=t(68571),Zo=t(69527);class Xa{constructor(){this.type=0}}class Ja{constructor(){this.type=1}}class Vr{constructor(s){this.type=2,this._source=s}hasChanged(s){return this._source.hasChanged(s)}}class qa{constructor(s,u,E){this.selections=s,this.modelSelections=u,this.reason=E,this.type=3}}class Hr{constructor(s){this.type=4,s?(this.affectsMinimap=s.affectsMinimap,this.affectsOverviewRuler=s.affectsOverviewRuler,this.affectsGlyphMargin=s.affectsGlyphMargin,this.affectsLineNumber=s.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}class Er{constructor(){this.type=5}}class yl{constructor(s){this.type=6,this.isFocused=s}}class pa{constructor(){this.type=7}}class yo{constructor(){this.type=8}}class Ks{constructor(s,u){this.fromLineNumber=s,this.count=u,this.type=9}}class _a{constructor(s,u){this.type=10,this.fromLineNumber=s,this.toLineNumber=u}}class Rr{constructor(s,u){this.type=11,this.fromLineNumber=s,this.toLineNumber=u}}class Ra{constructor(s,u,E,$,ee,Ae,Be){this.source=s,this.minimalReveal=u,this.range=E,this.selections=$,this.verticalType=ee,this.revealHorizontal=Ae,this.scrollType=Be,this.type=12}}class el{constructor(s){this.type=13,this.scrollWidth=s.scrollWidth,this.scrollLeft=s.scrollLeft,this.scrollHeight=s.scrollHeight,this.scrollTop=s.scrollTop,this.scrollWidthChanged=s.scrollWidthChanged,this.scrollLeftChanged=s.scrollLeftChanged,this.scrollHeightChanged=s.scrollHeightChanged,this.scrollTopChanged=s.scrollTopChanged}}class Cs{constructor(s){this.theme=s,this.type=14}}class lc{constructor(s){this.type=15,this.ranges=s}}class sr{constructor(){this.type=16}}class rr{constructor(){this.type=17}}class Na extends v.jG{constructor(){super(),this._onEvent=this._register(new D.vl),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(s){this._addOutgoingEvent(s),this._emitOutgoingEvents()}_addOutgoingEvent(s){for(let u=0,E=this._outgoingEvents.length;u<E;u++){const $=this._outgoingEvents[u].kind===s.kind?this._outgoingEvents[u].attemptToMerge(s):null;if($)return void(this._outgoingEvents[u]=$)}this._outgoingEvents.push(s)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const s=this._outgoingEvents.shift();s.isNoOp()||this._onEvent.fire(s)}}addViewEventHandler(s){for(let u=0,E=this._eventHandlers.length;u<E;u++)this._eventHandlers[u]===s&&console.warn("Detected duplicate listener in ViewEventDispatcher",s);this._eventHandlers.push(s)}removeViewEventHandler(s){for(let u=0;u<this._eventHandlers.length;u++)if(this._eventHandlers[u]===s){this._eventHandlers.splice(u,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new Fa),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const s=this._collector.outgoingEvents,u=this._collector.viewEvents;this._collector=null;for(const E of s)this._addOutgoingEvent(E);u.length>0&&this._emitMany(u)}this._emitOutgoingEvents()}emitSingleViewEvent(s){try{this.beginEmitViewEvents().emitViewEvent(s)}finally{this.endEmitViewEvents()}}_emitMany(s){this._viewEventQueue=this._viewEventQueue?this._viewEventQueue.concat(s):s,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const s=this._viewEventQueue;this._viewEventQueue=null;const u=this._eventHandlers.slice(0);for(const E of u)E.handleEvents(s)}}}class Fa{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(s){this.viewEvents.push(s)}emitOutgoingEvent(s){this.outgoingEvents.push(s)}}class Ur{constructor(s,u,E,$){this.kind=0,this._oldContentWidth=s,this._oldContentHeight=u,this.contentWidth=E,this.contentHeight=$,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(s){return s.kind!==this.kind?null:new Ur(this._oldContentWidth,this._oldContentHeight,s.contentWidth,s.contentHeight)}}class wr{constructor(s,u){this.kind=1,this.oldHasFocus=s,this.hasFocus=u}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(s){return s.kind!==this.kind?null:new wr(this.oldHasFocus,s.hasFocus)}}class va{constructor(s,u,E,$,ee,Ae,Be,et){this.kind=2,this._oldScrollWidth=s,this._oldScrollLeft=u,this._oldScrollHeight=E,this._oldScrollTop=$,this.scrollWidth=ee,this.scrollLeft=Ae,this.scrollHeight=Be,this.scrollTop=et,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}attemptToMerge(s){return s.kind!==this.kind?null:new va(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,s.scrollWidth,s.scrollLeft,s.scrollHeight,s.scrollTop)}}class Sl{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(s){return s.kind!==this.kind?null:this}}class tl{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(s){return s.kind!==this.kind?null:this}}class Dl{constructor(s,u,E,$,ee,Ae,Be){this.kind=6,this.oldSelections=s,this.selections=u,this.oldModelVersionId=E,this.modelVersionId=$,this.source=ee,this.reason=Ae,this.reachedMaxCursorCount=Be}static _selectionsAreEqual(s,u){if(!s&&!u)return!0;if(!s||!u)return!1;const E=s.length;if(E!==u.length)return!1;for(let ee=0;ee<E;ee++)if(!s[ee].equalsSelection(u[ee]))return!1;return!0}isNoOp(){return Dl._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(s){return s.kind!==this.kind?null:new Dl(this.oldSelections,s.selections,this.oldModelVersionId,s.modelVersionId,s.source,s.reason,this.reachedMaxCursorCount||s.reachedMaxCursorCount)}}class du{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(s){return s.kind!==this.kind?null:this}}class Sh{constructor(s){this.event=s,this.kind=7}isNoOp(){return!1}attemptToMerge(s){return null}}class El{constructor(s){this.event=s,this.kind=8}isNoOp(){return!1}attemptToMerge(s){return null}}class rg{constructor(s){this.event=s,this.kind=9}isNoOp(){return!1}attemptToMerge(s){return null}}class dc{constructor(s){this.event=s,this.kind=10}isNoOp(){return!1}attemptToMerge(s){return null}}class Xl{constructor(s){this.event=s,this.kind=11}isNoOp(){return!1}attemptToMerge(s){return null}}class kp{constructor(s){this.event=s,this.kind=12}isNoOp(){return!1}attemptToMerge(s){return null}}class Pp extends v.jG{constructor(s,u,E,$){super(),this._model=s,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=u,this._coordinatesConverter=E,this.context=new ac(this._model,this._viewModel,this._coordinatesConverter,$),this._cursors=new bl(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,v.AS)(this._autoClosedActions),super.dispose()}updateConfiguration(s){this.context=new ac(this._model,this._viewModel,this._coordinatesConverter,s),this._cursors.updateContext(this.context)}onLineMappingChanged(s){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(s,"viewModel",0,this.getCursorStates())}setHasFocus(s){this._hasFocus=s}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const s=this._cursors.getSelections();for(let u=0;u<this._autoClosedActions.length;u++){const E=this._autoClosedActions[u];E.isValid(s)||(E.dispose(),this._autoClosedActions.splice(u,1),u--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(s,u,E,$){let ee=!1;const Ae=this.context.cursorConfig.multiCursorLimit;null!==$&&$.length>Ae&&($=$.slice(0,Ae),ee=!0);const Be=Jl.from(this._model,this);return this._cursors.setStates($),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(s,u,E,Be,ee)}setCursorColumnSelectData(s){this._columnSelectData=s}revealAll(s,u,E,$,ee,Ae){const Be=this._cursors.getViewPositions();let et=null,gt=null;Be.length>1?gt=this._cursors.getViewSelections():et=Ne.Q.fromPositions(Be[0],Be[0]),s.emitViewEvent(new Ra(u,E,et,gt,$,ee,Ae))}revealPrimary(s,u,E,$,ee,Ae){const et=[this._cursors.getPrimaryCursor().viewState.selection];s.emitViewEvent(new Ra(u,E,null,et,$,ee,Ae))}saveState(){const s=[],u=this._cursors.getSelections();for(let E=0,$=u.length;E<$;E++){const ee=u[E];s.push({inSelectionMode:!ee.isEmpty(),selectionStart:{lineNumber:ee.selectionStartLineNumber,column:ee.selectionStartColumn},position:{lineNumber:ee.positionLineNumber,column:ee.positionColumn}})}return s}restoreState(s,u){const E=[];for(let $=0,ee=u.length;$<ee;$++){const Ae=u[$];let Be=1,et=1;Ae.position&&Ae.position.lineNumber&&(Be=Ae.position.lineNumber),Ae.position&&Ae.position.column&&(et=Ae.position.column);let gt=Be,xt=et;Ae.selectionStart&&Ae.selectionStart.lineNumber&&(gt=Ae.selectionStart.lineNumber),Ae.selectionStart&&Ae.selectionStart.column&&(xt=Ae.selectionStart.column),E.push({selectionStartLineNumber:gt,selectionStartColumn:xt,positionLineNumber:Be,positionColumn:et})}this.setStates(s,"restoreState",0,Go.MF.fromModelSelections(E)),this.revealAll(s,"restoreState",!1,0,!0,1)}onModelContentChanged(s,u){if(u instanceof Pr.vn){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(s,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const E=u.rawContentChangedEvent;if(this._knownModelVersionId=E.versionId,this._isHandling)return;const $=E.containsEvent(1);if(this._prevEditOperationType=0,$)this._cursors.dispose(),this._cursors=new bl(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(s,"model",1,null,!1);else if(this._hasFocus&&E.resultingSelection&&E.resultingSelection.length>0){const ee=Go.MF.fromModelSelections(E.resultingSelection);this.setStates(s,"modelChange",E.isUndoing?5:E.isRedoing?6:2,ee)&&this.revealAll(s,"modelChange",!1,0,!0,0)}else{const ee=this._cursors.readSelectionFromMarkers();this.setStates(s,"modelChange",2,Go.MF.fromModelSelections(ee))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const s=this._cursors.getPrimaryCursor(),u=s.viewState.selectionStart.getStartPosition(),E=s.viewState.position;return{isReal:!1,fromViewLineNumber:u.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,u),toViewLineNumber:E.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,E)}}getSelections(){return this._cursors.getSelections()}setSelections(s,u,E,$){this.setStates(s,u,$,Go.MF.fromModelSelections(E))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(s){this._prevEditOperationType=s}_pushAutoClosedAction(s,u){const E=[],$=[];for(let Be=0,et=s.length;Be<et;Be++)E.push({range:s[Be],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),$.push({range:u[Be],options:{description:"auto-closed-enclosing",stickiness:1}});const ee=this._model.deltaDecorations([],E),Ae=this._model.deltaDecorations([],$);this._autoClosedActions.push(new Co(this._model,ee,Ae))}_executeEditOperation(s){if(!s)return;s.shouldPushStackElementBefore&&this._model.pushStackElement();const u=ag.executeCommands(this._model,this._cursors.getSelections(),s.commands);if(u){this._interpretCommandResult(u);const E=[],$=[];for(let ee=0;ee<s.commands.length;ee++){const Ae=s.commands[ee];Ae instanceof Zo.yl&&Ae.enclosingRange&&Ae.closeCharacterRange&&(E.push(Ae.closeCharacterRange),$.push(Ae.enclosingRange))}E.length>0&&this._pushAutoClosedAction(E,$),this._prevEditOperationType=s.type}s.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(s){(!s||0===s.length)&&(s=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(s),this._cursors.normalize()}_emitStateChangedIfNecessary(s,u,E,$,ee){const Ae=Jl.from(this._model,this);if(Ae.equals($))return!1;const Be=this._cursors.getSelections(),et=this._cursors.getViewSelections();if(s.emitViewEvent(new qa(et,Be,E)),!$||$.cursorState.length!==Ae.cursorState.length||Ae.cursorState.some((gt,xt)=>!gt.modelState.equals($.cursorState[xt].modelState))){const gt=$?$.cursorState.map(Kt=>Kt.modelState.selection):null;s.emitOutgoingEvent(new Dl(gt,Be,$?$.modelVersionId:0,Ae.modelVersionId,u||"keyboard",E,ee))}return!0}_findAutoClosingPairs(s){if(!s.length)return null;const u=[];for(let E=0,$=s.length;E<$;E++){const ee=s[E];if(!ee.text||ee.text.indexOf("\n")>=0)return null;const Ae=ee.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Ae)return null;const et=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(Ae[1]);if(!et||1!==et.length)return null;const xt=ee.text.length-Ae[2].length-1,Kt=ee.text.lastIndexOf(et[0].open,xt-1);if(-1===Kt)return null;u.push([Kt,xt])}return u}executeEdits(s,u,E,$){let ee=null;"snippet"===u&&(ee=this._findAutoClosingPairs(E)),ee&&(E[0]._isTracked=!0);const Ae=[],Be=[],et=this._model.pushEditOperations(this.getSelections(),E,gt=>{if(ee)for(let Kt=0,Qt=ee.length;Kt<Qt;Kt++){const[rn,Dn]=ee[Kt],Ln=gt[Kt],Fn=Ln.range.startLineNumber,qn=Ln.range.startColumn-1+rn,di=Ln.range.startColumn-1+Dn;Ae.push(new Ne.Q(Fn,di+1,Fn,di+2)),Be.push(new Ne.Q(Fn,qn+1,Fn,di+2))}const xt=$(gt);return xt&&(this._isHandling=!0),xt});et&&(this._isHandling=!1,this.setSelections(s,u,et,0)),Ae.length>0&&this._pushAutoClosedAction(Ae,Be)}_executeEdit(s,u,E,$=0){if(this.context.cursorConfig.readOnly)return;const ee=Jl.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),s()}catch(Ae){(0,P.dz)(Ae)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(u,E,$,ee,!1)&&this.revealAll(u,E,!1,0,!0,0)}getAutoClosedCharacters(){return Co.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(s){this._compositionState=new wl(this._model,this.getSelections())}endComposition(s,u){const E=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{"keyboard"===u&&this._executeEditOperation(Zo.TK.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,E,this.getSelections(),this.getAutoClosedCharacters()))},s,u)}type(s,u,E){this._executeEdit(()=>{if("keyboard"===E){const $=u.length;let ee=0;for(;ee<$;){const Ae=ei.iy(u,ee),Be=u.substr(ee,Ae);this._executeEditOperation(Zo.TK.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),Be)),ee+=Ae}}else this._executeEditOperation(Zo.TK.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),u))},s,E)}compositionType(s,u,E,$,ee,Ae){if(0!==u.length||0!==E||0!==$)this._executeEdit(()=>{this._executeEditOperation(Zo.TK.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),u,E,$,ee))},s,Ae);else if(0!==ee){const Be=this.getSelections().map(et=>{const gt=et.getPosition();return new Ye.L(gt.lineNumber,gt.column+ee,gt.lineNumber,gt.column+ee)});this.setSelections(s,Ae,Be,0)}}paste(s,u,E,$,ee){this._executeEdit(()=>{this._executeEditOperation(Zo.TK.paste(this.context.cursorConfig,this._model,this.getSelections(),u,E,$||[]))},s,ee,4)}cut(s,u){this._executeEdit(()=>{this._executeEditOperation(Wr.g.cut(this.context.cursorConfig,this._model,this.getSelections()))},s,u)}executeCommand(s,u,E){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Go.vY(0,[u],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},s,E)}executeCommands(s,u,E){this._executeEdit(()=>{this._executeEditOperation(new Go.vY(0,u,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},s,E)}}class Jl{static from(s,u){return new Jl(s.getVersionId(),u.getCursorStates())}constructor(s,u){this.modelVersionId=s,this.cursorState=u}equals(s){if(!s||this.modelVersionId!==s.modelVersionId||this.cursorState.length!==s.cursorState.length)return!1;for(let u=0,E=this.cursorState.length;u<E;u++)if(!this.cursorState[u].equals(s.cursorState[u]))return!1;return!0}}class Co{static getAllAutoClosedCharacters(s){let u=[];for(const E of s)u=u.concat(E.getAutoClosedCharactersRanges());return u}constructor(s,u,E){this._model=s,this._autoClosedCharactersDecorations=u,this._autoClosedEnclosingDecorations=E}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const s=[];for(let u=0;u<this._autoClosedCharactersDecorations.length;u++){const E=this._model.getDecorationRange(this._autoClosedCharactersDecorations[u]);E&&s.push(E)}return s}isValid(s){const u=[];for(let E=0;E<this._autoClosedEnclosingDecorations.length;E++){const $=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[E]);if($&&(u.push($),$.startLineNumber!==$.endLineNumber))return!1}u.sort(Ne.Q.compareRangesUsingStarts),s.sort(Ne.Q.compareRangesUsingStarts);for(let E=0;E<s.length;E++)if(E>=u.length||!u[E].strictContainsRange(s[E]))return!1;return!0}}class ag{static executeCommands(s,u,E){const $={model:s,selectionsBefore:u,trackedRanges:[],trackedRangesDirection:[]},ee=this._innerExecuteCommands($,E);for(let Ae=0,Be=$.trackedRanges.length;Ae<Be;Ae++)$.model._setTrackedRange($.trackedRanges[Ae],null,0);return ee}static _innerExecuteCommands(s,u){if(this._arrayIsEmpty(u))return null;const E=this._getEditOperations(s,u);if(0===E.operations.length)return null;const $=E.operations,ee=this._getLoserCursorMap($);if(ee.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const Ae=[];for(let gt=0,xt=$.length;gt<xt;gt++)ee.hasOwnProperty($[gt].identifier.major.toString())||Ae.push($[gt]);E.hadTrackedEditOperation&&Ae.length>0&&(Ae[0]._isTracked=!0);let Be=s.model.pushEditOperations(s.selectionsBefore,Ae,gt=>{const xt=[];for(let rn=0;rn<s.selectionsBefore.length;rn++)xt[rn]=[];for(const rn of gt)rn.identifier&&xt[rn.identifier.major].push(rn);const Kt=(rn,Dn)=>rn.identifier.minor-Dn.identifier.minor,Qt=[];for(let rn=0;rn<s.selectionsBefore.length;rn++)xt[rn].length>0?(xt[rn].sort(Kt),Qt[rn]=u[rn].computeCursorState(s.model,{getInverseEditOperations:()=>xt[rn],getTrackedSelection:Dn=>{const Ln=parseInt(Dn,10),Fn=s.model._getTrackedRange(s.trackedRanges[Ln]);return 0===s.trackedRangesDirection[Ln]?new Ye.L(Fn.startLineNumber,Fn.startColumn,Fn.endLineNumber,Fn.endColumn):new Ye.L(Fn.endLineNumber,Fn.endColumn,Fn.startLineNumber,Fn.startColumn)}})):Qt[rn]=s.selectionsBefore[rn];return Qt});Be||(Be=s.selectionsBefore);const et=[];for(const gt in ee)ee.hasOwnProperty(gt)&&et.push(parseInt(gt,10));et.sort((gt,xt)=>xt-gt);for(const gt of et)Be.splice(gt,1);return Be}static _arrayIsEmpty(s){for(let u=0,E=s.length;u<E;u++)if(s[u])return!1;return!0}static _getEditOperations(s,u){let E=[],$=!1;for(let ee=0,Ae=u.length;ee<Ae;ee++){const Be=u[ee];if(Be){const et=this._getEditOperationsFromCommand(s,ee,Be);E=E.concat(et.operations),$=$||et.hadTrackedEditOperation}}return{operations:E,hadTrackedEditOperation:$}}static _getEditOperationsFromCommand(s,u,E){const $=[];let ee=0;const Ae=(Kt,Qt,rn=!1)=>{Ne.Q.isEmpty(Kt)&&""===Qt||$.push({identifier:{major:u,minor:ee++},range:Kt,text:Qt,forceMoveMarkers:rn,isAutoWhitespaceEdit:E.insertsAutoWhitespace})};let Be=!1;const xt={addEditOperation:Ae,addTrackedEditOperation:(Kt,Qt,rn)=>{Be=!0,Ae(Kt,Qt,rn)},trackSelection:(Kt,Qt)=>{const rn=Ye.L.liftSelection(Kt);let Dn;if(rn.isEmpty())if("boolean"==typeof Qt)Dn=Qt?2:3;else{const qn=s.model.getLineMaxColumn(rn.startLineNumber);Dn=rn.startColumn===qn?2:3}else Dn=1;const Ln=s.trackedRanges.length,Fn=s.model._setTrackedRange(null,rn,Dn);return s.trackedRanges[Ln]=Fn,s.trackedRangesDirection[Ln]=rn.getDirection(),Ln.toString()}};try{E.getEditOperations(s.model,xt)}catch(Kt){return(0,P.dz)(Kt),{operations:[],hadTrackedEditOperation:!1}}return{operations:$,hadTrackedEditOperation:Be}}static _getLoserCursorMap(s){(s=s.slice(0)).sort((E,$)=>-Ne.Q.compareRangesUsingEnds(E.range,$.range));const u={};for(let E=1;E<s.length;E++){const $=s[E-1],ee=s[E];if(Ne.Q.getStartPosition($.range).isBefore(Ne.Q.getEndPosition(ee.range))){let Ae;Ae=$.identifier.major>ee.identifier.major?$.identifier.major:ee.identifier.major,u[Ae.toString()]=!0;for(let Be=0;Be<s.length;Be++)s[Be].identifier.major===Ae&&(s.splice(Be,1),Be<E&&E--,Be--);E>0&&E--}}return u}}class Dh{constructor(s,u,E){this.text=s,this.startSelection=u,this.endSelection=E}}class wl{static _capture(s,u){const E=[];for(const $ of u){if($.startLineNumber!==$.endLineNumber)return null;E.push(new Dh(s.getLineContent($.startLineNumber),$.startColumn-1,$.endColumn-1))}return E}constructor(s,u){this._original=wl._capture(s,u)}deduceOutcome(s,u){if(!this._original)return null;const E=wl._capture(s,u);if(!E||this._original.length!==E.length)return null;const $=[];for(let ee=0,Ae=this._original.length;ee<Ae;ee++)$.push(wl._deduceOutcome(this._original[ee],E[ee]));return $}static _deduceOutcome(s,u){const E=Math.min(s.startSelection,u.startSelection,ei.Qp(s.text,u.text)),$=Math.min(s.text.length-s.endSelection,u.text.length-u.endSelection,ei.Vi(s.text,u.text)),ee=s.text.substring(E,s.text.length-$),Ae=u.text.substring(E,u.text.length-$);return new Zo.vS(ee,s.startSelection-E,s.endSelection-E,Ae,u.startSelection-E,u.endSelection-E)}}var lg=t(37864),cc=t(99879),nl=t(42110);class Eh{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(s){this._hasPending=!0,this._inserts.push(s)}change(s){this._hasPending=!0,this._changes.push(s)}remove(s){this._hasPending=!0,this._removes.push(s)}mustCommit(){return this._hasPending}commit(s){if(!this._hasPending)return;const u=this._inserts,E=this._changes,$=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],s._commitPendingChanges(u,E,$)}}class Op{constructor(s,u,E,$,ee){this.id=s,this.afterLineNumber=u,this.ordinal=E,this.height=$,this.minWidth=ee,this.prefixSum=0}}let cu=(()=>{class Lt{constructor(u,E,$,ee){this._instanceId=ei.tk(++Lt.INSTANCE_COUNT),this._pendingChanges=new Eh,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=u,this._lineHeight=E,this._paddingTop=$,this._paddingBottom=ee}static findInsertionIndex(u,E,$){let ee=0,Ae=u.length;for(;ee<Ae;){const Be=ee+Ae>>>1;E===u[Be].afterLineNumber?$<u[Be].ordinal?Ae=Be:ee=Be+1:E<u[Be].afterLineNumber?Ae=Be:ee=Be+1}return ee}setLineHeight(u){this._checkPendingChanges(),this._lineHeight=u}setPadding(u,E){this._paddingTop=u,this._paddingBottom=E}onFlushed(u){this._checkPendingChanges(),this._lineCount=u}changeWhitespace(u){let E=!1;try{u({insertWhitespace:(ee,Ae,Be,et)=>{E=!0,ee|=0,Ae|=0,Be|=0,et|=0;const gt=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Op(gt,ee,Ae,Be,et)),gt},changeOneWhitespace:(ee,Ae,Be)=>{E=!0,this._pendingChanges.change({id:ee,newAfterLineNumber:Ae|=0,newHeight:Be|=0})},removeWhitespace:ee=>{E=!0,this._pendingChanges.remove({id:ee})}})}finally{this._pendingChanges.commit(this)}return E}_commitPendingChanges(u,E,$){if((u.length>0||$.length>0)&&(this._minWidth=-1),u.length+E.length+$.length<=1){for(const gt of u)this._insertWhitespace(gt);for(const gt of E)this._changeOneWhitespace(gt.id,gt.newAfterLineNumber,gt.newHeight);for(const gt of $){const xt=this._findWhitespaceIndex(gt.id);-1!==xt&&this._removeWhitespace(xt)}return}const ee=new Set;for(const gt of $)ee.add(gt.id);const Ae=new Map;for(const gt of E)Ae.set(gt.id,gt);const Be=gt=>{const xt=[];for(const Kt of gt)if(!ee.has(Kt.id)){if(Ae.has(Kt.id)){const Qt=Ae.get(Kt.id);Kt.afterLineNumber=Qt.newAfterLineNumber,Kt.height=Qt.newHeight}xt.push(Kt)}return xt},et=Be(this._arr).concat(Be(u));et.sort((gt,xt)=>gt.afterLineNumber===xt.afterLineNumber?gt.ordinal-xt.ordinal:gt.afterLineNumber-xt.afterLineNumber),this._arr=et,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(u){const E=Lt.findInsertionIndex(this._arr,u.afterLineNumber,u.ordinal);this._arr.splice(E,0,u),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,E-1)}_findWhitespaceIndex(u){const E=this._arr;for(let $=0,ee=E.length;$<ee;$++)if(E[$].id===u)return $;return-1}_changeOneWhitespace(u,E,$){const ee=this._findWhitespaceIndex(u);if(-1!==ee&&(this._arr[ee].height!==$&&(this._arr[ee].height=$,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,ee-1)),this._arr[ee].afterLineNumber!==E)){const Ae=this._arr[ee];this._removeWhitespace(ee),Ae.afterLineNumber=E,this._insertWhitespace(Ae)}}_removeWhitespace(u){this._arr.splice(u,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,u-1)}onLinesDeleted(u,E){this._checkPendingChanges(),this._lineCount-=(E|=0)-(u|=0)+1;for(let $=0,ee=this._arr.length;$<ee;$++){const Ae=this._arr[$].afterLineNumber;u<=Ae&&Ae<=E?this._arr[$].afterLineNumber=u-1:Ae>E&&(this._arr[$].afterLineNumber-=E-u+1)}}onLinesInserted(u,E){this._checkPendingChanges(),this._lineCount+=(E|=0)-(u|=0)+1;for(let $=0,ee=this._arr.length;$<ee;$++)u<=this._arr[$].afterLineNumber&&(this._arr[$].afterLineNumber+=E-u+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(u){this._checkPendingChanges(),u|=0;let E=Math.max(0,this._prefixSumValidIndex+1);0===E&&(this._arr[0].prefixSum=this._arr[0].height,E++);for(let $=E;$<=u;$++)this._arr[$].prefixSum=this._arr[$-1].prefixSum+this._arr[$].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,u),this._arr[u].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(u){this._checkPendingChanges();const E=this._findLastWhitespaceBeforeLineNumber(u|=0);return-1===E?0:this.getWhitespacesAccumulatedHeight(E)}_findLastWhitespaceBeforeLineNumber(u){u|=0;const E=this._arr;let $=0,ee=E.length-1;for(;$<=ee;){const et=$+((ee-$|0)/2|0)|0;if(E[et].afterLineNumber<u){if(et+1>=E.length||E[et+1].afterLineNumber>=u)return et;$=et+1|0}else ee=et-1|0}return-1}_findFirstWhitespaceAfterLineNumber(u){const $=this._findLastWhitespaceBeforeLineNumber(u|=0)+1;return $<this._arr.length?$:-1}getFirstWhitespaceIndexAfterLineNumber(u){return this._checkPendingChanges(),this._findFirstWhitespaceAfterLineNumber(u|=0)}getVerticalOffsetForLineNumber(u,E=!1){let $;return this._checkPendingChanges(),$=(u|=0)>1?this._lineHeight*(u-1):0,$+this.getWhitespaceAccumulatedHeightBeforeLineNumber(u-(E?1:0))+this._paddingTop}getVerticalOffsetAfterLineNumber(u,E=!1){return this._checkPendingChanges(),this._lineHeight*(u|=0)+this.getWhitespaceAccumulatedHeightBeforeLineNumber(u+(E?1:0))+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let u=0;for(let E=0,$=this._arr.length;E<$;E++)u=Math.max(u,this._arr[E].minWidth);this._minWidth=u}return this._minWidth}isAfterLines(u){return this._checkPendingChanges(),u>this.getLinesTotalHeight()}isInTopPadding(u){return 0!==this._paddingTop&&(this._checkPendingChanges(),u<this._paddingTop)}isInBottomPadding(u){return 0!==this._paddingBottom&&(this._checkPendingChanges(),u>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(u){if(this._checkPendingChanges(),(u|=0)<0)return 1;const E=0|this._lineCount,$=this._lineHeight;let ee=1,Ae=E;for(;ee<Ae;){const Be=(ee+Ae)/2|0,et=0|this.getVerticalOffsetForLineNumber(Be);if(u>=et+$)ee=Be+1;else{if(u>=et)return Be;Ae=Be}}return ee>E?E:ee}getLinesViewportData(u,E){this._checkPendingChanges(),E|=0;const $=this._lineHeight,ee=0|this.getLineNumberAtOrAfterVerticalOffset(u|=0),Ae=0|this.getVerticalOffsetForLineNumber(ee);let Be=0|this._lineCount,et=0|this.getFirstWhitespaceIndexAfterLineNumber(ee);const gt=0|this.getWhitespacesCount();let xt,Kt;-1===et?(et=gt,Kt=Be+1,xt=0):(Kt=0|this.getAfterLineNumberForWhitespaceIndex(et),xt=0|this.getHeightForWhitespaceIndex(et));let Qt=Ae,rn=Qt;const Dn=5e5;let Ln=0;Ae>=Dn&&(Ln=Math.floor(Ae/Dn)*Dn,Ln=Math.floor(Ln/$)*$,rn-=Ln);const Fn=[],qn=u+(E-u)/2;let di=-1;for(let Oi=ee;Oi<=Be;Oi++){for(-1===di&&(Qt<=qn&&qn<Qt+$||Qt>qn)&&(di=Oi),Qt+=$,Fn[Oi-ee]=rn,rn+=$;Kt===Oi;)rn+=xt,Qt+=xt,et++,et>=gt?Kt=Be+1:(Kt=0|this.getAfterLineNumberForWhitespaceIndex(et),xt=0|this.getHeightForWhitespaceIndex(et));if(Qt>=E){Be=Oi;break}}-1===di&&(di=Be);const si=0|this.getVerticalOffsetForLineNumber(Be);let Ci=ee,Bi=Be;return Ci<Bi&&Ae<u&&Ci++,Ci<Bi&&si+$>E&&Bi--,{bigNumbersDelta:Ln,startLineNumber:ee,endLineNumber:Be,relativeVerticalOffset:Fn,centeredLineNumber:di,completelyVisibleStartLineNumber:Ci,completelyVisibleEndLineNumber:Bi,lineHeight:this._lineHeight}}getVerticalOffsetForWhitespaceIndex(u){this._checkPendingChanges();const E=this.getAfterLineNumberForWhitespaceIndex(u|=0);let $,ee;return $=E>=1?this._lineHeight*E:0,ee=u>0?this.getWhitespacesAccumulatedHeight(u-1):0,$+ee+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(u){this._checkPendingChanges(),u|=0;let E=0,$=this.getWhitespacesCount()-1;if($<0)return-1;if(u>=this.getVerticalOffsetForWhitespaceIndex($)+this.getHeightForWhitespaceIndex($))return-1;for(;E<$;){const Be=Math.floor((E+$)/2),et=this.getVerticalOffsetForWhitespaceIndex(Be);if(u>=et+this.getHeightForWhitespaceIndex(Be))E=Be+1;else{if(u>=et)return Be;$=Be}}return E}getWhitespaceAtVerticalOffset(u){this._checkPendingChanges();const E=this.getWhitespaceIndexAtOrAfterVerticallOffset(u|=0);if(E<0||E>=this.getWhitespacesCount())return null;const $=this.getVerticalOffsetForWhitespaceIndex(E);if($>u)return null;const ee=this.getHeightForWhitespaceIndex(E);return{id:this.getIdForWhitespaceIndex(E),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(E),verticalOffset:$,height:ee}}getWhitespaceViewportData(u,E){this._checkPendingChanges(),E|=0;const $=this.getWhitespaceIndexAtOrAfterVerticallOffset(u|=0),ee=this.getWhitespacesCount()-1;if($<0)return[];const Ae=[];for(let Be=$;Be<=ee;Be++){const et=this.getVerticalOffsetForWhitespaceIndex(Be),gt=this.getHeightForWhitespaceIndex(Be);if(et>=E)break;Ae.push({id:this.getIdForWhitespaceIndex(Be),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Be),verticalOffset:et,height:gt})}return Ae}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(u){return this._checkPendingChanges(),this._arr[u|=0].id}getAfterLineNumberForWhitespaceIndex(u){return this._checkPendingChanges(),this._arr[u|=0].afterLineNumber}getHeightForWhitespaceIndex(u){return this._checkPendingChanges(),this._arr[u|=0].height}}return Lt.INSTANCE_COUNT=0,Lt})();class Ld{constructor(s,u,E,$){(s|=0)<0&&(s=0),(u|=0)<0&&(u=0),(E|=0)<0&&(E=0),($|=0)<0&&($=0),this.width=s,this.contentWidth=u,this.scrollWidth=Math.max(s,u),this.height=E,this.contentHeight=$,this.scrollHeight=Math.max(E,$)}equals(s){return this.width===s.width&&this.contentWidth===s.contentWidth&&this.height===s.height&&this.contentHeight===s.contentHeight}}class uc extends v.jG{constructor(s,u){super(),this._onDidContentSizeChange=this._register(new D.vl),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Ld(0,0,0,0),this._scrollable=this._register(new nl.yE({forceIntegerValues:!0,smoothScrollDuration:s,scheduleAtNextAnimationFrame:u})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(s){this._scrollable.setSmoothScrollDuration(s)}validateScrollPosition(s){return this._scrollable.validateScrollPosition(s)}getScrollDimensions(){return this._dimensions}setScrollDimensions(s){if(this._dimensions.equals(s))return;const u=this._dimensions;this._dimensions=s,this._scrollable.setScrollDimensions({width:s.width,scrollWidth:s.scrollWidth,height:s.height,scrollHeight:s.scrollHeight},!0),(u.contentWidth!==s.contentWidth||u.contentHeight!==s.contentHeight)&&this._onDidContentSizeChange.fire(new Ur(u.contentWidth,u.contentHeight,s.contentWidth,s.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(s){this._scrollable.setScrollPositionNow(s)}setScrollPositionSmooth(s){this._scrollable.setScrollPositionSmooth(s)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class uu extends v.jG{constructor(s,u,E){super(),this._configuration=s;const $=this._configuration.options,ee=$.get(145),Ae=$.get(84);this._linesLayout=new cu(u,$.get(67),Ae.top,Ae.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new uc(0,E)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Ld(ee.contentWidth,0,ee.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(114)?125:0)}onConfigurationChanged(s){const u=this._configuration.options;if(s.hasChanged(67)&&this._linesLayout.setLineHeight(u.get(67)),s.hasChanged(84)){const E=u.get(84);this._linesLayout.setPadding(E.top,E.bottom)}if(s.hasChanged(145)){const E=u.get(145),$=E.contentWidth,ee=E.height,Ae=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Ld($,Ae.contentWidth,ee,this._getContentHeight($,ee,Ae.contentWidth)))}else this._updateHeight();s.hasChanged(114)&&this._configureSmoothScrollDuration()}onFlushed(s){this._linesLayout.onFlushed(s)}onLinesDeleted(s,u){this._linesLayout.onLinesDeleted(s,u)}onLinesInserted(s,u){this._linesLayout.onLinesInserted(s,u)}_getHorizontalScrollbarHeight(s,u){const $=this._configuration.options.get(103);return 2===$.horizontal||s>=u?0:$.horizontalScrollbarSize}_getContentHeight(s,u,E){const $=this._configuration.options;let ee=this._linesLayout.getLinesTotalHeight();return $.get(105)?ee+=Math.max(0,u-$.get(67)-$.get(84).bottom):$.get(103).ignoreHorizontalScrollbarInContentHeight||(ee+=this._getHorizontalScrollbarHeight(s,E)),ee}_updateHeight(){const s=this._scrollable.getScrollDimensions(),u=s.width,E=s.height;this._scrollable.setScrollDimensions(new Ld(u,s.contentWidth,E,this._getContentHeight(u,E,s.contentWidth)))}getCurrentViewport(){const s=this._scrollable.getScrollDimensions(),u=this._scrollable.getCurrentScrollPosition();return new js.LM(u.scrollTop,u.scrollLeft,s.width,s.height)}getFutureViewport(){const s=this._scrollable.getScrollDimensions(),u=this._scrollable.getFutureScrollPosition();return new js.LM(u.scrollTop,u.scrollLeft,s.width,s.height)}_computeContentWidth(){const s=this._configuration.options,u=this._maxLineWidth,E=s.get(146),$=s.get(50),ee=s.get(145);if(E.isViewportWrapping){const Ae=s.get(73);return u>ee.contentWidth+$.typicalHalfwidthCharacterWidth&&Ae.enabled&&"right"===Ae.side?u+ee.verticalScrollbarWidth:u}{const Ae=s.get(104)*$.typicalHalfwidthCharacterWidth,Be=this._linesLayout.getWhitespaceMinWidth();return Math.max(u+Ae+ee.verticalScrollbarWidth,Be,this._overlayWidgetsMinWidth)}}setMaxLineWidth(s){this._maxLineWidth=s,this._updateContentWidth()}setOverlayWidgetsMinWidth(s){this._overlayWidgetsMinWidth=s,this._updateContentWidth()}_updateContentWidth(){const s=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Ld(s.width,this._computeContentWidth(),s.height,s.contentHeight)),this._updateHeight()}saveState(){const s=this._scrollable.getFutureScrollPosition(),u=s.scrollTop,E=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(u);return{scrollTop:u,scrollTopWithoutViewZones:u-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(E),scrollLeft:s.scrollLeft}}changeWhitespace(s){const u=this._linesLayout.changeWhitespace(s);return u&&this.onHeightMaybeChanged(),u}getVerticalOffsetForLineNumber(s,u=!1){return this._linesLayout.getVerticalOffsetForLineNumber(s,u)}getVerticalOffsetAfterLineNumber(s,u=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(s,u)}isAfterLines(s){return this._linesLayout.isAfterLines(s)}isInTopPadding(s){return this._linesLayout.isInTopPadding(s)}isInBottomPadding(s){return this._linesLayout.isInBottomPadding(s)}getLineNumberAtVerticalOffset(s){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(s)}getWhitespaceAtVerticalOffset(s){return this._linesLayout.getWhitespaceAtVerticalOffset(s)}getLinesViewportData(){const s=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(s.top,s.top+s.height)}getLinesViewportDataAtScrollTop(s){const u=this._scrollable.getScrollDimensions();return s+u.height>u.scrollHeight&&(s=u.scrollHeight-u.height),s<0&&(s=0),this._linesLayout.getLinesViewportData(s,s+u.height)}getWhitespaceViewportData(){const s=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(s.top,s.top+s.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(s){return this._scrollable.validateScrollPosition(s)}setScrollPosition(s,u){1===u?this._scrollable.setScrollPositionNow(s):this._scrollable.setScrollPositionSmooth(s)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(s,u){const E=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:E.scrollLeft+s,scrollTop:E.scrollTop+u})}}var jr=t(11589),hu=t(33480);function hc(Lt,s){return null===Lt?s?ql.INSTANCE:ed.INSTANCE:new fc(Lt,s)}class fc{constructor(s,u){this._projectionData=s,this._isVisible=u}isVisible(){return this._isVisible}setVisible(s){return this._isVisible=s,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(s,u,E){this._assertVisible();const $=E>0?this._projectionData.breakOffsets[E-1]:0,ee=this._projectionData.breakOffsets[E];let Ae;if(null!==this._projectionData.injectionOffsets){const Be=this._projectionData.injectionOffsets.map((gt,xt)=>new Pr.uK(0,0,gt+1,this._projectionData.injectionOptions[xt],0));Ae=Pr.uK.applyInjectedText(s.getLineContent(u),Be).substring($,ee)}else Ae=s.getValueInRange({startLineNumber:u,startColumn:$+1,endLineNumber:u,endColumn:ee+1});return E>0&&(Ae=xd(this._projectionData.wrappedTextIndentLength)+Ae),Ae}getViewLineLength(s,u,E){return this._assertVisible(),this._projectionData.getLineLength(E)}getViewLineMinColumn(s,u,E){return this._assertVisible(),this._projectionData.getMinOutputOffset(E)+1}getViewLineMaxColumn(s,u,E){return this._assertVisible(),this._projectionData.getMaxOutputOffset(E)+1}getViewLineData(s,u,E){const $=new Array;return this.getViewLinesData(s,u,E,1,0,[!0],$),$[0]}getViewLinesData(s,u,E,$,ee,Ae,Be){this._assertVisible();const et=this._projectionData,gt=et.injectionOffsets,xt=et.injectionOptions;let Qt,Kt=null;if(gt){Kt=[];let rn=0,Dn=0;for(let Ln=0;Ln<et.getOutputLineCount();Ln++){const Fn=new Array;Kt[Ln]=Fn;const qn=Ln>0?et.breakOffsets[Ln-1]:0,di=et.breakOffsets[Ln];for(;Dn<gt.length;){const si=xt[Dn].content.length,Ci=gt[Dn]+rn,Bi=Ci+si;if(Ci>di)break;if(qn<Bi){const Oi=xt[Dn];if(Oi.inlineClassName){const Xi=Ln>0?et.wrappedTextIndentLength:0,Ji=Xi+Math.max(Ci-qn,0),no=Xi+Math.min(Bi-qn,di-qn);Ji!==no&&Fn.push(new js.or(Ji,no,Oi.inlineClassName,Oi.inlineClassNameAffectsLetterSpacing))}}if(!(Bi<=di))break;rn+=si,Dn++}}}Qt=gt?s.tokenization.getLineTokens(u).withInserted(gt.map((rn,Dn)=>({offset:rn,text:xt[Dn].content,tokenMetadata:hu.f.defaultTokenMetadata}))):s.tokenization.getLineTokens(u);for(let rn=E;rn<E+$;rn++){const Dn=ee+rn-E;Be[Dn]=Ae[Dn]?this._getViewLineData(Qt,Kt?Kt[rn]:null,rn):null}}_getViewLineData(s,u,E){this._assertVisible();const $=this._projectionData,et=s.sliceAndInflate(E>0?$.breakOffsets[E-1]:0,$.breakOffsets[E],E>0?$.wrappedTextIndentLength:0);let gt=et.getLineContent();E>0&&(gt=xd($.wrappedTextIndentLength)+gt);const xt=this._projectionData.getMinOutputOffset(E)+1,Kt=gt.length+1,Qt=E+1<this.getViewLineCount();return new js.GP(gt,Qt,xt,Kt,0===E?0:$.breakOffsetsVisibleColumn[E-1],et,u)}getModelColumnOfViewPosition(s,u){return this._assertVisible(),this._projectionData.translateToInputOffset(s,u-1)+1}getViewPositionOfModelPosition(s,u,E=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(u-1,E).toPosition(s)}getViewLineNumberOfModelPosition(s,u){return this._assertVisible(),s+this._projectionData.translateToOutputPosition(u-1).outputLineIndex}normalizePosition(s,u,E){const $=u.lineNumber-s;return this._projectionData.normalizeOutputPosition(s,u.column-1,E).toPosition($)}getInjectedTextAt(s,u){return this._projectionData.getInjectedText(s,u-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class ql{constructor(){}isVisible(){return!0}setVisible(s){return s?this:ed.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(s,u,E){return s.getLineContent(u)}getViewLineLength(s,u,E){return s.getLineLength(u)}getViewLineMinColumn(s,u,E){return s.getLineMinColumn(u)}getViewLineMaxColumn(s,u,E){return s.getLineMaxColumn(u)}getViewLineData(s,u,E){const $=s.tokenization.getLineTokens(u),ee=$.getLineContent();return new js.GP(ee,!1,1,ee.length+1,0,$.inflate(),null)}getViewLinesData(s,u,E,$,ee,Ae,Be){Be[ee]=Ae[ee]?this.getViewLineData(s,u,0):null}getModelColumnOfViewPosition(s,u){return u}getViewPositionOfModelPosition(s,u){return new Ce.y(s,u)}getViewLineNumberOfModelPosition(s,u){return s}normalizePosition(s,u,E){return u}getInjectedTextAt(s,u){return null}}ql.INSTANCE=new ql;class ed{constructor(){}isVisible(){return!1}setVisible(s){return s?ql.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(s,u,E){throw new Error("Not supported")}getViewLineLength(s,u,E){throw new Error("Not supported")}getViewLineMinColumn(s,u,E){throw new Error("Not supported")}getViewLineMaxColumn(s,u,E){throw new Error("Not supported")}getViewLineData(s,u,E){throw new Error("Not supported")}getViewLinesData(s,u,E,$,ee,Ae,Be){throw new Error("Not supported")}getModelColumnOfViewPosition(s,u){throw new Error("Not supported")}getViewPositionOfModelPosition(s,u){throw new Error("Not supported")}getViewLineNumberOfModelPosition(s,u){throw new Error("Not supported")}normalizePosition(s,u,E){throw new Error("Not supported")}getInjectedTextAt(s,u){throw new Error("Not supported")}}ed.INSTANCE=new ed;const Ll=[""];function xd(Lt){if(Lt>=Ll.length)for(let s=1;s<=Lt;s++)Ll[s]=wh(s);return Ll[Lt]}function wh(Lt){return new Array(Lt+1).join(" ")}var zr=t(54511);class gc{constructor(s,u,E,$,ee,Ae,Be,et,gt,xt){this._editorId=s,this.model=u,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=E,this._monospaceLineBreaksComputerFactory=$,this.fontInfo=ee,this.tabSize=Ae,this.wrappingStrategy=Be,this.wrappingColumn=et,this.wrappingIndent=gt,this.wordBreak=xt,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new cg(this)}_constructLines(s,u){this.modelLineProjections=[],s&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const E=this.model.getLinesContent(),$=this.model.getInjectedTextDecorations(this._editorId),ee=E.length,Ae=this.createLineBreaksComputer(),Be=new U.j3(Pr.uK.fromDecorations($));for(let Ln=0;Ln<ee;Ln++){const Fn=Be.takeWhile(qn=>qn.lineNumber===Ln+1);Ae.addRequest(E[Ln],Fn,u?u[Ln]:null)}const et=Ae.finalize(),gt=[],xt=this.hiddenAreasDecorationIds.map(Ln=>this.model.getDecorationRange(Ln)).sort(Ne.Q.compareRangesUsingStarts);let Kt=1,Qt=0,rn=-1,Dn=rn+1<xt.length?Qt+1:ee+2;for(let Ln=0;Ln<ee;Ln++){const Fn=Ln+1;Fn===Dn&&(rn++,Kt=xt[rn].startLineNumber,Qt=xt[rn].endLineNumber,Dn=rn+1<xt.length?Qt+1:ee+2);const di=hc(et[Ln],!(Fn>=Kt&&Fn<=Qt));gt[Ln]=di.getViewLineCount(),this.modelLineProjections[Ln]=di}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new zr.c2(gt)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(s=>this.model.getDecorationRange(s))}setHiddenAreas(s){const E=function fu(Lt){if(0===Lt.length)return[];const s=Lt.slice();s.sort(Ne.Q.compareRangesUsingStarts);const u=[];let E=s[0].startLineNumber,$=s[0].endLineNumber;for(let ee=1,Ae=s.length;ee<Ae;ee++){const Be=s[ee];Be.startLineNumber>$+1?(u.push(new Ne.Q(E,1,$,1)),E=Be.startLineNumber,$=Be.endLineNumber):Be.endLineNumber>$&&($=Be.endLineNumber)}return u.push(new Ne.Q(E,1,$,1)),u}(s.map(Qt=>this.model.validateRange(Qt))),$=this.hiddenAreasDecorationIds.map(Qt=>this.model.getDecorationRange(Qt)).sort(Ne.Q.compareRangesUsingStarts);if(E.length===$.length){let Qt=!1;for(let rn=0;rn<E.length;rn++)if(!E[rn].equalsRange($[rn])){Qt=!0;break}if(!Qt)return!1}const ee=E.map(Qt=>({range:Qt,options:Oa.kI.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,ee);const Ae=E;let Be=1,et=0,gt=-1,xt=gt+1<Ae.length?et+1:this.modelLineProjections.length+2,Kt=!1;for(let Qt=0;Qt<this.modelLineProjections.length;Qt++){const rn=Qt+1;rn===xt&&(gt++,Be=Ae[gt].startLineNumber,et=Ae[gt].endLineNumber,xt=gt+1<Ae.length?et+1:this.modelLineProjections.length+2);let Dn=!1;if(rn>=Be&&rn<=et?this.modelLineProjections[Qt].isVisible()&&(this.modelLineProjections[Qt]=this.modelLineProjections[Qt].setVisible(!1),Dn=!0):(Kt=!0,this.modelLineProjections[Qt].isVisible()||(this.modelLineProjections[Qt]=this.modelLineProjections[Qt].setVisible(!0),Dn=!0)),Dn){const Ln=this.modelLineProjections[Qt].getViewLineCount();this.projectedModelLineLineCounts.setValue(Qt,Ln)}}return Kt||this.setHiddenAreas([]),!0}modelPositionIsVisible(s,u){return!(s<1||s>this.modelLineProjections.length)&&this.modelLineProjections[s-1].isVisible()}getModelLineViewLineCount(s){return s<1||s>this.modelLineProjections.length?1:this.modelLineProjections[s-1].getViewLineCount()}setTabSize(s){return this.tabSize!==s&&(this.tabSize=s,this._constructLines(!1,null),!0)}setWrappingSettings(s,u,E,$,ee){const Ae=this.fontInfo.equals(s),Be=this.wrappingStrategy===u,et=this.wrappingColumn===E,gt=this.wrappingIndent===$,xt=this.wordBreak===ee;if(Ae&&Be&&et&&gt&&xt)return!1;const Kt=Ae&&Be&&!et&&gt&&xt;this.fontInfo=s,this.wrappingStrategy=u,this.wrappingColumn=E,this.wrappingIndent=$,this.wordBreak=ee;let Qt=null;if(Kt){Qt=[];for(let rn=0,Dn=this.modelLineProjections.length;rn<Dn;rn++)Qt[rn]=this.modelLineProjections[rn].getProjectionData()}return this._constructLines(!1,Qt),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(s,u,E){if(!s||s<=this._validModelVersionId)return null;const $=1===u?1:this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,ee=this.projectedModelLineLineCounts.getPrefixSum(E);return this.modelLineProjections.splice(u-1,E-u+1),this.projectedModelLineLineCounts.removeValues(u-1,E-u+1),new _a($,ee)}onModelLinesInserted(s,u,E,$){if(!s||s<=this._validModelVersionId)return null;const ee=u>2&&!this.modelLineProjections[u-2].isVisible(),Ae=1===u?1:this.projectedModelLineLineCounts.getPrefixSum(u-1)+1;let Be=0;const et=[],gt=[];for(let xt=0,Kt=$.length;xt<Kt;xt++){const Qt=hc($[xt],!ee);et.push(Qt);const rn=Qt.getViewLineCount();Be+=rn,gt[xt]=rn}return this.modelLineProjections=this.modelLineProjections.slice(0,u-1).concat(et).concat(this.modelLineProjections.slice(u-1)),this.projectedModelLineLineCounts.insertValues(u-1,gt),new Rr(Ae,Ae+Be-1)}onModelLineChanged(s,u,E){if(null!==s&&s<=this._validModelVersionId)return[!1,null,null,null];const $=u-1,ee=this.modelLineProjections[$].getViewLineCount(),Be=hc(E,this.modelLineProjections[$].isVisible());this.modelLineProjections[$]=Be;const et=this.modelLineProjections[$].getViewLineCount();let gt=!1,xt=0,Kt=-1,Qt=0,rn=-1,Dn=0,Ln=-1;return ee>et?(xt=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,Kt=xt+et-1,Dn=Kt+1,Ln=Dn+(ee-et)-1,gt=!0):ee<et?(xt=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,Kt=xt+ee-1,Qt=Kt+1,rn=Qt+(et-ee)-1,gt=!0):(xt=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,Kt=xt+et-1),this.projectedModelLineLineCounts.setValue($,et),[gt,xt<=Kt?new Ks(xt,Kt-xt+1):null,Qt<=rn?new Rr(Qt,rn):null,Dn<=Ln?new _a(Dn,Ln):null]}acceptVersionId(s){this._validModelVersionId=s,1===this.modelLineProjections.length&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(s){if(s<1)return 1;const u=this.getViewLineCount();return s>u?u:0|s}getActiveIndentGuide(s,u,E){s=this._toValidViewLineNumber(s),u=this._toValidViewLineNumber(u),E=this._toValidViewLineNumber(E);const $=this.convertViewPositionToModelPosition(s,this.getViewLineMinColumn(s)),ee=this.convertViewPositionToModelPosition(u,this.getViewLineMinColumn(u)),Ae=this.convertViewPositionToModelPosition(E,this.getViewLineMinColumn(E)),Be=this.model.guides.getActiveIndentGuide($.lineNumber,ee.lineNumber,Ae.lineNumber),et=this.convertModelPositionToViewPosition(Be.startLineNumber,1),gt=this.convertModelPositionToViewPosition(Be.endLineNumber,this.model.getLineMaxColumn(Be.endLineNumber));return{startLineNumber:et.lineNumber,endLineNumber:gt.lineNumber,indent:Be.indent}}getViewLineInfo(s){s=this._toValidViewLineNumber(s);const u=this.projectedModelLineLineCounts.getIndexOf(s-1);return new mc(u.index+1,u.remainder)}getMinColumnOfViewLine(s){return this.modelLineProjections[s.modelLineNumber-1].getViewLineMinColumn(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(s){return this.modelLineProjections[s.modelLineNumber-1].getViewLineMaxColumn(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(s){const u=this.modelLineProjections[s.modelLineNumber-1],E=u.getViewLineMinColumn(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx),$=u.getModelColumnOfViewPosition(s.modelLineWrappedLineIdx,E);return new Ce.y(s.modelLineNumber,$)}getModelEndPositionOfViewLine(s){const u=this.modelLineProjections[s.modelLineNumber-1],E=u.getViewLineMaxColumn(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx),$=u.getModelColumnOfViewPosition(s.modelLineWrappedLineIdx,E);return new Ce.y(s.modelLineNumber,$)}getViewLineInfosGroupedByModelRanges(s,u){const E=this.getViewLineInfo(s),$=this.getViewLineInfo(u),ee=new Array;let Ae=this.getModelStartPositionOfViewLine(E),Be=new Array;for(let et=E.modelLineNumber;et<=$.modelLineNumber;et++){const gt=this.modelLineProjections[et-1];if(gt.isVisible()){const xt=et===E.modelLineNumber?E.modelLineWrappedLineIdx:0,Kt=et===$.modelLineNumber?$.modelLineWrappedLineIdx+1:gt.getViewLineCount();for(let Qt=xt;Qt<Kt;Qt++)Be.push(new mc(et,Qt))}if(!gt.isVisible()&&Ae){const xt=new Ce.y(et-1,this.model.getLineMaxColumn(et-1)+1),Kt=Ne.Q.fromPositions(Ae,xt);ee.push(new pc(Kt,Be)),Be=[],Ae=null}else gt.isVisible()&&!Ae&&(Ae=new Ce.y(et,1))}if(Ae){const et=Ne.Q.fromPositions(Ae,this.getModelEndPositionOfViewLine($));ee.push(new pc(et,Be))}return ee}getViewLinesBracketGuides(s,u,E,$){const ee=E?this.convertViewPositionToModelPosition(E.lineNumber,E.column):null,Ae=[];for(const Be of this.getViewLineInfosGroupedByModelRanges(s,u)){const et=Be.modelRange.startLineNumber,gt=this.model.guides.getLinesBracketGuides(et,Be.modelRange.endLineNumber,ee,$);for(const xt of Be.viewLines){const Qt=gt[xt.modelLineNumber-et].map(rn=>{if(-1!==rn.forWrappedLinesAfterColumn&&this.modelLineProjections[xt.modelLineNumber-1].getViewPositionOfModelPosition(0,rn.forWrappedLinesAfterColumn).lineNumber>=xt.modelLineWrappedLineIdx||-1!==rn.forWrappedLinesBeforeOrAtColumn&&this.modelLineProjections[xt.modelLineNumber-1].getViewPositionOfModelPosition(0,rn.forWrappedLinesBeforeOrAtColumn).lineNumber<xt.modelLineWrappedLineIdx)return;if(!rn.horizontalLine)return rn;let Dn=-1;if(-1!==rn.column){const qn=this.modelLineProjections[xt.modelLineNumber-1].getViewPositionOfModelPosition(0,rn.column);if(qn.lineNumber===xt.modelLineWrappedLineIdx)Dn=qn.column;else if(qn.lineNumber<xt.modelLineWrappedLineIdx)Dn=this.getMinColumnOfViewLine(xt);else if(qn.lineNumber>xt.modelLineWrappedLineIdx)return}const Ln=this.convertModelPositionToViewPosition(xt.modelLineNumber,rn.horizontalLine.endColumn),Fn=this.modelLineProjections[xt.modelLineNumber-1].getViewPositionOfModelPosition(0,rn.horizontalLine.endColumn);return Fn.lineNumber===xt.modelLineWrappedLineIdx?new Cn.TH(rn.visibleColumn,Dn,rn.className,new Cn.pv(rn.horizontalLine.top,Ln.column),-1,-1):Fn.lineNumber<xt.modelLineWrappedLineIdx||-1!==rn.visibleColumn?void 0:new Cn.TH(rn.visibleColumn,Dn,rn.className,new Cn.pv(rn.horizontalLine.top,this.getMaxColumnOfViewLine(xt)),-1,-1)});Ae.push(Qt.filter(rn=>!!rn))}}return Ae}getViewLinesIndentGuides(s,u){s=this._toValidViewLineNumber(s),u=this._toValidViewLineNumber(u);const E=this.convertViewPositionToModelPosition(s,this.getViewLineMinColumn(s)),$=this.convertViewPositionToModelPosition(u,this.getViewLineMaxColumn(u));let ee=[];const Ae=[],Be=[],et=E.lineNumber-1,gt=$.lineNumber-1;let xt=null;for(let Dn=et;Dn<=gt;Dn++){const Ln=this.modelLineProjections[Dn];if(Ln.isVisible()){const Fn=Ln.getViewLineNumberOfModelPosition(0,Dn===et?E.column:1),qn=Ln.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(Dn+1)),di=qn-Fn+1;let si=0;di>1&&1===Ln.getViewLineMinColumn(this.model,Dn+1,qn)&&(si=0===Fn?1:2),Ae.push(di),Be.push(si),null===xt&&(xt=new Ce.y(Dn+1,0))}else null!==xt&&(ee=ee.concat(this.model.guides.getLinesIndentGuides(xt.lineNumber,Dn)),xt=null)}null!==xt&&(ee=ee.concat(this.model.guides.getLinesIndentGuides(xt.lineNumber,$.lineNumber)),xt=null);const Kt=u-s+1,Qt=new Array(Kt);let rn=0;for(let Dn=0,Ln=ee.length;Dn<Ln;Dn++){let Fn=ee[Dn];const qn=Math.min(Kt-rn,Ae[Dn]),di=Be[Dn];let si;si=2===di?0:1===di?1:qn;for(let Ci=0;Ci<qn;Ci++)Ci===si&&(Fn=0),Qt[rn++]=Fn}return Qt}getViewLineContent(s){const u=this.getViewLineInfo(s);return this.modelLineProjections[u.modelLineNumber-1].getViewLineContent(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineLength(s){const u=this.getViewLineInfo(s);return this.modelLineProjections[u.modelLineNumber-1].getViewLineLength(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineMinColumn(s){const u=this.getViewLineInfo(s);return this.modelLineProjections[u.modelLineNumber-1].getViewLineMinColumn(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineMaxColumn(s){const u=this.getViewLineInfo(s);return this.modelLineProjections[u.modelLineNumber-1].getViewLineMaxColumn(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineData(s){const u=this.getViewLineInfo(s);return this.modelLineProjections[u.modelLineNumber-1].getViewLineData(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLinesData(s,u,E){s=this._toValidViewLineNumber(s),u=this._toValidViewLineNumber(u);const $=this.projectedModelLineLineCounts.getIndexOf(s-1);let ee=s;const Ae=$.index,Be=$.remainder,et=[];for(let gt=Ae,xt=this.model.getLineCount();gt<xt;gt++){const Kt=this.modelLineProjections[gt];if(!Kt.isVisible())continue;const Qt=gt===Ae?Be:0;let rn=Kt.getViewLineCount()-Qt,Dn=!1;if(ee+rn>u&&(Dn=!0,rn=u-ee+1),Kt.getViewLinesData(this.model,gt+1,Qt,rn,ee-s,E,et),ee+=rn,Dn)break}return et}validateViewPosition(s,u,E){s=this._toValidViewLineNumber(s);const $=this.projectedModelLineLineCounts.getIndexOf(s-1),ee=$.index,Ae=$.remainder,Be=this.modelLineProjections[ee],et=Be.getViewLineMinColumn(this.model,ee+1,Ae),gt=Be.getViewLineMaxColumn(this.model,ee+1,Ae);u<et&&(u=et),u>gt&&(u=gt);const xt=Be.getModelColumnOfViewPosition(Ae,u);return this.model.validatePosition(new Ce.y(ee+1,xt)).equals(E)?new Ce.y(s,u):this.convertModelPositionToViewPosition(E.lineNumber,E.column)}validateViewRange(s,u){const E=this.validateViewPosition(s.startLineNumber,s.startColumn,u.getStartPosition()),$=this.validateViewPosition(s.endLineNumber,s.endColumn,u.getEndPosition());return new Ne.Q(E.lineNumber,E.column,$.lineNumber,$.column)}convertViewPositionToModelPosition(s,u){const E=this.getViewLineInfo(s),$=this.modelLineProjections[E.modelLineNumber-1].getModelColumnOfViewPosition(E.modelLineWrappedLineIdx,u);return this.model.validatePosition(new Ce.y(E.modelLineNumber,$))}convertViewRangeToModelRange(s){const u=this.convertViewPositionToModelPosition(s.startLineNumber,s.startColumn),E=this.convertViewPositionToModelPosition(s.endLineNumber,s.endColumn);return new Ne.Q(u.lineNumber,u.column,E.lineNumber,E.column)}convertModelPositionToViewPosition(s,u,E=2,$=!1,ee=!1){const Ae=this.model.validatePosition(new Ce.y(s,u)),Be=Ae.lineNumber,et=Ae.column;let gt=Be-1,xt=!1;if(ee)for(;gt<this.modelLineProjections.length&&!this.modelLineProjections[gt].isVisible();)gt++,xt=!0;else for(;gt>0&&!this.modelLineProjections[gt].isVisible();)gt--,xt=!0;if(0===gt&&!this.modelLineProjections[gt].isVisible())return new Ce.y($?0:1,1);const Kt=1+this.projectedModelLineLineCounts.getPrefixSum(gt);let Qt;return Qt=xt?this.modelLineProjections[gt].getViewPositionOfModelPosition(Kt,ee?1:this.model.getLineMaxColumn(gt+1),E):this.modelLineProjections[Be-1].getViewPositionOfModelPosition(Kt,et,E),Qt}convertModelRangeToViewRange(s,u=0){if(s.isEmpty()){const E=this.convertModelPositionToViewPosition(s.startLineNumber,s.startColumn,u);return Ne.Q.fromPositions(E)}{const E=this.convertModelPositionToViewPosition(s.startLineNumber,s.startColumn,1),$=this.convertModelPositionToViewPosition(s.endLineNumber,s.endColumn,0);return new Ne.Q(E.lineNumber,E.column,$.lineNumber,$.column)}}getViewLineNumberOfModelPosition(s,u){let E=s-1;if(this.modelLineProjections[E].isVisible()){const ee=1+this.projectedModelLineLineCounts.getPrefixSum(E);return this.modelLineProjections[E].getViewLineNumberOfModelPosition(ee,u)}for(;E>0&&!this.modelLineProjections[E].isVisible();)E--;if(0===E&&!this.modelLineProjections[E].isVisible())return 1;const $=1+this.projectedModelLineLineCounts.getPrefixSum(E);return this.modelLineProjections[E].getViewLineNumberOfModelPosition($,this.model.getLineMaxColumn(E+1))}getDecorationsInRange(s,u,E,$,ee){const Ae=this.convertViewPositionToModelPosition(s.startLineNumber,s.startColumn),Be=this.convertViewPositionToModelPosition(s.endLineNumber,s.endColumn);if(Be.lineNumber-Ae.lineNumber<=s.endLineNumber-s.startLineNumber)return this.model.getDecorationsInRange(new Ne.Q(Ae.lineNumber,1,Be.lineNumber,Be.column),u,E,$,ee);let et=[];const gt=Ae.lineNumber-1,xt=Be.lineNumber-1;let Kt=null;for(let Ln=gt;Ln<=xt;Ln++)if(this.modelLineProjections[Ln].isVisible())null===Kt&&(Kt=new Ce.y(Ln+1,Ln===gt?Ae.column:1));else if(null!==Kt){const qn=this.model.getLineMaxColumn(Ln);et=et.concat(this.model.getDecorationsInRange(new Ne.Q(Kt.lineNumber,Kt.column,Ln,qn),u,E,$)),Kt=null}null!==Kt&&(et=et.concat(this.model.getDecorationsInRange(new Ne.Q(Kt.lineNumber,Kt.column,Be.lineNumber,Be.column),u,E,$)),Kt=null),et.sort((Ln,Fn)=>{const qn=Ne.Q.compareRangesUsingStarts(Ln.range,Fn.range);return 0===qn?Ln.id<Fn.id?-1:Ln.id>Fn.id?1:0:qn});const Qt=[];let rn=0,Dn=null;for(const Ln of et){const Fn=Ln.id;Dn!==Fn&&(Dn=Fn,Qt[rn++]=Ln)}return Qt}getInjectedTextAt(s){const u=this.getViewLineInfo(s.lineNumber);return this.modelLineProjections[u.modelLineNumber-1].getInjectedTextAt(u.modelLineWrappedLineIdx,s.column)}normalizePosition(s,u){const E=this.getViewLineInfo(s.lineNumber);return this.modelLineProjections[E.modelLineNumber-1].normalizePosition(E.modelLineWrappedLineIdx,s,u)}getLineIndentColumn(s){const u=this.getViewLineInfo(s);return 0===u.modelLineWrappedLineIdx?this.model.getLineIndentColumn(u.modelLineNumber):0}}class mc{constructor(s,u){this.modelLineNumber=s,this.modelLineWrappedLineIdx=u}}class pc{constructor(s,u){this.modelRange=s,this.viewLines=u}}class cg{constructor(s){this._lines=s}convertViewPositionToModelPosition(s){return this._lines.convertViewPositionToModelPosition(s.lineNumber,s.column)}convertViewRangeToModelRange(s){return this._lines.convertViewRangeToModelRange(s)}validateViewPosition(s,u){return this._lines.validateViewPosition(s.lineNumber,s.column,u)}validateViewRange(s,u){return this._lines.validateViewRange(s,u)}convertModelPositionToViewPosition(s,u,E,$){return this._lines.convertModelPositionToViewPosition(s.lineNumber,s.column,u,E,$)}convertModelRangeToViewRange(s,u){return this._lines.convertModelRangeToViewRange(s,u)}modelPositionIsVisible(s){return this._lines.modelPositionIsVisible(s.lineNumber,s.column)}getModelLineViewLineCount(s){return this._lines.getModelLineViewLineCount(s)}getViewLineNumberOfModelPosition(s,u){return this._lines.getViewLineNumberOfModelPosition(s,u)}}class es{constructor(s){this.model=s}dispose(){}createCoordinatesConverter(){return new _c(this)}getHiddenAreas(){return[]}setHiddenAreas(s){return!1}setTabSize(s){return!1}setWrappingSettings(s,u,E,$){return!1}createLineBreaksComputer(){const s=[];return{addRequest:(u,E,$)=>{s.push(null)},finalize:()=>s}}onModelFlushed(){}onModelLinesDeleted(s,u,E){return new _a(u,E)}onModelLinesInserted(s,u,E,$){return new Rr(u,E)}onModelLineChanged(s,u,E){return[!1,new Ks(u,1),null,null]}acceptVersionId(s){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(s,u,E){return{startLineNumber:s,endLineNumber:s,indent:0}}getViewLinesBracketGuides(s,u,E){return new Array(u-s+1).fill([])}getViewLinesIndentGuides(s,u){const E=u-s+1,$=new Array(E);for(let ee=0;ee<E;ee++)$[ee]=0;return $}getViewLineContent(s){return this.model.getLineContent(s)}getViewLineLength(s){return this.model.getLineLength(s)}getViewLineMinColumn(s){return this.model.getLineMinColumn(s)}getViewLineMaxColumn(s){return this.model.getLineMaxColumn(s)}getViewLineData(s){const u=this.model.tokenization.getLineTokens(s),E=u.getLineContent();return new js.GP(E,!1,1,E.length+1,0,u.inflate(),null)}getViewLinesData(s,u,E){const $=this.model.getLineCount();s=Math.min(Math.max(1,s),$),u=Math.min(Math.max(1,u),$);const ee=[];for(let Ae=s;Ae<=u;Ae++){const Be=Ae-s;ee[Be]=E[Be]?this.getViewLineData(Ae):null}return ee}getDecorationsInRange(s,u,E,$,ee){return this.model.getDecorationsInRange(s,u,E,$,ee)}normalizePosition(s,u){return this.model.normalizePosition(s,u)}getLineIndentColumn(s){return this.model.getLineIndentColumn(s)}getInjectedTextAt(s){return null}}class _c{constructor(s){this._lines=s}_validPosition(s){return this._lines.model.validatePosition(s)}_validRange(s){return this._lines.model.validateRange(s)}convertViewPositionToModelPosition(s){return this._validPosition(s)}convertViewRangeToModelRange(s){return this._validRange(s)}validateViewPosition(s,u){return this._validPosition(u)}validateViewRange(s,u){return this._validRange(u)}convertModelPositionToViewPosition(s){return this._validPosition(s)}convertModelRangeToViewRange(s){return this._validRange(s)}modelPositionIsVisible(s){const u=this._lines.model.getLineCount();return!(s.lineNumber<1||s.lineNumber>u)}getModelLineViewLineCount(s){return 1}getViewLineNumberOfModelPosition(s,u){return s}}const Kr=B.ZS.Right;class Xs{constructor(s){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((s+1)*Kr/8))}reset(s){const u=Math.ceil((s+1)*Kr/8);this.lanes.length<u?this.lanes=new Uint8Array(u):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(s,u,E){E&&(this.persist|=1<<s-1);for(let $=u.startLineNumber;$<=u.endLineNumber;$++){const ee=Kr*$+(s-1);this.lanes[ee>>>3]|=1<<ee%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine($))}}getLanesAtLine(s){const u=[];let E=Kr*s;for(let $=0;$<Kr;$++)(this.persist&1<<$||this.lanes[E>>>3]&1<<E%8)&&u.push($+1),E++;return u.length?u:[B.ZS.Center]}countAtLine(s){let u=Kr*s,E=0;for(let $=0;$<Kr;$++)(this.persist&1<<$||this.lanes[u>>>3]&1<<u%8)&&E++,u++;return E}}class Ca extends v.jG{constructor(s,u,E,$,ee,Ae,Be,et,gt){if(super(),this.languageConfigurationService=Be,this._themeService=et,this._attachedView=gt,this.hiddenAreasModel=new vc,this.previousHiddenAreas=[],this._editorId=s,this._configuration=u,this.model=E,this._eventDispatcher=new Na,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Go.d$(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new Xn.uC(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=Ba.create(this.model),this.glyphLanes=new Xs(0),this.model.isTooLargeForTokenization())this._lines=new es(this.model);else{const xt=this._configuration.options,Kt=xt.get(50),Qt=xt.get(139),rn=xt.get(146),Dn=xt.get(138),Ln=xt.get(129);this._lines=new gc(this._editorId,this.model,$,ee,Kt,this.model.getOptions().tabSize,Qt,rn.wrappingColumn,Dn,Ln)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Pp(E,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new uu(this._configuration,this.getLineCount(),Ae)),this._register(this.viewLayout.onDidScroll(xt=>{xt.scrollTopChanged&&this._handleVisibleLinesChanged(),xt.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new el(xt)),this._eventDispatcher.emitOutgoingEvent(new va(xt.oldScrollWidth,xt.oldScrollLeft,xt.oldScrollHeight,xt.oldScrollTop,xt.scrollWidth,xt.scrollLeft,xt.scrollHeight,xt.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(xt=>{this._eventDispatcher.emitOutgoingEvent(xt)})),this._decorations=new jr.UB(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(xt=>{try{const Kt=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Kt,xt)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(qr.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new sr)})),this._register(this._themeService.onDidColorThemeChange(xt=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Cs(xt))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(s){this._eventDispatcher.addViewEventHandler(s)}removeViewEventHandler(s){this._eventDispatcher.removeViewEventHandler(s)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const s=this.viewLayout.getLinesViewportData(),u=new Ne.Q(s.startLineNumber,this.getLineMinColumn(s.startLineNumber),s.endLineNumber,this.getLineMaxColumn(s.endLineNumber));return this._toModelVisibleRanges(u)}visibleLinesStabilized(){const s=this.getModelVisibleRanges();this._attachedView.setVisibleLines(s,!0)}_handleVisibleLinesChanged(){const s=this.getModelVisibleRanges();this._attachedView.setVisibleLines(s,!1)}setHasFocus(s){this._hasFocus=s,this._cursor.setHasFocus(s),this._eventDispatcher.emitSingleViewEvent(new yl(s)),this._eventDispatcher.emitOutgoingEvent(new wr(!s,s))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Xa)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new Ja)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const s=new Ce.y(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),u=this.coordinatesConverter.convertViewPositionToModelPosition(s);return new ar(u,this._viewportStart.startLineDelta)}return new ar(null,0)}_onConfigurationChanged(s,u){const E=this._captureStableViewport(),$=this._configuration.options,ee=$.get(50),Ae=$.get(139),Be=$.get(146),et=$.get(138),gt=$.get(129);this._lines.setWrappingSettings(ee,Ae,Be.wrappingColumn,et,gt)&&(s.emitViewEvent(new Er),s.emitViewEvent(new yo),s.emitViewEvent(new Hr(null)),this._cursor.onLineMappingChanged(s),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),u.hasChanged(91)&&(this._decorations.reset(),s.emitViewEvent(new Hr(null))),u.hasChanged(98)&&(this._decorations.reset(),s.emitViewEvent(new Hr(null))),s.emitViewEvent(new Vr(u)),this.viewLayout.onConfigurationChanged(u),E.recoverViewportStart(this.coordinatesConverter,this.viewLayout),Go.d$.shouldRecreate(u)&&(this.cursorConfig=new Go.d$(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(s=>{try{const E=this._eventDispatcher.beginEmitViewEvents();let $=!1,ee=!1;const Ae=s instanceof Pr.Ic?s.rawContentChangedEvent.changes:s.changes,Be=s instanceof Pr.Ic?s.rawContentChangedEvent.versionId:null,et=this._lines.createLineBreaksComputer();for(const Kt of Ae)switch(Kt.changeType){case 4:for(let Qt=0;Qt<Kt.detail.length;Qt++){const rn=Kt.detail[Qt];let Dn=Kt.injectedTexts[Qt];Dn&&(Dn=Dn.filter(Ln=>!Ln.ownerId||Ln.ownerId===this._editorId)),et.addRequest(rn,Dn,null)}break;case 2:{let Qt=null;Kt.injectedText&&(Qt=Kt.injectedText.filter(rn=>!rn.ownerId||rn.ownerId===this._editorId)),et.addRequest(Kt.detail,Qt,null);break}}const gt=et.finalize(),xt=new U.j3(gt);for(const Kt of Ae)switch(Kt.changeType){case 1:this._lines.onModelFlushed(),E.emitViewEvent(new Er),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),$=!0;break;case 3:{const Qt=this._lines.onModelLinesDeleted(Be,Kt.fromLineNumber,Kt.toLineNumber);null!==Qt&&(E.emitViewEvent(Qt),this.viewLayout.onLinesDeleted(Qt.fromLineNumber,Qt.toLineNumber)),$=!0;break}case 4:{const Qt=xt.takeCount(Kt.detail.length),rn=this._lines.onModelLinesInserted(Be,Kt.fromLineNumber,Kt.toLineNumber,Qt);null!==rn&&(E.emitViewEvent(rn),this.viewLayout.onLinesInserted(rn.fromLineNumber,rn.toLineNumber)),$=!0;break}case 2:{const Qt=xt.dequeue(),[rn,Dn,Ln,Fn]=this._lines.onModelLineChanged(Be,Kt.lineNumber,Qt);ee=rn,Dn&&E.emitViewEvent(Dn),Ln&&(E.emitViewEvent(Ln),this.viewLayout.onLinesInserted(Ln.fromLineNumber,Ln.toLineNumber)),Fn&&(E.emitViewEvent(Fn),this.viewLayout.onLinesDeleted(Fn.fromLineNumber,Fn.toLineNumber));break}}null!==Be&&this._lines.acceptVersionId(Be),this.viewLayout.onHeightMaybeChanged(),!$&&ee&&(E.emitViewEvent(new yo),E.emitViewEvent(new Hr(null)),this._cursor.onLineMappingChanged(E),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const u=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&u){const E=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(E){const $=this.coordinatesConverter.convertModelPositionToViewPosition(E.getStartPosition()),ee=this.viewLayout.getVerticalOffsetForLineNumber($.lineNumber);this.viewLayout.setScrollPosition({scrollTop:ee+this._viewportStart.startLineDelta},1)}}try{const E=this._eventDispatcher.beginEmitViewEvents();s instanceof Pr.Ic&&E.emitOutgoingEvent(new dc(s.contentChangedEvent)),this._cursor.onModelContentChanged(E,s)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(s=>{const u=[];for(let E=0,$=s.ranges.length;E<$;E++){const ee=s.ranges[E],Ae=this.coordinatesConverter.convertModelPositionToViewPosition(new Ce.y(ee.fromLineNumber,1)).lineNumber,Be=this.coordinatesConverter.convertModelPositionToViewPosition(new Ce.y(ee.toLineNumber,this.model.getLineMaxColumn(ee.toLineNumber))).lineNumber;u[E]={fromLineNumber:Ae,toLineNumber:Be}}this._eventDispatcher.emitSingleViewEvent(new lc(u)),this._eventDispatcher.emitOutgoingEvent(new kp(s))})),this._register(this.model.onDidChangeLanguageConfiguration(s=>{this._eventDispatcher.emitSingleViewEvent(new pa),this.cursorConfig=new Go.d$(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new rg(s))})),this._register(this.model.onDidChangeLanguage(s=>{this.cursorConfig=new Go.d$(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new El(s))})),this._register(this.model.onDidChangeOptions(s=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const u=this._eventDispatcher.beginEmitViewEvents();u.emitViewEvent(new Er),u.emitViewEvent(new yo),u.emitViewEvent(new Hr(null)),this._cursor.onLineMappingChanged(u),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Go.d$(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Xl(s))})),this._register(this.model.onDidChangeDecorations(s=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Hr(s)),this._eventDispatcher.emitOutgoingEvent(new Sh(s))}))}setHiddenAreas(s,u){var E;this.hiddenAreasModel.setHiddenAreas(u,s);const $=this.hiddenAreasModel.getMergedRanges();if($===this.previousHiddenAreas)return;this.previousHiddenAreas=$;const ee=this._captureStableViewport();let Ae=!1;try{const Be=this._eventDispatcher.beginEmitViewEvents();Ae=this._lines.setHiddenAreas($),Ae&&(Be.emitViewEvent(new Er),Be.emitViewEvent(new yo),Be.emitViewEvent(new Hr(null)),this._cursor.onLineMappingChanged(Be),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const et=null===(E=ee.viewportStartModelPosition)||void 0===E?void 0:E.lineNumber;et&&$.some(xt=>xt.startLineNumber<=et&&et<=xt.endLineNumber)||ee.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),Ae&&this._eventDispatcher.emitOutgoingEvent(new tl)}getVisibleRangesPlusViewportAboveBelow(){const s=this._configuration.options.get(145),u=this._configuration.options.get(67),E=Math.max(20,Math.round(s.height/u)),$=this.viewLayout.getLinesViewportData(),ee=Math.max(1,$.completelyVisibleStartLineNumber-E),Ae=Math.min(this.getLineCount(),$.completelyVisibleEndLineNumber+E);return this._toModelVisibleRanges(new Ne.Q(ee,this.getLineMinColumn(ee),Ae,this.getLineMaxColumn(Ae)))}getVisibleRanges(){const s=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(s)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(s){const u=this.coordinatesConverter.convertViewRangeToModelRange(s),E=this._lines.getHiddenAreas();if(0===E.length)return[u];const $=[];let ee=0,Ae=u.startLineNumber,Be=u.startColumn;const et=u.endLineNumber,gt=u.endColumn;for(let xt=0,Kt=E.length;xt<Kt;xt++){const Qt=E[xt].startLineNumber,rn=E[xt].endLineNumber;rn<Ae||Qt>et||(Ae<Qt&&($[ee++]=new Ne.Q(Ae,Be,Qt-1,this.model.getLineMaxColumn(Qt-1))),Ae=rn+1,Be=1)}return(Ae<et||Ae===et&&Be<gt)&&($[ee++]=new Ne.Q(Ae,Be,et,gt)),$}getCompletelyVisibleViewRange(){const s=this.viewLayout.getLinesViewportData(),u=s.completelyVisibleStartLineNumber,E=s.completelyVisibleEndLineNumber;return new Ne.Q(u,this.getLineMinColumn(u),E,this.getLineMaxColumn(E))}getCompletelyVisibleViewRangeAtScrollTop(s){const u=this.viewLayout.getLinesViewportDataAtScrollTop(s),E=u.completelyVisibleStartLineNumber,$=u.completelyVisibleEndLineNumber;return new Ne.Q(E,this.getLineMinColumn(E),$,this.getLineMaxColumn($))}saveState(){const s=this.viewLayout.saveState(),u=s.scrollTop,E=this.viewLayout.getLineNumberAtVerticalOffset(u),$=this.coordinatesConverter.convertViewPositionToModelPosition(new Ce.y(E,this.getLineMinColumn(E))),ee=this.viewLayout.getVerticalOffsetForLineNumber(E)-u;return{scrollLeft:s.scrollLeft,firstPosition:$,firstPositionDeltaTop:ee}}reduceRestoreState(s){if(typeof s.firstPosition>"u")return this._reduceRestoreStateCompatibility(s);const u=this.model.validatePosition(s.firstPosition),E=this.coordinatesConverter.convertModelPositionToViewPosition(u),$=this.viewLayout.getVerticalOffsetForLineNumber(E.lineNumber)-s.firstPositionDeltaTop;return{scrollLeft:s.scrollLeft,scrollTop:$}}_reduceRestoreStateCompatibility(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(s,u,E){this._viewportStart.update(this,s)}getActiveIndentGuide(s,u,E){return this._lines.getActiveIndentGuide(s,u,E)}getLinesIndentGuides(s,u){return this._lines.getViewLinesIndentGuides(s,u)}getBracketGuidesInRangeByLine(s,u,E,$){return this._lines.getViewLinesBracketGuides(s,u,E,$)}getLineContent(s){return this._lines.getViewLineContent(s)}getLineLength(s){return this._lines.getViewLineLength(s)}getLineMinColumn(s){return this._lines.getViewLineMinColumn(s)}getLineMaxColumn(s){return this._lines.getViewLineMaxColumn(s)}getLineFirstNonWhitespaceColumn(s){const u=ei.HG(this.getLineContent(s));return-1===u?0:u+1}getLineLastNonWhitespaceColumn(s){const u=ei.lT(this.getLineContent(s));return-1===u?0:u+2}getMinimapDecorationsInRange(s){return this._decorations.getMinimapDecorationsInRange(s)}getDecorationsInViewport(s){return this._decorations.getDecorationsViewportData(s).decorations}getInjectedTextAt(s){return this._lines.getInjectedTextAt(s)}getViewportViewLineRenderingData(s,u){const $=this._decorations.getDecorationsViewportData(s).inlineDecorations[u-s.startLineNumber];return this._getViewLineRenderingData(u,$)}getViewLineRenderingData(s){const u=this._decorations.getInlineDecorationsOnLine(s);return this._getViewLineRenderingData(s,u)}_getViewLineRenderingData(s,u){const E=this.model.mightContainRTL(),$=this.model.mightContainNonBasicASCII(),ee=this.getTabSize(),Ae=this._lines.getViewLineData(s);return Ae.inlineDecorations&&(u=[...u,...Ae.inlineDecorations.map(Be=>Be.toInlineDecoration(s))]),new js.qL(Ae.minColumn,Ae.maxColumn,Ae.content,Ae.continuesWithWrappedLine,E,$,Ae.tokens,u,ee,Ae.startVisibleColumn)}getViewLineData(s){return this._lines.getViewLineData(s)}getMinimapLinesRenderingData(s,u,E){const $=this._lines.getViewLinesData(s,u,E);return new js.nt(this.getTabSize(),$)}getAllOverviewRulerDecorations(s){const u=this.model.getOverviewRulerDecorations(this._editorId,(0,ae.$C)(this._configuration.options)),E=new mr;for(const $ of u){const ee=$.options,Ae=ee.overviewRuler;if(!Ae)continue;const Be=Ae.position;if(0===Be)continue;const et=Ae.getColor(s.value),gt=this.coordinatesConverter.getViewLineNumberOfModelPosition($.range.startLineNumber,$.range.startColumn),xt=this.coordinatesConverter.getViewLineNumberOfModelPosition($.range.endLineNumber,$.range.endColumn);E.accept(et,ee.zIndex,gt,xt,Be)}return E.asArray}_invalidateDecorationsColorCache(){const s=this.model.getOverviewRulerDecorations();for(const u of s){const E=u.options.overviewRuler;E?.invalidateCachedColor();const $=u.options.minimap;$?.invalidateCachedColor()}}getValueInRange(s,u){const E=this.coordinatesConverter.convertViewRangeToModelRange(s);return this.model.getValueInRange(E,u)}getValueLengthInRange(s,u){const E=this.coordinatesConverter.convertViewRangeToModelRange(s);return this.model.getValueLengthInRange(E,u)}modifyPosition(s,u){const E=this.coordinatesConverter.convertViewPositionToModelPosition(s),$=this.model.modifyPosition(E,u);return this.coordinatesConverter.convertModelPositionToViewPosition($)}deduceModelPositionRelativeToViewPosition(s,u,E){const $=this.coordinatesConverter.convertViewPositionToModelPosition(s);2===this.model.getEOL().length&&(u<0?u-=E:u+=E);const Ae=this.model.getOffsetAt($)+u;return this.model.getPositionAt(Ae)}getPlainTextToCopy(s,u,E){const $=E?"\r\n":this.model.getEOL();(s=s.slice(0)).sort(Ne.Q.compareRangesUsingStarts);let ee=!1,Ae=!1;for(const et of s)et.isEmpty()?ee=!0:Ae=!0;if(!Ae){if(!u)return"";const et=s.map(xt=>xt.startLineNumber);let gt="";for(let xt=0;xt<et.length;xt++)xt>0&&et[xt-1]===et[xt]||(gt+=this.model.getLineContent(et[xt])+$);return gt}if(ee&&u){const et=[];let gt=0;for(const xt of s){const Kt=xt.startLineNumber;xt.isEmpty()?Kt!==gt&&et.push(this.model.getLineContent(Kt)):et.push(this.model.getValueInRange(xt,E?2:0)),gt=Kt}return 1===et.length?et[0]:et}const Be=[];for(const et of s)et.isEmpty()||Be.push(this.model.getValueInRange(et,E?2:0));return 1===Be.length?Be[0]:Be}getRichTextToCopy(s,u){const E=this.model.getLanguageId();if(E===lg.vH||1!==s.length)return null;let $=s[0];if($.isEmpty()){if(!u)return null;const xt=$.startLineNumber;$=new Ne.Q(xt,this.model.getLineMinColumn(xt),xt,this.model.getLineMaxColumn(xt))}const ee=this._configuration.options.get(50),Ae=this._getColorMap();let gt;return/[:;\\\/<>]/.test(ee.fontFamily)||ee.fontFamily===ae.jU.fontFamily?gt=ae.jU.fontFamily:(gt=ee.fontFamily,gt=gt.replace(/"/g,"'"),/[,']/.test(gt)||/[+ ]/.test(gt)&&(gt=`'${gt}'`),gt=`${gt}, ${ae.jU.fontFamily}`),{mode:E,html:`<div style="color: ${Ae[1]};background-color: ${Ae[2]};font-family: ${gt};font-weight: ${ee.fontWeight};font-size: ${ee.fontSize}px;line-height: ${ee.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy($,Ae)+"</div>"}}_getHTMLToCopy(s,u){const E=s.startLineNumber,$=s.startColumn,ee=s.endLineNumber,Ae=s.endColumn,Be=this.getTabSize();let et="";for(let gt=E;gt<=ee;gt++){const xt=this.model.tokenization.getLineTokens(gt),Kt=xt.getLineContent(),Qt=gt===E?$-1:0,rn=gt===ee?Ae-1:Kt.length;et+=""===Kt?"<br>":(0,cc.s0)(Kt,xt.inflate(),u,Qt,rn,Be,R.uF)}return et}_getColorMap(){const s=En.dG.getColorMap(),u=["#000000"];if(s)for(let E=1,$=s.length;E<$;E++)u[E]=On.Q1.Format.CSS.formatHex(s[E]);return u}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(s,u,E){return this._withViewEventsCollector($=>this._cursor.setStates($,s,u,E))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(s){this._cursor.setCursorColumnSelectData(s)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(s){this._cursor.setPrevEditOperationType(s)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(s,u,E=0){this._withViewEventsCollector($=>this._cursor.setSelections($,s,u,E))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(s){this._withViewEventsCollector(u=>this._cursor.restoreState(u,s))}_executeCursorEdit(s){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new du):this._withViewEventsCollector(s)}executeEdits(s,u,E){this._executeCursorEdit($=>this._cursor.executeEdits($,s,u,E))}startComposition(){this._executeCursorEdit(s=>this._cursor.startComposition(s))}endComposition(s){this._executeCursorEdit(u=>this._cursor.endComposition(u,s))}type(s,u){this._executeCursorEdit(E=>this._cursor.type(E,s,u))}compositionType(s,u,E,$,ee){this._executeCursorEdit(Ae=>this._cursor.compositionType(Ae,s,u,E,$,ee))}paste(s,u,E,$){this._executeCursorEdit(ee=>this._cursor.paste(ee,s,u,E,$))}cut(s){this._executeCursorEdit(u=>this._cursor.cut(u,s))}executeCommand(s,u){this._executeCursorEdit(E=>this._cursor.executeCommand(E,s,u))}executeCommands(s,u){this._executeCursorEdit(E=>this._cursor.executeCommands(E,s,u))}revealAllCursors(s,u,E=!1){this._withViewEventsCollector($=>this._cursor.revealAll($,s,E,0,u,0))}revealPrimaryCursor(s,u,E=!1){this._withViewEventsCollector($=>this._cursor.revealPrimary($,s,E,0,u,0))}revealTopMostCursor(s){const u=this._cursor.getTopMostViewPosition(),E=new Ne.Q(u.lineNumber,u.column,u.lineNumber,u.column);this._withViewEventsCollector($=>$.emitViewEvent(new Ra(s,!1,E,null,0,!0,0)))}revealBottomMostCursor(s){const u=this._cursor.getBottomMostViewPosition(),E=new Ne.Q(u.lineNumber,u.column,u.lineNumber,u.column);this._withViewEventsCollector($=>$.emitViewEvent(new Ra(s,!1,E,null,0,!0,0)))}revealRange(s,u,E,$,ee){this._withViewEventsCollector(Ae=>Ae.emitViewEvent(new Ra(s,!1,E,null,$,u,ee)))}changeWhitespace(s){this.viewLayout.changeWhitespace(s)&&(this._eventDispatcher.emitSingleViewEvent(new rr),this._eventDispatcher.emitOutgoingEvent(new Sl))}_withViewEventsCollector(s){try{return s(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}batchEvents(s){this._withViewEventsCollector(()=>{s()})}normalizePosition(s,u){return this._lines.normalizePosition(s,u)}getLineIndentColumn(s){return this._lines.getLineIndentColumn(s)}}class Ba{static create(s){const u=s._setTrackedRange(null,new Ne.Q(1,1,1,1),1);return new Ba(s,1,!1,u,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(s,u,E,$,ee){this._model=s,this._viewLineNumber=u,this._isValid=E,this._modelTrackedRange=$,this._startLineDelta=ee}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(s,u){const E=s.coordinatesConverter.convertViewPositionToModelPosition(new Ce.y(u,s.getLineMinColumn(u))),$=s.model._setTrackedRange(this._modelTrackedRange,new Ne.Q(E.lineNumber,E.column,E.lineNumber,E.column),1),ee=s.viewLayout.getVerticalOffsetForLineNumber(u),Ae=s.viewLayout.getCurrentScrollTop();this._viewLineNumber=u,this._isValid=!0,this._modelTrackedRange=$,this._startLineDelta=Ae-ee}invalidate(){this._isValid=!1}}class mr{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(s,u,E,$,ee){const Ae=this._asMap[s];if(Ae){const Be=Ae.data,gt=Be[Be.length-1];if(Be[Be.length-3]===ee&&gt+1>=E)return void($>gt&&(Be[Be.length-1]=$));Be.push(ee,E,$)}else{const Be=new js.Uv(s,u,[ee,E,$]);this._asMap[s]=Be,this.asArray.push(Be)}}}class vc{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(s,u){const E=this.hiddenAreas.get(s);E&&nd(E,u)||(this.hiddenAreas.set(s,u),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const s=Array.from(this.hiddenAreas.values()).reduce((u,E)=>function Md(Lt,s){const u=[];let E=0,$=0;for(;E<Lt.length&&$<s.length;){const ee=Lt[E],Ae=s[$];if(ee.endLineNumber<Ae.startLineNumber-1)u.push(Lt[E++]);else if(Ae.endLineNumber<ee.startLineNumber-1)u.push(s[$++]);else{const Be=Math.min(ee.startLineNumber,Ae.startLineNumber),et=Math.max(ee.endLineNumber,Ae.endLineNumber);u.push(new Ne.Q(Be,1,et,1)),E++,$++}}for(;E<Lt.length;)u.push(Lt[E++]);for(;$<s.length;)u.push(s[$++]);return u}(u,E),[]);return nd(this.ranges,s)||(this.ranges=s),this.ranges}}function nd(Lt,s){if(Lt.length!==s.length)return!1;for(let u=0;u<Lt.length;u++)if(!Lt[u].equalsRange(s[u]))return!1;return!0}class ar{constructor(s,u){this.viewportStartModelPosition=s,this.startLineDelta=u}recoverViewportStart(s,u){if(!this.viewportStartModelPosition)return;const E=s.convertModelPositionToViewPosition(this.viewportStartModelPosition),$=u.getVerticalOffsetForLineNumber(E.lineNumber);u.setScrollPosition({scrollTop:$+this.startLineDelta},1)}}var ba,Lh=t(51126),xh=t(50168),Cc=t(41424),id=t(16362),xl=t(79134),Lr=function(Lt,s){return function(u,E){s(u,E,Lt)}};let ia=ba=class extends v.jG{get isSimpleWidget(){return this._configuration.isSimpleWidget}get contextMenuId(){return this._configuration.contextMenuId}constructor(s,u,E,$,ee,Ae,Be,et,gt,xt,Kt,Qt){var rn,Dn,Ln;super(),rn=this,this.languageConfigurationService=Kt,this._deliveryQueue=(0,D.Qy)(),this._contributions=this._register(new au),this._onDidDispose=this._register(new D.vl),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new bc({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new bc({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new Vs(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new D.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._updateCounter=0,this._onBeginUpdate=this._register(new D.vl),this.onBeginUpdate=this._onBeginUpdate.event,this._onEndUpdate=this._register(new D.vl),this.onEndUpdate=this._onEndUpdate.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),ee.willCreateCodeEditor();const Fn={...u};let qn;this._domElement=s,this._overflowWidgetsDomNode=Fn.overflowWidgetsDomNode,delete Fn.overflowWidgetsDomNode,this._id=++So,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=E.telemetryData,this._configuration=this._register(this._createConfiguration(E.isSimpleWidget||!1,null!==(Dn=E.contextMenuId)&&void 0!==Dn?Dn:E.isSimpleWidget?xl.D8.SimpleEditorContext:xl.D8.EditorContext,Fn,xt)),this._register(this._configuration.onDidChange(si=>{this._onDidChangeConfiguration.fire(si);const Ci=this._configuration.options;if(si.hasChanged(145)){const Bi=Ci.get(145);this._onDidLayoutChange.fire(Bi)}})),this._contextKeyService=this._register(Be.createScoped(this._domElement)),this._notificationService=gt,this._codeEditorService=ee,this._commandService=Ae,this._themeService=et,this._register(new Mh(this,this._contextKeyService)),this._register(new Ih(this,this._contextKeyService,Qt)),this._instantiationService=this._register($.createChild(new Cc.a([xh.fN,this._contextKeyService]))),this._modelData=null,this._focusTracker=new od(s,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={},qn=Array.isArray(E.contributions)?E.contributions:w.dS.getEditorContributions(),this._contributions.initialize(this,qn,this._instantiationService);for(const si of w.dS.getEditorActions()){if(this._actions.has(si.id)){(0,P.dz)(new Error(`Cannot have two actions with the same id ${si.id}`));continue}const Ci=new Cl.f(si.id,si.label,si.alias,si.metadata,null!==(Ln=si.precondition)&&void 0!==Ln?Ln:void 0,Bi=>this._instantiationService.invokeFunction(Oi=>Promise.resolve(si.runEditorCommand(Oi,this,Bi))),this._contextKeyService);this._actions.set(Ci.id,Ci)}const di=()=>!this._configuration.options.get(91)&&this._configuration.options.get(36).enabled;var si;this._register(new b.pN(this._domElement,{onDragOver:si=>{if(!di())return;const Ci=this.getTargetAtClientPoint(si.clientX,si.clientY);Ci?.position&&this.showDropIndicatorAt(Ci.position)},onDrop:(si=(0,a.A)(function*(Ci){if(!di()||(rn.removeDropIndicator(),!Ci.dataTransfer))return;const Bi=rn.getTargetAtClientPoint(Ci.clientX,Ci.clientY);Bi?.position&&rn._onDropIntoEditor.fire({position:Bi.position,event:Ci})}),function(Bi){return si.apply(this,arguments)}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(s){var u;null===(u=this._modelData)||void 0===u||u.view.writeScreenReaderContent(s)}_createConfiguration(s,u,E,$){return new ce(s,u,E,this._domElement,$)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return wd._.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(s){return this._instantiationService.invokeFunction(s)}updateOptions(s){this._configuration.updateOptions(s||{})}getOptions(){return this._configuration.options}getOption(s){return this._configuration.options.get(s)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(s){return this._modelData?Za.z.getWordAtPosition(this._modelData.model,this._configuration.options.get(131),this._configuration.options.get(130),s):null}getValue(s=null){if(!this._modelData)return"";let E=0;return s&&s.lineEnding&&"\n"===s.lineEnding?E=1:s&&s.lineEnding&&"\r\n"===s.lineEnding&&(E=2),this._modelData.model.getValue(E,!(!s||!s.preserveBOM))}setValue(s){try{if(this._beginUpdate(),!this._modelData)return;this._modelData.model.setValue(s)}finally{this._endUpdate()}}getModel(){return this._modelData?this._modelData.model:null}setModel(s=null){var u;try{this._beginUpdate();const E=s;if(null===this._modelData&&null===E||this._modelData&&this._modelData.model===E)return;const $={oldModelUrl:(null===(u=this._modelData)||void 0===u?void 0:u.model.uri)||null,newModelUrl:E?.uri||null};this._onWillChangeModel.fire($);const ee=this.hasTextFocus(),Ae=this._detachModel();this._attachModel(E),ee&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire($),this._postDetachModelCleanup(Ae),this._contributionsDisposable=this._contributions.onAfterModelAttached()}finally{this._endUpdate()}}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const s in this._decorationTypeSubtypes){const u=this._decorationTypeSubtypes[s];for(const E in u)this._removeDecorationType(s+"-"+E)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(s,u,E,$){const ee=s.model.validatePosition({lineNumber:u,column:E}),Ae=s.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ee);return s.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(Ae.lineNumber,$)}getTopForLineNumber(s,u=!1){return this._modelData?ba._getVerticalOffsetForPosition(this._modelData,s,1,u):-1}getTopForPosition(s,u){return this._modelData?ba._getVerticalOffsetForPosition(this._modelData,s,u,!1):-1}static _getVerticalOffsetForPosition(s,u,E,$=!1){const ee=s.model.validatePosition({lineNumber:u,column:E}),Ae=s.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ee);return s.viewModel.viewLayout.getVerticalOffsetForLineNumber(Ae.lineNumber,$)}getBottomForLineNumber(s,u=!1){return this._modelData?ba._getVerticalOffsetAfterPosition(this._modelData,s,1,u):-1}setHiddenAreas(s,u){var E;null===(E=this._modelData)||void 0===E||E.viewModel.setHiddenAreas(s.map($=>Ne.Q.lift($)),u)}getVisibleColumnFromPosition(s){if(!this._modelData)return s.column;const u=this._modelData.model.validatePosition(s),E=this._modelData.model.getOptions().tabSize;return Fe.A.visibleColumnFromColumn(this._modelData.model.getLineContent(u.lineNumber),u.column,E)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(s,u="api"){if(this._modelData){if(!Ce.y.isIPosition(s))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(u,[{selectionStartLineNumber:s.lineNumber,selectionStartColumn:s.column,positionLineNumber:s.lineNumber,positionColumn:s.column}])}}_sendRevealRange(s,u,E,$){if(!this._modelData)return;if(!Ne.Q.isIRange(s))throw new Error("Invalid arguments");const ee=this._modelData.model.validateRange(s),Ae=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(ee);this._modelData.viewModel.revealRange("api",E,Ae,u,$)}revealLine(s,u=0){this._revealLine(s,0,u)}revealLineInCenter(s,u=0){this._revealLine(s,1,u)}revealLineInCenterIfOutsideViewport(s,u=0){this._revealLine(s,2,u)}revealLineNearTop(s,u=0){this._revealLine(s,5,u)}_revealLine(s,u,E){if("number"!=typeof s)throw new Error("Invalid arguments");this._sendRevealRange(new Ne.Q(s,1,s,1),u,!1,E)}revealPosition(s,u=0){this._revealPosition(s,0,!0,u)}revealPositionInCenter(s,u=0){this._revealPosition(s,1,!0,u)}revealPositionInCenterIfOutsideViewport(s,u=0){this._revealPosition(s,2,!0,u)}revealPositionNearTop(s,u=0){this._revealPosition(s,5,!0,u)}_revealPosition(s,u,E,$){if(!Ce.y.isIPosition(s))throw new Error("Invalid arguments");this._sendRevealRange(new Ne.Q(s.lineNumber,s.column,s.lineNumber,s.column),u,E,$)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(s,u="api"){const E=Ye.L.isISelection(s),$=Ne.Q.isIRange(s);if(!E&&!$)throw new Error("Invalid arguments");E?this._setSelectionImpl(s,u):$&&this._setSelectionImpl({selectionStartLineNumber:s.startLineNumber,selectionStartColumn:s.startColumn,positionLineNumber:s.endLineNumber,positionColumn:s.endColumn},u)}_setSelectionImpl(s,u){if(!this._modelData)return;const E=new Ye.L(s.selectionStartLineNumber,s.selectionStartColumn,s.positionLineNumber,s.positionColumn);this._modelData.viewModel.setSelections(u,[E])}revealLines(s,u,E=0){this._revealLines(s,u,0,E)}revealLinesInCenter(s,u,E=0){this._revealLines(s,u,1,E)}revealLinesInCenterIfOutsideViewport(s,u,E=0){this._revealLines(s,u,2,E)}revealLinesNearTop(s,u,E=0){this._revealLines(s,u,5,E)}_revealLines(s,u,E,$){if("number"!=typeof s||"number"!=typeof u)throw new Error("Invalid arguments");this._sendRevealRange(new Ne.Q(s,1,u,1),E,!1,$)}revealRange(s,u=0,E=!1,$=!0){this._revealRange(s,E?1:0,$,u)}revealRangeInCenter(s,u=0){this._revealRange(s,1,!0,u)}revealRangeInCenterIfOutsideViewport(s,u=0){this._revealRange(s,2,!0,u)}revealRangeNearTop(s,u=0){this._revealRange(s,5,!0,u)}revealRangeNearTopIfOutsideViewport(s,u=0){this._revealRange(s,6,!0,u)}revealRangeAtTop(s,u=0){this._revealRange(s,3,!0,u)}_revealRange(s,u,E,$){if(!Ne.Q.isIRange(s))throw new Error("Invalid arguments");this._sendRevealRange(Ne.Q.lift(s),u,E,$)}setSelections(s,u="api",E=0){if(this._modelData){if(!s||0===s.length)throw new Error("Invalid arguments");for(let $=0,ee=s.length;$<ee;$++)if(!Ye.L.isISelection(s[$]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(u,s,E)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(s,u=1){if(this._modelData){if("number"!=typeof s)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:s},u)}}setScrollTop(s,u=1){if(this._modelData){if("number"!=typeof s)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:s},u)}}setScrollPosition(s,u=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(s,u)}hasPendingScrollAnimation(){return!!this._modelData&&this._modelData.viewModel.viewLayout.hasPendingScrollAnimation()}saveViewState(){if(!this._modelData)return null;const s=this._contributions.saveViewState();return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:s}}restoreViewState(s){if(!this._modelData||!this._modelData.hasRealView)return;const u=s;if(u&&u.cursorState&&u.viewState){const E=u.cursorState;Array.isArray(E)?E.length>0&&this._modelData.viewModel.restoreCursorState(E):this._modelData.viewModel.restoreCursorState([E]),this._contributions.restoreViewState(u.contributionsState||{});const $=this._modelData.viewModel.reduceRestoreState(u.viewState);this._modelData.view.restoreState($)}}handleInitialized(){var s;null===(s=this._getViewModel())||void 0===s||s.visibleLinesStabilized()}getContribution(s){return this._contributions.get(s)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let s=this.getActions();return s=s.filter(u=>u.isSupported()),s}getAction(s){return this._actions.get(s)||null}trigger(s,u,E){E=E||{};try{switch(this._beginUpdate(),u){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(s);case"type":return void this._type(s,E.text||"");case"replacePreviousChar":return void this._compositionType(s,E.text||"",E.replaceCharCnt||0,0,0);case"compositionType":return void this._compositionType(s,E.text||"",E.replacePrevCharCnt||0,E.replaceNextCharCnt||0,E.positionDelta||0);case"paste":return void this._paste(s,E.text||"",E.pasteOnNewLine||!1,E.multicursorText||null,E.mode||null,E.clipboardEvent);case"cut":return void this._cut(s)}const $=this.getAction(u);if($)return void Promise.resolve($.run(E)).then(void 0,P.dz);if(!this._modelData||this._triggerEditorCommand(s,u,E))return;this._triggerCommand(u,E)}finally{this._endUpdate()}}_triggerCommand(s,u){this._commandService.executeCommand(s,u)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(s){this._modelData&&(this._modelData.viewModel.endComposition(s),this._onDidCompositionEnd.fire())}_type(s,u){!this._modelData||0===u.length||("keyboard"===s&&this._onWillType.fire(u),this._modelData.viewModel.type(u,s),"keyboard"===s&&this._onDidType.fire(u))}_compositionType(s,u,E,$,ee){this._modelData&&this._modelData.viewModel.compositionType(u,E,$,ee,s)}_paste(s,u,E,$,ee,Ae){if(!this._modelData)return;const Be=this._modelData.viewModel,et=Be.getSelection().getStartPosition();Be.paste(u,E,$,s);const gt=Be.getSelection().getStartPosition();"keyboard"===s&&this._onDidPaste.fire({clipboardEvent:Ae,range:new Ne.Q(et.lineNumber,et.column,gt.lineNumber,gt.column),languageId:ee})}_cut(s){this._modelData&&this._modelData.viewModel.cut(s)}_triggerEditorCommand(s,u,E){const $=w.dS.getEditorCommand(u);return!!$&&((E=E||{}).source=s,this._instantiationService.invokeFunction(ee=>{Promise.resolve($.runEditorCommand(ee,this,E)).then(void 0,P.dz)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!(!this._modelData||this._configuration.options.get(91)||(this._modelData.model.pushStackElement(),0))}popUndoStop(){return!(!this._modelData||this._configuration.options.get(91)||(this._modelData.model.popStackElement(),0))}executeEdits(s,u,E){if(!this._modelData||this._configuration.options.get(91))return!1;let $;return $=E?Array.isArray(E)?()=>E:E:()=>null,this._modelData.viewModel.executeEdits(s,u,$),!0}executeCommand(s,u){this._modelData&&this._modelData.viewModel.executeCommand(u,s)}executeCommands(s,u){this._modelData&&this._modelData.viewModel.executeCommands(u,s)}createDecorationsCollection(s){return new ol(this,s)}changeDecorations(s){return this._modelData?this._modelData.model.changeDecorations(s,this._id):null}getLineDecorations(s){return this._modelData?this._modelData.model.getLineDecorations(s,this._id,(0,ae.$C)(this._configuration.options)):null}getDecorationsInRange(s){return this._modelData?this._modelData.model.getDecorationsInRange(s,this._id,(0,ae.$C)(this._configuration.options)):null}deltaDecorations(s,u){return this._modelData?0===s.length&&0===u.length?s:this._modelData.model.deltaDecorations(s,u,this._id):[]}removeDecorations(s){!this._modelData||0===s.length||this._modelData.model.changeDecorations(u=>{u.deltaDecorations(s,[])})}removeDecorationsByType(s){const u=this._decorationTypeKeysToIds[s];u&&this.changeDecorations(E=>E.deltaDecorations(u,[])),this._decorationTypeKeysToIds.hasOwnProperty(s)&&delete this._decorationTypeKeysToIds[s],this._decorationTypeSubtypes.hasOwnProperty(s)&&delete this._decorationTypeSubtypes[s]}getLayoutInfo(){return this._configuration.options.get(145)}createOverviewRuler(s){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(s):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarPointerDown(s){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(s)}delegateScrollFromMouseWheelEvent(s){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(s)}layout(s,u=!1){this._configuration.observeContainer(s),u||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(s){const u={widget:s,position:s.getPosition()};this._contentWidgets.hasOwnProperty(s.getId())&&console.warn("Overwriting a content widget with the same id:"+s.getId()),this._contentWidgets[s.getId()]=u,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(u)}layoutContentWidget(s){const u=s.getId();if(this._contentWidgets.hasOwnProperty(u)){const E=this._contentWidgets[u];E.position=s.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(E)}}removeContentWidget(s){const u=s.getId();if(this._contentWidgets.hasOwnProperty(u)){const E=this._contentWidgets[u];delete this._contentWidgets[u],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(E)}}addOverlayWidget(s){const u={widget:s,position:s.getPosition()};this._overlayWidgets.hasOwnProperty(s.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[s.getId()]=u,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(u)}layoutOverlayWidget(s){const u=s.getId();if(this._overlayWidgets.hasOwnProperty(u)){const E=this._overlayWidgets[u];E.position=s.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(E)}}removeOverlayWidget(s){const u=s.getId();if(this._overlayWidgets.hasOwnProperty(u)){const E=this._overlayWidgets[u];delete this._overlayWidgets[u],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(E)}}addGlyphMarginWidget(s){const u={widget:s,position:s.getPosition()};this._glyphMarginWidgets.hasOwnProperty(s.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[s.getId()]=u,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(u)}layoutGlyphMarginWidget(s){const u=s.getId();if(this._glyphMarginWidgets.hasOwnProperty(u)){const E=this._glyphMarginWidgets[u];E.position=s.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(E)}}removeGlyphMarginWidget(s){const u=s.getId();if(this._glyphMarginWidgets.hasOwnProperty(u)){const E=this._glyphMarginWidgets[u];delete this._glyphMarginWidgets[u],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(E)}}changeViewZones(s){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(s)}getTargetAtClientPoint(s,u){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(s,u):null}getScrolledVisiblePosition(s){if(!this._modelData||!this._modelData.hasRealView)return null;const u=this._modelData.model.validatePosition(s),E=this._configuration.options,$=E.get(145);return{top:ba._getVerticalOffsetForPosition(this._modelData,u.lineNumber,u.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(u.lineNumber,u.column)+$.glyphMarginWidth+$.lineNumbersWidth+$.decorationsWidth-this.getScrollLeft(),height:E.get(67)}}getOffsetForColumn(s,u){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(s,u):-1}render(s=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.viewModel.batchEvents(()=>{this._modelData.view.render(!0,s)})}setAriaOptions(s){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(s)}applyFontInfo(s){(0,te.M)(s,this._configuration.options.get(50))}setBanner(s,u){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=s,this._configuration.setReservedHeight(s?u:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(s){if(!s)return void(this._modelData=null);const u=[];this._domElement.setAttribute("data-mode-id",s.getLanguageId()),this._configuration.setIsDominatedByLongLines(s.isDominatedByLongLines()),this._configuration.setModelLineCount(s.getLineCount());const E=s.onBeforeAttached(),$=new Ca(this._id,this._configuration,s,_l.create(b.zk(this._domElement)),fr.create(this._configuration.options),Be=>b.PG(b.zk(this._domElement),Be),this.languageConfigurationService,this._themeService,E);u.push(s.onWillDispose(()=>this.setModel(null))),u.push($.onEvent(Be=>{switch(Be.kind){case 0:this._onDidContentSizeChange.fire(Be);break;case 1:this._editorTextFocus.setValue(Be.hasFocus);break;case 2:this._onDidScrollChange.fire(Be);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(Be.reachedMaxCursorCount){const Kt=this.getOption(80),Qt=Zn.kg("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",Kt);this._notificationService.prompt(id.AI.Warning,Qt,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:Zn.kg("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const et=[];for(let Kt=0,Qt=Be.selections.length;Kt<Qt;Kt++)et[Kt]=Be.selections[Kt].getPosition();const gt={position:et[0],secondaryPositions:et.slice(1),reason:Be.reason,source:Be.source};this._onDidChangeCursorPosition.fire(gt);const xt={selection:Be.selections[0],secondarySelections:Be.selections.slice(1),modelVersionId:Be.modelVersionId,oldSelections:Be.oldSelections,oldModelVersionId:Be.oldModelVersionId,source:Be.source,reason:Be.reason};this._onDidChangeCursorSelection.fire(xt);break}case 7:this._onDidChangeModelDecorations.fire(Be.event);break;case 8:this._domElement.setAttribute("data-mode-id",s.getLanguageId()),this._onDidChangeModelLanguage.fire(Be.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(Be.event);break;case 10:this._onDidChangeModelContent.fire(Be.event);break;case 11:this._onDidChangeModelOptions.fire(Be.event);break;case 12:this._onDidChangeModelTokens.fire(Be.event)}}));const[ee,Ae]=this._createView($);if(Ae){this._domElement.appendChild(ee.domNode.domNode);let Be=Object.keys(this._contentWidgets);for(let et=0,gt=Be.length;et<gt;et++)ee.addContentWidget(this._contentWidgets[Be[et]]);Be=Object.keys(this._overlayWidgets);for(let et=0,gt=Be.length;et<gt;et++)ee.addOverlayWidget(this._overlayWidgets[Be[et]]);Be=Object.keys(this._glyphMarginWidgets);for(let et=0,gt=Be.length;et<gt;et++)ee.addGlyphMarginWidget(this._glyphMarginWidgets[Be[et]]);ee.render(!1,!0),ee.domNode.domNode.setAttribute("data-uri",s.uri.toString())}this._modelData=new gu(s,$,ee,Ae,u,E)}_createView(s){let u;u=this.isSimpleWidget?{paste:(ee,Ae,Be,et)=>{this._paste("keyboard",ee,Ae,Be,et)},type:ee=>{this._type("keyboard",ee)},compositionType:(ee,Ae,Be,et)=>{this._compositionType("keyboard",ee,Ae,Be,et)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(ee,Ae,Be,et)=>{this._commandService.executeCommand("paste",{text:ee,pasteOnNewLine:Ae,multicursorText:Be,mode:et})},type:ee=>{this._commandService.executeCommand("type",{text:ee})},compositionType:(ee,Ae,Be,et)=>{Be||et?this._commandService.executeCommand("compositionType",{text:ee,replacePrevCharCnt:Ae,replaceNextCharCnt:Be,positionDelta:et}):this._commandService.executeCommand("replacePreviousChar",{text:ee,replaceCharCnt:Ae})},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const E=new Pi(s.coordinatesConverter);return E.onKeyDown=ee=>this._onKeyDown.fire(ee),E.onKeyUp=ee=>this._onKeyUp.fire(ee),E.onContextMenu=ee=>this._onContextMenu.fire(ee),E.onMouseMove=ee=>this._onMouseMove.fire(ee),E.onMouseLeave=ee=>this._onMouseLeave.fire(ee),E.onMouseDown=ee=>this._onMouseDown.fire(ee),E.onMouseUp=ee=>this._onMouseUp.fire(ee),E.onMouseDrag=ee=>this._onMouseDrag.fire(ee),E.onMouseDrop=ee=>this._onMouseDrop.fire(ee),E.onMouseDropCanceled=ee=>this._onMouseDropCanceled.fire(ee),E.onMouseWheel=ee=>this._onMouseWheel.fire(ee),[new Ta(u,this._configuration,this._themeService.getColorTheme(),s,E,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(s){s?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){var s;if(null===(s=this._contributionsDisposable)||void 0===s||s.dispose(),this._contributionsDisposable=void 0,!this._modelData)return null;const u=this._modelData.model,E=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),E&&this._domElement.contains(E)&&this._domElement.removeChild(E),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),u}_removeDecorationType(s){this._codeEditorService.removeDecorationType(s)}hasModel(){return null!==this._modelData}showDropIndicatorAt(s){const u=[{range:new Ne.Q(s.lineNumber,s.column,s.lineNumber,s.column),options:ba.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(u),this.revealPosition(s,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(s,u){this._contextKeyService.createKey(s,u)}_beginUpdate(){this._updateCounter++,1===this._updateCounter&&this._onBeginUpdate.fire()}_endUpdate(){this._updateCounter--,0===this._updateCounter&&this._onEndUpdate.fire()}};ia.dropIntoEditorDecorationOptions=Oa.kI.register({description:"workbench-dnd-target",className:"dnd-target"}),ia=ba=function(Lt,s,u,E){var Ae,$=arguments.length,ee=$<3?s:null===E?E=Object.getOwnPropertyDescriptor(s,u):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ee=Reflect.decorate(Lt,s,u,E);else for(var Be=Lt.length-1;Be>=0;Be--)(Ae=Lt[Be])&&(ee=($<3?Ae(ee):$>3?Ae(s,u,ee):Ae(s,u))||ee);return $>3&&ee&&Object.defineProperty(s,u,ee),ee}([Lr(3,fi._Y),Lr(4,Ve.T),Lr(5,Lh.d),Lr(6,xh.fN),Lr(7,pt.Gy),Lr(8,id.Ot),Lr(9,ge.j),Lr(10,lu.JZ),Lr(11,yh.u)],ia);let So=0;class gu{constructor(s,u,E,$,ee,Ae){this.model=s,this.viewModel=u,this.view=E,this.hasRealView=$,this.listenersToRemove=ee,this.attachedView=Ae}dispose(){(0,v.AS)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}class bc extends v.jG{constructor(s){super(),this._emitterOptions=s,this._onDidChangeToTrue=this._register(new D.vl(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new D.vl(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(s){const u=s?2:1;this._value!==u&&(this._value=u,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class Vs extends D.vl{constructor(s,u){super({deliveryQueue:u}),this._contributions=s}fire(s){this._contributions.onBeforeInteractionEvent(),super.fire(s)}}class Mh extends v.jG{constructor(s,u){super(),this._editor=s,u.createKey("editorId",s.getId()),this._editorSimpleInput=Ko.R.editorSimpleInput.bindTo(u),this._editorFocus=Ko.R.focus.bindTo(u),this._textInputFocus=Ko.R.textInputFocus.bindTo(u),this._editorTextFocus=Ko.R.editorTextFocus.bindTo(u),this._tabMovesFocus=Ko.R.tabMovesFocus.bindTo(u),this._editorReadonly=Ko.R.readOnly.bindTo(u),this._inDiffEditor=Ko.R.inDiffEditor.bindTo(u),this._editorColumnSelection=Ko.R.columnSelection.bindTo(u),this._hasMultipleSelections=Ko.R.hasMultipleSelections.bindTo(u),this._hasNonEmptySelection=Ko.R.hasNonEmptySelection.bindTo(u),this._canUndo=Ko.R.canUndo.bindTo(u),this._canRedo=Ko.R.canRedo.bindTo(u),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(ie.M.onDidChangeTabFocus(E=>this._tabMovesFocus.set(E))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const s=this._editor.getOptions();this._tabMovesFocus.set(ie.M.getTabFocusMode()),this._editorReadonly.set(s.get(91)),this._inDiffEditor.set(s.get(61)),this._editorColumnSelection.set(s.get(22))}_updateFromSelection(){const s=this._editor.getSelections();s?(this._hasMultipleSelections.set(s.length>1),this._hasNonEmptySelection.set(s.some(u=>!u.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const s=this._editor.getModel();this._canUndo.set(!(!s||!s.canUndo())),this._canRedo.set(!(!s||!s.canRedo()))}}class Ih extends v.jG{constructor(s,u,E){super(),this._editor=s,this._contextKeyService=u,this._languageFeaturesService=E,this._langId=Ko.R.languageId.bindTo(u),this._hasCompletionItemProvider=Ko.R.hasCompletionItemProvider.bindTo(u),this._hasCodeActionsProvider=Ko.R.hasCodeActionsProvider.bindTo(u),this._hasCodeLensProvider=Ko.R.hasCodeLensProvider.bindTo(u),this._hasDefinitionProvider=Ko.R.hasDefinitionProvider.bindTo(u),this._hasDeclarationProvider=Ko.R.hasDeclarationProvider.bindTo(u),this._hasImplementationProvider=Ko.R.hasImplementationProvider.bindTo(u),this._hasTypeDefinitionProvider=Ko.R.hasTypeDefinitionProvider.bindTo(u),this._hasHoverProvider=Ko.R.hasHoverProvider.bindTo(u),this._hasDocumentHighlightProvider=Ko.R.hasDocumentHighlightProvider.bindTo(u),this._hasDocumentSymbolProvider=Ko.R.hasDocumentSymbolProvider.bindTo(u),this._hasReferenceProvider=Ko.R.hasReferenceProvider.bindTo(u),this._hasRenameProvider=Ko.R.hasRenameProvider.bindTo(u),this._hasSignatureHelpProvider=Ko.R.hasSignatureHelpProvider.bindTo(u),this._hasInlayHintsProvider=Ko.R.hasInlayHintsProvider.bindTo(u),this._hasDocumentFormattingProvider=Ko.R.hasDocumentFormattingProvider.bindTo(u),this._hasDocumentSelectionFormattingProvider=Ko.R.hasDocumentSelectionFormattingProvider.bindTo(u),this._hasMultipleDocumentFormattingProvider=Ko.R.hasMultipleDocumentFormattingProvider.bindTo(u),this._hasMultipleDocumentSelectionFormattingProvider=Ko.R.hasMultipleDocumentSelectionFormattingProvider.bindTo(u),this._isInEmbeddedEditor=Ko.R.isInEmbeddedEditor.bindTo(u);const $=()=>this._update();this._register(s.onDidChangeModel($)),this._register(s.onDidChangeModelLanguage($)),this._register(E.completionProvider.onDidChange($)),this._register(E.codeActionProvider.onDidChange($)),this._register(E.codeLensProvider.onDidChange($)),this._register(E.definitionProvider.onDidChange($)),this._register(E.declarationProvider.onDidChange($)),this._register(E.implementationProvider.onDidChange($)),this._register(E.typeDefinitionProvider.onDidChange($)),this._register(E.hoverProvider.onDidChange($)),this._register(E.documentHighlightProvider.onDidChange($)),this._register(E.documentSymbolProvider.onDidChange($)),this._register(E.referenceProvider.onDidChange($)),this._register(E.renameProvider.onDidChange($)),this._register(E.documentFormattingEditProvider.onDidChange($)),this._register(E.documentRangeFormattingEditProvider.onDidChange($)),this._register(E.signatureHelpProvider.onDidChange($)),this._register(E.inlayHintsProvider.onDidChange($)),$()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInEmbeddedEditor.reset()})}_update(){const s=this._editor.getModel();s?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(s.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(s)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(s)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(s)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(s)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(s)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(s)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(s)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(s)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(s)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(s)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(s)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(s)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(s)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(s)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(s)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(s)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(s)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(s).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(s).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(s).length>1),this._isInEmbeddedEditor.set(s.uri.scheme===_.ny.walkThroughSnippet||s.uri.scheme===_.ny.vscodeChatCodeBlock)}):this.reset()}}class od extends v.jG{constructor(s,u){super(),this._onChange=this._register(new D.vl),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(b.w5(s)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),u&&(this._overflowWidgetsDomNode=this._register(b.w5(u)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()})))}_update(){const s=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==s&&(this._hadFocus=s,this._onChange.fire(void 0))}hasFocus(){var s;return null!==(s=this._hadFocus)&&void 0!==s&&s}}class ol{get length(){return this._decorationIds.length}constructor(s,u){this._editor=s,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(u)&&u.length>0&&this.set(u)}onDidChange(s,u,E){return this._editor.onDidChangeModelDecorations($=>{this._isChangingDecorations||s.call(u,$)},E)}getRange(s){return!this._editor.hasModel()||s>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[s])}getRanges(){if(!this._editor.hasModel())return[];const s=this._editor.getModel(),u=[];for(const E of this._decorationIds){const $=s.getDecorationRange(E);$&&u.push($)}return u}has(s){return this._decorationIds.includes(s.id)}clear(){0!==this._decorationIds.length&&this.set([])}set(s){try{this._isChangingDecorations=!0,this._editor.changeDecorations(u=>{this._decorationIds=u.deltaDecorations(this._decorationIds,s)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(s){let u=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(E=>{u=E.deltaDecorations([],s),this._decorationIds=this._decorationIds.concat(u)})}finally{this._isChangingDecorations=!1}return u}}const ug=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),hg=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function yc(Lt){return ug+encodeURIComponent(Lt.toString())+hg}const Ah=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Th=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,pt.zy)((Lt,s)=>{const u=Lt.getColor(Lo.Rbi);u&&s.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${yc(u)}") repeat-x bottom left; }`);const E=Lt.getColor(Lo.Hng);E&&s.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${yc(E)}") repeat-x bottom left; }`);const $=Lt.getColor(Lo.pOz);$&&s.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${yc($)}") repeat-x bottom left; }`);const ee=Lt.getColor(Lo.i61);ee&&s.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function bi(Lt){return Ah+encodeURIComponent(Lt.toString())+Th}(ee)}") no-repeat bottom left; }`);const Ae=Lt.getColor(ct.yw);Ae&&s.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Ae.rgba.a}; }`)})},90908:(tt,xe,t)=>{t.d(xe,{t:()=>r});var a=t(24311),F=t(31212),w=t(23544),x=t(70416),C=t(15307),S=t(69912),b=t(51126),P=t(50168),D=t(598),v=t(16362),_=t(48187),d=function(l,g){return function(p,m){g(p,m,l)}};let r=class extends w.x{constructor(g,p,m,T,A,k,O,N,H,L,j,Z,te){super(g,{...T.getRawOptions(),overflowWidgetsDomNode:T.getOverflowWidgetsDomNode()},m,A,k,O,N,H,L,j,Z,te),this._parentEditor=T,this._overwriteOptions=p,super.updateOptions(this._overwriteOptions),this._register(T.onDidChangeConfiguration(X=>this._onParentConfigurationChanged(X)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(g){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(g){a.co(this._overwriteOptions,g,!0),super.updateOptions(this._overwriteOptions)}};r=function(l,g,p,m){var k,T=arguments.length,A=T<3?g:null===m?m=Object.getOwnPropertyDescriptor(g,p):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(l,g,p,m);else for(var O=l.length-1;O>=0;O--)(k=l[O])&&(A=(T<3?k(A):T>3?k(g,p,A):k(g,p))||A);return T>3&&A&&Object.defineProperty(g,p,A),A}([d(4,D._Y),d(5,F.T),d(6,b.d),d(7,P.fN),d(8,_.Gy),d(9,v.Ot),d(10,S.j),d(11,x.JZ),d(12,C.u)],r)},92063:(tt,xe,t)=>{var a=t(15320),F=t(91874),w=t(47639),x=t(31212),C=t(55313),S=t(69995),b=t(81644),P=t(79134),D=t(35072),v=t(50168);t(69366);class d extends P.L{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:(0,b.aS)("toggleShowMovedCodeBlocks","Toggle Show Moved Code Blocks"),precondition:v.M$.has("isInDiffEditor")})}run(X,...U){const q=X.get(D.pG),R=!q.getValue("diffEditor.experimental.showMoves");q.updateValue("diffEditor.experimental.showMoves",R)}}class r extends P.L{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:(0,b.aS)("toggleUseInlineViewWhenSpaceIsLimited","Toggle Use Inline View When Space Is Limited"),precondition:v.M$.has("isInDiffEditor")})}run(X,...U){const q=X.get(D.pG),R=!q.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");q.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",R)}}const l=(0,b.aS)("diffEditor","Diff Editor");class A extends P.L{constructor(){super({id:"diffEditor.revert",title:(0,b.aS)("revert","Revert"),f1:!1,category:l})}run(X,U){var q;const R=function H(te,X,U){return te.get(x.T).listDiffEditors().find(W=>{var Y,oe;const z=W.getModifiedEditor(),G=W.getOriginalEditor();return z&&(null===(Y=z.getModel())||void 0===Y?void 0:Y.uri.toString())===U.toString()&&G&&(null===(oe=G.getModel())||void 0===oe?void 0:oe.uri.toString())===X.toString()})||null}(X,U.originalUri,U.modifiedUri);R instanceof C.T&&R.revertRangeMappings(null!==(q=U.mapping.innerChanges)&&void 0!==q?q:[])}}const k=(0,b.aS)("accessibleDiffViewer","Accessible Diff Viewer");let O=(()=>{class te extends P.L{constructor(){super({id:te.id,title:(0,b.aS)("editor.action.accessibleDiffViewer.next","Go to Next Difference"),category:k,precondition:v.M$.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(U){const q=L(U);q?.accessibleDiffViewerNext()}}return te.id="editor.action.accessibleDiffViewer.next",te})(),N=(()=>{class te extends P.L{constructor(){super({id:te.id,title:(0,b.aS)("editor.action.accessibleDiffViewer.prev","Go to Previous Difference"),category:k,precondition:v.M$.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(U){const q=L(U);q?.accessibleDiffViewerPrev()}}return te.id="editor.action.accessibleDiffViewer.prev",te})();function L(te){const U=te.get(x.T).listDiffEditors(),q=(0,F.bq)();if(q)for(const R of U)if(j(R.getContainerDomNode(),q))return R;return null}function j(te,X){let U=X;for(;U;){if(U===te)return!0;U=U.parentElement}return!1}var Z=t(51126);(0,P.ug)(class f extends P.L{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:(0,b.aS)("toggleCollapseUnchangedRegions","Toggle Collapse Unchanged Regions"),icon:a.W.map,toggled:v.M$.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:v.M$.has("isInDiffEditor"),menu:{when:v.M$.has("isInDiffEditor"),id:P.D8.EditorTitle,order:22,group:"navigation"}})}run(X,...U){const q=X.get(D.pG),R=!q.getValue("diffEditor.hideUnchangedRegions.enabled");q.updateValue("diffEditor.hideUnchangedRegions.enabled",R)}}),(0,P.ug)(d),(0,P.ug)(r),P.ZG.appendMenuItem(P.D8.EditorTitle,{command:{id:(new r).desc.id,title:(0,b.kg)("useInlineViewWhenSpaceIsLimited","Use Inline View When Space Is Limited"),toggled:v.M$.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:v.M$.has("isInDiffEditor")},order:11,group:"1_diff",when:v.M$.and(S.R.diffEditorRenderSideBySideInlineBreakpointReached,v.M$.has("isInDiffEditor"))}),P.ZG.appendMenuItem(P.D8.EditorTitle,{command:{id:(new d).desc.id,title:(0,b.kg)("showMoves","Show Moved Code Blocks"),icon:a.W.move,toggled:v.f1.create("config.diffEditor.experimental.showMoves",!0),precondition:v.M$.has("isInDiffEditor")},order:10,group:"1_diff",when:v.M$.has("isInDiffEditor")}),(0,P.ug)(A);for(const te of[{icon:a.W.arrowRight,key:S.R.diffEditorInlineMode.toNegated()},{icon:a.W.discard,key:S.R.diffEditorInlineMode}])P.ZG.appendMenuItem(P.D8.DiffEditorHunkToolbar,{command:{id:(new A).desc.id,title:(0,b.kg)("revertHunk","Revert Block"),icon:te.icon},when:v.M$.and(S.R.diffEditorModifiedWritable,te.key),order:5,group:"primary"}),P.ZG.appendMenuItem(P.D8.DiffEditorSelectionToolbar,{command:{id:(new A).desc.id,title:(0,b.kg)("revertSelection","Revert Selection"),icon:te.icon},when:v.M$.and(S.R.diffEditorModifiedWritable,te.key),order:5,group:"primary"});(0,P.ug)(class g extends w.qO{constructor(){super({id:"diffEditor.switchSide",title:(0,b.aS)("switchSide","Switch Side"),icon:a.W.arrowSwap,precondition:v.M$.has("isInDiffEditor"),f1:!0,category:l})}runEditorCommand(X,U,q){const R=L(X);if(R instanceof C.T){if(q&&q.dryRun)return{destinationSelection:R.mapToOtherSide().destinationSelection};R.switchSide()}}}),(0,P.ug)(class p extends w.qO{constructor(){super({id:"diffEditor.exitCompareMove",title:(0,b.aS)("exitCompareMove","Exit Compare Move"),icon:a.W.close,precondition:S.R.comparingMovedCode,f1:!1,category:l,keybinding:{weight:1e4,primary:9}})}runEditorCommand(X,U,...q){const R=L(X);R instanceof C.T&&R.exitCompareMove()}}),(0,P.ug)(class m extends w.qO{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:(0,b.aS)("collapseAllUnchangedRegions","Collapse All Unchanged Regions"),icon:a.W.fold,precondition:v.M$.has("isInDiffEditor"),f1:!0,category:l})}runEditorCommand(X,U,...q){const R=L(X);R instanceof C.T&&R.collapseAllUnchangedRegions()}}),(0,P.ug)(class T extends w.qO{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:(0,b.aS)("showAllUnchangedRegions","Show All Unchanged Regions"),icon:a.W.unfold,precondition:v.M$.has("isInDiffEditor"),f1:!0,category:l})}runEditorCommand(X,U,...q){const R=L(X);R instanceof C.T&&R.showAllUnchangedRegions()}}),P.ZG.appendMenuItem(P.D8.EditorTitle,{command:{id:O.id,title:(0,b.kg)("Open Accessible Diff Viewer","Open Accessible Diff Viewer"),precondition:v.M$.has("isInDiffEditor")},order:10,group:"2_diff",when:v.M$.and(S.R.accessibleDiffViewerVisible.negate(),v.M$.has("isInDiffEditor"))}),Z.w.registerCommandAlias("editor.action.diffReview.next",O.id),(0,P.ug)(O),Z.w.registerCommandAlias("editor.action.diffReview.prev",N.id),(0,P.ug)(N)},55313:(tt,xe,t)=>{t.d(xe,{T:()=>re});var a=t(10467),F=t(91874),w=t(92210),x=t(25680),C=t(5643),S=t(99031),b=t(28044),P=t(37673),D=t(85072),v=t.n(D),_=t(97825),f=t.n(_),d=t(77659),r=t.n(d),l=t(55056),g=t.n(l),p=t(10540),m=t.n(p),T=t(41113),A=t.n(T),k=t(41921),O={};O.styleTagTransform=A(),O.setAttributes=g(),O.insert=r().bind(null,"head"),O.domAPI=f(),O.insertStyleElement=m(),v()(k.A,O);var L=t(47639),j=t(31212),Z=t(44583),te=t(23544),X=t(87892),U=t(44906),q=t(23702),R=t(64948),W=t(30833),Y=t(15320),oe=t(81072),z=t(93988),G=t(39183),Q=t(99207),K=t(84132),ie=t(21639),ae=t(13632),de=t(73678),se=t(84094),ge=t(385),_e=t(33480),ye=t(38993),M=t(1905),ce=t(81644),Se=t(13144),Ie=t(598),ne=t(24453),ue=t(52180),we={};we.styleTagTransform=A(),we.setAttributes=g(),we.insert=r().bind(null,"head"),we.domAPI=f(),we.insertStyleElement=m(),v()(ue.A,we);var $e=function(Pe,fe,Te,ze){var It,Xe=arguments.length,_t=Xe<3?fe:null===ze?ze=Object.getOwnPropertyDescriptor(fe,Te):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(Pe,fe,Te,ze);else for(var Ot=Pe.length-1;Ot>=0;Ot--)(It=Pe[Ot])&&(_t=(Xe<3?It(_t):Xe>3?It(fe,Te,_t):It(fe,Te))||_t);return Xe>3&&_t&&Object.defineProperty(fe,Te,_t),_t},it=function(Pe,fe){return function(Te,ze){fe(Te,ze,Pe)}};const He=(0,ne.pU)("diff-review-insert",Y.W.add,(0,ce.kg)("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),me=(0,ne.pU)("diff-review-remove",Y.W.remove,(0,ce.kg)("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),le=(0,ne.pU)("diff-review-close",Y.W.close,(0,ce.kg)("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer."));let Ee=class extends S.jG{constructor(fe,Te,ze,Xe,_t,It,Ot,$t,cn){super(),this._parentNode=fe,this._visible=Te,this._setVisible=ze,this._canClose=Xe,this._width=_t,this._height=It,this._diffs=Ot,this._models=$t,this._instantiationService=cn,this._state=(0,b.rm)(this,(_n,vn)=>{const Cn=this._visible.read(_n);if(this._parentNode.style.visibility=Cn?"visible":"hidden",!Cn)return null;const Gn=vn.add(this._instantiationService.createInstance(be,this._diffs,this._models,this._setVisible,this._canClose));return{model:Gn,view:vn.add(this._instantiationService.createInstance(ht,this._parentNode,Gn,this._width,this._height,this._models))}}).recomputeInitiallyAndOnChange(this._store)}next(){(0,b.Rn)(fe=>{const Te=this._visible.get();this._setVisible(!0,fe),Te&&this._state.get().model.nextGroup(fe)})}prev(){(0,b.Rn)(fe=>{this._setVisible(!0,fe),this._state.get().model.previousGroup(fe)})}close(){(0,b.Rn)(fe=>{this._setVisible(!1,fe)})}};Ee._ttPolicy=(0,X.H)("diffReview",{createHTML:Pe=>Pe}),Ee=$e([it(8,Ie._Y)],Ee);let be=class extends S.jG{constructor(fe,Te,ze,Xe,_t){super(),this._diffs=fe,this._models=Te,this._setVisible=ze,this.canClose=Xe,this._accessibilitySignalService=_t,this._groups=(0,b.FY)(this,[]),this._currentGroupIdx=(0,b.FY)(this,0),this._currentElementIdx=(0,b.FY)(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((It,Ot)=>this._groups.read(Ot)[It]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((It,Ot)=>{var $t;return null===($t=this.currentGroup.read(Ot))||void 0===$t?void 0:$t.lines[It]}),this._register((0,b.fm)(It=>{const Ot=this._diffs.read(It);if(!Ot)return void this._groups.set([],void 0);const $t=function Ne(Pe,fe,Te){const ze=[];for(const Xe of(0,W.n)(Pe,(_t,It)=>It.modified.startLineNumber-_t.modified.endLineNumberExclusive<2*Ce)){const _t=[];_t.push(new dt);const It=new K.M(Math.max(1,Xe[0].original.startLineNumber-Ce),Math.min(Xe[Xe.length-1].original.endLineNumberExclusive+Ce,fe+1)),Ot=new K.M(Math.max(1,Xe[0].modified.startLineNumber-Ce),Math.min(Xe[Xe.length-1].modified.endLineNumberExclusive+Ce,Te+1));(0,W.pN)(Xe,(_n,vn)=>{const Cn=new K.M(_n?_n.original.endLineNumberExclusive:It.startLineNumber,vn?vn.original.startLineNumber:It.endLineNumberExclusive),Gn=new K.M(_n?_n.modified.endLineNumberExclusive:Ot.startLineNumber,vn?vn.modified.startLineNumber:Ot.endLineNumberExclusive);Cn.forEach(Yn=>{_t.push(new on(Yn,Gn.startLineNumber+(Yn-Cn.startLineNumber)))}),vn&&(vn.original.forEach(Yn=>{_t.push(new vt(vn,Yn))}),vn.modified.forEach(Yn=>{_t.push(new fn(vn,Yn))}))});const $t=Xe[0].modified.join(Xe[Xe.length-1].modified),cn=Xe[0].original.join(Xe[Xe.length-1].original);ze.push(new qe(new se.WL($t,cn),_t))}return ze}(Ot,this._models.getOriginalModel().getLineCount(),this._models.getModifiedModel().getLineCount());(0,b.Rn)(cn=>{const _n=this._models.getModifiedPosition();if(_n){const vn=$t.findIndex(Cn=>_n?.lineNumber<Cn.range.modified.endLineNumberExclusive);-1!==vn&&this._currentGroupIdx.set(vn,cn)}this._groups.set($t,cn)})})),this._register((0,b.fm)(It=>{const Ot=this.currentElement.read(It);Ot?.type===Fe.Deleted?this._accessibilitySignalService.playSignal(Se.Rh.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):Ot?.type===Fe.Added&&this._accessibilitySignalService.playSignal(Se.Rh.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,b.fm)(It=>{var Ot;const $t=this.currentElement.read(It);if($t&&$t.type!==Fe.Header){const cn=null!==(Ot=$t.modifiedLineNumber)&&void 0!==Ot?Ot:$t.diff.modified.startLineNumber;this._models.modifiedSetSelection(de.Q.fromPositions(new ae.y(cn,1)))}}))}_goToGroupDelta(fe,Te){const ze=this.groups.get();!ze||ze.length<=1||(0,b.PO)(Te,Xe=>{this._currentGroupIdx.set(ie.L.ofLength(ze.length).clipCyclic(this._currentGroupIdx.get()+fe),Xe),this._currentElementIdx.set(0,Xe)})}nextGroup(fe){this._goToGroupDelta(1,fe)}previousGroup(fe){this._goToGroupDelta(-1,fe)}_goToLineDelta(fe){const Te=this.currentGroup.get();!Te||Te.lines.length<=1||(0,b.Rn)(ze=>{this._currentElementIdx.set(ie.L.ofLength(Te.lines.length).clip(this._currentElementIdx.get()+fe),ze)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(fe){const Te=this.currentGroup.get();if(!Te)return;const ze=Te.lines.indexOf(fe);-1!==ze&&(0,b.Rn)(Xe=>{this._currentElementIdx.set(ze,Xe)})}revealCurrentElementInEditor(){if(!this.canClose.get())return;this._setVisible(!1,void 0);const fe=this.currentElement.get();fe&&(fe.type===Fe.Deleted?this._models.originalReveal(de.Q.fromPositions(new ae.y(fe.originalLineNumber,1))):this._models.modifiedReveal(fe.type!==Fe.Header?de.Q.fromPositions(new ae.y(fe.modifiedLineNumber,1)):void 0))}close(){this.canClose.get()&&(this._setVisible(!1,void 0),this._models.modifiedFocus())}};be=$e([it(4,Se.Nt)],be);const Ce=3;var Fe=function(Pe){return Pe[Pe.Header=0]="Header",Pe[Pe.Unchanged=1]="Unchanged",Pe[Pe.Deleted=2]="Deleted",Pe[Pe.Added=3]="Added",Pe}(Fe||{});class qe{constructor(fe,Te){this.range=fe,this.lines=Te}}class dt{constructor(){this.type=Fe.Header}}class vt{constructor(fe,Te){this.diff=fe,this.originalLineNumber=Te,this.type=Fe.Deleted,this.modifiedLineNumber=void 0}}class fn{constructor(fe,Te){this.diff=fe,this.modifiedLineNumber=Te,this.type=Fe.Added,this.originalLineNumber=void 0}}class on{constructor(fe,Te){this.originalLineNumber=fe,this.modifiedLineNumber=Te,this.type=Fe.Unchanged}}let ht=class extends S.jG{constructor(fe,Te,ze,Xe,_t,It){super(),this._element=fe,this._model=Te,this._width=ze,this._height=Xe,this._models=_t,this._languageService=It,this.domNode=this._element,this.domNode.className="monaco-component diff-review monaco-editor-background";const Ot=document.createElement("div");Ot.className="diff-review-actions",this._actionBar=this._register(new U.E(Ot)),this._register((0,b.fm)($t=>{this._actionBar.clear(),this._model.canClose.read($t)&&this._actionBar.push(new R.rc("diffreview.close",(0,ce.kg)("label.close","Close"),"close-diff-review "+oe.L.asClassName(le),!0,(0,a.A)(function*(){return Te.close()})),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new q.MU(this._content,{})),(0,F.Ln)(this.domNode,this._scrollbar.getDomNode(),Ot),this._register((0,b.fm)($t=>{this._height.read($t),this._width.read($t),this._scrollbar.scanDomNode()})),this._register((0,S.s)(()=>{(0,F.Ln)(this.domNode)})),this._register((0,G.AV)(this.domNode,{width:this._width,height:this._height})),this._register((0,G.AV)(this._content,{width:this._width,height:this._height})),this._register((0,b.yC)(($t,cn)=>{this._model.currentGroup.read($t),this._render(cn)})),this._register((0,F.b2)(this.domNode,"keydown",$t=>{($t.equals(18)||$t.equals(2066)||$t.equals(530))&&($t.preventDefault(),this._model.goToNextLine()),($t.equals(16)||$t.equals(2064)||$t.equals(528))&&($t.preventDefault(),this._model.goToPreviousLine()),($t.equals(9)||$t.equals(2057)||$t.equals(521)||$t.equals(1033))&&($t.preventDefault(),this._model.close()),($t.equals(10)||$t.equals(3))&&($t.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(fe){const Te=this._models.getOriginalOptions(),ze=this._models.getModifiedOptions(),Xe=document.createElement("div");Xe.className="diff-review-table",Xe.setAttribute("role","list"),Xe.setAttribute("aria-label",(0,ce.kg)("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),(0,z.M)(Xe,ze.get(50)),(0,F.Ln)(this._content,Xe);const _t=this._models.getOriginalModel(),It=this._models.getModifiedModel();if(!_t||!It)return;const Ot=_t.getOptions(),$t=It.getOptions(),cn=ze.get(67),_n=this._model.currentGroup.get();for(const vn of _n?.lines||[]){if(!_n)break;let Cn;if(vn.type===Fe.Header){const Yn=document.createElement("div");Yn.className="diff-review-row",Yn.setAttribute("role","listitem");const Xn=_n.range,_i=this._model.currentGroupIndex.get(),Si=this._model.groups.get().length,ji=ri=>0===ri?(0,ce.kg)("no_lines_changed","no lines changed"):1===ri?(0,ce.kg)("one_line_changed","1 line changed"):(0,ce.kg)("more_lines_changed","{0} lines changed",ri),ui=ji(Xn.original.length),xi=ji(Xn.modified.length);Yn.setAttribute("aria-label",(0,ce.kg)({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",_i+1,Si,Xn.original.startLineNumber,ui,Xn.modified.startLineNumber,xi));const Vn=document.createElement("div");Vn.className="diff-review-cell diff-review-summary",Vn.appendChild(document.createTextNode(`${_i+1}/${Si}: @@ -${Xn.original.startLineNumber},${Xn.original.length} +${Xn.modified.startLineNumber},${Xn.modified.length} @@`)),Yn.appendChild(Vn),Cn=Yn}else Cn=this._createRow(vn,cn,this._width.get(),Te,_t,Ot,ze,It,$t);Xe.appendChild(Cn);const Gn=(0,b.un)(Yn=>this._model.currentElement.read(Yn)===vn);fe.add((0,b.fm)(Yn=>{const Xn=Gn.read(Yn);Cn.tabIndex=Xn?0:-1,Xn&&Cn.focus()})),fe.add((0,F.ko)(Cn,"focus",()=>{this._model.goToLine(vn)}))}this._scrollbar.scanDomNode()}_createRow(fe,Te,ze,Xe,_t,It,Ot,$t,cn){const _n=Xe.get(145),vn=_n.glyphMarginWidth+_n.lineNumbersWidth,Cn=Ot.get(145),Gn=10+Cn.glyphMarginWidth+Cn.lineNumbersWidth;let Yn="diff-review-row",Xn="",Si=null;switch(fe.type){case Fe.Added:Yn="diff-review-row line-insert",Xn=" char-insert",Si=He;break;case Fe.Deleted:Yn="diff-review-row line-delete",Xn=" char-delete",Si=me}const ji=document.createElement("div");ji.style.minWidth=ze+"px",ji.className=Yn,ji.setAttribute("role","listitem"),ji.ariaLevel="";const ui=document.createElement("div");ui.className="diff-review-cell",ui.style.height=`${Te}px`,ji.appendChild(ui);const xi=document.createElement("span");xi.style.width=vn+"px",xi.style.minWidth=vn+"px",xi.className="diff-review-line-number"+Xn,void 0!==fe.originalLineNumber?xi.appendChild(document.createTextNode(String(fe.originalLineNumber))):xi.innerText="\xa0",ui.appendChild(xi);const Vn=document.createElement("span");Vn.style.width=Gn+"px",Vn.style.minWidth=Gn+"px",Vn.style.paddingRight="10px",Vn.className="diff-review-line-number"+Xn,void 0!==fe.modifiedLineNumber?Vn.appendChild(document.createTextNode(String(fe.modifiedLineNumber))):Vn.innerText="\xa0",ui.appendChild(Vn);const ri=document.createElement("span");if(ri.className="diff-review-spacer",Si){const io=document.createElement("span");io.className=oe.L.asClassName(Si),io.innerText="\xa0\xa0",ri.appendChild(io)}else ri.innerText="\xa0\xa0";let ki;if(ui.appendChild(ri),void 0!==fe.modifiedLineNumber){let io=this._getLineHtml($t,Ot,cn.tabSize,fe.modifiedLineNumber,this._languageService.languageIdCodec);Ee._ttPolicy&&(io=Ee._ttPolicy.createHTML(io)),ui.insertAdjacentHTML("beforeend",io),ki=$t.getLineContent(fe.modifiedLineNumber)}else{let io=this._getLineHtml(_t,Xe,It.tabSize,fe.originalLineNumber,this._languageService.languageIdCodec);Ee._ttPolicy&&(io=Ee._ttPolicy.createHTML(io)),ui.insertAdjacentHTML("beforeend",io),ki=_t.getLineContent(fe.originalLineNumber)}0===ki.length&&(ki=(0,ce.kg)("blankLine","blank"));let go="";switch(fe.type){case Fe.Unchanged:go=fe.originalLineNumber===fe.modifiedLineNumber?(0,ce.kg)({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",ki,fe.originalLineNumber):(0,ce.kg)("equalLine","{0} original line {1} modified line {2}",ki,fe.originalLineNumber,fe.modifiedLineNumber);break;case Fe.Added:go=(0,ce.kg)("insertLine","+ {0} modified line {1}",ki,fe.modifiedLineNumber);break;case Fe.Deleted:go=(0,ce.kg)("deleteLine","- {0} original line {1}",ki,fe.originalLineNumber)}return ji.setAttribute("aria-label",go),ji}_getLineHtml(fe,Te,ze,Xe,_t){const It=fe.getLineContent(Xe),Ot=Te.get(50),$t=_e.f.createEmpty(It,_t),cn=M.qL.isBasicASCII(It,fe.mightContainNonBasicASCII()),_n=M.qL.containsRTL(It,cn,fe.mightContainRTL());return(0,ye.Md)(new ye.zL(Ot.isMonospace&&!Te.get(33),Ot.canUseHalfwidthRightwardsArrow,It,!1,cn,_n,0,$t,[],ze,0,Ot.spaceWidth,Ot.middotWidth,Ot.wsmiddotWidth,Te.get(117),Te.get(99),Te.get(94),Te.get(51)!==Q.Bc.OFF,null)).html}};ht=$e([it(5,ge.L)],ht);class Je{constructor(fe){this.editors=fe}getOriginalModel(){return this.editors.original.getModel()}getOriginalOptions(){return this.editors.original.getOptions()}originalReveal(fe){this.editors.original.revealRange(fe),this.editors.original.setSelection(fe),this.editors.original.focus()}getModifiedModel(){return this.editors.modified.getModel()}getModifiedOptions(){return this.editors.modified.getOptions()}modifiedReveal(fe){fe&&(this.editors.modified.revealRange(fe),this.editors.modified.setSelection(fe)),this.editors.modified.focus()}modifiedSetSelection(fe){this.editors.modified.setSelection(fe)}modifiedFocus(){this.editors.modified.focus()}getModifiedPosition(){var fe;return null!==(fe=this.editors.modified.getPosition())&&void 0!==fe?fe:void 0}}let ot=(()=>{class Pe extends S.jG{constructor(Te,ze,Xe,_t,It){super(),this._rootElement=Te,this._diffModel=ze,this._originalEditorLayoutInfo=Xe,this._modifiedEditorLayoutInfo=_t,this._editors=It,this._originalScrollTop=(0,b.y0)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,b.y0)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,b.yQ)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,b.FY)(this,0),this._modifiedViewZonesChangedSignal=(0,b.yQ)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,b.yQ)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,b.rm)(this,(vn,Cn)=>{var Gn;this._element.replaceChildren();const Yn=this._diffModel.read(vn),Xn=null===(Gn=Yn?.diff.read(vn))||void 0===Gn?void 0:Gn.movedTexts;if(!Xn||0===Xn.length)return void this.width.set(0,void 0);this._viewZonesChanged.read(vn);const _i=this._originalEditorLayoutInfo.read(vn),Si=this._modifiedEditorLayoutInfo.read(vn);if(!_i||!Si)return void this.width.set(0,void 0);this._modifiedViewZonesChangedSignal.read(vn),this._originalViewZonesChangedSignal.read(vn);const ji=Xn.map(io=>{function Wo(To,co){return(co.getTopForLineNumber(To.startLineNumber,!0)+co.getTopForLineNumber(To.endLineNumberExclusive,!0))/2}const No=Wo(io.lineRangeMapping.original,this._editors.original),Jo=this._originalScrollTop.read(vn),ts=Wo(io.lineRangeMapping.modified,this._editors.modified),Fo=No-Jo,ks=ts-this._modifiedScrollTop.read(vn),gs=Math.min(No,ts),Vo=Math.max(No,ts);return{range:new ie.L(gs,Vo),from:Fo,to:ks,fromWithoutScroll:No,toWithoutScroll:ts,move:io}});ji.sort((0,W.nH)((0,W.VE)(io=>io.fromWithoutScroll>io.toWithoutScroll,W.TS),(0,W.VE)(io=>io.fromWithoutScroll>io.toWithoutScroll?io.fromWithoutScroll:-io.toWithoutScroll,W.U9)));const ui=De.compute(ji.map(io=>io.range)),Vn=_i.verticalScrollbarWidth,ri=10*(ui.getTrackCount()-1)+20,ki=Vn+ri+(Si.contentLeft-Pe.movedCodeBlockPadding);let go=0;for(const io of ji){const No=Vn+10+10*ui.getTrack(go),Jo=15,ts=15,vo=ki,Fo=Si.glyphMarginWidth+Si.lineNumbersWidth,ks=18,gs=document.createElementNS("http://www.w3.org/2000/svg","rect");gs.classList.add("arrow-rectangle"),gs.setAttribute("x",""+(vo-Fo)),gs.setAttribute("y",""+(io.to-ks/2)),gs.setAttribute("width",`${Fo}`),gs.setAttribute("height",`${ks}`),this._element.appendChild(gs);const Vo=document.createElementNS("http://www.w3.org/2000/svg","g"),To=document.createElementNS("http://www.w3.org/2000/svg","path");To.setAttribute("d",`M 0 ${io.from} L ${No} ${io.from} L ${No} ${io.to} L ${vo-ts} ${io.to}`),To.setAttribute("fill","none"),Vo.appendChild(To);const co=document.createElementNS("http://www.w3.org/2000/svg","polygon");co.classList.add("arrow"),Cn.add((0,b.fm)(_s=>{To.classList.toggle("currentMove",io.move===Yn.activeMovedText.read(_s)),co.classList.toggle("currentMove",io.move===Yn.activeMovedText.read(_s))})),co.setAttribute("points",`${vo-ts},${io.to-Jo/2} ${vo},${io.to} ${vo-ts},${io.to+Jo/2}`),Vo.appendChild(co),this._element.appendChild(Vo),go++}this.width.set(ri,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,S.s)(()=>this._element.remove())),this._register((0,b.fm)(vn=>{const Cn=this._originalEditorLayoutInfo.read(vn),Gn=this._modifiedEditorLayoutInfo.read(vn);!Cn||!Gn||(this._element.style.left=Cn.width-Cn.verticalScrollbarWidth+"px",this._element.style.height=`${Cn.height}px`,this._element.style.width=`${Cn.verticalScrollbarWidth+Cn.contentLeft-Pe.movedCodeBlockPadding+this.width.read(vn)}px`)})),this._register((0,b.OI)(this._state));const Ot=(0,b.un)(vn=>{const Cn=this._diffModel.read(vn),Gn=Cn?.diff.read(vn);return Gn?Gn.movedTexts.map(Yn=>({move:Yn,original:new G.D1((0,b.lk)(Yn.lineRangeMapping.original.startLineNumber-1),18),modified:new G.D1((0,b.lk)(Yn.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register((0,G.Vs)(this._editors.original,Ot.map(vn=>vn.map(Cn=>Cn.original)))),this._register((0,G.Vs)(this._editors.modified,Ot.map(vn=>vn.map(Cn=>Cn.modified)))),this._register((0,b.yC)((vn,Cn)=>{const Gn=Ot.read(vn);for(const Yn of Gn)Cn.add(new Qe(this._editors.original,Yn.original,Yn.move,"original",this._diffModel.get())),Cn.add(new Qe(this._editors.modified,Yn.modified,Yn.move,"modified",this._diffModel.get()))}));const $t=(0,b.yQ)("original.onDidFocusEditorWidget",vn=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>vn(void 0),0))),cn=(0,b.yQ)("modified.onDidFocusEditorWidget",vn=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>vn(void 0),0)));let _n="modified";this._register((0,b.Y)({createEmptyChangeSummary:()=>{},handleChange:(vn,Cn)=>(vn.didChange($t)&&(_n="original"),vn.didChange(cn)&&(_n="modified"),!0)},vn=>{$t.read(vn),cn.read(vn);const Cn=this._diffModel.read(vn);if(!Cn)return;const Gn=Cn.diff.read(vn);let Yn;if(Gn&&"original"===_n){const Xn=this._editors.originalCursor.read(vn);Xn&&(Yn=Gn.movedTexts.find(_i=>_i.lineRangeMapping.original.contains(Xn.lineNumber)))}if(Gn&&"modified"===_n){const Xn=this._editors.modifiedCursor.read(vn);Xn&&(Yn=Gn.movedTexts.find(_i=>_i.lineRangeMapping.modified.contains(Xn.lineNumber)))}Yn!==Cn.movedTextToCompare.get()&&Cn.movedTextToCompare.set(void 0,void 0),Cn.setActiveMovedText(Yn)}))}}return Pe.movedCodeBlockPadding=4,Pe})();class De{static compute(fe){const Te=[],ze=[];for(const Xe of fe){let _t=Te.findIndex(It=>!It.intersectsStrict(Xe));-1===_t&&(Te.length>=6?_t=(0,w.TM)(Te,(0,W.VE)(Ot=>Ot.intersectWithRangeLength(Xe),W.U9)):(_t=Te.length,Te.push(new ie.h))),Te[_t].addRange(Xe),ze.push(_t)}return new De(Te.length,ze)}constructor(fe,Te){this._trackCount=fe,this.trackPerLineIdx=Te}getTrack(fe){return this.trackPerLineIdx[fe]}getTrackCount(){return this._trackCount}}class Qe extends G.uN{constructor(fe,Te,ze,Xe,_t){const It=(0,F.h)("div.diff-hidden-lines-widget");super(fe,Te,It.root),this._editor=fe,this._move=ze,this._kind=Xe,this._diffModel=_t,this._nodes=(0,F.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,F.h)("div.text-content@textContent"),(0,F.h)("div.action-bar@actionBar")]),It.root.appendChild(this._nodes.root);const Ot=(0,b.y0)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());let $t;this._register((0,G.AV)(this._nodes.root,{paddingRight:Ot.map(Cn=>Cn.verticalScrollbarWidth)})),$t=ze.changes.length>0?"original"===this._kind?(0,ce.kg)("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,ce.kg)("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):"original"===this._kind?(0,ce.kg)("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,ce.kg)("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const cn=this._register(new U.E(this._nodes.actionBar,{highlightToggledItems:!0})),_n=new R.rc("",$t,"",!1);cn.push(_n,{icon:!1,label:!0});const vn=new R.rc("","Compare",oe.L.asClassName(Y.W.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===ze?void 0:this._move,void 0)});this._register((0,b.fm)(Cn=>{const Gn=this._diffModel.movedTextToCompare.read(Cn)===ze;vn.checked=Gn})),cn.push(vn,{icon:!1,label:!0})}}var mt=t(69366);class kt extends S.jG{constructor(fe,Te,ze,Xe){super(),this._editors=fe,this._diffModel=Te,this._options=ze,this._decorations=(0,b.un)(this,_t=>{var It;const Ot=null===(It=this._diffModel.read(_t))||void 0===It?void 0:It.diff.read(_t);if(!Ot)return null;const $t=this._diffModel.read(_t).movedTextToCompare.read(_t),cn=this._options.renderIndicators.read(_t),_n=this._options.showEmptyDecorations.read(_t),vn=[],Cn=[];if(!$t)for(const Yn of Ot.mappings)if(Yn.lineRangeMapping.original.isEmpty||vn.push({range:Yn.lineRangeMapping.original.toInclusiveRange(),options:cn?mt.Ob:mt.XT}),Yn.lineRangeMapping.modified.isEmpty||Cn.push({range:Yn.lineRangeMapping.modified.toInclusiveRange(),options:cn?mt.Kl:mt.Zw}),Yn.lineRangeMapping.modified.isEmpty||Yn.lineRangeMapping.original.isEmpty)Yn.lineRangeMapping.original.isEmpty||vn.push({range:Yn.lineRangeMapping.original.toInclusiveRange(),options:mt.KL}),Yn.lineRangeMapping.modified.isEmpty||Cn.push({range:Yn.lineRangeMapping.modified.toInclusiveRange(),options:mt.Ou});else for(const Xn of Yn.lineRangeMapping.innerChanges||[])Yn.lineRangeMapping.original.contains(Xn.originalRange.startLineNumber)&&vn.push({range:Xn.originalRange,options:Xn.originalRange.isEmpty()&&_n?mt.wp:mt.Zb}),Yn.lineRangeMapping.modified.contains(Xn.modifiedRange.startLineNumber)&&Cn.push({range:Xn.modifiedRange,options:Xn.modifiedRange.isEmpty()&&_n?mt.GM:mt.bk});if($t)for(const Yn of $t.changes){const Xn=Yn.original.toInclusiveRange();Xn&&vn.push({range:Xn,options:cn?mt.Ob:mt.XT});const _i=Yn.modified.toInclusiveRange();_i&&Cn.push({range:_i,options:cn?mt.Kl:mt.Zw});for(const Si of Yn.innerChanges||[])vn.push({range:Si.originalRange,options:mt.Zb}),Cn.push({range:Si.modifiedRange,options:mt.bk})}const Gn=this._diffModel.read(_t).activeMovedText.read(_t);for(const Yn of Ot.movedTexts)vn.push({range:Yn.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(Yn===Gn?" currentMove":""),blockPadding:[ot.movedCodeBlockPadding,0,ot.movedCodeBlockPadding,ot.movedCodeBlockPadding]}}),Cn.push({range:Yn.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(Yn===Gn?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:vn,modifiedDecorations:Cn}}),this._register((0,G.pY)(this._editors.original,this._decorations.map(_t=>_t?.originalDecorations||[]))),this._register((0,G.pY)(this._editors.modified,this._decorations.map(_t=>_t?.modifiedDecorations||[])))}}var Ht=t(59702);class Ft{resetSash(){this._sashRatio.set(void 0,void 0)}constructor(fe,Te){this._options=fe,this.dimensions=Te,this.sashLeft=(0,P.dQ)(this,ze=>{var Xe;const _t=null!==(Xe=this._sashRatio.read(ze))&&void 0!==Xe?Xe:this._options.splitViewDefaultRatio.read(ze);return this._computeSashLeft(_t,ze)},(ze,Xe)=>{const _t=this.dimensions.width.get();this._sashRatio.set(ze/_t,Xe)}),this._sashRatio=(0,b.FY)(this,void 0)}_computeSashLeft(fe,Te){const ze=this.dimensions.width.read(Te),Xe=Math.floor(this._options.splitViewDefaultRatio.read(Te)*ze),_t=this._options.enableSplitViewResizing.read(Te)?Math.floor(fe*ze):Xe;return ze<=200?Xe:_t<100?100:_t>ze-100?ze-100:_t}}class Bt extends S.jG{constructor(fe,Te,ze,Xe,_t,It){super(),this._domNode=fe,this._dimensions=Te,this._enabled=ze,this._boundarySashes=Xe,this.sashLeft=_t,this._resetSash=It,this._sash=this._register(new Ht.m(this._domNode,{getVerticalSashTop:Ot=>0,getVerticalSashLeft:Ot=>this.sashLeft.get(),getVerticalSashHeight:Ot=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(Ot=>{this.sashLeft.set(this._startSashPosition+(Ot.currentX-Ot.startX),void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._resetSash())),this._register((0,b.fm)(Ot=>{const $t=this._boundarySashes.read(Ot);$t&&(this._sash.orthogonalEndSash=$t.bottom)})),this._register((0,b.fm)(Ot=>{const $t=this._enabled.read(Ot);this._sash.state=$t?3:0,this.sashLeft.read(Ot),this._dimensions.height.read(Ot),this._sash.layout()}))}}var wt,rt=t(86671),Ut=t(66702),St=t(21468),ke=t(56789),Ze=t(42588),Ye=t(34225),st=t(55922),Ke=function(Pe,fe,Te,ze){var It,Xe=arguments.length,_t=Xe<3?fe:null===ze?ze=Object.getOwnPropertyDescriptor(fe,Te):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(Pe,fe,Te,ze);else for(var Ot=Pe.length-1;Ot>=0;Ot--)(It=Pe[Ot])&&(_t=(Xe<3?It(_t):Xe>3?It(fe,Te,_t):It(fe,Te))||_t);return Xe>3&&_t&&Object.defineProperty(fe,Te,_t),_t},ft=function(Pe,fe){return function(Te,ze){fe(Te,ze,Pe)}};const qt=(0,Ie.u1)("diffProviderFactoryService");let Yt=class{constructor(fe){this.instantiationService=fe}createDiffProvider(fe){return this.instantiationService.createInstance(en,fe)}};Yt=Ke([ft(0,Ie._Y)],Yt),(0,ke.v)(qt,Yt,1);let en=wt=class{constructor(fe,Te,ze){this.editorWorkerService=Te,this.telemetryService=ze,this.onDidChangeEventEmitter=new C.vl,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(fe)}dispose(){var fe;null===(fe=this.diffAlgorithmOnDidChangeSubscription)||void 0===fe||fe.dispose()}computeDiff(fe,Te,ze,Xe){var _t=this;return(0,a.A)(function*(){var It,Ot;if("string"!=typeof _t.diffAlgorithm)return _t.diffAlgorithm.computeDiff(fe,Te,ze,Xe);if(fe.isDisposed()||Te.isDisposed())return{changes:[],identical:!0,quitEarly:!1,moves:[]};if(1===fe.getLineCount()&&1===fe.getLineMaxColumn(1))return 1===Te.getLineCount()&&1===Te.getLineMaxColumn(1)?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new se.wm(new K.M(1,2),new K.M(1,Te.getLineCount()+1),[new se.q6(fe.getFullModelRange(),Te.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const $t=JSON.stringify([fe.uri.toString(),Te.uri.toString()]),cn=JSON.stringify([fe.id,Te.id,fe.getAlternativeVersionId(),Te.getAlternativeVersionId(),JSON.stringify(ze)]),_n=wt.diffCache.get($t);if(_n&&_n.context===cn)return _n.result;const vn=Ze.W.create(),Cn=yield _t.editorWorkerService.computeDiff(fe.uri,Te.uri,ze,_t.diffAlgorithm),Gn=vn.elapsed();if(_t.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:Gn,timedOut:null===(It=Cn?.quitEarly)||void 0===It||It,detectedMoves:ze.computeMoves?null!==(Ot=Cn?.moves.length)&&void 0!==Ot?Ot:0:-1}),Xe.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!Cn)throw new Error("no diff result available");return wt.diffCache.size>10&&wt.diffCache.delete(wt.diffCache.keys().next().value),wt.diffCache.set($t,{result:Cn,context:cn}),Cn})()}setOptions(fe){var Te;let ze=!1;fe.diffAlgorithm&&this.diffAlgorithm!==fe.diffAlgorithm&&(null===(Te=this.diffAlgorithmOnDidChangeSubscription)||void 0===Te||Te.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=fe.diffAlgorithm,"string"!=typeof fe.diffAlgorithm&&(this.diffAlgorithmOnDidChangeSubscription=fe.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),ze=!0),ze&&this.onDidChangeEventEmitter.fire()}};en.diffCache=new Map,en=wt=Ke([ft(1,Ye.w),ft(2,st.k)],en);var an=t(19399),lt=t(33507),Nt=t(51601),tn=t(69501),bn=t(43929);let Zn=class extends S.jG{setActiveMovedText(fe){this._activeMovedText.set(fe,void 0)}constructor(fe,Te,ze){var Xe;super(),Xe=this,this.model=fe,this._options=Te,this._diffProviderFactoryService=ze,this._isDiffUpToDate=(0,b.FY)(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,b.FY)(this,void 0),this.diff=this._diff,this._unchangedRegions=(0,b.FY)(this,void 0),this.unchangedRegions=(0,b.un)(this,$t=>{var cn,_n;return this._options.hideUnchangedRegions.read($t)?null!==(_n=null===(cn=this._unchangedRegions.read($t))||void 0===cn?void 0:cn.regions)&&void 0!==_n?_n:[]:((0,b.Rn)(vn=>{var Cn;for(const Gn of(null===(Cn=this._unchangedRegions.get())||void 0===Cn?void 0:Cn.regions)||[])Gn.collapseAll(vn)}),[])}),this.movedTextToCompare=(0,b.FY)(this,void 0),this._activeMovedText=(0,b.FY)(this,void 0),this._hoveredMovedText=(0,b.FY)(this,void 0),this.activeMovedText=(0,b.un)(this,$t=>{var cn,_n;return null!==(_n=null!==(cn=this.movedTextToCompare.read($t))&&void 0!==cn?cn:this._hoveredMovedText.read($t))&&void 0!==_n?_n:this._activeMovedText.read($t)}),this._cancellationTokenSource=new St.Qi,this._diffProvider=(0,b.un)(this,$t=>{const cn=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read($t)});return{diffProvider:cn,onChangeSignal:(0,b.yQ)("onDidChange",cn.onDidChange)}}),this._register((0,S.s)(()=>this._cancellationTokenSource.cancel()));const _t=(0,b.Yd)("contentChangedSignal"),It=this._register(new rt.uC(()=>_t.trigger(void 0),200));this._register((0,b.fm)($t=>{const cn=this._unchangedRegions.read($t);if(!cn||cn.regions.some(Xn=>Xn.isDragged.read($t)))return;const _n=cn.originalDecorationIds.map(Xn=>fe.original.getDecorationRange(Xn)).map(Xn=>Xn?K.M.fromRangeInclusive(Xn):void 0),vn=cn.modifiedDecorationIds.map(Xn=>fe.modified.getDecorationRange(Xn)).map(Xn=>Xn?K.M.fromRangeInclusive(Xn):void 0),Cn=cn.regions.map((Xn,_i)=>_n[_i]&&vn[_i]?new Vi(_n[_i].startLineNumber,vn[_i].startLineNumber,_n[_i].length,Xn.visibleLineCountTop.read($t),Xn.visibleLineCountBottom.read($t)):void 0).filter(Ut.O9),Gn=[];let Yn=!1;for(const Xn of(0,W.n)(Cn,(_i,Si)=>_i.getHiddenModifiedRange($t).endLineNumberExclusive===Si.getHiddenModifiedRange($t).startLineNumber))if(Xn.length>1){Yn=!0;const _i=Xn.reduce((ji,ui)=>ji+ui.lineCount,0),Si=new Vi(Xn[0].originalLineNumber,Xn[0].modifiedLineNumber,_i,Xn[0].visibleLineCountTop.get(),Xn[Xn.length-1].visibleLineCountBottom.get());Gn.push(Si)}else Gn.push(Xn[0]);if(Yn){const Xn=fe.original.deltaDecorations(cn.originalDecorationIds,Gn.map(Si=>({range:Si.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),_i=fe.modified.deltaDecorations(cn.modifiedDecorationIds,Gn.map(Si=>({range:Si.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));(0,b.Rn)(Si=>{this._unchangedRegions.set({regions:Gn,originalDecorationIds:Xn,modifiedDecorationIds:_i},Si)})}}));const Ot=($t,cn,_n)=>{const vn=Vi.fromDiffs($t.changes,fe.original.getLineCount(),fe.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(_n),this._options.hideUnchangedRegionsContextLineCount.read(_n));let Cn;const Gn=this._unchangedRegions.get();if(Gn){const Si=Gn.originalDecorationIds.map(Vn=>fe.original.getDecorationRange(Vn)).map(Vn=>Vn?K.M.fromRangeInclusive(Vn):void 0),ji=Gn.modifiedDecorationIds.map(Vn=>fe.modified.getDecorationRange(Vn)).map(Vn=>Vn?K.M.fromRangeInclusive(Vn):void 0);let xi=(0,G.EK)(Gn.regions.map((Vn,ri)=>{if(!Si[ri]||!ji[ri])return;const ki=Si[ri].length;return new Vi(Si[ri].startLineNumber,ji[ri].startLineNumber,ki,Math.min(Vn.visibleLineCountTop.get(),ki),Math.min(Vn.visibleLineCountBottom.get(),ki-Vn.visibleLineCountTop.get()))}).filter(Ut.O9),(Vn,ri)=>!ri||Vn.modifiedLineNumber>=ri.modifiedLineNumber+ri.lineCount&&Vn.originalLineNumber>=ri.originalLineNumber+ri.lineCount).map(Vn=>new se.WL(Vn.getHiddenOriginalRange(_n),Vn.getHiddenModifiedRange(_n)));xi=se.WL.clip(xi,K.M.ofLength(1,fe.original.getLineCount()),K.M.ofLength(1,fe.modified.getLineCount())),Cn=se.WL.inverse(xi,fe.original.getLineCount(),fe.modified.getLineCount())}const Yn=[];if(Cn)for(const Si of vn){const ji=Cn.filter(ui=>ui.original.intersectsStrict(Si.originalUnchangedRange)&&ui.modified.intersectsStrict(Si.modifiedUnchangedRange));Yn.push(...Si.setVisibleRanges(ji,cn))}else Yn.push(...vn);const Xn=fe.original.deltaDecorations(Gn?.originalDecorationIds||[],Yn.map(Si=>({range:Si.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),_i=fe.modified.deltaDecorations(Gn?.modifiedDecorationIds||[],Yn.map(Si=>({range:Si.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:Yn,originalDecorationIds:Xn,modifiedDecorationIds:_i},cn)};this._register(fe.modified.onDidChangeContent($t=>{if(this._diff.get()){lt.c.fromModelContentChanges($t.changes);const vn=void 0;vn&&(this._lastDiff=vn,(0,b.Rn)(Cn=>{this._diff.set(hi.fromDiffResult(this._lastDiff),Cn),Ot(vn,Cn);const Gn=this.movedTextToCompare.get();this.movedTextToCompare.set(Gn?this._lastDiff.moves.find(Yn=>Yn.lineRangeMapping.modified.intersect(Gn.lineRangeMapping.modified)):void 0,Cn)}))}this._isDiffUpToDate.set(!1,void 0),It.schedule()})),this._register(fe.original.onDidChangeContent($t=>{if(this._diff.get()){lt.c.fromModelContentChanges($t.changes);const vn=void 0;vn&&(this._lastDiff=vn,(0,b.Rn)(Cn=>{this._diff.set(hi.fromDiffResult(this._lastDiff),Cn),Ot(vn,Cn);const Gn=this.movedTextToCompare.get();this.movedTextToCompare.set(Gn?this._lastDiff.moves.find(Yn=>Yn.lineRangeMapping.modified.intersect(Gn.lineRangeMapping.modified)):void 0,Cn)}))}this._isDiffUpToDate.set(!1,void 0),It.schedule()})),this._register((0,b.yC)(function(){var $t=(0,a.A)(function*(cn,_n){Xe._options.hideUnchangedRegionsMinimumLineCount.read(cn),Xe._options.hideUnchangedRegionsContextLineCount.read(cn),It.cancel(),_t.read(cn);const Gn=Xe._diffProvider.read(cn);Gn.onChangeSignal.read(cn),(0,G.b6)(an.D8,cn),(0,G.b6)(tn.NC,cn),Xe._isDiffUpToDate.set(!1,void 0);let Yn=[];_n.add(fe.original.onDidChangeContent(Si=>{const ji=lt.c.fromModelContentChanges(Si.changes);Yn=(0,Nt.M)(Yn,ji)}));let Xn=[];_n.add(fe.modified.onDidChangeContent(Si=>{const ji=lt.c.fromModelContentChanges(Si.changes);Xn=(0,Nt.M)(Xn,ji)}));let _i=yield Gn.diffProvider.computeDiff(fe.original,fe.modified,{ignoreTrimWhitespace:Xe._options.ignoreTrimWhitespace.read(cn),maxComputationTimeMs:Xe._options.maxComputationTimeMs.read(cn),computeMoves:Xe._options.showMoves.read(cn)},Xe._cancellationTokenSource.token);Xe._cancellationTokenSource.token.isCancellationRequested||fe.original.isDisposed()||fe.modified.isDisposed()||(_i=function ei(Pe,fe,Te){return{changes:Pe.changes.map(ze=>new se.wm(ze.original,ze.modified,ze.innerChanges?ze.innerChanges.map(Xe=>function wi(Pe,fe,Te){let ze=Pe.originalRange,Xe=Pe.modifiedRange;return(1!==ze.endColumn||1!==Xe.endColumn)&&ze.endColumn===fe.getLineMaxColumn(ze.endLineNumber)&&Xe.endColumn===Te.getLineMaxColumn(Xe.endLineNumber)&&ze.endLineNumber<fe.getLineCount()&&Xe.endLineNumber<Te.getLineCount()&&(ze=ze.setEndPosition(ze.endLineNumber+1,1),Xe=Xe.setEndPosition(Xe.endLineNumber+1,1)),new se.q6(ze,Xe)}(Xe,fe,Te)):void 0)),moves:Pe.moves,identical:Pe.identical,quitEarly:Pe.quitEarly}}(_i,fe.original,fe.modified),(0,b.Rn)(Si=>{Ot(_i,Si),Xe._lastDiff=_i;const ji=hi.fromDiffResult(_i);Xe._diff.set(ji,Si),Xe._isDiffUpToDate.set(!0,Si);const ui=Xe.movedTextToCompare.get();Xe.movedTextToCompare.set(ui?Xe._lastDiff.moves.find(xi=>xi.lineRangeMapping.modified.intersect(ui.lineRangeMapping.modified)):void 0,Si)}))});return function(cn,_n){return $t.apply(this,arguments)}}()))}ensureModifiedLineIsVisible(fe,Te,ze){var Xe,_t;if(0===(null===(Xe=this.diff.get())||void 0===Xe?void 0:Xe.mappings.length))return;const It=(null===(_t=this._unchangedRegions.get())||void 0===_t?void 0:_t.regions)||[];for(const Ot of It)if(Ot.getHiddenModifiedRange(void 0).contains(fe))return void Ot.showModifiedLine(fe,Te,ze)}ensureOriginalLineIsVisible(fe,Te,ze){var Xe,_t;if(0===(null===(Xe=this.diff.get())||void 0===Xe?void 0:Xe.mappings.length))return;const It=(null===(_t=this._unchangedRegions.get())||void 0===_t?void 0:_t.regions)||[];for(const Ot of It)if(Ot.getHiddenOriginalRange(void 0).contains(fe))return void Ot.showOriginalLine(fe,Te,ze)}waitForDiff(){var fe=this;return(0,a.A)(function*(){yield(0,b.oJ)(fe.isDiffUpToDate,Te=>Te)})()}serializeState(){const fe=this._unchangedRegions.get();return{collapsedRegions:fe?.regions.map(Te=>({range:Te.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(fe){var Te;const ze=null===(Te=fe.collapsedRegions)||void 0===Te?void 0:Te.map(_t=>K.M.deserialize(_t.range)),Xe=this._unchangedRegions.get();!Xe||!ze||(0,b.Rn)(_t=>{for(const It of Xe.regions)for(const Ot of ze)if(It.modifiedUnchangedRange.intersect(Ot)){It.setHiddenModifiedRange(Ot,_t);break}})}};var fe;Zn=function(Pe,fe,Te,ze){var It,Xe=arguments.length,_t=Xe<3?fe:null===ze?ze=Object.getOwnPropertyDescriptor(fe,Te):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(Pe,fe,Te,ze);else for(var Ot=Pe.length-1;Ot>=0;Ot--)(It=Pe[Ot])&&(_t=(Xe<3?It(_t):Xe>3?It(fe,Te,_t):It(fe,Te))||_t);return Xe>3&&_t&&Object.defineProperty(fe,Te,_t),_t}([(2,fe=qt,function(Te,ze){fe(Te,ze,2)})],Zn);class hi{static fromDiffResult(fe){return new hi(fe.changes.map(Te=>new yi(Te)),fe.moves||[],fe.identical,fe.quitEarly)}constructor(fe,Te,ze,Xe){this.mappings=fe,this.movedTexts=Te,this.identical=ze,this.quitEarly=Xe}}class yi{constructor(fe){this.lineRangeMapping=fe}}class Vi{static fromDiffs(fe,Te,ze,Xe,_t){const It=se.wm.inverse(fe,Te,ze),Ot=[];for(const $t of It){let cn=$t.original.startLineNumber,_n=$t.modified.startLineNumber,vn=$t.original.length;const Cn=1===cn&&1===_n,Gn=cn+vn===Te+1&&_n+vn===ze+1;(Cn||Gn)&&vn>=_t+Xe?(Cn&&!Gn&&(vn-=_t),Gn&&!Cn&&(cn+=_t,_n+=_t,vn-=_t),Ot.push(new Vi(cn,_n,vn,0,0))):vn>=2*_t+Xe&&(cn+=_t,_n+=_t,vn-=2*_t,Ot.push(new Vi(cn,_n,vn,0,0)))}return Ot}get originalUnchangedRange(){return K.M.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return K.M.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(fe,Te,ze,Xe,_t){this.originalLineNumber=fe,this.modifiedLineNumber=Te,this.lineCount=ze,this._visibleLineCountTop=(0,b.FY)(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,b.FY)(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,b.un)(this,$t=>this.visibleLineCountTop.read($t)+this.visibleLineCountBottom.read($t)===this.lineCount&&!this.isDragged.read($t)),this.isDragged=(0,b.FY)(this,void 0);const It=Math.max(Math.min(Xe,this.lineCount),0),Ot=Math.max(Math.min(_t,this.lineCount-Xe),0);(0,bn.V7)(Xe===It),(0,bn.V7)(_t===Ot),this._visibleLineCountTop.set(It,void 0),this._visibleLineCountBottom.set(Ot,void 0)}setVisibleRanges(fe,Te){const ze=[],Xe=new K.S(fe.map($t=>$t.modified)).subtractFrom(this.modifiedUnchangedRange);let _t=this.originalLineNumber,It=this.modifiedLineNumber;const Ot=this.modifiedLineNumber+this.lineCount;if(0===Xe.ranges.length)this.showAll(Te),ze.push(this);else{let $t=0;for(const cn of Xe.ranges){const _n=$t===Xe.ranges.length-1;$t++;const Cn=new Vi(_t,It,(_n?Ot:cn.endLineNumberExclusive)-It,0,0);Cn.setHiddenModifiedRange(cn,Te),ze.push(Cn),_t=Cn.originalUnchangedRange.endLineNumberExclusive,It=Cn.modifiedUnchangedRange.endLineNumberExclusive}}return ze}shouldHideControls(fe){return this._shouldHideControls.read(fe)}getHiddenOriginalRange(fe){return K.M.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(fe),this.lineCount-this._visibleLineCountTop.read(fe)-this._visibleLineCountBottom.read(fe))}getHiddenModifiedRange(fe){return K.M.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(fe),this.lineCount-this._visibleLineCountTop.read(fe)-this._visibleLineCountBottom.read(fe))}setHiddenModifiedRange(fe,Te){this.setState(fe.startLineNumber-this.modifiedLineNumber,this.modifiedLineNumber+this.lineCount-fe.endLineNumberExclusive,Te)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(fe=10,Te){const ze=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+fe,ze),Te)}showMoreBelow(fe=10,Te){const ze=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+fe,ze),Te)}showAll(fe){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),fe)}showModifiedLine(fe,Te,ze){const Xe=fe+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),_t=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-fe;0===Te&&Xe<_t||1===Te?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+Xe,ze):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+_t,ze)}showOriginalLine(fe,Te,ze){const Xe=fe-this.originalLineNumber,_t=this.originalLineNumber+this.lineCount-fe;0===Te&&Xe<_t||1===Te?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+_t-Xe,this.getMaxVisibleLineCountTop()),ze):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+Xe-_t,this.getMaxVisibleLineCountBottom()),ze)}collapseAll(fe){this._visibleLineCountTop.set(0,fe),this._visibleLineCountBottom.set(0,fe)}setState(fe,Te,ze){fe=Math.max(Math.min(fe,this.lineCount),0),Te=Math.max(Math.min(Te,this.lineCount-fe),0),this._visibleLineCountTop.set(fe,ze),this._visibleLineCountBottom.set(Te,ze)}}var pt=t(21828);class ct extends S.jG{get visibility(){return this._visibility}set visibility(fe){this._visibility!==fe&&(this._visibility=fe,this._diffActions.style.visibility=fe?"visible":"hidden")}constructor(fe,Te,ze,Xe,_t,It,Ot,$t,cn){var _n;super(),_n=this,this._getViewZoneId=fe,this._marginDomNode=Te,this._modifiedEditor=ze,this._diff=Xe,this._editor=_t,this._viewLineCounts=It,this._originalTextModel=Ot,this._contextMenuService=$t,this._clipboardService=cn,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=oe.L.asClassName(Y.W.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const vn=this._modifiedEditor.getOption(67);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${vn}px`,this._diffActions.style.lineHeight=`${vn}px`,this._marginDomNode.appendChild(this._diffActions);let Cn=0;const Gn=ze.getOption(127)&&!pt.un,Yn=(Xn,_i)=>{var Si;this._contextMenuService.showContextMenu({domForShadowRoot:Gn&&null!==(Si=ze.getDomNode())&&void 0!==Si?Si:void 0,getAnchor:()=>({x:Xn,y:_i}),getActions:()=>{const ji=[],ui=Xe.modified.isEmpty;return ji.push(new R.rc("diff.clipboard.copyDeletedContent",ui?Xe.original.length>1?(0,ce.kg)("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):(0,ce.kg)("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):Xe.original.length>1?(0,ce.kg)("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):(0,ce.kg)("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,(0,a.A)(function*(){const Vn=_n._originalTextModel.getValueInRange(Xe.original.toExclusiveRange());yield _n._clipboardService.writeText(Vn)}))),Xe.original.length>1&&ji.push(new R.rc("diff.clipboard.copyDeletedLineContent",ui?(0,ce.kg)("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Xe.original.startLineNumber+Cn):(0,ce.kg)("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Xe.original.startLineNumber+Cn),void 0,!0,(0,a.A)(function*(){let Vn=_n._originalTextModel.getLineContent(Xe.original.startLineNumber+Cn);""===Vn&&(Vn=0===_n._originalTextModel.getEndOfLineSequence()?"\n":"\r\n"),yield _n._clipboardService.writeText(Vn)}))),ze.getOption(91)||ji.push(new R.rc("diff.inline.revertChange",(0,ce.kg)("diff.inline.revertChange.label","Revert this change"),void 0,!0,(0,a.A)(function*(){_n._editor.revert(_n._diff)}))),ji},autoSelectFirstItem:!0})};this._register((0,F.b2)(this._diffActions,"mousedown",Xn=>{if(!Xn.leftButton)return;const{top:_i,height:Si}=(0,F.BK)(this._diffActions),ji=Math.floor(vn/3);Xn.preventDefault(),Yn(Xn.posx,_i+Si+ji)})),this._register(ze.onMouseMove(Xn=>{8!==Xn.target.type&&5!==Xn.target.type||Xn.target.detail.viewZoneId!==this._getViewZoneId()?this.visibility=!1:(Cn=this._updateLightBulbPosition(this._marginDomNode,Xn.event.browserEvent.y,vn),this.visibility=!0)})),this._register(ze.onMouseDown(Xn=>{Xn.event.leftButton&&(8===Xn.target.type||5===Xn.target.type)&&Xn.target.detail.viewZoneId===this._getViewZoneId()&&(Xn.event.preventDefault(),Cn=this._updateLightBulbPosition(this._marginDomNode,Xn.event.browserEvent.y,vn),Yn(Xn.event.posx,Xn.event.posy+vn))}))}_updateLightBulbPosition(fe,Te,ze){const{top:Xe}=(0,F.BK)(fe),It=Math.floor((Te-Xe)/ze);if(this._diffActions.style.top=It*ze+"px",this._viewLineCounts){let $t=0;for(let cn=0;cn<this._viewLineCounts.length;cn++)if($t+=this._viewLineCounts[cn],It<$t)return cn}return It}}var Tt=t(10139),ut=t(86162);const Ct=(0,X.H)("diffEditorWidget",{createHTML:Pe=>Pe});function Jt(Pe,fe,Te,ze){(0,z.M)(ze,fe.fontInfo);const Xe=Te.length>0,_t=new Tt.fe(1e4);let It=0,Ot=0;const $t=[];for(let Cn=0;Cn<Pe.lineTokens.length;Cn++){const Yn=Pe.lineTokens[Cn],Xn=Pe.lineBreakData[Cn],_i=ut.d.filter(Te,Cn+1,1,Number.MAX_SAFE_INTEGER);if(Xn){let Si=0;for(const ji of Xn.breakOffsets){const ui=Yn.sliceAndInflate(Si,ji,0);It=Math.max(It,Kn(Ot,ui,ut.d.extractWrapped(_i,Si,ji),Xe,Pe.mightContainNonBasicASCII,Pe.mightContainRTL,fe,_t)),Ot++,Si=ji}$t.push(Xn.breakOffsets.length)}else $t.push(1),It=Math.max(It,Kn(Ot,Yn,_i,Xe,Pe.mightContainNonBasicASCII,Pe.mightContainRTL,fe,_t)),Ot++}It+=fe.scrollBeyondLastColumn;const cn=_t.build(),_n=Ct?Ct.createHTML(cn):cn;return ze.innerHTML=_n,{heightInLines:Ot,minWidthInPx:It*fe.typicalHalfwidthCharacterWidth,viewLineCounts:$t}}class un{constructor(fe,Te,ze,Xe){this.lineTokens=fe,this.lineBreakData=Te,this.mightContainNonBasicASCII=ze,this.mightContainRTL=Xe}}class Wn{static fromEditor(fe){var Te;const ze=fe.getOptions(),Xe=ze.get(50),_t=ze.get(145);return new Wn((null===(Te=fe.getModel())||void 0===Te?void 0:Te.getOptions().tabSize)||0,Xe,ze.get(33),Xe.typicalHalfwidthCharacterWidth,ze.get(104),ze.get(67),_t.decorationsWidth,ze.get(117),ze.get(99),ze.get(94),ze.get(51))}constructor(fe,Te,ze,Xe,_t,It,Ot,$t,cn,_n,vn){this.tabSize=fe,this.fontInfo=Te,this.disableMonospaceOptimizations=ze,this.typicalHalfwidthCharacterWidth=Xe,this.scrollBeyondLastColumn=_t,this.lineHeight=It,this.lineDecorationsWidth=Ot,this.stopRenderingLineAfter=$t,this.renderWhitespace=cn,this.renderControlCharacters=_n,this.fontLigatures=vn}}function Kn(Pe,fe,Te,ze,Xe,_t,It,Ot){Ot.appendString('<div class="view-line'),ze||Ot.appendString(" char-delete"),Ot.appendString('" style="top:'),Ot.appendString(String(Pe*It.lineHeight)),Ot.appendString('px;width:1000000px;">');const $t=fe.getLineContent(),cn=M.qL.isBasicASCII($t,Xe),_n=M.qL.containsRTL($t,cn,_t),vn=(0,ye.UW)(new ye.zL(It.fontInfo.isMonospace&&!It.disableMonospaceOptimizations,It.fontInfo.canUseHalfwidthRightwardsArrow,$t,!1,cn,_n,0,fe,Te,It.tabSize,0,It.fontInfo.spaceWidth,It.fontInfo.middotWidth,It.fontInfo.wsmiddotWidth,It.stopRenderingLineAfter,It.renderWhitespace,It.renderControlCharacters,It.fontLigatures!==Q.Bc.OFF,null),Ot);return Ot.appendString("</div>"),vn.characterMapping.getHorizontalOffset(vn.characterMapping.length)}var jn=t(66229),Nn=t(71887),Wt=function(Pe,fe){return function(Te,ze){fe(Te,ze,Pe)}};let mn=class extends S.jG{constructor(fe,Te,ze,Xe,_t,It,Ot,$t,cn,_n){super(),this._targetWindow=fe,this._editors=Te,this._diffModel=ze,this._options=Xe,this._diffEditorWidget=_t,this._canIgnoreViewZoneUpdateEvent=It,this._origViewZonesToIgnore=Ot,this._modViewZonesToIgnore=$t,this._clipboardService=cn,this._contextMenuService=_n,this._originalTopPadding=(0,b.FY)(this,0),this._originalScrollOffset=(0,b.FY)(this,0),this._originalScrollOffsetAnimated=(0,G.Nu)(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,b.FY)(this,0),this._modifiedScrollOffset=(0,b.FY)(this,0),this._modifiedScrollOffsetAnimated=(0,G.Nu)(this._targetWindow,this._modifiedScrollOffset,this._store);const vn=(0,b.FY)("invalidateAlignmentsState",0),Cn=this._register(new rt.uC(()=>{vn.set(vn.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(ui=>{this._canIgnoreViewZoneUpdateEvent()||Cn.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(ui=>{this._canIgnoreViewZoneUpdateEvent()||Cn.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(ui=>{(ui.hasChanged(146)||ui.hasChanged(67))&&Cn.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(ui=>{(ui.hasChanged(146)||ui.hasChanged(67))&&Cn.schedule()}));const Gn=this._diffModel.map(ui=>ui?(0,b.y0)(ui.model.original.onDidChangeTokens,()=>2===ui.model.original.tokenization.backgroundTokenizationState):void 0).map((ui,xi)=>ui?.read(xi)),Yn=(0,b.un)(ui=>{const xi=this._diffModel.read(ui),Vn=xi?.diff.read(ui);if(!xi||!Vn)return null;vn.read(ui);const ki=this._options.renderSideBySide.read(ui);return En(this._editors.original,this._editors.modified,Vn.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,ki)}),Xn=(0,b.un)(ui=>{var xi;const Vn=null===(xi=this._diffModel.read(ui))||void 0===xi?void 0:xi.movedTextToCompare.read(ui);if(!Vn)return null;vn.read(ui);const ri=Vn.changes.map(ki=>new yi(ki));return En(this._editors.original,this._editors.modified,ri,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function _i(){const ui=document.createElement("div");return ui.className="diagonal-fill",ui}const Si=this._register(new S.Cm);this.viewZones=(0,b.rm)(this,(ui,xi)=>{var Vn,ri,ki,go,io,Wo,No,Jo;Si.clear();const ts=Yn.read(ui)||[],vo=[],Fo=[],ks=this._modifiedTopPadding.read(ui);ks>0&&Fo.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:ks,showInHiddenAreas:!0,suppressMouseDown:!0});const gs=this._originalTopPadding.read(ui);gs>0&&vo.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:gs,showInHiddenAreas:!0,suppressMouseDown:!0});const Vo=this._options.renderSideBySide.read(ui),To=Vo||null===(Vn=this._editors.modified._getViewModel())||void 0===Vn?void 0:Vn.createLineBreaksComputer();if(To){const Lo=this._editors.original.getModel();for(const ns of ts)if(ns.diff)for(let ls=ns.originalRange.startLineNumber;ls<ns.originalRange.endLineNumberExclusive;ls++){if(ls>Lo.getLineCount())return{orig:vo,mod:Fo};To?.addRequest(Lo.getLineContent(ls),null,null)}}const co=null!==(ri=To?.finalize())&&void 0!==ri?ri:[];let _s=0;const Fr=this._editors.modified.getOption(67),is=null===(ki=this._diffModel.read(ui))||void 0===ki?void 0:ki.movedTextToCompare.read(ui),$o=null!==(io=null===(go=this._editors.original.getModel())||void 0===go?void 0:go.mightContainNonBasicASCII())&&void 0!==io&&io,qr=null!==(No=null===(Wo=this._editors.original.getModel())||void 0===Wo?void 0:Wo.mightContainRTL())&&void 0!==No&&No,js=Wn.fromEditor(this._editors.modified);for(const Lo of ts)if(Lo.diff&&!Vo){if(!Lo.originalRange.isEmpty){Gn.read(ui);const ls=document.createElement("div");ls.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const Gs=this._editors.original.getModel();if(Lo.originalRange.endLineNumberExclusive-1>Gs.getLineCount())return{orig:vo,mod:Fo};const Ds=new un(Lo.originalRange.mapToLineArray(Uo=>Gs.tokenization.getLineTokens(Uo)),Lo.originalRange.mapToLineArray(Uo=>co[_s++]),$o,qr),ur=[];for(const Uo of Lo.diff.innerChanges||[])ur.push(new M.kI(Uo.originalRange.delta(-(Lo.diff.original.startLineNumber-1)),mt.Zb.className,0));const ea=Jt(Ds,js,ur,ls),Qs=document.createElement("div");if(Qs.className="inline-deleted-margin-view-zone",(0,z.M)(Qs,js.fontInfo),this._options.renderIndicators.read(ui))for(let Uo=0;Uo<ea.heightInLines;Uo++){const ir=document.createElement("div");ir.className=`delete-sign ${oe.L.asClassName(mt.dv)}`,ir.setAttribute("style",`position:absolute;top:${Uo*Fr}px;width:${js.lineDecorationsWidth}px;height:${Fr}px;right:0;`),Qs.appendChild(ir)}let Oo;Si.add(new ct(()=>(0,Ut.eU)(Oo),Qs,this._editors.modified,Lo.diff,this._diffEditorWidget,ea.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let Uo=0;Uo<ea.viewLineCounts.length;Uo++){const ir=ea.viewLineCounts[Uo];ir>1&&vo.push({afterLineNumber:Lo.originalRange.startLineNumber+Uo,domNode:_i(),heightInPx:(ir-1)*Fr,showInHiddenAreas:!0,suppressMouseDown:!0})}Fo.push({afterLineNumber:Lo.modifiedRange.startLineNumber-1,domNode:ls,heightInPx:ea.heightInLines*Fr,minWidthInPx:ea.minWidthInPx,marginDomNode:Qs,setZoneId(Uo){Oo=Uo},showInHiddenAreas:!0,suppressMouseDown:!0})}const ns=document.createElement("div");ns.className="gutter-delete",vo.push({afterLineNumber:Lo.originalRange.endLineNumberExclusive-1,domNode:_i(),heightInPx:Lo.modifiedHeightInPx,marginDomNode:ns,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const ns=Lo.modifiedHeightInPx-Lo.originalHeightInPx;if(ns>0){if(is?.lineRangeMapping.original.delta(-1).deltaLength(2).contains(Lo.originalRange.endLineNumberExclusive-1))continue;vo.push({afterLineNumber:Lo.originalRange.endLineNumberExclusive-1,domNode:_i(),heightInPx:ns,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let Gs,ls=function(){const Ds=document.createElement("div");return Ds.className="arrow-revert-change "+oe.L.asClassName(Y.W.arrowRight),xi.add((0,F.ko)(Ds,"mousedown",ur=>ur.stopPropagation())),xi.add((0,F.ko)(Ds,"click",ur=>{ur.stopPropagation(),_t.revert(Lo.diff)})),(0,F.$)("div",{},Ds)};if(is?.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(Lo.modifiedRange.endLineNumberExclusive-1))continue;Lo.diff&&Lo.diff.modified.isEmpty&&this._options.shouldRenderOldRevertArrows.read(ui)&&(Gs=ls()),Fo.push({afterLineNumber:Lo.modifiedRange.endLineNumberExclusive-1,domNode:_i(),heightInPx:-ns,marginDomNode:Gs,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const Lo of null!==(Jo=Xn.read(ui))&&void 0!==Jo?Jo:[]){if(!is?.lineRangeMapping.original.intersect(Lo.originalRange)||!is?.lineRangeMapping.modified.intersect(Lo.modifiedRange))continue;const ns=Lo.modifiedHeightInPx-Lo.originalHeightInPx;ns>0?vo.push({afterLineNumber:Lo.originalRange.endLineNumberExclusive-1,domNode:_i(),heightInPx:ns,showInHiddenAreas:!0,suppressMouseDown:!0}):Fo.push({afterLineNumber:Lo.modifiedRange.endLineNumberExclusive-1,domNode:_i(),heightInPx:-ns,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:vo,mod:Fo}});let ji=!1;this._register(this._editors.original.onDidScrollChange(ui=>{ui.scrollLeftChanged&&!ji&&(ji=!0,this._editors.modified.setScrollLeft(ui.scrollLeft),ji=!1)})),this._register(this._editors.modified.onDidScrollChange(ui=>{ui.scrollLeftChanged&&!ji&&(ji=!0,this._editors.original.setScrollLeft(ui.scrollLeft),ji=!1)})),this._originalScrollTop=(0,b.y0)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,b.y0)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,b.fm)(ui=>{const xi=this._originalScrollTop.read(ui)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(ui))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(ui));xi!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(xi,1)})),this._register((0,b.fm)(ui=>{const xi=this._modifiedScrollTop.read(ui)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(ui))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(ui));xi!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(xi,1)})),this._register((0,b.fm)(ui=>{var xi;const Vn=null===(xi=this._diffModel.read(ui))||void 0===xi?void 0:xi.movedTextToCompare.read(ui);let ri=0;if(Vn){const ki=this._editors.original.getTopForLineNumber(Vn.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();ri=this._editors.modified.getTopForLineNumber(Vn.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-ki}ri>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(ri,void 0)):ri<0?(this._modifiedTopPadding.set(-ri,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-ri,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+ri,void 0,!0)}))}};function En(Pe,fe,Te,ze,Xe,_t){const It=new W.j3(On(Pe,ze)),Ot=new W.j3(On(fe,Xe)),$t=Pe.getOption(67),cn=fe.getOption(67),_n=[];let vn=0,Cn=0;function Gn(Yn,Xn){for(;;){let _i=It.peek(),Si=Ot.peek();if(_i&&_i.lineNumber>=Yn&&(_i=void 0),Si&&Si.lineNumber>=Xn&&(Si=void 0),!_i&&!Si)break;const ji=_i?_i.lineNumber-vn:Number.MAX_VALUE,ui=Si?Si.lineNumber-Cn:Number.MAX_VALUE;ji<ui?(It.dequeue(),Si={lineNumber:_i.lineNumber-vn+Cn,heightInPx:0}):ji>ui?(Ot.dequeue(),_i={lineNumber:Si.lineNumber-Cn+vn,heightInPx:0}):(It.dequeue(),Ot.dequeue()),_n.push({originalRange:K.M.ofLength(_i.lineNumber,1),modifiedRange:K.M.ofLength(Si.lineNumber,1),originalHeightInPx:$t+_i.heightInPx,modifiedHeightInPx:cn+Si.heightInPx,diff:void 0})}}for(const Yn of Te){let ui=function(xi,Vn){var ri,ki,go,io;if(xi<ji||Vn<Si)return;if(_i)_i=!1;else if(xi===ji||Vn===Si)return;const Wo=new K.M(ji,xi),No=new K.M(Si,Vn);if(Wo.isEmpty&&No.isEmpty)return;const Jo=null!==(ki=null===(ri=It.takeWhile(vo=>vo.lineNumber<xi))||void 0===ri?void 0:ri.reduce((vo,Fo)=>vo+Fo.heightInPx,0))&&void 0!==ki?ki:0,ts=null!==(io=null===(go=Ot.takeWhile(vo=>vo.lineNumber<Vn))||void 0===go?void 0:go.reduce((vo,Fo)=>vo+Fo.heightInPx,0))&&void 0!==io?io:0;_n.push({originalRange:Wo,modifiedRange:No,originalHeightInPx:Wo.length*$t+Jo,modifiedHeightInPx:No.length*cn+ts,diff:Yn.lineRangeMapping}),ji=xi,Si=Vn};const Xn=Yn.lineRangeMapping;Gn(Xn.original.startLineNumber,Xn.modified.startLineNumber);let _i=!0,Si=Xn.modified.startLineNumber,ji=Xn.original.startLineNumber;if(_t)for(const xi of Xn.innerChanges||[]){xi.originalRange.startColumn>1&&xi.modifiedRange.startColumn>1&&ui(xi.originalRange.startLineNumber,xi.modifiedRange.startLineNumber);const Vn=Pe.getModel(),ri=xi.originalRange.endLineNumber<=Vn.getLineCount()?Vn.getLineMaxColumn(xi.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;xi.originalRange.endColumn<ri&&ui(xi.originalRange.endLineNumber,xi.modifiedRange.endLineNumber)}ui(Xn.original.endLineNumberExclusive,Xn.modified.endLineNumberExclusive),vn=Xn.original.endLineNumberExclusive,Cn=Xn.modified.endLineNumberExclusive}return Gn(Number.MAX_VALUE,Number.MAX_VALUE),_n}function On(Pe,fe){const Te=[],ze=[],Xe=-1!==Pe.getOption(146).wrappingColumn,_t=Pe._getViewModel().coordinatesConverter,It=Pe.getOption(67);if(Xe)for(let $t=1;$t<=Pe.getModel().getLineCount();$t++){const cn=_t.getModelLineViewLineCount($t);cn>1&&ze.push({lineNumber:$t,heightInPx:It*(cn-1)})}for(const $t of Pe.getWhitespaces()){if(fe.has($t.id))continue;const cn=0===$t.afterLineNumber?0:_t.convertViewPositionToModelPosition(new ae.y($t.afterLineNumber,1)).lineNumber;Te.push({lineNumber:cn,heightInPx:$t.height})}return(0,G.Am)(Te,ze,$t=>$t.lineNumber,($t,cn)=>({lineNumber:$t.lineNumber,heightInPx:$t.heightInPx+cn.heightInPx}))}mn=function(Pe,fe,Te,ze){var It,Xe=arguments.length,_t=Xe<3?fe:null===ze?ze=Object.getOwnPropertyDescriptor(fe,Te):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(Pe,fe,Te,ze);else for(var Ot=Pe.length-1;Ot>=0;Ot--)(It=Pe[Ot])&&(_t=(Xe<3?It(_t):Xe>3?It(fe,Te,_t):It(fe,Te))||_t);return Xe>3&&_t&&Object.defineProperty(fe,Te,_t),_t}([Wt(8,jn.h),Wt(9,Nn.Z)],mn);class Rn extends S.jG{constructor(fe,Te,ze){super(),this._editor=fe,this._domNode=Te,this.itemProvider=ze,this.scrollTop=(0,b.y0)(this._editor.onDidScrollChange,It=>this._editor.getScrollTop()),this.isScrollTopZero=this.scrollTop.map(It=>0===It),this.modelAttached=(0,b.y0)(this._editor.onDidChangeModel,It=>this._editor.hasModel()),this.editorOnDidChangeViewZones=(0,b.yQ)("onDidChangeViewZones",this._editor.onDidChangeViewZones),this.editorOnDidContentSizeChange=(0,b.yQ)("onDidContentSizeChange",this._editor.onDidContentSizeChange),this.domNodeSizeChanged=(0,b.Yd)("domNodeSizeChanged"),this.views=new Map,this._domNode.className="gutter monaco-editor";const Xe=this._domNode.appendChild((0,F.h)("div.scroll-decoration",{role:"presentation",ariaHidden:"true",style:{width:"100%"}}).root),_t=new ResizeObserver(()=>{(0,b.Rn)(It=>{this.domNodeSizeChanged.trigger(It)})});_t.observe(this._domNode),this._register((0,S.s)(()=>_t.disconnect())),this._register((0,b.fm)(It=>{Xe.className=this.isScrollTopZero.read(It)?"":"scroll-decoration"})),this._register((0,b.fm)(It=>this.render(It)))}dispose(){super.dispose(),(0,F.Ln)(this._domNode)}render(fe){if(!this.modelAttached.read(fe))return;this.domNodeSizeChanged.read(fe),this.editorOnDidChangeViewZones.read(fe),this.editorOnDidContentSizeChange.read(fe);const Te=this.scrollTop.read(fe),ze=this._editor.getVisibleRanges(),Xe=new Set(this.views.keys()),_t=ie.L.ofStartAndLength(0,this._domNode.clientHeight);if(!_t.isEmpty)for(const It of ze){const Ot=new K.M(It.startLineNumber,It.endLineNumber+1),$t=this.itemProvider.getIntersectingGutterItems(Ot,fe);(0,b.Rn)(cn=>{for(const _n of $t){if(!_n.range.intersect(Ot))continue;Xe.delete(_n.id);let vn=this.views.get(_n.id);if(vn)vn.item.set(_n,cn);else{const Xn=document.createElement("div");this._domNode.appendChild(Xn);const _i=(0,b.FY)("item",_n),Si=this.itemProvider.createView(_i,Xn);vn=new Qn(_i,Si,Xn),this.views.set(_n.id,vn)}const Cn=_n.range.startLineNumber<=this._editor.getModel().getLineCount()?this._editor.getTopForLineNumber(_n.range.startLineNumber,!0)-Te:this._editor.getBottomForLineNumber(_n.range.startLineNumber-1,!1)-Te,Yn=(_n.range.isEmpty?Cn:this._editor.getBottomForLineNumber(_n.range.endLineNumberExclusive-1,!0)-Te)-Cn;vn.domNode.style.top=`${Cn}px`,vn.domNode.style.height=`${Yn}px`,vn.gutterItemView.layout(ie.L.ofStartAndLength(Cn,Yn),_t)}})}for(const It of Xe){const Ot=this.views.get(It);Ot.gutterItemView.dispose(),this._domNode.removeChild(Ot.domNode),this.views.delete(It)}}}class Qn{constructor(fe,Te,ze){this.item=fe,this.gutterItemView=Te,this.domNode=ze}}var fi=t(9306),Mn=t(66156),Sn=t(87676);class Xt extends Mn.CO{constructor(fe){super(),this._textModel=fe}getValueOfRange(fe){return this._textModel.getValueInRange(fe)}get length(){const fe=this._textModel.getLineCount(),Te=this._textModel.getLineLength(fe);return new Sn.W(fe-1,Te)}}var je=t(62291),at=t(79134),Mt=t(50168),Et=t(79759),Vt=function(Pe,fe,Te,ze){var It,Xe=arguments.length,_t=Xe<3?fe:null===ze?ze=Object.getOwnPropertyDescriptor(fe,Te):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(Pe,fe,Te,ze);else for(var Ot=Pe.length-1;Ot>=0;Ot--)(It=Pe[Ot])&&(_t=(Xe<3?It(_t):Xe>3?It(fe,Te,_t):It(fe,Te))||_t);return Xe>3&&_t&&Object.defineProperty(fe,Te,_t),_t},zt=function(Pe,fe){return function(Te,ze){fe(Te,ze,Pe)}};const sn=[];let oi=class extends S.jG{constructor(fe,Te,ze,Xe,_t,It,Ot,$t,cn){super(),this._diffModel=Te,this._editors=ze,this._options=Xe,this._sashLayout=_t,this._boundarySashes=It,this._instantiationService=Ot,this._contextKeyService=$t,this._menuService=cn,this._menu=this._register(this._menuService.createMenu(at.D8.DiffEditorHunkToolbar,this._contextKeyService)),this._actions=(0,b.y0)(this._menu.onDidChange,()=>this._menu.getActions()),this._hasActions=this._actions.map(_n=>_n.length>0),this._showSash=(0,b.un)(this,_n=>this._options.renderSideBySide.read(_n)&&this._hasActions.read(_n)),this.width=(0,b.un)(this,_n=>this._hasActions.read(_n)?35:0),this.elements=(0,F.h)("div.gutter@gutter",{style:{position:"absolute",height:"100%",width:"35px"}},[]),this._currentDiff=(0,b.un)(this,_n=>{var vn;const Cn=this._diffModel.read(_n);if(!Cn)return;const Gn=null===(vn=Cn.diff.read(_n))||void 0===vn?void 0:vn.mappings,Yn=this._editors.modifiedCursor.read(_n);return Yn?Gn?.find(Xn=>Xn.lineRangeMapping.modified.contains(Yn.lineNumber)):void 0}),this._selectedDiffs=(0,b.un)(this,_n=>{const vn=this._diffModel.read(_n),Cn=vn?.diff.read(_n);if(!Cn)return sn;const Gn=this._editors.modifiedSelections.read(_n);if(Gn.every(Si=>Si.isEmpty()))return sn;const Yn=new K.S(Gn.map(Si=>K.M.fromRangeInclusive(Si))),_i=Cn.mappings.filter(Si=>Si.lineRangeMapping.innerChanges&&Yn.intersects(Si.lineRangeMapping.modified)).map(Si=>({mapping:Si,rangeMappings:Si.lineRangeMapping.innerChanges.filter(ji=>Gn.some(ui=>de.Q.areIntersecting(ji.modifiedRange,ui)))}));return 0===_i.length||_i.every(Si=>0===Si.rangeMappings.length)?sn:_i}),this._register((0,G.$y)(fe,this.elements.root)),this._register((0,F.ko)(this.elements.root,"click",()=>{this._editors.modified.focus()})),this._register((0,G.AV)(this.elements.root,{display:this._hasActions.map(_n=>_n?"block":"none")})),(0,P.a0)(this,_n=>this._showSash.read(_n)?new Bt(fe,this._sashLayout.dimensions,this._options.enableSplitViewResizing,this._boundarySashes,(0,P.dQ)(this,Cn=>this._sashLayout.sashLeft.read(Cn)-35,(Cn,Gn)=>this._sashLayout.sashLeft.set(Cn+35,Gn)),()=>this._sashLayout.resetSash()):void 0).recomputeInitiallyAndOnChange(this._store),this._register(new Rn(this._editors.modified,this.elements.root,{getIntersectingGutterItems:(_n,vn)=>{const Cn=this._diffModel.read(vn);if(!Cn)return[];const Gn=Cn.diff.read(vn);if(!Gn)return[];const Yn=this._selectedDiffs.read(vn);if(Yn.length>0){const _i=se.wm.fromRangeMappings(Yn.flatMap(Si=>Si.rangeMappings));return[new mi(_i,!0,at.D8.DiffEditorSelectionToolbar,void 0,Cn.model.original.uri,Cn.model.modified.uri)]}const Xn=this._currentDiff.read(vn);return Gn.mappings.map(_i=>new mi(_i.lineRangeMapping.withInnerChangesFromLineRanges(),_i.lineRangeMapping===Xn?.lineRangeMapping,at.D8.DiffEditorHunkToolbar,void 0,Cn.model.original.uri,Cn.model.modified.uri))},createView:(_n,vn)=>this._instantiationService.createInstance(gi,_n,vn,this)})),this._register((0,F.ko)(this.elements.gutter,F.Bx.MOUSE_WHEEL,_n=>{this._editors.modified.getOption(103).handleMouseWheel&&this._editors.modified.delegateScrollFromMouseWheelEvent(_n)},{passive:!1}))}computeStagedValue(fe){var Te;const ze=null!==(Te=fe.innerChanges)&&void 0!==Te?Te:[],Xe=new Xt(this._editors.modifiedModel.get()),_t=new Xt(this._editors.original.getModel());return new Mn.mF(ze.map($t=>$t.toTextEdit(Xe))).apply(_t)}layout(fe){this.elements.gutter.style.left=fe+"px"}};oi=Vt([zt(6,Ie._Y),zt(7,Mt.fN),zt(8,at.ez)],oi);class mi{constructor(fe,Te,ze,Xe,_t,It){this.mapping=fe,this.showAlways=Te,this.menuId=ze,this.rangeOverride=Xe,this.originalUri=_t,this.modifiedUri=It}get id(){return this.mapping.modified.toString()}get range(){var fe;return null!==(fe=this.rangeOverride)&&void 0!==fe?fe:this.mapping.modified}}let gi=class extends S.jG{constructor(fe,Te,ze,Xe){super(),this._item=fe,this._elements=(0,F.h)("div.gutterItem",{style:{height:"20px",width:"34px"}},[(0,F.h)("div.background@background",{},[]),(0,F.h)("div.buttons@buttons",{},[])]),this._showAlways=this._item.map(this,It=>It.showAlways),this._menuId=this._item.map(this,It=>It.menuId),this._isSmall=(0,b.FY)(this,!1),this._lastItemRange=void 0,this._lastViewRange=void 0;const _t=this._register(Xe.createInstance(Et.fO,"element",!0,{position:{hoverPosition:1}}));this._register((0,G.rX)(Te,this._elements.root)),this._register((0,b.fm)(It=>{const Ot=this._showAlways.read(It);this._elements.root.classList.toggle("noTransition",!0),this._elements.root.classList.toggle("showAlways",Ot),setTimeout(()=>{this._elements.root.classList.toggle("noTransition",!1)},0)})),this._register((0,b.yC)((It,Ot)=>{this._elements.buttons.replaceChildren();const $t=Ot.add(Xe.createInstance(je.m,this._elements.buttons,this._menuId.read(It),{orientation:1,hoverDelegate:_t,toolbarOptions:{primaryGroup:cn=>cn.startsWith("primary")},overflowBehavior:{maxItems:this._isSmall.read(It)?1:3},hiddenItemStrategy:0,actionRunner:new fi.I(()=>{const cn=this._item.get(),_n=cn.mapping;return{mapping:_n,originalWithModifiedChanges:ze.computeStagedValue(_n),originalUri:cn.originalUri,modifiedUri:cn.modifiedUri}}),menuOptions:{shouldForwardArgs:!0}}));Ot.add($t.onDidChangeMenuItems(()=>{this._lastItemRange&&this.layout(this._lastItemRange,this._lastViewRange)}))}))}layout(fe,Te){this._lastItemRange=fe,this._lastViewRange=Te;let ze=this._elements.buttons.clientHeight;this._isSmall.set(1===this._item.get().mapping.original.startLineNumber&&fe.length<30,void 0),ze=this._elements.buttons.clientHeight;const _t=ze;let It=fe.start+(fe.length/2-ze/2);const Ot=ie.L.tryCreate(_t,Te.endExclusive-_t-ze),$t=ie.L.tryCreate(fe.start+_t,fe.endExclusive-ze-_t);$t&&Ot&&$t.start<$t.endExclusive&&(It=Ot.clip(It),It=$t.clip(It)),this._elements.buttons.style.top=It-fe.start+"px"}};gi=Vt([zt(3,Ie._Y)],gi);var hn,ai=t(13444),li=t(29048),$i=t(53393),Zi=t(56642),Pi=t(85478),At=t(48187);let An=hn=class extends S.jG{constructor(fe,Te,ze,Xe,_t,It,Ot){super(),this._editors=fe,this._rootElement=Te,this._diffModel=ze,this._rootWidth=Xe,this._rootHeight=_t,this._modifiedEditorLayoutInfo=It,this._themeService=Ot,this.width=hn.ENTIRE_DIFF_OVERVIEW_WIDTH;const $t=(0,b.y0)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),cn=(0,b.un)(Cn=>{const Gn=$t.read(Cn);return{insertColor:Gn.getColor(Pi.ld8)||(Gn.getColor(Pi.Gj6)||Pi.EY1).transparent(2),removeColor:Gn.getColor(Pi.$BZ)||(Gn.getColor(Pi.GNm)||Pi.ZEf).transparent(2)}}),_n=(0,li.Z)(document.createElement("div"));_n.setClassName("diffViewport"),_n.setPosition("absolute");const vn=(0,F.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:hn.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register((0,G.rX)(vn,_n.domNode)),this._register((0,F.b2)(vn,F.Bx.POINTER_DOWN,Cn=>{this._editors.modified.delegateVerticalScrollbarPointerDown(Cn)})),this._register((0,F.ko)(vn,F.Bx.MOUSE_WHEEL,Cn=>{this._editors.modified.delegateScrollFromMouseWheelEvent(Cn)},{passive:!1})),this._register((0,G.rX)(this._rootElement,vn)),this._register((0,b.yC)((Cn,Gn)=>{const Yn=this._diffModel.read(Cn),Xn=this._editors.original.createOverviewRuler("original diffOverviewRuler");Xn&&(Gn.add(Xn),Gn.add((0,G.rX)(vn,Xn.getDomNode())));const _i=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(_i&&(Gn.add(_i),Gn.add((0,G.rX)(vn,_i.getDomNode()))),!Xn||!_i)return;const Si=(0,b.yQ)("viewZoneChanged",this._editors.original.onDidChangeViewZones),ji=(0,b.yQ)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),ui=(0,b.yQ)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),xi=(0,b.yQ)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);Gn.add((0,b.fm)(Vn=>{var ri;Si.read(Vn),ji.read(Vn),ui.read(Vn),xi.read(Vn);const ki=cn.read(Vn),go=null===(ri=Yn?.diff.read(Vn))||void 0===ri?void 0:ri.mappings;function io(Jo,ts,vo){const Fo=vo._getViewModel();return Fo?Jo.filter(ks=>ks.length>0).map(ks=>{const gs=Fo.coordinatesConverter.convertModelPositionToViewPosition(new ae.y(ks.startLineNumber,1)),Vo=Fo.coordinatesConverter.convertModelPositionToViewPosition(new ae.y(ks.endLineNumberExclusive,1));return new Zi.iE(gs.lineNumber,Vo.lineNumber,Vo.lineNumber-gs.lineNumber,ts.toString())}):[]}const Wo=io((go||[]).map(Jo=>Jo.lineRangeMapping.original),ki.removeColor,this._editors.original),No=io((go||[]).map(Jo=>Jo.lineRangeMapping.modified),ki.insertColor,this._editors.modified);Xn?.setZones(Wo),_i?.setZones(No)})),Gn.add((0,b.fm)(Vn=>{const ri=this._rootHeight.read(Vn),ki=this._rootWidth.read(Vn),go=this._modifiedEditorLayoutInfo.read(Vn);if(go){Xn.setLayout({top:0,height:ri,right:hn.ENTIRE_DIFF_OVERVIEW_WIDTH-2*hn.ONE_OVERVIEW_WIDTH+hn.ONE_OVERVIEW_WIDTH,width:hn.ONE_OVERVIEW_WIDTH}),_i.setLayout({top:0,height:ri,right:0,width:hn.ONE_OVERVIEW_WIDTH});const Wo=this._editors.modifiedScrollTop.read(Vn),No=this._editors.modifiedScrollHeight.read(Vn),Jo=this._editors.modified.getOption(103),ts=new $i.m(Jo.verticalHasArrows?Jo.arrowSize:0,Jo.verticalScrollbarSize,0,go.height,No,Wo);_n.setTop(ts.getSliderPosition()),_n.setHeight(ts.getSliderSize())}else _n.setTop(0),_n.setHeight(0);vn.style.height=ri+"px",vn.style.left=ki-hn.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",_n.setWidth(hn.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};An.ONE_OVERVIEW_WIDTH=15,An.ENTIRE_DIFF_OVERVIEW_WIDTH=2*hn.ONE_OVERVIEW_WIDTH,An=hn=function(Pe,fe,Te,ze){var It,Xe=arguments.length,_t=Xe<3?fe:null===ze?ze=Object.getOwnPropertyDescriptor(fe,Te):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(Pe,fe,Te,ze);else for(var Ot=Pe.length-1;Ot>=0;Ot--)(It=Pe[Ot])&&(_t=(Xe<3?It(_t):Xe>3?It(fe,Te,_t):It(fe,Te))||_t);return Xe>3&&_t&&Object.defineProperty(fe,Te,_t),_t}([function(Pe,fe){return function(Te,ze){fe(Te,ze,6)}}(0,At.Gy)],An);var Hn=t(51817),ni=t(63782);const $n=[];class Ri extends S.jG{constructor(fe,Te,ze,Xe){super(),this._editors=fe,this._diffModel=Te,this._options=ze,this._widget=Xe,this._selectedDiffs=(0,b.un)(this,_t=>{const It=this._diffModel.read(_t),Ot=It?.diff.read(_t);if(!Ot)return $n;const $t=this._editors.modifiedSelections.read(_t);if($t.every(Cn=>Cn.isEmpty()))return $n;const cn=new K.S($t.map(Cn=>K.M.fromRangeInclusive(Cn))),vn=Ot.mappings.filter(Cn=>Cn.lineRangeMapping.innerChanges&&cn.intersects(Cn.lineRangeMapping.modified)).map(Cn=>({mapping:Cn,rangeMappings:Cn.lineRangeMapping.innerChanges.filter(Gn=>$t.some(Yn=>de.Q.areIntersecting(Gn.modifiedRange,Yn)))}));return 0===vn.length||vn.every(Cn=>0===Cn.rangeMappings.length)?$n:vn}),this._register((0,b.yC)((_t,It)=>{if(!this._options.shouldRenderOldRevertArrows.read(_t))return;const Ot=this._diffModel.read(_t),$t=Ot?.diff.read(_t);if(!Ot||!$t||Ot.movedTextToCompare.read(_t))return;const cn=[],_n=this._selectedDiffs.read(_t),vn=new Set(_n.map(Cn=>Cn.mapping));if(_n.length>0){const Cn=this._editors.modifiedSelections.read(_t),Gn=It.add(new Ii(Cn[Cn.length-1].positionLineNumber,this._widget,_n.flatMap(Yn=>Yn.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(Gn),cn.push(Gn)}for(const Cn of $t.mappings)if(!vn.has(Cn)&&!Cn.lineRangeMapping.modified.isEmpty&&Cn.lineRangeMapping.innerChanges){const Gn=It.add(new Ii(Cn.lineRangeMapping.modified.startLineNumber,this._widget,Cn.lineRangeMapping,!1));this._editors.modified.addGlyphMarginWidget(Gn),cn.push(Gn)}It.add((0,S.s)(()=>{for(const Cn of cn)this._editors.modified.removeGlyphMarginWidget(Cn)}))}))}}let Ii=(()=>{class Pe extends S.jG{getId(){return this._id}constructor(Te,ze,Xe,_t){super(),this._lineNumber=Te,this._widget=ze,this._diffs=Xe,this._revertSelection=_t,this._id="revertButton"+Pe.counter++,this._domNode=(0,F.h)("div.revertButton",{title:this._revertSelection?(0,ce.kg)("revertSelectedChanges","Revert Selected Changes"):(0,ce.kg)("revertChange","Revert Change")},[(0,Hn.s)(Y.W.arrowRight)]).root,this._register((0,F.ko)(this._domNode,F.Bx.MOUSE_DOWN,It=>{2!==It.button&&(It.stopPropagation(),It.preventDefault())})),this._register((0,F.ko)(this._domNode,F.Bx.MOUSE_UP,It=>{It.stopPropagation(),It.preventDefault()})),this._register((0,F.ko)(this._domNode,F.Bx.CLICK,It=>{this._diffs instanceof se.WL?this._widget.revert(this._diffs):this._widget.revertRangeMappings(this._diffs),It.stopPropagation(),It.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:ni.ZS.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}return Pe.counter=0,Pe})();function yn(Pe,fe,Te){const ze=Pe.bindTo(fe);return(0,b.zL)({debugName:()=>`Set Context Key "${Pe.key}"`},Xe=>{ze.set(Te(Xe))})}var Ue=t(51967),Dt=t(69995),nn=t(41424),pn=t(47690);class xn{static get(fe){let Te=xn._map.get(fe);if(!Te){Te=new xn(fe),xn._map.set(fe,Te);const ze=fe.onDidDispose(()=>{xn._map.delete(fe),ze.dispose()})}return Te}constructor(fe){this.editor=fe,this.model=(0,b.y0)(this.editor.onDidChangeModel,()=>this.editor.getModel())}}xn._map=new Map;var Jn=t(59002),Ti=function(Pe,fe){return function(Te,ze){fe(Te,ze,Pe)}};let Ni=class extends S.jG{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(fe,Te,ze,Xe,_t,It,Ot){super(),this.originalEditorElement=fe,this.modifiedEditorElement=Te,this._options=ze,this._argCodeEditorWidgetOptions=Xe,this._createInnerEditor=_t,this._instantiationService=It,this._keybindingService=Ot,this.original=this._register(this._createLeftHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.modifiedEditor||{})),this._onDidContentSizeChange=this._register(new C.vl),this.modifiedScrollTop=(0,b.y0)(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=(0,b.y0)(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedModel=function Zt(Pe){return xn.get(Pe)}(this.modified).model,this.modifiedSelections=(0,b.y0)(this.modified.onDidChangeCursorSelection,()=>{var $t;return null!==($t=this.modified.getSelections())&&void 0!==$t?$t:[]}),this.modifiedCursor=(0,b.C)({owner:this,equalsFn:ae.y.equals},$t=>{var cn,_n;return null!==(_n=null===(cn=this.modifiedSelections.read($t)[0])||void 0===cn?void 0:cn.getPosition())&&void 0!==_n?_n:new ae.y(1,1)}),this.originalCursor=(0,b.y0)(this.original.onDidChangeCursorPosition,()=>{var $t;return null!==($t=this.original.getPosition())&&void 0!==$t?$t:new ae.y(1,1)}),this._argCodeEditorWidgetOptions=null,this._register((0,b.Y)({createEmptyChangeSummary:()=>({}),handleChange:($t,cn)=>($t.didChange(ze.editorOptions)&&Object.assign(cn,$t.change.changedOptions),!0)},($t,cn)=>{ze.editorOptions.read($t),this._options.renderSideBySide.read($t),this.modified.updateOptions(this._adjustOptionsForRightHandSide($t,cn)),this.original.updateOptions(this._adjustOptionsForLeftHandSide($t,cn))}))}_createLeftHandSideEditor(fe,Te){const ze=this._adjustOptionsForLeftHandSide(void 0,fe),Xe=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,ze,Te);return Xe.setContextValue("isInDiffLeftEditor",!0),Xe}_createRightHandSideEditor(fe,Te){const ze=this._adjustOptionsForRightHandSide(void 0,fe),Xe=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,ze,Te);return Xe.setContextValue("isInDiffRightEditor",!0),Xe}_constructInnerEditor(fe,Te,ze,Xe){const _t=this._createInnerEditor(fe,Te,ze,Xe);return this._register(_t.onDidContentSizeChange(It=>{const Ot=this.original.getContentWidth()+this.modified.getContentWidth()+An.ENTIRE_DIFF_OVERVIEW_WIDTH,$t=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:$t,contentWidth:Ot,contentHeightChanged:It.contentHeightChanged,contentWidthChanged:It.contentWidthChanged})})),_t}_adjustOptionsForLeftHandSide(fe,Te){const ze=this._adjustOptionsForSubEditor(Te);return this._options.renderSideBySide.get()?(ze.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},ze.wordWrapOverride1=this._options.diffWordWrap.get()):(ze.wordWrapOverride1="off",ze.wordWrapOverride2="off",ze.stickyScroll={enabled:!1},ze.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),ze.glyphMargin=this._options.renderSideBySide.get(),Te.originalAriaLabel&&(ze.ariaLabel=Te.originalAriaLabel),ze.ariaLabel=this._updateAriaLabel(ze.ariaLabel),ze.readOnly=!this._options.originalEditable.get(),ze.dropIntoEditor={enabled:!ze.readOnly},ze.extraEditorClassName="original-in-monaco-diff-editor",ze}_adjustOptionsForRightHandSide(fe,Te){const ze=this._adjustOptionsForSubEditor(Te);return Te.modifiedAriaLabel&&(ze.ariaLabel=Te.modifiedAriaLabel),ze.ariaLabel=this._updateAriaLabel(ze.ariaLabel),ze.wordWrapOverride1=this._options.diffWordWrap.get(),ze.revealHorizontalRightPadding=Q.qB.revealHorizontalRightPadding.defaultValue+An.ENTIRE_DIFF_OVERVIEW_WIDTH,ze.scrollbar.verticalHasArrows=!1,ze.extraEditorClassName="modified-in-monaco-diff-editor",ze}_adjustOptionsForSubEditor(fe){const Te={...fe,dimension:{height:0,width:0}};return Te.inDiffEditor=!0,Te.automaticLayout=!1,Te.scrollbar={...Te.scrollbar||{}},Te.folding=!1,Te.codeLens=this._options.diffCodeLens.get(),Te.fixedOverflowWidgets=!0,Te.minimap={...Te.minimap||{}},Te.minimap.enabled=!1,Te.stickyScroll=this._options.hideUnchangedRegions.get()?{enabled:!1}:this._options.editorOptions.get().stickyScroll,Te}_updateAriaLabel(fe){var Te;fe||(fe="");const ze=(0,ce.kg)("diff-aria-navigation-tip"," use {0} to open the accessibility help.",null===(Te=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))||void 0===Te?void 0:Te.getAriaLabel());return this._options.accessibilityVerbose.get()?fe+ze:fe?fe.replaceAll(ze,""):""}};Ni=function(Pe,fe,Te,ze){var It,Xe=arguments.length,_t=Xe<3?fe:null===ze?ze=Object.getOwnPropertyDescriptor(fe,Te):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(Pe,fe,Te,ze);else for(var Ot=Pe.length-1;Ot>=0;Ot--)(It=Pe[Ot])&&(_t=(Xe<3?It(_t):Xe>3?It(fe,Te,_t):It(fe,Te))||_t);return Xe>3&&_t&&Object.defineProperty(fe,Te,_t),_t}([Ti(5,Ie._Y),Ti(6,Jn.b)],Ni);let Li=(()=>{class Pe extends S.jG{constructor(){super(...arguments),this._id=++Pe.idCounter,this._onDidDispose=this._register(new C.vl),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(Te){return this._targetEditor.getVisibleColumnFromPosition(Te)}getPosition(){return this._targetEditor.getPosition()}setPosition(Te,ze="api"){this._targetEditor.setPosition(Te,ze)}revealLine(Te,ze=0){this._targetEditor.revealLine(Te,ze)}revealLineInCenter(Te,ze=0){this._targetEditor.revealLineInCenter(Te,ze)}revealLineInCenterIfOutsideViewport(Te,ze=0){this._targetEditor.revealLineInCenterIfOutsideViewport(Te,ze)}revealLineNearTop(Te,ze=0){this._targetEditor.revealLineNearTop(Te,ze)}revealPosition(Te,ze=0){this._targetEditor.revealPosition(Te,ze)}revealPositionInCenter(Te,ze=0){this._targetEditor.revealPositionInCenter(Te,ze)}revealPositionInCenterIfOutsideViewport(Te,ze=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(Te,ze)}revealPositionNearTop(Te,ze=0){this._targetEditor.revealPositionNearTop(Te,ze)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(Te,ze="api"){this._targetEditor.setSelection(Te,ze)}setSelections(Te,ze="api"){this._targetEditor.setSelections(Te,ze)}revealLines(Te,ze,Xe=0){this._targetEditor.revealLines(Te,ze,Xe)}revealLinesInCenter(Te,ze,Xe=0){this._targetEditor.revealLinesInCenter(Te,ze,Xe)}revealLinesInCenterIfOutsideViewport(Te,ze,Xe=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(Te,ze,Xe)}revealLinesNearTop(Te,ze,Xe=0){this._targetEditor.revealLinesNearTop(Te,ze,Xe)}revealRange(Te,ze=0,Xe=!1,_t=!0){this._targetEditor.revealRange(Te,ze,Xe,_t)}revealRangeInCenter(Te,ze=0){this._targetEditor.revealRangeInCenter(Te,ze)}revealRangeInCenterIfOutsideViewport(Te,ze=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(Te,ze)}revealRangeNearTop(Te,ze=0){this._targetEditor.revealRangeNearTop(Te,ze)}revealRangeNearTopIfOutsideViewport(Te,ze=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(Te,ze)}revealRangeAtTop(Te,ze=0){this._targetEditor.revealRangeAtTop(Te,ze)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(Te,ze,Xe){this._targetEditor.trigger(Te,ze,Xe)}createDecorationsCollection(Te){return this._targetEditor.createDecorationsCollection(Te)}changeDecorations(Te){return this._targetEditor.changeDecorations(Te)}}return Pe.idCounter=0,Pe})();var Fi=t(16434),vi=t(69912);let Mi=class{get editorOptions(){return this._options}constructor(fe,Te){this._accessibilityService=Te,this._diffEditorWidth=(0,b.FY)(this,0),this._screenReaderMode=(0,b.y0)(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this.couldShowInlineViewBecauseOfSize=(0,b.un)(this,Xe=>this._options.read(Xe).renderSideBySide&&this._diffEditorWidth.read(Xe)<=this._options.read(Xe).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,b.un)(this,Xe=>this._options.read(Xe).renderOverviewRuler),this.renderSideBySide=(0,b.un)(this,Xe=>this._options.read(Xe).renderSideBySide&&!(this._options.read(Xe).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(Xe)&&!this._screenReaderMode.read(Xe))),this.readOnly=(0,b.un)(this,Xe=>this._options.read(Xe).readOnly),this.shouldRenderOldRevertArrows=(0,b.un)(this,Xe=>!(!this._options.read(Xe).renderMarginRevertIcon||!this.renderSideBySide.read(Xe)||this.readOnly.read(Xe)||this.shouldRenderGutterMenu.read(Xe))),this.shouldRenderGutterMenu=(0,b.un)(this,Xe=>this._options.read(Xe).renderGutterMenu),this.renderIndicators=(0,b.un)(this,Xe=>this._options.read(Xe).renderIndicators),this.enableSplitViewResizing=(0,b.un)(this,Xe=>this._options.read(Xe).enableSplitViewResizing),this.splitViewDefaultRatio=(0,b.un)(this,Xe=>this._options.read(Xe).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,b.un)(this,Xe=>this._options.read(Xe).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,b.un)(this,Xe=>this._options.read(Xe).maxComputationTime),this.showMoves=(0,b.un)(this,Xe=>this._options.read(Xe).experimental.showMoves&&this.renderSideBySide.read(Xe)),this.isInEmbeddedEditor=(0,b.un)(this,Xe=>this._options.read(Xe).isInEmbeddedEditor),this.diffWordWrap=(0,b.un)(this,Xe=>this._options.read(Xe).diffWordWrap),this.originalEditable=(0,b.un)(this,Xe=>this._options.read(Xe).originalEditable),this.diffCodeLens=(0,b.un)(this,Xe=>this._options.read(Xe).diffCodeLens),this.accessibilityVerbose=(0,b.un)(this,Xe=>this._options.read(Xe).accessibilityVerbose),this.diffAlgorithm=(0,b.un)(this,Xe=>this._options.read(Xe).diffAlgorithm),this.showEmptyDecorations=(0,b.un)(this,Xe=>this._options.read(Xe).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,b.un)(this,Xe=>this._options.read(Xe).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,b.un)(this,Xe=>this._options.read(Xe).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,b.un)(this,Xe=>this._options.read(Xe).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,b.un)(this,Xe=>this._options.read(Xe).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=(0,b.un)(this,Xe=>this._options.read(Xe).hideUnchangedRegions.minimumLineCount);const ze={...fe,...fo(fe,Fi.q)};this._options=(0,b.FY)(this,ze)}updateOptions(fe){const Te=fo(fe,this._options.get()),ze={...this._options.get(),...fe,...Te};this._options.set(ze,void 0,{changedOptions:fe})}setWidth(fe){this._diffEditorWidth.set(fe,void 0)}};function fo(Pe,fe){var Te,ze,Xe,_t,It,Ot,$t,cn;return{enableSplitViewResizing:(0,Q.zM)(Pe.enableSplitViewResizing,fe.enableSplitViewResizing),splitViewDefaultRatio:(0,Q.ls)(Pe.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,Q.zM)(Pe.renderSideBySide,fe.renderSideBySide),renderMarginRevertIcon:(0,Q.zM)(Pe.renderMarginRevertIcon,fe.renderMarginRevertIcon),maxComputationTime:(0,Q.wA)(Pe.maxComputationTime,fe.maxComputationTime,0,1073741824),maxFileSize:(0,Q.wA)(Pe.maxFileSize,fe.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,Q.zM)(Pe.ignoreTrimWhitespace,fe.ignoreTrimWhitespace),renderIndicators:(0,Q.zM)(Pe.renderIndicators,fe.renderIndicators),originalEditable:(0,Q.zM)(Pe.originalEditable,fe.originalEditable),diffCodeLens:(0,Q.zM)(Pe.diffCodeLens,fe.diffCodeLens),renderOverviewRuler:(0,Q.zM)(Pe.renderOverviewRuler,fe.renderOverviewRuler),diffWordWrap:(0,Q.O4)(Pe.diffWordWrap,fe.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,Q.O4)(Pe.diffAlgorithm,fe.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,Q.zM)(Pe.accessibilityVerbose,fe.accessibilityVerbose),experimental:{showMoves:(0,Q.zM)(null===(Te=Pe.experimental)||void 0===Te?void 0:Te.showMoves,fe.experimental.showMoves),showEmptyDecorations:(0,Q.zM)(null===(ze=Pe.experimental)||void 0===ze?void 0:ze.showEmptyDecorations,fe.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,Q.zM)(null!==(_t=null===(Xe=Pe.hideUnchangedRegions)||void 0===Xe?void 0:Xe.enabled)&&void 0!==_t?_t:null===(It=Pe.experimental)||void 0===It?void 0:It.collapseUnchangedRegions,fe.hideUnchangedRegions.enabled),contextLineCount:(0,Q.wA)(null===(Ot=Pe.hideUnchangedRegions)||void 0===Ot?void 0:Ot.contextLineCount,fe.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,Q.wA)(null===($t=Pe.hideUnchangedRegions)||void 0===$t?void 0:$t.minimumLineCount,fe.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,Q.wA)(null===(cn=Pe.hideUnchangedRegions)||void 0===cn?void 0:cn.revealLineCount,fe.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,Q.zM)(Pe.isInEmbeddedEditor,fe.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,Q.zM)(Pe.onlyShowAccessibleDiffViewer,fe.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,Q.wA)(Pe.renderSideBySideInlineBreakpoint,fe.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,Q.zM)(Pe.useInlineViewWhenSpaceIsLimited,fe.useInlineViewWhenSpaceIsLimited),renderGutterMenu:(0,Q.zM)(Pe.renderGutterMenu,fe.renderGutterMenu)}}Mi=function(Pe,fe,Te,ze){var It,Xe=arguments.length,_t=Xe<3?fe:null===ze?ze=Object.getOwnPropertyDescriptor(fe,Te):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(Pe,fe,Te,ze);else for(var Ot=Pe.length-1;Ot>=0;Ot--)(It=Pe[Ot])&&(_t=(Xe<3?It(_t):Xe>3?It(fe,Te,_t):It(fe,Te))||_t);return Xe>3&&_t&&Object.defineProperty(fe,Te,_t),_t}([function(Pe,fe){return function(Te,ze){fe(Te,ze,1)}}(0,vi.j)],Mi);var B=function(Pe,fe){return function(Te,ze){fe(Te,ze,Pe)}};let re=class extends Li{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(fe,Te,ze,Xe,_t,It,Ot,$t){var cn;super(),this._domElement=fe,this._parentContextKeyService=Xe,this._parentInstantiationService=_t,this._accessibilitySignalService=Ot,this._editorProgressService=$t,this.elements=(0,F.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,F.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,F.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,F.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=(0,b.FY)(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=C.Jh.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._register(this._parentInstantiationService.createChild(new nn.a([Mt.fN,this._contextKeyService]))),this._boundarySashes=(0,b.FY)(this,void 0),this._accessibleDiffViewerShouldBeVisible=(0,b.FY)(this,!1),this._accessibleDiffViewerVisible=(0,b.un)(this,Vn=>!!this._options.onlyShowAccessibleDiffViewer.read(Vn)||this._accessibleDiffViewerShouldBeVisible.read(Vn)),this._movedBlocksLinesPart=(0,b.FY)(this,void 0),this._layoutInfo=(0,b.un)(this,Vn=>{var ri,ki,go,io,Wo;const No=this._rootSizeObserver.width.read(Vn),Jo=this._rootSizeObserver.height.read(Vn);this.elements.root.style.height=this._rootSizeObserver.automaticLayout?"100%":Jo+"px";const ts=this._sash.read(Vn),vo=this._gutter.read(Vn),Fo=null!==(ri=vo?.width.read(Vn))&&void 0!==ri?ri:0,ks=null!==(go=null===(ki=this._overviewRulerPart.read(Vn))||void 0===ki?void 0:ki.width)&&void 0!==go?go:0;let gs,Vo,To,co,_s;if(ts){const is=ts.sashLeft.read(Vn);gs=0,Vo=is-Fo-(null!==(Wo=null===(io=this._movedBlocksLinesPart.read(Vn))||void 0===io?void 0:io.width.read(Vn))&&void 0!==Wo?Wo:0),_s=is-Fo,To=is,co=No-To-ks}else _s=0,gs=Fo,Vo=Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),To=Fo+Vo,co=No-To-ks;return this.elements.original.style.left=gs+"px",this.elements.original.style.width=Vo+"px",this._editors.original.layout({width:Vo,height:Jo},!0),vo?.layout(_s),this.elements.modified.style.left=To+"px",this.elements.modified.style.width=co+"px",this._editors.modified.layout({width:co,height:Jo},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((Vn,ri)=>Vn?.diff.read(ri)),this.onDidUpdateDiff=C.Jh.fromObservableLight(this._diffValue),It.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register((0,S.s)(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new G.pN(this.elements.root,Te.dimension)),this._rootSizeObserver.setAutomaticLayout(null!==(cn=Te.automaticLayout)&&void 0!==cn&&cn),this._options=this._instantiationService.createInstance(Mi,Te),this._register((0,b.fm)(Vn=>{this._options.setWidth(this._rootSizeObserver.width.read(Vn))})),this._contextKeyService.createKey(Dt.R.isEmbeddedDiffEditor.key,!1),this._register(yn(Dt.R.isEmbeddedDiffEditor,this._contextKeyService,Vn=>this._options.isInEmbeddedEditor.read(Vn))),this._register(yn(Dt.R.comparingMovedCode,this._contextKeyService,Vn=>{var ri;return!(null===(ri=this._diffModel.read(Vn))||void 0===ri||!ri.movedTextToCompare.read(Vn))})),this._register(yn(Dt.R.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,Vn=>this._options.couldShowInlineViewBecauseOfSize.read(Vn))),this._register(yn(Dt.R.diffEditorInlineMode,this._contextKeyService,Vn=>!this._options.renderSideBySide.read(Vn))),this._register(yn(Dt.R.hasChanges,this._contextKeyService,Vn=>{var ri,ki,go;return(null!==(go=null===(ki=null===(ri=this._diffModel.read(Vn))||void 0===ri?void 0:ri.diff.read(Vn))||void 0===ki?void 0:ki.mappings.length)&&void 0!==go?go:0)>0})),this._editors=this._register(this._instantiationService.createInstance(Ni,this.elements.original,this.elements.modified,this._options,ze,(Vn,ri,ki,go)=>this._createInnerEditor(Vn,ri,ki,go))),this._register(yn(Dt.R.diffEditorOriginalWritable,this._contextKeyService,Vn=>this._options.originalEditable.read(Vn))),this._register(yn(Dt.R.diffEditorModifiedWritable,this._contextKeyService,Vn=>!this._options.readOnly.read(Vn))),this._register(yn(Dt.R.diffEditorOriginalUri,this._contextKeyService,Vn=>{var ri,ki;return null!==(ki=null===(ri=this._diffModel.read(Vn))||void 0===ri?void 0:ri.model.original.uri.toString())&&void 0!==ki?ki:""})),this._register(yn(Dt.R.diffEditorModifiedUri,this._contextKeyService,Vn=>{var ri,ki;return null!==(ki=null===(ri=this._diffModel.read(Vn))||void 0===ri?void 0:ri.model.modified.uri.toString())&&void 0!==ki?ki:""})),this._overviewRulerPart=(0,P.a0)(this,Vn=>this._options.renderOverviewRuler.read(Vn)?this._instantiationService.createInstance((0,G.b6)(An,Vn),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(ri=>ri.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store);const _n={height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((Vn,ri)=>{var ki,go;return Vn-(null!==(go=null===(ki=this._overviewRulerPart.read(ri))||void 0===ki?void 0:ki.width)&&void 0!==go?go:0)})};this._sashLayout=new Ft(this._options,_n),this._sash=(0,P.a0)(this,Vn=>{const ri=this._options.renderSideBySide.read(Vn);return this.elements.root.classList.toggle("side-by-side",ri),ri?new Bt(this.elements.root,_n,this._options.enableSplitViewResizing,this._boundarySashes,this._sashLayout.sashLeft,()=>this._sashLayout.resetSash()):void 0}).recomputeInitiallyAndOnChange(this._store);const vn=(0,P.a0)(this,Vn=>this._instantiationService.createInstance((0,G.b6)(ai.N,Vn),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);(0,P.a0)(this,Vn=>this._instantiationService.createInstance((0,G.b6)(kt,Vn),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const Cn=new Set,Gn=new Set;let Yn=!1;const Xn=(0,P.a0)(this,Vn=>this._instantiationService.createInstance((0,G.b6)(mn,Vn),(0,F.zk)(this._domElement),this._editors,this._diffModel,this._options,this,()=>Yn||vn.get().isUpdatingHiddenAreas,Cn,Gn)).recomputeInitiallyAndOnChange(this._store),_i=(0,b.un)(this,Vn=>{const ri=Xn.read(Vn).viewZones.read(Vn).orig,ki=vn.read(Vn).viewZones.read(Vn).origViewZones;return ri.concat(ki)}),Si=(0,b.un)(this,Vn=>{const ri=Xn.read(Vn).viewZones.read(Vn).mod,ki=vn.read(Vn).viewZones.read(Vn).modViewZones;return ri.concat(ki)});let ji;this._register((0,G.Vs)(this._editors.original,_i,Vn=>{Yn=Vn},Cn)),this._register((0,G.Vs)(this._editors.modified,Si,Vn=>{Yn=Vn,Yn?ji=Z.D.capture(this._editors.modified):(ji?.restore(this._editors.modified),ji=void 0)},Gn)),this._accessibleDiffViewer=(0,P.a0)(this,Vn=>this._instantiationService.createInstance((0,G.b6)(Ee,Vn),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(ri,ki)=>this._accessibleDiffViewerShouldBeVisible.set(ri,ki),this._options.onlyShowAccessibleDiffViewer.map(ri=>!ri),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((ri,ki)=>{var go;return null===(go=ri?.diff.read(ki))||void 0===go?void 0:go.mappings.map(io=>io.lineRangeMapping)}),new Je(this._editors))).recomputeInitiallyAndOnChange(this._store);const ui=this._accessibleDiffViewerVisible.map(Vn=>Vn?"hidden":"visible");this._register((0,G.AV)(this.elements.modified,{visibility:ui})),this._register((0,G.AV)(this.elements.original,{visibility:ui})),this._createDiffEditorContributions(),It.addDiffEditor(this),this._gutter=(0,P.a0)(this,Vn=>this._options.shouldRenderGutterMenu.read(Vn)?this._instantiationService.createInstance((0,G.b6)(oi,Vn),this.elements.root,this._diffModel,this._editors,this._options,this._sashLayout,this._boundarySashes):void 0),this._register((0,b.OI)(this._layoutInfo)),(0,P.a0)(this,Vn=>new((0,G.b6)(ot,Vn))(this.elements.root,this._diffModel,this._layoutInfo.map(ri=>ri.originalEditor),this._layoutInfo.map(ri=>ri.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,Vn=>{this._movedBlocksLinesPart.set(Vn,void 0)}),this._register(C.Jh.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,Vn=>this._handleCursorPositionChange(Vn,!0))),this._register(C.Jh.runAndSubscribe(this._editors.original.onDidChangeCursorPosition,Vn=>this._handleCursorPositionChange(Vn,!1)));const xi=this._diffModel.map(this,(Vn,ri)=>{if(Vn)return void 0===Vn.diff.read(ri)&&!Vn.isDiffUpToDate.read(ri)});this._register((0,b.yC)((Vn,ri)=>{if(!0===xi.read(Vn)){const ki=this._editorProgressService.show(!0,1e3);ri.add((0,S.s)(()=>ki.done()))}})),this._register((0,S.s)(()=>{var Vn;this._shouldDisposeDiffModel&&(null===(Vn=this._diffModel.get())||void 0===Vn||Vn.dispose())})),this._register((0,b.yC)((Vn,ri)=>{ri.add(new((0,G.b6)(Ri,Vn))(this._editors,this._diffModel,this._options,this))}))}_createInnerEditor(fe,Te,ze,Xe){return fe.createInstance(te.x,Te,ze,Xe)}_createDiffEditorContributions(){const fe=L.dS.getDiffEditorContributions();for(const Te of fe)try{this._register(this._instantiationService.createInstance(Te.ctor,this))}catch(ze){(0,x.dz)(ze)}}get _targetEditor(){return this._editors.modified}getEditorType(){return Ue._.IDiffEditor}layout(fe){this._rootSizeObserver.observe(fe)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var fe;return{original:this._editors.original.saveViewState(),modified:this._editors.modified.saveViewState(),modelState:null===(fe=this._diffModel.get())||void 0===fe?void 0:fe.serializeState()}}restoreViewState(fe){var Te;if(fe&&fe.original&&fe.modified){const ze=fe;this._editors.original.restoreViewState(ze.original),this._editors.modified.restoreViewState(ze.modified),ze.modelState&&(null===(Te=this._diffModel.get())||void 0===Te||Te.restoreSerializedState(ze.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(fe){return this._instantiationService.createInstance(Zn,fe,this._options)}getModel(){var fe,Te;return null!==(Te=null===(fe=this._diffModel.get())||void 0===fe?void 0:fe.model)&&void 0!==Te?Te:null}setModel(fe,Te){!fe&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();const ze=fe?"model"in fe?{model:fe,shouldDispose:!1}:{model:this.createViewModel(fe),shouldDispose:!0}:void 0;this._diffModel.get()!==ze?.model&&(0,b.PO)(Te,Xe=>{var _t;b.y0.batchEventsGlobally(Xe,()=>{this._editors.original.setModel(ze?ze.model.model.original:null),this._editors.modified.setModel(ze?ze.model.model.modified:null)});const It=this._diffModel.get(),Ot=this._shouldDisposeDiffModel;this._shouldDisposeDiffModel=null!==(_t=ze?.shouldDispose)&&void 0!==_t&&_t,this._diffModel.set(ze?.model,Xe),Ot&&It?.dispose()})}updateOptions(fe){this._options.updateOptions(fe)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var fe;const Te=null===(fe=this._diffModel.get())||void 0===fe?void 0:fe.diff.get();return Te?function Le(Pe){return Pe.mappings.map(fe=>{const Te=fe.lineRangeMapping;let ze,Xe,_t,It,Ot=Te.innerChanges;return Te.original.isEmpty?(ze=Te.original.startLineNumber-1,Xe=0,Ot=void 0):(ze=Te.original.startLineNumber,Xe=Te.original.endLineNumberExclusive-1),Te.modified.isEmpty?(_t=Te.modified.startLineNumber-1,It=0,Ot=void 0):(_t=Te.modified.startLineNumber,It=Te.modified.endLineNumberExclusive-1),{originalStartLineNumber:ze,originalEndLineNumber:Xe,modifiedStartLineNumber:_t,modifiedEndLineNumber:It,charChanges:Ot?.map($t=>({originalStartLineNumber:$t.originalRange.startLineNumber,originalStartColumn:$t.originalRange.startColumn,originalEndLineNumber:$t.originalRange.endLineNumber,originalEndColumn:$t.originalRange.endColumn,modifiedStartLineNumber:$t.modifiedRange.startLineNumber,modifiedStartColumn:$t.modifiedRange.startColumn,modifiedEndLineNumber:$t.modifiedRange.endLineNumber,modifiedEndColumn:$t.modifiedRange.endColumn}))}})}(Te):null}revert(fe){const Te=this._diffModel.get();!Te||!Te.isDiffUpToDate.get()||this._editors.modified.executeEdits("diffEditor",[{range:fe.modified.toExclusiveRange(),text:Te.model.original.getValueInRange(fe.original.toExclusiveRange())}])}revertRangeMappings(fe){const Te=this._diffModel.get();if(!Te||!Te.isDiffUpToDate.get())return;const ze=fe.map(Xe=>({range:Xe.modifiedRange,text:Te.model.original.getValueInRange(Xe.originalRange)}));this._editors.modified.executeEdits("diffEditor",ze)}_goTo(fe){this._editors.modified.setPosition(new ae.y(fe.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(fe.lineRangeMapping.modified.toExclusiveRange())}goToDiff(fe){var Te,ze,Xe,_t;const It=null===(ze=null===(Te=this._diffModel.get())||void 0===Te?void 0:Te.diff.get())||void 0===ze?void 0:ze.mappings;if(!It||0===It.length)return;const Ot=this._editors.modified.getPosition().lineNumber;let $t;$t="next"===fe?null!==(Xe=It.find(cn=>cn.lineRangeMapping.modified.startLineNumber>Ot))&&void 0!==Xe?Xe:It[0]:null!==(_t=(0,w.Uk)(It,cn=>cn.lineRangeMapping.modified.startLineNumber<Ot))&&void 0!==_t?_t:It[It.length-1],this._goTo($t),$t.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(Se.Rh.diffLineDeleted,{source:"diffEditor.goToDiff"}):$t.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(Se.Rh.diffLineInserted,{source:"diffEditor.goToDiff"}):$t&&this._accessibilitySignalService.playSignal(Se.Rh.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const fe=this._diffModel.get();fe&&this.waitForDiff().then(()=>{var Te;const ze=null===(Te=fe.diff.get())||void 0===Te?void 0:Te.mappings;!ze||0===ze.length||this._goTo(ze[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}waitForDiff(){var fe=this;return(0,a.A)(function*(){const Te=fe._diffModel.get();Te&&(yield Te.waitForDiff())})()}mapToOtherSide(){var fe,Te;const ze=this._editors.modified.hasWidgetFocus(),_t=ze?this._editors.original:this._editors.modified;let It;const Ot=(ze?this._editors.modified:this._editors.original).getSelection();if(Ot){const $t=null===(Te=null===(fe=this._diffModel.get())||void 0===fe?void 0:fe.diff.get())||void 0===Te?void 0:Te.mappings.map(cn=>ze?cn.lineRangeMapping.flip():cn.lineRangeMapping);if($t){const cn=(0,G.Mu)(Ot.getStartPosition(),$t),_n=(0,G.Mu)(Ot.getEndPosition(),$t);It=de.Q.plusRange(cn,_n)}}return{destination:_t,destinationSelection:It}}switchSide(){const{destination:fe,destinationSelection:Te}=this.mapToOtherSide();fe.focus(),Te&&fe.setSelection(Te)}exitCompareMove(){const fe=this._diffModel.get();fe&&fe.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var fe;const Te=null===(fe=this._diffModel.get())||void 0===fe?void 0:fe.unchangedRegions.get();Te&&(0,b.Rn)(ze=>{for(const Xe of Te)Xe.collapseAll(ze)})}showAllUnchangedRegions(){var fe;const Te=null===(fe=this._diffModel.get())||void 0===fe?void 0:fe.unchangedRegions.get();Te&&(0,b.Rn)(ze=>{for(const Xe of Te)Xe.showAll(ze)})}_handleCursorPositionChange(fe,Te){var ze,Xe;if(3===fe?.reason){const _t=null===(Xe=null===(ze=this._diffModel.get())||void 0===ze?void 0:ze.diff.get())||void 0===Xe?void 0:Xe.mappings.find(It=>Te?It.lineRangeMapping.modified.contains(fe.position.lineNumber):It.lineRangeMapping.original.contains(fe.position.lineNumber));_t?.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(Se.Rh.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):_t?.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(Se.Rh.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):_t&&this._accessibilitySignalService.playSignal(Se.Rh.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}};re=function(Pe,fe,Te,ze){var It,Xe=arguments.length,_t=Xe<3?fe:null===ze?ze=Object.getOwnPropertyDescriptor(fe,Te):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(Pe,fe,Te,ze);else for(var Ot=Pe.length-1;Ot>=0;Ot--)(It=Pe[Ot])&&(_t=(Xe<3?It(_t):Xe>3?It(fe,Te,_t):It(fe,Te))||_t);return Xe>3&&_t&&Object.defineProperty(fe,Te,_t),_t}([B(3,Mt.fN),B(4,Ie._Y),B(5,j.T),B(6,Se.Nt),B(7,pn.N8)],re)},13444:(tt,xe,t)=>{t.d(xe,{N:()=>A});var T,a=t(91874),F=t(51817),w=t(15320),x=t(13225),C=t(99031),S=t(28044),b=t(37673),P=t(81072),D=t(66702),v=t(39183),_=t(84132),f=t(13632),d=t(73678),r=t(41489),l=t(81644),g=t(598);let A=T=class extends C.jG{static setBreadcrumbsSourceFactory(N){this._breadcrumbsSourceFactory.set(N,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(N,H,L,j){super(),this._editors=N,this._diffModel=H,this._options=L,this._instantiationService=j,this._modifiedOutlineSource=(0,b.a0)(this,U=>{const q=this._editors.modifiedModel.read(U),R=T._breadcrumbsSourceFactory.read(U);return q&&R?R(q,this._instantiationService):void 0}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(U=>{if(1===U.reason)return;const q=this._diffModel.get();(0,S.Rn)(R=>{for(const W of this._editors.original.getSelections()||[])q?.ensureOriginalLineIsVisible(W.getStartPosition().lineNumber,0,R),q?.ensureOriginalLineIsVisible(W.getEndPosition().lineNumber,0,R)})})),this._register(this._editors.modified.onDidChangeCursorPosition(U=>{if(1===U.reason)return;const q=this._diffModel.get();(0,S.Rn)(R=>{for(const W of this._editors.modified.getSelections()||[])q?.ensureModifiedLineIsVisible(W.getStartPosition().lineNumber,0,R),q?.ensureModifiedLineIsVisible(W.getEndPosition().lineNumber,0,R)})}));const Z=this._diffModel.map((U,q)=>{var R,W;const Y=null!==(R=U?.unchangedRegions.read(q))&&void 0!==R?R:[];return 1===Y.length&&1===Y[0].modifiedLineNumber&&Y[0].lineCount===(null===(W=this._editors.modifiedModel.read(q))||void 0===W?void 0:W.getLineCount())?[]:Y});this.viewZones=(0,S.rm)(this,(U,q)=>{const R=this._modifiedOutlineSource.read(U);if(!R)return{origViewZones:[],modViewZones:[]};const W=[],Y=[],oe=this._options.renderSideBySide.read(U),z=Z.read(U);for(const G of z)if(!G.shouldHideControls(U)){{const Q=(0,S.un)(this,ie=>G.getHiddenOriginalRange(ie).startLineNumber-1),K=new v.D1(Q,24);W.push(K),q.add(new k(this._editors.original,K,G,G.originalUnchangedRange,!oe,R,ie=>this._diffModel.get().ensureModifiedLineIsVisible(ie,2,void 0),this._options))}{const Q=(0,S.un)(this,ie=>G.getHiddenModifiedRange(ie).startLineNumber-1),K=new v.D1(Q,24);Y.push(K),q.add(new k(this._editors.modified,K,G,G.modifiedUnchangedRange,!1,R,ie=>this._diffModel.get().ensureModifiedLineIsVisible(ie,2,void 0),this._options))}}return{origViewZones:W,modViewZones:Y}});const te={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},X={description:"Fold Unchanged",glyphMarginHoverMessage:new x.Bc(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,l.kg)("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+P.L.asClassName(w.W.fold),zIndex:10001};this._register((0,v.pY)(this._editors.original,(0,S.un)(this,U=>{const q=Z.read(U),R=q.map(W=>({range:W.originalUnchangedRange.toInclusiveRange(),options:te}));for(const W of q)W.shouldHideControls(U)&&R.push({range:d.Q.fromPositions(new f.y(W.originalLineNumber,1)),options:X});return R}))),this._register((0,v.pY)(this._editors.modified,(0,S.un)(this,U=>{const q=Z.read(U),R=q.map(W=>({range:W.modifiedUnchangedRange.toInclusiveRange(),options:te}));for(const W of q)W.shouldHideControls(U)&&R.push({range:_.M.ofLength(W.modifiedLineNumber,1).toInclusiveRange(),options:X});return R}))),this._register((0,S.fm)(U=>{const q=Z.read(U);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(q.map(R=>R.getHiddenOriginalRange(U).toInclusiveRange()).filter(D.O9)),this._editors.modified.setHiddenAreas(q.map(R=>R.getHiddenModifiedRange(U).toInclusiveRange()).filter(D.O9))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(U=>{var q;if(!U.event.rightButton&&U.target.position&&null!==(q=U.target.element)&&void 0!==q&&q.className.includes("fold-unchanged")){const R=U.target.position.lineNumber,W=this._diffModel.get();if(!W)return;const Y=W.unchangedRegions.get().find(oe=>oe.modifiedUnchangedRange.includes(R));if(!Y)return;Y.collapseAll(void 0),U.event.stopPropagation(),U.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(U=>{var q;if(!U.event.rightButton&&U.target.position&&null!==(q=U.target.element)&&void 0!==q&&q.className.includes("fold-unchanged")){const R=U.target.position.lineNumber,W=this._diffModel.get();if(!W)return;const Y=W.unchangedRegions.get().find(oe=>oe.originalUnchangedRange.includes(R));if(!Y)return;Y.collapseAll(void 0),U.event.stopPropagation(),U.event.preventDefault()}}))}};var N;A._breadcrumbsSourceFactory=(0,S.FY)("breadcrumbsSourceFactory",void 0),A=T=function(O,N,H,L){var te,j=arguments.length,Z=j<3?N:null===L?L=Object.getOwnPropertyDescriptor(N,H):L;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(O,N,H,L);else for(var X=O.length-1;X>=0;X--)(te=O[X])&&(Z=(j<3?te(Z):j>3?te(N,H,Z):te(N,H))||Z);return j>3&&Z&&Object.defineProperty(N,H,Z),Z}([(3,N=g._Y,function(H,L){N(H,L,3)})],A);class k extends v.uN{constructor(N,H,L,j,Z,te,X,U){const q=(0,a.h)("div.diff-hidden-lines-widget");super(N,H,q.root),this._editor=N,this._unchangedRegion=L,this._unchangedRegionRange=j,this._hide=Z,this._modifiedOutlineSource=te,this._revealModifiedHiddenLine=X,this._options=U,this._nodes=(0,a.h)("div.diff-hidden-lines",[(0,a.h)("div.top@top",{title:(0,l.kg)("diff.hiddenLines.top","Click or drag to show more above")}),(0,a.h)("div.center@content",{style:{display:"flex"}},[(0,a.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,a.$)("a",{title:(0,l.kg)("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,F.n)("$(unfold)"))]),(0,a.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,a.h)("div.bottom@bottom",{title:(0,l.kg)("diff.bottom","Click or drag to show more below"),role:"button"})]),q.root.appendChild(this._nodes.root);const R=(0,S.y0)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._hide?(0,a.Ln)(this._nodes.first):this._register((0,v.AV)(this._nodes.first,{width:R.map(Y=>Y.contentLeft)})),this._register((0,S.fm)(Y=>{const oe=this._unchangedRegion.visibleLineCountTop.read(Y)+this._unchangedRegion.visibleLineCountBottom.read(Y)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!oe),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(Y)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(Y)>0),this._nodes.top.classList.toggle("canMoveBottom",!oe);const z=this._unchangedRegion.isDragged.read(Y),G=this._editor.getDomNode();G&&(G.classList.toggle("draggingUnchangedRegion",!!z),"top"===z?(G.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(Y)>0),G.classList.toggle("canMoveBottom",!oe)):"bottom"===z?(G.classList.toggle("canMoveTop",!oe),G.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(Y)>0)):(G.classList.toggle("canMoveTop",!1),G.classList.toggle("canMoveBottom",!1)))}));const W=this._editor;this._register((0,a.ko)(this._nodes.top,"mousedown",Y=>{if(0!==Y.button)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),Y.preventDefault();const oe=Y.clientY;let z=!1;const G=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const Q=(0,a.zk)(this._nodes.top),K=(0,a.ko)(Q,"mousemove",ae=>{const se=ae.clientY-oe;z=z||Math.abs(se)>2;const ge=Math.round(se/W.getOption(67)),_e=Math.max(0,Math.min(G+ge,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(_e,void 0)}),ie=(0,a.ko)(Q,"mouseup",ae=>{z||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),K.dispose(),ie.dispose()})})),this._register((0,a.ko)(this._nodes.bottom,"mousedown",Y=>{if(0!==Y.button)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),Y.preventDefault();const oe=Y.clientY;let z=!1;const G=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const Q=(0,a.zk)(this._nodes.bottom),K=(0,a.ko)(Q,"mousemove",ae=>{const se=ae.clientY-oe;z=z||Math.abs(se)>2;const ge=Math.round(se/W.getOption(67)),_e=Math.max(0,Math.min(G-ge,this._unchangedRegion.getMaxVisibleLineCountBottom())),ye=this._unchangedRegionRange.endLineNumberExclusive>W.getModel().getLineCount()?W.getContentHeight():W.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(_e,void 0);const M=this._unchangedRegionRange.endLineNumberExclusive>W.getModel().getLineCount()?W.getContentHeight():W.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);W.setScrollTop(W.getScrollTop()+(M-ye))}),ie=(0,a.ko)(Q,"mouseup",ae=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!z){const de=W.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const se=W.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);W.setScrollTop(W.getScrollTop()+(se-de))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),K.dispose(),ie.dispose()})})),this._register((0,S.fm)(Y=>{const oe=[];if(!this._hide){const z=L.getHiddenModifiedRange(Y).length,G=(0,l.kg)("hiddenLines","{0} hidden lines",z),Q=(0,a.$)("span",{title:(0,l.kg)("diff.hiddenLines.expandAll","Double click to unfold")},G);Q.addEventListener("dblclick",ae=>{0===ae.button&&(ae.preventDefault(),this._unchangedRegion.showAll(void 0))}),oe.push(Q);const K=this._unchangedRegion.getHiddenModifiedRange(Y),ie=this._modifiedOutlineSource.getBreadcrumbItems(K,Y);if(ie.length>0){oe.push((0,a.$)("span",void 0,"\xa0\xa0|\xa0\xa0"));for(let ae=0;ae<ie.length;ae++){const de=ie[ae],se=r.gP.toIcon(de.kind),ge=(0,a.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,F.s)(se),"\xa0",de.name,...ae===ie.length-1?[]:[(0,F.s)(w.W.chevronRight)]]).root;oe.push(ge),ge.onclick=()=>{this._revealModifiedHiddenLine(de.startLineNumber)}}}}(0,a.Ln)(this._nodes.others,...oe)}))}}},69366:(tt,xe,t)=>{t.d(xe,{GM:()=>m,KL:()=>A,Kl:()=>f,Ob:()=>d,Ou:()=>p,XT:()=>l,Zb:()=>T,Zw:()=>r,bk:()=>g,dv:()=>_,wp:()=>k});var a=t(15320),F=t(81072),w=t(80753),x=t(81644),C=t(85478),S=t(24453);(0,C.x1A)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,x.kg)("diffEditor.move.border","The border color for text that got moved in the diff editor.")),(0,C.x1A)("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},(0,x.kg)("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor.")),(0,C.x1A)("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},(0,x.kg)("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets."));const v=(0,S.pU)("diff-insert",a.W.add,(0,x.kg)("diffInsertIcon","Line decoration for inserts in the diff editor.")),_=(0,S.pU)("diff-remove",a.W.remove,(0,x.kg)("diffRemoveIcon","Line decoration for removals in the diff editor.")),f=w.kI.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+F.L.asClassName(v),marginClassName:"gutter-insert"}),d=w.kI.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+F.L.asClassName(_),marginClassName:"gutter-delete"}),r=w.kI.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),l=w.kI.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),g=w.kI.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),p=w.kI.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),m=w.kI.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),T=w.kI.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),A=w.kI.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),k=w.kI.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"})},39183:(tt,xe,t)=>{t.d(xe,{MZ:()=>te,pN:()=>m,D1:()=>O,uN:()=>k,Nu:()=>T,rX:()=>g,pY:()=>l,AV:()=>H,Vs:()=>Z,EK:()=>q,Am:()=>r,$y:()=>p,b6:()=>L,Mu:()=>X});var a=t(92210),F=t(21468),w=t(26834);function x(){return w._K&&!!w._K.VSCODE_DEV}function C(R){if(x()){const W=function S(){b||(b=new Set);const R=globalThis;return R.$hotReload_applyNewExports||(R.$hotReload_applyNewExports=W=>{const Y={config:{mode:void 0},...W};for(const oe of b){const z=oe(Y);if(z)return z}}),b}();return W.add(R),{dispose(){W.delete(R)}}}return{dispose(){}}}let b;x()&&C(({oldExports:R,config:Y})=>{if("patch-prototype"===Y.mode)return oe=>{var z,G;for(const Q in oe){const K=oe[Q];if(console.log(`[hot-reload] Patching prototype methods of '${Q}'`,{exportedItem:K}),"function"==typeof K&&K.prototype){const ie=R[Q];if(ie){for(const ae of Object.getOwnPropertyNames(K.prototype)){const de=Object.getOwnPropertyDescriptor(K.prototype,ae),se=Object.getOwnPropertyDescriptor(ie.prototype,ae);(null===(z=de?.value)||void 0===z?void 0:z.toString())!==(null===(G=se?.value)||void 0===G?void 0:G.toString())&&console.log(`[hot-reload] Patching prototype method '${Q}.${ae}'`),Object.defineProperty(ie.prototype,ae,de)}oe[Q]=ie}}}return!0}});var P=t(99031),D=t(28044),v=t(39450),_=t(13632),f=t(73678),d=t(87676);function r(R,W,Y,oe){if(0===R.length)return W;if(0===W.length)return R;const z=[];let G=0,Q=0;for(;G<R.length&&Q<W.length;){const K=R[G],ie=W[Q],ae=Y(K),de=Y(ie);ae<de?(z.push(K),G++):ae>de?(z.push(ie),Q++):(z.push(oe(K,ie)),G++,Q++)}for(;G<R.length;)z.push(R[G]),G++;for(;Q<W.length;)z.push(W[Q]),Q++;return z}function l(R,W){const Y=new P.Cm,oe=R.createDecorationsCollection();return Y.add((0,D.zL)({debugName:()=>`Apply decorations from ${W.debugName}`},z=>{const G=W.read(z);oe.set(G)})),Y.add({dispose:()=>{oe.clear()}}),Y}function g(R,W){return R.appendChild(W),(0,P.s)(()=>{R.removeChild(W)})}function p(R,W){return R.prepend(W),(0,P.s)(()=>{R.removeChild(W)})}class m extends P.jG{get width(){return this._width}get height(){return this._height}get automaticLayout(){return this._automaticLayout}constructor(W,Y){super(),this._automaticLayout=!1,this.elementSizeObserver=this._register(new v.u(W,Y)),this._width=(0,D.FY)(this,this.elementSizeObserver.getWidth()),this._height=(0,D.FY)(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(oe=>(0,D.Rn)(z=>{this._width.set(this.elementSizeObserver.getWidth(),z),this._height.set(this.elementSizeObserver.getHeight(),z)})))}observe(W){this.elementSizeObserver.observe(W)}setAutomaticLayout(W){this._automaticLayout=W,W?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function T(R,W,Y){let oe=W.get(),z=oe,G=oe;const Q=(0,D.FY)("animatedValue",oe);let ae,K=-1;function de(){const se=Date.now()-K;G=Math.floor(function A(R,W,Y,oe){return R===oe?W+Y:Y*(1-Math.pow(2,-10*R/oe))+W}(se,z,oe-z,300)),se<300?ae=R.requestAnimationFrame(de):G=oe,Q.set(G,void 0)}return Y.add((0,D.Y)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(se,ge)=>(se.didChange(W)&&(ge.animate=ge.animate||se.change),!0)},(se,ge)=>{void 0!==ae&&(R.cancelAnimationFrame(ae),ae=void 0),z=G,oe=W.read(se),K=Date.now()-(ge.animate?0:300),de()})),Q}class k extends P.jG{constructor(W,Y,oe){super(),this._register(new N(W,oe)),this._register(H(oe,{height:Y.actualHeight,top:Y.actualTop}))}}class O{get afterLineNumber(){return this._afterLineNumber.get()}constructor(W,Y){this._afterLineNumber=W,this.heightInPx=Y,this.domNode=document.createElement("div"),this._actualTop=(0,D.FY)(this,void 0),this._actualHeight=(0,D.FY)(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=oe=>{this._actualTop.set(oe,void 0)},this.onComputedHeight=oe=>{this._actualHeight.set(oe,void 0)}}}let N=(()=>{class R{constructor(Y,oe){this._editor=Y,this._domElement=oe,this._overlayWidgetId="managedOverlayWidget-"+R._counter++,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}return R._counter=0,R})();function H(R,W){return(0,D.fm)(Y=>{for(let[oe,z]of Object.entries(W))z&&"object"==typeof z&&"read"in z&&(z=z.read(Y)),"number"==typeof z&&(z=`${z}px`),oe=oe.replace(/[A-Z]/g,G=>"-"+G.toLowerCase()),R.style[oe]=z})}function L(R,W){return function j(R,W){x()&&(0,D.yQ)("reload",oe=>C(({oldExports:z})=>{if([...Object.values(z)].some(G=>R.includes(G)))return G=>(oe(void 0),!0)})).read(W)}([R],W),R}function Z(R,W,Y,oe){const z=new P.Cm,G=[];return z.add((0,D.yC)((Q,K)=>{const ie=W.read(Q),ae=new Map,de=new Map;Y&&Y(!0),R.changeViewZones(se=>{for(const ge of G)se.removeZone(ge),oe?.delete(ge);G.length=0;for(const ge of ie){const _e=se.addZone(ge);ge.setZoneId&&ge.setZoneId(_e),G.push(_e),oe?.add(_e),ae.set(ge,_e)}}),Y&&Y(!1),K.add((0,D.Y)({createEmptyChangeSummary:()=>({zoneIds:[]}),handleChange(se,ge){const _e=de.get(se.changedObservable);return void 0!==_e&&ge.zoneIds.push(_e),!0}},(se,ge)=>{for(const _e of ie)_e.onChange&&(de.set(_e.onChange,ae.get(_e)),_e.onChange.read(se));Y&&Y(!0),R.changeViewZones(_e=>{for(const ye of ge.zoneIds)_e.layoutZone(ye)}),Y&&Y(!1)}))})),z.add({dispose(){Y&&Y(!0),R.changeViewZones(Q=>{for(const K of G)Q.removeZone(K)}),oe?.clear(),Y&&Y(!1)}}),z}class te extends F.Qi{dispose(){super.dispose(!0)}}function X(R,W){const Y=(0,a.Uk)(W,z=>z.original.startLineNumber<=R.lineNumber);if(!Y)return f.Q.fromPositions(R);if(Y.original.endLineNumberExclusive<=R.lineNumber)return f.Q.fromPositions(new _.y(R.lineNumber-Y.original.endLineNumberExclusive+Y.modified.endLineNumberExclusive,R.column));if(!Y.innerChanges)return f.Q.fromPositions(new _.y(Y.modified.startLineNumber,1));const oe=(0,a.Uk)(Y.innerChanges,z=>z.originalRange.getStartPosition().isBeforeOrEqual(R));if(!oe)return f.Q.fromPositions(new _.y(R.lineNumber-Y.original.startLineNumber+Y.modified.startLineNumber,R.column));if(oe.originalRange.containsPosition(R))return oe.modifiedRange;{const z=function U(R,W){return R.lineNumber===W.lineNumber?new d.W(0,W.column-R.column):new d.W(W.lineNumber-R.lineNumber,W.column-1)}(oe.originalRange.getEndPosition(),R);return f.Q.fromPositions(z.addToPosition(oe.modifiedRange.getEndPosition()))}}function q(R,W){let Y;return R.filter(oe=>{const z=W(oe,Y);return Y=oe,z})}},13157:(tt,xe,t)=>{t.d(xe,{T:()=>q,i:()=>R});var a=t(10467),F=t(56555),w=t(87892),x=t(25680),C=t(5643),S=t(99031),b=t(85072),P=t.n(b),D=t(97825),v=t.n(D),_=t(77659),f=t.n(_),d=t(55056),r=t.n(d),l=t(10540),g=t.n(l),p=t(41113),m=t.n(p),T=t(46835),A={};A.styleTagTransform=m(),A.setAttributes=r(),A.insert=f().bind(null,"head"),A.domAPI=v(),A.insertStyleElement=g(),P()(T.A,A);var U,N=t(93988),H=t(385),L=t(37864),j=t(99879),Z=t(19438),X=function(oe,z){return function(G,Q){z(G,Q,oe)}};let q=U=class{constructor(z,G,Q){this._options=z,this._languageService=G,this._openerService=Q,this._onDidRenderAsync=new C.vl,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(z,G,Q){if(!z)return{element:document.createElement("span"),dispose:()=>{}};const K=new S.Cm,ie=K.add((0,F.Gc)(z,{...this._getRenderOptions(z,K),...G},Q));return ie.element.classList.add("rendered-markdown"),{element:ie.element,dispose:()=>K.dispose()}}_getRenderOptions(z,G){var K,Q=this;return{codeBlockRenderer:(K=(0,a.A)(function*(ie,ae){var de,se,ge;let _e;ie?_e=Q._languageService.getLanguageIdByLanguageName(ie):Q._options.editor&&(_e=null===(de=Q._options.editor.getModel())||void 0===de?void 0:de.getLanguageId()),_e||(_e=L.vH);const ye=yield(0,j.Yj)(Q._languageService,ae,_e),M=document.createElement("span");if(M.innerHTML=null!==(ge=null===(se=U._ttpTokenizer)||void 0===se?void 0:se.createHTML(ye))&&void 0!==ge?ge:ye,Q._options.editor){const ce=Q._options.editor.getOption(50);(0,N.M)(M,ce)}else Q._options.codeBlockFontFamily&&(M.style.fontFamily=Q._options.codeBlockFontFamily);return void 0!==Q._options.codeBlockFontSize&&(M.style.fontSize=Q._options.codeBlockFontSize),M}),function(ae,de){return K.apply(this,arguments)}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:K=>R(this._openerService,K,z.isTrusted),disposables:G}}}};function R(oe,z,G){return W.apply(this,arguments)}function W(){return(W=(0,a.A)(function*(oe,z,G){try{return yield oe.open(z,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:Y(G)})}catch(Q){return(0,x.dz)(Q),!1}})).apply(this,arguments)}function Y(oe){return!0===oe||!(!oe||!Array.isArray(oe.enabledCommands))&&oe.enabledCommands}q._ttpTokenizer=(0,w.H)("tokenizeToString",{createHTML:oe=>oe}),q=U=function(oe,z,G,Q){var ae,K=arguments.length,ie=K<3?z:null===Q?Q=Object.getOwnPropertyDescriptor(z,G):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ie=Reflect.decorate(oe,z,G,Q);else for(var de=oe.length-1;de>=0;de--)(ae=oe[de])&&(ie=(K<3?ae(ie):K>3?ae(z,G,ie):ae(z,G))||ie);return K>3&&ie&&Object.defineProperty(z,G,ie),ie}([X(1,H.L),X(2,Z.C)],q)},9306:(tt,xe,t)=>{t.d(xe,{I:()=>F});var a=t(64948);class F extends a.LN{constructor(x){super(),this._getContext=x}runAction(x,C){const S=this._getContext();return super.runAction(x,S)}}},19533:(tt,xe,t)=>{t.d(xe,{iP:()=>C,iu:()=>F,q2:()=>x,tA:()=>w,ui:()=>S});var a=t(14105);class F{constructor(P,D,v=!1){this._range=P,this._text=D,this.insertsAutoWhitespace=v}getEditOperations(P,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(P,D){const _=D.getInverseEditOperations()[0].range;return a.L.fromPositions(_.getEndPosition())}}class w{constructor(P,D){this._range=P,this._text=D}getEditOperations(P,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(P,D){const _=D.getInverseEditOperations()[0].range;return a.L.fromRange(_,0)}}class x{constructor(P,D,v=!1){this._range=P,this._text=D,this.insertsAutoWhitespace=v}getEditOperations(P,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(P,D){const _=D.getInverseEditOperations()[0].range;return a.L.fromPositions(_.getStartPosition())}}class C{constructor(P,D,v,_,f=!1){this._range=P,this._text=D,this._columnDeltaOffset=_,this._lineNumberDeltaOffset=v,this.insertsAutoWhitespace=f}getEditOperations(P,D){D.addTrackedEditOperation(this._range,this._text)}computeCursorState(P,D){const _=D.getInverseEditOperations()[0].range;return a.L.fromPositions(_.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class S{constructor(P,D,v,_=!1){this._range=P,this._text=D,this._initialSelection=v,this._forceMoveMarkers=_,this._selectionId=null}getEditOperations(P,D){D.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=D.trackSelection(this._initialSelection)}computeCursorState(P,D){return D.getTrackedSelection(this._selectionId)}}},25585:(tt,xe,t)=>{t.d(xe,{Y:()=>f});var D,a=t(6653),F=t(52282),w=t(73678),x=t(14105),C=t(49111),S=t(70416);const v=Object.create(null);function _(d,r){if(r<=0)return"";v[d]||(v[d]=["",d]);const l=v[d];for(let g=l.length;g<=r;g++)l[g]=l[g-1]+d;return l[r]}let f=D=class{static unshiftIndent(r,l,g,p,m){const T=F.A.visibleColumnFromColumn(r,l,g);if(m){const A=_(" ",p);return _(A,F.A.prevIndentTabStop(T,p)/p)}return _("\t",F.A.prevRenderTabStop(T,g)/g)}static shiftIndent(r,l,g,p,m){const T=F.A.visibleColumnFromColumn(r,l,g);if(m){const A=_(" ",p);return _(A,F.A.nextIndentTabStop(T,p)/p)}return _("\t",F.A.nextRenderTabStop(T,g)/g)}constructor(r,l,g){this._languageConfigurationService=g,this._opts=l,this._selection=r,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(r,l,g){this._useLastEditRangeForCursorEndPosition?r.addTrackedEditOperation(l,g):r.addEditOperation(l,g)}getEditOperations(r,l){const g=this._selection.startLineNumber;let p=this._selection.endLineNumber;1===this._selection.endColumn&&g!==p&&(p-=1);const{tabSize:m,indentSize:T,insertSpaces:A}=this._opts,k=g===p;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(r.getLineContent(g))&&(this._useLastEditRangeForCursorEndPosition=!0);let O=0,N=0;for(let H=g;H<=p;H++,O=N){N=0;const L=r.getLineContent(H);let Z,j=a.HG(L);if((!this._opts.isUnshift||0!==L.length&&0!==j)&&(k||this._opts.isUnshift||0!==L.length)){if(-1===j&&(j=L.length),H>1&&F.A.visibleColumnFromColumn(L,j+1,m)%T!=0&&r.tokenization.isCheapToTokenize(H-1)){const X=(0,C.h)(this._opts.autoIndent,r,new w.Q(H-1,r.getLineMaxColumn(H-1),H-1,r.getLineMaxColumn(H-1)),this._languageConfigurationService);if(X){if(N=O,X.appendText)for(let U=0,q=X.appendText.length;U<q&&N<T&&32===X.appendText.charCodeAt(U);U++)N++;X.removeText&&(N=Math.max(0,N-X.removeText));for(let U=0;U<N&&0!==j&&32===L.charCodeAt(j-1);U++)j--}}this._opts.isUnshift&&0===j||(Z=this._opts.isUnshift?D.unshiftIndent(L,j+1,m,T,A):D.shiftIndent(L,j+1,m,T,A),this._addEditOperation(l,new w.Q(H,1,H,j+1),Z),H===g&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=j+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===r.getLineLength(g)&&(this._useLastEditRangeForCursorEndPosition=!0);const O=A?_(" ",T):"\t";for(let N=g;N<=p;N++){const H=r.getLineContent(N);let L=a.HG(H);if((!this._opts.isUnshift||0!==H.length&&0!==L)&&(k||this._opts.isUnshift||0!==H.length)&&(-1===L&&(L=H.length),!this._opts.isUnshift||0!==L))if(this._opts.isUnshift){L=Math.min(L,T);for(let j=0;j<L;j++)if(9===H.charCodeAt(j)){L=j+1;break}this._addEditOperation(l,new w.Q(N,1,N,L+1),"")}else this._addEditOperation(l,new w.Q(N,1,N,1),O),N===g&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=l.trackSelection(this._selection)}computeCursorState(r,l){if(this._useLastEditRangeForCursorEndPosition){const p=l.getInverseEditOperations()[0];return new x.L(p.range.endLineNumber,p.range.endColumn,p.range.endLineNumber,p.range.endColumn)}const g=l.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const p=this._selection.startColumn;return g.startColumn<=p?g:0===g.getDirection()?new x.L(g.startLineNumber,p,g.endLineNumber,g.endColumn):new x.L(g.endLineNumber,g.endColumn,g.startLineNumber,p)}return g}};var r;f=D=function(d,r,l,g){var T,p=arguments.length,m=p<3?r:null===g?g=Object.getOwnPropertyDescriptor(r,l):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(d,r,l,g);else for(var A=d.length-1;A>=0;A--)(T=d[A])&&(m=(p<3?T(m):p>3?T(r,l,m):T(r,l))||m);return p>3&&m&&Object.defineProperty(r,l,m),m}([(2,r=S.JZ,function(l,g){r(l,g,2)})],f)},16434:(tt,xe,t)=>{t.d(xe,{q:()=>a});const a={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,renderGutterMenu:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}},30788:(tt,xe,t)=>{t.d(xe,{Gn:()=>d,JJ:()=>b,vf:()=>f});var a=t(16434),F=t(99207),w=t(63081),x=t(81644),C=t(70987),S=t(97018);const b=Object.freeze({id:"editor",order:5,type:"object",title:x.kg("editorConfigurationTitle","Editor"),scope:5}),P={...b,properties:{"editor.tabSize":{type:"number",default:w.R.tabSize,minimum:1,markdownDescription:x.kg("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:x.kg("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:w.R.insertSpaces,markdownDescription:x.kg("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:w.R.detectIndentation,markdownDescription:x.kg("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:w.R.trimAutoWhitespace,description:x.kg("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:w.R.largeFileOptimizations,description:x.kg("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[x.kg("wordBasedSuggestions.off","Turn off Word Based Suggestions."),x.kg("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),x.kg("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),x.kg("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:x.kg("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[x.kg("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),x.kg("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),x.kg("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:x.kg("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:x.kg("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:x.kg("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:x.kg("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:x.kg("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:x.kg("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:x.kg("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:x.kg("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:x.kg("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:x.kg("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:x.kg("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:x.kg("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:a.q.maxComputationTime,description:x.kg("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:a.q.maxFileSize,description:x.kg("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:a.q.renderSideBySide,description:x.kg("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:a.q.renderSideBySideInlineBreakpoint,description:x.kg("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:a.q.useInlineViewWhenSpaceIsLimited,description:x.kg("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:a.q.renderMarginRevertIcon,description:x.kg("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.renderGutterMenu":{type:"boolean",default:a.q.renderGutterMenu,description:x.kg("renderGutterMenu","When enabled, the diff editor shows a special gutter for revert and stage actions.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:a.q.ignoreTrimWhitespace,description:x.kg("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:a.q.renderIndicators,description:x.kg("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:a.q.diffCodeLens,description:x.kg("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:a.q.diffWordWrap,markdownEnumDescriptions:[x.kg("wordWrap.off","Lines will never wrap."),x.kg("wordWrap.on","Lines will wrap at the viewport width."),x.kg("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:a.q.diffAlgorithm,markdownEnumDescriptions:[x.kg("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),x.kg("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:a.q.hideUnchangedRegions.enabled,markdownDescription:x.kg("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:a.q.hideUnchangedRegions.revealLineCount,markdownDescription:x.kg("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:a.q.hideUnchangedRegions.minimumLineCount,markdownDescription:x.kg("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:a.q.hideUnchangedRegions.contextLineCount,markdownDescription:x.kg("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:a.q.experimental.showMoves,markdownDescription:x.kg("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:a.q.experimental.showEmptyDecorations,description:x.kg("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}};function D(l){return typeof l.type<"u"||typeof l.anyOf<"u"}for(const l of F.BE){const g=l.schema;if(typeof g<"u")if(D(g))P.properties[`editor.${l.name}`]=g;else for(const p in g)Object.hasOwnProperty.call(g,p)&&(P.properties[p]=g[p])}let v=null;function _(){return null===v&&(v=Object.create(null),Object.keys(P.properties).forEach(l=>{v[l]=!0})),v}function f(l){return _()[`editor.${l}`]||!1}function d(l){return _()[`diffEditor.${l}`]||!1}S.O.as(C.Fd.Configuration).registerConfiguration(P)},99207:(tt,xe,t)=>{t.d(xe,{$C:()=>$e,BE:()=>Bt,Bc:()=>Y,O4:()=>O,Of:()=>be,XR:()=>Ee,hZ:()=>_,jT:()=>se,jU:()=>Ft,ls:()=>T,lw:()=>P,m9:()=>X,n0:()=>D,qB:()=>Ut,r_:()=>oe,wA:()=>p,xZ:()=>ae,xq:()=>b,zM:()=>l});var a=t(30833),F=t(24311),w=t(21828),x=t(63081),C=t(50199),S=t(81644);const b=8;class P{constructor(ke){this._values=ke}hasChanged(ke){return this._values[ke]}}class D{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class v{constructor(ke,Ze,Ye,st){this.id=ke,this.name=Ze,this.defaultValue=Ye,this.schema=st}applyUpdate(ke,Ze){return f(ke,Ze)}compute(ke,Ze,Ye){return Ye}}class _{constructor(ke,Ze){this.newValue=ke,this.didChange=Ze}}function f(St,ke){if("object"!=typeof St||"object"!=typeof ke||!St||!ke)return new _(ke,St!==ke);if(Array.isArray(St)||Array.isArray(ke)){const Ye=Array.isArray(St)&&Array.isArray(ke)&&a.aI(St,ke);return new _(ke,!Ye)}let Ze=!1;for(const Ye in ke)if(ke.hasOwnProperty(Ye)){const st=f(St[Ye],ke[Ye]);st.didChange&&(St[Ye]=st.newValue,Ze=!0)}return new _(St,Ze)}class d{constructor(ke){this.schema=void 0,this.id=ke,this.name="_never_",this.defaultValue=void 0}applyUpdate(ke,Ze){return f(ke,Ze)}validate(ke){return this.defaultValue}}class r{constructor(ke,Ze,Ye,st){this.id=ke,this.name=Ze,this.defaultValue=Ye,this.schema=st}applyUpdate(ke,Ze){return f(ke,Ze)}validate(ke){return typeof ke>"u"?this.defaultValue:ke}compute(ke,Ze,Ye){return Ye}}function l(St,ke){return typeof St>"u"?ke:"false"!==St&&!!St}class g extends r{constructor(ke,Ze,Ye,st=void 0){typeof st<"u"&&(st.type="boolean",st.default=Ye),super(ke,Ze,Ye,st)}validate(ke){return l(ke,this.defaultValue)}}function p(St,ke,Ze,Ye){if(typeof St>"u")return ke;let st=parseInt(St,10);return isNaN(st)?ke:(st=Math.max(Ze,st),st=Math.min(Ye,st),0|st)}class m extends r{static clampedInt(ke,Ze,Ye,st){return p(ke,Ze,Ye,st)}constructor(ke,Ze,Ye,st,Ke,ft=void 0){typeof ft<"u"&&(ft.type="integer",ft.default=Ye,ft.minimum=st,ft.maximum=Ke),super(ke,Ze,Ye,ft),this.minimum=st,this.maximum=Ke}validate(ke){return m.clampedInt(ke,this.defaultValue,this.minimum,this.maximum)}}function T(St,ke,Ze,Ye){if(typeof St>"u")return ke;const st=A.float(St,ke);return A.clamp(st,Ze,Ye)}class A extends r{static clamp(ke,Ze,Ye){return ke<Ze?Ze:ke>Ye?Ye:ke}static float(ke,Ze){if("number"==typeof ke)return ke;if(typeof ke>"u")return Ze;const Ye=parseFloat(ke);return isNaN(Ye)?Ze:Ye}constructor(ke,Ze,Ye,st,Ke){typeof Ke<"u"&&(Ke.type="number",Ke.default=Ye),super(ke,Ze,Ye,Ke),this.validationFn=st}validate(ke){return this.validationFn(A.float(ke,this.defaultValue))}}class k extends r{static string(ke,Ze){return"string"!=typeof ke?Ze:ke}constructor(ke,Ze,Ye,st=void 0){typeof st<"u"&&(st.type="string",st.default=Ye),super(ke,Ze,Ye,st)}validate(ke){return k.string(ke,this.defaultValue)}}function O(St,ke,Ze,Ye){return"string"!=typeof St?ke:Ye&&St in Ye?Ye[St]:-1===Ze.indexOf(St)?ke:St}class N extends r{constructor(ke,Ze,Ye,st,Ke=void 0){typeof Ke<"u"&&(Ke.type="string",Ke.enum=st,Ke.default=Ye),super(ke,Ze,Ye,Ke),this._allowedValues=st}validate(ke){return O(ke,this.defaultValue,this._allowedValues)}}class H extends v{constructor(ke,Ze,Ye,st,Ke,ft,wt=void 0){typeof wt<"u"&&(wt.type="string",wt.enum=Ke,wt.default=st),super(ke,Ze,Ye,wt),this._allowedValues=Ke,this._convert=ft}validate(ke){return"string"!=typeof ke||-1===this._allowedValues.indexOf(ke)?this.defaultValue:this._convert(ke)}}var X=function(St){return St[St.Line=1]="Line",St[St.Block=2]="Block",St[St.Underline=3]="Underline",St[St.LineThin=4]="LineThin",St[St.BlockOutline=5]="BlockOutline",St[St.UnderlineThin=6]="UnderlineThin",St}(X||{});let Y=(()=>{class St extends v{constructor(){super(51,"fontLigatures",St.OFF,{anyOf:[{type:"boolean",description:S.kg("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:S.kg("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:S.kg("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Ze){return typeof Ze>"u"?this.defaultValue:"string"==typeof Ze?"false"===Ze||0===Ze.length?St.OFF:"true"===Ze?St.ON:Ze:Ze?St.ON:St.OFF}}return St.OFF='"liga" off, "calt" off',St.ON='"liga" on, "calt" on',St})(),oe=(()=>{class St extends v{constructor(){super(54,"fontVariations",St.OFF,{anyOf:[{type:"boolean",description:S.kg("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:S.kg("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:S.kg("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(Ze){return typeof Ze>"u"?this.defaultValue:"string"==typeof Ze?"false"===Ze?St.OFF:"true"===Ze?St.TRANSLATE:Ze:Ze?St.TRANSLATE:St.OFF}compute(Ze,Ye,st){return Ze.fontInfo.fontVariationSettings}}return St.OFF="normal",St.TRANSLATE="translate",St})(),Q=(()=>{class St extends v{constructor(){super(53,"fontWeight",Ft.fontWeight,{anyOf:[{type:"number",minimum:St.MINIMUM_VALUE,maximum:St.MAXIMUM_VALUE,errorMessage:S.kg("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:St.SUGGESTION_VALUES}],default:Ft.fontWeight,description:S.kg("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Ze){return"normal"===Ze||"bold"===Ze?Ze:String(m.clampedInt(Ze,Ft.fontWeight,St.MINIMUM_VALUE,St.MAXIMUM_VALUE))}}return St.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],St.MINIMUM_VALUE=1,St.MAXIMUM_VALUE=1e3,St})();class ae extends d{constructor(){super(145)}compute(ke,Ze,Ye){return ae.computeLayout(Ze,{memory:ke.memory,outerWidth:ke.outerWidth,outerHeight:ke.outerHeight,isDominatedByLongLines:ke.isDominatedByLongLines,lineHeight:ke.fontInfo.lineHeight,viewLineCount:ke.viewLineCount,lineNumbersDigitCount:ke.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ke.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ke.fontInfo.maxDigitWidth,pixelRatio:ke.pixelRatio,glyphMarginDecorationLaneCount:ke.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(ke){const Ze=ke.height/ke.lineHeight,Ye=Math.floor(ke.paddingTop/ke.lineHeight);let st=Math.floor(ke.paddingBottom/ke.lineHeight);ke.scrollBeyondLastLine&&(st=Math.max(st,Ze-1));const Ke=(Ye+ke.viewLineCount+st)/(ke.pixelRatio*ke.height);return{typicalViewportLineCount:Ze,extraLinesBeforeFirstLine:Ye,extraLinesBeyondLastLine:st,desiredRatio:Ke,minimapLineCount:Math.floor(ke.viewLineCount/Ke)}}static _computeMinimapLayout(ke,Ze){const Ye=ke.outerWidth,st=ke.outerHeight,Ke=ke.pixelRatio;if(!ke.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Ke*st),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:st};const ft=Ze.stableMinimapLayoutInput,wt=ft&&ke.outerHeight===ft.outerHeight&&ke.lineHeight===ft.lineHeight&&ke.typicalHalfwidthCharacterWidth===ft.typicalHalfwidthCharacterWidth&&ke.pixelRatio===ft.pixelRatio&&ke.scrollBeyondLastLine===ft.scrollBeyondLastLine&&ke.paddingTop===ft.paddingTop&&ke.paddingBottom===ft.paddingBottom&&ke.minimap.enabled===ft.minimap.enabled&&ke.minimap.side===ft.minimap.side&&ke.minimap.size===ft.minimap.size&&ke.minimap.showSlider===ft.minimap.showSlider&&ke.minimap.renderCharacters===ft.minimap.renderCharacters&&ke.minimap.maxColumn===ft.minimap.maxColumn&&ke.minimap.scale===ft.minimap.scale&&ke.verticalScrollbarWidth===ft.verticalScrollbarWidth&&ke.isViewportWrapping===ft.isViewportWrapping,qt=ke.lineHeight,Yt=ke.typicalHalfwidthCharacterWidth,en=ke.scrollBeyondLastLine,an=ke.minimap.renderCharacters;let lt=Ke>=2?Math.round(2*ke.minimap.scale):ke.minimap.scale;const Nt=ke.minimap.maxColumn,tn=ke.minimap.size,bn=ke.minimap.side,Bn=ke.verticalScrollbarWidth,zn=ke.viewLineCount,Zn=ke.remainingWidth,ei=ke.isViewportWrapping,wi=an?2:3;let hi=Math.floor(Ke*st);const yi=hi/Ke;let Vi=!1,Wi=!1,Pn=wi*lt,pt=lt/Ke,ct=1;if("fill"===tn||"fit"===tn){const{typicalViewportLineCount:Kn,extraLinesBeforeFirstLine:jn,extraLinesBeyondLastLine:Nn,desiredRatio:gn,minimapLineCount:Wt}=ae.computeContainedMinimapLineCount({viewLineCount:zn,scrollBeyondLastLine:en,paddingTop:ke.paddingTop,paddingBottom:ke.paddingBottom,height:st,lineHeight:qt,pixelRatio:Ke});if(zn/Wt>1)Vi=!0,Wi=!0,lt=1,Pn=1,pt=lt/Ke;else{let En=!1,On=lt+1;if("fit"===tn){const Rn=Math.ceil((jn+zn+Nn)*Pn);ei&&wt&&Zn<=Ze.stableFitRemainingWidth?(En=!0,On=Ze.stableFitMaxMinimapScale):En=Rn>hi}if("fill"===tn||En){Vi=!0;const Rn=lt;Pn=Math.min(qt*Ke,Math.max(1,Math.floor(1/gn))),ei&&wt&&Zn<=Ze.stableFitRemainingWidth&&(On=Ze.stableFitMaxMinimapScale),lt=Math.min(On,Math.max(1,Math.floor(Pn/wi))),lt>Rn&&(ct=Math.min(2,lt/Rn)),pt=lt/Ke/ct,hi=Math.ceil(Math.max(Kn,jn+zn+Nn)*Pn),ei?(Ze.stableMinimapLayoutInput=ke,Ze.stableFitRemainingWidth=Zn,Ze.stableFitMaxMinimapScale=lt):(Ze.stableMinimapLayoutInput=null,Ze.stableFitRemainingWidth=0)}}}const Tt=Math.floor(Nt*pt),ut=Math.min(Tt,Math.max(0,Math.floor((Zn-Bn-2)*pt/(Yt+pt)))+b);let Ct=Math.floor(Ke*ut);const Jt=Ct/Ke;return Ct=Math.floor(Ct*ct),{renderMinimap:an?1:2,minimapLeft:"left"===bn?0:Ye-ut-Bn,minimapWidth:ut,minimapHeightIsEditorHeight:Vi,minimapIsSampling:Wi,minimapScale:lt,minimapLineHeight:Pn,minimapCanvasInnerWidth:Ct,minimapCanvasInnerHeight:hi,minimapCanvasOuterWidth:Jt,minimapCanvasOuterHeight:yi}}static computeLayout(ke,Ze){const Ye=0|Ze.outerWidth,st=0|Ze.outerHeight,Ke=0|Ze.lineHeight,ft=0|Ze.lineNumbersDigitCount,wt=Ze.typicalHalfwidthCharacterWidth,qt=Ze.maxDigitWidth,Yt=Ze.pixelRatio,en=Ze.viewLineCount,an=ke.get(137),lt="inherit"===an?ke.get(136):an,Nt="inherit"===lt?ke.get(132):lt,tn=ke.get(135),bn=Ze.isDominatedByLongLines,Bn=ke.get(57),zn=0!==ke.get(68).renderType,Zn=ke.get(69),ei=ke.get(105),wi=ke.get(84),hi=ke.get(73),yi=ke.get(103),Vi=yi.verticalScrollbarSize,Wi=yi.verticalHasArrows,Pn=yi.arrowSize,pt=yi.horizontalScrollbarSize,ct=ke.get(43),Tt="never"!==ke.get(110);let ut=ke.get(66);ct&&Tt&&(ut+=16);let Ct=0;if(zn){const fi=Math.max(ft,Zn);Ct=Math.round(fi*qt)}let Jt=0;Bn&&(Jt=Ke*Ze.glyphMarginDecorationLaneCount);let un=0,Wn=un+Jt,Kn=Wn+Ct,jn=Kn+ut;const Nn=Ye-Jt-Ct-ut;let gn=!1,Wt=!1,mn=-1;"inherit"===lt&&bn?(gn=!0,Wt=!0):"on"===Nt||"bounded"===Nt?Wt=!0:"wordWrapColumn"===Nt&&(mn=tn);const En=ae._computeMinimapLayout({outerWidth:Ye,outerHeight:st,lineHeight:Ke,typicalHalfwidthCharacterWidth:wt,pixelRatio:Yt,scrollBeyondLastLine:ei,paddingTop:wi.top,paddingBottom:wi.bottom,minimap:hi,verticalScrollbarWidth:Vi,viewLineCount:en,remainingWidth:Nn,isViewportWrapping:Wt},Ze.memory||new D);0!==En.renderMinimap&&0===En.minimapLeft&&(un+=En.minimapWidth,Wn+=En.minimapWidth,Kn+=En.minimapWidth,jn+=En.minimapWidth);const On=Nn-En.minimapWidth,Rn=Math.max(1,Math.floor((On-Vi-2)/wt)),Qn=Wi?Pn:0;return Wt&&(mn=Math.max(1,Rn),"bounded"===Nt&&(mn=Math.min(mn,tn))),{width:Ye,height:st,glyphMarginLeft:un,glyphMarginWidth:Jt,glyphMarginDecorationLaneCount:Ze.glyphMarginDecorationLaneCount,lineNumbersLeft:Wn,lineNumbersWidth:Ct,decorationsLeft:Kn,decorationsWidth:ut,contentLeft:jn,contentWidth:On,minimap:En,viewportColumn:Rn,isWordWrapMinified:gn,isViewportWrapping:Wt,wrappingColumn:mn,verticalScrollbarWidth:Vi,horizontalScrollbarHeight:pt,overviewRuler:{top:Qn,width:Vi,height:st-2*Qn,right:0}}}}var se=function(St){return St.Off="off",St.OnCode="onCode",St.On="on",St}(se||{});function $e(St){const ke=St.get(98);return"editable"===ke?St.get(91):"on"!==ke}function me(St,ke){if("string"!=typeof St)return ke;switch(St){case"hidden":return 2;case"visible":return 3;default:return 1}}const Ee="inUntrustedWorkspace",be={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};function vt(St,ke,Ze){const Ye=Ze.indexOf(St);return-1===Ye?ke:Ze[Ye]}const Ft={fontFamily:w.zx?"Menlo, Monaco, 'Courier New', monospace":w.j9?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:w.zx?12:14,lineHeight:0,letterSpacing:0},Bt=[];function rt(St){return Bt[St.id]=St,St}const Ut={acceptSuggestionOnCommitCharacter:rt(new g(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:S.kg("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:rt(new N(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",S.kg("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:S.kg("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:rt(new class j extends v{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[S.kg("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),S.kg("accessibilitySupport.on","Optimize for usage with a Screen Reader."),S.kg("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:S.kg("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(ke){switch(ke){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(ke,Ze,Ye){return 0===Ye?ke.accessibilitySupport:Ye}}),accessibilityPageSize:rt(new m(3,"accessibilityPageSize",10,1,1073741824,{description:S.kg("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:rt(new k(4,"ariaLabel",S.kg("editorViewAccessibleLabel","Editor content"))),ariaRequired:rt(new g(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:rt(new g(8,"screenReaderAnnounceInlineSuggestion",!0,{description:S.kg("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:rt(new N(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",S.kg("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),S.kg("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:S.kg("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:rt(new N(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",S.kg("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),S.kg("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:S.kg("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:rt(new N(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",S.kg("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:S.kg("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:rt(new N(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",S.kg("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:S.kg("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:rt(new N(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",S.kg("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),S.kg("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:S.kg("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:rt(new H(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function L(St){switch(St){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[S.kg("editor.autoIndent.none","The editor will not insert indentation automatically."),S.kg("editor.autoIndent.keep","The editor will keep the current line's indentation."),S.kg("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),S.kg("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),S.kg("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:S.kg("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:rt(new g(13,"automaticLayout",!1)),autoSurround:rt(new N(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[S.kg("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),S.kg("editor.autoSurround.quotes","Surround with quotes but not brackets."),S.kg("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:S.kg("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:rt(new class qe extends v{constructor(){const ke={enabled:x.R.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:x.R.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",ke,{"editor.bracketPairColorization.enabled":{type:"boolean",default:ke.enabled,markdownDescription:S.kg("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:ke.independentColorPoolPerBracketType,description:S.kg("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return{enabled:l(Ze.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:l(Ze.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}),bracketPairGuides:rt(new class dt extends v{constructor(){const ke={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",ke,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[S.kg("editor.guides.bracketPairs.true","Enables bracket pair guides."),S.kg("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),S.kg("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:ke.bracketPairs,description:S.kg("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[S.kg("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),S.kg("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),S.kg("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:ke.bracketPairsHorizontal,description:S.kg("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:ke.highlightActiveBracketPair,description:S.kg("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:ke.indentation,description:S.kg("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[S.kg("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),S.kg("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),S.kg("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:ke.highlightActiveIndentation,description:S.kg("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return{bracketPairs:vt(Ze.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:vt(Ze.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:l(Ze.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:l(Ze.indentation,this.defaultValue.indentation),highlightActiveIndentation:vt(Ze.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}),stickyTabStops:rt(new g(116,"stickyTabStops",!1,{description:S.kg("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:rt(new g(17,"codeLens",!0,{description:S.kg("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:rt(new k(18,"codeLensFontFamily","",{description:S.kg("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:rt(new m(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:S.kg("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:rt(new g(20,"colorDecorators",!0,{description:S.kg("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:rt(new N(148,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[S.kg("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),S.kg("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),S.kg("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:S.kg("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:rt(new m(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:S.kg("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:rt(new g(22,"columnSelection",!1,{description:S.kg("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:rt(new class Z extends v{constructor(){const ke={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",ke,{"editor.comments.insertSpace":{type:"boolean",default:ke.insertSpace,description:S.kg("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:ke.ignoreEmptyLines,description:S.kg("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return{insertSpace:l(Ze.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:l(Ze.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:rt(new g(24,"contextmenu",!0)),copyWithSyntaxHighlighting:rt(new g(25,"copyWithSyntaxHighlighting",!0,{description:S.kg("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:rt(new H(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function te(St){switch(St){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:S.kg("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:rt(new N(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[S.kg("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),S.kg("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),S.kg("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:S.kg("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:rt(new H(28,"cursorStyle",X.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function U(St){switch(St){case"line":return X.Line;case"block":return X.Block;case"underline":return X.Underline;case"line-thin":return X.LineThin;case"block-outline":return X.BlockOutline;case"underline-thin":return X.UnderlineThin}},{description:S.kg("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:rt(new m(29,"cursorSurroundingLines",0,0,1073741824,{description:S.kg("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:rt(new N(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[S.kg("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),S.kg("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:S.kg("cursorSurroundingLinesStyle","Controls when `#editor.cursorSurroundingLines#` should be enforced.")})),cursorWidth:rt(new m(31,"cursorWidth",0,0,1073741824,{markdownDescription:S.kg("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:rt(new g(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:rt(new g(33,"disableMonospaceOptimizations",!1)),domReadOnly:rt(new g(34,"domReadOnly",!1)),dragAndDrop:rt(new g(35,"dragAndDrop",!0,{description:S.kg("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:rt(new class R extends g{constructor(){super(37,"emptySelectionClipboard",!0,{description:S.kg("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(ke,Ze,Ye){return Ye&&ke.emptySelectionClipboard}}),dropIntoEditor:rt(new class De extends v{constructor(){const ke={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",ke,{"editor.dropIntoEditor.enabled":{type:"boolean",default:ke.enabled,markdownDescription:S.kg("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:S.kg("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[S.kg("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),S.kg("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return{enabled:l(Ze.enabled,this.defaultValue.enabled),showDropSelector:O(Ze.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}),stickyScroll:rt(new class _e extends v{constructor(){const ke={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(115,"stickyScroll",ke,{"editor.stickyScroll.enabled":{type:"boolean",default:ke.enabled,description:S.kg("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:ke.maxLineCount,minimum:1,maximum:20,description:S.kg("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:ke.defaultModel,description:S.kg("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:ke.scrollWithEditor,description:S.kg("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return{enabled:l(Ze.enabled,this.defaultValue.enabled),maxLineCount:m.clampedInt(Ze.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:O(Ze.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:l(Ze.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}),experimentalWhitespaceRendering:rt(new N(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[S.kg("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),S.kg("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),S.kg("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:S.kg("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:rt(new k(39,"extraEditorClassName","")),fastScrollSensitivity:rt(new A(40,"fastScrollSensitivity",5,St=>St<=0?5:St,{markdownDescription:S.kg("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:rt(new class W extends v{constructor(){const ke={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",ke,{"editor.find.cursorMoveOnType":{type:"boolean",default:ke.cursorMoveOnType,description:S.kg("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:ke.seedSearchStringFromSelection,enumDescriptions:[S.kg("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),S.kg("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),S.kg("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:S.kg("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:ke.autoFindInSelection,enumDescriptions:[S.kg("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),S.kg("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),S.kg("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:S.kg("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:ke.globalFindClipboard,description:S.kg("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:w.zx},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:ke.addExtraSpaceOnTop,description:S.kg("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:ke.loop,description:S.kg("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return{cursorMoveOnType:l(Ze.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof ke.seedSearchStringFromSelection?ke.seedSearchStringFromSelection?"always":"never":O(Ze.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof ke.autoFindInSelection?ke.autoFindInSelection?"always":"never":O(Ze.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:l(Ze.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:l(Ze.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:l(Ze.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:rt(new g(42,"fixedOverflowWidgets",!1)),folding:rt(new g(43,"folding",!0,{description:S.kg("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:rt(new N(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[S.kg("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),S.kg("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:S.kg("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:rt(new g(45,"foldingHighlight",!0,{description:S.kg("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:rt(new g(46,"foldingImportsByDefault",!1,{description:S.kg("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:rt(new m(47,"foldingMaximumRegions",5e3,10,65e3,{description:S.kg("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:rt(new g(48,"unfoldOnClickAfterEndOfLine",!1,{description:S.kg("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:rt(new k(49,"fontFamily",Ft.fontFamily,{description:S.kg("fontFamily","Controls the font family.")})),fontInfo:rt(new class z extends d{constructor(){super(50)}compute(ke,Ze,Ye){return ke.fontInfo}}),fontLigatures2:rt(new Y),fontSize:rt(new class G extends r{constructor(){super(52,"fontSize",Ft.fontSize,{type:"number",minimum:6,maximum:100,default:Ft.fontSize,description:S.kg("fontSize","Controls the font size in pixels.")})}validate(ke){const Ze=A.float(ke,this.defaultValue);return 0===Ze?Ft.fontSize:A.clamp(Ze,6,100)}compute(ke,Ze,Ye){return ke.fontInfo.fontSize}}),fontWeight:rt(new Q),fontVariations:rt(new oe),formatOnPaste:rt(new g(55,"formatOnPaste",!1,{description:S.kg("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:rt(new g(56,"formatOnType",!1,{description:S.kg("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:rt(new g(57,"glyphMargin",!0,{description:S.kg("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:rt(new class K extends v{constructor(){const ke={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Ze={type:"string",enum:["peek","gotoAndPeek","goto"],default:ke.multiple,enumDescriptions:[S.kg("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),S.kg("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),S.kg("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},Ye=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",ke,{"editor.gotoLocation.multiple":{deprecationMessage:S.kg("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:S.kg("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...Ze},"editor.gotoLocation.multipleTypeDefinitions":{description:S.kg("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...Ze},"editor.gotoLocation.multipleDeclarations":{description:S.kg("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...Ze},"editor.gotoLocation.multipleImplementations":{description:S.kg("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...Ze},"editor.gotoLocation.multipleReferences":{description:S.kg("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist."),...Ze},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:ke.alternativeDefinitionCommand,enum:Ye,description:S.kg("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:ke.alternativeTypeDefinitionCommand,enum:Ye,description:S.kg("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:ke.alternativeDeclarationCommand,enum:Ye,description:S.kg("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:ke.alternativeImplementationCommand,enum:Ye,description:S.kg("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:ke.alternativeReferenceCommand,enum:Ye,description:S.kg("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(ke){var Ze,Ye,st,Ke,ft;if(!ke||"object"!=typeof ke)return this.defaultValue;const wt=ke;return{multiple:O(wt.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(Ze=wt.multipleDefinitions)&&void 0!==Ze?Ze:O(wt.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(Ye=wt.multipleTypeDefinitions)&&void 0!==Ye?Ye:O(wt.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(st=wt.multipleDeclarations)&&void 0!==st?st:O(wt.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(Ke=wt.multipleImplementations)&&void 0!==Ke?Ke:O(wt.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(ft=wt.multipleReferences)&&void 0!==ft?ft:O(wt.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:k.string(wt.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:k.string(wt.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:k.string(wt.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:k.string(wt.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:k.string(wt.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:rt(new g(59,"hideCursorInOverviewRuler",!1,{description:S.kg("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:rt(new class ie extends v{constructor(){const ke={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",ke,{"editor.hover.enabled":{type:"boolean",default:ke.enabled,description:S.kg("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:ke.delay,minimum:0,maximum:1e4,description:S.kg("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:ke.sticky,description:S.kg("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:ke.hidingDelay,description:S.kg("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:ke.above,description:S.kg("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return{enabled:l(Ze.enabled,this.defaultValue.enabled),delay:m.clampedInt(Ze.delay,this.defaultValue.delay,0,1e4),sticky:l(Ze.sticky,this.defaultValue.sticky),hidingDelay:m.clampedInt(Ze.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:l(Ze.above,this.defaultValue.above)}}}),inDiffEditor:rt(new g(61,"inDiffEditor",!1)),letterSpacing:rt(new A(64,"letterSpacing",Ft.letterSpacing,St=>A.clamp(St,-5,20),{description:S.kg("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:rt(new class ge extends v{constructor(){const ke={enabled:se.On};super(65,"lightbulb",ke,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[se.Off,se.OnCode,se.On],default:ke.enabled,enumDescriptions:[S.kg("editor.lightbulb.enabled.off","Disable the code action menu."),S.kg("editor.lightbulb.enabled.onCode","Show the code action menu when the cursor is on lines with code."),S.kg("editor.lightbulb.enabled.on","Show the code action menu when the cursor is on lines with code or on empty lines.")],description:S.kg("enabled","Enables the Code Action lightbulb in the editor.")}})}validate(ke){return ke&&"object"==typeof ke?{enabled:O(ke.enabled,this.defaultValue.enabled,[se.Off,se.OnCode,se.On])}:this.defaultValue}}),lineDecorationsWidth:rt(new class M extends v{constructor(){super(66,"lineDecorationsWidth",10)}validate(ke){return"string"==typeof ke&&/^\d+(\.\d+)?ch$/.test(ke)?-parseFloat(ke.substring(0,ke.length-2)):m.clampedInt(ke,this.defaultValue,0,1e3)}compute(ke,Ze,Ye){return Ye<0?m.clampedInt(-Ye*ke.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Ye}}),lineHeight:rt(new class ce extends A{constructor(){super(67,"lineHeight",Ft.lineHeight,ke=>A.clamp(ke,0,150),{markdownDescription:S.kg("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(ke,Ze,Ye){return ke.fontInfo.lineHeight}}),lineNumbers:rt(new class Ve extends v{constructor(){super(68,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[S.kg("lineNumbers.off","Line numbers are not rendered."),S.kg("lineNumbers.on","Line numbers are rendered as absolute number."),S.kg("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),S.kg("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:S.kg("lineNumbers","Controls the display of line numbers.")})}validate(ke){let Ze=this.defaultValue.renderType,Ye=this.defaultValue.renderFn;return typeof ke<"u"&&("function"==typeof ke?(Ze=4,Ye=ke):Ze="interval"===ke?3:"relative"===ke?2:"on"===ke?1:0),{renderType:Ze,renderFn:Ye}}}),lineNumbersMinChars:rt(new m(69,"lineNumbersMinChars",5,1,300)),linkedEditing:rt(new g(70,"linkedEditing",!1,{description:S.kg("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:rt(new g(71,"links",!0,{description:S.kg("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:rt(new N(72,"matchBrackets","always",["always","near","never"],{description:S.kg("matchBrackets","Highlight matching brackets.")})),minimap:rt(new class Se extends v{constructor(){const ke={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9,sectionHeaderLetterSpacing:1};super(73,"minimap",ke,{"editor.minimap.enabled":{type:"boolean",default:ke.enabled,description:S.kg("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:ke.autohide,description:S.kg("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[S.kg("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),S.kg("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),S.kg("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:ke.size,description:S.kg("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:ke.side,description:S.kg("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:ke.showSlider,description:S.kg("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:ke.scale,minimum:1,maximum:3,enum:[1,2,3],description:S.kg("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:ke.renderCharacters,description:S.kg("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:ke.maxColumn,description:S.kg("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:ke.showRegionSectionHeaders,description:S.kg("minimap.showRegionSectionHeaders","Controls whether named regions are shown as section headers in the minimap.")},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:ke.showMarkSectionHeaders,description:S.kg("minimap.showMarkSectionHeaders","Controls whether MARK: comments are shown as section headers in the minimap.")},"editor.minimap.sectionHeaderFontSize":{type:"number",default:ke.sectionHeaderFontSize,description:S.kg("minimap.sectionHeaderFontSize","Controls the font size of section headers in the minimap.")},"editor.minimap.sectionHeaderLetterSpacing":{type:"number",default:ke.sectionHeaderLetterSpacing,description:S.kg("minimap.sectionHeaderLetterSpacing","Controls the amount of space (in pixels) between characters of section header. This helps the readability of the header in small font sizes.")}})}validate(ke){var Ze,Ye;if(!ke||"object"!=typeof ke)return this.defaultValue;const st=ke;return{enabled:l(st.enabled,this.defaultValue.enabled),autohide:l(st.autohide,this.defaultValue.autohide),size:O(st.size,this.defaultValue.size,["proportional","fill","fit"]),side:O(st.side,this.defaultValue.side,["right","left"]),showSlider:O(st.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:l(st.renderCharacters,this.defaultValue.renderCharacters),scale:m.clampedInt(st.scale,1,1,3),maxColumn:m.clampedInt(st.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:l(st.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:l(st.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:A.clamp(null!==(Ze=st.sectionHeaderFontSize)&&void 0!==Ze?Ze:this.defaultValue.sectionHeaderFontSize,4,32),sectionHeaderLetterSpacing:A.clamp(null!==(Ye=st.sectionHeaderLetterSpacing)&&void 0!==Ye?Ye:this.defaultValue.sectionHeaderLetterSpacing,0,5)}}}),mouseStyle:rt(new N(74,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:rt(new A(75,"mouseWheelScrollSensitivity",1,St=>0===St?1:St,{markdownDescription:S.kg("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:rt(new g(76,"mouseWheelZoom",!1,{markdownDescription:w.zx?S.kg("mouseWheelZoom.mac","Zoom the font of the editor when using mouse wheel and holding `Cmd`."):S.kg("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:rt(new g(77,"multiCursorMergeOverlapping",!0,{description:S.kg("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:rt(new H(78,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function Ie(St){return"ctrlCmd"===St?w.zx?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[S.kg("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),S.kg("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:S.kg({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:rt(new N(79,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[S.kg("multiCursorPaste.spread","Each cursor pastes a single line of the text."),S.kg("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:S.kg("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:rt(new m(80,"multiCursorLimit",1e4,1,1e5,{markdownDescription:S.kg("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:rt(new N(81,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[S.kg("occurrencesHighlight.off","Does not highlight occurrences."),S.kg("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),S.kg("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:S.kg("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:rt(new g(82,"overviewRulerBorder",!0,{description:S.kg("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:rt(new m(83,"overviewRulerLanes",3,0,3)),padding:rt(new class ne extends v{constructor(){super(84,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:S.kg("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:S.kg("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return{top:m.clampedInt(Ze.top,0,0,1e3),bottom:m.clampedInt(Ze.bottom,0,0,1e3)}}}),pasteAs:rt(new class Qe extends v{constructor(){const ke={enabled:!0,showPasteSelector:"afterPaste"};super(85,"pasteAs",ke,{"editor.pasteAs.enabled":{type:"boolean",default:ke.enabled,markdownDescription:S.kg("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:S.kg("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[S.kg("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),S.kg("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return{enabled:l(Ze.enabled,this.defaultValue.enabled),showPasteSelector:O(Ze.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}),parameterHints:rt(new class ue extends v{constructor(){const ke={enabled:!0,cycle:!0};super(86,"parameterHints",ke,{"editor.parameterHints.enabled":{type:"boolean",default:ke.enabled,description:S.kg("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:ke.cycle,description:S.kg("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return{enabled:l(Ze.enabled,this.defaultValue.enabled),cycle:l(Ze.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:rt(new N(87,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[S.kg("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),S.kg("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:S.kg("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:rt(new g(88,"definitionLinkOpensInPeek",!1,{description:S.kg("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:rt(new class Me extends v{constructor(){const ke={other:"on",comments:"off",strings:"off"},Ze=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[S.kg("on","Quick suggestions show inside the suggest widget"),S.kg("inline","Quick suggestions show as ghost text"),S.kg("off","Quick suggestions are disabled")]}];super(89,"quickSuggestions",ke,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:Ze,default:ke.strings,description:S.kg("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:Ze,default:ke.comments,description:S.kg("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:Ze,default:ke.other,description:S.kg("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:ke,markdownDescription:S.kg("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=ke}validate(ke){if("boolean"==typeof ke){const Yt=ke?"on":"off";return{comments:Yt,strings:Yt,other:Yt}}if(!ke||"object"!=typeof ke)return this.defaultValue;const{other:Ze,comments:Ye,strings:st}=ke,Ke=["on","inline","off"];let ft,wt,qt;return ft="boolean"==typeof Ze?Ze?"on":"off":O(Ze,this.defaultValue.other,Ke),wt="boolean"==typeof Ye?Ye?"on":"off":O(Ye,this.defaultValue.comments,Ke),qt="boolean"==typeof st?st?"on":"off":O(st,this.defaultValue.strings,Ke),{other:ft,comments:wt,strings:qt}}}),quickSuggestionsDelay:rt(new m(90,"quickSuggestionsDelay",10,0,1073741824,{description:S.kg("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:rt(new g(91,"readOnly",!1)),readOnlyMessage:rt(new class He extends v{constructor(){super(92,"readOnlyMessage",void 0)}validate(ke){return ke&&"object"==typeof ke?ke:this.defaultValue}}),renameOnType:rt(new g(93,"renameOnType",!1,{description:S.kg("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:S.kg("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:rt(new g(94,"renderControlCharacters",!0,{description:S.kg("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:rt(new N(95,"renderFinalNewline",w.j9?"dimmed":"on",["off","on","dimmed"],{description:S.kg("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:rt(new N(96,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",S.kg("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:S.kg("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:rt(new g(97,"renderLineHighlightOnlyWhenFocus",!1,{description:S.kg("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:rt(new N(98,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:rt(new N(99,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",S.kg("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),S.kg("renderWhitespace.selection","Render whitespace characters only on selected text."),S.kg("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:S.kg("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:rt(new m(100,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:rt(new g(101,"roundedSelection",!0,{description:S.kg("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:rt(new class it extends v{constructor(){const ke=[],Ze={type:"number",description:S.kg("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(102,"rulers",ke,{type:"array",items:{anyOf:[Ze,{type:["object"],properties:{column:Ze,color:{type:"string",description:S.kg("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:ke,description:S.kg("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(ke){if(Array.isArray(ke)){const Ze=[];for(const Ye of ke)if("number"==typeof Ye)Ze.push({column:m.clampedInt(Ye,0,0,1e4),color:null});else if(Ye&&"object"==typeof Ye){const st=Ye;Ze.push({column:m.clampedInt(st.column,0,0,1e4),color:st.color})}return Ze.sort((Ye,st)=>Ye.column-st.column),Ze}return this.defaultValue}}),scrollbar:rt(new class le extends v{constructor(){const ke={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(103,"scrollbar",ke,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[S.kg("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),S.kg("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),S.kg("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:S.kg("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[S.kg("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),S.kg("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),S.kg("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:S.kg("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:ke.verticalScrollbarSize,description:S.kg("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:ke.horizontalScrollbarSize,description:S.kg("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:ke.scrollByPage,description:S.kg("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:ke.ignoreHorizontalScrollbarInContentHeight,description:S.kg("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke,Ye=m.clampedInt(Ze.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),st=m.clampedInt(Ze.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:m.clampedInt(Ze.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:me(Ze.vertical,this.defaultValue.vertical),horizontal:me(Ze.horizontal,this.defaultValue.horizontal),useShadows:l(Ze.useShadows,this.defaultValue.useShadows),verticalHasArrows:l(Ze.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:l(Ze.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:l(Ze.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:l(Ze.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ye,horizontalSliderSize:m.clampedInt(Ze.horizontalSliderSize,Ye,0,1e3),verticalScrollbarSize:st,verticalSliderSize:m.clampedInt(Ze.verticalSliderSize,st,0,1e3),scrollByPage:l(Ze.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:l(Ze.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}),scrollBeyondLastColumn:rt(new m(104,"scrollBeyondLastColumn",4,0,1073741824,{description:S.kg("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:rt(new g(105,"scrollBeyondLastLine",!0,{description:S.kg("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:rt(new g(106,"scrollPredominantAxis",!0,{description:S.kg("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:rt(new g(107,"selectionClipboard",!0,{description:S.kg("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:w.j9})),selectionHighlight:rt(new g(108,"selectionHighlight",!0,{description:S.kg("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:rt(new g(109,"selectOnLineNumbers",!0)),showFoldingControls:rt(new N(110,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[S.kg("showFoldingControls.always","Always show the folding controls."),S.kg("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),S.kg("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:S.kg("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:rt(new g(111,"showUnused",!0,{description:S.kg("showUnused","Controls fading out of unused code.")})),showDeprecated:rt(new g(140,"showDeprecated",!0,{description:S.kg("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:rt(new class ye extends v{constructor(){const ke={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(141,"inlayHints",ke,{"editor.inlayHints.enabled":{type:"string",default:ke.enabled,description:S.kg("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[S.kg("editor.inlayHints.on","Inlay hints are enabled"),S.kg("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",w.zx?"Ctrl+Option":"Ctrl+Alt"),S.kg("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",w.zx?"Ctrl+Option":"Ctrl+Alt"),S.kg("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:ke.fontSize,markdownDescription:S.kg("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:ke.fontFamily,markdownDescription:S.kg("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:ke.padding,description:S.kg("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return"boolean"==typeof Ze.enabled&&(Ze.enabled=Ze.enabled?"on":"off"),{enabled:O(Ze.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:m.clampedInt(Ze.fontSize,this.defaultValue.fontSize,0,100),fontFamily:k.string(Ze.fontFamily,this.defaultValue.fontFamily),padding:l(Ze.padding,this.defaultValue.padding)}}}),snippetSuggestions:rt(new N(112,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[S.kg("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),S.kg("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),S.kg("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),S.kg("snippetSuggestions.none","Do not show snippet suggestions.")],description:S.kg("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:rt(new class on extends v{constructor(){super(113,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:S.kg("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:S.kg("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(ke){return ke&&"object"==typeof ke?{selectLeadingAndTrailingWhitespace:l(ke.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:l(ke.selectSubwords,this.defaultValue.selectSubwords)}:this.defaultValue}}),smoothScrolling:rt(new g(114,"smoothScrolling",!1,{description:S.kg("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:rt(new m(117,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:rt(new class fn extends v{constructor(){const ke={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(118,"suggest",ke,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[S.kg("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),S.kg("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:ke.insertMode,description:S.kg("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:ke.filterGraceful,description:S.kg("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:ke.localityBonus,description:S.kg("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:ke.shareSuggestSelections,markdownDescription:S.kg("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[S.kg("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),S.kg("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),S.kg("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),S.kg("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:ke.selectionMode,markdownDescription:S.kg("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:ke.snippetsPreventQuickSuggestions,description:S.kg("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:ke.showIcons,description:S.kg("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:ke.showStatusBar,description:S.kg("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:ke.preview,description:S.kg("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:ke.showInlineDetails,description:S.kg("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:S.kg("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:S.kg("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:S.kg("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return{insertMode:O(Ze.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:l(Ze.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:l(Ze.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:l(Ze.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:l(Ze.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:O(Ze.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:l(Ze.showIcons,this.defaultValue.showIcons),showStatusBar:l(Ze.showStatusBar,this.defaultValue.showStatusBar),preview:l(Ze.preview,this.defaultValue.preview),previewMode:O(Ze.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:l(Ze.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:l(Ze.showMethods,this.defaultValue.showMethods),showFunctions:l(Ze.showFunctions,this.defaultValue.showFunctions),showConstructors:l(Ze.showConstructors,this.defaultValue.showConstructors),showDeprecated:l(Ze.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:l(Ze.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:l(Ze.showFields,this.defaultValue.showFields),showVariables:l(Ze.showVariables,this.defaultValue.showVariables),showClasses:l(Ze.showClasses,this.defaultValue.showClasses),showStructs:l(Ze.showStructs,this.defaultValue.showStructs),showInterfaces:l(Ze.showInterfaces,this.defaultValue.showInterfaces),showModules:l(Ze.showModules,this.defaultValue.showModules),showProperties:l(Ze.showProperties,this.defaultValue.showProperties),showEvents:l(Ze.showEvents,this.defaultValue.showEvents),showOperators:l(Ze.showOperators,this.defaultValue.showOperators),showUnits:l(Ze.showUnits,this.defaultValue.showUnits),showValues:l(Ze.showValues,this.defaultValue.showValues),showConstants:l(Ze.showConstants,this.defaultValue.showConstants),showEnums:l(Ze.showEnums,this.defaultValue.showEnums),showEnumMembers:l(Ze.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:l(Ze.showKeywords,this.defaultValue.showKeywords),showWords:l(Ze.showWords,this.defaultValue.showWords),showColors:l(Ze.showColors,this.defaultValue.showColors),showFiles:l(Ze.showFiles,this.defaultValue.showFiles),showReferences:l(Ze.showReferences,this.defaultValue.showReferences),showFolders:l(Ze.showFolders,this.defaultValue.showFolders),showTypeParameters:l(Ze.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:l(Ze.showSnippets,this.defaultValue.showSnippets),showUsers:l(Ze.showUsers,this.defaultValue.showUsers),showIssues:l(Ze.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:rt(new class Ne extends v{constructor(){const ke={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",ke,{"editor.inlineSuggest.enabled":{type:"boolean",default:ke.enabled,description:S.kg("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:ke.showToolbar,enum:["always","onHover","never"],enumDescriptions:[S.kg("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),S.kg("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),S.kg("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:S.kg("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:ke.suppressSuggestions,description:S.kg("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:ke.fontFamily,description:S.kg("inlineSuggest.fontFamily","Controls the font family of the inline suggestions.")}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return{enabled:l(Ze.enabled,this.defaultValue.enabled),mode:O(Ze.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:O(Ze.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:l(Ze.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:l(Ze.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:k.string(Ze.fontFamily,this.defaultValue.fontFamily)}}}),inlineEdit:rt(new class Fe extends v{constructor(){const ke={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1,backgroundColoring:!1};super(63,"experimentalInlineEdit",ke,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:ke.enabled,description:S.kg("inlineEdit.enabled","Controls whether to show inline edits in the editor.")},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:ke.showToolbar,enum:["always","onHover","never"],enumDescriptions:[S.kg("inlineEdit.showToolbar.always","Show the inline edit toolbar whenever an inline suggestion is shown."),S.kg("inlineEdit.showToolbar.onHover","Show the inline edit toolbar when hovering over an inline suggestion."),S.kg("inlineEdit.showToolbar.never","Never show the inline edit toolbar.")],description:S.kg("inlineEdit.showToolbar","Controls when to show the inline edit toolbar.")},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:ke.fontFamily,description:S.kg("inlineEdit.fontFamily","Controls the font family of the inline edit.")},"editor.experimentalInlineEdit.backgroundColoring":{type:"boolean",default:ke.backgroundColoring,description:S.kg("inlineEdit.backgroundColoring","Controls whether to color the background of inline edits.")}})}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return{enabled:l(Ze.enabled,this.defaultValue.enabled),showToolbar:O(Ze.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:k.string(Ze.fontFamily,this.defaultValue.fontFamily),keepOnBlur:l(Ze.keepOnBlur,this.defaultValue.keepOnBlur),backgroundColoring:l(Ze.backgroundColoring,this.defaultValue.backgroundColoring)}}}),inlineCompletionsAccessibilityVerbose:rt(new g(149,"inlineCompletionsAccessibilityVerbose",!1,{description:S.kg("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:rt(new m(119,"suggestFontSize",0,0,1e3,{markdownDescription:S.kg("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:rt(new m(120,"suggestLineHeight",0,0,1e3,{markdownDescription:S.kg("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:rt(new g(121,"suggestOnTriggerCharacters",!0,{description:S.kg("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:rt(new N(122,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[S.kg("suggestSelection.first","Always select the first suggestion."),S.kg("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),S.kg("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:S.kg("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:rt(new N(123,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[S.kg("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),S.kg("tabCompletion.off","Disable tab completions."),S.kg("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:S.kg("tabCompletion","Enables tab completions.")})),tabIndex:rt(new m(124,"tabIndex",0,-1,1073741824)),unicodeHighlight:rt(new class Ce extends v{constructor(){const ke={nonBasicASCII:Ee,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Ee,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(125,"unicodeHighlight",ke,{[be.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ee],default:ke.nonBasicASCII,description:S.kg("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[be.invisibleCharacters]:{restricted:!0,type:"boolean",default:ke.invisibleCharacters,description:S.kg("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[be.ambiguousCharacters]:{restricted:!0,type:"boolean",default:ke.ambiguousCharacters,description:S.kg("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[be.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ee],default:ke.includeComments,description:S.kg("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[be.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ee],default:ke.includeStrings,description:S.kg("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[be.allowedCharacters]:{restricted:!0,type:"object",default:ke.allowedCharacters,description:S.kg("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[be.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:ke.allowedLocales,description:S.kg("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(ke,Ze){let Ye=!1;Ze.allowedCharacters&&ke&&(F.aI(ke.allowedCharacters,Ze.allowedCharacters)||(ke={...ke,allowedCharacters:Ze.allowedCharacters},Ye=!0)),Ze.allowedLocales&&ke&&(F.aI(ke.allowedLocales,Ze.allowedLocales)||(ke={...ke,allowedLocales:Ze.allowedLocales},Ye=!0));const st=super.applyUpdate(ke,Ze);return Ye?new _(st.newValue,!0):st}validate(ke){if(!ke||"object"!=typeof ke)return this.defaultValue;const Ze=ke;return{nonBasicASCII:vt(Ze.nonBasicASCII,Ee,[!0,!1,Ee]),invisibleCharacters:l(Ze.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:l(Ze.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:vt(Ze.includeComments,Ee,[!0,!1,Ee]),includeStrings:vt(Ze.includeStrings,Ee,[!0,!1,Ee]),allowedCharacters:this.validateBooleanMap(ke.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(ke.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(ke,Ze){if("object"!=typeof ke||!ke)return Ze;const Ye={};for(const[st,Ke]of Object.entries(ke))!0===Ke&&(Ye[st]=!0);return Ye}}),unusualLineTerminators:rt(new N(126,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[S.kg("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),S.kg("unusualLineTerminators.off","Unusual line terminators are ignored."),S.kg("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:S.kg("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:rt(new g(127,"useShadowDOM",!0)),useTabStops:rt(new g(128,"useTabStops",!0,{description:S.kg("useTabStops","Spaces and tabs are inserted and deleted in alignment with tab stops.")})),wordBreak:rt(new N(129,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[S.kg("wordBreak.normal","Use the default line break rule."),S.kg("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:S.kg("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSegmenterLocales:rt(new class ht extends v{constructor(){super(130,"wordSegmenterLocales",[],{anyOf:[{description:S.kg("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"string"},{description:S.kg("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"array",items:{type:"string"}}]})}validate(ke){if("string"==typeof ke&&(ke=[ke]),Array.isArray(ke)){const Ze=[];for(const Ye of ke)if("string"==typeof Ye)try{Intl.Segmenter.supportedLocalesOf(Ye).length>0&&Ze.push(Ye)}catch{}return Ze}return this.defaultValue}}),wordSeparators:rt(new k(131,"wordSeparators",C.J3,{description:S.kg("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:rt(new N(132,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[S.kg("wordWrap.off","Lines will never wrap."),S.kg("wordWrap.on","Lines will wrap at the viewport width."),S.kg({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),S.kg({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:S.kg({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:rt(new k(133,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xa2\xb0\u2032\u2033\u2030\u2103\u3001\u3002\uff61\uff64\uffe0\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff05\u30fb\uff65\u309d\u309e\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff70\u201d\u3009\u300b\u300d\u300f\u3011\u3015\uff09\uff3d\uff5d\uff63")),wordWrapBreakBeforeCharacters:rt(new k(134,"wordWrapBreakBeforeCharacters","([{\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\xa3\xa5\uff04\uffe1\uffe5+\uff0b")),wordWrapColumn:rt(new m(135,"wordWrapColumn",80,1,1073741824,{markdownDescription:S.kg({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:rt(new N(136,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:rt(new N(137,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:rt(new class q extends d{constructor(){super(142)}compute(ke,Ze,Ye){const st=["monaco-editor"];return Ze.get(39)&&st.push(Ze.get(39)),ke.extraEditorClassName&&st.push(ke.extraEditorClassName),"default"===Ze.get(74)?st.push("mouse-default"):"copy"===Ze.get(74)&&st.push("mouse-copy"),Ze.get(111)&&st.push("showUnused"),Ze.get(140)&&st.push("showDeprecated"),st.join(" ")}}),defaultColorDecorators:rt(new g(147,"defaultColorDecorators",!1,{markdownDescription:S.kg("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:rt(new class we extends d{constructor(){super(143)}compute(ke,Ze,Ye){return ke.pixelRatio}}),tabFocusMode:rt(new g(144,"tabFocusMode",!1,{markdownDescription:S.kg("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:rt(new ae),wrappingInfo:rt(new class ot extends d{constructor(){super(146)}compute(ke,Ze,Ye){const st=Ze.get(145);return{isDominatedByLongLines:ke.isDominatedByLongLines,isWordWrapMinified:st.isWordWrapMinified,isViewportWrapping:st.isViewportWrapping,wrappingColumn:st.wrappingColumn}}}),wrappingIndent:rt(new class Je extends v{constructor(){super(138,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[S.kg("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),S.kg("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),S.kg("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),S.kg("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:S.kg("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(ke){switch(ke){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(ke,Ze,Ye){return 2===Ze.get(2)?0:Ye}}),wrappingStrategy:rt(new class de extends v{constructor(){super(139,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[S.kg("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),S.kg("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:S.kg("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(ke){return O(ke,"simple",["simple","advanced"])}compute(ke,Ze,Ye){return 2===Ze.get(2)?"advanced":Ye}})}},78854:(tt,xe,t)=>{t.d(xe,{D:()=>F});var a=t(5643);const F=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new a.vl,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(w){w=Math.min(Math.max(-5,w),20),this._zoomLevel!==w&&(this._zoomLevel=w,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},13317:(tt,xe,t)=>{t.d(xe,{YJ:()=>P,_8:()=>S});var a=t(21828),F=t(99207),w=t(78854);const x=a.zx?1.5:1.35;class S{static createFromValidatedSettings(v,_,f){const d=v.get(49),r=v.get(53),l=v.get(52),g=v.get(51),p=v.get(54),m=v.get(67),T=v.get(64);return S._create(d,r,l,g,p,m,T,_,f)}static _create(v,_,f,d,r,l,g,p,m){0===l?l=x*f:l<8&&(l*=f),(l=Math.round(l))<8&&(l=8);const T=1+(m?0:.1*w.D.getZoomLevel());return f*=T,l*=T,r===F.r_.TRANSLATE&&("normal"===_||"bold"===_?r=F.r_.OFF:(r=`'wght' ${parseInt(_,10)}`,_="normal")),new S({pixelRatio:p,fontFamily:v,fontWeight:_,fontSize:f,fontFeatureSettings:d,fontVariationSettings:r,lineHeight:l,letterSpacing:g})}constructor(v){this._bareFontInfoBrand=void 0,this.pixelRatio=v.pixelRatio,this.fontFamily=String(v.fontFamily),this.fontWeight=String(v.fontWeight),this.fontSize=v.fontSize,this.fontFeatureSettings=v.fontFeatureSettings,this.fontVariationSettings=v.fontVariationSettings,this.lineHeight=0|v.lineHeight,this.letterSpacing=v.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const v=F.jU.fontFamily,_=S._wrapInQuotes(this.fontFamily);return v&&this.fontFamily!==v?`${_}, ${v}`:_}static _wrapInQuotes(v){return/[,"']/.test(v)?v:/[+ ]/.test(v)?`"${v}"`:v}}class P extends S{constructor(v,_){super(v),this._editorStylingBrand=void 0,this.version=2,this.isTrusted=_,this.isMonospace=v.isMonospace,this.typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=v.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=v.canUseHalfwidthRightwardsArrow,this.spaceWidth=v.spaceWidth,this.middotWidth=v.middotWidth,this.wsmiddotWidth=v.wsmiddotWidth,this.maxDigitWidth=v.maxDigitWidth}equals(v){return this.fontFamily===v.fontFamily&&this.fontWeight===v.fontWeight&&this.fontSize===v.fontSize&&this.fontFeatureSettings===v.fontFeatureSettings&&this.fontVariationSettings===v.fontVariationSettings&&this.lineHeight===v.lineHeight&&this.letterSpacing===v.letterSpacing&&this.typicalHalfwidthCharacterWidth===v.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===v.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===v.canUseHalfwidthRightwardsArrow&&this.spaceWidth===v.spaceWidth&&this.middotWidth===v.middotWidth&&this.wsmiddotWidth===v.wsmiddotWidth&&this.maxDigitWidth===v.maxDigitWidth}}},72493:(tt,xe,t)=>{t.d(xe,{V:()=>F,y:()=>w});var a=t(94371);class F{constructor(C){const S=(0,a.W)(C);this._defaultValue=S,this._asciiMap=F._createAsciiMap(S),this._map=new Map}static _createAsciiMap(C){const S=new Uint8Array(256);return S.fill(C),S}set(C,S){const b=(0,a.W)(S);C>=0&&C<256?this._asciiMap[C]=b:this._map.set(C,b)}get(C){return C>=0&&C<256?this._asciiMap[C]:this._map.get(C)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class w{constructor(){this._actual=new F(0)}add(C){this._actual.set(C,1)}has(C){return 1===this._actual.get(C)}clear(){return this._actual.clear()}}},52282:(tt,xe,t)=>{t.d(xe,{A:()=>F});var a=t(6653);class F{static _nextVisibleColumn(x,C,S){return 9===x?F.nextRenderTabStop(C,S):a.ne(x)||a.Ss(x)?C+2:C+1}static visibleColumnFromColumn(x,C,S){const b=Math.min(C-1,x.length),P=x.substring(0,b),D=new a.km(P);let v=0;for(;!D.eol();){const _=a.Z5(P,b,D.offset);D.nextGraphemeLength(),v=this._nextVisibleColumn(_,v,S)}return v}static columnFromVisibleColumn(x,C,S){if(C<=0)return 1;const b=x.length,P=new a.km(x);let D=0,v=1;for(;!P.eol();){const _=a.Z5(x,b,P.offset);P.nextGraphemeLength();const f=this._nextVisibleColumn(_,D,S),d=P.offset+1;if(f>=C)return f-C<C-D?d:v;D=f,v=d}return b+1}static nextRenderTabStop(x,C){return x+C-x%C}static nextIndentTabStop(x,C){return x+C-x%C}static prevRenderTabStop(x,C){return Math.max(0,x-1-(x-1)%C)}static prevIndentTabStop(x,C){return Math.max(0,x-1-(x-1)%C)}}},5214:(tt,xe,t)=>{t.d(xe,{k:()=>F});var a=t(73678);class F{static insert(x,C){return{range:new a.Q(x.lineNumber,x.column,x.lineNumber,x.column),text:C,forceMoveMarkers:!0}}static delete(x){return{range:x,text:null}}static replace(x,C){return{range:x,text:C}}static replaceMove(x,C){return{range:x,text:C,forceMoveMarkers:!0}}}},30976:(tt,xe,t)=>{t.d(xe,{A3:()=>U,AQ:()=>ue,Am:()=>te,As:()=>R,BD:()=>Ne,Bo:()=>be,CM:()=>j,D0:()=>_,H0:()=>Z,I2:()=>Ee,IW:()=>Fe,If:()=>Ce,JB:()=>oe,L0:()=>g,Mf:()=>S,P1:()=>on,Pe:()=>vt,Qt:()=>m,WD:()=>fn,WS:()=>dt,WY:()=>ht,Xr:()=>ae,aZ:()=>ne,bB:()=>qe,hz:()=>N,je:()=>r,kG:()=>C,kM:()=>f,l5:()=>$e,lQ:()=>Me,n4:()=>le,ob:()=>O,ow:()=>H,s7:()=>me,sC:()=>d,sH:()=>it,sN:()=>we,ss:()=>Ve,tK:()=>X,tp:()=>q,vP:()=>L,vV:()=>k,vp:()=>Se,w4:()=>p,we:()=>l,x9:()=>ie,yI:()=>Ie,yw:()=>ge,zp:()=>He});var a=t(81644),F=t(84072),w=t(85478),x=t(48187);const C=(0,w.x1A)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.kg("lineHighlight","Background color for the highlight of line at the cursor position.")),S=(0,w.x1A)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:w.b1q},a.kg("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),_=((0,w.x1A)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},a.kg("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),(0,w.x1A)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:w.buw,hcLight:w.buw},a.kg("rangeHighlightBorder","Background color of the border around highlighted ranges.")),(0,w.x1A)("editor.symbolHighlightBackground",{dark:w.Ubg,light:w.Ubg,hcDark:null,hcLight:null},a.kg("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),(0,w.x1A)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:w.buw,hcLight:w.buw},a.kg("symbolHighlightBorder","Background color of the border around highlighted symbols.")),(0,w.x1A)("editorCursor.foreground",{dark:"#AEAFAD",light:F.Q1.black,hcDark:F.Q1.white,hcLight:"#0F4A85"},a.kg("caret","Color of the editor cursor."))),f=(0,w.x1A)("editorCursor.background",null,a.kg("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),d=(0,w.x1A)("editorMultiCursor.primary.foreground",{dark:_,light:_,hcDark:_,hcLight:_},a.kg("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present.")),r=(0,w.x1A)("editorMultiCursor.primary.background",{dark:f,light:f,hcDark:f,hcLight:f},a.kg("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),l=(0,w.x1A)("editorMultiCursor.secondary.foreground",{dark:_,light:_,hcDark:_,hcLight:_},a.kg("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present.")),g=(0,w.x1A)("editorMultiCursor.secondary.background",{dark:f,light:f,hcDark:f,hcLight:f},a.kg("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),p=(0,w.x1A)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},a.kg("editorWhitespaces","Color of whitespace characters in the editor.")),m=(0,w.x1A)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:F.Q1.white,hcLight:"#292929"},a.kg("editorLineNumbers","Color of editor line numbers.")),T=(0,w.x1A)("editorIndentGuide.background",{dark:p,light:p,hcDark:p,hcLight:p},a.kg("editorIndentGuides","Color of the editor indentation guides."),!1,a.kg("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),A=(0,w.x1A)("editorIndentGuide.activeBackground",{dark:p,light:p,hcDark:p,hcLight:p},a.kg("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,a.kg("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),k=(0,w.x1A)("editorIndentGuide.background1",{dark:T,light:T,hcDark:T,hcLight:T},a.kg("editorIndentGuides1","Color of the editor indentation guides (1).")),O=(0,w.x1A)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorIndentGuides2","Color of the editor indentation guides (2).")),N=(0,w.x1A)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorIndentGuides3","Color of the editor indentation guides (3).")),H=(0,w.x1A)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorIndentGuides4","Color of the editor indentation guides (4).")),L=(0,w.x1A)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorIndentGuides5","Color of the editor indentation guides (5).")),j=(0,w.x1A)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorIndentGuides6","Color of the editor indentation guides (6).")),Z=(0,w.x1A)("editorIndentGuide.activeBackground1",{dark:A,light:A,hcDark:A,hcLight:A},a.kg("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),te=(0,w.x1A)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),X=(0,w.x1A)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),U=(0,w.x1A)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),q=(0,w.x1A)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),R=(0,w.x1A)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),W=(0,w.x1A)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:w.buw,hcLight:w.buw},a.kg("editorActiveLineNumber","Color of editor active line number"),!1,a.kg("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),oe=((0,w.x1A)("editorLineNumber.activeForeground",{dark:W,light:W,hcDark:W,hcLight:W},a.kg("editorActiveLineNumber","Color of editor active line number")),(0,w.x1A)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.kg("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed."))),ie=((0,w.x1A)("editorRuler.foreground",{dark:"#5A5A5A",light:F.Q1.lightgrey,hcDark:F.Q1.white,hcLight:"#292929"},a.kg("editorRuler","Color of the editor rulers.")),(0,w.x1A)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},a.kg("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,w.x1A)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},a.kg("editorBracketMatchBackground","Background color behind matching brackets")),(0,w.x1A)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:w.b1q,hcLight:w.b1q},a.kg("editorBracketMatchBorder","Color for matching brackets boxes")),(0,w.x1A)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},a.kg("editorOverviewRulerBorder","Color of the overview ruler border."))),ae=(0,w.x1A)("editorOverviewRuler.background",null,a.kg("editorOverviewRulerBackground","Background color of the editor overview ruler.")),ge=((0,w.x1A)("editorGutter.background",{dark:w.YtV,light:w.YtV,hcDark:w.YtV,hcLight:w.YtV},a.kg("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),(0,w.x1A)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:F.Q1.fromHex("#fff").transparent(.8),hcLight:w.b1q},a.kg("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),(0,w.x1A)("editorUnnecessaryCode.opacity",{dark:F.Q1.fromHex("#000a"),light:F.Q1.fromHex("#0007"),hcDark:null,hcLight:null},a.kg("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out."))),ce=((0,w.x1A)("editorGhostText.border",{dark:null,light:null,hcDark:F.Q1.fromHex("#fff").transparent(.8),hcLight:F.Q1.fromHex("#292929").transparent(.8)},a.kg("editorGhostTextBorder","Border color of ghost text in the editor.")),(0,w.x1A)("editorGhostText.foreground",{dark:F.Q1.fromHex("#ffffff56"),light:F.Q1.fromHex("#0007"),hcDark:null,hcLight:null},a.kg("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),(0,w.x1A)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},a.kg("editorGhostTextBackground","Background color of the ghost text in the editor.")),new F.Q1(new F.bU(0,122,204,.6))),Se=(0,w.x1A)("editorOverviewRuler.rangeHighlightForeground",{dark:ce,light:ce,hcDark:ce,hcLight:ce},a.kg("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Ie=(0,w.x1A)("editorOverviewRuler.errorForeground",{dark:new F.Q1(new F.bU(255,18,18,.7)),light:new F.Q1(new F.bU(255,18,18,.7)),hcDark:new F.Q1(new F.bU(255,50,50,1)),hcLight:"#B5200D"},a.kg("overviewRuleError","Overview ruler marker color for errors.")),ne=(0,w.x1A)("editorOverviewRuler.warningForeground",{dark:w.Hng,light:w.Hng,hcDark:w.Stt,hcLight:w.Stt},a.kg("overviewRuleWarning","Overview ruler marker color for warnings.")),ue=(0,w.x1A)("editorOverviewRuler.infoForeground",{dark:w.pOz,light:w.pOz,hcDark:w.IIb,hcLight:w.IIb},a.kg("overviewRuleInfo","Overview ruler marker color for infos.")),we=(0,w.x1A)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},a.kg("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),Me=(0,w.x1A)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},a.kg("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Ve=(0,w.x1A)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},a.kg("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),$e=(0,w.x1A)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),it=(0,w.x1A)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),He=(0,w.x1A)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),me=(0,w.x1A)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new F.Q1(new F.bU(255,18,18,.8)),light:new F.Q1(new F.bU(255,18,18,.8)),hcDark:new F.Q1(new F.bU(255,50,50,1)),hcLight:""},a.kg("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),le=(0,w.x1A)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Ee=(0,w.x1A)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),be=(0,w.x1A)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Ce=(0,w.x1A)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Ne=(0,w.x1A)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Fe=(0,w.x1A)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),qe=(0,w.x1A)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),dt=(0,w.x1A)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),vt=(0,w.x1A)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),fn=(0,w.x1A)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),on=(0,w.x1A)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),ht=(0,w.x1A)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},a.kg("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,w.x1A)("editorUnicodeHighlight.border",{dark:w.Hng,light:w.Hng,hcDark:w.Hng,hcLight:w.Hng},a.kg("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,w.x1A)("editorUnicodeHighlight.background",{dark:w.whs,light:w.whs,hcDark:w.whs,hcLight:w.whs},a.kg("editorUnicodeHighlight.background","Background color used to highlight unicode characters.")),(0,x.zy)((De,Qe)=>{const mt=De.getColor(w.YtV),kt=De.getColor(C),Ht=kt&&!kt.isTransparent()?kt:mt;Ht&&Qe.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Ht}; }`)})},85583:(tt,xe,t)=>{function a(F){let w=0,x=0,C=0,S=0;for(let b=0,P=F.length;b<P;b++){const D=F.charCodeAt(b);13===D?(0===w&&(x=b),w++,b+1<P&&10===F.charCodeAt(b+1)?(S|=2,b++):S|=3,C=b+1):10===D&&(S|=1,0===w&&(x=b),w++,C=b+1)}return 0===w&&(x=F.length),[w,x,F.length-C,S]}t.d(xe,{W:()=>a})},7988:(tt,xe,t)=>{t.d(xe,{P:()=>x});var a=t(6653),F=t(52282);function x(C,S,b){let P=a.HG(C);return-1===P&&(P=C.length),function w(C,S,b){let P=0;for(let v=0;v<C.length;v++)"\t"===C.charAt(v)?P=F.A.nextIndentTabStop(P,S):P++;let D="";if(!b){const v=Math.floor(P/S);P%=S;for(let _=0;_<v;_++)D+="\t"}for(let v=0;v<P;v++)D+=" ";return D}(C.substring(0,P),S,b)+C.substring(P)}},84132:(tt,xe,t)=>{t.d(xe,{M:()=>C,S:()=>S});var a=t(25680),F=t(21639),w=t(73678),x=t(92210);class C{static fromRangeInclusive(P){return new C(P.startLineNumber,P.endLineNumber+1)}static joinMany(P){if(0===P.length)return[];let D=new S(P[0].slice());for(let v=1;v<P.length;v++)D=D.getUnion(new S(P[v].slice()));return D.ranges}static join(P){if(0===P.length)throw new a.D7("lineRanges cannot be empty");let D=P[0].startLineNumber,v=P[0].endLineNumberExclusive;for(let _=1;_<P.length;_++)D=Math.min(D,P[_].startLineNumber),v=Math.max(v,P[_].endLineNumberExclusive);return new C(D,v)}static ofLength(P,D){return new C(P,P+D)}static deserialize(P){return new C(P[0],P[1])}constructor(P,D){if(P>D)throw new a.D7(`startLineNumber ${P} cannot be after endLineNumberExclusive ${D}`);this.startLineNumber=P,this.endLineNumberExclusive=D}contains(P){return this.startLineNumber<=P&&P<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(P){return new C(this.startLineNumber+P,this.endLineNumberExclusive+P)}deltaLength(P){return new C(this.startLineNumber,this.endLineNumberExclusive+P)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(P){return new C(Math.min(this.startLineNumber,P.startLineNumber),Math.max(this.endLineNumberExclusive,P.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(P){const D=Math.max(this.startLineNumber,P.startLineNumber),v=Math.min(this.endLineNumberExclusive,P.endLineNumberExclusive);if(D<=v)return new C(D,v)}intersectsStrict(P){return this.startLineNumber<P.endLineNumberExclusive&&P.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(P){return this.startLineNumber<=P.endLineNumberExclusive&&P.startLineNumber<=this.endLineNumberExclusive}equals(P){return this.startLineNumber===P.startLineNumber&&this.endLineNumberExclusive===P.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new w.Q(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new w.Q(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(P){const D=[];for(let v=this.startLineNumber;v<this.endLineNumberExclusive;v++)D.push(P(v));return D}forEach(P){for(let D=this.startLineNumber;D<this.endLineNumberExclusive;D++)P(D)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(P){return this.startLineNumber<=P&&P<this.endLineNumberExclusive}toOffsetRange(){return new F.L(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class S{constructor(P=[]){this._normalizedRanges=P}get ranges(){return this._normalizedRanges}addRange(P){if(0===P.length)return;const D=(0,x.hw)(this._normalizedRanges,_=>_.endLineNumberExclusive>=P.startLineNumber),v=(0,x.iM)(this._normalizedRanges,_=>_.startLineNumber<=P.endLineNumberExclusive)+1;if(D===v)this._normalizedRanges.splice(D,0,P);else if(D===v-1)this._normalizedRanges[D]=this._normalizedRanges[D].join(P);else{const _=this._normalizedRanges[D].join(this._normalizedRanges[v-1]).join(P);this._normalizedRanges.splice(D,v-D,_)}}contains(P){const D=(0,x.lx)(this._normalizedRanges,v=>v.startLineNumber<=P);return!!D&&D.endLineNumberExclusive>P}intersects(P){const D=(0,x.lx)(this._normalizedRanges,v=>v.startLineNumber<P.endLineNumberExclusive);return!!D&&D.endLineNumberExclusive>P.startLineNumber}getUnion(P){if(0===this._normalizedRanges.length)return P;if(0===P._normalizedRanges.length)return this;const D=[];let v=0,_=0,f=null;for(;v<this._normalizedRanges.length||_<P._normalizedRanges.length;){let d=null;if(v<this._normalizedRanges.length&&_<P._normalizedRanges.length){const r=this._normalizedRanges[v],l=P._normalizedRanges[_];r.startLineNumber<l.startLineNumber?(d=r,v++):(d=l,_++)}else v<this._normalizedRanges.length?(d=this._normalizedRanges[v],v++):(d=P._normalizedRanges[_],_++);null===f?f=d:f.endLineNumberExclusive>=d.startLineNumber?f=new C(f.startLineNumber,Math.max(f.endLineNumberExclusive,d.endLineNumberExclusive)):(D.push(f),f=d)}return null!==f&&D.push(f),new S(D)}subtractFrom(P){const D=(0,x.hw)(this._normalizedRanges,d=>d.endLineNumberExclusive>=P.startLineNumber),v=(0,x.iM)(this._normalizedRanges,d=>d.startLineNumber<=P.endLineNumberExclusive)+1;if(D===v)return new S([P]);const _=[];let f=P.startLineNumber;for(let d=D;d<v;d++){const r=this._normalizedRanges[d];r.startLineNumber>f&&_.push(new C(f,r.startLineNumber)),f=r.endLineNumberExclusive}return f<P.endLineNumberExclusive&&_.push(new C(f,P.endLineNumberExclusive)),new S(_)}toString(){return this._normalizedRanges.map(P=>P.toString()).join(", ")}getIntersection(P){const D=[];let v=0,_=0;for(;v<this._normalizedRanges.length&&_<P._normalizedRanges.length;){const f=this._normalizedRanges[v],d=P._normalizedRanges[_],r=f.intersect(d);r&&!r.isEmpty&&D.push(r),f.endLineNumberExclusive<d.endLineNumberExclusive?v++:_++}return new S(D)}getWithDelta(P){return new S(this._normalizedRanges.map(D=>D.delta(P)))}}},21639:(tt,xe,t)=>{t.d(xe,{L:()=>F,h:()=>w});var a=t(25680);class F{static addRange(C,S){let b=0;for(;b<S.length&&S[b].endExclusive<C.start;)b++;let P=b;for(;P<S.length&&S[P].start<=C.endExclusive;)P++;if(b===P)S.splice(b,0,C);else{const D=Math.min(C.start,S[b].start),v=Math.max(C.endExclusive,S[P-1].endExclusive);S.splice(b,P-b,new F(D,v))}}static tryCreate(C,S){if(!(C>S))return new F(C,S)}static ofLength(C){return new F(0,C)}static ofStartAndLength(C,S){return new F(C,C+S)}constructor(C,S){if(this.start=C,this.endExclusive=S,C>S)throw new a.D7(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(C){return new F(this.start+C,this.endExclusive+C)}deltaStart(C){return new F(this.start+C,this.endExclusive)}deltaEnd(C){return new F(this.start,this.endExclusive+C)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(C){return this.start<=C&&C<this.endExclusive}join(C){return new F(Math.min(this.start,C.start),Math.max(this.endExclusive,C.endExclusive))}intersect(C){const S=Math.max(this.start,C.start),b=Math.min(this.endExclusive,C.endExclusive);if(S<=b)return new F(S,b)}intersects(C){return Math.max(this.start,C.start)<Math.min(this.endExclusive,C.endExclusive)}isBefore(C){return this.endExclusive<=C.start}isAfter(C){return this.start>=C.endExclusive}slice(C){return C.slice(this.start,this.endExclusive)}substring(C){return C.substring(this.start,this.endExclusive)}clip(C){if(this.isEmpty)throw new a.D7(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,C))}clipCyclic(C){if(this.isEmpty)throw new a.D7(`Invalid clipping range: ${this.toString()}`);return C<this.start?this.endExclusive-(this.start-C)%this.length:C>=this.endExclusive?this.start+(C-this.start)%this.length:C}forEach(C){for(let S=this.start;S<this.endExclusive;S++)C(S)}}class w{constructor(){this._sortedRanges=[]}addRange(C){let S=0;for(;S<this._sortedRanges.length&&this._sortedRanges[S].endExclusive<C.start;)S++;let b=S;for(;b<this._sortedRanges.length&&this._sortedRanges[b].start<=C.endExclusive;)b++;if(S===b)this._sortedRanges.splice(S,0,C);else{const P=Math.min(C.start,this._sortedRanges[S].start),D=Math.max(C.endExclusive,this._sortedRanges[b-1].endExclusive);this._sortedRanges.splice(S,b-S,new F(P,D))}}toString(){return this._sortedRanges.map(C=>C.toString()).join(", ")}intersectsStrict(C){let S=0;for(;S<this._sortedRanges.length&&this._sortedRanges[S].endExclusive<=C.start;)S++;return S<this._sortedRanges.length&&this._sortedRanges[S].start<C.endExclusive}intersectWithRange(C){const S=new w;for(const b of this._sortedRanges){const P=b.intersect(C);P&&S.addRange(P)}return S}intersectWithRangeLength(C){return this.intersectWithRange(C).length}get length(){return this._sortedRanges.reduce((C,S)=>C+S.length,0)}}},13632:(tt,xe,t)=>{t.d(xe,{y:()=>a});class a{constructor(w,x){this.lineNumber=w,this.column=x}with(w=this.lineNumber,x=this.column){return w===this.lineNumber&&x===this.column?this:new a(w,x)}delta(w=0,x=0){return this.with(this.lineNumber+w,this.column+x)}equals(w){return a.equals(this,w)}static equals(w,x){return!w&&!x||!!w&&!!x&&w.lineNumber===x.lineNumber&&w.column===x.column}isBefore(w){return a.isBefore(this,w)}static isBefore(w,x){return w.lineNumber<x.lineNumber||!(x.lineNumber<w.lineNumber)&&w.column<x.column}isBeforeOrEqual(w){return a.isBeforeOrEqual(this,w)}static isBeforeOrEqual(w,x){return w.lineNumber<x.lineNumber||!(x.lineNumber<w.lineNumber)&&w.column<=x.column}static compare(w,x){const C=0|w.lineNumber,S=0|x.lineNumber;return C===S?(0|w.column)-(0|x.column):C-S}clone(){return new a(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(w){return new a(w.lineNumber,w.column)}static isIPosition(w){return w&&"number"==typeof w.lineNumber&&"number"==typeof w.column}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}},73678:(tt,xe,t)=>{t.d(xe,{Q:()=>F});var a=t(13632);class F{constructor(x,C,S,b){x>S||x===S&&C>b?(this.startLineNumber=S,this.startColumn=b,this.endLineNumber=x,this.endColumn=C):(this.startLineNumber=x,this.startColumn=C,this.endLineNumber=S,this.endColumn=b)}isEmpty(){return F.isEmpty(this)}static isEmpty(x){return x.startLineNumber===x.endLineNumber&&x.startColumn===x.endColumn}containsPosition(x){return F.containsPosition(this,x)}static containsPosition(x,C){return!(C.lineNumber<x.startLineNumber||C.lineNumber>x.endLineNumber||C.lineNumber===x.startLineNumber&&C.column<x.startColumn||C.lineNumber===x.endLineNumber&&C.column>x.endColumn)}static strictContainsPosition(x,C){return!(C.lineNumber<x.startLineNumber||C.lineNumber>x.endLineNumber||C.lineNumber===x.startLineNumber&&C.column<=x.startColumn||C.lineNumber===x.endLineNumber&&C.column>=x.endColumn)}containsRange(x){return F.containsRange(this,x)}static containsRange(x,C){return!(C.startLineNumber<x.startLineNumber||C.endLineNumber<x.startLineNumber||C.startLineNumber>x.endLineNumber||C.endLineNumber>x.endLineNumber||C.startLineNumber===x.startLineNumber&&C.startColumn<x.startColumn||C.endLineNumber===x.endLineNumber&&C.endColumn>x.endColumn)}strictContainsRange(x){return F.strictContainsRange(this,x)}static strictContainsRange(x,C){return!(C.startLineNumber<x.startLineNumber||C.endLineNumber<x.startLineNumber||C.startLineNumber>x.endLineNumber||C.endLineNumber>x.endLineNumber||C.startLineNumber===x.startLineNumber&&C.startColumn<=x.startColumn||C.endLineNumber===x.endLineNumber&&C.endColumn>=x.endColumn)}plusRange(x){return F.plusRange(this,x)}static plusRange(x,C){let S,b,P,D;return C.startLineNumber<x.startLineNumber?(S=C.startLineNumber,b=C.startColumn):C.startLineNumber===x.startLineNumber?(S=C.startLineNumber,b=Math.min(C.startColumn,x.startColumn)):(S=x.startLineNumber,b=x.startColumn),C.endLineNumber>x.endLineNumber?(P=C.endLineNumber,D=C.endColumn):C.endLineNumber===x.endLineNumber?(P=C.endLineNumber,D=Math.max(C.endColumn,x.endColumn)):(P=x.endLineNumber,D=x.endColumn),new F(S,b,P,D)}intersectRanges(x){return F.intersectRanges(this,x)}static intersectRanges(x,C){let S=x.startLineNumber,b=x.startColumn,P=x.endLineNumber,D=x.endColumn;const v=C.startLineNumber,_=C.startColumn,f=C.endLineNumber,d=C.endColumn;return S<v?(S=v,b=_):S===v&&(b=Math.max(b,_)),P>f?(P=f,D=d):P===f&&(D=Math.min(D,d)),S>P||S===P&&b>D?null:new F(S,b,P,D)}equalsRange(x){return F.equalsRange(this,x)}static equalsRange(x,C){return!x&&!C||!!x&&!!C&&x.startLineNumber===C.startLineNumber&&x.startColumn===C.startColumn&&x.endLineNumber===C.endLineNumber&&x.endColumn===C.endColumn}getEndPosition(){return F.getEndPosition(this)}static getEndPosition(x){return new a.y(x.endLineNumber,x.endColumn)}getStartPosition(){return F.getStartPosition(this)}static getStartPosition(x){return new a.y(x.startLineNumber,x.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(x,C){return new F(this.startLineNumber,this.startColumn,x,C)}setStartPosition(x,C){return new F(x,C,this.endLineNumber,this.endColumn)}collapseToStart(){return F.collapseToStart(this)}static collapseToStart(x){return new F(x.startLineNumber,x.startColumn,x.startLineNumber,x.startColumn)}collapseToEnd(){return F.collapseToEnd(this)}static collapseToEnd(x){return new F(x.endLineNumber,x.endColumn,x.endLineNumber,x.endColumn)}delta(x){return new F(this.startLineNumber+x,this.startColumn,this.endLineNumber+x,this.endColumn)}static fromPositions(x,C=x){return new F(x.lineNumber,x.column,C.lineNumber,C.column)}static lift(x){return x?new F(x.startLineNumber,x.startColumn,x.endLineNumber,x.endColumn):null}static isIRange(x){return x&&"number"==typeof x.startLineNumber&&"number"==typeof x.startColumn&&"number"==typeof x.endLineNumber&&"number"==typeof x.endColumn}static areIntersectingOrTouching(x,C){return!(x.endLineNumber<C.startLineNumber||x.endLineNumber===C.startLineNumber&&x.endColumn<C.startColumn||C.endLineNumber<x.startLineNumber||C.endLineNumber===x.startLineNumber&&C.endColumn<x.startColumn)}static areIntersecting(x,C){return!(x.endLineNumber<C.startLineNumber||x.endLineNumber===C.startLineNumber&&x.endColumn<=C.startColumn||C.endLineNumber<x.startLineNumber||C.endLineNumber===x.startLineNumber&&C.endColumn<=x.startColumn)}static compareRangesUsingStarts(x,C){if(x&&C){const P=0|x.startLineNumber,D=0|C.startLineNumber;if(P===D){const v=0|x.startColumn,_=0|C.startColumn;if(v===_){const f=0|x.endLineNumber,d=0|C.endLineNumber;return f===d?(0|x.endColumn)-(0|C.endColumn):f-d}return v-_}return P-D}return(x?1:0)-(C?1:0)}static compareRangesUsingEnds(x,C){return x.endLineNumber===C.endLineNumber?x.endColumn===C.endColumn?x.startLineNumber===C.startLineNumber?x.startColumn-C.startColumn:x.startLineNumber-C.startLineNumber:x.endColumn-C.endColumn:x.endLineNumber-C.endLineNumber}static spansMultipleLines(x){return x.endLineNumber>x.startLineNumber}toJSON(){return this}}},14105:(tt,xe,t)=>{t.d(xe,{L:()=>w});var a=t(13632),F=t(73678);class w extends F.Q{constructor(C,S,b,P){super(C,S,b,P),this.selectionStartLineNumber=C,this.selectionStartColumn=S,this.positionLineNumber=b,this.positionColumn=P}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(C){return w.selectionsEqual(this,C)}static selectionsEqual(C,S){return C.selectionStartLineNumber===S.selectionStartLineNumber&&C.selectionStartColumn===S.selectionStartColumn&&C.positionLineNumber===S.positionLineNumber&&C.positionColumn===S.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(C,S){return 0===this.getDirection()?new w(this.startLineNumber,this.startColumn,C,S):new w(C,S,this.startLineNumber,this.startColumn)}getPosition(){return new a.y(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new a.y(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(C,S){return 0===this.getDirection()?new w(C,S,this.endLineNumber,this.endColumn):new w(this.endLineNumber,this.endColumn,C,S)}static fromPositions(C,S=C){return new w(C.lineNumber,C.column,S.lineNumber,S.column)}static fromRange(C,S){return 0===S?new w(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn):new w(C.endLineNumber,C.endColumn,C.startLineNumber,C.startColumn)}static liftSelection(C){return new w(C.selectionStartLineNumber,C.selectionStartColumn,C.positionLineNumber,C.positionColumn)}static selectionsArrEqual(C,S){if(C&&!S||!C&&S)return!1;if(!C&&!S)return!0;if(C.length!==S.length)return!1;for(let b=0,P=C.length;b<P;b++)if(!this.selectionsEqual(C[b],S[b]))return!1;return!0}static isISelection(C){return C&&"number"==typeof C.selectionStartLineNumber&&"number"==typeof C.selectionStartColumn&&"number"==typeof C.positionLineNumber&&"number"==typeof C.positionColumn}static createWithDirection(C,S,b,P,D){return 0===D?new w(C,S,b,P):new w(b,P,C,S)}}},10139:(tt,xe,t)=>{t.d(xe,{Su:()=>v,b7:()=>D,fe:()=>f});var a=t(6653),F=t(21828),w=t(93233);let x,S,P;function C(){return x||(x=new TextDecoder("UTF-16LE")),x}function D(){return P||(P=F.cm()?C():function b(){return S||(S=new TextDecoder("UTF-16BE")),S}()),P}function v(d,r,l){const g=new Uint16Array(d.buffer,r,l);return l>0&&(65279===g[0]||65534===g[0])?function _(d,r,l){const g=[];let p=0;for(let m=0;m<l;m++){const T=w.$l(d,r);r+=2,g[p++]=String.fromCharCode(T)}return g.join("")}(d,r,l):C().decode(g)}class f{constructor(r){this._capacity=0|r,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const r=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return D().decode(r)}_flushBuffer(){const r=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[r]:this._completedStrings[this._completedStrings.length]=r}appendCharCode(r){const l=this._capacity-this._bufferLength;l<=1&&(0===l||a.pc(r))&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCIICharCode(r){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendString(r){const l=r.length;if(this._bufferLength+l>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=r);for(let g=0;g<l;g++)this._buffer[this._bufferLength++]=r.charCodeAt(g)}}},44512:(tt,xe,t)=>{t.d(xe,{k:()=>x,x:()=>C});var a=t(93233),F=t(10139);function w(b){return b.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class x{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(P,D,v,_){this.oldPosition=P,this.oldText=D,this.newPosition=v,this.newText=_}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${w(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${w(this.oldText)}")`:`(replace@${this.oldPosition} "${w(this.oldText)}" with "${w(this.newText)}")`}static _writeStringSize(P){return 4+2*P.length}static _writeString(P,D,v){const _=D.length;a.Sw(P,_,v),v+=4;for(let f=0;f<_;f++)a.gN(P,D.charCodeAt(f),v),v+=2;return v}static _readString(P,D){const v=a.bb(P,D);return(0,F.Su)(P,D+=4,v)}writeSize(){return 8+x._writeStringSize(this.oldText)+x._writeStringSize(this.newText)}write(P,D){return a.Sw(P,this.oldPosition,D),a.Sw(P,this.newPosition,D+=4),D=x._writeString(P,this.oldText,D+=4),x._writeString(P,this.newText,D)}static read(P,D,v){const _=a.bb(P,D),f=a.bb(P,D+=4),d=x._readString(P,D+=4);D+=x._writeStringSize(d);const r=x._readString(P,D);return D+=x._writeStringSize(r),v.push(new x(_,d,f,r)),D}}function C(b,P){return null===b||0===b.length?P:new S(b,P).compress()}class S{constructor(P,D){this._prevEdits=P,this._currEdits=D,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let P=0,D=0,v=this._getPrev(P),_=this._getCurr(D);for(;P<this._prevLen||D<this._currLen;){if(null===v){this._acceptCurr(_),_=this._getCurr(++D);continue}if(null===_){this._acceptPrev(v),v=this._getPrev(++P);continue}if(_.oldEnd<=v.newPosition){this._acceptCurr(_),_=this._getCurr(++D);continue}if(v.newEnd<=_.oldPosition){this._acceptPrev(v),v=this._getPrev(++P);continue}if(_.oldPosition<v.newPosition){const[g,p]=S._splitCurr(_,v.newPosition-_.oldPosition);this._acceptCurr(g),_=p;continue}if(v.newPosition<_.oldPosition){const[g,p]=S._splitPrev(v,_.oldPosition-v.newPosition);this._acceptPrev(g),v=p;continue}let r,l;if(_.oldEnd===v.newEnd)r=v,l=_,v=this._getPrev(++P),_=this._getCurr(++D);else if(_.oldEnd<v.newEnd){const[g,p]=S._splitPrev(v,_.oldLength);r=g,l=_,v=p,_=this._getCurr(++D)}else{const[g,p]=S._splitCurr(_,v.newLength);r=v,l=g,v=this._getPrev(++P),_=p}this._result[this._resultLen++]=new x(r.oldPosition,r.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=r.newLength-r.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}const f=S._merge(this._result);return S._removeNoOps(f)}_acceptCurr(P){this._result[this._resultLen++]=S._rebaseCurr(this._prevDeltaOffset,P),this._currDeltaOffset+=P.newLength-P.oldLength}_getCurr(P){return P<this._currLen?this._currEdits[P]:null}_acceptPrev(P){this._result[this._resultLen++]=S._rebasePrev(this._currDeltaOffset,P),this._prevDeltaOffset+=P.newLength-P.oldLength}_getPrev(P){return P<this._prevLen?this._prevEdits[P]:null}static _rebaseCurr(P,D){return new x(D.oldPosition-P,D.oldText,D.newPosition,D.newText)}static _rebasePrev(P,D){return new x(D.oldPosition,D.oldText,D.newPosition+P,D.newText)}static _splitPrev(P,D){const v=P.newText.substr(0,D),_=P.newText.substr(D);return[new x(P.oldPosition,P.oldText,P.newPosition,v),new x(P.oldEnd,"",P.newPosition+D,_)]}static _splitCurr(P,D){const v=P.oldText.substr(0,D),_=P.oldText.substr(D);return[new x(P.oldPosition,v,P.newPosition,P.newText),new x(P.oldPosition+D,_,P.newEnd,"")]}static _merge(P){if(0===P.length)return P;const D=[];let v=0,_=P[0];for(let f=1;f<P.length;f++){const d=P[f];_.oldEnd===d.oldPosition?_=new x(_.oldPosition,_.oldText+d.oldText,_.newPosition,_.newText+d.newText):(D[v++]=_,_=d)}return D[v++]=_,D}static _removeNoOps(P){if(0===P.length)return P;const D=[];let v=0;for(let _=0;_<P.length;_++){const f=P[_];f.oldText!==f.newText&&(D[v++]=f)}return D}}},66156:(tt,xe,t)=>{t.d(xe,{CO:()=>_,WR:()=>D,mF:()=>P});var a=t(43929),F=t(25680),w=t(13632),x=t(21639),C=t(87676);class S{constructor(r){this.text=r,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let l=0;l<r.length;l++)"\n"===r.charAt(l)&&this.lineStartOffsetByLineIdx.push(l+1)}getOffset(r){return this.lineStartOffsetByLineIdx[r.lineNumber-1]+r.column-1}getOffsetRange(r){return new x.L(this.getOffset(r.getStartPosition()),this.getOffset(r.getEndPosition()))}get textLength(){const r=this.lineStartOffsetByLineIdx.length-1;return new C.W(r,this.text.length-this.lineStartOffsetByLineIdx[r])}}var b=t(73678);class P{constructor(r){this.edits=r,(0,a.Ft)(()=>(0,a.Xo)(r,(l,g)=>l.range.getEndPosition().isBeforeOrEqual(g.range.getStartPosition())))}apply(r){let l="",g=new w.y(1,1);for(const m of this.edits){const T=m.range,A=T.getStartPosition(),k=T.getEndPosition(),O=v(g,A);O.isEmpty()||(l+=r.getValueOfRange(O)),l+=m.text,g=k}const p=v(g,r.endPositionExclusive);return p.isEmpty()||(l+=r.getValueOfRange(p)),l}applyToString(r){const l=new f(r);return this.apply(l)}getNewRanges(){const r=[];let l=0,g=0,p=0;for(const m of this.edits){const T=C.W.ofText(m.text),A=w.y.lift({lineNumber:m.range.startLineNumber+g,column:m.range.startColumn+(m.range.startLineNumber===l?p:0)}),k=T.createRange(A);r.push(k),g=k.endLineNumber-m.range.endLineNumber,p=k.endColumn-m.range.endColumn,l=m.range.endLineNumber}return r}}class D{constructor(r,l){this.range=r,this.text=l}}function v(d,r){if(d.lineNumber===r.lineNumber&&d.column===Number.MAX_SAFE_INTEGER)return b.Q.fromPositions(r,r);if(!d.isBeforeOrEqual(r))throw new F.D7("start must be before end");return new b.Q(d.lineNumber,d.column,r.lineNumber,r.column)}class _{get endPositionExclusive(){return this.length.addToPosition(new w.y(1,1))}}class f extends _{constructor(r){super(),this.value=r,this._t=new S(this.value)}getValueOfRange(r){return this._t.getOffsetRange(r).substring(this.value)}get length(){return this._t.textLength}}},87676:(tt,xe,t)=>{t.d(xe,{W:()=>w});var a=t(13632),F=t(73678);class w{static betweenPositions(C,S){return C.lineNumber===S.lineNumber?new w(0,S.column-C.column):new w(S.lineNumber-C.lineNumber,S.column-1)}static ofRange(C){return w.betweenPositions(C.getStartPosition(),C.getEndPosition())}static ofText(C){let S=0,b=0;for(const P of C)"\n"===P?(S++,b=0):b++;return new w(S,b)}constructor(C,S){this.lineCount=C,this.columnCount=S}isGreaterThanOrEqualTo(C){return this.lineCount!==C.lineCount?this.lineCount>C.lineCount:this.columnCount>=C.columnCount}createRange(C){return 0===this.lineCount?new F.Q(C.lineNumber,C.column,C.lineNumber,C.column+this.columnCount):new F.Q(C.lineNumber,C.column,C.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(C){return 0===this.lineCount?new a.y(C.lineNumber,C.column+this.columnCount):new a.y(C.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}}w.zero=new w(0,0)},63081:(tt,xe,t)=>{t.d(xe,{R:()=>a});const a={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},34181:(tt,xe,t)=>{t.d(xe,{i:()=>C});var a=t(20053),F=t(72493);class w extends F.V{constructor(b,P){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=P,this._segmenter=this.intlSegmenterLocales.length>0?new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):null;for(let D=0,v=b.length;D<v;D++)this.set(b.charCodeAt(D),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(b,P){let D=null;for(const v of this._getIntlSegmenterWordsOnLine(b)){if(v.index>P)break;D=v}return D}findNextIntlWordAtOrAfterOffset(b,P){for(const D of this._getIntlSegmenterWordsOnLine(b))if(!(D.index<P))return D;return null}_getIntlSegmenterWordsOnLine(b){return this._segmenter?(this._cachedLine===b||(this._cachedLine=b,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(b))),this._cachedSegments):[]}_filterWordSegments(b){const P=[];for(const D of b)this._isWordLike(D)&&P.push(D);return P}_isWordLike(b){return!!b.isWordLike}}const x=new a.qK(10);function C(S,b){const P=`${S}/${b.join(",")}`;let D=x.get(P);return D||(D=new w(S,b),x.set(P,D)),D}},50199:(tt,xe,t)=>{t.d(xe,{Io:()=>S,J3:()=>w,Ld:()=>C,Th:()=>P});var a=t(28481),F=t(18002);const w="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",C=function x(v=""){let _="(-?\\d*\\.\\d\\w*)|([^";for(const f of w)v.indexOf(f)>=0||(_+="\\"+f);return _+="\\s]+)",new RegExp(_,"g")}();function S(v){let _=C;if(v&&v instanceof RegExp)if(v.global)_=v;else{let f="g";v.ignoreCase&&(f+="i"),v.multiline&&(f+="m"),v.unicode&&(f+="u"),_=new RegExp(v.source,f)}return _.lastIndex=0,_}const b=new F.w;function P(v,_,f,d,r){if(_=S(_),r||(r=a.f.first(b)),f.length>r.maxLen){let T=v-r.maxLen/2;return T<0?T=0:d+=T,P(v,_,f=f.substring(T,v+r.maxLen/2),d,r)}const l=Date.now(),g=v-1-d;let p=-1,m=null;for(let T=1;!(Date.now()-l>=r.timeBudget);T++){const A=g-r.windowSize*T;_.lastIndex=Math.max(0,A);const k=D(_,f,g,p);if(!k&&m||(m=k,A<=0))break;p=A}if(m){const T={word:m[0],startColumn:d+1+m.index,endColumn:d+1+m.index+m[0].length};return _.lastIndex=0,T}return null}function D(v,_,f,d){let r;for(;r=v.exec(_);){const l=r.index||0;if(l<=f&&v.lastIndex>=f)return r;if(d>0&&l>d)return null}return null}b.unshift({maxLen:1e3,windowSize:15,timeBudget:150})},31360:(tt,xe,t)=>{t.d(xe,{MF:()=>_,d$:()=>v,mG:()=>r,vG:()=>g,vY:()=>l});var a=t(13632),F=t(73678),w=t(14105),x=t(19303),C=t(52282),S=t(7988);const b=()=>!0,P=()=>!1,D=p=>" "===p||"\t"===p;class v{static shouldRecreate(m){return m.hasChanged(145)||m.hasChanged(131)||m.hasChanged(37)||m.hasChanged(77)||m.hasChanged(79)||m.hasChanged(80)||m.hasChanged(6)||m.hasChanged(7)||m.hasChanged(11)||m.hasChanged(9)||m.hasChanged(10)||m.hasChanged(14)||m.hasChanged(128)||m.hasChanged(50)||m.hasChanged(91)||m.hasChanged(130)}constructor(m,T,A,k){var O;this.languageConfigurationService=k,this._cursorMoveConfigurationBrand=void 0,this._languageId=m;const N=A.options,H=N.get(145),L=N.get(50);this.readOnly=N.get(91),this.tabSize=T.tabSize,this.indentSize=T.indentSize,this.insertSpaces=T.insertSpaces,this.stickyTabStops=N.get(116),this.lineHeight=L.lineHeight,this.typicalHalfwidthCharacterWidth=L.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(H.height/this.lineHeight)-2),this.useTabStops=N.get(128),this.wordSeparators=N.get(131),this.emptySelectionClipboard=N.get(37),this.copyWithSyntaxHighlighting=N.get(25),this.multiCursorMergeOverlapping=N.get(77),this.multiCursorPaste=N.get(79),this.multiCursorLimit=N.get(80),this.autoClosingBrackets=N.get(6),this.autoClosingComments=N.get(7),this.autoClosingQuotes=N.get(11),this.autoClosingDelete=N.get(9),this.autoClosingOvertype=N.get(10),this.autoSurround=N.get(14),this.autoIndent=N.get(12),this.wordSegmenterLocales=N.get(130),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(m,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(m,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(m,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(m).getAutoClosingPairs();const j=this.languageConfigurationService.getLanguageConfiguration(m).getSurroundingPairs();if(j)for(const te of j)this.surroundingPairs[te.open]=te.close;const Z=this.languageConfigurationService.getLanguageConfiguration(m).comments;this.blockCommentStartToken=null!==(O=Z?.blockCommentStartToken)&&void 0!==O?O:null}get electricChars(){var m;if(!this._electricChars){this._electricChars={};const T=null===(m=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===m?void 0:m.getElectricCharacters();if(T)for(const A of T)this._electricChars[A]=!0}return this._electricChars}onElectricCharacter(m,T,A){const k=(0,x.BQ)(T,A-1),O=this.languageConfigurationService.getLanguageConfiguration(k.languageId).electricCharacter;return O?O.onElectricCharacter(m,k,A-k.firstCharOffset):null}normalizeIndentation(m){return(0,S.P)(m,this.indentSize,this.insertSpaces)}_getShouldAutoClose(m,T,A){switch(T){case"beforeWhitespace":return D;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(m,A);case"always":return b;case"never":return P}}_getLanguageDefinedShouldAutoClose(m,T){const A=this.languageConfigurationService.getLanguageConfiguration(m).getAutoCloseBeforeSet(T);return k=>-1!==A.indexOf(k)}visibleColumnFromColumn(m,T){return C.A.visibleColumnFromColumn(m.getLineContent(T.lineNumber),T.column,this.tabSize)}columnFromVisibleColumn(m,T,A){const k=C.A.columnFromVisibleColumn(m.getLineContent(T),A,this.tabSize),O=m.getLineMinColumn(T);if(k<O)return O;const N=m.getLineMaxColumn(T);return k>N?N:k}}class _{static fromModelState(m){return new f(m)}static fromViewState(m){return new d(m)}static fromModelSelection(m){const T=w.L.liftSelection(m),A=new r(F.Q.fromPositions(T.getSelectionStart()),0,0,T.getPosition(),0);return _.fromModelState(A)}static fromModelSelections(m){const T=[];for(let A=0,k=m.length;A<k;A++)T[A]=this.fromModelSelection(m[A]);return T}constructor(m,T){this._cursorStateBrand=void 0,this.modelState=m,this.viewState=T}equals(m){return this.viewState.equals(m.viewState)&&this.modelState.equals(m.modelState)}}class f{constructor(m){this.modelState=m,this.viewState=null}}class d{constructor(m){this.modelState=null,this.viewState=m}}class r{constructor(m,T,A,k,O){this.selectionStart=m,this.selectionStartKind=T,this.selectionStartLeftoverVisibleColumns=A,this.position=k,this.leftoverVisibleColumns=O,this._singleCursorStateBrand=void 0,this.selection=r._computeSelection(this.selectionStart,this.position)}equals(m){return this.selectionStartLeftoverVisibleColumns===m.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===m.leftoverVisibleColumns&&this.selectionStartKind===m.selectionStartKind&&this.position.equals(m.position)&&this.selectionStart.equalsRange(m.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(m,T,A,k){return m?new r(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new a.y(T,A),k):new r(new F.Q(T,A,T,A),0,k,new a.y(T,A),k)}static _computeSelection(m,T){return m.isEmpty()||!T.isBeforeOrEqual(m.getStartPosition())?w.L.fromPositions(m.getStartPosition(),T):w.L.fromPositions(m.getEndPosition(),T)}}class l{constructor(m,T,A){this._editOperationResultBrand=void 0,this.type=m,this.commands=T,this.shouldPushStackElementBefore=A.shouldPushStackElementBefore,this.shouldPushStackElementAfter=A.shouldPushStackElementAfter}}function g(p){return"'"===p||'"'===p||"`"===p}},55564:(tt,xe,t)=>{t.d(xe,{s:()=>F});var a=t(52282);class F{static whitespaceVisibleColumn(x,C,S){const b=x.length;let P=0,D=-1,v=-1;for(let _=0;_<b;_++){if(_===C)return[D,v,P];switch(P%S==0&&(D=_,v=P),x.charCodeAt(_)){case 32:P+=1;break;case 9:P=a.A.nextRenderTabStop(P,S);break;default:return[-1,-1,-1]}}return C===b?[D,v,P]:[-1,-1,-1]}static atomicPosition(x,C,S,b){const P=x.length,[D,v,_]=F.whitespaceVisibleColumn(x,C,S);if(-1===_)return-1;let f;switch(b){case 0:f=!0;break;case 1:f=!1;break;case 2:if(_%S==0)return C;f=_%S<=S/2}if(f){if(-1===D)return-1;let l=v;for(let g=D;g<P;++g){if(l===v+S)return D;switch(x.charCodeAt(g)){case 32:l+=1;break;case 9:l=a.A.nextRenderTabStop(l,S);break;default:return-1}}return l===v+S?D:-1}const d=a.A.nextRenderTabStop(_,S);let r=_;for(let l=C;l<P;l++){if(r===d)return l;switch(x.charCodeAt(l)){case 32:r+=1;break;case 9:r=a.A.nextRenderTabStop(r,S);break;default:return-1}}return r===d?P:-1}}},68571:(tt,xe,t)=>{t.d(xe,{g:()=>P});var a=t(6653),F=t(19533),w=t(31360),x=t(52282),C=t(79725),S=t(73678),b=t(13632);class P{static deleteRight(v,_,f,d){const r=[];let l=3!==v;for(let g=0,p=d.length;g<p;g++){const m=d[g];let T=m;if(T.isEmpty()){const A=m.getPosition(),k=C.I.right(_,f,A);T=new S.Q(k.lineNumber,k.column,A.lineNumber,A.column)}T.isEmpty()?r[g]=null:(T.startLineNumber!==T.endLineNumber&&(l=!0),r[g]=new F.iu(T,""))}return[l,r]}static isAutoClosingPairDelete(v,_,f,d,r,l,g){if("never"===_&&"never"===f||"never"===v)return!1;for(let p=0,m=l.length;p<m;p++){const T=l[p],A=T.getPosition();if(!T.isEmpty())return!1;const k=r.getLineContent(A.lineNumber);if(A.column<2||A.column>=k.length+1)return!1;const O=k.charAt(A.column-2),N=d.get(O);if(!N)return!1;if((0,w.vG)(O)){if("never"===f)return!1}else if("never"===_)return!1;const H=k.charAt(A.column-1);let L=!1;for(const j of N)j.open===O&&j.close===H&&(L=!0);if(!L)return!1;if("auto"===v){let j=!1;for(let Z=0,te=g.length;Z<te;Z++){const X=g[Z];if(A.lineNumber===X.startLineNumber&&A.column===X.startColumn){j=!0;break}}if(!j)return!1}}return!0}static _runAutoClosingPairDelete(v,_,f){const d=[];for(let r=0,l=f.length;r<l;r++){const g=f[r].getPosition(),p=new S.Q(g.lineNumber,g.column-1,g.lineNumber,g.column+1);d[r]=new F.iu(p,"")}return[!0,d]}static deleteLeft(v,_,f,d,r){if(this.isAutoClosingPairDelete(_.autoClosingDelete,_.autoClosingBrackets,_.autoClosingQuotes,_.autoClosingPairs.autoClosingPairsOpenByEnd,f,d,r))return this._runAutoClosingPairDelete(_,f,d);const l=[];let g=2!==v;for(let p=0,m=d.length;p<m;p++){const T=P.getDeleteRange(d[p],f,_);T.isEmpty()?l[p]=null:(T.startLineNumber!==T.endLineNumber&&(g=!0),l[p]=new F.iu(T,""))}return[g,l]}static getDeleteRange(v,_,f){if(!v.isEmpty())return v;const d=v.getPosition();if(f.useTabStops&&d.column>1){const r=_.getLineContent(d.lineNumber),l=a.HG(r);if(d.column<=(-1===l?r.length+1:l+1)){const p=f.visibleColumnFromColumn(_,d),m=x.A.prevIndentTabStop(p,f.indentSize),T=f.columnFromVisibleColumn(_,d.lineNumber,m);return new S.Q(d.lineNumber,T,d.lineNumber,d.column)}}return S.Q.fromPositions(P.getPositionAfterDeleteLeft(d,_),d)}static getPositionAfterDeleteLeft(v,_){if(v.column>1){const f=a.Wd(v.column-1,_.getLineContent(v.lineNumber));return v.with(void 0,f+1)}if(v.lineNumber>1){const f=v.lineNumber-1;return new b.y(f,_.getLineMaxColumn(f))}return v}static cut(v,_,f){const d=[];let r=null;f.sort((l,g)=>b.y.compare(l.getStartPosition(),g.getEndPosition()));for(let l=0,g=f.length;l<g;l++){const p=f[l];if(p.isEmpty())if(v.emptySelectionClipboard){const m=p.getPosition();let T,A,k,O;m.lineNumber<_.getLineCount()?(T=m.lineNumber,A=1,k=m.lineNumber+1,O=1):m.lineNumber>1&&r?.endLineNumber!==m.lineNumber?(T=m.lineNumber-1,A=_.getLineMaxColumn(m.lineNumber-1),k=m.lineNumber,O=_.getLineMaxColumn(m.lineNumber)):(T=m.lineNumber,A=1,k=m.lineNumber,O=_.getLineMaxColumn(m.lineNumber));const N=new S.Q(T,A,k,O);r=N,d[l]=N.isEmpty()?null:new F.iu(N,"")}else d[l]=null;else d[l]=new F.iu(p,"")}return new w.vY(0,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},46813:(tt,xe,t)=>{t.d(xe,{S:()=>P,c:()=>b});var P,D,a=t(66702),F=t(31360),w=t(79725),x=t(27948),C=t(13632),S=t(73678);class b{static addCursorDown(v,_,f){const d=[];let r=0;for(let l=0,g=_.length;l<g;l++){const p=_[l];d[r++]=new F.MF(p.modelState,p.viewState),d[r++]=f?F.MF.fromModelState(w.I.translateDown(v.cursorConfig,v.model,p.modelState)):F.MF.fromViewState(w.I.translateDown(v.cursorConfig,v,p.viewState))}return d}static addCursorUp(v,_,f){const d=[];let r=0;for(let l=0,g=_.length;l<g;l++){const p=_[l];d[r++]=new F.MF(p.modelState,p.viewState),d[r++]=f?F.MF.fromModelState(w.I.translateUp(v.cursorConfig,v.model,p.modelState)):F.MF.fromViewState(w.I.translateUp(v.cursorConfig,v,p.viewState))}return d}static moveToBeginningOfLine(v,_,f){const d=[];for(let r=0,l=_.length;r<l;r++)d[r]=this._moveToLineStart(v,_[r],f);return d}static _moveToLineStart(v,_,f){const d=_.viewState.position.column,l=d===_.modelState.position.column,p=v.getLineFirstNonWhitespaceColumn(_.viewState.position.lineNumber);return l||d===p?this._moveToLineStartByModel(v,_,f):this._moveToLineStartByView(v,_,f)}static _moveToLineStartByView(v,_,f){return F.MF.fromViewState(w.I.moveToBeginningOfLine(v.cursorConfig,v,_.viewState,f))}static _moveToLineStartByModel(v,_,f){return F.MF.fromModelState(w.I.moveToBeginningOfLine(v.cursorConfig,v.model,_.modelState,f))}static moveToEndOfLine(v,_,f,d){const r=[];for(let l=0,g=_.length;l<g;l++)r[l]=this._moveToLineEnd(v,_[l],f,d);return r}static _moveToLineEnd(v,_,f,d){const r=_.viewState.position,l=v.getLineMaxColumn(r.lineNumber),g=r.column===l,p=_.modelState.position,m=v.model.getLineMaxColumn(p.lineNumber);return g||l-r.column==m-p.column?this._moveToLineEndByModel(v,_,f,d):this._moveToLineEndByView(v,_,f,d)}static _moveToLineEndByView(v,_,f,d){return F.MF.fromViewState(w.I.moveToEndOfLine(v.cursorConfig,v,_.viewState,f,d))}static _moveToLineEndByModel(v,_,f,d){return F.MF.fromModelState(w.I.moveToEndOfLine(v.cursorConfig,v.model,_.modelState,f,d))}static expandLineSelection(v,_){const f=[];for(let d=0,r=_.length;d<r;d++){const l=_[d],g=l.modelState.selection.startLineNumber,p=v.model.getLineCount();let T,m=l.modelState.selection.endLineNumber;m===p?T=v.model.getLineMaxColumn(p):(m++,T=1),f[d]=F.MF.fromModelState(new F.mG(new S.Q(g,1,g,1),0,0,new C.y(m,T),0))}return f}static moveToBeginningOfBuffer(v,_,f){const d=[];for(let r=0,l=_.length;r<l;r++)d[r]=F.MF.fromModelState(w.I.moveToBeginningOfBuffer(v.cursorConfig,v.model,_[r].modelState,f));return d}static moveToEndOfBuffer(v,_,f){const d=[];for(let r=0,l=_.length;r<l;r++)d[r]=F.MF.fromModelState(w.I.moveToEndOfBuffer(v.cursorConfig,v.model,_[r].modelState,f));return d}static selectAll(v,_){const f=v.model.getLineCount(),d=v.model.getLineMaxColumn(f);return F.MF.fromModelState(new F.mG(new S.Q(1,1,1,1),0,0,new C.y(f,d),0))}static line(v,_,f,d,r){const l=v.model.validatePosition(d),g=r?v.coordinatesConverter.validateViewPosition(new C.y(r.lineNumber,r.column),l):v.coordinatesConverter.convertModelPositionToViewPosition(l);if(!f){const m=v.model.getLineCount();let T=l.lineNumber+1,A=1;return T>m&&(T=m,A=v.model.getLineMaxColumn(T)),F.MF.fromModelState(new F.mG(new S.Q(l.lineNumber,1,T,A),2,0,new C.y(T,A),0))}const p=_.modelState.selectionStart.getStartPosition().lineNumber;if(l.lineNumber<p)return F.MF.fromViewState(_.viewState.move(!0,g.lineNumber,1,0));if(l.lineNumber>p){const m=v.getLineCount();let T=g.lineNumber+1,A=1;return T>m&&(T=m,A=v.getLineMaxColumn(T)),F.MF.fromViewState(_.viewState.move(!0,T,A,0))}{const m=_.modelState.selectionStart.getEndPosition();return F.MF.fromModelState(_.modelState.move(!0,m.lineNumber,m.column,0))}}static word(v,_,f,d){const r=v.model.validatePosition(d);return F.MF.fromModelState(x.z.word(v.cursorConfig,v.model,_.modelState,f,r))}static cancelSelection(v,_){if(!_.modelState.hasSelection())return new F.MF(_.modelState,_.viewState);const f=_.viewState.position.lineNumber,d=_.viewState.position.column;return F.MF.fromViewState(new F.mG(new S.Q(f,d,f,d),0,0,new C.y(f,d),0))}static moveTo(v,_,f,d,r){if(f){if(1===_.modelState.selectionStartKind)return this.word(v,_,f,d);if(2===_.modelState.selectionStartKind)return this.line(v,_,f,d,r)}const l=v.model.validatePosition(d),g=r?v.coordinatesConverter.validateViewPosition(new C.y(r.lineNumber,r.column),l):v.coordinatesConverter.convertModelPositionToViewPosition(l);return F.MF.fromViewState(_.viewState.move(f,g.lineNumber,g.column,0))}static simpleMove(v,_,f,d,r,l){switch(f){case 0:return 4===l?this._moveHalfLineLeft(v,_,d):this._moveLeft(v,_,d,r);case 1:return 4===l?this._moveHalfLineRight(v,_,d):this._moveRight(v,_,d,r);case 2:return 2===l?this._moveUpByViewLines(v,_,d,r):this._moveUpByModelLines(v,_,d,r);case 3:return 2===l?this._moveDownByViewLines(v,_,d,r):this._moveDownByModelLines(v,_,d,r);case 4:return _.map(2===l?g=>F.MF.fromViewState(w.I.moveToPrevBlankLine(v.cursorConfig,v,g.viewState,d)):g=>F.MF.fromModelState(w.I.moveToPrevBlankLine(v.cursorConfig,v.model,g.modelState,d)));case 5:return _.map(2===l?g=>F.MF.fromViewState(w.I.moveToNextBlankLine(v.cursorConfig,v,g.viewState,d)):g=>F.MF.fromModelState(w.I.moveToNextBlankLine(v.cursorConfig,v.model,g.modelState,d)));case 6:return this._moveToViewMinColumn(v,_,d);case 7:return this._moveToViewFirstNonWhitespaceColumn(v,_,d);case 8:return this._moveToViewCenterColumn(v,_,d);case 9:return this._moveToViewMaxColumn(v,_,d);case 10:return this._moveToViewLastNonWhitespaceColumn(v,_,d);default:return null}}static viewportMove(v,_,f,d,r){const l=v.getCompletelyVisibleViewRange(),g=v.coordinatesConverter.convertViewRangeToModelRange(l);switch(f){case 11:{const p=this._firstLineNumberInRange(v.model,g,r),m=v.model.getLineFirstNonWhitespaceColumn(p);return[this._moveToModelPosition(v,_[0],d,p,m)]}case 13:{const p=this._lastLineNumberInRange(v.model,g,r),m=v.model.getLineFirstNonWhitespaceColumn(p);return[this._moveToModelPosition(v,_[0],d,p,m)]}case 12:{const p=Math.round((g.startLineNumber+g.endLineNumber)/2),m=v.model.getLineFirstNonWhitespaceColumn(p);return[this._moveToModelPosition(v,_[0],d,p,m)]}case 14:{const p=[];for(let m=0,T=_.length;m<T;m++)p[m]=this.findPositionInViewportIfOutside(v,_[m],l,d);return p}default:return null}}static findPositionInViewportIfOutside(v,_,f,d){const r=_.viewState.position.lineNumber;if(f.startLineNumber<=r&&r<=f.endLineNumber-1)return new F.MF(_.modelState,_.viewState);{let l;l=r>f.endLineNumber-1?f.endLineNumber-1:r<f.startLineNumber?f.startLineNumber:r;const g=w.I.vertical(v.cursorConfig,v,r,_.viewState.position.column,_.viewState.leftoverVisibleColumns,l,!1);return F.MF.fromViewState(_.viewState.move(d,g.lineNumber,g.column,g.leftoverVisibleColumns))}}static _firstLineNumberInRange(v,_,f){let d=_.startLineNumber;return _.startColumn!==v.getLineMinColumn(d)&&d++,Math.min(_.endLineNumber,d+f-1)}static _lastLineNumberInRange(v,_,f){let d=_.startLineNumber;return _.startColumn!==v.getLineMinColumn(d)&&d++,Math.max(d,_.endLineNumber-f+1)}static _moveLeft(v,_,f,d){return _.map(r=>F.MF.fromViewState(w.I.moveLeft(v.cursorConfig,v,r.viewState,f,d)))}static _moveHalfLineLeft(v,_,f){const d=[];for(let r=0,l=_.length;r<l;r++){const g=_[r],m=Math.round(v.getLineLength(g.viewState.position.lineNumber)/2);d[r]=F.MF.fromViewState(w.I.moveLeft(v.cursorConfig,v,g.viewState,f,m))}return d}static _moveRight(v,_,f,d){return _.map(r=>F.MF.fromViewState(w.I.moveRight(v.cursorConfig,v,r.viewState,f,d)))}static _moveHalfLineRight(v,_,f){const d=[];for(let r=0,l=_.length;r<l;r++){const g=_[r],m=Math.round(v.getLineLength(g.viewState.position.lineNumber)/2);d[r]=F.MF.fromViewState(w.I.moveRight(v.cursorConfig,v,g.viewState,f,m))}return d}static _moveDownByViewLines(v,_,f,d){const r=[];for(let l=0,g=_.length;l<g;l++)r[l]=F.MF.fromViewState(w.I.moveDown(v.cursorConfig,v,_[l].viewState,f,d));return r}static _moveDownByModelLines(v,_,f,d){const r=[];for(let l=0,g=_.length;l<g;l++)r[l]=F.MF.fromModelState(w.I.moveDown(v.cursorConfig,v.model,_[l].modelState,f,d));return r}static _moveUpByViewLines(v,_,f,d){const r=[];for(let l=0,g=_.length;l<g;l++)r[l]=F.MF.fromViewState(w.I.moveUp(v.cursorConfig,v,_[l].viewState,f,d));return r}static _moveUpByModelLines(v,_,f,d){const r=[];for(let l=0,g=_.length;l<g;l++)r[l]=F.MF.fromModelState(w.I.moveUp(v.cursorConfig,v.model,_[l].modelState,f,d));return r}static _moveToViewPosition(v,_,f,d,r){return F.MF.fromViewState(_.viewState.move(f,d,r,0))}static _moveToModelPosition(v,_,f,d,r){return F.MF.fromModelState(_.modelState.move(f,d,r,0))}static _moveToViewMinColumn(v,_,f){const d=[];for(let r=0,l=_.length;r<l;r++){const g=_[r],p=g.viewState.position.lineNumber,m=v.getLineMinColumn(p);d[r]=this._moveToViewPosition(v,g,f,p,m)}return d}static _moveToViewFirstNonWhitespaceColumn(v,_,f){const d=[];for(let r=0,l=_.length;r<l;r++){const g=_[r],p=g.viewState.position.lineNumber,m=v.getLineFirstNonWhitespaceColumn(p);d[r]=this._moveToViewPosition(v,g,f,p,m)}return d}static _moveToViewCenterColumn(v,_,f){const d=[];for(let r=0,l=_.length;r<l;r++){const g=_[r],p=g.viewState.position.lineNumber,m=Math.round((v.getLineMaxColumn(p)+v.getLineMinColumn(p))/2);d[r]=this._moveToViewPosition(v,g,f,p,m)}return d}static _moveToViewMaxColumn(v,_,f){const d=[];for(let r=0,l=_.length;r<l;r++){const g=_[r],p=g.viewState.position.lineNumber,m=v.getLineMaxColumn(p);d[r]=this._moveToViewPosition(v,g,f,p,m)}return d}static _moveToViewLastNonWhitespaceColumn(v,_,f){const d=[];for(let r=0,l=_.length;r<l;r++){const g=_[r],p=g.viewState.position.lineNumber,m=v.getLineLastNonWhitespaceColumn(p);d[r]=this._moveToViewPosition(v,g,f,p,m)}return d}}(D=P||(P={})).metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(f){if(!a.Gv(f))return!1;const d=f;return!(!a.Kg(d.to)||!a.b0(d.select)&&!a.Lm(d.select)||!a.b0(d.by)&&!a.Kg(d.by)||!a.b0(d.value)&&!a.Et(d.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},D.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},D.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},D.parse=function _(f){if(!f.to)return null;let d;switch(f.to){case D.RawDirection.Left:d=0;break;case D.RawDirection.Right:d=1;break;case D.RawDirection.Up:d=2;break;case D.RawDirection.Down:d=3;break;case D.RawDirection.PrevBlankLine:d=4;break;case D.RawDirection.NextBlankLine:d=5;break;case D.RawDirection.WrappedLineStart:d=6;break;case D.RawDirection.WrappedLineFirstNonWhitespaceCharacter:d=7;break;case D.RawDirection.WrappedLineColumnCenter:d=8;break;case D.RawDirection.WrappedLineEnd:d=9;break;case D.RawDirection.WrappedLineLastNonWhitespaceCharacter:d=10;break;case D.RawDirection.ViewPortTop:d=11;break;case D.RawDirection.ViewPortBottom:d=13;break;case D.RawDirection.ViewPortCenter:d=12;break;case D.RawDirection.ViewPortIfOutside:d=14;break;default:return null}let r=0;switch(f.by){case D.RawUnit.Line:r=1;break;case D.RawUnit.WrappedLine:r=2;break;case D.RawUnit.Character:r=3;break;case D.RawUnit.HalfLine:r=4}return{direction:d,unit:r,select:!!f.select,value:f.value||1}}},79725:(tt,xe,t)=>{t.d(xe,{I:()=>P});var a=t(6653),F=t(52282),w=t(13632),x=t(73678),C=t(55564),S=t(31360);class b{constructor(v,_,f){this._cursorPositionBrand=void 0,this.lineNumber=v,this.column=_,this.leftoverVisibleColumns=f}}class P{static leftPosition(v,_){if(_.column>v.getLineMinColumn(_.lineNumber))return _.delta(void 0,-a.MV(v.getLineContent(_.lineNumber),_.column-1));if(_.lineNumber>1){const f=_.lineNumber-1;return new w.y(f,v.getLineMaxColumn(f))}return _}static leftPositionAtomicSoftTabs(v,_,f){if(_.column<=v.getLineIndentColumn(_.lineNumber)){const d=v.getLineMinColumn(_.lineNumber),r=v.getLineContent(_.lineNumber),l=C.s.atomicPosition(r,_.column-1,f,0);if(-1!==l&&l+1>=d)return new w.y(_.lineNumber,l+1)}return this.leftPosition(v,_)}static left(v,_,f){const d=v.stickyTabStops?P.leftPositionAtomicSoftTabs(_,f,v.tabSize):P.leftPosition(_,f);return new b(d.lineNumber,d.column,0)}static moveLeft(v,_,f,d,r){let l,g;if(f.hasSelection()&&!d)l=f.selection.startLineNumber,g=f.selection.startColumn;else{const p=f.position.delta(void 0,-(r-1)),m=_.normalizePosition(P.clipPositionColumn(p,_),0),T=P.left(v,_,m);l=T.lineNumber,g=T.column}return f.move(d,l,g,0)}static clipPositionColumn(v,_){return new w.y(v.lineNumber,P.clipRange(v.column,_.getLineMinColumn(v.lineNumber),_.getLineMaxColumn(v.lineNumber)))}static clipRange(v,_,f){return v<_?_:v>f?f:v}static rightPosition(v,_,f){return f<v.getLineMaxColumn(_)?f+=a.iy(v.getLineContent(_),f-1):_<v.getLineCount()&&(f=v.getLineMinColumn(_+=1)),new w.y(_,f)}static rightPositionAtomicSoftTabs(v,_,f,d,r){if(f<v.getLineIndentColumn(_)){const l=v.getLineContent(_),g=C.s.atomicPosition(l,f-1,d,1);if(-1!==g)return new w.y(_,g+1)}return this.rightPosition(v,_,f)}static right(v,_,f){const d=v.stickyTabStops?P.rightPositionAtomicSoftTabs(_,f.lineNumber,f.column,v.tabSize,v.indentSize):P.rightPosition(_,f.lineNumber,f.column);return new b(d.lineNumber,d.column,0)}static moveRight(v,_,f,d,r){let l,g;if(f.hasSelection()&&!d)l=f.selection.endLineNumber,g=f.selection.endColumn;else{const p=f.position.delta(void 0,r-1),m=_.normalizePosition(P.clipPositionColumn(p,_),1),T=P.right(v,_,m);l=T.lineNumber,g=T.column}return f.move(d,l,g,0)}static vertical(v,_,f,d,r,l,g,p){const m=F.A.visibleColumnFromColumn(_.getLineContent(f),d,v.tabSize)+r,T=_.getLineCount(),A=1===f&&1===d,k=f===T&&d===_.getLineMaxColumn(f),O=l<f?A:k;if((f=l)<1?(f=1,d=g?_.getLineMinColumn(f):Math.min(_.getLineMaxColumn(f),d)):f>T?(f=T,d=g?_.getLineMaxColumn(f):Math.min(_.getLineMaxColumn(f),d)):d=v.columnFromVisibleColumn(_,f,m),r=O?0:m-F.A.visibleColumnFromColumn(_.getLineContent(f),d,v.tabSize),void 0!==p){const N=new w.y(f,d),H=_.normalizePosition(N,p);r+=d-H.column,f=H.lineNumber,d=H.column}return new b(f,d,r)}static down(v,_,f,d,r,l,g){return this.vertical(v,_,f,d,r,f+l,g,4)}static moveDown(v,_,f,d,r){let l,g;f.hasSelection()&&!d?(l=f.selection.endLineNumber,g=f.selection.endColumn):(l=f.position.lineNumber,g=f.position.column);let m,p=0;do{if(m=P.down(v,_,l+p,g,f.leftoverVisibleColumns,r,!0),_.normalizePosition(new w.y(m.lineNumber,m.column),2).lineNumber>l)break}while(p++<10&&l+p<_.getLineCount());return f.move(d,m.lineNumber,m.column,m.leftoverVisibleColumns)}static translateDown(v,_,f){const d=f.selection,r=P.down(v,_,d.selectionStartLineNumber,d.selectionStartColumn,f.selectionStartLeftoverVisibleColumns,1,!1),l=P.down(v,_,d.positionLineNumber,d.positionColumn,f.leftoverVisibleColumns,1,!1);return new S.mG(new x.Q(r.lineNumber,r.column,r.lineNumber,r.column),0,r.leftoverVisibleColumns,new w.y(l.lineNumber,l.column),l.leftoverVisibleColumns)}static up(v,_,f,d,r,l,g){return this.vertical(v,_,f,d,r,f-l,g,3)}static moveUp(v,_,f,d,r){let l,g;f.hasSelection()&&!d?(l=f.selection.startLineNumber,g=f.selection.startColumn):(l=f.position.lineNumber,g=f.position.column);const p=P.up(v,_,l,g,f.leftoverVisibleColumns,r,!0);return f.move(d,p.lineNumber,p.column,p.leftoverVisibleColumns)}static translateUp(v,_,f){const d=f.selection,r=P.up(v,_,d.selectionStartLineNumber,d.selectionStartColumn,f.selectionStartLeftoverVisibleColumns,1,!1),l=P.up(v,_,d.positionLineNumber,d.positionColumn,f.leftoverVisibleColumns,1,!1);return new S.mG(new x.Q(r.lineNumber,r.column,r.lineNumber,r.column),0,r.leftoverVisibleColumns,new w.y(l.lineNumber,l.column),l.leftoverVisibleColumns)}static _isBlankLine(v,_){return 0===v.getLineFirstNonWhitespaceColumn(_)}static moveToPrevBlankLine(v,_,f,d){let r=f.position.lineNumber;for(;r>1&&this._isBlankLine(_,r);)r--;for(;r>1&&!this._isBlankLine(_,r);)r--;return f.move(d,r,_.getLineMinColumn(r),0)}static moveToNextBlankLine(v,_,f,d){const r=_.getLineCount();let l=f.position.lineNumber;for(;l<r&&this._isBlankLine(_,l);)l++;for(;l<r&&!this._isBlankLine(_,l);)l++;return f.move(d,l,_.getLineMinColumn(l),0)}static moveToBeginningOfLine(v,_,f,d){const r=f.position.lineNumber,l=_.getLineMinColumn(r),g=_.getLineFirstNonWhitespaceColumn(r)||l;let p;return p=f.position.column===g?l:g,f.move(d,r,p,0)}static moveToEndOfLine(v,_,f,d,r){const l=f.position.lineNumber,g=_.getLineMaxColumn(l);return f.move(d,l,g,r?1073741824-g:0)}static moveToBeginningOfBuffer(v,_,f,d){return f.move(d,1,1,0)}static moveToEndOfBuffer(v,_,f,d){const r=_.getLineCount(),l=_.getLineMaxColumn(r);return f.move(d,r,l,0)}}},69527:(tt,xe,t)=>{t.d(xe,{vS:()=>T,TK:()=>p,yl:()=>m});var a=t(25680),F=t(6653),w=t(19533),x=t(25585),C=t(73678),S=t(14105);class b{constructor(L,j,Z){this._range=L,this._charBeforeSelection=j,this._charAfterSelection=Z}getEditOperations(L,j){j.addTrackedEditOperation(new C.Q(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),j.addTrackedEditOperation(new C.Q(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(L,j){const Z=j.getInverseEditOperations(),te=Z[0].range,X=Z[1].range;return new S.L(te.endLineNumber,te.endColumn,X.endLineNumber,X.endColumn-this._charAfterSelection.length)}}class P{constructor(L,j,Z){this._position=L,this._text=j,this._charAfter=Z}getEditOperations(L,j){j.addTrackedEditOperation(new C.Q(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(L,j){const te=j.getInverseEditOperations()[0].range;return new S.L(te.endLineNumber,te.startColumn,te.endLineNumber,te.endColumn-this._charAfter.length)}}var D=t(31360),v=t(34181),_=t(13632),f=t(41099),d=t(70416),r=t(19303),l=t(56930),g=t(49111);class p{static indent(L,j,Z){if(null===j||null===Z)return[];const te=[];for(let X=0,U=Z.length;X<U;X++)te[X]=new x.Y(Z[X],{isUnshift:!1,tabSize:L.tabSize,indentSize:L.indentSize,insertSpaces:L.insertSpaces,useTabStops:L.useTabStops,autoIndent:L.autoIndent},L.languageConfigurationService);return te}static outdent(L,j,Z){const te=[];for(let X=0,U=Z.length;X<U;X++)te[X]=new x.Y(Z[X],{isUnshift:!0,tabSize:L.tabSize,indentSize:L.indentSize,insertSpaces:L.insertSpaces,useTabStops:L.useTabStops,autoIndent:L.autoIndent},L.languageConfigurationService);return te}static shiftIndent(L,j,Z){return x.Y.shiftIndent(j,j.length+(Z=Z||1),L.tabSize,L.indentSize,L.insertSpaces)}static unshiftIndent(L,j,Z){return x.Y.unshiftIndent(j,j.length+(Z=Z||1),L.tabSize,L.indentSize,L.insertSpaces)}static _distributedPaste(L,j,Z,te){const X=[];for(let U=0,q=Z.length;U<q;U++)X[U]=new w.iu(Z[U],te[U]);return new D.vY(0,X,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(L,j,Z,te,X){const U=[];for(let q=0,R=Z.length;q<R;q++){const W=Z[q],Y=W.getPosition();if(X&&!W.isEmpty()&&(X=!1),X&&te.indexOf("\n")!==te.length-1&&(X=!1),X){const oe=new C.Q(Y.lineNumber,1,Y.lineNumber,1);U[q]=new w.ui(oe,te,W,!0)}else U[q]=new w.iu(W,te)}return new D.vY(0,U,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(L,j,Z,te,X){if(te||1===j.length)return null;if(X&&X.length===j.length)return X;if("spread"===L.multiCursorPaste){10===Z.charCodeAt(Z.length-1)&&(Z=Z.substr(0,Z.length-1)),13===Z.charCodeAt(Z.length-1)&&(Z=Z.substr(0,Z.length-1));const U=F.uz(Z);if(U.length===j.length)return U}return null}static paste(L,j,Z,te,X,U){const q=this._distributePasteToCursors(L,Z,te,X,U);return q?(Z=Z.sort(C.Q.compareRangesUsingStarts),this._distributedPaste(L,j,Z,q)):this._simplePaste(L,j,Z,te,X)}static _goodIndentForLine(L,j,Z){let te=null,X="";const U=(0,l.vn)(L.autoIndent,j,Z,!1,L.languageConfigurationService);if(U)te=U.action,X=U.indentation;else if(Z>1){let q;for(q=Z-1;q>=1;q--){const Y=j.getLineContent(q);if(F.lT(Y)>=0)break}if(q<1)return null;const R=j.getLineMaxColumn(q),W=(0,g.h)(L.autoIndent,j,new C.Q(q,R,q,R),L.languageConfigurationService);W&&(X=W.indentation+W.appendText)}return te&&(te===f.l.Indent&&(X=p.shiftIndent(L,X)),te===f.l.Outdent&&(X=p.unshiftIndent(L,X)),X=L.normalizeIndentation(X)),X||null}static _replaceJumpToNextIndent(L,j,Z,te){let X="";const U=Z.getStartPosition();if(L.insertSpaces){const q=L.visibleColumnFromColumn(j,U),R=L.indentSize,W=R-q%R;for(let Y=0;Y<W;Y++)X+=" "}else X="\t";return new w.iu(Z,X,te)}static tab(L,j,Z){const te=[];for(let X=0,U=Z.length;X<U;X++){const q=Z[X];if(q.isEmpty()){const R=j.getLineContent(q.startLineNumber);if(/^\s*$/.test(R)&&j.tokenization.isCheapToTokenize(q.startLineNumber)){let W=this._goodIndentForLine(L,j,q.startLineNumber);W=W||"\t";const Y=L.normalizeIndentation(W);if(!R.startsWith(Y)){te[X]=new w.iu(new C.Q(q.startLineNumber,1,q.startLineNumber,R.length+1),Y,!0);continue}}te[X]=this._replaceJumpToNextIndent(L,j,q,!0)}else{if(q.startLineNumber===q.endLineNumber){const R=j.getLineMaxColumn(q.startLineNumber);if(1!==q.startColumn||q.endColumn!==R){te[X]=this._replaceJumpToNextIndent(L,j,q,!1);continue}}te[X]=new x.Y(q,{isUnshift:!1,tabSize:L.tabSize,indentSize:L.indentSize,insertSpaces:L.insertSpaces,useTabStops:L.useTabStops,autoIndent:L.autoIndent},L.languageConfigurationService)}}return te}static compositionType(L,j,Z,te,X,U,q,R){const W=te.map(Y=>this._compositionType(Z,Y,X,U,q,R));return new D.vY(4,W,{shouldPushStackElementBefore:k(L,4),shouldPushStackElementAfter:!1})}static _compositionType(L,j,Z,te,X,U){if(!j.isEmpty())return null;const q=j.getPosition(),R=Math.max(1,q.column-te),W=Math.min(L.getLineMaxColumn(q.lineNumber),q.column+X),Y=new C.Q(q.lineNumber,R,q.lineNumber,W);return L.getValueInRange(Y)===Z&&0===U?null:new w.iP(Y,Z,0,U)}static _typeCommand(L,j,Z){return Z?new w.q2(L,j,!0):new w.iu(L,j,!0)}static _enter(L,j,Z,te){if(0===L.autoIndent)return p._typeCommand(te,"\n",Z);if(!j.tokenization.isCheapToTokenize(te.getStartPosition().lineNumber)||1===L.autoIndent){const R=j.getLineContent(te.startLineNumber),W=F.UU(R).substring(0,te.startColumn-1);return p._typeCommand(te,"\n"+L.normalizeIndentation(W),Z)}const X=(0,g.h)(L.autoIndent,j,te,L.languageConfigurationService);if(X){if(X.indentAction===f.l.None)return p._typeCommand(te,"\n"+L.normalizeIndentation(X.indentation+X.appendText),Z);if(X.indentAction===f.l.Indent)return p._typeCommand(te,"\n"+L.normalizeIndentation(X.indentation+X.appendText),Z);if(X.indentAction===f.l.IndentOutdent){const R=L.normalizeIndentation(X.indentation),W=L.normalizeIndentation(X.indentation+X.appendText),Y="\n"+W+"\n"+R;return Z?new w.q2(te,Y,!0):new w.iP(te,Y,-1,W.length-R.length,!0)}if(X.indentAction===f.l.Outdent){const R=p.unshiftIndent(L,X.indentation);return p._typeCommand(te,"\n"+L.normalizeIndentation(R+X.appendText),Z)}}const U=j.getLineContent(te.startLineNumber),q=F.UU(U).substring(0,te.startColumn-1);if(L.autoIndent>=4){const R=(0,l.MU)(L.autoIndent,j,te,{unshiftIndent:W=>p.unshiftIndent(L,W),shiftIndent:W=>p.shiftIndent(L,W),normalizeIndentation:W=>L.normalizeIndentation(W)},L.languageConfigurationService);if(R){let W=L.visibleColumnFromColumn(j,te.getEndPosition());const Y=te.endColumn,oe=j.getLineContent(te.endLineNumber),z=F.HG(oe);if(te=te.setEndPosition(te.endLineNumber,z>=0?Math.max(te.endColumn,z+1):j.getLineMaxColumn(te.endLineNumber)),Z)return new w.q2(te,"\n"+L.normalizeIndentation(R.afterEnter),!0);{let G=0;return Y<=z+1&&(L.insertSpaces||(W=Math.ceil(W/L.indentSize)),G=Math.min(W+1-L.normalizeIndentation(R.afterEnter).length-1,0)),new w.iP(te,"\n"+L.normalizeIndentation(R.afterEnter),0,G,!0)}}}return p._typeCommand(te,"\n"+L.normalizeIndentation(q),Z)}static _isAutoIndentType(L,j,Z){if(L.autoIndent<4)return!1;for(let te=0,X=Z.length;te<X;te++)if(!j.tokenization.isCheapToTokenize(Z[te].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(L,j,Z,te){const X=(0,d.Cw)(j,Z.startLineNumber,Z.startColumn),U=(0,l._t)(L.autoIndent,j,Z,te,{shiftIndent:q=>p.shiftIndent(L,q),unshiftIndent:q=>p.unshiftIndent(L,q)},L.languageConfigurationService);if(null===U)return null;if(U!==L.normalizeIndentation(X)){const q=j.getLineFirstNonWhitespaceColumn(Z.startLineNumber);return p._typeCommand(new C.Q(Z.startLineNumber,1,Z.endLineNumber,Z.endColumn),0===q?L.normalizeIndentation(U)+te:L.normalizeIndentation(U)+j.getLineContent(Z.startLineNumber).substring(q-1,Z.startColumn-1)+te,!1)}return null}static _isAutoClosingOvertype(L,j,Z,te,X){if("never"===L.autoClosingOvertype||!L.autoClosingPairs.autoClosingPairsCloseSingleChar.has(X))return!1;for(let U=0,q=Z.length;U<q;U++){const R=Z[U];if(!R.isEmpty())return!1;const W=R.getPosition(),Y=j.getLineContent(W.lineNumber);if(Y.charAt(W.column-1)!==X)return!1;const z=(0,D.vG)(X);if(92===(W.column>2?Y.charCodeAt(W.column-2):0)&&z)return!1;if("auto"===L.autoClosingOvertype){let Q=!1;for(let K=0,ie=te.length;K<ie;K++){const ae=te[K];if(W.lineNumber===ae.startLineNumber&&W.column===ae.startColumn){Q=!0;break}}if(!Q)return!1}}return!0}static _runAutoClosingOvertype(L,j,Z,te,X){const U=[];for(let q=0,R=te.length;q<R;q++){const Y=te[q].getPosition(),oe=new C.Q(Y.lineNumber,Y.column,Y.lineNumber,Y.column+1);U[q]=new w.iu(oe,X)}return new D.vY(4,U,{shouldPushStackElementBefore:k(L,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(L,j){const Z=j.charAt(0),te=L.autoClosingPairs.autoClosingPairsOpenByStart.get(Z)||[],X=L.autoClosingPairs.autoClosingPairsCloseByStart.get(Z)||[],U=te.some(R=>j.startsWith(R.open)),q=X.some(R=>j.startsWith(R.close));return!U&&q}static _findAutoClosingPairOpen(L,j,Z,te){const X=L.autoClosingPairs.autoClosingPairsOpenByEnd.get(te);if(!X)return null;let U=null;for(const q of X)if(null===U||q.open.length>U.open.length){let R=!0;for(const W of Z)if(j.getValueInRange(new C.Q(W.lineNumber,W.column-q.open.length+1,W.lineNumber,W.column))+te!==q.open){R=!1;break}R&&(U=q)}return U}static _findContainedAutoClosingPair(L,j){if(j.open.length<=1)return null;const Z=j.close.charAt(j.close.length-1),te=L.autoClosingPairs.autoClosingPairsCloseByEnd.get(Z)||[];let X=null;for(const U of te)U.open!==j.open&&j.open.includes(U.open)&&j.close.endsWith(U.close)&&(!X||U.open.length>X.open.length)&&(X=U);return X}static _getAutoClosingPairClose(L,j,Z,te,X){for(const Q of Z)if(!Q.isEmpty())return null;const U=Z.map(Q=>{const K=Q.getPosition();return X?{lineNumber:K.lineNumber,beforeColumn:K.column-te.length,afterColumn:K.column}:{lineNumber:K.lineNumber,beforeColumn:K.column,afterColumn:K.column}}),q=this._findAutoClosingPairOpen(L,j,U.map(Q=>new _.y(Q.lineNumber,Q.beforeColumn)),te);if(!q)return null;let R,W;if((0,D.vG)(te)?(R=L.autoClosingQuotes,W=L.shouldAutoCloseBefore.quote):L.blockCommentStartToken&&q.open.includes(L.blockCommentStartToken)?(R=L.autoClosingComments,W=L.shouldAutoCloseBefore.comment):(R=L.autoClosingBrackets,W=L.shouldAutoCloseBefore.bracket),"never"===R)return null;const oe=this._findContainedAutoClosingPair(L,q),z=oe?oe.close:"";let G=!0;for(const Q of U){const{lineNumber:K,beforeColumn:ie,afterColumn:ae}=Q,de=j.getLineContent(K),se=de.substring(0,ie-1),ge=de.substring(ae-1);if(ge.startsWith(z)||(G=!1),ge.length>0){const ce=ge.charAt(0);if(!p._isBeforeClosingBrace(L,ge)&&!W(ce))return null}if(1===q.open.length&&("'"===te||'"'===te)&&"always"!==R){const ce=(0,v.i)(L.wordSeparators,[]);if(se.length>0){const Se=se.charCodeAt(se.length-1);if(0===ce.get(Se))return null}}if(!j.tokenization.isCheapToTokenize(K))return null;j.tokenization.forceTokenization(K);const _e=j.tokenization.getLineTokens(K),ye=(0,r.BQ)(_e,ie-1);if(!q.shouldAutoClose(ye,ie-ye.firstCharOffset))return null;const M=q.findNeutralCharacter();if(M){const ce=j.tokenization.getTokenTypeIfInsertingCharacter(K,ie,M);if(!q.isOK(ce))return null}}return G?q.close.substring(0,q.close.length-z.length):q.close}static _runAutoClosingOpenCharType(L,j,Z,te,X,U,q){const R=[];for(let W=0,Y=te.length;W<Y;W++)R[W]=new m(te[W],X,!U,q);return new D.vY(4,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(L,j){return(0,D.vG)(j)?"quotes"===L.autoSurround||"languageDefined"===L.autoSurround:"brackets"===L.autoSurround||"languageDefined"===L.autoSurround}static _isSurroundSelectionType(L,j,Z,te){if(!p._shouldSurroundChar(L,te)||!L.surroundingPairs.hasOwnProperty(te))return!1;const X=(0,D.vG)(te);for(const U of Z){if(U.isEmpty())return!1;let q=!0;for(let R=U.startLineNumber;R<=U.endLineNumber;R++){const W=j.getLineContent(R),z=W.substring(R===U.startLineNumber?U.startColumn-1:0,R===U.endLineNumber?U.endColumn-1:W.length);if(/[^ \t]/.test(z)){q=!1;break}}if(q)return!1;if(X&&U.startLineNumber===U.endLineNumber&&U.startColumn+1===U.endColumn){const R=j.getValueInRange(U);if((0,D.vG)(R))return!1}}return!0}static _runSurroundSelectionType(L,j,Z,te,X){const U=[];for(let q=0,R=te.length;q<R;q++)U[q]=new b(te[q],X,j.surroundingPairs[X]);return new D.vY(0,U,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(L,j,Z){return!(1!==Z.length||!j.tokenization.isCheapToTokenize(Z[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(L,j,Z,te,X){if(!j.electricChars.hasOwnProperty(X)||!te.isEmpty())return null;const U=te.getPosition();Z.tokenization.forceTokenization(U.lineNumber);const q=Z.tokenization.getLineTokens(U.lineNumber);let R;try{R=j.onElectricCharacter(X,q,U.column)}catch(W){return(0,a.dz)(W),null}if(!R)return null;if(R.matchOpenBracket){const W=(q.getLineContent()+X).lastIndexOf(R.matchOpenBracket)+1,Y=Z.bracketPairs.findMatchingBracketUp(R.matchOpenBracket,{lineNumber:U.lineNumber,column:W},500);if(Y){if(Y.startLineNumber===U.lineNumber)return null;const oe=Z.getLineContent(Y.startLineNumber),z=F.UU(oe),G=j.normalizeIndentation(z),Q=Z.getLineContent(U.lineNumber),K=Z.getLineFirstNonWhitespaceColumn(U.lineNumber)||U.column,ae=G+Q.substring(K-1,U.column-1)+X,de=new C.Q(U.lineNumber,1,U.lineNumber,U.column),se=new w.iu(de,ae);return new D.vY(A(ae,L),[se],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(L,j,Z,te,X,U){if(!te)return null;let q=null;for(const oe of te)if(null===q)q=oe.insertedText;else if(q!==oe.insertedText)return null;if(!q||1!==q.length)return null;const R=q;let W=!1;for(const oe of te)if(0!==oe.deletedText.length){W=!0;break}if(W){if(!p._shouldSurroundChar(j,R)||!j.surroundingPairs.hasOwnProperty(R))return null;const oe=(0,D.vG)(R);for(const Q of te)if(0!==Q.deletedSelectionStart||Q.deletedSelectionEnd!==Q.deletedText.length||/^[ \t]+$/.test(Q.deletedText)||oe&&(0,D.vG)(Q.deletedText))return null;const z=[];for(const Q of X){if(!Q.isEmpty())return null;z.push(Q.getPosition())}if(z.length!==te.length)return null;const G=[];for(let Q=0,K=z.length;Q<K;Q++)G.push(new P(z[Q],te[Q].deletedText,j.surroundingPairs[R]));return new D.vY(4,G,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(j,Z,X,U,R)){const oe=X.map(z=>new w.iu(new C.Q(z.positionLineNumber,z.positionColumn,z.positionLineNumber,z.positionColumn+1),"",!1));return new D.vY(4,oe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const Y=this._getAutoClosingPairClose(j,Z,X,R,!0);return null!==Y?this._runAutoClosingOpenCharType(L,j,Z,X,R,!0,Y):null}static typeWithInterceptors(L,j,Z,te,X,U,q){if(!L&&"\n"===q){const Y=[];for(let oe=0,z=X.length;oe<z;oe++)Y[oe]=p._enter(Z,te,!1,X[oe]);return new D.vY(4,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!L&&this._isAutoIndentType(Z,te,X)){const Y=[];let oe=!1;for(let z=0,G=X.length;z<G;z++)if(Y[z]=this._runAutoIndentType(Z,te,X[z],q),!Y[z]){oe=!0;break}if(!oe)return new D.vY(4,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(Z,te,X,U,q))return this._runAutoClosingOvertype(j,Z,te,X,q);if(!L){const Y=this._getAutoClosingPairClose(Z,te,X,q,!1);if(Y)return this._runAutoClosingOpenCharType(j,Z,te,X,q,!1,Y)}if(!L&&this._isSurroundSelectionType(Z,te,X,q))return this._runSurroundSelectionType(j,Z,te,X,q);if(!L&&this._isTypeInterceptorElectricChar(Z,te,X)){const Y=this._typeInterceptorElectricChar(j,Z,te,X[0],q);if(Y)return Y}const R=[];for(let Y=0,oe=X.length;Y<oe;Y++)R[Y]=new w.iu(X[Y],q);const W=A(q,j);return new D.vY(W,R,{shouldPushStackElementBefore:k(j,W),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(L,j,Z,te,X){const U=[];for(let R=0,W=te.length;R<W;R++)U[R]=new w.iu(te[R],X);const q=A(X,L);return new D.vY(q,U,{shouldPushStackElementBefore:k(L,q),shouldPushStackElementAfter:!1})}static lineInsertBefore(L,j,Z){if(null===j||null===Z)return[];const te=[];for(let X=0,U=Z.length;X<U;X++){let q=Z[X].positionLineNumber;if(1===q)te[X]=new w.q2(new C.Q(1,1,1,1),"\n");else{q--;const R=j.getLineMaxColumn(q);te[X]=this._enter(L,j,!1,new C.Q(q,R,q,R))}}return te}static lineInsertAfter(L,j,Z){if(null===j||null===Z)return[];const te=[];for(let X=0,U=Z.length;X<U;X++){const q=Z[X].positionLineNumber,R=j.getLineMaxColumn(q);te[X]=this._enter(L,j,!1,new C.Q(q,R,q,R))}return te}static lineBreakInsert(L,j,Z){const te=[];for(let X=0,U=Z.length;X<U;X++)te[X]=this._enter(L,j,!0,Z[X]);return te}}class m extends w.iP{constructor(L,j,Z,te){super(L,(Z?j:"")+te,0,-te.length),this._openCharacter=j,this._closeCharacter=te,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(L,j){const te=j.getInverseEditOperations()[0].range;return this.closeCharacterRange=new C.Q(te.startLineNumber,te.endColumn-this._closeCharacter.length,te.endLineNumber,te.endColumn),this.enclosingRange=new C.Q(te.startLineNumber,te.endColumn-this._openCharacter.length-this._closeCharacter.length,te.endLineNumber,te.endColumn),super.computeCursorState(L,j)}}class T{constructor(L,j,Z,te,X,U){this.deletedText=L,this.deletedSelectionStart=j,this.deletedSelectionEnd=Z,this.insertedText=te,this.insertedSelectionStart=X,this.insertedSelectionEnd=U}}function A(H,L){return" "===H?5===L||6===L?6:5:4}function k(H,L){return!(!N(H)||N(L))||5!==H&&O(H)!==O(L)}function O(H){return 6===H||5===H?"space":H}function N(H){return 4===H||5===H||6===H}},27948:(tt,xe,t)=>{t.d(xe,{c:()=>P,z:()=>b});var a=t(6653),F=t(31360),w=t(68571),x=t(34181),C=t(13632),S=t(73678);class b{static _createWord(_,f,d,r,l){return{start:r,end:l,wordType:f,nextCharClass:d}}static _createIntlWord(_,f){return{start:_.index,end:_.index+_.segment.length,wordType:1,nextCharClass:f}}static _findPreviousWordOnLine(_,f,d){const r=f.getLineContent(d.lineNumber);return this._doFindPreviousWordOnLine(r,_,d)}static _doFindPreviousWordOnLine(_,f,d){let r=0;const l=f.findPrevIntlWordBeforeOrAtOffset(_,d.column-2);for(let g=d.column-2;g>=0;g--){const p=_.charCodeAt(g),m=f.get(p);if(l&&g===l.index)return this._createIntlWord(l,m);if(0===m){if(2===r)return this._createWord(_,r,m,g+1,this._findEndOfWord(_,f,r,g+1));r=1}else if(2===m){if(1===r)return this._createWord(_,r,m,g+1,this._findEndOfWord(_,f,r,g+1));r=2}else if(1===m&&0!==r)return this._createWord(_,r,m,g+1,this._findEndOfWord(_,f,r,g+1))}return 0!==r?this._createWord(_,r,1,0,this._findEndOfWord(_,f,r,0)):null}static _findEndOfWord(_,f,d,r){const l=f.findNextIntlWordAtOrAfterOffset(_,r),g=_.length;for(let p=r;p<g;p++){const m=_.charCodeAt(p),T=f.get(m);if(l&&p===l.index+l.segment.length||1===T||1===d&&2===T||2===d&&0===T)return p}return g}static _findNextWordOnLine(_,f,d){const r=f.getLineContent(d.lineNumber);return this._doFindNextWordOnLine(r,_,d)}static _doFindNextWordOnLine(_,f,d){let r=0;const l=_.length,g=f.findNextIntlWordAtOrAfterOffset(_,d.column-1);for(let p=d.column-1;p<l;p++){const m=_.charCodeAt(p),T=f.get(m);if(g&&p===g.index)return this._createIntlWord(g,T);if(0===T){if(2===r)return this._createWord(_,r,T,this._findStartOfWord(_,f,r,p-1),p);r=1}else if(2===T){if(1===r)return this._createWord(_,r,T,this._findStartOfWord(_,f,r,p-1),p);r=2}else if(1===T&&0!==r)return this._createWord(_,r,T,this._findStartOfWord(_,f,r,p-1),p)}return 0!==r?this._createWord(_,r,1,this._findStartOfWord(_,f,r,l-1),l):null}static _findStartOfWord(_,f,d,r){const l=f.findPrevIntlWordBeforeOrAtOffset(_,r);for(let g=r;g>=0;g--){const p=_.charCodeAt(g),m=f.get(p);if(l&&g===l.index)return g;if(1===m||1===d&&2===m||2===d&&0===m)return g+1}return 0}static moveWordLeft(_,f,d,r){let l=d.lineNumber,g=d.column;1===g&&l>1&&(l-=1,g=f.getLineMaxColumn(l));let p=b._findPreviousWordOnLine(_,f,new C.y(l,g));if(0===r)return new C.y(l,p?p.start+1:1);if(1===r)return p&&2===p.wordType&&p.end-p.start==1&&0===p.nextCharClass&&(p=b._findPreviousWordOnLine(_,f,new C.y(l,p.start+1))),new C.y(l,p?p.start+1:1);if(3===r){for(;p&&2===p.wordType;)p=b._findPreviousWordOnLine(_,f,new C.y(l,p.start+1));return new C.y(l,p?p.start+1:1)}return p&&g<=p.end+1&&(p=b._findPreviousWordOnLine(_,f,new C.y(l,p.start+1))),new C.y(l,p?p.end+1:1)}static _moveWordPartLeft(_,f){const d=f.lineNumber,r=_.getLineMaxColumn(d);if(1===f.column)return d>1?new C.y(d-1,_.getLineMaxColumn(d-1)):f;const l=_.getLineContent(d);for(let g=f.column-1;g>1;g--){const p=l.charCodeAt(g-2),m=l.charCodeAt(g-1);if(95===p&&95!==m)return new C.y(d,g);if(45===p&&45!==m)return new C.y(d,g);if((a.Lv(p)||a.DB(p))&&a.Wv(m))return new C.y(d,g);if(a.Wv(p)&&a.Wv(m)&&g+1<r){const T=l.charCodeAt(g);if(a.Lv(T)||a.DB(T))return new C.y(d,g)}}return new C.y(d,1)}static moveWordRight(_,f,d,r){let l=d.lineNumber,g=d.column,p=!1;g===f.getLineMaxColumn(l)&&l<f.getLineCount()&&(p=!0,l+=1,g=1);let m=b._findNextWordOnLine(_,f,new C.y(l,g));if(2===r)m&&2===m.wordType&&m.end-m.start==1&&0===m.nextCharClass&&(m=b._findNextWordOnLine(_,f,new C.y(l,m.end+1))),g=m?m.end+1:f.getLineMaxColumn(l);else if(3===r){for(p&&(g=0);m&&(2===m.wordType||m.start+1<=g);)m=b._findNextWordOnLine(_,f,new C.y(l,m.end+1));g=m?m.start+1:f.getLineMaxColumn(l)}else m&&!p&&g>=m.start+1&&(m=b._findNextWordOnLine(_,f,new C.y(l,m.end+1))),g=m?m.start+1:f.getLineMaxColumn(l);return new C.y(l,g)}static _moveWordPartRight(_,f){const d=f.lineNumber,r=_.getLineMaxColumn(d);if(f.column===r)return d<_.getLineCount()?new C.y(d+1,1):f;const l=_.getLineContent(d);for(let g=f.column+1;g<r;g++){const p=l.charCodeAt(g-2),m=l.charCodeAt(g-1);if(95!==p&&95===m)return new C.y(d,g);if(45!==p&&45===m)return new C.y(d,g);if((a.Lv(p)||a.DB(p))&&a.Wv(m))return new C.y(d,g);if(a.Wv(p)&&a.Wv(m)&&g+1<r){const T=l.charCodeAt(g);if(a.Lv(T)||a.DB(T))return new C.y(d,g)}}return new C.y(d,r)}static _deleteWordLeftWhitespace(_,f){const d=_.getLineContent(f.lineNumber),r=f.column-2,l=a.lT(d,r);return l+1<r?new S.Q(f.lineNumber,l+2,f.lineNumber,f.column):null}static deleteWordLeft(_,f){const d=_.wordSeparators,r=_.model,l=_.selection,g=_.whitespaceHeuristics;if(!l.isEmpty())return l;if(w.g.isAutoClosingPairDelete(_.autoClosingDelete,_.autoClosingBrackets,_.autoClosingQuotes,_.autoClosingPairs.autoClosingPairsOpenByEnd,_.model,[_.selection],_.autoClosedCharacters)){const k=_.selection.getPosition();return new S.Q(k.lineNumber,k.column-1,k.lineNumber,k.column+1)}const p=new C.y(l.positionLineNumber,l.positionColumn);let m=p.lineNumber,T=p.column;if(1===m&&1===T)return null;if(g){const k=this._deleteWordLeftWhitespace(r,p);if(k)return k}let A=b._findPreviousWordOnLine(d,r,p);return 0===f?A?T=A.start+1:T>1?T=1:(m--,T=r.getLineMaxColumn(m)):(A&&T<=A.end+1&&(A=b._findPreviousWordOnLine(d,r,new C.y(m,A.start+1))),A?T=A.end+1:T>1?T=1:(m--,T=r.getLineMaxColumn(m))),new S.Q(m,T,p.lineNumber,p.column)}static deleteInsideWord(_,f,d){if(!d.isEmpty())return d;const r=new C.y(d.positionLineNumber,d.positionColumn);return this._deleteInsideWordWhitespace(f,r)||this._deleteInsideWordDetermineDeleteRange(_,f,r)}static _charAtIsWhitespace(_,f){const d=_.charCodeAt(f);return 32===d||9===d}static _deleteInsideWordWhitespace(_,f){const d=_.getLineContent(f.lineNumber),r=d.length;if(0===r)return null;let l=Math.max(f.column-2,0);if(!this._charAtIsWhitespace(d,l))return null;let g=Math.min(f.column-1,r-1);if(!this._charAtIsWhitespace(d,g))return null;for(;l>0&&this._charAtIsWhitespace(d,l-1);)l--;for(;g+1<r&&this._charAtIsWhitespace(d,g+1);)g++;return new S.Q(f.lineNumber,l+1,f.lineNumber,g+2)}static _deleteInsideWordDetermineDeleteRange(_,f,d){const r=f.getLineContent(d.lineNumber),l=r.length;if(0===l)return d.lineNumber>1?new S.Q(d.lineNumber-1,f.getLineMaxColumn(d.lineNumber-1),d.lineNumber,1):d.lineNumber<f.getLineCount()?new S.Q(d.lineNumber,1,d.lineNumber+1,1):new S.Q(d.lineNumber,1,d.lineNumber,1);const g=k=>k.start+1<=d.column&&d.column<=k.end+1,p=(k,O)=>(k=Math.min(k,d.column),O=Math.max(O,d.column),new S.Q(d.lineNumber,k,d.lineNumber,O)),m=k=>{let O=k.start+1,N=k.end+1,H=!1;for(;N-1<l&&this._charAtIsWhitespace(r,N-1);)H=!0,N++;if(!H)for(;O>1&&this._charAtIsWhitespace(r,O-2);)O--;return p(O,N)},T=b._findPreviousWordOnLine(_,f,d);if(T&&g(T))return m(T);const A=b._findNextWordOnLine(_,f,d);return A&&g(A)?m(A):T&&A?p(T.end+1,A.start+1):T?p(T.start+1,T.end+1):A?p(A.start+1,A.end+1):p(1,l+1)}static _deleteWordPartLeft(_,f){if(!f.isEmpty())return f;const d=f.getPosition(),r=b._moveWordPartLeft(_,d);return new S.Q(d.lineNumber,d.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(_,f){const d=_.length;for(let r=f;r<d;r++){const l=_.charAt(r);if(" "!==l&&"\t"!==l)return r}return d}static _deleteWordRightWhitespace(_,f){const d=_.getLineContent(f.lineNumber),r=f.column-1,l=this._findFirstNonWhitespaceChar(d,r);return r+1<l?new S.Q(f.lineNumber,f.column,f.lineNumber,l+1):null}static deleteWordRight(_,f){const d=_.wordSeparators,r=_.model,l=_.selection,g=_.whitespaceHeuristics;if(!l.isEmpty())return l;const p=new C.y(l.positionLineNumber,l.positionColumn);let m=p.lineNumber,T=p.column;const A=r.getLineCount(),k=r.getLineMaxColumn(m);if(m===A&&T===k)return null;if(g){const N=this._deleteWordRightWhitespace(r,p);if(N)return N}let O=b._findNextWordOnLine(d,r,p);return 2===f?O?T=O.end+1:T<k||m===A?T=k:(m++,O=b._findNextWordOnLine(d,r,new C.y(m,1)),T=O?O.start+1:r.getLineMaxColumn(m)):(O&&T>=O.start+1&&(O=b._findNextWordOnLine(d,r,new C.y(m,O.end+1))),O?T=O.start+1:T<k||m===A?T=k:(m++,O=b._findNextWordOnLine(d,r,new C.y(m,1)),T=O?O.start+1:r.getLineMaxColumn(m))),new S.Q(m,T,p.lineNumber,p.column)}static _deleteWordPartRight(_,f){if(!f.isEmpty())return f;const d=f.getPosition(),r=b._moveWordPartRight(_,d);return new S.Q(d.lineNumber,d.column,r.lineNumber,r.column)}static _createWordAtPosition(_,f,d){const r=new S.Q(f,d.start+1,f,d.end+1);return{word:_.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(_,f,d,r){const l=(0,x.i)(f,d),g=b._findPreviousWordOnLine(l,_,r);if(g&&1===g.wordType&&g.start<=r.column-1&&r.column-1<=g.end)return b._createWordAtPosition(_,r.lineNumber,g);const p=b._findNextWordOnLine(l,_,r);return p&&1===p.wordType&&p.start<=r.column-1&&r.column-1<=p.end?b._createWordAtPosition(_,r.lineNumber,p):null}static word(_,f,d,r,l){const g=(0,x.i)(_.wordSeparators,_.wordSegmenterLocales),p=b._findPreviousWordOnLine(g,f,l),m=b._findNextWordOnLine(g,f,l);if(!r){let N,H;return p&&1===p.wordType&&p.start<=l.column-1&&l.column-1<=p.end?(N=p.start+1,H=p.end+1):m&&1===m.wordType&&m.start<=l.column-1&&l.column-1<=m.end?(N=m.start+1,H=m.end+1):(N=p?p.end+1:1,H=m?m.start+1:f.getLineMaxColumn(l.lineNumber)),new F.mG(new S.Q(l.lineNumber,N,l.lineNumber,H),1,0,new C.y(l.lineNumber,H),0)}let T,A;p&&1===p.wordType&&p.start<l.column-1&&l.column-1<p.end?(T=p.start+1,A=p.end+1):m&&1===m.wordType&&m.start<l.column-1&&l.column-1<m.end?(T=m.start+1,A=m.end+1):(T=l.column,A=l.column);const k=l.lineNumber;let O;if(d.selectionStart.containsPosition(l))O=d.selectionStart.endColumn;else if(l.isBeforeOrEqual(d.selectionStart.getStartPosition())){O=T;const N=new C.y(k,O);d.selectionStart.containsPosition(N)&&(O=d.selectionStart.endColumn)}else{O=A;const N=new C.y(k,O);d.selectionStart.containsPosition(N)&&(O=d.selectionStart.startColumn)}return d.move(!0,k,O,0)}}class P extends b{static deleteWordPartLeft(_){const f=D([b.deleteWordLeft(_,0),b.deleteWordLeft(_,2),b._deleteWordPartLeft(_.model,_.selection)]);return f.sort(S.Q.compareRangesUsingEnds),f[2]}static deleteWordPartRight(_){const f=D([b.deleteWordRight(_,0),b.deleteWordRight(_,2),b._deleteWordPartRight(_.model,_.selection)]);return f.sort(S.Q.compareRangesUsingStarts),f[0]}static moveWordPartLeft(_,f,d){const r=D([b.moveWordLeft(_,f,d,0),b.moveWordLeft(_,f,d,2),b._moveWordPartLeft(f,d)]);return r.sort(C.y.compare),r[2]}static moveWordPartRight(_,f,d){const r=D([b.moveWordRight(_,f,d,0),b.moveWordRight(_,f,d,2),b._moveWordPartRight(f,d)]);return r.sort(C.y.compare),r[0]}}function D(v){return v.filter(_=>!!_)}},8045:(tt,xe,t)=>{t.d(xe,{$8:()=>C,SL:()=>x,_3:()=>S,aY:()=>P,uY:()=>b});var a=t(30833),F=t(25680),w=t(21639);class x{static trivial(v,_){return new x([new C(w.L.ofLength(v.length),w.L.ofLength(_.length))],!1)}static trivialTimedOut(v,_){return new x([new C(w.L.ofLength(v.length),w.L.ofLength(_.length))],!0)}constructor(v,_){this.diffs=v,this.hitTimeout=_}}class C{static invert(v,_){const f=[];return(0,a.pN)(v,(d,r)=>{f.push(C.fromOffsetPairs(d?d.getEndExclusives():S.zero,r?r.getStarts():new S(_,(d?d.seq2Range.endExclusive-d.seq1Range.endExclusive:0)+_)))}),f}static fromOffsetPairs(v,_){return new C(new w.L(v.offset1,_.offset1),new w.L(v.offset2,_.offset2))}constructor(v,_){this.seq1Range=v,this.seq2Range=_}swap(){return new C(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(v){return new C(this.seq1Range.join(v.seq1Range),this.seq2Range.join(v.seq2Range))}delta(v){return 0===v?this:new C(this.seq1Range.delta(v),this.seq2Range.delta(v))}deltaStart(v){return 0===v?this:new C(this.seq1Range.deltaStart(v),this.seq2Range.deltaStart(v))}deltaEnd(v){return 0===v?this:new C(this.seq1Range.deltaEnd(v),this.seq2Range.deltaEnd(v))}intersect(v){const _=this.seq1Range.intersect(v.seq1Range),f=this.seq2Range.intersect(v.seq2Range);if(_&&f)return new C(_,f)}getStarts(){return new S(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new S(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class S{constructor(v,_){this.offset1=v,this.offset2=_}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(v){return 0===v?this:new S(this.offset1+v,this.offset2+v)}equals(v){return this.offset1===v.offset1&&this.offset2===v.offset2}}S.zero=new S(0,0),S.max=new S(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class b{isValid(){return!0}}b.instance=new b;class P{constructor(v){if(this.timeout=v,this.startTime=Date.now(),this.valid=!0,v<=0)throw new F.D7("timeout must be positive")}isValid(){return Date.now()-this.startTime<this.timeout||!this.valid||(this.valid=!1),this.valid}}},19399:(tt,xe,t)=>{t.d(xe,{D8:()=>oe});var a=t(30833),F=t(43929),w=t(84132),x=t(21639),C=t(73678),S=t(8045);class b{constructor(K,ie){this.width=K,this.height=ie,this.array=[],this.array=new Array(K*ie)}get(K,ie){return this.array[K+ie*this.width]}set(K,ie,ae){this.array[K+ie*this.width]=ae}}function P(Q){return 32===Q||9===Q}class D{static getKey(K){let ie=this.chrKeys.get(K);return void 0===ie&&(ie=this.chrKeys.size,this.chrKeys.set(K,ie)),ie}constructor(K,ie,ae){this.range=K,this.lines=ie,this.source=ae,this.histogram=[];let de=0;for(let se=K.startLineNumber-1;se<K.endLineNumberExclusive-1;se++){const ge=ie[se];for(let ye=0;ye<ge.length;ye++){de++;const ce=D.getKey(ge[ye]);this.histogram[ce]=(this.histogram[ce]||0)+1}de++;const _e=D.getKey("\n");this.histogram[_e]=(this.histogram[_e]||0)+1}this.totalCount=de}computeSimilarity(K){var ie,ae;let de=0;const se=Math.max(this.histogram.length,K.histogram.length);for(let ge=0;ge<se;ge++)de+=Math.abs((null!==(ie=this.histogram[ge])&&void 0!==ie?ie:0)-(null!==(ae=K.histogram[ge])&&void 0!==ae?ae:0));return 1-de/(this.totalCount+K.totalCount)}}D.chrKeys=new Map;class v{compute(K,ie,ae=S.uY.instance,de){if(0===K.length||0===ie.length)return S.SL.trivial(K,ie);const se=new b(K.length,ie.length),ge=new b(K.length,ie.length),_e=new b(K.length,ie.length);for(let ue=0;ue<K.length;ue++)for(let we=0;we<ie.length;we++){if(!ae.isValid())return S.SL.trivialTimedOut(K,ie);const Me=0===ue?0:se.get(ue-1,we),Ve=0===we?0:se.get(ue,we-1);let $e;K.getElement(ue)===ie.getElement(we)?($e=0===ue||0===we?0:se.get(ue-1,we-1),ue>0&&we>0&&3===ge.get(ue-1,we-1)&&($e+=_e.get(ue-1,we-1)),$e+=de?de(ue,we):1):$e=-1;const it=Math.max(Me,Ve,$e);if(it===$e){const He=ue>0&&we>0?_e.get(ue-1,we-1):0;_e.set(ue,we,He+1),ge.set(ue,we,3)}else it===Me?(_e.set(ue,we,0),ge.set(ue,we,1)):it===Ve&&(_e.set(ue,we,0),ge.set(ue,we,2));se.set(ue,we,it)}const ye=[];let M=K.length,ce=ie.length;function Se(ue,we){(ue+1!==M||we+1!==ce)&&ye.push(new S.$8(new x.L(ue+1,M),new x.L(we+1,ce))),M=ue,ce=we}let Ie=K.length-1,ne=ie.length-1;for(;Ie>=0&&ne>=0;)3===ge.get(Ie,ne)?(Se(Ie,ne),Ie--,ne--):1===ge.get(Ie,ne)?Ie--:ne--;return Se(-1,-1),ye.reverse(),new S.SL(ye,!1)}}class _{compute(K,ie,ae=S.uY.instance){if(0===K.length||0===ie.length)return S.SL.trivial(K,ie);const de=K,se=ie;function ge(we,Me){for(;we<de.length&&Me<se.length&&de.getElement(we)===se.getElement(Me);)we++,Me++;return we}let _e=0;const ye=new d;ye.set(0,ge(0,0));const M=new r;M.set(0,0===ye.get(0)?null:new f(null,0,0,ye.get(0)));let ce=0;e:for(;;){if(_e++,!ae.isValid())return S.SL.trivialTimedOut(de,se);const we=-Math.min(_e,se.length+_e%2),Me=Math.min(_e,de.length+_e%2);for(ce=we;ce<=Me;ce+=2){let Ve=0;const $e=ce===Me?-1:ye.get(ce+1),it=ce===we?-1:ye.get(ce-1)+1;Ve++;const He=Math.min(Math.max($e,it),de.length),me=He-ce;if(Ve++,He>de.length||me>se.length)continue;const le=ge(He,me);ye.set(ce,le);const Ee=M.get(He===$e?ce+1:ce-1);if(M.set(ce,le!==He?new f(Ee,He,me,le-He):Ee),ye.get(ce)===de.length&&ye.get(ce)-ce===se.length)break e}}let Se=M.get(ce);const Ie=[];let ne=de.length,ue=se.length;for(;;){const we=Se?Se.x+Se.length:0,Me=Se?Se.y+Se.length:0;if((we!==ne||Me!==ue)&&Ie.push(new S.$8(new x.L(we,ne),new x.L(Me,ue))),!Se)break;ne=Se.x,ue=Se.y,Se=Se.prev}return Ie.reverse(),new S.SL(Ie,!1)}}class f{constructor(K,ie,ae,de){this.prev=K,this.x=ie,this.y=ae,this.length=de}}class d{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(K){return K<0?this.negativeArr[K=-K-1]:this.positiveArr[K]}set(K,ie){if(K<0){if((K=-K-1)>=this.negativeArr.length){const ae=this.negativeArr;this.negativeArr=new Int32Array(2*ae.length),this.negativeArr.set(ae)}this.negativeArr[K]=ie}else{if(K>=this.positiveArr.length){const ae=this.positiveArr;this.positiveArr=new Int32Array(2*ae.length),this.positiveArr.set(ae)}this.positiveArr[K]=ie}}}class r{constructor(){this.positiveArr=[],this.negativeArr=[]}get(K){return K<0?this.negativeArr[K=-K-1]:this.positiveArr[K]}set(K,ie){K<0?this.negativeArr[K=-K-1]=ie:this.positiveArr[K]=ie}}var l=t(84094),g=t(92210),p=t(20053),m=t(13632);class T{constructor(K,ie,ae){this.lines=K,this.considerWhitespaceChanges=ae,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let de=!1;ie.start>0&&ie.endExclusive>=K.length&&(ie=new x.L(ie.start-1,ie.endExclusive),de=!0),this.lineRange=ie,this.firstCharOffsetByLine[0]=0;for(let se=this.lineRange.start;se<this.lineRange.endExclusive;se++){let ge=K[se],_e=0;if(de)_e=ge.length,ge="",de=!1;else if(!ae){const ye=ge.trimStart();_e=ge.length-ye.length,ge=ye.trimEnd()}this.additionalOffsetByLine.push(_e);for(let ye=0;ye<ge.length;ye++)this.elements.push(ge.charCodeAt(ye));se<K.length-1&&(this.elements.push(10),this.firstCharOffsetByLine[se-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new x.L(0,this.length))}getText(K){return this.elements.slice(K.start,K.endExclusive).map(ie=>String.fromCharCode(ie)).join("")}getElement(K){return this.elements[K]}get length(){return this.elements.length}getBoundaryScore(K){const ie=N(K>0?this.elements[K-1]:-1),ae=N(K<this.elements.length?this.elements[K]:-1);if(7===ie&&8===ae)return 0;if(8===ie)return 150;let de=0;return ie!==ae&&(de+=10,0===ie&&1===ae&&(de+=1)),de+=O(ie),de+=O(ae),de}translateOffset(K){if(this.lineRange.isEmpty)return new m.y(this.lineRange.start+1,1);const ie=(0,g.iM)(this.firstCharOffsetByLine,ae=>ae<=K);return new m.y(this.lineRange.start+ie+1,K-this.firstCharOffsetByLine[ie]+this.additionalOffsetByLine[ie]+1)}translateRange(K){return C.Q.fromPositions(this.translateOffset(K.start),this.translateOffset(K.endExclusive))}findWordContaining(K){if(K<0||K>=this.elements.length||!A(this.elements[K]))return;let ie=K;for(;ie>0&&A(this.elements[ie-1]);)ie--;let ae=K;for(;ae<this.elements.length&&A(this.elements[ae]);)ae++;return new x.L(ie,ae)}countLinesIn(K){return this.translateOffset(K.endExclusive).lineNumber-this.translateOffset(K.start).lineNumber}isStronglyEqual(K,ie){return this.elements[K]===this.elements[ie]}extendToFullLines(K){var ie,ae;const de=null!==(ie=(0,g.lx)(this.firstCharOffsetByLine,ge=>ge<=K.start))&&void 0!==ie?ie:0,se=null!==(ae=(0,g.XP)(this.firstCharOffsetByLine,ge=>K.endExclusive<=ge))&&void 0!==ae?ae:this.elements.length;return new x.L(de,se)}}function A(Q){return Q>=97&&Q<=122||Q>=65&&Q<=90||Q>=48&&Q<=57}const k={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function O(Q){return k[Q]}function N(Q){return 10===Q?8:13===Q?7:P(Q)?6:Q>=97&&Q<=122?0:Q>=65&&Q<=90?1:Q>=48&&Q<=57?2:-1===Q?3:44===Q||59===Q?5:4}function te(Q,K,ie){if(Q.trim()===K.trim())return!0;if(Q.length>300&&K.length>300)return!1;const de=(new _).compute(new T([Q],new x.L(0,1),!1),new T([K],new x.L(0,1),!1),ie);let se=0;const ge=S.$8.invert(de.diffs,Q.length);for(const ce of ge)ce.seq1Range.forEach(Se=>{P(Q.charCodeAt(Se))||se++});const ye=function _e(ce){let Se=0;for(let Ie=0;Ie<Q.length;Ie++)P(ce.charCodeAt(Ie))||Se++;return Se}(Q.length>K.length?Q:K);return se/ye>.6&&ye>10}var q=t(69501);class R{constructor(K,ie){this.trimmedHash=K,this.lines=ie}getElement(K){return this.trimmedHash[K]}get length(){return this.trimmedHash.length}getBoundaryScore(K){return 1e3-((0===K?0:W(this.lines[K-1]))+(K===this.lines.length?0:W(this.lines[K])))}getText(K){return this.lines.slice(K.start,K.endExclusive).join("\n")}isStronglyEqual(K,ie){return this.lines[K]===this.lines[ie]}}function W(Q){let K=0;for(;K<Q.length&&(32===Q.charCodeAt(K)||9===Q.charCodeAt(K));)K++;return K}var Y=t(89146);class oe{constructor(){this.dynamicProgrammingDiffing=new v,this.myersDiffingAlgorithm=new _}computeDiff(K,ie,ae){if(K.length<=1&&(0,a.aI)(K,ie,(me,le)=>me===le))return new Y.p([],[],!1);if(1===K.length&&0===K[0].length||1===ie.length&&0===ie[0].length)return new Y.p([new l.wm(new w.M(1,K.length+1),new w.M(1,ie.length+1),[new l.q6(new C.Q(1,1,K.length,K[K.length-1].length+1),new C.Q(1,1,ie.length,ie[ie.length-1].length+1))])],[],!1);const de=0===ae.maxComputationTimeMs?S.uY.instance:new S.aY(ae.maxComputationTimeMs),se=!ae.ignoreTrimWhitespace,ge=new Map;function _e(me){let le=ge.get(me);return void 0===le&&(le=ge.size,ge.set(me,le)),le}const ye=K.map(me=>_e(me.trim())),M=ie.map(me=>_e(me.trim())),ce=new R(ye,K),Se=new R(M,ie),Ie=ce.length+Se.length<1700?this.dynamicProgrammingDiffing.compute(ce,Se,de,(me,le)=>K[me]===ie[le]?0===ie[le].length?.1:1+Math.log(1+ie[le].length):.99):this.myersDiffingAlgorithm.compute(ce,Se,de);let ne=Ie.diffs,ue=Ie.hitTimeout;ne=(0,q.NC)(ce,Se,ne),ne=(0,q.X5)(ce,Se,ne);const we=[],Me=me=>{if(se)for(let le=0;le<me;le++){const Ee=Ve+le,be=$e+le;if(K[Ee]!==ie[be]){const Ce=this.refineDiff(K,ie,new S.$8(new x.L(Ee,Ee+1),new x.L(be,be+1)),de,se);for(const Ne of Ce.mappings)we.push(Ne);Ce.hitTimeout&&(ue=!0)}}};let Ve=0,$e=0;for(const me of ne){(0,F.Ft)(()=>me.seq1Range.start-Ve==me.seq2Range.start-$e),Me(me.seq1Range.start-Ve),Ve=me.seq1Range.endExclusive,$e=me.seq2Range.endExclusive;const Ee=this.refineDiff(K,ie,me,de,se);Ee.hitTimeout&&(ue=!0);for(const be of Ee.mappings)we.push(be)}Me(K.length-Ve);const it=z(we,K,ie);let He=[];return ae.computeMoves&&(He=this.computeMoves(it,K,ie,ye,M,de,se)),(0,F.Ft)(()=>{function me(Ee,be){return!(Ee.lineNumber<1||Ee.lineNumber>be.length)&&!(Ee.column<1||Ee.column>be[Ee.lineNumber-1].length+1)}function le(Ee,be){return!(Ee.startLineNumber<1||Ee.startLineNumber>be.length+1||Ee.endLineNumberExclusive<1||Ee.endLineNumberExclusive>be.length+1)}for(const Ee of it){if(!Ee.innerChanges)return!1;for(const be of Ee.innerChanges)if(!(me(be.modifiedRange.getStartPosition(),ie)&&me(be.modifiedRange.getEndPosition(),ie)&&me(be.originalRange.getStartPosition(),K)&&me(be.originalRange.getEndPosition(),K)))return!1;if(!le(Ee.modified,ie)||!le(Ee.original,K))return!1}return!0}),new Y.p(it,He,ue)}computeMoves(K,ie,ae,de,se,ge,_e){return function H(Q,K,ie,ae,de,se){let{moves:ge,excludedChanges:_e}=function j(Q,K,ie,ae){const de=[],se=Q.filter(ye=>ye.modified.isEmpty&&ye.original.length>=3).map(ye=>new D(ye.original,K,ye)),ge=new Set(Q.filter(ye=>ye.original.isEmpty&&ye.modified.length>=3).map(ye=>new D(ye.modified,ie,ye))),_e=new Set;for(const ye of se){let ce,M=-1;for(const Se of ge){const Ie=ye.computeSimilarity(Se);Ie>M&&(M=Ie,ce=Se)}if(M>.9&&ce&&(ge.delete(ce),de.push(new l.WL(ye.range,ce.range)),_e.add(ye.source),_e.add(ce.source)),!ae.isValid())return{moves:de,excludedChanges:_e}}return{moves:de,excludedChanges:_e}}(Q,K,ie,se);if(!se.isValid())return[];const M=function Z(Q,K,ie,ae,de,se){const ge=[],_e=new p.db;for(const Ie of Q)for(let ne=Ie.original.startLineNumber;ne<Ie.original.endLineNumberExclusive-2;ne++)_e.add(`${K[ne-1]}:${K[ne+1-1]}:${K[ne+2-1]}`,{range:new w.M(ne,ne+3)});const ye=[];Q.sort((0,a.VE)(Ie=>Ie.modified.startLineNumber,a.U9));for(const Ie of Q){let ne=[];for(let ue=Ie.modified.startLineNumber;ue<Ie.modified.endLineNumberExclusive-2;ue++){const we=`${ie[ue-1]}:${ie[ue+1-1]}:${ie[ue+2-1]}`,Me=new w.M(ue,ue+3),Ve=[];_e.forEach(we,({range:$e})=>{for(const He of ne)if(He.originalLineRange.endLineNumberExclusive+1===$e.endLineNumberExclusive&&He.modifiedLineRange.endLineNumberExclusive+1===Me.endLineNumberExclusive)return He.originalLineRange=new w.M(He.originalLineRange.startLineNumber,$e.endLineNumberExclusive),He.modifiedLineRange=new w.M(He.modifiedLineRange.startLineNumber,Me.endLineNumberExclusive),void Ve.push(He);const it={modifiedLineRange:Me,originalLineRange:$e};ye.push(it),Ve.push(it)}),ne=Ve}if(!se.isValid())return[]}ye.sort((0,a.Hw)((0,a.VE)(Ie=>Ie.modifiedLineRange.length,a.U9)));const M=new w.S,ce=new w.S;for(const Ie of ye){const ne=Ie.modifiedLineRange.startLineNumber-Ie.originalLineRange.startLineNumber,ue=M.subtractFrom(Ie.modifiedLineRange),we=ce.subtractFrom(Ie.originalLineRange).getWithDelta(ne),Me=ue.getIntersection(we);for(const Ve of Me.ranges){if(Ve.length<3)continue;const $e=Ve,it=Ve.delta(-ne);ge.push(new l.WL(it,$e)),M.addRange($e),ce.addRange(it)}}ge.sort((0,a.VE)(Ie=>Ie.original.startLineNumber,a.U9));const Se=new g.vJ(Q);for(let Ie=0;Ie<ge.length;Ie++){const ne=ge[Ie],ue=Se.findLastMonotonous(le=>le.original.startLineNumber<=ne.original.startLineNumber),we=(0,g.lx)(Q,le=>le.modified.startLineNumber<=ne.modified.startLineNumber),Me=Math.max(ne.original.startLineNumber-ue.original.startLineNumber,ne.modified.startLineNumber-we.modified.startLineNumber),Ve=Se.findLastMonotonous(le=>le.original.startLineNumber<ne.original.endLineNumberExclusive),$e=(0,g.lx)(Q,le=>le.modified.startLineNumber<ne.modified.endLineNumberExclusive),it=Math.max(Ve.original.endLineNumberExclusive-ne.original.endLineNumberExclusive,$e.modified.endLineNumberExclusive-ne.modified.endLineNumberExclusive);let He,me;for(He=0;He<Me;He++){const le=ne.original.startLineNumber-He-1,Ee=ne.modified.startLineNumber-He-1;if(le>ae.length||Ee>de.length||M.contains(Ee)||ce.contains(le)||!te(ae[le-1],de[Ee-1],se))break}for(He>0&&(ce.addRange(new w.M(ne.original.startLineNumber-He,ne.original.startLineNumber)),M.addRange(new w.M(ne.modified.startLineNumber-He,ne.modified.startLineNumber))),me=0;me<it;me++){const le=ne.original.endLineNumberExclusive+me,Ee=ne.modified.endLineNumberExclusive+me;if(le>ae.length||Ee>de.length||M.contains(Ee)||ce.contains(le)||!te(ae[le-1],de[Ee-1],se))break}me>0&&(ce.addRange(new w.M(ne.original.endLineNumberExclusive,ne.original.endLineNumberExclusive+me)),M.addRange(new w.M(ne.modified.endLineNumberExclusive,ne.modified.endLineNumberExclusive+me))),(He>0||me>0)&&(ge[Ie]=new l.WL(new w.M(ne.original.startLineNumber-He,ne.original.endLineNumberExclusive+me),new w.M(ne.modified.startLineNumber-He,ne.modified.endLineNumberExclusive+me)))}return ge}(Q.filter(ce=>!_e.has(ce)),ae,de,K,ie,se);return(0,a.E4)(ge,M),ge=function X(Q){if(0===Q.length)return Q;Q.sort((0,a.VE)(ie=>ie.original.startLineNumber,a.U9));const K=[Q[0]];for(let ie=1;ie<Q.length;ie++){const ae=K[K.length-1],de=Q[ie],se=de.original.startLineNumber-ae.original.endLineNumberExclusive,ge=de.modified.startLineNumber-ae.modified.endLineNumberExclusive;se>=0&&ge>=0&&se+ge<=2?K[K.length-1]=ae.join(de):K.push(de)}return K}(ge),ge=ge.filter(ce=>{const Se=ce.original.toOffsetRange().slice(K).map(ne=>ne.trim());return Se.join("\n").length>=15&&function L(Q,K){let ie=0;for(const ae of Q)K(ae)&&ie++;return ie}(Se,ne=>ne.length>=2)>=2}),ge=function U(Q,K){const ie=new g.vJ(Q);return K=K.filter(ae=>{const de=ie.findLastMonotonous(_e=>_e.original.startLineNumber<ae.original.endLineNumberExclusive)||new l.WL(new w.M(1,1),new w.M(1,1)),se=(0,g.lx)(Q,_e=>_e.modified.startLineNumber<ae.modified.endLineNumberExclusive);return de!==se}),K}(Q,ge),ge}(K,ie,ae,de,se,ge).map(ce=>{const Ie=z(this.refineDiff(ie,ae,new S.$8(ce.original.toOffsetRange(),ce.modified.toOffsetRange()),ge,_e).mappings,ie,ae,!0);return new Y.t(ce,Ie)})}refineDiff(K,ie,ae,de,se){const ge=new T(K,ae.seq1Range,se),_e=new T(ie,ae.seq2Range,se),ye=ge.length+_e.length<500?this.dynamicProgrammingDiffing.compute(ge,_e,de):this.myersDiffingAlgorithm.compute(ge,_e,de);let M=ye.diffs;return M=(0,q.NC)(ge,_e,M),M=(0,q.Lk)(ge,_e,M),M=(0,q.sq)(ge,_e,M),M=(0,q.Rl)(ge,_e,M),{mappings:M.map(Se=>new l.q6(ge.translateRange(Se.seq1Range),_e.translateRange(Se.seq2Range))),hitTimeout:ye.hitTimeout}}}function z(Q,K,ie,ae=!1){const de=[];for(const se of(0,a.n)(Q.map(ge=>function G(Q,K,ie){let ae=0,de=0;1===Q.modifiedRange.endColumn&&1===Q.originalRange.endColumn&&Q.originalRange.startLineNumber+ae<=Q.originalRange.endLineNumber&&Q.modifiedRange.startLineNumber+ae<=Q.modifiedRange.endLineNumber&&(de=-1),Q.modifiedRange.startColumn-1>=ie[Q.modifiedRange.startLineNumber-1].length&&Q.originalRange.startColumn-1>=K[Q.originalRange.startLineNumber-1].length&&Q.originalRange.startLineNumber<=Q.originalRange.endLineNumber+de&&Q.modifiedRange.startLineNumber<=Q.modifiedRange.endLineNumber+de&&(ae=1);const se=new w.M(Q.originalRange.startLineNumber+ae,Q.originalRange.endLineNumber+1+de),ge=new w.M(Q.modifiedRange.startLineNumber+ae,Q.modifiedRange.endLineNumber+1+de);return new l.wm(se,ge,[Q])}(ge,K,ie)),(ge,_e)=>ge.original.overlapOrTouch(_e.original)||ge.modified.overlapOrTouch(_e.modified))){const ge=se[0],_e=se[se.length-1];de.push(new l.wm(ge.original.join(_e.original),ge.modified.join(_e.modified),se.map(ye=>ye.innerChanges[0])))}return(0,F.Ft)(()=>!(!ae&&de.length>0&&(de[0].modified.startLineNumber!==de[0].original.startLineNumber||ie.length-de[de.length-1].modified.endLineNumberExclusive!=K.length-de[de.length-1].original.endLineNumberExclusive))&&(0,F.Xo)(de,(se,ge)=>ge.original.startLineNumber-se.original.endLineNumberExclusive==ge.modified.startLineNumber-se.modified.endLineNumberExclusive&&se.original.endLineNumberExclusive<ge.original.startLineNumber&&se.modified.endLineNumberExclusive<ge.modified.startLineNumber)),de}},69501:(tt,xe,t)=>{t.d(xe,{Lk:()=>D,NC:()=>x,Rl:()=>f,X5:()=>_,sq:()=>P});var a=t(30833),F=t(21639),w=t(8045);function x(d,r,l){let g=l;return g=C(d,r,g),g=C(d,r,g),g=function S(d,r,l){if(!d.getBoundaryScore||!r.getBoundaryScore)return l;for(let g=0;g<l.length;g++){const p=g>0?l[g-1]:void 0,m=l[g],T=g+1<l.length?l[g+1]:void 0,A=new F.L(p?p.seq1Range.endExclusive+1:0,T?T.seq1Range.start-1:d.length),k=new F.L(p?p.seq2Range.endExclusive+1:0,T?T.seq2Range.start-1:r.length);m.seq1Range.isEmpty?l[g]=b(m,d,r,A,k):m.seq2Range.isEmpty&&(l[g]=b(m.swap(),r,d,k,A).swap())}return l}(d,r,g),g}function C(d,r,l){if(0===l.length)return l;const g=[];g.push(l[0]);for(let m=1;m<l.length;m++){const T=g[g.length-1];let A=l[m];if(A.seq1Range.isEmpty||A.seq2Range.isEmpty){const k=A.seq1Range.start-T.seq1Range.endExclusive;let O;for(O=1;O<=k&&d.getElement(A.seq1Range.start-O)===d.getElement(A.seq1Range.endExclusive-O)&&r.getElement(A.seq2Range.start-O)===r.getElement(A.seq2Range.endExclusive-O);O++);if(O--,O===k){g[g.length-1]=new w.$8(new F.L(T.seq1Range.start,A.seq1Range.endExclusive-k),new F.L(T.seq2Range.start,A.seq2Range.endExclusive-k));continue}A=A.delta(-O)}g.push(A)}const p=[];for(let m=0;m<g.length-1;m++){const T=g[m+1];let A=g[m];if(A.seq1Range.isEmpty||A.seq2Range.isEmpty){const k=T.seq1Range.start-A.seq1Range.endExclusive;let O;for(O=0;O<k&&d.isStronglyEqual(A.seq1Range.start+O,A.seq1Range.endExclusive+O)&&r.isStronglyEqual(A.seq2Range.start+O,A.seq2Range.endExclusive+O);O++);if(O===k){g[m+1]=new w.$8(new F.L(A.seq1Range.start+k,T.seq1Range.endExclusive),new F.L(A.seq2Range.start+k,T.seq2Range.endExclusive));continue}O>0&&(A=A.delta(O))}p.push(A)}return g.length>0&&p.push(g[g.length-1]),p}function b(d,r,l,g,p){let T=1;for(;d.seq1Range.start-T>=g.start&&d.seq2Range.start-T>=p.start&&l.isStronglyEqual(d.seq2Range.start-T,d.seq2Range.endExclusive-T)&&T<100;)T++;T--;let A=0;for(;d.seq1Range.start+A<g.endExclusive&&d.seq2Range.endExclusive+A<p.endExclusive&&l.isStronglyEqual(d.seq2Range.start+A,d.seq2Range.endExclusive+A)&&A<100;)A++;if(0===T&&0===A)return d;let k=0,O=-1;for(let N=-T;N<=A;N++){const H=d.seq2Range.start+N,L=d.seq2Range.endExclusive+N,Z=r.getBoundaryScore(d.seq1Range.start+N)+l.getBoundaryScore(H)+l.getBoundaryScore(L);Z>O&&(O=Z,k=N)}return d.delta(k)}function P(d,r,l){const g=[];for(const p of l){const m=g[g.length-1];m&&(p.seq1Range.start-m.seq1Range.endExclusive<=2||p.seq2Range.start-m.seq2Range.endExclusive<=2)?g[g.length-1]=new w.$8(m.seq1Range.join(p.seq1Range),m.seq2Range.join(p.seq2Range)):g.push(p)}return g}function D(d,r,l){const g=w.$8.invert(l,d.length),p=[];let m=new w._3(0,0);function T(k,O){if(k.offset1<m.offset1||k.offset2<m.offset2)return;const N=d.findWordContaining(k.offset1),H=r.findWordContaining(k.offset2);if(!N||!H)return;let L=new w.$8(N,H);const j=L.intersect(O);let Z=j.seq1Range.length,te=j.seq2Range.length;for(;g.length>0;){const X=g[0];if(!X.seq1Range.intersects(L.seq1Range)&&!X.seq2Range.intersects(L.seq2Range))break;const q=d.findWordContaining(X.seq1Range.start),R=r.findWordContaining(X.seq2Range.start),W=new w.$8(q,R),Y=W.intersect(X);if(Z+=Y.seq1Range.length,te+=Y.seq2Range.length,L=L.join(W),!(L.seq1Range.endExclusive>=X.seq1Range.endExclusive))break;g.shift()}Z+te<2*(L.seq1Range.length+L.seq2Range.length)/3&&p.push(L),m=L.getEndExclusives()}for(;g.length>0;){const k=g.shift();k.seq1Range.isEmpty||(T(k.getStarts(),k),T(k.getEndExclusives().delta(-1),k))}return function v(d,r){const l=[];for(;d.length>0||r.length>0;){const g=d[0],p=r[0];let m;m=g&&(!p||g.seq1Range.start<p.seq1Range.start)?d.shift():r.shift(),l.length>0&&l[l.length-1].seq1Range.endExclusive>=m.seq1Range.start?l[l.length-1]=l[l.length-1].join(m):l.push(m)}return l}(l,p)}function _(d,r,l){let g=l;if(0===g.length)return g;let m,p=0;do{m=!1;const T=[g[0]];for(let A=1;A<g.length;A++){let N=function(L,j){const Z=new F.L(O.seq1Range.endExclusive,k.seq1Range.start);return d.getText(Z).replace(/\s/g,"").length<=4&&(L.seq1Range.length+L.seq2Range.length>5||j.seq1Range.length+j.seq2Range.length>5)};const k=g[A],O=T[T.length-1];N(O,k)?(m=!0,T[T.length-1]=T[T.length-1].join(k)):T.push(k)}g=T}while(p++<10&&m);return g}function f(d,r,l){let g=l;if(0===g.length)return g;let m,p=0;do{m=!1;const A=[g[0]];for(let k=1;k<g.length;k++){let H=function(j,Z){const te=new F.L(N.seq1Range.endExclusive,O.seq1Range.start);if(d.countLinesIn(te)>5||te.length>500)return!1;const U=d.getText(te).trim();if(U.length>20||U.split(/\r\n|\r|\n/).length>1)return!1;const q=d.countLinesIn(j.seq1Range),R=j.seq1Range.length,W=r.countLinesIn(j.seq2Range),Y=j.seq2Range.length,oe=d.countLinesIn(Z.seq1Range),z=Z.seq1Range.length,G=r.countLinesIn(Z.seq2Range),Q=Z.seq2Range.length;function ie(ae){return Math.min(ae,130)}return Math.pow(Math.pow(ie(40*q+R),1.5)+Math.pow(ie(40*W+Y),1.5),1.5)+Math.pow(Math.pow(ie(40*oe+z),1.5)+Math.pow(ie(40*G+Q),1.5),1.5)>74184.96480721243};const O=g[k],N=A[A.length-1];H(N,O)?(m=!0,A[A.length-1]=A[A.length-1].join(O)):A.push(O)}g=A}while(p++<10&&m);const T=[];return(0,a.kj)(g,(A,k,O)=>{let N=k;function H(U){return U.length>0&&U.trim().length<=3&&k.seq1Range.length+k.seq2Range.length>100}const L=d.extendToFullLines(k.seq1Range),j=d.getText(new F.L(L.start,k.seq1Range.start));H(j)&&(N=N.deltaStart(-j.length));const Z=d.getText(new F.L(k.seq1Range.endExclusive,L.endExclusive));H(Z)&&(N=N.deltaEnd(Z.length));const te=w.$8.fromOffsetPairs(A?A.getEndExclusives():w._3.zero,O?O.getStarts():w._3.max),X=N.intersect(te);T.length>0&&X.getStarts().equals(T[T.length-1].getEndExclusives())?T[T.length-1]=T[T.length-1].join(X):T.push(X)}),T}},89146:(tt,xe,t)=>{t.d(xe,{p:()=>a,t:()=>F});class a{constructor(x,C,S){this.changes=x,this.moves=C,this.hitTimeout=S}}class F{constructor(x,C){this.lineRangeMapping=x,this.changes=C}}},84094:(tt,xe,t)=>{t.d(xe,{WL:()=>C,q6:()=>b,wm:()=>S});var a=t(25680),F=t(84132),w=t(73678),x=t(66156);class C{static inverse(D,v,_){const f=[];let d=1,r=1;for(const g of D){const p=new C(new F.M(d,g.original.startLineNumber),new F.M(r,g.modified.startLineNumber));p.modified.isEmpty||f.push(p),d=g.original.endLineNumberExclusive,r=g.modified.endLineNumberExclusive}const l=new C(new F.M(d,v+1),new F.M(r,_+1));return l.modified.isEmpty||f.push(l),f}static clip(D,v,_){const f=[];for(const d of D){const r=d.original.intersect(v),l=d.modified.intersect(_);r&&!r.isEmpty&&l&&!l.isEmpty&&f.push(new C(r,l))}return f}constructor(D,v){this.original=D,this.modified=v}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new C(this.modified,this.original)}join(D){return new C(this.original.join(D.original),this.modified.join(D.modified))}toRangeMapping(){const D=this.original.toInclusiveRange(),v=this.modified.toInclusiveRange();if(D&&v)return new b(D,v);if(1===this.original.startLineNumber||1===this.modified.startLineNumber){if(1!==this.modified.startLineNumber||1!==this.original.startLineNumber)throw new a.D7("not a valid diff");return new b(new w.Q(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new w.Q(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}return new b(new w.Q(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new w.Q(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}}class S extends C{static fromRangeMappings(D){const v=F.M.join(D.map(f=>F.M.fromRangeInclusive(f.originalRange))),_=F.M.join(D.map(f=>F.M.fromRangeInclusive(f.modifiedRange)));return new S(v,_,D)}constructor(D,v,_){super(D,v),this.innerChanges=_}flip(){var D;return new S(this.modified,this.original,null===(D=this.innerChanges)||void 0===D?void 0:D.map(v=>v.flip()))}withInnerChangesFromLineRanges(){return new S(this.original,this.modified,[this.toRangeMapping()])}}class b{constructor(D,v){this.originalRange=D,this.modifiedRange=v}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new b(this.modifiedRange,this.originalRange)}toTextEdit(D){const v=D.getValueOfRange(this.modifiedRange);return new x.WR(this.originalRange,v)}}},82656:(tt,xe,t)=>{t.d(xe,{f:()=>a});class a{constructor(w,x,C,S,b,P,D){this.id=w,this.label=x,this.alias=C,this.metadata=S,this._precondition=b,this._run=P,this._contextKeyService=D}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(w){return this.isSupported()?this._run(w):Promise.resolve(void 0)}}},51967:(tt,xe,t)=>{t.d(xe,{_:()=>a});const a={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},69995:(tt,xe,t)=>{t.d(xe,{R:()=>w});var w,x,a=t(81644),F=t(50168);(x=w||(w={})).editorSimpleInput=new F.N1("editorSimpleInput",!1,!0),x.editorTextFocus=new F.N1("editorTextFocus",!1,a.kg("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),x.focus=new F.N1("editorFocus",!1,a.kg("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),x.textInputFocus=new F.N1("textInputFocus",!1,a.kg("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),x.readOnly=new F.N1("editorReadonly",!1,a.kg("editorReadonly","Whether the editor is read-only")),x.inDiffEditor=new F.N1("inDiffEditor",!1,a.kg("inDiffEditor","Whether the context is a diff editor")),x.isEmbeddedDiffEditor=new F.N1("isEmbeddedDiffEditor",!1,a.kg("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),x.inMultiDiffEditor=new F.N1("inMultiDiffEditor",!1,a.kg("inMultiDiffEditor","Whether the context is a multi diff editor")),x.multiDiffEditorAllCollapsed=new F.N1("multiDiffEditorAllCollapsed",void 0,a.kg("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),x.hasChanges=new F.N1("diffEditorHasChanges",!1,a.kg("diffEditorHasChanges","Whether the diff editor has changes")),x.comparingMovedCode=new F.N1("comparingMovedCode",!1,a.kg("comparingMovedCode","Whether a moved code block is selected for comparison")),x.accessibleDiffViewerVisible=new F.N1("accessibleDiffViewerVisible",!1,a.kg("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),x.diffEditorRenderSideBySideInlineBreakpointReached=new F.N1("diffEditorRenderSideBySideInlineBreakpointReached",!1,a.kg("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),x.diffEditorInlineMode=new F.N1("diffEditorInlineMode",!1,a.kg("diffEditorInlineMode","Whether inline mode is active")),x.diffEditorOriginalWritable=new F.N1("diffEditorOriginalWritable",!1,a.kg("diffEditorOriginalWritable","Whether modified is writable in the diff editor")),x.diffEditorModifiedWritable=new F.N1("diffEditorModifiedWritable",!1,a.kg("diffEditorModifiedWritable","Whether modified is writable in the diff editor")),x.diffEditorOriginalUri=new F.N1("diffEditorOriginalUri","",a.kg("diffEditorOriginalUri","The uri of the original document")),x.diffEditorModifiedUri=new F.N1("diffEditorModifiedUri","",a.kg("diffEditorModifiedUri","The uri of the modified document")),x.columnSelection=new F.N1("editorColumnSelection",!1,a.kg("editorColumnSelection","Whether `editor.columnSelection` is enabled")),x.writable=x.readOnly.toNegated(),x.hasNonEmptySelection=new F.N1("editorHasSelection",!1,a.kg("editorHasSelection","Whether the editor has text selected")),x.hasOnlyEmptySelection=x.hasNonEmptySelection.toNegated(),x.hasMultipleSelections=new F.N1("editorHasMultipleSelections",!1,a.kg("editorHasMultipleSelections","Whether the editor has multiple selections")),x.hasSingleSelection=x.hasMultipleSelections.toNegated(),x.tabMovesFocus=new F.N1("editorTabMovesFocus",!1,a.kg("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),x.tabDoesNotMoveFocus=x.tabMovesFocus.toNegated(),x.isInEmbeddedEditor=new F.N1("isInEmbeddedEditor",!1,!0),x.canUndo=new F.N1("canUndo",!1,!0),x.canRedo=new F.N1("canRedo",!1,!0),x.hoverVisible=new F.N1("editorHoverVisible",!1,a.kg("editorHoverVisible","Whether the editor hover is visible")),x.hoverFocused=new F.N1("editorHoverFocused",!1,a.kg("editorHoverFocused","Whether the editor hover is focused")),x.stickyScrollFocused=new F.N1("stickyScrollFocused",!1,a.kg("stickyScrollFocused","Whether the sticky scroll is focused")),x.stickyScrollVisible=new F.N1("stickyScrollVisible",!1,a.kg("stickyScrollVisible","Whether the sticky scroll is visible")),x.standaloneColorPickerVisible=new F.N1("standaloneColorPickerVisible",!1,a.kg("standaloneColorPickerVisible","Whether the standalone color picker is visible")),x.standaloneColorPickerFocused=new F.N1("standaloneColorPickerFocused",!1,a.kg("standaloneColorPickerFocused","Whether the standalone color picker is focused")),x.inCompositeEditor=new F.N1("inCompositeEditor",void 0,a.kg("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),x.notInCompositeEditor=x.inCompositeEditor.toNegated(),x.languageId=new F.N1("editorLangId","",a.kg("editorLangId","The language identifier of the editor")),x.hasCompletionItemProvider=new F.N1("editorHasCompletionItemProvider",!1,a.kg("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),x.hasCodeActionsProvider=new F.N1("editorHasCodeActionsProvider",!1,a.kg("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),x.hasCodeLensProvider=new F.N1("editorHasCodeLensProvider",!1,a.kg("editorHasCodeLensProvider","Whether the editor has a code lens provider")),x.hasDefinitionProvider=new F.N1("editorHasDefinitionProvider",!1,a.kg("editorHasDefinitionProvider","Whether the editor has a definition provider")),x.hasDeclarationProvider=new F.N1("editorHasDeclarationProvider",!1,a.kg("editorHasDeclarationProvider","Whether the editor has a declaration provider")),x.hasImplementationProvider=new F.N1("editorHasImplementationProvider",!1,a.kg("editorHasImplementationProvider","Whether the editor has an implementation provider")),x.hasTypeDefinitionProvider=new F.N1("editorHasTypeDefinitionProvider",!1,a.kg("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),x.hasHoverProvider=new F.N1("editorHasHoverProvider",!1,a.kg("editorHasHoverProvider","Whether the editor has a hover provider")),x.hasDocumentHighlightProvider=new F.N1("editorHasDocumentHighlightProvider",!1,a.kg("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),x.hasDocumentSymbolProvider=new F.N1("editorHasDocumentSymbolProvider",!1,a.kg("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),x.hasReferenceProvider=new F.N1("editorHasReferenceProvider",!1,a.kg("editorHasReferenceProvider","Whether the editor has a reference provider")),x.hasRenameProvider=new F.N1("editorHasRenameProvider",!1,a.kg("editorHasRenameProvider","Whether the editor has a rename provider")),x.hasSignatureHelpProvider=new F.N1("editorHasSignatureHelpProvider",!1,a.kg("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),x.hasInlayHintsProvider=new F.N1("editorHasInlayHintsProvider",!1,a.kg("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),x.hasDocumentFormattingProvider=new F.N1("editorHasDocumentFormattingProvider",!1,a.kg("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),x.hasDocumentSelectionFormattingProvider=new F.N1("editorHasDocumentSelectionFormattingProvider",!1,a.kg("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),x.hasMultipleDocumentFormattingProvider=new F.N1("editorHasMultipleDocumentFormattingProvider",!1,a.kg("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),x.hasMultipleDocumentSelectionFormattingProvider=new F.N1("editorHasMultipleDocumentSelectionFormattingProvider",!1,a.kg("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))},1153:(tt,xe,t)=>{t.d(xe,{T:()=>w,x:()=>F});const a=[];function F(x){a.push(x)}function w(){return a.slice(0)}},21861:(tt,xe,t)=>{t.d(xe,{x:()=>a});class a{static getLanguageId(w){return(255&w)>>>0}static getTokenType(w){return(768&w)>>>8}static containsBalancedBrackets(w){return!!(1024&w)}static getFontStyle(w){return(30720&w)>>>11}static getForeground(w){return(16744448&w)>>>15}static getBackground(w){return(4278190080&w)>>>24}static getClassNameFromMetadata(w){let C="mtk"+this.getForeground(w);const S=this.getFontStyle(w);return 1&S&&(C+=" mtki"),2&S&&(C+=" mtkb"),4&S&&(C+=" mtku"),8&S&&(C+=" mtks"),C}static getInlineStyleFromMetadata(w,x){const C=this.getForeground(w),S=this.getFontStyle(w);let b=`color: ${x[C]};`;1&S&&(b+="font-style: italic;"),2&S&&(b+="font-weight: bold;");let P="";return 4&S&&(P+=" underline"),8&S&&(P+=" line-through"),P&&(b+=`text-decoration:${P};`),b}static getPresentationFromMetadata(w){const x=this.getForeground(w),C=this.getFontStyle(w);return{foreground:x,italic:!!(1&C),bold:!!(2&C),underline:!!(4&C),strikethrough:!!(8&C)}}}},28252:(tt,xe,t)=>{t.d(xe,{f:()=>w});var a=t(37441),F=t(68200);function w(x,C,S,b,P,D){if(Array.isArray(x)){let v=0;for(const _ of x){const f=w(_,C,S,b,P,D);if(10===f)return f;f>v&&(v=f)}return v}if("string"==typeof x)return b?"*"===x?5:x===S?10:0:0;if(x){const{language:v,pattern:_,scheme:f,hasAccessToAllModels:d,notebookType:r}=x;if(!b&&!d)return 0;r&&P&&(C=P);let l=0;if(f)if(f===C.scheme)l=10;else{if("*"!==f)return 0;l=5}if(v)if(v===S)l=10;else{if("*"!==v)return 0;l=Math.max(l,5)}if(r)if(r===D)l=10;else{if("*"!==r||void 0===D)return 0;l=Math.max(l,5)}if(_){let g;if(g="string"==typeof _?_:{..._,base:(0,F.S8)(_.base)},g!==C.fsPath&&!(0,a.YW)(g,C.fsPath))return 0;l=10}return l}return 0}},41489:(tt,xe,t)=>{t.d(xe,{uB:()=>te,HC:()=>r,Kb:()=>T,FX:()=>p,rY:()=>f,lO:()=>L,M$:()=>d,r4:()=>X,qw:()=>l,sm:()=>R,v_:()=>U,OV:()=>j,YT:()=>Z,GE:()=>g,WA:()=>m,gP:()=>N,ou:()=>v,dG:()=>q,$M:()=>_,PK:()=>O,Iu:()=>A});var a=t(15320),F=t(32417),w=t(73678),x=t(10467),C=t(5643),S=t(99031);class P extends S.jG{get isResolved(){return this._isResolved}constructor(Y,oe,z){super(),this._registry=Y,this._languageId=oe,this._factory=z,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){var Y=this;return(0,x.A)(function*(){return Y._resolvePromise||(Y._resolvePromise=Y._create()),Y._resolvePromise})()}_create(){var Y=this;return(0,x.A)(function*(){const oe=yield Y._factory.tokenizationSupport;Y._isResolved=!0,oe&&!Y._isDisposed&&Y._register(Y._registry.register(Y._languageId,oe))})()}}var D=t(81644);class v{constructor(Y,oe,z){this.offset=Y,this.type=oe,this.language=z,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class _{constructor(Y,oe){this.tokens=Y,this.endState=oe,this._tokenizationResultBrand=void 0}}class f{constructor(Y,oe){this.tokens=Y,this.endState=oe,this._encodedTokenizationResultBrand=void 0}}var r,d=function(W){return W[W.Increase=0]="Increase",W[W.Decrease=1]="Decrease",W}(d||{});!function(W){const Y=new Map;Y.set(0,a.W.symbolMethod),Y.set(1,a.W.symbolFunction),Y.set(2,a.W.symbolConstructor),Y.set(3,a.W.symbolField),Y.set(4,a.W.symbolVariable),Y.set(5,a.W.symbolClass),Y.set(6,a.W.symbolStruct),Y.set(7,a.W.symbolInterface),Y.set(8,a.W.symbolModule),Y.set(9,a.W.symbolProperty),Y.set(10,a.W.symbolEvent),Y.set(11,a.W.symbolOperator),Y.set(12,a.W.symbolUnit),Y.set(13,a.W.symbolValue),Y.set(15,a.W.symbolEnum),Y.set(14,a.W.symbolConstant),Y.set(15,a.W.symbolEnum),Y.set(16,a.W.symbolEnumMember),Y.set(17,a.W.symbolKeyword),Y.set(27,a.W.symbolSnippet),Y.set(18,a.W.symbolText),Y.set(19,a.W.symbolColor),Y.set(20,a.W.symbolFile),Y.set(21,a.W.symbolReference),Y.set(22,a.W.symbolCustomColor),Y.set(23,a.W.symbolFolder),Y.set(24,a.W.symbolTypeParameter),Y.set(25,a.W.account),Y.set(26,a.W.issues),W.toIcon=function oe(Q){let K=Y.get(Q);return K||(console.info("No codicon found for CompletionItemKind "+Q),K=a.W.symbolProperty),K};const z=new Map;z.set("method",0),z.set("function",1),z.set("constructor",2),z.set("field",3),z.set("variable",4),z.set("class",5),z.set("struct",6),z.set("interface",7),z.set("module",8),z.set("property",9),z.set("event",10),z.set("operator",11),z.set("unit",12),z.set("value",13),z.set("constant",14),z.set("enum",15),z.set("enum-member",16),z.set("enumMember",16),z.set("keyword",17),z.set("snippet",27),z.set("text",18),z.set("color",19),z.set("file",20),z.set("reference",21),z.set("customcolor",22),z.set("folder",23),z.set("type-parameter",24),z.set("typeParameter",24),z.set("account",25),z.set("issue",26),W.fromString=function G(Q,K){let ie=z.get(Q);return typeof ie>"u"&&!K&&(ie=9),ie}}(r||(r={}));var l=function(W){return W[W.Automatic=0]="Automatic",W[W.Explicit=1]="Explicit",W}(l||{});class g{constructor(Y,oe,z,G){this.range=Y,this.text=oe,this.completionKind=z,this.isSnippetText=G}equals(Y){return w.Q.lift(this.range).equalsRange(Y.range)&&this.text===Y.text&&this.completionKind===Y.completionKind&&this.isSnippetText===Y.isSnippetText}}var p=function(W){return W[W.Automatic=0]="Automatic",W[W.PasteAs=1]="PasteAs",W}(p||{}),m=function(W){return W[W.Invoke=1]="Invoke",W[W.TriggerCharacter=2]="TriggerCharacter",W[W.ContentChange=3]="ContentChange",W}(m||{}),T=function(W){return W[W.Text=0]="Text",W[W.Read=1]="Read",W[W.Write=2]="Write",W}(T||{});function A(W){return W&&F.r.isUri(W.uri)&&w.Q.isIRange(W.range)&&(w.Q.isIRange(W.originSelectionRange)||w.Q.isIRange(W.targetSelectionRange))}const k={17:(0,D.kg)("Array","array"),16:(0,D.kg)("Boolean","boolean"),4:(0,D.kg)("Class","class"),13:(0,D.kg)("Constant","constant"),8:(0,D.kg)("Constructor","constructor"),9:(0,D.kg)("Enum","enumeration"),21:(0,D.kg)("EnumMember","enumeration member"),23:(0,D.kg)("Event","event"),7:(0,D.kg)("Field","field"),0:(0,D.kg)("File","file"),11:(0,D.kg)("Function","function"),10:(0,D.kg)("Interface","interface"),19:(0,D.kg)("Key","key"),5:(0,D.kg)("Method","method"),1:(0,D.kg)("Module","module"),2:(0,D.kg)("Namespace","namespace"),20:(0,D.kg)("Null","null"),15:(0,D.kg)("Number","number"),18:(0,D.kg)("Object","object"),24:(0,D.kg)("Operator","operator"),3:(0,D.kg)("Package","package"),6:(0,D.kg)("Property","property"),14:(0,D.kg)("String","string"),22:(0,D.kg)("Struct","struct"),25:(0,D.kg)("TypeParameter","type parameter"),12:(0,D.kg)("Variable","variable")};function O(W,Y){return(0,D.kg)("symbolAriaLabel","{0} ({1})",W,k[Y])}var N;!function(W){const Y=new Map;Y.set(0,a.W.symbolFile),Y.set(1,a.W.symbolModule),Y.set(2,a.W.symbolNamespace),Y.set(3,a.W.symbolPackage),Y.set(4,a.W.symbolClass),Y.set(5,a.W.symbolMethod),Y.set(6,a.W.symbolProperty),Y.set(7,a.W.symbolField),Y.set(8,a.W.symbolConstructor),Y.set(9,a.W.symbolEnum),Y.set(10,a.W.symbolInterface),Y.set(11,a.W.symbolFunction),Y.set(12,a.W.symbolVariable),Y.set(13,a.W.symbolConstant),Y.set(14,a.W.symbolString),Y.set(15,a.W.symbolNumber),Y.set(16,a.W.symbolBoolean),Y.set(17,a.W.symbolArray),Y.set(18,a.W.symbolObject),Y.set(19,a.W.symbolKey),Y.set(20,a.W.symbolNull),Y.set(21,a.W.symbolEnumMember),Y.set(22,a.W.symbolStruct),Y.set(23,a.W.symbolEvent),Y.set(24,a.W.symbolOperator),Y.set(25,a.W.symbolTypeParameter),W.toIcon=function oe(z){let G=Y.get(z);return G||(console.info("No codicon found for SymbolKind "+z),G=a.W.symbolProperty),G}}(N||(N={}));class L{static fromValue(Y){switch(Y){case"comment":return L.Comment;case"imports":return L.Imports;case"region":return L.Region}return new L(Y)}constructor(Y){this.value=Y}}L.Comment=new L("comment"),L.Imports=new L("imports"),L.Region=new L("region");var te,j=function(W){return W[W.AIGenerated=1]="AIGenerated",W}(j||{}),Z=function(W){return W[W.Invoke=0]="Invoke",W[W.Automatic=1]="Automatic",W}(Z||{});(te||(te={})).is=function Y(oe){return!(!oe||"object"!=typeof oe)&&"string"==typeof oe.id&&"string"==typeof oe.title};var X=function(W){return W[W.Type=1]="Type",W[W.Parameter=2]="Parameter",W}(X||{});class U{constructor(Y){this.createSupport=Y,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(Y=>{Y&&Y.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const q=new class b{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new C.vl,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(Y){this._onDidChange.fire({changedLanguages:Y,changedColorMap:!1})}register(Y,oe){return this._tokenizationSupports.set(Y,oe),this.handleChange([Y]),(0,S.s)(()=>{this._tokenizationSupports.get(Y)===oe&&(this._tokenizationSupports.delete(Y),this.handleChange([Y]))})}get(Y){return this._tokenizationSupports.get(Y)||null}registerFactory(Y,oe){var z;null===(z=this._factories.get(Y))||void 0===z||z.dispose();const G=new P(this,Y,oe);return this._factories.set(Y,G),(0,S.s)(()=>{const Q=this._factories.get(Y);!Q||Q!==G||(this._factories.delete(Y),Q.dispose())})}getOrCreate(Y){var oe=this;return(0,x.A)(function*(){const z=oe.get(Y);if(z)return z;const G=oe._factories.get(Y);return!G||G.isResolved?null:(yield G.resolve(),oe.get(Y))})()}isResolved(Y){if(this.get(Y))return!0;const z=this._factories.get(Y);return!(z&&!z.isResolved)}setColorMap(Y){this._colorMap=Y,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};var R=function(W){return W[W.Invoke=0]="Invoke",W[W.Automatic=1]="Automatic",W}(R||{})},56930:(tt,xe,t)=>{t.d(xe,{$f:()=>S,MU:()=>b,Yb:()=>D,_t:()=>P,vn:()=>C});var a=t(6653),F=t(41099),w=t(96697);function C(_,f,d,r=!0,l){if(_<4)return null;const g=l.getLanguageConfiguration(f.tokenization.getLanguageId()).indentRulesSupport;if(!g)return null;const p=new w.no(f,g,l);if(d<=1)return{indentation:"",action:null};for(let T=d-1;T>0&&""===f.getLineContent(T);T--)if(1===T)return{indentation:"",action:null};const m=function x(_,f,d){const r=_.tokenization.getLanguageIdAtPosition(f,0);if(f>1){let l,g=-1;for(l=f-1;l>=1;l--){if(_.tokenization.getLanguageIdAtPosition(l,0)!==r)return g;const p=_.getLineContent(l);if(!d.shouldIgnore(l)&&!/^\s+$/.test(p)&&""!==p)return l;g=l}}return-1}(f,d,p);if(m<0)return null;if(m<1)return{indentation:"",action:null};if(p.shouldIncrease(m)||p.shouldIndentNextLine(m)){const T=f.getLineContent(m);return{indentation:a.UU(T),action:F.l.Indent,line:m}}if(p.shouldDecrease(m)){const T=f.getLineContent(m);return{indentation:a.UU(T),action:null,line:m}}{if(1===m)return{indentation:a.UU(f.getLineContent(m)),action:null,line:m};const T=m-1,A=g.getIndentMetadata(f.getLineContent(T));if(!(3&A)&&4&A){let k=0;for(let O=T-1;O>0;O--)if(!p.shouldIndentNextLine(O)){k=O;break}return{indentation:a.UU(f.getLineContent(k+1)),action:null,line:k+1}}if(r)return{indentation:a.UU(f.getLineContent(m)),action:null,line:m};for(let k=m;k>0;k--){if(p.shouldIncrease(k))return{indentation:a.UU(f.getLineContent(k)),action:F.l.Indent,line:k};if(p.shouldIndentNextLine(k)){let O=0;for(let N=k-1;N>0;N--)if(!p.shouldIndentNextLine(k)){O=N;break}return{indentation:a.UU(f.getLineContent(O+1)),action:null,line:O+1}}if(p.shouldDecrease(k))return{indentation:a.UU(f.getLineContent(k)),action:null,line:k}}return{indentation:a.UU(f.getLineContent(1)),action:null,line:1}}}function S(_,f,d,r,l,g){if(_<4)return null;const p=g.getLanguageConfiguration(d);if(!p)return null;const m=g.getLanguageConfiguration(d).indentRulesSupport;if(!m)return null;const T=new w.no(f,m,g),A=C(_,f,r,void 0,g);if(A){const k=A.line;if(void 0!==k){let O=!0;for(let N=k;N<r-1;N++)if(!/^\s*$/.test(f.getLineContent(N))){O=!1;break}if(O){const N=p.onEnter(_,"",f.getLineContent(k),"");if(N){let H=a.UU(f.getLineContent(k));return N.removeText&&(H=H.substring(0,H.length-N.removeText)),N.indentAction===F.l.Indent||N.indentAction===F.l.IndentOutdent?H=l.shiftIndent(H):N.indentAction===F.l.Outdent&&(H=l.unshiftIndent(H)),T.shouldDecrease(r)&&(H=l.unshiftIndent(H)),N.appendText&&(H+=N.appendText),a.UU(H)}}}return T.shouldDecrease(r)?A.action===F.l.Indent?A.indentation:l.unshiftIndent(A.indentation):A.action===F.l.Indent?l.shiftIndent(A.indentation):A.indentation}return null}function b(_,f,d,r,l){if(_<4)return null;const g=f.getLanguageIdAtPosition(d.startLineNumber,d.startColumn),p=l.getLanguageConfiguration(g).indentRulesSupport;if(!p)return null;f.tokenization.forceTokenization(d.startLineNumber);const T=new w.V(f,l).getProcessedTokenContextAroundRange(d),A=T.afterRangeProcessedTokens,k=T.beforeRangeProcessedTokens,O=a.UU(k.getLineContent()),N=function v(_,f,d){return{tokenization:{getLineTokens:l=>l===f?d:_.tokenization.getLineTokens(l),getLanguageId:()=>_.getLanguageId(),getLanguageIdAtPosition:(l,g)=>_.getLanguageIdAtPosition(l,g)},getLineContent:l=>l===f?d.getLineContent():_.getLineContent(l)}}(f,d.startLineNumber,k),H=(0,w.WR)(f,d.getStartPosition()),L=f.getLineContent(d.startLineNumber),j=a.UU(L),Z=C(_,N,d.startLineNumber+1,void 0,l);if(!Z){const X=H?j:O;return{beforeEnter:X,afterEnter:X}}let te=H?j:Z.indentation;return Z.action===F.l.Indent&&(te=r.shiftIndent(te)),p.shouldDecrease(A.getLineContent())&&(te=r.unshiftIndent(te)),{beforeEnter:H?j:O,afterEnter:te}}function P(_,f,d,r,l,g){if(_<4||(0,w.WR)(f,d.getStartPosition()))return null;const m=f.getLanguageIdAtPosition(d.startLineNumber,d.startColumn),T=g.getLanguageConfiguration(m).indentRulesSupport;if(!T)return null;const k=new w.V(f,g).getProcessedTokenContextAroundRange(d),O=k.beforeRangeProcessedTokens.getLineContent(),N=k.afterRangeProcessedTokens.getLineContent(),L=O+r+N;if(!T.shouldDecrease(O+N)&&T.shouldDecrease(L)){const j=C(_,f,d.startLineNumber,!1,g);if(!j)return null;let Z=j.indentation;return j.action!==F.l.Indent&&(Z=l.unshiftIndent(Z)),Z}return null}function D(_,f,d){const r=d.getLanguageConfiguration(_.getLanguageId()).indentRulesSupport;return!r||f<1||f>_.getLineCount()?null:r.getIndentMetadata(_.getLineContent(f))}},49111:(tt,xe,t)=>{t.d(xe,{h:()=>x});var a=t(41099),F=t(70416),w=t(96697);function x(C,S,b,P){S.tokenization.forceTokenization(b.startLineNumber);const D=S.getLanguageIdAtPosition(b.startLineNumber,b.startColumn),v=P.getLanguageConfiguration(D);if(!v)return null;const f=new w.V(S,P).getProcessedTokenContextAroundRange(b),d=f.previousLineProcessedTokens.getLineContent(),r=f.beforeRangeProcessedTokens.getLineContent(),l=f.afterRangeProcessedTokens.getLineContent(),g=v.onEnter(C,d,r,l);if(!g)return null;const p=g.indentAction;let m=g.appendText;const T=g.removeText||0;m?p===a.l.Indent&&(m="\t"+m):m=p===a.l.Indent||p===a.l.IndentOutdent?"\t":"";let A=(0,F.Cw)(S,b.startLineNumber,b.startColumn);return T&&(A=A.substring(0,A.length-T)),{indentAction:p,appendText:m,removeText:T,indentation:A}}},385:(tt,xe,t)=>{t.d(xe,{L:()=>F});const F=(0,t(598).u1)("languageService")},41099:(tt,xe,t)=>{t.d(xe,{GB:()=>w,i3:()=>F,l:()=>a});var a=function(C){return C[C.None=0]="None",C[C.Indent=1]="Indent",C[C.IndentOutdent=2]="IndentOutdent",C[C.Outdent=3]="Outdent",C}(a||{});class F{constructor(S){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=S.open,this.close=S.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(S.notIn))for(let b=0,P=S.notIn.length;b<P;b++)switch(S.notIn[b]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(S){switch(S){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(S,b){if(0===S.getTokenCount())return!0;const P=S.findTokenIndexAtOffset(b-2),D=S.getStandardTokenType(P);return this.isOK(D)}_findNeutralCharacterInRange(S,b){for(let P=S;P<=b;P++){const D=String.fromCharCode(P);if(!this.open.includes(D)&&!this.close.includes(D))return D}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class w{constructor(S){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const b of S)x(this.autoClosingPairsOpenByStart,b.open.charAt(0),b),x(this.autoClosingPairsOpenByEnd,b.open.charAt(b.open.length-1),b),x(this.autoClosingPairsCloseByStart,b.close.charAt(0),b),x(this.autoClosingPairsCloseByEnd,b.close.charAt(b.close.length-1),b),1===b.close.length&&1===b.open.length&&x(this.autoClosingPairsCloseSingleChar,b.close,b)}}function x(C,S,b){C.has(S)?C.get(S).push(b):C.set(S,[b])}},70416:(tt,xe,t)=>{t.d(xe,{JZ:()=>X,Cw:()=>oe});var a=t(5643),F=t(99031),w=t(6653),x=t(50199),C=t(41099);let S=(()=>{class de{constructor(ge){if(this._autoClosingPairs=ge.autoClosingPairs?ge.autoClosingPairs.map(_e=>new C.i3(_e)):ge.brackets?ge.brackets.map(_e=>new C.i3({open:_e[0],close:_e[1]})):[],ge.__electricCharacterSupport&&ge.__electricCharacterSupport.docComment){const _e=ge.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new C.i3({open:_e.open,close:_e.close||""}))}this._autoCloseBeforeForQuotes="string"==typeof ge.autoCloseBefore?ge.autoCloseBefore:de.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets="string"==typeof ge.autoCloseBefore?ge.autoCloseBefore:de.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=ge.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(ge){return ge?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}return de.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t",de.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS="'\"`;:.,=}])> \n\t",de})();var b=t(30833),P=t(19303),D=t(99965);class v{constructor(se){this._richEditBrackets=se}getElectricCharacters(){const se=[];if(this._richEditBrackets)for(const ge of this._richEditBrackets.brackets)for(const _e of ge.close){const ye=_e.charAt(_e.length-1);se.push(ye)}return(0,b.dM)(se)}onElectricCharacter(se,ge,_e){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const ye=ge.findTokenIndexAtOffset(_e-1);if((0,P.Yo)(ge.getStandardTokenType(ye)))return null;const M=this._richEditBrackets.reversedRegex,ce=ge.getLineContent().substring(0,_e-1)+se,Se=D.Fu.findPrevBracketInRange(M,1,ce,0,ce.length);if(!Se)return null;const Ie=ce.substring(Se.startColumn-1,Se.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Ie])return null;const ue=ge.getActualLineContentBefore(Se.startColumn-1);return/^\s*$/.test(ue)?{matchOpenBracket:Ie}:null}}function _(de){return de.global&&(de.lastIndex=0),!0}class f{constructor(se){this._indentationRules=se}shouldIncrease(se){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&_(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(se))}shouldDecrease(se){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&_(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(se))}shouldIndentNextLine(se){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&_(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(se))}shouldIgnore(se){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&_(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(se))}getIndentMetadata(se){let ge=0;return this.shouldIncrease(se)&&(ge+=1),this.shouldDecrease(se)&&(ge+=2),this.shouldIndentNextLine(se)&&(ge+=4),this.shouldIgnore(se)&&(ge+=8),ge}}var d=t(25680);class r{constructor(se){(se=se||{}).brackets=se.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],se.brackets.forEach(ge=>{const _e=r._createOpenBracketRegExp(ge[0]),ye=r._createCloseBracketRegExp(ge[1]);_e&&ye&&this._brackets.push({open:ge[0],openRegExp:_e,close:ge[1],closeRegExp:ye})}),this._regExpRules=se.onEnterRules||[]}onEnter(se,ge,_e,ye){if(se>=3)for(let M=0,ce=this._regExpRules.length;M<ce;M++){const Se=this._regExpRules[M];if([{reg:Se.beforeText,text:_e},{reg:Se.afterText,text:ye},{reg:Se.previousLineText,text:ge}].every(ne=>!ne.reg||(ne.reg.lastIndex=0,ne.reg.test(ne.text))))return Se.action}if(se>=2&&_e.length>0&&ye.length>0)for(let M=0,ce=this._brackets.length;M<ce;M++){const Se=this._brackets[M];if(Se.openRegExp.test(_e)&&Se.closeRegExp.test(ye))return{indentAction:C.l.IndentOutdent}}if(se>=2&&_e.length>0)for(let M=0,ce=this._brackets.length;M<ce;M++)if(this._brackets[M].openRegExp.test(_e))return{indentAction:C.l.Indent};return null}static _createOpenBracketRegExp(se){let ge=w.bm(se);return/\B/.test(ge.charAt(0))||(ge="\\b"+ge),ge+="\\s*$",r._safeRegExp(ge)}static _createCloseBracketRegExp(se){let ge=w.bm(se);return/\B/.test(ge.charAt(ge.length-1))||(ge+="\\b"),ge="^\\s*"+ge,r._safeRegExp(ge)}static _safeRegExp(se){try{return new RegExp(se)}catch(ge){return(0,d.dz)(ge),null}}}var l=t(598),g=t(35072),p=t(385),m=t(56789),T=t(37864),A=t(69969);class k{constructor(se,ge){this.languageId=se;const _e=ge.brackets?O(ge.brackets):[],ye=new A.VV(Se=>{const Ie=new Set;return{info:new H(this,Se,Ie),closing:Ie}}),M=new A.VV(Se=>{const Ie=new Set,ne=new Set;return{info:new L(this,Se,Ie,ne),opening:Ie,openingColorized:ne}});for(const[Se,Ie]of _e){const ne=ye.get(Se),ue=M.get(Ie);ne.closing.add(ue.info),ue.opening.add(ne.info)}const ce=ge.colorizedBracketPairs?O(ge.colorizedBracketPairs):_e.filter(Se=>!("<"===Se[0]&&">"===Se[1]));for(const[Se,Ie]of ce){const ne=ye.get(Se),ue=M.get(Ie);ne.closing.add(ue.info),ue.openingColorized.add(ne.info),ue.opening.add(ne.info)}this._openingBrackets=new Map([...ye.cachedValues].map(([Se,Ie])=>[Se,Ie.info])),this._closingBrackets=new Map([...M.cachedValues].map(([Se,Ie])=>[Se,Ie.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(se){return this._openingBrackets.get(se)}getClosingBracketInfo(se){return this._closingBrackets.get(se)}getBracketInfo(se){return this.getOpeningBracketInfo(se)||this.getClosingBracketInfo(se)}getBracketRegExp(se){const ge=Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]);return(0,D.xb)(ge,se)}}function O(de){return de.filter(([se,ge])=>""!==se&&""!==ge)}class N{constructor(se,ge){this.config=se,this.bracketText=ge}get languageId(){return this.config.languageId}}class H extends N{constructor(se,ge,_e){super(se,ge),this.openedBrackets=_e,this.isOpeningBracket=!0}}class L extends N{constructor(se,ge,_e,ye){super(se,ge),this.openingBrackets=_e,this.openingColorizedBrackets=ye,this.isOpeningBracket=!1}closes(se){return se.config===this.config&&this.openingBrackets.has(se)}closesColorized(se){return se.config===this.config&&this.openingColorizedBrackets.has(se)}getOpeningBrackets(){return[...this.openingBrackets]}}var Z=function(de,se){return function(ge,_e){se(ge,_e,de)}};class te{constructor(se){this.languageId=se}affects(se){return!this.languageId||this.languageId===se}}const X=(0,l.u1)("languageConfigurationService");let U=class extends F.jG{constructor(se,ge){super(),this.configurationService=se,this.languageService=ge,this._registry=this._register(new ie),this.onDidChangeEmitter=this._register(new a.vl),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const _e=new Set(Object.values(R));this._register(this.configurationService.onDidChangeConfiguration(ye=>{const M=ye.change.keys.some(Se=>_e.has(Se)),ce=ye.change.overrides.filter(([Se,Ie])=>Ie.some(ne=>_e.has(ne))).map(([Se])=>Se);if(M)this.configurations.clear(),this.onDidChangeEmitter.fire(new te(void 0));else for(const Se of ce)this.languageService.isRegisteredLanguageId(Se)&&(this.configurations.delete(Se),this.onDidChangeEmitter.fire(new te(Se)))})),this._register(this._registry.onDidChange(ye=>{this.configurations.delete(ye.languageId),this.onDidChangeEmitter.fire(new te(ye.languageId))}))}register(se,ge,_e){return this._registry.register(se,ge,_e)}getLanguageConfiguration(se){let ge=this.configurations.get(se);return ge||(ge=function q(de,se,ge,_e){let ye=se.getLanguageConfiguration(de);if(!ye){if(!_e.isRegisteredLanguageId(de))return new ae(de,{});ye=new ae(de,{})}const M=function W(de,se){const ge=se.getValue(R.brackets,{overrideIdentifier:de}),_e=se.getValue(R.colorizedBracketPairs,{overrideIdentifier:de});return{brackets:Y(ge),colorizedBracketPairs:Y(_e)}}(ye.languageId,ge),ce=G([ye.underlyingConfig,M]);return new ae(ye.languageId,ce)}(se,this._registry,this.configurationService,this.languageService),this.configurations.set(se,ge)),ge}};U=function(de,se,ge,_e){var ce,ye=arguments.length,M=ye<3?se:null===_e?_e=Object.getOwnPropertyDescriptor(se,ge):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(de,se,ge,_e);else for(var Se=de.length-1;Se>=0;Se--)(ce=de[Se])&&(M=(ye<3?ce(M):ye>3?ce(se,ge,M):ce(se,ge))||M);return ye>3&&M&&Object.defineProperty(se,ge,M),M}([Z(0,g.pG),Z(1,p.L)],U);const R={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function Y(de){if(Array.isArray(de))return de.map(se=>{if(Array.isArray(se)&&2===se.length)return[se[0],se[1]]}).filter(se=>!!se)}function oe(de,se,ge){const _e=de.getLineContent(se);let ye=w.UU(_e);return ye.length>ge-1&&(ye=ye.substring(0,ge-1)),ye}class z{constructor(se){this.languageId=se,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(se,ge){const _e=new Q(se,ge,++this._order);return this._entries.push(_e),this._resolved=null,(0,F.s)(()=>{for(let ye=0;ye<this._entries.length;ye++)if(this._entries[ye]===_e){this._entries.splice(ye,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const se=this._resolve();se&&(this._resolved=new ae(this.languageId,se))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(Q.cmp),G(this._entries.map(se=>se.configuration)))}}function G(de){let se={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const ge of de)se={comments:ge.comments||se.comments,brackets:ge.brackets||se.brackets,wordPattern:ge.wordPattern||se.wordPattern,indentationRules:ge.indentationRules||se.indentationRules,onEnterRules:ge.onEnterRules||se.onEnterRules,autoClosingPairs:ge.autoClosingPairs||se.autoClosingPairs,surroundingPairs:ge.surroundingPairs||se.surroundingPairs,autoCloseBefore:ge.autoCloseBefore||se.autoCloseBefore,folding:ge.folding||se.folding,colorizedBracketPairs:ge.colorizedBracketPairs||se.colorizedBracketPairs,__electricCharacterSupport:ge.__electricCharacterSupport||se.__electricCharacterSupport};return se}class Q{constructor(se,ge,_e){this.configuration=se,this.priority=ge,this.order=_e}static cmp(se,ge){return se.priority===ge.priority?se.order-ge.order:se.priority-ge.priority}}class K{constructor(se){this.languageId=se}}class ie extends F.jG{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new a.vl),this.onDidChange=this._onDidChange.event,this._register(this.register(T.vH,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(se,ge,_e=0){let ye=this._entries.get(se);ye||(ye=new z(se),this._entries.set(se,ye));const M=ye.register(ge,_e);return this._onDidChange.fire(new K(se)),(0,F.s)(()=>{M.dispose(),this._onDidChange.fire(new K(se))})}getLanguageConfiguration(se){const ge=this._entries.get(se);return ge?.getResolvedConfiguration()||null}}class ae{constructor(se,ge){this.languageId=se,this.underlyingConfig=ge,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new r(this.underlyingConfig):null,this.comments=ae._handleComments(this.underlyingConfig),this.characterPair=new S(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||x.Ld,this.indentationRules=this.underlyingConfig.indentationRules,this.indentRulesSupport=this.underlyingConfig.indentationRules?new f(this.underlyingConfig.indentationRules):null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new k(se,this.underlyingConfig)}getWordDefinition(){return(0,x.Io)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new D.az(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new v(this.brackets)),this._electricCharacter}onEnter(se,ge,_e,ye){return this._onEnterSupport?this._onEnterSupport.onEnter(se,ge,_e,ye):null}getAutoClosingPairs(){return new C.GB(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(se){return this.characterPair.getAutoCloseBeforeSet(se)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(se){const ge=se.comments;if(!ge)return null;const _e={};if(ge.lineComment&&(_e.lineCommentToken=ge.lineComment),ge.blockComment){const[ye,M]=ge.blockComment;_e.blockCommentStartToken=ye,_e.blockCommentEndToken=M}return _e}}(0,m.v)(X,U,1)},37864:(tt,xe,t)=>{t.d(xe,{W6:()=>P,vH:()=>D});var a=t(81644),F=t(5643),w=t(97018),x=t(12323),C=t(70987);const P=new class b{constructor(){this._onDidChangeLanguages=new F.vl,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(f){return this._languages.push(f),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let d=0,r=this._languages.length;d<r;d++)if(this._languages[d]===f)return void this._languages.splice(d,1)}}}getLanguages(){return this._languages}};w.O.add("editor.modesRegistry",P);const D="plaintext";P.registerLanguage({id:D,extensions:[".txt"],aliases:[a.kg("plainText.alias","Plain Text"),"text"],mimetypes:[x.K.text]}),w.O.as(C.Fd.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},82879:(tt,xe,t)=>{t.d(xe,{$H:()=>w,Lh:()=>x,r3:()=>F});var a=t(41489);const F=new class{clone(){return this}equals(C){return this===C}};function w(C,S){return new a.$M([new a.ou(0,"",C)],S)}function x(C,S){const b=new Uint32Array(2);return b[0]=0,b[1]=(32768|C|2<<24)>>>0,new a.rY(b,null===S?F:S)}},19303:(tt,xe,t)=>{function a(x,C){const S=x.getCount(),b=x.findTokenIndexAtOffset(C),P=x.getLanguageId(b);let D=b;for(;D+1<S&&x.getLanguageId(D+1)===P;)D++;let v=b;for(;v>0&&x.getLanguageId(v-1)===P;)v--;return new F(x,P,v,D+1,x.getStartOffset(v),x.getEndOffset(D))}t.d(xe,{BQ:()=>a,Yo:()=>w});class F{constructor(C,S,b,P,D,v){this._scopedLineTokensBrand=void 0,this._actual=C,this.languageId=S,this._firstTokenIndex=b,this._lastTokenIndex=P,this.firstCharOffset=D,this._lastCharOffset=v,this.languageIdCodec=C.languageIdCodec}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getLineLength(){return this._lastCharOffset-this.firstCharOffset}getActualLineContentBefore(C){return this._actual.getLineContent().substring(0,this.firstCharOffset+C)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(C){return this._actual.findTokenIndexAtOffset(C+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(C){return this._actual.getStandardTokenType(C+this._firstTokenIndex)}toIViewLineTokens(){return this._actual.sliceAndInflate(this.firstCharOffset,this._lastCharOffset,0)}}function w(x){return!!(3&x)}},96697:(tt,xe,t)=>{t.d(xe,{V:()=>C,WR:()=>b,no:()=>x});var a=t(6653),F=t(19303),w=t(33480);class x{constructor(D,v,_){this._indentRulesSupport=v,this._indentationLineProcessor=new S(D,_)}shouldIncrease(D,v){const _=this._indentationLineProcessor.getProcessedLine(D,v);return this._indentRulesSupport.shouldIncrease(_)}shouldDecrease(D,v){const _=this._indentationLineProcessor.getProcessedLine(D,v);return this._indentRulesSupport.shouldDecrease(_)}shouldIgnore(D,v){const _=this._indentationLineProcessor.getProcessedLine(D,v);return this._indentRulesSupport.shouldIgnore(_)}shouldIndentNextLine(D,v){const _=this._indentationLineProcessor.getProcessedLine(D,v);return this._indentRulesSupport.shouldIndentNextLine(_)}}class C{constructor(D,v){this.model=D,this.indentationLineProcessor=new S(D,v)}getProcessedTokenContextAroundRange(D){return{beforeRangeProcessedTokens:this._getProcessedTokensBeforeRange(D),afterRangeProcessedTokens:this._getProcessedTokensAfterRange(D),previousLineProcessedTokens:this._getProcessedPreviousLineTokens(D)}}_getProcessedTokensBeforeRange(D){this.model.tokenization.forceTokenization(D.startLineNumber);const v=this.model.tokenization.getLineTokens(D.startLineNumber),_=(0,F.BQ)(v,D.startColumn-1);let f;if(b(this.model,D.getStartPosition())){const l=_.firstCharOffset;f=v.sliceAndInflate(l,l+(D.startColumn-1-_.firstCharOffset),0)}else f=v.sliceAndInflate(0,D.startColumn-1,0);return this.indentationLineProcessor.getProcessedTokens(f)}_getProcessedTokensAfterRange(D){const v=D.isEmpty()?D.getStartPosition():D.getEndPosition();this.model.tokenization.forceTokenization(v.lineNumber);const _=this.model.tokenization.getLineTokens(v.lineNumber),f=(0,F.BQ)(_,v.column-1),r=f.firstCharOffset+(v.column-1-f.firstCharOffset),l=f.firstCharOffset+f.getLineLength(),g=_.sliceAndInflate(r,l,0);return this.indentationLineProcessor.getProcessedTokens(g)}_getProcessedPreviousLineTokens(D){this.model.tokenization.forceTokenization(D.startLineNumber);const _=this.model.tokenization.getLineTokens(D.startLineNumber),f=(0,F.BQ)(_,D.startColumn-1),d=w.f.createEmpty("",f.languageIdCodec),r=D.startLineNumber-1;if(0===r||0!==f.firstCharOffset)return d;const p=(k=>{this.model.tokenization.forceTokenization(k);const O=this.model.tokenization.getLineTokens(k),N=this.model.getLineMaxColumn(k)-1;return(0,F.BQ)(O,N)})(r);if(f.languageId!==p.languageId)return d;const T=p.toIViewLineTokens();return this.indentationLineProcessor.getProcessedTokens(T)}}class S{constructor(D,v){this.model=D,this.languageConfigurationService=v}getProcessedLine(D,v){var _,f;null===(f=(_=this.model.tokenization).forceTokenization)||void 0===f||f.call(_,D);const r=this.model.tokenization.getLineTokens(D);let l=this.getProcessedTokens(r).getLineContent();return void 0!==v&&(l=((g,p)=>{const m=a.UU(g);return p+g.substring(m.length)})(l,v)),l}getProcessedTokens(D){const _=D.getLanguageId(0),d=this.languageConfigurationService.getLanguageConfiguration(_).bracketsNew.getBracketRegExp({global:!0}),r=[];return D.forEach(g=>{const p=D.getStandardTokenType(g);let m=D.getTokenText(g);(g=>2===g||3===g||1===g)(p)&&(m=m.replace(d,""));const T=D.getMetadata(g);r.push({text:m,metadata:T})}),w.f.createFromTextAndMetadata(r,D.languageIdCodec)}}function b(P,D){P.tokenization.forceTokenization(D.lineNumber);const v=P.tokenization.getLineTokens(D.lineNumber),_=(0,F.BQ)(v,D.column-1),f=0===_.firstCharOffset,d=v.getLanguageId(0)===_.languageId;return!f&&!d}},99965:(tt,xe,t)=>{t.d(xe,{Fu:()=>p,az:()=>S,xb:()=>l});var a=t(6653),F=t(10139),w=t(73678);class x{constructor(T,A,k,O,N,H){this._richEditBracketBrand=void 0,this.languageId=T,this.index=A,this.open=k,this.close=O,this.forwardRegex=N,this.reversedRegex=H,this._openSet=x._toSet(this.open),this._closeSet=x._toSet(this.close)}isOpen(T){return this._openSet.has(T)}isClose(T){return this._closeSet.has(T)}static _toSet(T){const A=new Set;for(const k of T)A.add(k);return A}}class S{constructor(T,A){this._richEditBracketsBrand=void 0;const k=function C(m){const T=m.length;m=m.map(H=>[H[0].toLowerCase(),H[1].toLowerCase()]);const A=[];for(let H=0;H<T;H++)A[H]=H;const k=(H,L)=>{const[j,Z]=H,[te,X]=L;return j===te||j===X||Z===te||Z===X},O=(H,L)=>{const j=Math.min(H,L),Z=Math.max(H,L);for(let te=0;te<T;te++)A[te]===Z&&(A[te]=j)};for(let H=0;H<T;H++){const L=m[H];for(let j=H+1;j<T;j++)k(L,m[j])&&O(A[H],A[j])}const N=[];for(let H=0;H<T;H++){const L=[],j=[];for(let Z=0;Z<T;Z++)if(A[Z]===H){const[te,X]=m[Z];L.push(te),j.push(X)}L.length>0&&N.push({open:L,close:j})}return N}(A);this.brackets=k.map((O,N)=>new x(T,N,O.open,O.close,function v(m,T,A,k){let O=[];O=O.concat(m),O=O.concat(T);for(let N=0,H=O.length;N<H;N++)b(O[N],A,k,O);return O=D(O),O.sort(P),O.reverse(),l(O)}(O.open,O.close,k,N),function _(m,T,A,k){let O=[];O=O.concat(m),O=O.concat(T);for(let N=0,H=O.length;N<H;N++)b(O[N],A,k,O);return O=D(O),O.sort(P),O.reverse(),l(O.map(g))}(O.open,O.close,k,N))),this.forwardRegex=function f(m){let T=[];for(const A of m){for(const k of A.open)T.push(k);for(const k of A.close)T.push(k)}return T=D(T),l(T)}(this.brackets),this.reversedRegex=function d(m){let T=[];for(const A of m){for(const k of A.open)T.push(k);for(const k of A.close)T.push(k)}return T=D(T),l(T.map(g))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const O of this.brackets){for(const N of O.open)this.textIsBracket[N]=O,this.textIsOpenBracket[N]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,N.length);for(const N of O.close)this.textIsBracket[N]=O,this.textIsOpenBracket[N]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,N.length)}}}function b(m,T,A,k){for(let O=0,N=T.length;O<N;O++){if(O===A)continue;const H=T[O];for(const L of H.open)L.indexOf(m)>=0&&k.push(L);for(const L of H.close)L.indexOf(m)>=0&&k.push(L)}}function P(m,T){return m.length-T.length}function D(m){if(m.length<=1)return m;const T=[],A=new Set;for(const k of m)A.has(k)||(T.push(k),A.add(k));return T}function r(m){const T=/^[\w ]+$/.test(m);return m=a.bm(m),T?`\\b${m}\\b`:m}function l(m,T){const A=`(${m.map(r).join(")|(")})`;return a.OS(A,!0,T)}const g=function(){let T=null,A=null;return function(O){return T!==O&&(T=O,A=function m(k){const O=new Uint16Array(k.length);let N=0;for(let H=k.length-1;H>=0;H--)O[N++]=k.charCodeAt(H);return F.b7().decode(O)}(T)),A}}();class p{static _findPrevBracketInText(T,A,k,O){const N=k.match(T);if(!N)return null;const j=O+(k.length-(N.index||0));return new w.Q(A,j-N[0].length+1,A,j+1)}static findPrevBracketInRange(T,A,k,O,N){const L=g(k).substring(k.length-N,k.length-O);return this._findPrevBracketInText(T,A,L,O)}static findNextBracketInText(T,A,k,O){const N=k.match(T);if(!N)return null;const L=N[0].length;if(0===L)return null;const j=O+(N.index||0);return new w.Q(A,j+1,A,j+1+L)}static findNextBracketInRange(T,A,k,O,N){const H=k.substring(O,N);return this.findNextBracketInText(T,A,H,O)}}},99879:(tt,xe,t)=>{t.d(xe,{Yj:()=>b,s0:()=>D});var a=t(10467),F=t(6653),w=t(33480),x=t(41489),C=t(82879);const S={getInitialState:()=>C.r3,tokenizeEncoded:(_,f,d)=>(0,C.Lh)(0,d)};function b(_,f,d){return P.apply(this,arguments)}function P(){return(P=(0,a.A)(function*(_,f,d){if(!d)return v(f,_.languageIdCodec,S);const r=yield x.dG.getOrCreate(d);return v(f,_.languageIdCodec,r||S)})).apply(this,arguments)}function D(_,f,d,r,l,g,p){let m="<div>",T=r,A=0,k=!0;for(let O=0,N=f.getCount();O<N;O++){const H=f.getEndOffset(O);if(H<=r)continue;let L="";for(;T<H&&T<l;T++){const j=_.charCodeAt(T);switch(j){case 9:{let Z=g-(T+A)%g;for(A+=Z-1;Z>0;)p&&k?(L+="&#160;",k=!1):(L+=" ",k=!0),Z--;break}case 60:L+="&lt;",k=!1;break;case 62:L+="&gt;",k=!1;break;case 38:L+="&amp;",k=!1;break;case 0:L+="&#00;",k=!1;break;case 65279:case 8232:case 8233:case 133:L+="\ufffd",k=!1;break;case 13:L+="&#8203",k=!1;break;case 32:p&&k?(L+="&#160;",k=!1):(L+=" ",k=!0);break;default:L+=String.fromCharCode(j),k=!1}}if(m+=`<span style="${f.getInlineStyle(O,d)}">${L}</span>`,H>l||T>=l)break}return m+="</div>",m}function v(_,f,d){let r='<div class="monaco-tokenized-source">';const l=F.uz(_);let g=d.getInitialState();for(let p=0,m=l.length;p<m;p++){const T=l[p];p>0&&(r+="<br/>");const A=d.tokenizeEncoded(T,!0,g);w.f.convertToEndOffset(A.tokens,T.length);const O=new w.f(A.tokens,T,f).inflate();let N=0;for(let H=0,L=O.getCount();H<L;H++){const j=O.getClassName(H),Z=O.getEndOffset(H);r+=`<span class="${j}">${F.ih(T.substring(N,Z))}</span>`,N=Z}g=A.endState}return r+="</div>",r}},63782:(tt,xe,t)=>{t.d(xe,{A5:()=>F,Dg:()=>S,F4:()=>v,L5:()=>D,VW:()=>x,Wo:()=>P,X2:()=>C,ZS:()=>w,nk:()=>b,vd:()=>_});var a=t(24311),F=function(f){return f[f.Left=1]="Left",f[f.Center=2]="Center",f[f.Right=4]="Right",f[f.Full=7]="Full",f}(F||{}),w=function(f){return f[f.Left=1]="Left",f[f.Center=2]="Center",f[f.Right=3]="Right",f}(w||{}),x=function(f){return f[f.Both=0]="Both",f[f.Right=1]="Right",f[f.Left=2]="Left",f[f.None=3]="None",f}(x||{});class C{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(d){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|d.tabSize),"tabSize"===d.indentSize?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,0|d.indentSize),this._indentSizeIsTabSize=!1),this.insertSpaces=!!d.insertSpaces,this.defaultEOL=0|d.defaultEOL,this.trimAutoWhitespace=!!d.trimAutoWhitespace,this.bracketPairColorizationOptions=d.bracketPairColorizationOptions}equals(d){return this.tabSize===d.tabSize&&this._indentSizeIsTabSize===d._indentSizeIsTabSize&&this.indentSize===d.indentSize&&this.insertSpaces===d.insertSpaces&&this.defaultEOL===d.defaultEOL&&this.trimAutoWhitespace===d.trimAutoWhitespace&&(0,a.aI)(this.bracketPairColorizationOptions,d.bracketPairColorizationOptions)}createChangeEvent(d){return{tabSize:this.tabSize!==d.tabSize,indentSize:this.indentSize!==d.indentSize,insertSpaces:this.insertSpaces!==d.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==d.trimAutoWhitespace}}}class S{constructor(d,r){this._findMatchBrand=void 0,this.range=d,this.matches=r}}function b(f){return f&&"function"==typeof f.read}class P{constructor(d,r,l,g,p,m){this.identifier=d,this.range=r,this.text=l,this.forceMoveMarkers=g,this.isAutoWhitespaceEdit=p,this._isTracked=m}}class D{constructor(d,r,l){this.regex=d,this.wordSeparators=r,this.simpleSearch=l}}class v{constructor(d,r,l){this.reverseEdits=d,this.changes=r,this.trimAutoWhitespaceLineNumbers=l}}function _(f){return!f.isTooLargeForSyncing()&&!f.isForSimpleWidget}},27116:(tt,xe,t)=>{t.d(xe,{Gc:()=>g,Nn:()=>S,Xw:()=>b,rh:()=>l,yF:()=>r});var a=t(25680),F=t(52282),w=t(73586),x=t(41963);class C{get length(){return this._length}constructor(m){this._length=m}}class S extends C{static create(m,T,A){let k=m.length;return T&&(k=(0,w.QB)(k,T.length)),A&&(k=(0,w.QB)(k,A.length)),new S(k,m,T,A,T?T.missingOpeningBracketIds:x.gV.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(m){switch(m){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const m=[];return m.push(this.openingBracket),this.child&&m.push(this.child),this.closingBracket&&m.push(this.closingBracket),m}constructor(m,T,A,k,O){super(m),this.openingBracket=T,this.child=A,this.closingBracket=k,this.missingOpeningBracketIds=O}canBeReused(m){return!(null===this.closingBracket||m.intersects(this.missingOpeningBracketIds))}deepClone(){return new S(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(m,T){return this.child?this.child.computeMinIndentation((0,w.QB)(m,this.openingBracket.length),T):Number.MAX_SAFE_INTEGER}}class b extends C{static create23(m,T,A,k=!1){let O=m.length,N=m.missingOpeningBracketIds;if(m.listHeight!==T.listHeight)throw new Error("Invalid list heights");if(O=(0,w.QB)(O,T.length),N=N.merge(T.missingOpeningBracketIds),A){if(m.listHeight!==A.listHeight)throw new Error("Invalid list heights");O=(0,w.QB)(O,A.length),N=N.merge(A.missingOpeningBracketIds)}return k?new D(O,m.listHeight+1,m,T,A,N):new P(O,m.listHeight+1,m,T,A,N)}static getEmpty(){return new _(w.Vp,0,[],x.gV.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(m,T,A){super(m),this.listHeight=T,this._missingOpeningBracketIds=A,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const m=this.childrenLength;if(0===m)return;const T=this.getChild(m-1),A=4===T.kind?T.toMutable():T;return T!==A&&this.setChild(m-1,A),A}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const T=this.getChild(0),A=4===T.kind?T.toMutable():T;return T!==A&&this.setChild(0,A),A}canBeReused(m){if(m.intersects(this.missingOpeningBracketIds)||0===this.childrenLength)return!1;let T=this;for(;4===T.kind;){const A=T.childrenLength;if(0===A)throw new a.D7;T=T.getChild(A-1)}return T.canBeReused(m)}handleChildrenChanged(){this.throwIfImmutable();const m=this.childrenLength;let T=this.getChild(0).length,A=this.getChild(0).missingOpeningBracketIds;for(let k=1;k<m;k++){const O=this.getChild(k);T=(0,w.QB)(T,O.length),A=A.merge(O.missingOpeningBracketIds)}this._length=T,this._missingOpeningBracketIds=A,this.cachedMinIndentation=-1}computeMinIndentation(m,T){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let A=Number.MAX_SAFE_INTEGER,k=m;for(let O=0;O<this.childrenLength;O++){const N=this.getChild(O);N&&(A=Math.min(A,N.computeMinIndentation(k,T)),k=(0,w.QB)(k,N.length))}return this.cachedMinIndentation=A,A}}class P extends b{get childrenLength(){return null!==this._item3?3:2}getChild(m){switch(m){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(m,T){switch(m){case 0:return void(this._item1=T);case 1:return void(this._item2=T);case 2:return void(this._item3=T)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(m,T,A,k,O,N){super(m,T,N),this._item1=A,this._item2=k,this._item3=O}deepClone(){return new P(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(m){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=m,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const m=this._item3;return this._item3=null,this.handleChildrenChanged(),m}prependChildOfSameHeight(m){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=m,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const m=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),m}toMutable(){return this}}class D extends P{toMutable(){return new P(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class v extends b{get childrenLength(){return this._children.length}getChild(m){return this._children[m]}setChild(m,T){this._children[m]=T}get children(){return this._children}constructor(m,T,A,k){super(m,T,k),this._children=A}deepClone(){const m=new Array(this._children.length);for(let T=0;T<this._children.length;T++)m[T]=this._children[T].deepClone();return new v(this.length,this.listHeight,m,this.missingOpeningBracketIds)}appendChildOfSameHeight(m){this.throwIfImmutable(),this._children.push(m),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const m=this._children.pop();return this.handleChildrenChanged(),m}prependChildOfSameHeight(m){this.throwIfImmutable(),this._children.unshift(m),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const m=this._children.shift();return this.handleChildrenChanged(),m}toMutable(){return this}}class _ extends v{toMutable(){return new v(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const f=[];class d extends C{get listHeight(){return 0}get childrenLength(){return 0}getChild(m){return null}get children(){return f}deepClone(){return this}}class r extends d{get kind(){return 0}get missingOpeningBracketIds(){return x.gV.getEmpty()}canBeReused(m){return!0}computeMinIndentation(m,T){const A=(0,w.l4)(m),k=(0===A.columnCount?A.lineCount:A.lineCount+1)+1,O=(0,w.eu)((0,w.QB)(m,this.length))+1;let N=Number.MAX_SAFE_INTEGER;for(let H=k;H<=O;H++){const L=T.getLineFirstNonWhitespaceColumn(H),j=T.getLineContent(H);if(0===L)continue;const Z=F.A.visibleColumnFromColumn(j,L,T.getOptions().tabSize);N=Math.min(N,Z)}return N}}class l extends d{static create(m,T,A){return new l(m,T,A)}get kind(){return 1}get missingOpeningBracketIds(){return x.gV.getEmpty()}constructor(m,T,A){super(m),this.bracketInfo=T,this.bracketIds=A}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(m){return!1}computeMinIndentation(m,T){return Number.MAX_SAFE_INTEGER}}class g extends d{get kind(){return 3}constructor(m,T){super(T),this.missingOpeningBracketIds=m}canBeReused(m){return!m.intersects(this.missingOpeningBracketIds)}computeMinIndentation(m,T){return Number.MAX_SAFE_INTEGER}}},33507:(tt,xe,t)=>{t.d(xe,{W:()=>x,c:()=>w});var a=t(73678),F=t(73586);class w{static fromModelContentChanges(b){return b.map(D=>{const v=a.Q.lift(D.range);return new w((0,F.VL)(v.getStartPosition()),(0,F.VL)(v.getEndPosition()),(0,F.rR)(D.text))}).reverse()}constructor(b,P,D){this.startOffset=b,this.endOffset=P,this.newLength=D}toString(){return`[${(0,F.l4)(this.startOffset)}...${(0,F.l4)(this.endOffset)}) -> ${(0,F.l4)(this.newLength)}`}}class x{constructor(b){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=b.map(P=>C.from(P))}getOffsetBeforeChange(b){return this.adjustNextEdit(b),this.translateCurToOld(b)}getDistanceToNextChange(b){this.adjustNextEdit(b);const P=this.edits[this.nextEditIdx],D=P?this.translateOldToCur(P.offsetObj):null;return null===D?null:(0,F.MS)(b,D)}translateOldToCur(b){return(0,F.qe)(b.lineCount+this.deltaOldToNewLineCount,b.lineCount===this.deltaLineIdxInOld?b.columnCount+this.deltaOldToNewColumnCount:b.columnCount)}translateCurToOld(b){const P=(0,F.l4)(b);return(0,F.qe)(P.lineCount-this.deltaOldToNewLineCount,P.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?P.columnCount-this.deltaOldToNewColumnCount:P.columnCount)}adjustNextEdit(b){for(;this.nextEditIdx<this.edits.length;){const P=this.edits[this.nextEditIdx],D=this.translateOldToCur(P.endOffsetAfterObj);if(!(0,F.vr)(D,b))break;{this.nextEditIdx++;const v=(0,F.l4)(D),_=(0,F.l4)(this.translateOldToCur(P.endOffsetBeforeObj));this.deltaOldToNewLineCount+=v.lineCount-_.lineCount,this.deltaOldToNewColumnCount=(this.deltaLineIdxInOld===P.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0)+(v.columnCount-_.columnCount),this.deltaLineIdxInOld=P.endOffsetBeforeObj.lineCount}}}}class C{static from(b){return new C(b.startOffset,b.endOffset,b.newLength)}constructor(b,P,D){this.endOffsetBeforeObj=(0,F.l4)(P),this.endOffsetAfterObj=(0,F.l4)((0,F.QB)(b,D)),this.offsetObj=(0,F.l4)(b)}}},35275:(tt,xe,t)=>{t.d(xe,{Z:()=>P});var a=t(6653),F=t(27116),w=t(73586),x=t(41963),C=t(65113);class S{static createFromLanguage(v,_){function f(r){return _.getKey(`${r.languageId}:::${r.bracketText}`)}const d=new Map;for(const r of v.bracketsNew.openingBrackets){const l=(0,w.qe)(0,r.bracketText.length),g=f(r),p=x.gV.getEmpty().add(g,x.FD);d.set(r.bracketText,new C.ou(l,1,g,p,F.rh.create(l,r,p)))}for(const r of v.bracketsNew.closingBrackets){const l=(0,w.qe)(0,r.bracketText.length);let g=x.gV.getEmpty();const p=r.getOpeningBrackets();for(const m of p)g=g.add(f(m),x.FD);d.set(r.bracketText,new C.ou(l,2,f(p[0]),g,F.rh.create(l,r,g)))}return new S(d)}constructor(v){this.map=v,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const v=[...this.map.keys()];return v.sort(),v.reverse(),v.map(_=>function b(D){let v=(0,a.bm)(D);return/^[\w ]+/.test(D)&&(v=`\\b${v}`),/[\w ]+$/.test(D)&&(v=`${v}\\b`),v}(_)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const v=this.getRegExpStr();this._regExpGlobal=v?new RegExp(v,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(v){return this.map.get(v.toLowerCase())}findClosingTokenText(v){for(const[_,f]of this.map)if(2===f.kind&&f.bracketIds.intersects(v))return _}get isEmpty(){return 0===this.map.size}}class P{constructor(v,_){this.denseKeyProvider=v,this.getLanguageConfiguration=_,this.languageIdToBracketTokens=new Map}didLanguageChange(v){return this.languageIdToBracketTokens.has(v)}getSingleLanguageBracketTokens(v){let _=this.languageIdToBracketTokens.get(v);return _||(_=S.createFromLanguage(this.getLanguageConfiguration(v),this.denseKeyProvider),this.languageIdToBracketTokens.set(v,_)),_}}},51601:(tt,xe,t)=>{t.d(xe,{M:()=>x});var a=t(30833),F=t(33507),w=t(73586);function x(b,P){if(0===b.length)return P;if(0===P.length)return b;const D=new a.j3(S(b)),v=S(P);v.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let _=D.dequeue();function f(g){if(void 0===g){const m=D.takeWhile(T=>!0)||[];return _&&m.unshift(_),m}const p=[];for(;_&&!(0,w.Vh)(g);){const[m,T]=_.splitAt(g);p.push(m),g=(0,w.MS)(m.lengthAfter,g),_=T??D.dequeue()}return(0,w.Vh)(g)||p.push(new C(!1,g,g)),p}const d=[];function r(g,p,m){if(d.length>0&&(0,w.wP)(d[d.length-1].endOffset,g)){const T=d[d.length-1];d[d.length-1]=new F.c(T.startOffset,p,(0,w.QB)(T.newLength,m))}else d.push({startOffset:g,endOffset:p,newLength:m})}let l=w.Vp;for(const g of v){const p=f(g.lengthBefore);if(g.modified){const m=(0,w.pW)(p,A=>A.lengthBefore),T=(0,w.QB)(l,m);r(l,T,g.lengthAfter),l=T}else for(const m of p){const T=l;l=(0,w.QB)(l,m.lengthBefore),m.modified&&r(T,l,m.lengthAfter)}}return d}class C{constructor(P,D,v){this.modified=P,this.lengthBefore=D,this.lengthAfter=v}splitAt(P){const D=(0,w.MS)(P,this.lengthAfter);return(0,w.wP)(D,w.Vp)?[this,void 0]:this.modified?[new C(this.modified,this.lengthBefore,P),new C(this.modified,w.Vp,D)]:[new C(this.modified,P,P),new C(this.modified,D,D)]}toString(){return`${this.modified?"M":"U"}:${(0,w.l4)(this.lengthBefore)} -> ${(0,w.l4)(this.lengthAfter)}`}}function S(b){const P=[];let D=w.Vp;for(const v of b){const _=(0,w.MS)(D,v.startOffset);(0,w.Vh)(_)||P.push(new C(!1,_,_));const f=(0,w.MS)(v.startOffset,v.endOffset);P.push(new C(!0,f,v.newLength)),D=v.endOffset}return P}},73586:(tt,xe,t)=>{t.d(xe,{C7:()=>x,MS:()=>l,QB:()=>f,Qx:()=>A,VL:()=>T,Vh:()=>S,Vp:()=>C,eu:()=>v,l4:()=>D,o0:()=>m,pW:()=>d,qe:()=>P,rR:()=>k,sS:()=>_,vr:()=>p,wP:()=>r,zG:()=>g});var a=t(6653),F=t(73678),w=t(87676);function x(O,N,H,L){return O!==H?P(H-O,L):P(0,L-N)}const C=0;function S(O){return 0===O}const b=2**26;function P(O,N){return O*b+N}function D(O){const N=O,H=Math.floor(N/b);return new w.W(H,N-H*b)}function v(O){return Math.floor(O/b)}function _(O){return O}function f(O,N){let H=O+N;return N>=b&&(H-=O%b),H}function d(O,N){return O.reduce((H,L)=>f(H,N(L)),C)}function r(O,N){return O===N}function l(O,N){const H=O,L=N;if(L-H<=0)return C;const Z=Math.floor(H/b),te=Math.floor(L/b),X=L-te*b;return Z===te?P(0,X-(H-Z*b)):P(te-Z,X)}function g(O,N){return O<N}function p(O,N){return O<=N}function m(O,N){return O>=N}function T(O){return P(O.lineNumber-1,O.column-1)}function A(O,N){const H=O,L=Math.floor(H/b),j=H-L*b,Z=N,te=Math.floor(Z/b);return new F.Q(L+1,j+1,te+1,Z-te*b+1)}function k(O){const N=(0,a.uz)(O);return P(N.length-1,N[N.length-1].length)}},73488:(tt,xe,t)=>{t.d(xe,{T:()=>r});var a=t(27116),F=t(33507),w=t(41963),x=t(73586);function S(g,p=!1){if(0===g.length)return null;if(1===g.length)return g[0];let m=g.length;for(;m>3;){const T=m>>1;for(let A=0;A<T;A++){const k=A<<1;g[A]=a.Xw.create23(g[k],g[k+1],k+3===m?g[k+2]:null,p)}m=T}return a.Xw.create23(g[0],g[1],m>=3?g[2]:null,p)}function b(g,p){return Math.abs(g.listHeight-p.listHeight)}function P(g,p){return g.listHeight===p.listHeight?a.Xw.create23(g,p,null,!1):g.listHeight>p.listHeight?function D(g,p){let m=g=g.toMutable();const T=[];let A;for(;;){if(p.listHeight===m.listHeight){A=p;break}if(4!==m.kind)throw new Error("unexpected");T.push(m),m=m.makeLastElementMutable()}for(let k=T.length-1;k>=0;k--){const O=T[k];A?O.childrenLength>=3?A=a.Xw.create23(O.unappendChild(),A,null,!1):(O.appendChildOfSameHeight(A),A=void 0):O.handleChildrenChanged()}return A?a.Xw.create23(g,A,null,!1):g}(g,p):function v(g,p){let m=g=g.toMutable();const T=[];for(;p.listHeight!==m.listHeight;){if(4!==m.kind)throw new Error("unexpected");T.push(m),m=m.makeFirstElementMutable()}let A=p;for(let k=T.length-1;k>=0;k--){const O=T[k];A?O.childrenLength>=3?A=a.Xw.create23(A,O.unprependChild(),null,!1):(O.prependChildOfSameHeight(A),A=void 0):O.handleChildrenChanged()}return A?a.Xw.create23(A,g,null,!1):g}(p,g)}class _{constructor(p){this.lastOffset=x.Vp,this.nextNodes=[p],this.offsets=[x.Vp],this.idxs=[]}readLongestNodeAt(p,m){if((0,x.zG)(p,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=p;;){const T=d(this.nextNodes);if(!T)return;const A=d(this.offsets);if((0,x.zG)(p,A))return;if((0,x.zG)(A,p))if((0,x.QB)(A,T.length)<=p)this.nextNodeAfterCurrent();else{const k=f(T);-1!==k?(this.nextNodes.push(T.getChild(k)),this.offsets.push(A),this.idxs.push(k)):this.nextNodeAfterCurrent()}else{if(m(T))return this.nextNodeAfterCurrent(),T;{const k=f(T);if(-1===k)return void this.nextNodeAfterCurrent();this.nextNodes.push(T.getChild(k)),this.offsets.push(A),this.idxs.push(k)}}}}nextNodeAfterCurrent(){for(;;){const p=d(this.offsets),m=d(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const T=d(this.nextNodes),A=f(T,this.idxs[this.idxs.length-1]);if(-1!==A){this.nextNodes.push(T.getChild(A)),this.offsets.push((0,x.QB)(p,m.length)),this.idxs[this.idxs.length-1]=A;break}this.idxs.pop()}}}function f(g,p=-1){for(;;){if(++p>=g.childrenLength)return-1;if(g.getChild(p))return p}}function d(g){return g.length>0?g[g.length-1]:void 0}function r(g,p,m,T){return new l(g,p,m,T).parseDocument()}class l{constructor(p,m,T,A){if(this.tokenizer=p,this.createImmutableLists=A,this._itemsConstructed=0,this._itemsFromCache=0,T&&A)throw new Error("Not supported");this.oldNodeReader=T?new _(T):void 0,this.positionMapper=new F.W(m)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let p=this.parseList(w.gV.getEmpty(),0);return p||(p=a.Xw.getEmpty()),p}parseList(p,m){const T=[];for(;;){let k=this.tryReadChildFromCache(p);if(!k){const O=this.tokenizer.peek();if(!O||2===O.kind&&O.bracketIds.intersects(p))break;k=this.parseChild(p,m+1)}4===k.kind&&0===k.childrenLength||T.push(k)}return this.oldNodeReader?function C(g){if(0===g.length)return null;if(1===g.length)return g[0];let p=0;function m(){if(p>=g.length)return null;const O=p,N=g[O].listHeight;for(p++;p<g.length&&g[p].listHeight===N;)p++;return p-O>=2?S(0===O&&p===g.length?g:g.slice(O,p),!1):g[O]}let T=m(),A=m();if(!A)return T;for(let O=m();O;O=m())b(T,A)<=b(A,O)?(T=P(T,A),A=O):A=P(A,O);return P(T,A)}(T):S(T,this.createImmutableLists)}tryReadChildFromCache(p){if(this.oldNodeReader){const m=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(null===m||!(0,x.Vh)(m)){const T=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),A=>!(null!==m&&!(0,x.zG)(A.length,m))&&A.canBeReused(p));if(T)return this._itemsFromCache++,this.tokenizer.skip(T.length),T}}}parseChild(p,m){this._itemsConstructed++;const T=this.tokenizer.read();switch(T.kind){case 2:return new a.Gc(T.bracketIds,T.length);case 0:return T.astNode;case 1:{if(m>300)return new a.yF(T.length);const A=p.merge(T.bracketIds),k=this.parseList(A,m+1),O=this.tokenizer.peek();return O&&2===O.kind&&(O.bracketId===T.bracketId||O.bracketIds.intersects(T.bracketIds))?(this.tokenizer.read(),a.Nn.create(T.astNode,k,O.astNode)):a.Nn.create(T.astNode,k,null)}default:throw new Error("unexpected")}}}},41963:(tt,xe,t)=>{t.d(xe,{FD:()=>w,Mg:()=>x,gV:()=>F});const a=[];class F{static create(S,b){if(S<=128&&0===b.length){let P=F.cache[S];return P||(P=new F(S,b),F.cache[S]=P),P}return new F(S,b)}static getEmpty(){return this.empty}constructor(S,b){this.items=S,this.additionalItems=b}add(S,b){const P=b.getKey(S);let D=P>>5;if(0===D){const _=1<<P|this.items;return _===this.items?this:F.create(_,this.additionalItems)}D--;const v=this.additionalItems.slice(0);for(;v.length<D;)v.push(0);return v[D]|=1<<(31&P),F.create(this.items,v)}merge(S){const b=this.items|S.items;if(this.additionalItems===a&&S.additionalItems===a)return b===this.items?this:b===S.items?S:F.create(b,a);const P=[];for(let D=0;D<Math.max(this.additionalItems.length,S.additionalItems.length);D++)P.push((this.additionalItems[D]||0)|(S.additionalItems[D]||0));return F.create(b,P)}intersects(S){if(this.items&S.items)return!0;for(let b=0;b<Math.min(this.additionalItems.length,S.additionalItems.length);b++)if(this.additionalItems[b]&S.additionalItems[b])return!0;return!1}}F.cache=new Array(129),F.empty=F.create(0,a);const w={getKey:C=>C};class x{constructor(){this.items=new Map}getKey(S){let b=this.items.get(S);return void 0===b&&(b=this.items.size,this.items.set(S,b)),b}}},65113:(tt,xe,t)=>{t.d(xe,{_:()=>D,ou:()=>S,tk:()=>b});var a=t(25680),F=t(21861),w=t(27116),x=t(73586),C=t(41963);class S{constructor(_,f,d,r,l){this.length=_,this.kind=f,this.bracketId=d,this.bracketIds=r,this.astNode=l}}class b{constructor(_,f){this.textModel=_,this.bracketTokens=f,this.reader=new P(this.textModel,this.bracketTokens),this._offset=x.Vp,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=_.getLineCount(),this.textBufferLastLineLength=_.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,x.qe)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(_){this.didPeek=!1,this._offset=(0,x.QB)(this._offset,_);const f=(0,x.l4)(this._offset);this.reader.setPosition(f.lineCount,f.columnCount)}read(){let _;return this.peeked?(this.didPeek=!1,_=this.peeked):_=this.reader.read(),_&&(this._offset=(0,x.QB)(this._offset,_.length)),_}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class P{constructor(_,f){this.textModel=_,this.bracketTokens=f,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=_.getLineCount(),this.textBufferLastLineLength=_.getLineLength(this.textBufferLineCount)}setPosition(_,f){_===this.lineIdx?(this.lineCharOffset=f,null!==this.line&&(this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=_,this.lineCharOffset=f,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const l=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,x.sS)(l.length),l}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const _=this.lineIdx,f=this.lineCharOffset;let d=0;for(;;){const l=this.lineTokens,g=l.getCount();let p=null;if(this.lineTokenOffset<g){const m=l.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<g&&m===l.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const T=0===F.x.getTokenType(m),A=F.x.containsBalancedBrackets(m),k=l.getEndOffset(this.lineTokenOffset);if(A&&T&&this.lineCharOffset<k){const O=l.getLanguageId(this.lineTokenOffset),N=this.line.substring(this.lineCharOffset,k),H=this.bracketTokens.getSingleLanguageBracketTokens(O),L=H.regExpGlobal;if(L){L.lastIndex=0;const j=L.exec(N);j&&(p=H.getToken(j[0]),p&&(this.lineCharOffset+=j.index))}}if(d+=k-this.lineCharOffset,p){if(_!==this.lineIdx||f!==this.lineCharOffset){this.peekedToken=p;break}return this.lineCharOffset+=(0,x.sS)(p.length),p}this.lineTokenOffset++,this.lineCharOffset=k}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,d+=33,d>1e3))break;if(d>1500)break}const r=(0,x.C7)(_,f,this.lineIdx,this.lineCharOffset);return new S(r,0,-1,C.gV.getEmpty(),new w.yF(r))}}class D{constructor(_,f){this.text=_,this._offset=x.Vp,this.idx=0;const d=f.getRegExpStr(),r=d?new RegExp(d+"|\n","gi"):null,l=[];let g,p=0,m=0,T=0,A=0;const k=[];for(let H=0;H<60;H++)k.push(new S((0,x.qe)(0,H),0,-1,C.gV.getEmpty(),new w.yF((0,x.qe)(0,H))));const O=[];for(let H=0;H<60;H++)O.push(new S((0,x.qe)(1,H),0,-1,C.gV.getEmpty(),new w.yF((0,x.qe)(1,H))));if(r)for(r.lastIndex=0;null!==(g=r.exec(_));){const H=g.index,L=g[0];if("\n"===L)p++,m=H+1;else{if(T!==H){let j;if(A===p){const Z=H-T;if(Z<k.length)j=k[Z];else{const te=(0,x.qe)(0,Z);j=new S(te,0,-1,C.gV.getEmpty(),new w.yF(te))}}else{const Z=p-A,te=H-m;if(1===Z&&te<O.length)j=O[te];else{const X=(0,x.qe)(Z,te);j=new S(X,0,-1,C.gV.getEmpty(),new w.yF(X))}}l.push(j)}l.push(f.getToken(L)),T=H+L.length,A=p}}const N=_.length;if(T!==N){const H=A===p?(0,x.qe)(0,N-T):(0,x.qe)(p-A,N-m);l.push(new S(H,0,-1,C.gV.getEmpty(),new w.yF(H)))}this.length=(0,x.qe)(p,N-m),this.tokens=l}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(_){throw new a.EM}}},24077:(tt,xe,t)=>{t.d(xe,{Th:()=>d,z8:()=>r});var a=t(81644),F=t(25680),w=t(14105),x=t(32417),C=t(44512),S=t(93233),b=t(76698);function P(l){return l.toString()}class D{static create(g,p){const m=g.getAlternativeVersionId(),T=f(g);return new D(m,m,T,T,p,p,[])}constructor(g,p,m,T,A,k,O){this.beforeVersionId=g,this.afterVersionId=p,this.beforeEOL=m,this.afterEOL=T,this.beforeCursorState=A,this.afterCursorState=k,this.changes=O}append(g,p,m,T,A){p.length>0&&(this.changes=(0,C.x)(this.changes,p)),this.afterEOL=m,this.afterVersionId=T,this.afterCursorState=A}static _writeSelectionsSize(g){return 4+16*(g?g.length:0)}static _writeSelections(g,p,m){if(S.Sw(g,p?p.length:0,m),m+=4,p)for(const T of p)S.Sw(g,T.selectionStartLineNumber,m),S.Sw(g,T.selectionStartColumn,m+=4),S.Sw(g,T.positionLineNumber,m+=4),S.Sw(g,T.positionColumn,m+=4),m+=4;return m}static _readSelections(g,p,m){const T=S.bb(g,p);p+=4;for(let A=0;A<T;A++){const k=S.bb(g,p),O=S.bb(g,p+=4),N=S.bb(g,p+=4),H=S.bb(g,p+=4);p+=4,m.push(new w.L(k,O,N,H))}return p}serialize(){let g=10+D._writeSelectionsSize(this.beforeCursorState)+D._writeSelectionsSize(this.afterCursorState)+4;for(const T of this.changes)g+=T.writeSize();const p=new Uint8Array(g);let m=0;S.Sw(p,this.beforeVersionId,m),m+=4,S.Sw(p,this.afterVersionId,m),m+=4,S.Gs(p,this.beforeEOL,m),m+=1,S.Gs(p,this.afterEOL,m),m+=1,m=D._writeSelections(p,this.beforeCursorState,m),m=D._writeSelections(p,this.afterCursorState,m),S.Sw(p,this.changes.length,m),m+=4;for(const T of this.changes)m=T.write(p,m);return p.buffer}static deserialize(g){const p=new Uint8Array(g);let m=0;const T=S.bb(p,m);m+=4;const A=S.bb(p,m);m+=4;const k=S.pJ(p,m);m+=1;const O=S.pJ(p,m);m+=1;const N=[];m=D._readSelections(p,m,N);const H=[];m=D._readSelections(p,m,H);const L=S.bb(p,m);m+=4;const j=[];for(let Z=0;Z<L;Z++)m=C.k.read(p,m,j);return new D(T,A,k,O,N,H,j)}}class v{get type(){return 0}get resource(){return x.r.isUri(this.model)?this.model:this.model.uri}constructor(g,p,m,T){this.label=g,this.code=p,this.model=m,this._data=D.create(m,T)}toString(){return(this._data instanceof D?this._data:D.deserialize(this._data)).changes.map(p=>p.toString()).join(", ")}matchesResource(g){return(x.r.isUri(this.model)?this.model:this.model.uri).toString()===g.toString()}setModel(g){this.model=g}canAppend(g){return this.model===g&&this._data instanceof D}append(g,p,m,T,A){this._data instanceof D&&this._data.append(g,p,m,T,A)}close(){this._data instanceof D&&(this._data=this._data.serialize())}open(){this._data instanceof D||(this._data=D.deserialize(this._data))}undo(){if(x.r.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof D&&(this._data=this._data.serialize());const g=D.deserialize(this._data);this.model._applyUndo(g.changes,g.beforeEOL,g.beforeVersionId,g.beforeCursorState)}redo(){if(x.r.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof D&&(this._data=this._data.serialize());const g=D.deserialize(this._data);this.model._applyRedo(g.changes,g.afterEOL,g.afterVersionId,g.afterCursorState)}heapSize(){return this._data instanceof D&&(this._data=this._data.serialize()),this._data.byteLength+168}}class _{get resources(){return this._editStackElementsArr.map(g=>g.resource)}constructor(g,p,m){this.label=g,this.code=p,this.type=1,this._isOpen=!0,this._editStackElementsArr=m.slice(0),this._editStackElementsMap=new Map;for(const T of this._editStackElementsArr){const A=P(T.resource);this._editStackElementsMap.set(A,T)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(g){const p=P(g);return this._editStackElementsMap.has(p)}setModel(g){const p=P(x.r.isUri(g)?g:g.uri);this._editStackElementsMap.has(p)&&this._editStackElementsMap.get(p).setModel(g)}canAppend(g){if(!this._isOpen)return!1;const p=P(g.uri);return!!this._editStackElementsMap.has(p)&&this._editStackElementsMap.get(p).canAppend(g)}append(g,p,m,T,A){const k=P(g.uri);this._editStackElementsMap.get(k).append(g,p,m,T,A)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const g of this._editStackElementsArr)g.undo()}redo(){for(const g of this._editStackElementsArr)g.redo()}heapSize(g){const p=P(g);return this._editStackElementsMap.has(p)?this._editStackElementsMap.get(p).heapSize():0}split(){return this._editStackElementsArr}toString(){const g=[];for(const p of this._editStackElementsArr)g.push(`${(0,b.P8)(p.resource)}: ${p}`);return`{${g.join(", ")}}`}}function f(l){return"\n"===l.getEOL()?0:1}function d(l){return!!l&&(l instanceof v||l instanceof _)}class r{constructor(g,p){this._model=g,this._undoRedoService=p}pushStackElement(){const g=this._undoRedoService.getLastElement(this._model.uri);d(g)&&g.close()}popStackElement(){const g=this._undoRedoService.getLastElement(this._model.uri);d(g)&&g.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(g,p){const m=this._undoRedoService.getLastElement(this._model.uri);if(d(m)&&m.canAppend(this._model))return m;const T=new v(a.kg("edit","Typing"),"undoredo.textBufferEdit",this._model,g);return this._undoRedoService.pushElement(T,p),T}pushEOL(g){const p=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(g),p.append(this._model,[],f(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(g,p,m,T){const A=this._getOrCreateEditStackElement(g,T),k=this._model.applyEdits(p,!0),O=r._computeCursorState(m,k),N=k.map((H,L)=>({index:L,textChange:H.textChange}));return N.sort((H,L)=>H.textChange.oldPosition===L.textChange.oldPosition?H.index-L.index:H.textChange.oldPosition-L.textChange.oldPosition),A.append(this._model,N.map(H=>H.textChange),f(this._model),this._model.getAlternativeVersionId(),O),O}static _computeCursorState(g,p){try{return g?g(p):null}catch(m){return(0,F.dz)(m),null}}}},39899:(tt,xe,t)=>{t.d(xe,{P:()=>D,k:()=>v});var a=t(92210),F=t(6653),w=t(52282),x=t(73678),C=t(9592),S=t(53136),b=t(97078),P=t(25680);class D extends C._{constructor(f,d){super(),this.textModel=f,this.languageConfigurationService=d}getLanguageConfiguration(f){return this.languageConfigurationService.getLanguageConfiguration(f)}_computeIndentLevel(f){return(0,S.G)(this.textModel.getLineContent(f+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(f,d,r){this.assertNotDisposed();const l=this.textModel.getLineCount();if(f<1||f>l)throw new P.D7("Illegal value for lineNumber");const g=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,p=!(!g||!g.offSide);let m=-2,T=-1,A=-2,k=-1;const O=Y=>{if(-1!==m&&(-2===m||m>Y-1)){m=-1,T=-1;for(let oe=Y-2;oe>=0;oe--){const z=this._computeIndentLevel(oe);if(z>=0){m=oe,T=z;break}}}if(-2===A){A=-1,k=-1;for(let oe=Y;oe<l;oe++){const z=this._computeIndentLevel(oe);if(z>=0){A=oe,k=z;break}}}};let N=-2,H=-1,L=-2,j=-1;const Z=Y=>{if(-2===N){N=-1,H=-1;for(let oe=Y-2;oe>=0;oe--){const z=this._computeIndentLevel(oe);if(z>=0){N=oe,H=z;break}}}if(-1!==L&&(-2===L||L<Y-1)){L=-1,j=-1;for(let oe=Y;oe<l;oe++){const z=this._computeIndentLevel(oe);if(z>=0){L=oe,j=z;break}}}};let te=0,X=!0,U=0,q=!0,R=0,W=0;for(let Y=0;X||q;Y++){const oe=f-Y,z=f+Y;Y>1&&(oe<1||oe<d)&&(X=!1),Y>1&&(z>l||z>r)&&(q=!1),Y>5e4&&(X=!1,q=!1);let G=-1;if(X&&oe>=1){const K=this._computeIndentLevel(oe-1);K>=0?(A=oe-1,k=K,G=Math.ceil(K/this.textModel.getOptions().indentSize)):(O(oe),G=this._getIndentLevelForWhitespaceLine(p,T,k))}let Q=-1;if(q&&z<=l){const K=this._computeIndentLevel(z-1);K>=0?(N=z-1,H=K,Q=Math.ceil(K/this.textModel.getOptions().indentSize)):(Z(z),Q=this._getIndentLevelForWhitespaceLine(p,H,j))}if(0!==Y){if(1===Y){if(z<=l&&Q>=0&&W+1===Q){X=!1,te=z,U=z,R=Q;continue}if(oe>=1&&G>=0&&G-1===W){q=!1,te=oe,U=oe,R=G;continue}if(te=f,U=f,R=W,0===R)return{startLineNumber:te,endLineNumber:U,indent:R}}X&&(G>=R?te=oe:X=!1),q&&(Q>=R?U=z:q=!1)}else W=G}return{startLineNumber:te,endLineNumber:U,indent:R}}getLinesBracketGuides(f,d,r,l){var g;const p=[];for(let N=f;N<=d;N++)p.push([]);const T=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new x.Q(f,1,d,this.textModel.getLineMaxColumn(d))).toArray();let A;if(r&&T.length>0){const N=(f<=r.lineNumber&&r.lineNumber<=d?T:this.textModel.bracketPairs.getBracketPairsInRange(x.Q.fromPositions(r)).toArray()).filter(H=>x.Q.strictContainsPosition(H.range,r));A=null===(g=(0,a.Uk)(N,H=>!0))||void 0===g?void 0:g.range}const k=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,O=new v;for(const N of T){if(!N.closingBracketRange)continue;const H=A&&N.range.equalsRange(A);if(!H&&!l.includeInactive)continue;const L=O.getInlineClassName(N.nestingLevel,N.nestingLevelOfEqualBracketType,k)+(l.highlightActive&&H?" "+O.activeClassName:""),j=N.openingBracketRange.getStartPosition(),Z=N.closingBracketRange.getStartPosition(),te=l.horizontalGuides===b.N6.Enabled||l.horizontalGuides===b.N6.EnabledForActive&&H;if(N.range.startLineNumber===N.range.endLineNumber){te&&p[N.range.startLineNumber-f].push(new b.TH(-1,N.openingBracketRange.getEndPosition().column,L,new b.pv(!1,Z.column),-1,-1));continue}const X=this.getVisibleColumnFromPosition(Z),U=this.getVisibleColumnFromPosition(N.openingBracketRange.getStartPosition()),q=Math.min(U,X,N.minVisibleColumnIndentation+1);let R=!1;F.HG(this.textModel.getLineContent(N.closingBracketRange.startLineNumber))<N.closingBracketRange.startColumn-1&&(R=!0);const oe=Math.max(j.lineNumber,f),z=Math.min(Z.lineNumber,d),G=R?1:0;for(let Q=oe;Q<z+G;Q++)p[Q-f].push(new b.TH(q,-1,L,null,Q===j.lineNumber?j.column:-1,Q===Z.lineNumber?Z.column:-1));te&&(j.lineNumber>=f&&U>q&&p[j.lineNumber-f].push(new b.TH(q,-1,L,new b.pv(!1,j.column),-1,-1)),Z.lineNumber<=d&&X>q&&p[Z.lineNumber-f].push(new b.TH(q,-1,L,new b.pv(!R,Z.column),-1,-1)))}for(const N of p)N.sort((H,L)=>H.visibleColumn-L.visibleColumn);return p}getVisibleColumnFromPosition(f){return w.A.visibleColumnFromColumn(this.textModel.getLineContent(f.lineNumber),f.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(f,d){this.assertNotDisposed();const r=this.textModel.getLineCount();if(f<1||f>r)throw new Error("Illegal value for startLineNumber");if(d<1||d>r)throw new Error("Illegal value for endLineNumber");const l=this.textModel.getOptions(),g=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,p=!(!g||!g.offSide),m=new Array(d-f+1);let T=-2,A=-1,k=-2,O=-1;for(let N=f;N<=d;N++){const H=N-f,L=this._computeIndentLevel(N-1);if(L>=0)T=N-1,A=L,m[H]=Math.ceil(L/l.indentSize);else{if(-2===T){T=-1,A=-1;for(let j=N-2;j>=0;j--){const Z=this._computeIndentLevel(j);if(Z>=0){T=j,A=Z;break}}}if(-1!==k&&(-2===k||k<N-1)){k=-1,O=-1;for(let j=N;j<r;j++){const Z=this._computeIndentLevel(j);if(Z>=0){k=j,O=Z;break}}}m[H]=this._getIndentLevelForWhitespaceLine(p,A,O)}}return m}_getIndentLevelForWhitespaceLine(f,d,r){const l=this.textModel.getOptions();return-1===d||-1===r?0:d<r?1+Math.floor(d/l.indentSize):d===r||f?Math.ceil(r/l.indentSize):1+Math.floor(r/l.indentSize)}}class v{constructor(){this.activeClassName="indent-active"}getInlineClassName(f,d,r){return this.getInlineClassNameOfLevel(r?d:f)}getInlineClassNameOfLevel(f){return"bracket-indent-guide lvl-"+f%30}}},54511:(tt,xe,t)=>{t.d(xe,{N:()=>w,c2:()=>x});var a=t(30833),F=t(94371);class w{constructor(b){this.values=b,this.prefixSum=new Uint32Array(b.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(b,P){b=(0,F.j)(b);const D=this.values,v=this.prefixSum,_=P.length;return 0!==_&&(this.values=new Uint32Array(D.length+_),this.values.set(D.subarray(0,b),0),this.values.set(D.subarray(b),b+_),this.values.set(P,b),b-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=b-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(v.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(b,P){return b=(0,F.j)(b),P=(0,F.j)(P),this.values[b]!==P&&(this.values[b]=P,b-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=b-1),!0)}removeValues(b,P){b=(0,F.j)(b),P=(0,F.j)(P);const D=this.values,v=this.prefixSum;if(b>=D.length)return!1;const _=D.length-b;return P>=_&&(P=_),0!==P&&(this.values=new Uint32Array(D.length-P),this.values.set(D.subarray(0,b),0),this.values.set(D.subarray(b+P),b),this.prefixSum=new Uint32Array(this.values.length),b-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=b-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(v.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(b){return b<0?0:(b=(0,F.j)(b),this._getPrefixSum(b))}_getPrefixSum(b){if(b<=this.prefixSumValidIndex[0])return this.prefixSum[b];let P=this.prefixSumValidIndex[0]+1;0===P&&(this.prefixSum[0]=this.values[0],P++),b>=this.values.length&&(b=this.values.length-1);for(let D=P;D<=b;D++)this.prefixSum[D]=this.prefixSum[D-1]+this.values[D];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],b),this.prefixSum[b]}getIndexOf(b){b=Math.floor(b),this.getTotalSum();let P=0,D=this.values.length-1,v=0,_=0,f=0;for(;P<=D;)if(v=P+(D-P)/2|0,_=this.prefixSum[v],f=_-this.values[v],b<f)D=v-1;else{if(!(b>=_))break;P=v+1}return new C(v,b-f)}}class x{constructor(b){this._values=b,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(b){return this._ensureValid(),0===b?0:this._prefixSum[b-1]}getIndexOf(b){this._ensureValid();const P=this._indexBySum[b];return new C(P,b-(P>0?this._prefixSum[P-1]:0))}removeValues(b,P){this._values.splice(b,P),this._invalidate(b)}insertValues(b,P){this._values=(0,a.nK)(this._values,b,P),this._invalidate(b)}_invalidate(b){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,b-1)}_ensureValid(){if(!this._isValid){for(let b=this._validEndIndex+1,P=this._values.length;b<P;b++){const D=this._values[b],v=b>0?this._prefixSum[b-1]:0;this._prefixSum[b]=v+D;for(let _=0;_<D;_++)this._indexBySum[v+_]=b}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(b,P){this._values[b]!==P&&(this._values[b]=P,this._invalidate(b))}}class C{constructor(b,P){this.index=b,this.remainder=P,this._prefixSumIndexOfResultBrand=void 0,this.index=b,this.remainder=P}}},80753:(tt,xe,t)=>{t.d(xe,{Ho:()=>Ni,kI:()=>Li,Bz:()=>Ii});var a=t(30833),F=t(84072),w=t(25680),x=t(5643),C=t(99031),S=t(6653),b=t(32417),P=t(85583),D=t(7988),v=t(84132),_=t(13632),f=t(73678),d=t(14105),r=t(63081),l=t(385),g=t(70416),p=t(63782),m=t(19303),T=t(99965);class A{constructor(B,re,Le,Pe){this.range=B,this.nestingLevel=re,this.nestingLevelOfEqualBracketType=Le,this.isInvalid=Pe}}class k{constructor(B,re,Le,Pe,fe,Te){this.range=B,this.openingBracketRange=re,this.closingBracketRange=Le,this.nestingLevel=Pe,this.nestingLevelOfEqualBracketType=fe,this.bracketPairNode=Te}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class O extends k{constructor(B,re,Le,Pe,fe,Te,ze){super(B,re,Le,Pe,fe,Te),this.minVisibleColumnIndentation=ze}}var N=t(33507),H=t(35275),L=t(73586),j=t(73488),Z=t(41963),te=t(65113),X=t(51601);class U extends C.jG{didLanguageChange(B){return this.brackets.didLanguageChange(B)}constructor(B,re){if(super(),this.textModel=B,this.getLanguageConfiguration=re,this.didChangeEmitter=new x.vl,this.denseKeyProvider=new Z.Mg,this.brackets=new H.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],B.tokenization.hasTokens)2===B.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const Le=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),Pe=new te._(this.textModel.getValue(),Le);this.initialAstWithoutTokens=(0,j.T)(Pe,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const B=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,B||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:B}){const re=B.map(Le=>new N.c((0,L.qe)(Le.fromLineNumber-1,0),(0,L.qe)(Le.toLineNumber,0),(0,L.qe)(Le.toLineNumber-Le.fromLineNumber+1,0)));this.handleEdits(re,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(B){const re=N.c.fromModelContentChanges(B.changes);this.handleEdits(re,!1)}handleEdits(B,re){const Le=(0,X.M)(this.queuedTextEdits,B);this.queuedTextEdits=Le,this.initialAstWithoutTokens&&!re&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,X.M)(this.queuedTextEditsForInitialAstWithoutTokens,B))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(B,re,Le){const fe=re,Te=new te.tk(this.textModel,this.brackets);return(0,j.T)(Te,B,fe,Le)}getBracketsInRange(B,re){this.flushQueue();const Le=(0,L.qe)(B.startLineNumber-1,B.startColumn-1),Pe=(0,L.qe)(B.endLineNumber-1,B.endColumn-1);return new a.c1(fe=>{const Te=this.initialAstWithoutTokens||this.astWithTokens;W(Te,L.Vp,Te.length,Le,Pe,fe,0,0,new Map,re)})}getBracketPairsInRange(B,re){this.flushQueue();const Le=(0,L.VL)(B.getStartPosition()),Pe=(0,L.VL)(B.getEndPosition());return new a.c1(fe=>{const Te=this.initialAstWithoutTokens||this.astWithTokens,ze=new Y(fe,re,this.textModel);oe(Te,L.Vp,Te.length,Le,Pe,ze,0,new Map)})}getFirstBracketAfter(B){this.flushQueue();const re=this.initialAstWithoutTokens||this.astWithTokens;return R(re,L.Vp,re.length,(0,L.VL)(B))}getFirstBracketBefore(B){this.flushQueue();const re=this.initialAstWithoutTokens||this.astWithTokens;return q(re,L.Vp,re.length,(0,L.VL)(B))}}function q(dn,B,re,Le){if(4===dn.kind||2===dn.kind){const Pe=[];for(const fe of dn.children)re=(0,L.QB)(B,fe.length),Pe.push({nodeOffsetStart:B,nodeOffsetEnd:re}),B=re;for(let fe=Pe.length-1;fe>=0;fe--){const{nodeOffsetStart:Te,nodeOffsetEnd:ze}=Pe[fe];if((0,L.zG)(Te,Le)){const Xe=q(dn.children[fe],Te,ze,Le);if(Xe)return Xe}}return null}if(3===dn.kind)return null;if(1===dn.kind){const Pe=(0,L.Qx)(B,re);return{bracketInfo:dn.bracketInfo,range:Pe}}return null}function R(dn,B,re,Le){if(4===dn.kind||2===dn.kind){for(const Pe of dn.children){if(re=(0,L.QB)(B,Pe.length),(0,L.zG)(Le,re)){const fe=R(Pe,B,re,Le);if(fe)return fe}B=re}return null}if(3===dn.kind)return null;if(1===dn.kind){const Pe=(0,L.Qx)(B,re);return{bracketInfo:dn.bracketInfo,range:Pe}}return null}function W(dn,B,re,Le,Pe,fe,Te,ze,Xe,_t,It=!1){if(Te>200)return!0;e:for(;;)switch(dn.kind){case 4:{const Ot=dn.childrenLength;for(let $t=0;$t<Ot;$t++){const cn=dn.getChild($t);if(cn){if(re=(0,L.QB)(B,cn.length),(0,L.vr)(B,Pe)&&(0,L.o0)(re,Le)){if((0,L.o0)(re,Pe)){dn=cn;continue e}if(!W(cn,B,re,Le,Pe,fe,Te,0,Xe,_t))return!1}B=re}}return!0}case 2:{const Ot=!_t||!dn.closingBracket||dn.closingBracket.bracketInfo.closesColorized(dn.openingBracket.bracketInfo);let $t=0;if(Xe){let _n=Xe.get(dn.openingBracket.text);void 0===_n&&(_n=0),$t=_n,Ot&&(_n++,Xe.set(dn.openingBracket.text,_n))}const cn=dn.childrenLength;for(let _n=0;_n<cn;_n++){const vn=dn.getChild(_n);if(vn){if(re=(0,L.QB)(B,vn.length),(0,L.vr)(B,Pe)&&(0,L.o0)(re,Le)){if((0,L.o0)(re,Pe)&&1!==vn.kind){dn=vn,Ot?(Te++,ze=$t+1):ze=$t;continue e}if((Ot||1!==vn.kind||!dn.closingBracket)&&!W(vn,B,re,Le,Pe,fe,Ot?Te+1:Te,Ot?$t+1:$t,Xe,_t,!dn.closingBracket))return!1}B=re}}return Xe?.set(dn.openingBracket.text,$t),!0}case 3:{const Ot=(0,L.Qx)(B,re);return fe(new A(Ot,Te-1,0,!0))}case 1:{const Ot=(0,L.Qx)(B,re);return fe(new A(Ot,Te-1,ze-1,It))}case 0:return!0}}class Y{constructor(B,re,Le){this.push=B,this.includeMinIndentation=re,this.textModel=Le}}function oe(dn,B,re,Le,Pe,fe,Te,ze){var Xe;if(Te>200)return!0;let _t=!0;if(2===dn.kind){let It=0;if(ze){let cn=ze.get(dn.openingBracket.text);void 0===cn&&(cn=0),It=cn,cn++,ze.set(dn.openingBracket.text,cn)}const Ot=(0,L.QB)(B,dn.openingBracket.length);let $t=-1;if(fe.includeMinIndentation&&($t=dn.computeMinIndentation(B,fe.textModel)),_t=fe.push(new O((0,L.Qx)(B,re),(0,L.Qx)(B,Ot),dn.closingBracket?(0,L.Qx)((0,L.QB)(Ot,(null===(Xe=dn.child)||void 0===Xe?void 0:Xe.length)||L.Vp),re):void 0,Te,It,dn,$t)),B=Ot,_t&&dn.child){const cn=dn.child;if(re=(0,L.QB)(B,cn.length),(0,L.vr)(B,Pe)&&(0,L.o0)(re,Le)&&(_t=oe(cn,B,re,Le,Pe,fe,Te+1,ze),!_t))return!1}ze?.set(dn.openingBracket.text,It)}else{let It=B;for(const Ot of dn.children){const $t=It;if(It=(0,L.QB)(It,Ot.length),(0,L.vr)($t,Pe)&&(0,L.vr)(Le,It)&&(_t=oe(Ot,$t,It,Le,Pe,fe,Te,ze),!_t))return!1}}return _t}class z extends C.jG{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(B,re){super(),this.textModel=B,this.languageConfigurationService=re,this.bracketPairsTree=this._register(new C.HE),this.onDidChangeEmitter=new x.vl,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(Le=>{var Pe;(!Le.languageId||null!==(Pe=this.bracketPairsTree.value)&&void 0!==Pe&&Pe.object.didLanguageChange(Le.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(B){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(B){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(B){var re;null===(re=this.bracketPairsTree.value)||void 0===re||re.object.handleContentChanged(B)}handleDidChangeBackgroundTokenizationState(){var B;null===(B=this.bracketPairsTree.value)||void 0===B||B.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(B){var re;null===(re=this.bracketPairsTree.value)||void 0===re||re.object.handleDidChangeTokens(B)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const B=new C.Cm;this.bracketPairsTree.value=function G(dn,B){return{object:dn,dispose:()=>B?.dispose()}}(B.add(new U(this.textModel,re=>this.languageConfigurationService.getLanguageConfiguration(re))),B),B.add(this.bracketPairsTree.value.object.onDidChange(re=>this.onDidChangeEmitter.fire(re))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(B){var re;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(re=this.bracketPairsTree.value)||void 0===re?void 0:re.object.getBracketPairsInRange(B,!1))||a.c1.empty}getBracketPairsInRangeWithMinIndentation(B){var re;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(re=this.bracketPairsTree.value)||void 0===re?void 0:re.object.getBracketPairsInRange(B,!0))||a.c1.empty}getBracketsInRange(B,re=!1){var Le;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(Le=this.bracketPairsTree.value)||void 0===Le?void 0:Le.object.getBracketsInRange(B,re))||a.c1.empty}findMatchingBracketUp(B,re,Le){const Pe=this.textModel.validatePosition(re),fe=this.textModel.getLanguageIdAtPosition(Pe.lineNumber,Pe.column);if(this.canBuildAST){const Te=this.languageConfigurationService.getLanguageConfiguration(fe).bracketsNew.getClosingBracketInfo(B);if(!Te)return null;const ze=this.getBracketPairsInRange(f.Q.fromPositions(re,re)).findLast(Xe=>Te.closes(Xe.openingBracketInfo));return ze?ze.openingBracketRange:null}{const Te=B.toLowerCase(),ze=this.languageConfigurationService.getLanguageConfiguration(fe).brackets;if(!ze)return null;const Xe=ze.textIsBracket[Te];return Xe?ie(this._findMatchingBracketUp(Xe,Pe,Q(Le))):null}}matchBracket(B,re){if(this.canBuildAST){const Le=this.getBracketPairsInRange(f.Q.fromPositions(B,B)).filter(Pe=>void 0!==Pe.closingBracketRange&&(Pe.openingBracketRange.containsPosition(B)||Pe.closingBracketRange.containsPosition(B))).findLastMaxBy((0,a.VE)(Pe=>Pe.openingBracketRange.containsPosition(B)?Pe.openingBracketRange:Pe.closingBracketRange,f.Q.compareRangesUsingStarts));return Le?[Le.openingBracketRange,Le.closingBracketRange]:null}{const Le=Q(re);return this._matchBracket(this.textModel.validatePosition(B),Le)}}_establishBracketSearchOffsets(B,re,Le,Pe){const fe=re.getCount(),Te=re.getLanguageId(Pe);let ze=Math.max(0,B.column-1-Le.maxBracketLength);for(let _t=Pe-1;_t>=0;_t--){const It=re.getEndOffset(_t);if(It<=ze)break;if((0,m.Yo)(re.getStandardTokenType(_t))||re.getLanguageId(_t)!==Te){ze=It;break}}let Xe=Math.min(re.getLineContent().length,B.column-1+Le.maxBracketLength);for(let _t=Pe+1;_t<fe;_t++){const It=re.getStartOffset(_t);if(It>=Xe)break;if((0,m.Yo)(re.getStandardTokenType(_t))||re.getLanguageId(_t)!==Te){Xe=It;break}}return{searchStartOffset:ze,searchEndOffset:Xe}}_matchBracket(B,re){const Le=B.lineNumber,Pe=this.textModel.tokenization.getLineTokens(Le),fe=this.textModel.getLineContent(Le),Te=Pe.findTokenIndexAtOffset(B.column-1);if(Te<0)return null;const ze=this.languageConfigurationService.getLanguageConfiguration(Pe.getLanguageId(Te)).brackets;if(ze&&!(0,m.Yo)(Pe.getStandardTokenType(Te))){let{searchStartOffset:Xe,searchEndOffset:_t}=this._establishBracketSearchOffsets(B,Pe,ze,Te),It=null;for(;;){const Ot=T.Fu.findNextBracketInRange(ze.forwardRegex,Le,fe,Xe,_t);if(!Ot)break;if(Ot.startColumn<=B.column&&B.column<=Ot.endColumn){const $t=fe.substring(Ot.startColumn-1,Ot.endColumn-1).toLowerCase(),cn=this._matchFoundBracket(Ot,ze.textIsBracket[$t],ze.textIsOpenBracket[$t],re);if(cn){if(cn instanceof K)return null;It=cn}}Xe=Ot.endColumn-1}if(It)return It}if(Te>0&&Pe.getStartOffset(Te)===B.column-1){const Xe=Te-1,_t=this.languageConfigurationService.getLanguageConfiguration(Pe.getLanguageId(Xe)).brackets;if(_t&&!(0,m.Yo)(Pe.getStandardTokenType(Xe))){const{searchStartOffset:It,searchEndOffset:Ot}=this._establishBracketSearchOffsets(B,Pe,_t,Xe),$t=T.Fu.findPrevBracketInRange(_t.reversedRegex,Le,fe,It,Ot);if($t&&$t.startColumn<=B.column&&B.column<=$t.endColumn){const cn=fe.substring($t.startColumn-1,$t.endColumn-1).toLowerCase(),_n=this._matchFoundBracket($t,_t.textIsBracket[cn],_t.textIsOpenBracket[cn],re);if(_n)return _n instanceof K?null:_n}}}return null}_matchFoundBracket(B,re,Le,Pe){if(!re)return null;const fe=Le?this._findMatchingBracketDown(re,B.getEndPosition(),Pe):this._findMatchingBracketUp(re,B.getStartPosition(),Pe);return fe?fe instanceof K?fe:[B,fe]:null}_findMatchingBracketUp(B,re,Le){const Pe=B.languageId,fe=B.reversedRegex;let Te=-1,ze=0;const Xe=(_t,It,Ot,$t)=>{for(;;){if(Le&&++ze%100==0&&!Le())return K.INSTANCE;const cn=T.Fu.findPrevBracketInRange(fe,_t,It,Ot,$t);if(!cn)break;const _n=It.substring(cn.startColumn-1,cn.endColumn-1).toLowerCase();if(B.isOpen(_n)?Te++:B.isClose(_n)&&Te--,0===Te)return cn;$t=cn.startColumn-1}return null};for(let _t=re.lineNumber;_t>=1;_t--){const It=this.textModel.tokenization.getLineTokens(_t),Ot=It.getCount(),$t=this.textModel.getLineContent(_t);let cn=Ot-1,_n=$t.length,vn=$t.length;_t===re.lineNumber&&(cn=It.findTokenIndexAtOffset(re.column-1),_n=re.column-1,vn=re.column-1);let Cn=!0;for(;cn>=0;cn--){const Gn=It.getLanguageId(cn)===Pe&&!(0,m.Yo)(It.getStandardTokenType(cn));if(Gn)Cn?_n=It.getStartOffset(cn):(_n=It.getStartOffset(cn),vn=It.getEndOffset(cn));else if(Cn&&_n!==vn){const Yn=Xe(_t,$t,_n,vn);if(Yn)return Yn}Cn=Gn}if(Cn&&_n!==vn){const Gn=Xe(_t,$t,_n,vn);if(Gn)return Gn}}return null}_findMatchingBracketDown(B,re,Le){const Pe=B.languageId,fe=B.forwardRegex;let Te=1,ze=0;const Xe=(It,Ot,$t,cn)=>{for(;;){if(Le&&++ze%100==0&&!Le())return K.INSTANCE;const _n=T.Fu.findNextBracketInRange(fe,It,Ot,$t,cn);if(!_n)break;const vn=Ot.substring(_n.startColumn-1,_n.endColumn-1).toLowerCase();if(B.isOpen(vn)?Te++:B.isClose(vn)&&Te--,0===Te)return _n;$t=_n.endColumn-1}return null},_t=this.textModel.getLineCount();for(let It=re.lineNumber;It<=_t;It++){const Ot=this.textModel.tokenization.getLineTokens(It),$t=Ot.getCount(),cn=this.textModel.getLineContent(It);let _n=0,vn=0,Cn=0;It===re.lineNumber&&(_n=Ot.findTokenIndexAtOffset(re.column-1),vn=re.column-1,Cn=re.column-1);let Gn=!0;for(;_n<$t;_n++){const Yn=Ot.getLanguageId(_n)===Pe&&!(0,m.Yo)(Ot.getStandardTokenType(_n));if(Yn)Gn||(vn=Ot.getStartOffset(_n)),Cn=Ot.getEndOffset(_n);else if(Gn&&vn!==Cn){const Xn=Xe(It,cn,vn,Cn);if(Xn)return Xn}Gn=Yn}if(Gn&&vn!==Cn){const Yn=Xe(It,cn,vn,Cn);if(Yn)return Yn}}return null}findPrevBracket(B){var re;const Le=this.textModel.validatePosition(B);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(re=this.bracketPairsTree.value)||void 0===re?void 0:re.object.getFirstBracketBefore(Le))||null;let Pe=null,fe=null,Te=null;for(let ze=Le.lineNumber;ze>=1;ze--){const Xe=this.textModel.tokenization.getLineTokens(ze),_t=Xe.getCount(),It=this.textModel.getLineContent(ze);let Ot=_t-1,$t=It.length,cn=It.length;if(ze===Le.lineNumber){Ot=Xe.findTokenIndexAtOffset(Le.column-1),$t=Le.column-1,cn=Le.column-1;const vn=Xe.getLanguageId(Ot);Pe!==vn&&(Pe=vn,fe=this.languageConfigurationService.getLanguageConfiguration(Pe).brackets,Te=this.languageConfigurationService.getLanguageConfiguration(Pe).bracketsNew)}let _n=!0;for(;Ot>=0;Ot--){const vn=Xe.getLanguageId(Ot);if(Pe!==vn){if(fe&&Te&&_n&&$t!==cn){const Gn=T.Fu.findPrevBracketInRange(fe.reversedRegex,ze,It,$t,cn);if(Gn)return this._toFoundBracket(Te,Gn);_n=!1}Pe=vn,fe=this.languageConfigurationService.getLanguageConfiguration(Pe).brackets,Te=this.languageConfigurationService.getLanguageConfiguration(Pe).bracketsNew}const Cn=!!fe&&!(0,m.Yo)(Xe.getStandardTokenType(Ot));if(Cn)_n?$t=Xe.getStartOffset(Ot):($t=Xe.getStartOffset(Ot),cn=Xe.getEndOffset(Ot));else if(Te&&fe&&_n&&$t!==cn){const Gn=T.Fu.findPrevBracketInRange(fe.reversedRegex,ze,It,$t,cn);if(Gn)return this._toFoundBracket(Te,Gn)}_n=Cn}if(Te&&fe&&_n&&$t!==cn){const vn=T.Fu.findPrevBracketInRange(fe.reversedRegex,ze,It,$t,cn);if(vn)return this._toFoundBracket(Te,vn)}}return null}findNextBracket(B){var re;const Le=this.textModel.validatePosition(B);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(re=this.bracketPairsTree.value)||void 0===re?void 0:re.object.getFirstBracketAfter(Le))||null;const Pe=this.textModel.getLineCount();let fe=null,Te=null,ze=null;for(let Xe=Le.lineNumber;Xe<=Pe;Xe++){const _t=this.textModel.tokenization.getLineTokens(Xe),It=_t.getCount(),Ot=this.textModel.getLineContent(Xe);let $t=0,cn=0,_n=0;if(Xe===Le.lineNumber){$t=_t.findTokenIndexAtOffset(Le.column-1),cn=Le.column-1,_n=Le.column-1;const Cn=_t.getLanguageId($t);fe!==Cn&&(fe=Cn,Te=this.languageConfigurationService.getLanguageConfiguration(fe).brackets,ze=this.languageConfigurationService.getLanguageConfiguration(fe).bracketsNew)}let vn=!0;for(;$t<It;$t++){const Cn=_t.getLanguageId($t);if(fe!==Cn){if(ze&&Te&&vn&&cn!==_n){const Yn=T.Fu.findNextBracketInRange(Te.forwardRegex,Xe,Ot,cn,_n);if(Yn)return this._toFoundBracket(ze,Yn);vn=!1}fe=Cn,Te=this.languageConfigurationService.getLanguageConfiguration(fe).brackets,ze=this.languageConfigurationService.getLanguageConfiguration(fe).bracketsNew}const Gn=!!Te&&!(0,m.Yo)(_t.getStandardTokenType($t));if(Gn)vn||(cn=_t.getStartOffset($t)),_n=_t.getEndOffset($t);else if(ze&&Te&&vn&&cn!==_n){const Yn=T.Fu.findNextBracketInRange(Te.forwardRegex,Xe,Ot,cn,_n);if(Yn)return this._toFoundBracket(ze,Yn)}vn=Gn}if(ze&&Te&&vn&&cn!==_n){const Cn=T.Fu.findNextBracketInRange(Te.forwardRegex,Xe,Ot,cn,_n);if(Cn)return this._toFoundBracket(ze,Cn)}}return null}findEnclosingBrackets(B,re){const Le=this.textModel.validatePosition(B);if(this.canBuildAST){const cn=f.Q.fromPositions(Le),_n=this.getBracketPairsInRange(f.Q.fromPositions(Le,Le)).findLast(vn=>void 0!==vn.closingBracketRange&&vn.range.strictContainsRange(cn));return _n?[_n.openingBracketRange,_n.closingBracketRange]:null}const Pe=Q(re),fe=this.textModel.getLineCount(),Te=new Map;let ze=[];const Xe=(cn,_n)=>{if(!Te.has(cn)){const vn=[];for(let Cn=0,Gn=_n?_n.brackets.length:0;Cn<Gn;Cn++)vn[Cn]=0;Te.set(cn,vn)}ze=Te.get(cn)};let _t=0;const It=(cn,_n,vn,Cn,Gn)=>{for(;;){if(Pe&&++_t%100==0&&!Pe())return K.INSTANCE;const Yn=T.Fu.findNextBracketInRange(cn.forwardRegex,_n,vn,Cn,Gn);if(!Yn)break;const Xn=vn.substring(Yn.startColumn-1,Yn.endColumn-1).toLowerCase(),_i=cn.textIsBracket[Xn];if(_i&&(_i.isOpen(Xn)?ze[_i.index]++:_i.isClose(Xn)&&ze[_i.index]--,-1===ze[_i.index]))return this._matchFoundBracket(Yn,_i,!1,Pe);Cn=Yn.endColumn-1}return null};let Ot=null,$t=null;for(let cn=Le.lineNumber;cn<=fe;cn++){const _n=this.textModel.tokenization.getLineTokens(cn),vn=_n.getCount(),Cn=this.textModel.getLineContent(cn);let Gn=0,Yn=0,Xn=0;if(cn===Le.lineNumber){Gn=_n.findTokenIndexAtOffset(Le.column-1),Yn=Le.column-1,Xn=Le.column-1;const Si=_n.getLanguageId(Gn);Ot!==Si&&(Ot=Si,$t=this.languageConfigurationService.getLanguageConfiguration(Ot).brackets,Xe(Ot,$t))}let _i=!0;for(;Gn<vn;Gn++){const Si=_n.getLanguageId(Gn);if(Ot!==Si){if($t&&_i&&Yn!==Xn){const ui=It($t,cn,Cn,Yn,Xn);if(ui)return ie(ui);_i=!1}Ot=Si,$t=this.languageConfigurationService.getLanguageConfiguration(Ot).brackets,Xe(Ot,$t)}const ji=!!$t&&!(0,m.Yo)(_n.getStandardTokenType(Gn));if(ji)_i||(Yn=_n.getStartOffset(Gn)),Xn=_n.getEndOffset(Gn);else if($t&&_i&&Yn!==Xn){const ui=It($t,cn,Cn,Yn,Xn);if(ui)return ie(ui)}_i=ji}if($t&&_i&&Yn!==Xn){const Si=It($t,cn,Cn,Yn,Xn);if(Si)return ie(Si)}}return null}_toFoundBracket(B,re){if(!re)return null;let Le=this.textModel.getValueInRange(re);Le=Le.toLowerCase();const Pe=B.getBracketInfo(Le);return Pe?{range:re,bracketInfo:Pe}:null}}function Q(dn){if(typeof dn>"u")return()=>!0;{const B=Date.now();return()=>Date.now()-B<=dn}}class K{constructor(){this._searchCanceledBrand=void 0}}function ie(dn){return dn instanceof K?null:dn}K.INSTANCE=new K;var ae=t(30976),de=t(48187);class se extends C.jG{constructor(B){super(),this.textModel=B,this.colorProvider=new ge,this.onDidChangeEmitter=new x.vl,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=B.getOptions().bracketPairColorizationOptions,this._register(B.bracketPairs.onDidChange(re=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(B){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(B,re,Le,Pe){return Pe||void 0===re?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(B,!0).map(Te=>({id:`bracket${Te.range.toString()}-${Te.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Te,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:Te.range})).toArray():[]}getAllDecorations(B,re){return void 0===B?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new f.Q(1,1,this.textModel.getLineCount(),1),B,re):[]}}class ge{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(B,re){return B.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(re?B.nestingLevelOfEqualBracketType:B.nestingLevel)}getInlineClassNameOfLevel(B){return"bracket-highlighting-"+B%30}}(0,de.zy)((dn,B)=>{const re=[ae.sN,ae.lQ,ae.ss,ae.l5,ae.sH,ae.zp],Le=new ge;B.addRule(`.monaco-editor .${Le.unexpectedClosingBracketClassName} { color: ${dn.getColor(ae.s7)}; }`);const Pe=re.map(fe=>dn.getColor(fe)).filter(fe=>!!fe).filter(fe=>!fe.isTransparent());for(let fe=0;fe<30;fe++){const Te=Pe[fe%Pe.length];B.addRule(`.monaco-editor .${Le.getInlineClassNameOfLevel(fe)} { color: ${Te}; }`)}});var _e=t(24077),ye=t(39899);class M{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function ce(dn,B,re,Le,Pe){let fe;for(Pe.spacesDiff=0,Pe.looksLikeAlignment=!1,fe=0;fe<B&&fe<Le&&dn.charCodeAt(fe)===re.charCodeAt(fe);fe++);let Te=0,ze=0;for(let $t=fe;$t<B;$t++)32===dn.charCodeAt($t)?Te++:ze++;let Xe=0,_t=0;for(let $t=fe;$t<Le;$t++)32===re.charCodeAt($t)?Xe++:_t++;if(Te>0&&ze>0||Xe>0&&_t>0)return;const It=Math.abs(ze-_t),Ot=Math.abs(Te-Xe);if(0===It)return Pe.spacesDiff=Ot,void(Ot>0&&0<=Xe-1&&Xe-1<dn.length&&Xe<re.length&&32!==re.charCodeAt(Xe)&&32===dn.charCodeAt(Xe-1)&&44===dn.charCodeAt(dn.length-1)&&(Pe.looksLikeAlignment=!0));Ot%It!=0||(Pe.spacesDiff=Ot/It)}function Se(dn,B,re){const Le=Math.min(dn.getLineCount(),1e4);let Pe=0,fe=0,Te="",ze=0;const Xe=[2,4,6,8,3,5,7],It=[0,0,0,0,0,0,0,0,0],Ot=new M;for(let _n=1;_n<=Le;_n++){const vn=dn.getLineLength(_n),Cn=dn.getLineContent(_n),Gn=vn<=65536;let Yn=!1,Xn=0,_i=0,Si=0;for(let ui=0,xi=vn;ui<xi;ui++){const Vn=Gn?Cn.charCodeAt(ui):dn.getLineCharCode(_n,ui);if(9===Vn)Si++;else{if(32!==Vn){Yn=!0,Xn=ui;break}_i++}}if(!Yn||(Si>0?Pe++:_i>1&&fe++,ce(Te,ze,Cn,Xn,Ot),Ot.looksLikeAlignment&&(!re||B!==Ot.spacesDiff)))continue;const ji=Ot.spacesDiff;ji<=8&&It[ji]++,Te=Cn,ze=Xn}let $t=re;Pe!==fe&&($t=Pe<fe);let cn=B;if($t){let _n=$t?0:.1*Le;Xe.forEach(vn=>{const Cn=It[vn];Cn>_n&&(_n=Cn,cn=vn)}),4===cn&&It[4]>0&&It[2]>0&&It[2]>=It[4]/2&&(cn=2)}return{insertSpaces:$t,tabSize:cn}}function Ie(dn){return(1&dn.metadata)>>>0}function ne(dn,B){dn.metadata=254&dn.metadata|B}function ue(dn){return(2&dn.metadata)>>>1==1}function we(dn,B){dn.metadata=253&dn.metadata|(B?1:0)<<1}function Me(dn){return(4&dn.metadata)>>>2==1}function Ve(dn,B){dn.metadata=251&dn.metadata|(B?1:0)<<2}function $e(dn){return(64&dn.metadata)>>>6==1}function it(dn,B){dn.metadata=191&dn.metadata|(B?1:0)<<6}function me(dn,B){dn.metadata=231&dn.metadata|B<<3}function Ee(dn,B){dn.metadata=223&dn.metadata|(B?1:0)<<5}class be{constructor(B,re,Le){this.metadata=0,this.parent=this,this.left=this,this.right=this,ne(this,1),this.start=re,this.end=Le,this.delta=0,this.maxEnd=Le,this.id=B,this.ownerId=0,this.options=null,Ve(this,!1),it(this,!1),me(this,1),Ee(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=re,this.cachedAbsoluteEnd=Le,this.range=null,we(this,!1)}reset(B,re,Le,Pe){this.start=re,this.end=Le,this.maxEnd=Le,this.cachedVersionId=B,this.cachedAbsoluteStart=re,this.cachedAbsoluteEnd=Le,this.range=Pe}setOptions(B){this.options=B;const re=this.options.className;Ve(this,"squiggly-error"===re||"squiggly-warning"===re||"squiggly-info"===re),it(this,null!==this.options.glyphMarginClassName),me(this,this.options.stickiness),Ee(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(B,re,Le){this.cachedVersionId!==Le&&(this.range=null),this.cachedVersionId=Le,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=re}detach(){this.parent=null,this.left=null,this.right=null}}const Ce=new be(null,0,0);Ce.parent=Ce,Ce.left=Ce,Ce.right=Ce,ne(Ce,0);class Ne{constructor(){this.root=Ce,this.requestNormalizeDelta=!1}intervalSearch(B,re,Le,Pe,fe,Te){return this.root===Ce?[]:function ot(dn,B,re,Le,Pe,fe,Te){let ze=dn.root,Xe=0,_t=0,It=0,Ot=0;const $t=[];let cn=0;for(;ze!==Ce;)if(ue(ze))we(ze.left,!1),we(ze.right,!1),ze===ze.parent.right&&(Xe-=ze.parent.delta),ze=ze.parent;else{if(!ue(ze.left)){if(_t=Xe+ze.maxEnd,_t<B){we(ze,!0);continue}if(ze.left!==Ce){ze=ze.left;continue}}if(It=Xe+ze.start,It>re)we(ze,!0);else{if(Ot=Xe+ze.end,Ot>=B){ze.setCachedOffsets(It,Ot,fe);let _n=!0;Le&&ze.ownerId&&ze.ownerId!==Le&&(_n=!1),Pe&&Me(ze)&&(_n=!1),Te&&!$e(ze)&&(_n=!1),_n&&($t[cn++]=ze)}we(ze,!0),ze.right===Ce||ue(ze.right)||(Xe+=ze.delta,ze=ze.right)}}return we(dn.root,!1),$t}(this,B,re,Le,Pe,fe,Te)}search(B,re,Le,Pe){return this.root===Ce?[]:function Je(dn,B,re,Le,Pe){let fe=dn.root,Te=0,ze=0,Xe=0;const _t=[];let It=0;for(;fe!==Ce;){if(ue(fe)){we(fe.left,!1),we(fe.right,!1),fe===fe.parent.right&&(Te-=fe.parent.delta),fe=fe.parent;continue}if(fe.left!==Ce&&!ue(fe.left)){fe=fe.left;continue}ze=Te+fe.start,Xe=Te+fe.end,fe.setCachedOffsets(ze,Xe,Le);let Ot=!0;B&&fe.ownerId&&fe.ownerId!==B&&(Ot=!1),re&&Me(fe)&&(Ot=!1),Pe&&!$e(fe)&&(Ot=!1),Ot&&(_t[It++]=fe),we(fe,!0),fe.right===Ce||ue(fe.right)||(Te+=fe.delta,fe=fe.right)}return we(dn.root,!1),_t}(this,B,re,Le,Pe)}collectNodesFromOwner(B){return function on(dn,B){let re=dn.root;const Le=[];let Pe=0;for(;re!==Ce;)ue(re)?(we(re.left,!1),we(re.right,!1),re=re.parent):re.left===Ce||ue(re.left)?(re.ownerId===B&&(Le[Pe++]=re),we(re,!0),re.right===Ce||ue(re.right)||(re=re.right)):re=re.left;return we(dn.root,!1),Le}(this,B)}collectNodesPostOrder(){return function ht(dn){let B=dn.root;const re=[];let Le=0;for(;B!==Ce;)ue(B)?(we(B.left,!1),we(B.right,!1),B=B.parent):B.left===Ce||ue(B.left)?B.right===Ce||ue(B.right)?(re[Le++]=B,we(B,!0)):B=B.right:B=B.left;return we(dn.root,!1),re}(this)}insert(B){De(this,B),this._normalizeDeltaIfNecessary()}delete(B){mt(this,B),this._normalizeDeltaIfNecessary()}resolveNode(B,re){const Le=B;let Pe=0;for(;B!==this.root;)B===B.parent.right&&(Pe+=B.parent.delta),B=B.parent;Le.setCachedOffsets(Le.start+Pe,Le.end+Pe,re)}acceptReplace(B,re,Le,Pe){const fe=function vt(dn,B,re){let Le=dn.root,Pe=0,fe=0,Te=0,ze=0;const Xe=[];let _t=0;for(;Le!==Ce;)if(ue(Le))we(Le.left,!1),we(Le.right,!1),Le===Le.parent.right&&(Pe-=Le.parent.delta),Le=Le.parent;else{if(!ue(Le.left)){if(fe=Pe+Le.maxEnd,fe<B){we(Le,!0);continue}if(Le.left!==Ce){Le=Le.left;continue}}Te=Pe+Le.start,Te>re?we(Le,!0):(ze=Pe+Le.end,ze>=B&&(Le.setCachedOffsets(Te,ze,0),Xe[_t++]=Le),we(Le,!0),Le.right===Ce||ue(Le.right)||(Pe+=Le.delta,Le=Le.right))}return we(dn.root,!1),Xe}(this,B,B+re);for(let Te=0,ze=fe.length;Te<ze;Te++)mt(this,fe[Te]);this._normalizeDeltaIfNecessary(),function fn(dn,B,re,Le){let Pe=dn.root,fe=0,Te=0,ze=0;const Xe=Le-(re-B);for(;Pe!==Ce;)if(ue(Pe))we(Pe.left,!1),we(Pe.right,!1),Pe===Pe.parent.right&&(fe-=Pe.parent.delta),Ut(Pe),Pe=Pe.parent;else{if(!ue(Pe.left)){if(Te=fe+Pe.maxEnd,Te<B){we(Pe,!0);continue}if(Pe.left!==Ce){Pe=Pe.left;continue}}ze=fe+Pe.start,ze>re?(Pe.start+=Xe,Pe.end+=Xe,Pe.delta+=Xe,(Pe.delta<-1073741824||Pe.delta>1073741824)&&(dn.requestNormalizeDelta=!0),we(Pe,!0)):(we(Pe,!0),Pe.right===Ce||ue(Pe.right)||(fe+=Pe.delta,Pe=Pe.right))}we(dn.root,!1)}(this,B,B+re,Le),this._normalizeDeltaIfNecessary();for(let Te=0,ze=fe.length;Te<ze;Te++){const Xe=fe[Te];Xe.start=Xe.cachedAbsoluteStart,Xe.end=Xe.cachedAbsoluteEnd,dt(Xe,B,B+re,Le,Pe),Xe.maxEnd=Xe.end,De(this,Xe)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function Fe(dn){let B=dn.root,re=0;for(;B!==Ce;)B.left===Ce||ue(B.left)?B.right===Ce||ue(B.right)?(B.start=re+B.start,B.end=re+B.end,B.delta=0,Ut(B),we(B,!0),we(B.left,!1),we(B.right,!1),B===B.parent.right&&(re-=B.parent.delta),B=B.parent):(re+=B.delta,B=B.right):B=B.left;we(dn.root,!1)}(this))}}function qe(dn,B,re,Le){return dn<re||!(dn>re||1===Le)&&(2===Le||B)}function dt(dn,B,re,Le,Pe){const fe=function He(dn){return(24&dn.metadata)>>>3}(dn),Te=0===fe||2===fe,ze=1===fe||2===fe,Xe=re-B,_t=Le,It=Math.min(Xe,_t),Ot=dn.start;let $t=!1;const cn=dn.end;let _n=!1;B<=Ot&&cn<=re&&function le(dn){return(32&dn.metadata)>>>5==1}(dn)&&(dn.start=B,$t=!0,dn.end=B,_n=!0);{const Cn=Pe?1:Xe>0?2:0;!$t&&qe(Ot,Te,B,Cn)&&($t=!0),!_n&&qe(cn,ze,B,Cn)&&(_n=!0)}if(It>0&&!Pe){const Cn=Xe>_t?2:0;!$t&&qe(Ot,Te,B+It,Cn)&&($t=!0),!_n&&qe(cn,ze,B+It,Cn)&&(_n=!0)}{const Cn=Pe?1:0;!$t&&qe(Ot,Te,re,Cn)&&(dn.start=B+_t,$t=!0),!_n&&qe(cn,ze,re,Cn)&&(dn.end=B+_t,_n=!0)}const vn=_t-Xe;$t||(dn.start=Math.max(0,Ot+vn)),_n||(dn.end=Math.max(0,cn+vn)),dn.start>dn.end&&(dn.end=dn.start)}function De(dn,B){if(dn.root===Ce)return B.parent=Ce,B.left=Ce,B.right=Ce,ne(B,0),dn.root=B,dn.root;(function Qe(dn,B){let re=0,Le=dn.root;const Pe=B.start,fe=B.end;for(;;)if(ke(Pe,fe,Le.start+re,Le.end+re)<0){if(Le.left===Ce){B.start-=re,B.end-=re,B.maxEnd-=re,Le.left=B;break}Le=Le.left}else{if(Le.right===Ce){B.start-=re+Le.delta,B.end-=re+Le.delta,B.maxEnd-=re+Le.delta,Le.right=B;break}re+=Le.delta,Le=Le.right}B.parent=Le,B.left=Ce,B.right=Ce,ne(B,1)})(dn,B),St(B.parent);let re=B;for(;re!==dn.root&&1===Ie(re.parent);)if(re.parent===re.parent.parent.left){const Le=re.parent.parent.right;1===Ie(Le)?(ne(re.parent,0),ne(Le,0),ne(re.parent.parent,1),re=re.parent.parent):(re===re.parent.right&&(re=re.parent,Ft(dn,re)),ne(re.parent,0),ne(re.parent.parent,1),Bt(dn,re.parent.parent))}else{const Le=re.parent.parent.left;1===Ie(Le)?(ne(re.parent,0),ne(Le,0),ne(re.parent.parent,1),re=re.parent.parent):(re===re.parent.left&&(re=re.parent,Bt(dn,re)),ne(re.parent,0),ne(re.parent.parent,1),Ft(dn,re.parent.parent))}return ne(dn.root,0),B}function mt(dn,B){let re,Le;if(B.left===Ce?(re=B.right,Le=B,re.delta+=B.delta,(re.delta<-1073741824||re.delta>1073741824)&&(dn.requestNormalizeDelta=!0),re.start+=B.delta,re.end+=B.delta):B.right===Ce?(re=B.left,Le=B):(Le=function kt(dn){for(;dn.left!==Ce;)dn=dn.left;return dn}(B.right),re=Le.right,re.start+=Le.delta,re.end+=Le.delta,re.delta+=Le.delta,(re.delta<-1073741824||re.delta>1073741824)&&(dn.requestNormalizeDelta=!0),Le.start+=B.delta,Le.end+=B.delta,Le.delta=B.delta,(Le.delta<-1073741824||Le.delta>1073741824)&&(dn.requestNormalizeDelta=!0)),Le===dn.root)return dn.root=re,ne(re,0),B.detach(),Ht(),Ut(re),void(dn.root.parent=Ce);const Pe=1===Ie(Le);if(Le===Le.parent.left?Le.parent.left=re:Le.parent.right=re,Le===B?re.parent=Le.parent:(re.parent=Le.parent===B?Le:Le.parent,Le.left=B.left,Le.right=B.right,Le.parent=B.parent,ne(Le,Ie(B)),B===dn.root?dn.root=Le:B===B.parent.left?B.parent.left=Le:B.parent.right=Le,Le.left!==Ce&&(Le.left.parent=Le),Le.right!==Ce&&(Le.right.parent=Le)),B.detach(),Pe)return St(re.parent),Le!==B&&(St(Le),St(Le.parent)),void Ht();let fe;for(St(re),St(re.parent),Le!==B&&(St(Le),St(Le.parent));re!==dn.root&&0===Ie(re);)re===re.parent.left?(fe=re.parent.right,1===Ie(fe)&&(ne(fe,0),ne(re.parent,1),Ft(dn,re.parent),fe=re.parent.right),0===Ie(fe.left)&&0===Ie(fe.right)?(ne(fe,1),re=re.parent):(0===Ie(fe.right)&&(ne(fe.left,0),ne(fe,1),Bt(dn,fe),fe=re.parent.right),ne(fe,Ie(re.parent)),ne(re.parent,0),ne(fe.right,0),Ft(dn,re.parent),re=dn.root)):(fe=re.parent.left,1===Ie(fe)&&(ne(fe,0),ne(re.parent,1),Bt(dn,re.parent),fe=re.parent.left),0===Ie(fe.left)&&0===Ie(fe.right)?(ne(fe,1),re=re.parent):(0===Ie(fe.left)&&(ne(fe.right,0),ne(fe,1),Ft(dn,fe),fe=re.parent.left),ne(fe,Ie(re.parent)),ne(re.parent,0),ne(fe.left,0),Bt(dn,re.parent),re=dn.root));ne(re,0),Ht()}function Ht(){Ce.parent=Ce,Ce.delta=0,Ce.start=0,Ce.end=0}function Ft(dn,B){const re=B.right;re.delta+=B.delta,(re.delta<-1073741824||re.delta>1073741824)&&(dn.requestNormalizeDelta=!0),re.start+=B.delta,re.end+=B.delta,B.right=re.left,re.left!==Ce&&(re.left.parent=B),re.parent=B.parent,B.parent===Ce?dn.root=re:B===B.parent.left?B.parent.left=re:B.parent.right=re,re.left=B,B.parent=re,Ut(B),Ut(re)}function Bt(dn,B){const re=B.left;B.delta-=re.delta,(B.delta<-1073741824||B.delta>1073741824)&&(dn.requestNormalizeDelta=!0),B.start-=re.delta,B.end-=re.delta,B.left=re.right,re.right!==Ce&&(re.right.parent=B),re.parent=B.parent,B.parent===Ce?dn.root=re:B===B.parent.right?B.parent.right=re:B.parent.left=re,re.right=B,B.parent=re,Ut(B),Ut(re)}function rt(dn){let B=dn.end;if(dn.left!==Ce){const re=dn.left.maxEnd;re>B&&(B=re)}if(dn.right!==Ce){const re=dn.right.maxEnd+dn.delta;re>B&&(B=re)}return B}function Ut(dn){dn.maxEnd=rt(dn)}function St(dn){for(;dn!==Ce;){const B=rt(dn);if(dn.maxEnd===B)return;dn.maxEnd=B,dn=dn.parent}}function ke(dn,B,re,Le){return dn===re?B-Le:dn-re}class Ze{constructor(B,re){this.piece=B,this.color=re,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Ye)return st(this.right);let B=this;for(;B.parent!==Ye&&B.parent.left!==B;)B=B.parent;return B.parent===Ye?Ye:B.parent}prev(){if(this.left!==Ye)return Ke(this.left);let B=this;for(;B.parent!==Ye&&B.parent.right!==B;)B=B.parent;return B.parent===Ye?Ye:B.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Ye=new Ze(null,0);function st(dn){for(;dn.left!==Ye;)dn=dn.left;return dn}function Ke(dn){for(;dn.right!==Ye;)dn=dn.right;return dn}function ft(dn){return dn===Ye?0:dn.size_left+dn.piece.length+ft(dn.right)}function wt(dn){return dn===Ye?0:dn.lf_left+dn.piece.lineFeedCnt+wt(dn.right)}function qt(){Ye.parent=Ye}function Yt(dn,B){const re=B.right;re.size_left+=B.size_left+(B.piece?B.piece.length:0),re.lf_left+=B.lf_left+(B.piece?B.piece.lineFeedCnt:0),B.right=re.left,re.left!==Ye&&(re.left.parent=B),re.parent=B.parent,B.parent===Ye?dn.root=re:B.parent.left===B?B.parent.left=re:B.parent.right=re,re.left=B,B.parent=re}function en(dn,B){const re=B.left;B.left=re.right,re.right!==Ye&&(re.right.parent=B),re.parent=B.parent,B.size_left-=re.size_left+(re.piece?re.piece.length:0),B.lf_left-=re.lf_left+(re.piece?re.piece.lineFeedCnt:0),B.parent===Ye?dn.root=re:B===B.parent.right?B.parent.right=re:B.parent.left=re,re.right=B,B.parent=re}function an(dn,B){let re,Le;if(B.left===Ye?(Le=B,re=Le.right):B.right===Ye?(Le=B,re=Le.left):(Le=st(B.right),re=Le.right),Le===dn.root)return dn.root=re,re.color=0,B.detach(),qt(),void(dn.root.parent=Ye);const Pe=1===Le.color;if(Le===Le.parent.left?Le.parent.left=re:Le.parent.right=re,Le===B?(re.parent=Le.parent,tn(dn,re)):(re.parent=Le.parent===B?Le:Le.parent,tn(dn,re),Le.left=B.left,Le.right=B.right,Le.parent=B.parent,Le.color=B.color,B===dn.root?dn.root=Le:B===B.parent.left?B.parent.left=Le:B.parent.right=Le,Le.left!==Ye&&(Le.left.parent=Le),Le.right!==Ye&&(Le.right.parent=Le),Le.size_left=B.size_left,Le.lf_left=B.lf_left,tn(dn,Le)),B.detach(),re.parent.left===re){const Te=ft(re),ze=wt(re);if(Te!==re.parent.size_left||ze!==re.parent.lf_left){const Xe=Te-re.parent.size_left,_t=ze-re.parent.lf_left;re.parent.size_left=Te,re.parent.lf_left=ze,Nt(dn,re.parent,Xe,_t)}}if(tn(dn,re.parent),Pe)return void qt();let fe;for(;re!==dn.root&&0===re.color;)re===re.parent.left?(fe=re.parent.right,1===fe.color&&(fe.color=0,re.parent.color=1,Yt(dn,re.parent),fe=re.parent.right),0===fe.left.color&&0===fe.right.color?(fe.color=1,re=re.parent):(0===fe.right.color&&(fe.left.color=0,fe.color=1,en(dn,fe),fe=re.parent.right),fe.color=re.parent.color,re.parent.color=0,fe.right.color=0,Yt(dn,re.parent),re=dn.root)):(fe=re.parent.left,1===fe.color&&(fe.color=0,re.parent.color=1,en(dn,re.parent),fe=re.parent.left),0===fe.left.color&&0===fe.right.color?(fe.color=1,re=re.parent):(0===fe.left.color&&(fe.right.color=0,fe.color=1,Yt(dn,fe),fe=re.parent.left),fe.color=re.parent.color,re.parent.color=0,fe.left.color=0,en(dn,re.parent),re=dn.root));re.color=0,qt()}function lt(dn,B){for(tn(dn,B);B!==dn.root&&1===B.parent.color;)if(B.parent===B.parent.parent.left){const re=B.parent.parent.right;1===re.color?(B.parent.color=0,re.color=0,B.parent.parent.color=1,B=B.parent.parent):(B===B.parent.right&&Yt(dn,B=B.parent),B.parent.color=0,B.parent.parent.color=1,en(dn,B.parent.parent))}else{const re=B.parent.parent.left;1===re.color?(B.parent.color=0,re.color=0,B.parent.parent.color=1,B=B.parent.parent):(B===B.parent.left&&en(dn,B=B.parent),B.parent.color=0,B.parent.parent.color=1,Yt(dn,B.parent.parent))}dn.root.color=0}function Nt(dn,B,re,Le){for(;B!==dn.root&&B!==Ye;)B.parent.left===B&&(B.parent.size_left+=re,B.parent.lf_left+=Le),B=B.parent}function tn(dn,B){let re=0,Le=0;if(B!==dn.root){for(;B!==dn.root&&B===B.parent.right;)B=B.parent;if(B!==dn.root)for(re=ft((B=B.parent).left)-B.size_left,Le=wt(B.left)-B.lf_left,B.size_left+=re,B.lf_left+=Le;B!==dn.root&&(0!==re||0!==Le);)B.parent.left===B&&(B.parent.size_left+=re,B.parent.lf_left+=Le),B=B.parent}}Ye.parent=Ye,Ye.left=Ye,Ye.right=Ye,Ye.color=0;var bn=t(73741);const Bn=65535;function zn(dn){let B;return B=dn[dn.length-1]<65536?new Uint16Array(dn.length):new Uint32Array(dn.length),B.set(dn,0),B}class Zn{constructor(B,re,Le,Pe,fe){this.lineStarts=B,this.cr=re,this.lf=Le,this.crlf=Pe,this.isBasicASCII=fe}}function ei(dn,B=!0){const re=[0];let Le=1;for(let Pe=0,fe=dn.length;Pe<fe;Pe++){const Te=dn.charCodeAt(Pe);13===Te?Pe+1<fe&&10===dn.charCodeAt(Pe+1)?(re[Le++]=Pe+2,Pe++):re[Le++]=Pe+1:10===Te&&(re[Le++]=Pe+1)}return B?zn(re):re}class hi{constructor(B,re,Le,Pe,fe){this.bufferIndex=B,this.start=re,this.end=Le,this.lineFeedCnt=Pe,this.length=fe}}class yi{constructor(B,re){this.buffer=B,this.lineStarts=re}}class Vi{constructor(B,re){this._pieces=[],this._tree=B,this._BOM=re,this._index=0,B.root!==Ye&&B.iterate(B.root,Le=>(Le!==Ye&&this._pieces.push(Le.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Wi{constructor(B){this._limit=B,this._cache=[]}get(B){for(let re=this._cache.length-1;re>=0;re--){const Le=this._cache[re];if(Le.nodeStartOffset<=B&&Le.nodeStartOffset+Le.node.piece.length>=B)return Le}return null}get2(B){for(let re=this._cache.length-1;re>=0;re--){const Le=this._cache[re];if(Le.nodeStartLineNumber&&Le.nodeStartLineNumber<B&&Le.nodeStartLineNumber+Le.node.piece.lineFeedCnt>=B)return Le}return null}set(B){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(B)}validate(B){let re=!1;const Le=this._cache;for(let Pe=0;Pe<Le.length;Pe++){const fe=Le[Pe];(null===fe.node.parent||fe.nodeStartOffset>=B)&&(Le[Pe]=null,re=!0)}if(re){const Pe=[];for(const fe of Le)null!==fe&&Pe.push(fe);this._cache=Pe}}}class Pn{constructor(B,re,Le){this.create(B,re,Le)}create(B,re,Le){this._buffers=[new yi("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Ye,this._lineCnt=1,this._length=0,this._EOL=re,this._EOLLength=re.length,this._EOLNormalized=Le;let Pe=null;for(let fe=0,Te=B.length;fe<Te;fe++)if(B[fe].buffer.length>0){B[fe].lineStarts||(B[fe].lineStarts=ei(B[fe].buffer));const ze=new hi(fe+1,{line:0,column:0},{line:B[fe].lineStarts.length-1,column:B[fe].buffer.length-B[fe].lineStarts[B[fe].lineStarts.length-1]},B[fe].lineStarts.length-1,B[fe].buffer.length);this._buffers.push(B[fe]),Pe=this.rbInsertRight(Pe,ze)}this._searchCache=new Wi(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(B){const Le=65535-Math.floor(21845),Pe=2*Le;let fe="",Te=0;const ze=[];if(this.iterate(this.root,Xe=>{const _t=this.getNodeContent(Xe),It=_t.length;if(Te<=Le||Te+It<Pe)return fe+=_t,Te+=It,!0;const Ot=fe.replace(/\r\n|\r|\n/g,B);return ze.push(new yi(Ot,ei(Ot))),fe=_t,Te=It,!0}),Te>0){const Xe=fe.replace(/\r\n|\r|\n/g,B);ze.push(new yi(Xe,ei(Xe)))}this.create(ze,B,!0)}getEOL(){return this._EOL}setEOL(B){this._EOL=B,this._EOLLength=this._EOL.length,this.normalizeEOL(B)}createSnapshot(B){return new Vi(this,B)}getOffsetAt(B,re){let Le=0,Pe=this.root;for(;Pe!==Ye;)if(Pe.left!==Ye&&Pe.lf_left+1>=B)Pe=Pe.left;else{if(Pe.lf_left+Pe.piece.lineFeedCnt+1>=B)return Le+=Pe.size_left,Le+(this.getAccumulatedValue(Pe,B-Pe.lf_left-2)+re-1);B-=Pe.lf_left+Pe.piece.lineFeedCnt,Le+=Pe.size_left+Pe.piece.length,Pe=Pe.right}return Le}getPositionAt(B){B=Math.floor(B),B=Math.max(0,B);let re=this.root,Le=0;const Pe=B;for(;re!==Ye;)if(0!==re.size_left&&re.size_left>=B)re=re.left;else{if(re.size_left+re.piece.length>=B){const fe=this.getIndexOf(re,B-re.size_left);if(Le+=re.lf_left+fe.index,0===fe.index){const Te=this.getOffsetAt(Le+1,1);return new _.y(Le+1,Pe-Te+1)}return new _.y(Le+1,fe.remainder+1)}if(B-=re.size_left+re.piece.length,Le+=re.lf_left+re.piece.lineFeedCnt,re.right===Ye){const fe=this.getOffsetAt(Le+1,1);return new _.y(Le+1,Pe-B-fe+1)}re=re.right}return new _.y(1,1)}getValueInRange(B,re){if(B.startLineNumber===B.endLineNumber&&B.startColumn===B.endColumn)return"";const Le=this.nodeAt2(B.startLineNumber,B.startColumn),Pe=this.nodeAt2(B.endLineNumber,B.endColumn),fe=this.getValueInRange2(Le,Pe);return re?re===this._EOL&&this._EOLNormalized&&re===this.getEOL()&&this._EOLNormalized?fe:fe.replace(/\r\n|\r|\n/g,re):fe}getValueInRange2(B,re){if(B.node===re.node){const ze=B.node,Xe=this._buffers[ze.piece.bufferIndex].buffer,_t=this.offsetInBuffer(ze.piece.bufferIndex,ze.piece.start);return Xe.substring(_t+B.remainder,_t+re.remainder)}let Le=B.node;const Pe=this._buffers[Le.piece.bufferIndex].buffer,fe=this.offsetInBuffer(Le.piece.bufferIndex,Le.piece.start);let Te=Pe.substring(fe+B.remainder,fe+Le.piece.length);for(Le=Le.next();Le!==Ye;){const ze=this._buffers[Le.piece.bufferIndex].buffer,Xe=this.offsetInBuffer(Le.piece.bufferIndex,Le.piece.start);if(Le===re.node){Te+=ze.substring(Xe,Xe+re.remainder);break}Te+=ze.substr(Xe,Le.piece.length),Le=Le.next()}return Te}getLinesContent(){const B=[];let re=0,Le="",Pe=!1;return this.iterate(this.root,fe=>{if(fe===Ye)return!0;const Te=fe.piece;let ze=Te.length;if(0===ze)return!0;const Xe=this._buffers[Te.bufferIndex].buffer,_t=this._buffers[Te.bufferIndex].lineStarts,It=Te.start.line,Ot=Te.end.line;let $t=_t[It]+Te.start.column;if(Pe&&(10===Xe.charCodeAt($t)&&($t++,ze--),B[re++]=Le,Le="",Pe=!1,0===ze))return!0;if(It===Ot)return this._EOLNormalized||13!==Xe.charCodeAt($t+ze-1)?Le+=Xe.substr($t,ze):(Pe=!0,Le+=Xe.substr($t,ze-1)),!0;Le+=this._EOLNormalized?Xe.substring($t,Math.max($t,_t[It+1]-this._EOLLength)):Xe.substring($t,_t[It+1]).replace(/(\r\n|\r|\n)$/,""),B[re++]=Le;for(let cn=It+1;cn<Ot;cn++)Le=this._EOLNormalized?Xe.substring(_t[cn],_t[cn+1]-this._EOLLength):Xe.substring(_t[cn],_t[cn+1]).replace(/(\r\n|\r|\n)$/,""),B[re++]=Le;return this._EOLNormalized||13!==Xe.charCodeAt(_t[Ot]+Te.end.column-1)?Le=Xe.substr(_t[Ot],Te.end.column):(Pe=!0,0===Te.end.column?re--:Le=Xe.substr(_t[Ot],Te.end.column-1)),!0}),Pe&&(B[re++]=Le,Le=""),B[re++]=Le,B}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(B){return this._lastVisitedLine.lineNumber===B||(this._lastVisitedLine.lineNumber=B,this._lastVisitedLine.value=B===this._lineCnt?this.getLineRawContent(B):this._EOLNormalized?this.getLineRawContent(B,this._EOLLength):this.getLineRawContent(B).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(B){if(B.remainder===B.node.piece.length){const re=B.node.next();if(!re)return 0;const Le=this._buffers[re.piece.bufferIndex],Pe=this.offsetInBuffer(re.piece.bufferIndex,re.piece.start);return Le.buffer.charCodeAt(Pe)}{const re=this._buffers[B.node.piece.bufferIndex],Pe=this.offsetInBuffer(B.node.piece.bufferIndex,B.node.piece.start)+B.remainder;return re.buffer.charCodeAt(Pe)}}getLineCharCode(B,re){const Le=this.nodeAt2(B,re+1);return this._getCharCode(Le)}getLineLength(B){if(B===this.getLineCount()){const re=this.getOffsetAt(B,1);return this.getLength()-re}return this.getOffsetAt(B+1,1)-this.getOffsetAt(B,1)-this._EOLLength}findMatchesInNode(B,re,Le,Pe,fe,Te,ze,Xe,_t,It,Ot){const $t=this._buffers[B.piece.bufferIndex],cn=this.offsetInBuffer(B.piece.bufferIndex,B.piece.start),_n=this.offsetInBuffer(B.piece.bufferIndex,fe),vn=this.offsetInBuffer(B.piece.bufferIndex,Te);let Cn;const Gn={line:0,column:0};let Yn,Xn;re._wordSeparators?(Yn=$t.buffer.substring(_n,vn),Xn=_i=>_i+_n,re.reset(0)):(Yn=$t.buffer,Xn=_i=>_i,re.reset(_n));do{if(Cn=re.next(Yn),Cn){if(Xn(Cn.index)>=vn)return It;this.positionInBuffer(B,Xn(Cn.index)-cn,Gn);const _i=this.getLineFeedCnt(B.piece.bufferIndex,fe,Gn),Si=Gn.line===fe.line?Gn.column-fe.column+Pe:Gn.column+1;if(Ot[It++]=(0,bn.dr)(new f.Q(Le+_i,Si,Le+_i,Si+Cn[0].length),Cn,Xe),Xn(Cn.index)+Cn[0].length>=vn||It>=_t)return It}}while(Cn);return It}findMatchesLineByLine(B,re,Le,Pe){const fe=[];let Te=0;const ze=new bn.W5(re.wordSeparators,re.regex);let Xe=this.nodeAt2(B.startLineNumber,B.startColumn);if(null===Xe)return[];const _t=this.nodeAt2(B.endLineNumber,B.endColumn);if(null===_t)return[];let It=this.positionInBuffer(Xe.node,Xe.remainder);const Ot=this.positionInBuffer(_t.node,_t.remainder);if(Xe.node===_t.node)return this.findMatchesInNode(Xe.node,ze,B.startLineNumber,B.startColumn,It,Ot,re,Le,Pe,Te,fe),fe;let $t=B.startLineNumber,cn=Xe.node;for(;cn!==_t.node;){const vn=this.getLineFeedCnt(cn.piece.bufferIndex,It,cn.piece.end);if(vn>=1){const Gn=this._buffers[cn.piece.bufferIndex].lineStarts,Yn=this.offsetInBuffer(cn.piece.bufferIndex,cn.piece.start);if(Te=this.findMatchesInNode(cn,ze,$t,$t===B.startLineNumber?B.startColumn:1,It,this.positionInBuffer(cn,Gn[It.line+vn]-Yn),re,Le,Pe,Te,fe),Te>=Pe)return fe;$t+=vn}const Cn=$t===B.startLineNumber?B.startColumn-1:0;if($t===B.endLineNumber){const Gn=this.getLineContent($t).substring(Cn,B.endColumn-1);return Te=this._findMatchesInLine(re,ze,Gn,B.endLineNumber,Cn,Te,fe,Le,Pe),fe}if(Te=this._findMatchesInLine(re,ze,this.getLineContent($t).substr(Cn),$t,Cn,Te,fe,Le,Pe),Te>=Pe)return fe;$t++,Xe=this.nodeAt2($t,1),cn=Xe.node,It=this.positionInBuffer(Xe.node,Xe.remainder)}if($t===B.endLineNumber){const vn=$t===B.startLineNumber?B.startColumn-1:0,Cn=this.getLineContent($t).substring(vn,B.endColumn-1);return Te=this._findMatchesInLine(re,ze,Cn,B.endLineNumber,vn,Te,fe,Le,Pe),fe}return Te=this.findMatchesInNode(_t.node,ze,$t,$t===B.startLineNumber?B.startColumn:1,It,Ot,re,Le,Pe,Te,fe),fe}_findMatchesInLine(B,re,Le,Pe,fe,Te,ze,Xe,_t){const It=B.wordSeparators;if(!Xe&&B.simpleSearch){const $t=B.simpleSearch,cn=$t.length,_n=Le.length;let vn=-cn;for(;-1!==(vn=Le.indexOf($t,vn+cn));)if((!It||(0,bn.wC)(It,Le,_n,vn,cn))&&(ze[Te++]=new p.Dg(new f.Q(Pe,vn+1+fe,Pe,vn+1+cn+fe),null),Te>=_t))return Te;return Te}let Ot;re.reset(0);do{if(Ot=re.next(Le),Ot&&(ze[Te++]=(0,bn.dr)(new f.Q(Pe,Ot.index+1+fe,Pe,Ot.index+1+Ot[0].length+fe),Ot,Xe),Te>=_t))return Te}while(Ot);return Te}insert(B,re,Le=!1){if(this._EOLNormalized=this._EOLNormalized&&Le,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Ye){const{node:Pe,remainder:fe,nodeStartOffset:Te}=this.nodeAt(B),ze=Pe.piece,Xe=ze.bufferIndex,_t=this.positionInBuffer(Pe,fe);if(0===Pe.piece.bufferIndex&&ze.end.line===this._lastChangeBufferPos.line&&ze.end.column===this._lastChangeBufferPos.column&&Te+ze.length===B&&re.length<Bn)return this.appendToNode(Pe,re),void this.computeBufferMetadata();if(Te===B)this.insertContentToNodeLeft(re,Pe),this._searchCache.validate(B);else if(Te+Pe.piece.length>B){const It=[];let Ot=new hi(ze.bufferIndex,_t,ze.end,this.getLineFeedCnt(ze.bufferIndex,_t,ze.end),this.offsetInBuffer(Xe,ze.end)-this.offsetInBuffer(Xe,_t));if(this.shouldCheckCRLF()&&this.endWithCR(re)&&10===this.nodeCharCodeAt(Pe,fe)){const vn={line:Ot.start.line+1,column:0};Ot=new hi(Ot.bufferIndex,vn,Ot.end,this.getLineFeedCnt(Ot.bufferIndex,vn,Ot.end),Ot.length-1),re+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(re))if(13===this.nodeCharCodeAt(Pe,fe-1)){const vn=this.positionInBuffer(Pe,fe-1);this.deleteNodeTail(Pe,vn),re="\r"+re,0===Pe.piece.length&&It.push(Pe)}else this.deleteNodeTail(Pe,_t);else this.deleteNodeTail(Pe,_t);const $t=this.createNewPieces(re);Ot.length>0&&this.rbInsertRight(Pe,Ot);let cn=Pe;for(let _n=0;_n<$t.length;_n++)cn=this.rbInsertRight(cn,$t[_n]);this.deleteNodes(It)}else this.insertContentToNodeRight(re,Pe)}else{const Pe=this.createNewPieces(re);let fe=this.rbInsertLeft(null,Pe[0]);for(let Te=1;Te<Pe.length;Te++)fe=this.rbInsertRight(fe,Pe[Te])}this.computeBufferMetadata()}delete(B,re){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",re<=0||this.root===Ye)return;const Le=this.nodeAt(B),Pe=this.nodeAt(B+re),fe=Le.node,Te=Pe.node;if(fe===Te){const $t=this.positionInBuffer(fe,Le.remainder),cn=this.positionInBuffer(fe,Pe.remainder);if(Le.nodeStartOffset===B){if(re===fe.piece.length){const _n=fe.next();return an(this,fe),this.validateCRLFWithPrevNode(_n),void this.computeBufferMetadata()}return this.deleteNodeHead(fe,cn),this._searchCache.validate(B),this.validateCRLFWithPrevNode(fe),void this.computeBufferMetadata()}return Le.nodeStartOffset+fe.piece.length===B+re?(this.deleteNodeTail(fe,$t),this.validateCRLFWithNextNode(fe),void this.computeBufferMetadata()):(this.shrinkNode(fe,$t,cn),void this.computeBufferMetadata())}const ze=[],Xe=this.positionInBuffer(fe,Le.remainder);this.deleteNodeTail(fe,Xe),this._searchCache.validate(B),0===fe.piece.length&&ze.push(fe);const _t=this.positionInBuffer(Te,Pe.remainder);this.deleteNodeHead(Te,_t),0===Te.piece.length&&ze.push(Te);for(let $t=fe.next();$t!==Ye&&$t!==Te;$t=$t.next())ze.push($t);const Ot=0===fe.piece.length?fe.prev():fe;this.deleteNodes(ze),this.validateCRLFWithNextNode(Ot),this.computeBufferMetadata()}insertContentToNodeLeft(B,re){const Le=[];if(this.shouldCheckCRLF()&&this.endWithCR(B)&&this.startWithLF(re)){const Te=re.piece,ze={line:Te.start.line+1,column:0},Xe=new hi(Te.bufferIndex,ze,Te.end,this.getLineFeedCnt(Te.bufferIndex,ze,Te.end),Te.length-1);re.piece=Xe,B+="\n",Nt(this,re,-1,-1),0===re.piece.length&&Le.push(re)}const Pe=this.createNewPieces(B);let fe=this.rbInsertLeft(re,Pe[Pe.length-1]);for(let Te=Pe.length-2;Te>=0;Te--)fe=this.rbInsertLeft(fe,Pe[Te]);this.validateCRLFWithPrevNode(fe),this.deleteNodes(Le)}insertContentToNodeRight(B,re){this.adjustCarriageReturnFromNext(B,re)&&(B+="\n");const Le=this.createNewPieces(B),Pe=this.rbInsertRight(re,Le[0]);let fe=Pe;for(let Te=1;Te<Le.length;Te++)fe=this.rbInsertRight(fe,Le[Te]);this.validateCRLFWithPrevNode(Pe)}positionInBuffer(B,re,Le){const Pe=B.piece,Te=this._buffers[B.piece.bufferIndex].lineStarts,Xe=Te[Pe.start.line]+Pe.start.column+re;let _t=Pe.start.line,It=Pe.end.line,Ot=0,$t=0,cn=0;for(;_t<=It&&(Ot=_t+(It-_t)/2|0,cn=Te[Ot],Ot!==It);)if($t=Te[Ot+1],Xe<cn)It=Ot-1;else{if(!(Xe>=$t))break;_t=Ot+1}return Le?(Le.line=Ot,Le.column=Xe-cn,null):{line:Ot,column:Xe-cn}}getLineFeedCnt(B,re,Le){if(0===Le.column)return Le.line-re.line;const Pe=this._buffers[B].lineStarts;if(Le.line===Pe.length-1)return Le.line-re.line;const Te=Pe[Le.line]+Le.column;return Pe[Le.line+1]>Te+1?Le.line-re.line:13===this._buffers[B].buffer.charCodeAt(Te-1)?Le.line-re.line+1:Le.line-re.line}offsetInBuffer(B,re){return this._buffers[B].lineStarts[re.line]+re.column}deleteNodes(B){for(let re=0;re<B.length;re++)an(this,B[re])}createNewPieces(B){if(B.length>Bn){const It=[];for(;B.length>Bn;){const $t=B.charCodeAt(Bn-1);let cn;13===$t||$t>=55296&&$t<=56319?(cn=B.substring(0,Bn-1),B=B.substring(Bn-1)):(cn=B.substring(0,Bn),B=B.substring(Bn));const _n=ei(cn);It.push(new hi(this._buffers.length,{line:0,column:0},{line:_n.length-1,column:cn.length-_n[_n.length-1]},_n.length-1,cn.length)),this._buffers.push(new yi(cn,_n))}const Ot=ei(B);return It.push(new hi(this._buffers.length,{line:0,column:0},{line:Ot.length-1,column:B.length-Ot[Ot.length-1]},Ot.length-1,B.length)),this._buffers.push(new yi(B,Ot)),It}let re=this._buffers[0].buffer.length;const Le=ei(B,!1);let Pe=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===re&&0!==re&&this.startWithLF(B)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},Pe=this._lastChangeBufferPos;for(let It=0;It<Le.length;It++)Le[It]+=re+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Le.slice(1)),this._buffers[0].buffer+="_"+B,re+=1}else{if(0!==re)for(let It=0;It<Le.length;It++)Le[It]+=re;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Le.slice(1)),this._buffers[0].buffer+=B}const fe=this._buffers[0].buffer.length,Te=this._buffers[0].lineStarts.length-1,Xe={line:Te,column:fe-this._buffers[0].lineStarts[Te]},_t=new hi(0,Pe,Xe,this.getLineFeedCnt(0,Pe,Xe),fe-re);return this._lastChangeBufferPos=Xe,[_t]}getLineRawContent(B,re=0){let Le=this.root,Pe="";const fe=this._searchCache.get2(B);if(fe){Le=fe.node;const Te=this.getAccumulatedValue(Le,B-fe.nodeStartLineNumber-1),ze=this._buffers[Le.piece.bufferIndex].buffer,Xe=this.offsetInBuffer(Le.piece.bufferIndex,Le.piece.start);if(fe.nodeStartLineNumber+Le.piece.lineFeedCnt!==B){const _t=this.getAccumulatedValue(Le,B-fe.nodeStartLineNumber);return ze.substring(Xe+Te,Xe+_t-re)}Pe=ze.substring(Xe+Te,Xe+Le.piece.length)}else{let Te=0;const ze=B;for(;Le!==Ye;)if(Le.left!==Ye&&Le.lf_left>=B-1)Le=Le.left;else{if(Le.lf_left+Le.piece.lineFeedCnt>B-1){const Xe=this.getAccumulatedValue(Le,B-Le.lf_left-2),_t=this.getAccumulatedValue(Le,B-Le.lf_left-1),It=this._buffers[Le.piece.bufferIndex].buffer,Ot=this.offsetInBuffer(Le.piece.bufferIndex,Le.piece.start);return Te+=Le.size_left,this._searchCache.set({node:Le,nodeStartOffset:Te,nodeStartLineNumber:ze-(B-1-Le.lf_left)}),It.substring(Ot+Xe,Ot+_t-re)}if(Le.lf_left+Le.piece.lineFeedCnt===B-1){const Xe=this.getAccumulatedValue(Le,B-Le.lf_left-2),_t=this._buffers[Le.piece.bufferIndex].buffer,It=this.offsetInBuffer(Le.piece.bufferIndex,Le.piece.start);Pe=_t.substring(It+Xe,It+Le.piece.length);break}B-=Le.lf_left+Le.piece.lineFeedCnt,Te+=Le.size_left+Le.piece.length,Le=Le.right}}for(Le=Le.next();Le!==Ye;){const Te=this._buffers[Le.piece.bufferIndex].buffer;if(Le.piece.lineFeedCnt>0){const ze=this.getAccumulatedValue(Le,0),Xe=this.offsetInBuffer(Le.piece.bufferIndex,Le.piece.start);return Pe+=Te.substring(Xe,Xe+ze-re),Pe}{const ze=this.offsetInBuffer(Le.piece.bufferIndex,Le.piece.start);Pe+=Te.substr(ze,Le.piece.length)}Le=Le.next()}return Pe}computeBufferMetadata(){let B=this.root,re=1,Le=0;for(;B!==Ye;)re+=B.lf_left+B.piece.lineFeedCnt,Le+=B.size_left+B.piece.length,B=B.right;this._lineCnt=re,this._length=Le,this._searchCache.validate(this._length)}getIndexOf(B,re){const Le=B.piece,Pe=this.positionInBuffer(B,re),fe=Pe.line-Le.start.line;if(this.offsetInBuffer(Le.bufferIndex,Le.end)-this.offsetInBuffer(Le.bufferIndex,Le.start)===re){const Te=this.getLineFeedCnt(B.piece.bufferIndex,Le.start,Pe);if(Te!==fe)return{index:Te,remainder:0}}return{index:fe,remainder:Pe.column}}getAccumulatedValue(B,re){if(re<0)return 0;const Le=B.piece,Pe=this._buffers[Le.bufferIndex].lineStarts,fe=Le.start.line+re+1;return fe>Le.end.line?Pe[Le.end.line]+Le.end.column-Pe[Le.start.line]-Le.start.column:Pe[fe]-Pe[Le.start.line]-Le.start.column}deleteNodeTail(B,re){const Le=B.piece,Pe=Le.lineFeedCnt,fe=this.offsetInBuffer(Le.bufferIndex,Le.end),Te=re,ze=this.offsetInBuffer(Le.bufferIndex,Te),Xe=this.getLineFeedCnt(Le.bufferIndex,Le.start,Te),_t=Xe-Pe,It=ze-fe;B.piece=new hi(Le.bufferIndex,Le.start,Te,Xe,Le.length+It),Nt(this,B,It,_t)}deleteNodeHead(B,re){const Le=B.piece,Pe=Le.lineFeedCnt,fe=this.offsetInBuffer(Le.bufferIndex,Le.start),Te=re,ze=this.getLineFeedCnt(Le.bufferIndex,Te,Le.end),_t=ze-Pe,It=fe-this.offsetInBuffer(Le.bufferIndex,Te);B.piece=new hi(Le.bufferIndex,Te,Le.end,ze,Le.length+It),Nt(this,B,It,_t)}shrinkNode(B,re,Le){const Pe=B.piece,fe=Pe.start,Te=Pe.end,ze=Pe.length,Xe=Pe.lineFeedCnt,_t=re,It=this.getLineFeedCnt(Pe.bufferIndex,Pe.start,_t),Ot=this.offsetInBuffer(Pe.bufferIndex,re)-this.offsetInBuffer(Pe.bufferIndex,fe);B.piece=new hi(Pe.bufferIndex,Pe.start,_t,It,Ot),Nt(this,B,Ot-ze,It-Xe);const $t=new hi(Pe.bufferIndex,Le,Te,this.getLineFeedCnt(Pe.bufferIndex,Le,Te),this.offsetInBuffer(Pe.bufferIndex,Te)-this.offsetInBuffer(Pe.bufferIndex,Le)),cn=this.rbInsertRight(B,$t);this.validateCRLFWithPrevNode(cn)}appendToNode(B,re){this.adjustCarriageReturnFromNext(re,B)&&(re+="\n");const Le=this.shouldCheckCRLF()&&this.startWithLF(re)&&this.endWithCR(B),Pe=this._buffers[0].buffer.length;this._buffers[0].buffer+=re;const fe=ei(re,!1);for(let cn=0;cn<fe.length;cn++)fe[cn]+=Pe;if(Le){const cn=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:Pe-cn}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(fe.slice(1));const Te=this._buffers[0].lineStarts.length-1,Xe={line:Te,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[Te]},_t=B.piece.length+re.length,It=B.piece.lineFeedCnt,Ot=this.getLineFeedCnt(0,B.piece.start,Xe),$t=Ot-It;B.piece=new hi(B.piece.bufferIndex,B.piece.start,Xe,Ot,_t),this._lastChangeBufferPos=Xe,Nt(this,B,re.length,$t)}nodeAt(B){let re=this.root;const Le=this._searchCache.get(B);if(Le)return{node:Le.node,nodeStartOffset:Le.nodeStartOffset,remainder:B-Le.nodeStartOffset};let Pe=0;for(;re!==Ye;)if(re.size_left>B)re=re.left;else{if(re.size_left+re.piece.length>=B){Pe+=re.size_left;const fe={node:re,remainder:B-re.size_left,nodeStartOffset:Pe};return this._searchCache.set(fe),fe}B-=re.size_left+re.piece.length,Pe+=re.size_left+re.piece.length,re=re.right}return null}nodeAt2(B,re){let Le=this.root,Pe=0;for(;Le!==Ye;)if(Le.left!==Ye&&Le.lf_left>=B-1)Le=Le.left;else{if(Le.lf_left+Le.piece.lineFeedCnt>B-1){const fe=this.getAccumulatedValue(Le,B-Le.lf_left-2),Te=this.getAccumulatedValue(Le,B-Le.lf_left-1);return Pe+=Le.size_left,{node:Le,remainder:Math.min(fe+re-1,Te),nodeStartOffset:Pe}}if(Le.lf_left+Le.piece.lineFeedCnt===B-1){const fe=this.getAccumulatedValue(Le,B-Le.lf_left-2);if(fe+re-1<=Le.piece.length)return{node:Le,remainder:fe+re-1,nodeStartOffset:Pe};re-=Le.piece.length-fe;break}B-=Le.lf_left+Le.piece.lineFeedCnt,Pe+=Le.size_left+Le.piece.length,Le=Le.right}for(Le=Le.next();Le!==Ye;){if(Le.piece.lineFeedCnt>0){const fe=this.getAccumulatedValue(Le,0),Te=this.offsetOfNode(Le);return{node:Le,remainder:Math.min(re-1,fe),nodeStartOffset:Te}}if(Le.piece.length>=re-1)return{node:Le,remainder:re-1,nodeStartOffset:this.offsetOfNode(Le)};re-=Le.piece.length,Le=Le.next()}return null}nodeCharCodeAt(B,re){if(B.piece.lineFeedCnt<1)return-1;const Le=this._buffers[B.piece.bufferIndex],Pe=this.offsetInBuffer(B.piece.bufferIndex,B.piece.start)+re;return Le.buffer.charCodeAt(Pe)}offsetOfNode(B){if(!B)return 0;let re=B.size_left;for(;B!==this.root;)B.parent.right===B&&(re+=B.parent.size_left+B.parent.piece.length),B=B.parent;return re}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(B){if("string"==typeof B)return 10===B.charCodeAt(0);if(B===Ye||0===B.piece.lineFeedCnt)return!1;const re=B.piece,Le=this._buffers[re.bufferIndex].lineStarts,Pe=re.start.line,fe=Le[Pe]+re.start.column;return!(Pe===Le.length-1||Le[Pe+1]>fe+1)&&10===this._buffers[re.bufferIndex].buffer.charCodeAt(fe)}endWithCR(B){return"string"==typeof B?13===B.charCodeAt(B.length-1):B!==Ye&&0!==B.piece.lineFeedCnt&&13===this.nodeCharCodeAt(B,B.piece.length-1)}validateCRLFWithPrevNode(B){if(this.shouldCheckCRLF()&&this.startWithLF(B)){const re=B.prev();this.endWithCR(re)&&this.fixCRLF(re,B)}}validateCRLFWithNextNode(B){if(this.shouldCheckCRLF()&&this.endWithCR(B)){const re=B.next();this.startWithLF(re)&&this.fixCRLF(B,re)}}fixCRLF(B,re){const Le=[],Pe=this._buffers[B.piece.bufferIndex].lineStarts;let fe;fe=0===B.piece.end.column?{line:B.piece.end.line-1,column:Pe[B.piece.end.line]-Pe[B.piece.end.line-1]-1}:{line:B.piece.end.line,column:B.piece.end.column-1},B.piece=new hi(B.piece.bufferIndex,B.piece.start,fe,B.piece.lineFeedCnt-1,B.piece.length-1),Nt(this,B,-1,-1),0===B.piece.length&&Le.push(B);const Xe={line:re.piece.start.line+1,column:0},_t=re.piece.length-1,It=this.getLineFeedCnt(re.piece.bufferIndex,Xe,re.piece.end);re.piece=new hi(re.piece.bufferIndex,Xe,re.piece.end,It,_t),Nt(this,re,-1,-1),0===re.piece.length&&Le.push(re);const Ot=this.createNewPieces("\r\n");this.rbInsertRight(B,Ot[0]);for(let $t=0;$t<Le.length;$t++)an(this,Le[$t])}adjustCarriageReturnFromNext(B,re){if(this.shouldCheckCRLF()&&this.endWithCR(B)){const Le=re.next();if(this.startWithLF(Le)){if(B+="\n",1===Le.piece.length)an(this,Le);else{const Pe=Le.piece,fe={line:Pe.start.line+1,column:0},Te=Pe.length-1,ze=this.getLineFeedCnt(Pe.bufferIndex,fe,Pe.end);Le.piece=new hi(Pe.bufferIndex,fe,Pe.end,ze,Te),Nt(this,Le,-1,-1)}return!0}}return!1}iterate(B,re){return B===Ye?re(Ye):this.iterate(B.left,re)&&re(B)&&this.iterate(B.right,re)}getNodeContent(B){if(B===Ye)return"";const re=this._buffers[B.piece.bufferIndex],Le=B.piece,Pe=this.offsetInBuffer(Le.bufferIndex,Le.start),fe=this.offsetInBuffer(Le.bufferIndex,Le.end);return re.buffer.substring(Pe,fe)}getPieceContent(B){const re=this._buffers[B.bufferIndex],Le=this.offsetInBuffer(B.bufferIndex,B.start),Pe=this.offsetInBuffer(B.bufferIndex,B.end);return re.buffer.substring(Le,Pe)}rbInsertRight(B,re){const Le=new Ze(re,1);if(Le.left=Ye,Le.right=Ye,Le.parent=Ye,Le.size_left=0,Le.lf_left=0,this.root===Ye)this.root=Le,Le.color=0;else if(B.right===Ye)B.right=Le,Le.parent=B;else{const fe=st(B.right);fe.left=Le,Le.parent=fe}return lt(this,Le),Le}rbInsertLeft(B,re){const Le=new Ze(re,1);if(Le.left=Ye,Le.right=Ye,Le.parent=Ye,Le.size_left=0,Le.lf_left=0,this.root===Ye)this.root=Le,Le.color=0;else if(B.left===Ye)B.left=Le,Le.parent=B;else{const Pe=Ke(B.left);Pe.right=Le,Le.parent=Pe}return lt(this,Le),Le}}var pt=t(44512);class ct extends C.jG{constructor(B,re,Le,Pe,fe,Te,ze){super(),this._onDidChangeContent=this._register(new x.vl),this._BOM=re,this._mightContainNonBasicASCII=!Te,this._mightContainRTL=Pe,this._mightContainUnusualLineTerminators=fe,this._pieceTree=new Pn(B,Le,ze)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(B){return this._pieceTree.createSnapshot(B?this._BOM:"")}getOffsetAt(B,re){return this._pieceTree.getOffsetAt(B,re)}getPositionAt(B){return this._pieceTree.getPositionAt(B)}getRangeAt(B,re){const Le=B+re,Pe=this.getPositionAt(B),fe=this.getPositionAt(Le);return new f.Q(Pe.lineNumber,Pe.column,fe.lineNumber,fe.column)}getValueInRange(B,re=0){if(B.isEmpty())return"";const Le=this._getEndOfLine(re);return this._pieceTree.getValueInRange(B,Le)}getValueLengthInRange(B,re=0){if(B.isEmpty())return 0;if(B.startLineNumber===B.endLineNumber)return B.endColumn-B.startColumn;const Le=this.getOffsetAt(B.startLineNumber,B.startColumn),Pe=this.getOffsetAt(B.endLineNumber,B.endColumn);let fe=0;const Te=this._getEndOfLine(re),ze=this.getEOL();return Te.length!==ze.length&&(fe=(Te.length-ze.length)*(B.endLineNumber-B.startLineNumber)),Pe-Le+fe}getCharacterCountInRange(B,re=0){if(this._mightContainNonBasicASCII){let Le=0;const Pe=B.startLineNumber,fe=B.endLineNumber;for(let Te=Pe;Te<=fe;Te++){const ze=this.getLineContent(Te),_t=Te===fe?B.endColumn-1:ze.length;for(let It=Te===Pe?B.startColumn-1:0;It<_t;It++)S.pc(ze.charCodeAt(It))?(Le+=1,It+=1):Le+=1}return Le+=this._getEndOfLine(re).length*(fe-Pe),Le}return this.getValueLengthInRange(B,re)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(B){return this._pieceTree.getLineContent(B)}getLineCharCode(B,re){return this._pieceTree.getLineCharCode(B,re)}getLineLength(B){return this._pieceTree.getLineLength(B)}getLineFirstNonWhitespaceColumn(B){const re=S.HG(this.getLineContent(B));return-1===re?0:re+1}getLineLastNonWhitespaceColumn(B){const re=S.lT(this.getLineContent(B));return-1===re?0:re+2}_getEndOfLine(B){switch(B){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(B){this._pieceTree.setEOL(B)}applyEdits(B,re,Le){let Pe=this._mightContainRTL,fe=this._mightContainUnusualLineTerminators,Te=this._mightContainNonBasicASCII,ze=!0,Xe=[];for(let vn=0;vn<B.length;vn++){const Cn=B[vn];ze&&Cn._isTracked&&(ze=!1);const Gn=Cn.range;if(Cn.text){let ji=!0;Te||(ji=!S.aC(Cn.text),Te=ji),!Pe&&ji&&(Pe=S.E_(Cn.text)),!fe&&ji&&(fe=S.$X(Cn.text))}let Yn="",Xn=0,_i=0,Si=0;if(Cn.text){let ji;[Xn,_i,Si,ji]=(0,P.W)(Cn.text);const ui=this.getEOL();Yn=0===ji||ji===("\r\n"===ui?2:1)?Cn.text:Cn.text.replace(/\r\n|\r|\n/g,ui)}Xe[vn]={sortIndex:vn,identifier:Cn.identifier||null,range:Gn,rangeOffset:this.getOffsetAt(Gn.startLineNumber,Gn.startColumn),rangeLength:this.getValueLengthInRange(Gn),text:Yn,eolCount:Xn,firstLineLength:_i,lastLineLength:Si,forceMoveMarkers:!!Cn.forceMoveMarkers,isAutoWhitespaceEdit:Cn.isAutoWhitespaceEdit||!1}}Xe.sort(ct._sortOpsAscending);let _t=!1;for(let vn=0,Cn=Xe.length-1;vn<Cn;vn++){const Gn=Xe[vn].range.getEndPosition(),Yn=Xe[vn+1].range.getStartPosition();if(Yn.isBeforeOrEqual(Gn)){if(Yn.isBefore(Gn))throw new Error("Overlapping ranges are not allowed!");_t=!0}}ze&&(Xe=this._reduceOperations(Xe));const It=Le||re?ct._getInverseEditRanges(Xe):[],Ot=[];if(re)for(let vn=0;vn<Xe.length;vn++){const Cn=Xe[vn],Gn=It[vn];if(Cn.isAutoWhitespaceEdit&&Cn.range.isEmpty())for(let Yn=Gn.startLineNumber;Yn<=Gn.endLineNumber;Yn++){let Xn="";Yn===Gn.startLineNumber&&(Xn=this.getLineContent(Cn.range.startLineNumber),-1!==S.HG(Xn))||Ot.push({lineNumber:Yn,oldContent:Xn})}}let $t=null;if(Le){let vn=0;$t=[];for(let Cn=0;Cn<Xe.length;Cn++){const Gn=Xe[Cn],Yn=It[Cn],Xn=this.getValueInRange(Gn.range),_i=Gn.rangeOffset+vn;vn+=Gn.text.length-Xn.length,$t[Cn]={sortIndex:Gn.sortIndex,identifier:Gn.identifier,range:Yn,text:Xn,textChange:new pt.k(Gn.rangeOffset,Xn,_i,Gn.text)}}_t||$t.sort((Cn,Gn)=>Cn.sortIndex-Gn.sortIndex)}this._mightContainRTL=Pe,this._mightContainUnusualLineTerminators=fe,this._mightContainNonBasicASCII=Te;const cn=this._doApplyEdits(Xe);let _n=null;if(re&&Ot.length>0){Ot.sort((vn,Cn)=>Cn.lineNumber-vn.lineNumber),_n=[];for(let vn=0,Cn=Ot.length;vn<Cn;vn++){const Gn=Ot[vn].lineNumber;if(vn>0&&Ot[vn-1].lineNumber===Gn)continue;const Yn=Ot[vn].oldContent,Xn=this.getLineContent(Gn);0===Xn.length||Xn===Yn||-1!==S.HG(Xn)||_n.push(Gn)}}return this._onDidChangeContent.fire(),new p.F4($t,cn,_n)}_reduceOperations(B){return B.length<1e3?B:[this._toSingleEditOperation(B)]}_toSingleEditOperation(B){let re=!1;const Le=B[0].range,Pe=B[B.length-1].range,fe=new f.Q(Le.startLineNumber,Le.startColumn,Pe.endLineNumber,Pe.endColumn);let Te=Le.startLineNumber,ze=Le.startColumn;const Xe=[];for(let cn=0,_n=B.length;cn<_n;cn++){const vn=B[cn],Cn=vn.range;re=re||vn.forceMoveMarkers,Xe.push(this.getValueInRange(new f.Q(Te,ze,Cn.startLineNumber,Cn.startColumn))),vn.text.length>0&&Xe.push(vn.text),Te=Cn.endLineNumber,ze=Cn.endColumn}const _t=Xe.join(""),[It,Ot,$t]=(0,P.W)(_t);return{sortIndex:0,identifier:B[0].identifier,range:fe,rangeOffset:this.getOffsetAt(fe.startLineNumber,fe.startColumn),rangeLength:this.getValueLengthInRange(fe,0),text:_t,eolCount:It,firstLineLength:Ot,lastLineLength:$t,forceMoveMarkers:re,isAutoWhitespaceEdit:!1}}_doApplyEdits(B){B.sort(ct._sortOpsDescending);const re=[];for(let Le=0;Le<B.length;Le++){const Pe=B[Le],fe=Pe.range.startLineNumber,Te=Pe.range.startColumn,ze=Pe.range.endLineNumber,Xe=Pe.range.endColumn;if(fe===ze&&Te===Xe&&0===Pe.text.length)continue;Pe.text?(this._pieceTree.delete(Pe.rangeOffset,Pe.rangeLength),this._pieceTree.insert(Pe.rangeOffset,Pe.text,!0)):this._pieceTree.delete(Pe.rangeOffset,Pe.rangeLength);const _t=new f.Q(fe,Te,ze,Xe);re.push({range:_t,rangeLength:Pe.rangeLength,text:Pe.text,rangeOffset:Pe.rangeOffset,forceMoveMarkers:Pe.forceMoveMarkers})}return re}findMatchesLineByLine(B,re,Le,Pe){return this._pieceTree.findMatchesLineByLine(B,re,Le,Pe)}static _getInverseEditRanges(B){const re=[];let Le=0,Pe=0,fe=null;for(let Te=0,ze=B.length;Te<ze;Te++){const Xe=B[Te];let _t,It,Ot;if(fe?fe.range.endLineNumber===Xe.range.startLineNumber?(_t=Le,It=Pe+(Xe.range.startColumn-fe.range.endColumn)):(_t=Le+(Xe.range.startLineNumber-fe.range.endLineNumber),It=Xe.range.startColumn):(_t=Xe.range.startLineNumber,It=Xe.range.startColumn),Xe.text.length>0){const $t=Xe.eolCount+1;Ot=1===$t?new f.Q(_t,It,_t,It+Xe.firstLineLength):new f.Q(_t,It,_t+$t-1,Xe.lastLineLength+1)}else Ot=new f.Q(_t,It,_t,It);Le=Ot.endLineNumber,Pe=Ot.endColumn,re.push(Ot),fe=Xe}return re}static _sortOpsAscending(B,re){const Le=f.Q.compareRangesUsingEnds(B.range,re.range);return 0===Le?B.sortIndex-re.sortIndex:Le}static _sortOpsDescending(B,re){const Le=f.Q.compareRangesUsingEnds(B.range,re.range);return 0===Le?re.sortIndex-B.sortIndex:-Le}}class Tt{constructor(B,re,Le,Pe,fe,Te,ze,Xe,_t){this._chunks=B,this._bom=re,this._cr=Le,this._lf=Pe,this._crlf=fe,this._containsRTL=Te,this._containsUnusualLineTerminators=ze,this._isBasicASCII=Xe,this._normalizeEOL=_t}_getEOL(B){const re=this._cr+this._lf+this._crlf;return 0===re?1===B?"\n":"\r\n":this._cr+this._crlf>re/2?"\r\n":"\n"}create(B){const re=this._getEOL(B),Le=this._chunks;if(this._normalizeEOL&&("\r\n"===re&&(this._cr>0||this._lf>0)||"\n"===re&&(this._cr>0||this._crlf>0)))for(let fe=0,Te=Le.length;fe<Te;fe++){const ze=Le[fe].buffer.replace(/\r\n|\r|\n/g,re),Xe=ei(ze);Le[fe]=new yi(ze,Xe)}const Pe=new ct(Le,this._bom,re,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:Pe,disposable:Pe}}}class ut{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(B){if(0===B.length)return;0===this.chunks.length&&S.LU(B)&&(this.BOM=S.r_,B=B.substr(1));const re=B.charCodeAt(B.length-1);13===re||re>=55296&&re<=56319?(this._acceptChunk1(B.substr(0,B.length-1),!1),this._hasPreviousChar=!0,this._previousChar=re):(this._acceptChunk1(B,!1),this._hasPreviousChar=!1,this._previousChar=re)}_acceptChunk1(B,re){!re&&0===B.length||this._acceptChunk2(this._hasPreviousChar?String.fromCharCode(this._previousChar)+B:B)}_acceptChunk2(B){const re=function wi(dn,B){dn.length=0,dn[0]=0;let re=1,Le=0,Pe=0,fe=0,Te=!0;for(let Xe=0,_t=B.length;Xe<_t;Xe++){const It=B.charCodeAt(Xe);13===It?Xe+1<_t&&10===B.charCodeAt(Xe+1)?(fe++,dn[re++]=Xe+2,Xe++):(Le++,dn[re++]=Xe+1):10===It?(Pe++,dn[re++]=Xe+1):Te&&9!==It&&(It<32||It>126)&&(Te=!1)}const ze=new Zn(zn(dn),Le,Pe,fe,Te);return dn.length=0,ze}(this._tmpLineStarts,B);this.chunks.push(new yi(B,re.lineStarts)),this.cr+=re.cr,this.lf+=re.lf,this.crlf+=re.crlf,re.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=S.E_(B)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=S.$X(B)))}finish(B=!0){return this._finish(),new Tt(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,B)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const B=this.chunks[this.chunks.length-1];B.buffer+=String.fromCharCode(this._previousChar);const re=ei(B.buffer);B.lineStarts=re,13===this._previousChar&&this.cr++}}}var Ct=t(86671),Jt=t(50199),un=t(41489),Wn=t(9592),Kn=t(21828),jn=t(42588),Nn=t(21639),gn=t(82879);class Wt{constructor(B){this._default=B,this._store=[]}get(B){return B<this._store.length?this._store[B]:this._default}set(B,re){for(;B>=this._store.length;)this._store[this._store.length]=this._default;this._store[B]=re}replace(B,re,Le){if(B>=this._store.length)return;if(0===re)return void this.insert(B,Le);if(0===Le)return void this.delete(B,re);const Pe=this._store.slice(0,B),fe=this._store.slice(B+re),Te=function mn(dn,B){const re=[];for(let Le=0;Le<dn;Le++)re[Le]=B;return re}(Le,this._default);this._store=Pe.concat(Te,fe)}delete(B,re){0===re||B>=this._store.length||this._store.splice(B,re)}insert(B,re){if(0===re||B>=this._store.length)return;const Le=[];for(let Pe=0;Pe<re;Pe++)Le[Pe]=this._default;this._store=(0,a.nK)(this._store,B,Le)}}class En{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(B,re){this._startLineNumber=B,this._tokens=re}getLineTokens(B){return this._tokens[B-this._startLineNumber]}appendLineTokens(B){this._tokens.push(B)}}class On{constructor(){this._tokens=[]}add(B,re){if(this._tokens.length>0){const Le=this._tokens[this._tokens.length-1];if(Le.endLineNumber+1===B)return void Le.appendLineTokens(re)}this._tokens.push(new En(B,[re]))}finalize(){return this._tokens}}var Rn=t(33480);class Qn{constructor(B,re){this.tokenizationSupport=re,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new Mn(B)}getStartState(B){return this.store.getStartState(B,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class fi extends Qn{constructor(B,re,Le,Pe){super(B,re),this._textModel=Le,this._languageIdCodec=Pe}updateTokensUntilLine(B,re){const Le=this._textModel.getLanguageId();for(;;){const Pe=this.getFirstInvalidLine();if(!Pe||Pe.lineNumber>re)break;const fe=this._textModel.getLineContent(Pe.lineNumber),Te=je(this._languageIdCodec,Le,this.tokenizationSupport,fe,!0,Pe.startState);B.add(Pe.lineNumber,Te.tokens),this.store.setEndState(Pe.lineNumber,Te.endState)}}getTokenTypeIfInsertingCharacter(B,re){const Le=this.getStartState(B.lineNumber);if(!Le)return 0;const Pe=this._textModel.getLanguageId(),fe=this._textModel.getLineContent(B.lineNumber),Te=fe.substring(0,B.column-1)+re+fe.substring(B.column-1),ze=je(this._languageIdCodec,Pe,this.tokenizationSupport,Te,!0,Le),Xe=new Rn.f(ze.tokens,Te,this._languageIdCodec);if(0===Xe.getCount())return 0;const _t=Xe.findTokenIndexAtOffset(B.column-1);return Xe.getStandardTokenType(_t)}tokenizeLineWithEdit(B,re,Le){const Pe=B.lineNumber,fe=B.column,Te=this.getStartState(Pe);if(!Te)return null;const ze=this._textModel.getLineContent(Pe),Xe=ze.substring(0,fe-1)+Le+ze.substring(fe-1+re),_t=this._textModel.getLanguageIdAtPosition(Pe,0),It=je(this._languageIdCodec,_t,this.tokenizationSupport,Xe,!0,Te);return new Rn.f(It.tokens,Xe,this._languageIdCodec)}hasAccurateTokensForLine(B){return B<this.store.getFirstInvalidEndStateLineNumberOrMax()}isCheapToTokenize(B){const re=this.store.getFirstInvalidEndStateLineNumberOrMax();return B<re||B===re&&this._textModel.getLineLength(B)<2048}tokenizeHeuristically(B,re,Le){if(Le<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(re<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(B,Le),{heuristicTokens:!1};let Pe=this.guessStartState(re);const fe=this._textModel.getLanguageId();for(let Te=re;Te<=Le;Te++){const ze=this._textModel.getLineContent(Te),Xe=je(this._languageIdCodec,fe,this.tokenizationSupport,ze,!0,Pe);B.add(Te,Xe.tokens),Pe=Xe.endState}return{heuristicTokens:!0}}guessStartState(B){let re=this._textModel.getLineFirstNonWhitespaceColumn(B);const Le=[];let Pe=null;for(let ze=B-1;re>1&&ze>=1;ze--){const Xe=this._textModel.getLineFirstNonWhitespaceColumn(ze);if(0!==Xe&&Xe<re&&(Le.push(this._textModel.getLineContent(ze)),re=Xe,Pe=this.getStartState(ze),Pe))break}Pe||(Pe=this.tokenizationSupport.getInitialState()),Le.reverse();const fe=this._textModel.getLanguageId();let Te=Pe;for(const ze of Le)Te=je(this._languageIdCodec,fe,this.tokenizationSupport,ze,!1,Te).endState;return Te}}class Mn{constructor(B){this.lineCount=B,this._tokenizationStateStore=new Sn,this._invalidEndStatesLineNumbers=new Xt,this._invalidEndStatesLineNumbers.addRange(new Nn.L(1,B+1))}getEndState(B){return this._tokenizationStateStore.getEndState(B)}setEndState(B,re){if(!re)throw new w.D7("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(B);const Le=this._tokenizationStateStore.setEndState(B,re);return Le&&B<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new Nn.L(B+1,B+2)),Le}acceptChange(B,re){this.lineCount+=re-B.length,this._tokenizationStateStore.acceptChange(B,re),this._invalidEndStatesLineNumbers.addRangeAndResize(new Nn.L(B.startLineNumber,B.endLineNumberExclusive),re)}acceptChanges(B){for(const re of B){const[Le]=(0,P.W)(re.text);this.acceptChange(new v.M(re.range.startLineNumber,re.range.endLineNumber+1),Le+1)}}invalidateEndStateRange(B){this._invalidEndStatesLineNumbers.addRange(new Nn.L(B.startLineNumber,B.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return null===this._invalidEndStatesLineNumbers.min}getStartState(B,re){return 1===B?re:this.getEndState(B-1)}getFirstInvalidLine(B){const re=this.getFirstInvalidEndStateLineNumber();if(null===re)return null;const Le=this.getStartState(re,B);if(!Le)throw new w.D7("Start state must be defined");return{lineNumber:re,startState:Le}}}class Sn{constructor(){this._lineEndStates=new Wt(null)}getEndState(B){return this._lineEndStates.get(B)}setEndState(B,re){const Le=this._lineEndStates.get(B);return!(Le&&Le.equals(re)||(this._lineEndStates.set(B,re),0))}acceptChange(B,re){let Le=B.length;re>0&&Le>0&&(Le--,re--),this._lineEndStates.replace(B.startLineNumber,Le,re)}}class Xt{constructor(){this._ranges=[]}get min(){return 0===this._ranges.length?null:this._ranges[0].start}delete(B){const re=this._ranges.findIndex(Le=>Le.contains(B));if(-1!==re){const Le=this._ranges[re];Le.start===B?Le.endExclusive===B+1?this._ranges.splice(re,1):this._ranges[re]=new Nn.L(B+1,Le.endExclusive):Le.endExclusive===B+1?this._ranges[re]=new Nn.L(Le.start,B):this._ranges.splice(re,1,new Nn.L(Le.start,B),new Nn.L(B+1,Le.endExclusive))}}addRange(B){Nn.L.addRange(B,this._ranges)}addRangeAndResize(B,re){let Le=0;for(;!(Le>=this._ranges.length||B.start<=this._ranges[Le].endExclusive);)Le++;let Pe=Le;for(;!(Pe>=this._ranges.length||B.endExclusive<this._ranges[Pe].start);)Pe++;const fe=re-B.length;for(let Te=Pe;Te<this._ranges.length;Te++)this._ranges[Te]=this._ranges[Te].delta(fe);if(Le===Pe){const Te=new Nn.L(B.start,B.start+re);Te.isEmpty||this._ranges.splice(Le,0,Te)}else{const Te=Math.min(B.start,this._ranges[Le].start),ze=Math.max(B.endExclusive,this._ranges[Pe-1].endExclusive),Xe=new Nn.L(Te,ze+fe);Xe.isEmpty?this._ranges.splice(Le,Pe-Le):this._ranges.splice(Le,Pe-Le,Xe)}}toString(){return this._ranges.map(B=>B.toString()).join(" + ")}}function je(dn,B,re,Le,Pe,fe){let Te=null;if(re)try{Te=re.tokenizeEncoded(Le,Pe,fe.clone())}catch(ze){(0,w.dz)(ze)}return Te||(Te=(0,gn.Lh)(dn.encodeLanguageId(B),fe)),Rn.f.convertToEndOffset(Te.tokens,Le.length),Te}class at{constructor(B,re){this._tokenizerWithStateStore=B,this._backgroundTokenStore=re,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,Ct.$6)(B=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(B)}))}_backgroundTokenizeWithDeadline(B){const re=Date.now()+B.timeRemaining(),Le=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<re?(0,Kn._p)(Le):this._beginBackgroundTokenization())};Le()}_backgroundTokenizeForAtLeast1ms(){const B=this._tokenizerWithStateStore._textModel.getLineCount(),re=new On,Le=jn.W.create(!1);do{if(Le.elapsed()>1||this._tokenizeOneInvalidLine(re)>=B)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(re.finalize()),this.checkFinished()}_hasLinesToTokenize(){return!!this._tokenizerWithStateStore&&!this._tokenizerWithStateStore.store.allStatesValid()}_tokenizeOneInvalidLine(B){var re;const Le=null===(re=this._tokenizerWithStateStore)||void 0===re?void 0:re.getFirstInvalidLine();return Le?(this._tokenizerWithStateStore.updateTokensUntilLine(B,Le.lineNumber),Le.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(B,re){this._tokenizerWithStateStore.store.invalidateEndStateRange(new v.M(B,re))}}const Mt=new Uint32Array(0).buffer;class Et{static deleteBeginning(B,re){return null===B||B===Mt?B:Et.delete(B,0,re)}static deleteEnding(B,re){if(null===B||B===Mt)return B;const Le=Vt(B);return Et.delete(B,re,Le[Le.length-2])}static delete(B,re,Le){if(null===B||B===Mt||re===Le)return B;const Pe=Vt(B),fe=Pe.length>>>1;if(0===re&&Pe[Pe.length-2]===Le)return Mt;const Te=Rn.f.findIndexInTokensArray(Pe,re),ze=Te>0?Pe[Te-1<<1]:0;if(Le<Pe[Te<<1]){const cn=Le-re;for(let _n=Te;_n<fe;_n++)Pe[_n<<1]-=cn;return B}let _t,It;ze!==re?(Pe[Te<<1]=re,_t=Te+1<<1,It=re):(_t=Te<<1,It=ze);const Ot=Le-re;for(let cn=Te+1;cn<fe;cn++){const _n=Pe[cn<<1]-Ot;_n>It&&(Pe[_t++]=_n,Pe[_t++]=Pe[1+(cn<<1)],It=_n)}if(_t===Pe.length)return B;const $t=new Uint32Array(_t);return $t.set(Pe.subarray(0,_t),0),$t.buffer}static append(B,re){if(re===Mt)return B;if(B===Mt)return re;if(null===B)return B;if(null===re)return null;const Le=Vt(B),Pe=Vt(re),fe=Pe.length>>>1,Te=new Uint32Array(Le.length+Pe.length);Te.set(Le,0);let ze=Le.length;const Xe=Le[Le.length-2];for(let _t=0;_t<fe;_t++)Te[ze++]=Pe[_t<<1]+Xe,Te[ze++]=Pe[1+(_t<<1)];return Te.buffer}static insert(B,re,Le){if(null===B||B===Mt)return B;const Pe=Vt(B),fe=Pe.length>>>1;let Te=Rn.f.findIndexInTokensArray(Pe,re);Te>0&&Pe[Te-1<<1]===re&&Te--;for(let ze=Te;ze<fe;ze++)Pe[ze<<1]+=Le;return B}}function Vt(dn){return dn instanceof Uint32Array?dn:new Uint32Array(dn)}var zt=t(21861);class sn{constructor(B){this._lineTokens=[],this._len=0,this._languageIdCodec=B}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(B,re,Le){let Pe=null;if(re<this._len&&(Pe=this._lineTokens[re]),null!==Pe&&Pe!==Mt)return new Rn.f(Vt(Pe),Le,this._languageIdCodec);const fe=new Uint32Array(2);return fe[0]=Le.length,fe[1]=kn(this._languageIdCodec.encodeLanguageId(B)),new Rn.f(fe,Le,this._languageIdCodec)}static _massageTokens(B,re,Le){const Pe=Le?Vt(Le):null;if(0===re){let fe=!1;if(Pe&&Pe.length>1&&(fe=zt.x.getLanguageId(Pe[1])!==B),!fe)return Mt}if(!Pe||0===Pe.length){const fe=new Uint32Array(2);return fe[0]=re,fe[1]=kn(B),fe.buffer}return Pe[Pe.length-2]=re,0===Pe.byteOffset&&Pe.byteLength===Pe.buffer.byteLength?Pe.buffer:Pe}_ensureLine(B){for(;B>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(B,re){0!==re&&(B+re>this._len&&(re=this._len-B),this._lineTokens.splice(B,re),this._len-=re)}_insertLines(B,re){if(0===re)return;const Le=[];for(let Pe=0;Pe<re;Pe++)Le[Pe]=null;this._lineTokens=a.nK(this._lineTokens,B,Le),this._len+=re}setTokens(B,re,Le,Pe,fe){const Te=sn._massageTokens(this._languageIdCodec.encodeLanguageId(B),Le,Pe);this._ensureLine(re);const ze=this._lineTokens[re];return this._lineTokens[re]=Te,!!fe&&!sn._equals(ze,Te)}static _equals(B,re){if(!B||!re)return!B&&!re;const Le=Vt(B),Pe=Vt(re);if(Le.length!==Pe.length)return!1;for(let fe=0,Te=Le.length;fe<Te;fe++)if(Le[fe]!==Pe[fe])return!1;return!0}acceptEdit(B,re,Le){this._acceptDeleteRange(B),this._acceptInsertText(new _.y(B.startLineNumber,B.startColumn),re,Le)}_acceptDeleteRange(B){const re=B.startLineNumber-1;if(re>=this._len)return;if(B.startLineNumber===B.endLineNumber){if(B.startColumn===B.endColumn)return;return void(this._lineTokens[re]=Et.delete(this._lineTokens[re],B.startColumn-1,B.endColumn-1))}this._lineTokens[re]=Et.deleteEnding(this._lineTokens[re],B.startColumn-1);const Le=B.endLineNumber-1;let Pe=null;Le<this._len&&(Pe=Et.deleteBeginning(this._lineTokens[Le],B.endColumn-1)),this._lineTokens[re]=Et.append(this._lineTokens[re],Pe),this._deleteLines(B.startLineNumber,B.endLineNumber-B.startLineNumber)}_acceptInsertText(B,re,Le){if(0===re&&0===Le)return;const Pe=B.lineNumber-1;if(!(Pe>=this._len)){if(0===re)return void(this._lineTokens[Pe]=Et.insert(this._lineTokens[Pe],B.column-1,Le));this._lineTokens[Pe]=Et.deleteEnding(this._lineTokens[Pe],B.column-1),this._lineTokens[Pe]=Et.insert(this._lineTokens[Pe],B.column-1,Le),this._insertLines(B.lineNumber,re)}}setMultilineTokens(B,re){if(0===B.length)return{changes:[]};const Le=[];for(let Pe=0,fe=B.length;Pe<fe;Pe++){const Te=B[Pe];let ze=0,Xe=0,_t=!1;for(let It=Te.startLineNumber;It<=Te.endLineNumber;It++)_t?(this.setTokens(re.getLanguageId(),It-1,re.getLineLength(It),Te.getLineTokens(It),!1),Xe=It):this.setTokens(re.getLanguageId(),It-1,re.getLineLength(It),Te.getLineTokens(It),!0)&&(_t=!0,ze=It,Xe=It);_t&&Le.push({fromLineNumber:ze,toLineNumber:Xe})}return{changes:Le}}}function kn(dn){return(32768|dn|2<<24|1024)>>>0}class oi{constructor(B){this._pieces=[],this._isComplete=!1,this._languageIdCodec=B}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(B,re){this._pieces=B||[],this._isComplete=re}setPartial(B,re){let Le=B;if(re.length>0){const fe=re[0].getRange(),Te=re[re.length-1].getRange();if(!fe||!Te)return B;Le=B.plusRange(fe).plusRange(Te)}let Pe=null;for(let fe=0,Te=this._pieces.length;fe<Te;fe++){const ze=this._pieces[fe];if(ze.endLineNumber<Le.startLineNumber)continue;if(ze.startLineNumber>Le.endLineNumber){Pe=Pe||{index:fe};break}if(ze.removeTokens(Le),ze.isEmpty()){this._pieces.splice(fe,1),fe--,Te--;continue}if(ze.endLineNumber<Le.startLineNumber)continue;if(ze.startLineNumber>Le.endLineNumber){Pe=Pe||{index:fe};continue}const[Xe,_t]=ze.split(Le);Xe.isEmpty()?Pe=Pe||{index:fe}:_t.isEmpty()||(this._pieces.splice(fe,1,Xe,_t),fe++,Te++,Pe=Pe||{index:fe})}return Pe=Pe||{index:this._pieces.length},re.length>0&&(this._pieces=a.nK(this._pieces,Pe.index,re)),Le}isComplete(){return this._isComplete}addSparseTokens(B,re){if(0===re.getLineContent().length)return re;const Le=this._pieces;if(0===Le.length)return re;const fe=Le[oi._findFirstPieceWithLine(Le,B)].getLineTokens(B);if(!fe)return re;const Te=re.getCount(),ze=fe.getCount();let Xe=0;const _t=[];let It=0,Ot=0;const $t=(cn,_n)=>{cn!==Ot&&(Ot=cn,_t[It++]=cn,_t[It++]=_n)};for(let cn=0;cn<ze;cn++){const _n=fe.getStartCharacter(cn),vn=fe.getEndCharacter(cn),Cn=fe.getMetadata(cn),Gn=((1&Cn?2048:0)|(2&Cn?4096:0)|(4&Cn?8192:0)|(8&Cn?16384:0)|(16&Cn?16744448:0)|(32&Cn?4278190080:0))>>>0,Yn=~Gn>>>0;for(;Xe<Te&&re.getEndOffset(Xe)<=_n;)$t(re.getEndOffset(Xe),re.getMetadata(Xe)),Xe++;for(Xe<Te&&re.getStartOffset(Xe)<_n&&$t(_n,re.getMetadata(Xe));Xe<Te&&re.getEndOffset(Xe)<vn;)$t(re.getEndOffset(Xe),re.getMetadata(Xe)&Yn|Cn&Gn),Xe++;if(Xe<Te)$t(vn,re.getMetadata(Xe)&Yn|Cn&Gn),re.getEndOffset(Xe)===vn&&Xe++;else{const Xn=Math.min(Math.max(0,Xe-1),Te-1);$t(vn,re.getMetadata(Xn)&Yn|Cn&Gn)}}for(;Xe<Te;)$t(re.getEndOffset(Xe),re.getMetadata(Xe)),Xe++;return new Rn.f(new Uint32Array(_t),re.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(B,re){let Le=0,Pe=B.length-1;for(;Le<Pe;){let fe=Le+Math.floor((Pe-Le)/2);if(B[fe].endLineNumber<re)Le=fe+1;else{if(!(B[fe].startLineNumber>re)){for(;fe>Le&&B[fe-1].startLineNumber<=re&&re<=B[fe-1].endLineNumber;)fe--;return fe}Pe=fe-1}}return Le}acceptEdit(B,re,Le,Pe,fe){for(const Te of this._pieces)Te.acceptEdit(B,re,Le,Pe,fe)}}class mi extends Wn._{constructor(B,re,Le,Pe,fe,Te){super(),this._languageService=B,this._languageConfigurationService=re,this._textModel=Le,this._bracketPairsTextModelPart=Pe,this._languageId=fe,this._attachedViews=Te,this._semanticTokens=new oi(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new x.vl),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new x.vl),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new x.vl),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new gi(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(ze=>{ze.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(ze=>{this._emitModelTokensChangedEvent(ze)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(ze=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(B){if(B.isFlush)this._semanticTokens.flush();else if(!B.isEolChange)for(const re of B.changes){const[Le,Pe,fe]=(0,P.W)(re.text);this._semanticTokens.acceptEdit(re.range,Le,Pe,fe,re.text.length>0?re.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(B)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(B){this.validateLineNumber(B);const re=this.grammarTokens.getLineTokens(B);return this._semanticTokens.addSparseTokens(B,re)}_emitModelTokensChangedEvent(B){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(B),this._onDidChangeTokens.fire(B))}validateLineNumber(B){if(B<1||B>this._textModel.getLineCount())throw new w.D7("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(B){this.validateLineNumber(B),this.grammarTokens.forceTokenization(B)}hasAccurateTokensForLine(B){return this.validateLineNumber(B),this.grammarTokens.hasAccurateTokensForLine(B)}isCheapToTokenize(B){return this.validateLineNumber(B),this.grammarTokens.isCheapToTokenize(B)}tokenizeIfCheap(B){this.validateLineNumber(B),this.grammarTokens.tokenizeIfCheap(B)}getTokenTypeIfInsertingCharacter(B,re,Le){return this.grammarTokens.getTokenTypeIfInsertingCharacter(B,re,Le)}tokenizeLineWithEdit(B,re,Le){return this.grammarTokens.tokenizeLineWithEdit(B,re,Le)}setSemanticTokens(B,re){this._semanticTokens.set(B,re),this._emitModelTokensChangedEvent({semanticTokensApplied:null!==B,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(B,re){if(this.hasCompleteSemanticTokens())return;const Le=this._textModel.validateRange(this._semanticTokens.setPartial(B,re));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:Le.startLineNumber,toLineNumber:Le.endLineNumber}]})}getWordAtPosition(B){this.assertNotDisposed();const re=this._textModel.validatePosition(B),Le=this._textModel.getLineContent(re.lineNumber),Pe=this.getLineTokens(re.lineNumber),fe=Pe.findTokenIndexAtOffset(re.column-1),[Te,ze]=mi._findLanguageBoundaries(Pe,fe),Xe=(0,Jt.Th)(re.column,this.getLanguageConfiguration(Pe.getLanguageId(fe)).getWordDefinition(),Le.substring(Te,ze),Te);if(Xe&&Xe.startColumn<=B.column&&B.column<=Xe.endColumn)return Xe;if(fe>0&&Te===re.column-1){const[_t,It]=mi._findLanguageBoundaries(Pe,fe-1),Ot=(0,Jt.Th)(re.column,this.getLanguageConfiguration(Pe.getLanguageId(fe-1)).getWordDefinition(),Le.substring(_t,It),_t);if(Ot&&Ot.startColumn<=B.column&&B.column<=Ot.endColumn)return Ot}return null}getLanguageConfiguration(B){return this._languageConfigurationService.getLanguageConfiguration(B)}static _findLanguageBoundaries(B,re){const Le=B.getLanguageId(re);let Pe=0;for(let Te=re;Te>=0&&B.getLanguageId(Te)===Le;Te--)Pe=B.getStartOffset(Te);let fe=B.getLineContent().length;for(let Te=re,ze=B.getCount();Te<ze&&B.getLanguageId(Te)===Le;Te++)fe=B.getEndOffset(Te);return[Pe,fe]}getWordUntilPosition(B){const re=this.getWordAtPosition(B);return re?{word:re.word.substr(0,B.column-re.startColumn),startColumn:re.startColumn,endColumn:B.column}:{word:"",startColumn:B.column,endColumn:B.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(B,re){const Le=this._textModel.validatePosition(new _.y(B,re)),Pe=this.getLineTokens(Le.lineNumber);return Pe.getLanguageId(Pe.findTokenIndexAtOffset(Le.column-1))}setLanguageId(B,re="api"){if(this._languageId===B)return;const Le={oldLanguage:this._languageId,newLanguage:B,source:re};this._languageId=B,this._bracketPairsTextModelPart.handleDidChangeLanguage(Le),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(Le),this._onDidChangeLanguageConfiguration.fire({})}}class gi extends C.jG{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(B,re,Le,Pe){super(),this._languageIdCodec=B,this._textModel=re,this.getLanguageId=Le,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new C.HE),this._tokens=new sn(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new C.HE),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new x.vl),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new x.vl),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new C.$w),this._register(un.dG.onDidChange(fe=>{const Te=this.getLanguageId();-1!==fe.changedLanguages.indexOf(Te)&&this.resetTokenization()})),this.resetTokenization(),this._register(Pe.onDidChangeVisibleRanges(({view:fe,state:Te})=>{if(Te){let ze=this._attachedViewStates.get(fe);ze||(ze=new ai(()=>this.refreshRanges(ze.lineRanges)),this._attachedViewStates.set(fe,ze)),ze.handleStateChange(Te)}else this._attachedViewStates.deleteAndDispose(fe)}))}resetTokenization(B=!0){var re;this._tokens.flush(),null===(re=this._debugBackgroundTokens)||void 0===re||re.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new Mn(this._textModel.getLineCount())),B&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const[Pe,fe]=(()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const Te=un.dG.get(this.getLanguageId());if(!Te)return[null,null];let ze;try{ze=Te.getInitialState()}catch(Xe){return(0,w.dz)(Xe),[null,null]}return[Te,ze]})();if(this._tokenizer=Pe&&fe?new fi(this._textModel.getLineCount(),Pe,this._textModel,this._languageIdCodec):null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const Te={setTokens:ze=>{this.setTokens(ze)},backgroundTokenizationFinished:()=>{2!==this._backgroundTokenizationState&&(this._backgroundTokenizationState=2,this._onDidChangeBackgroundTokenizationState.fire())},setEndState:(ze,Xe)=>{var _t;if(!this._tokenizer)return;const It=this._tokenizer.store.getFirstInvalidEndStateLineNumber();null!==It&&ze>=It&&(null===(_t=this._tokenizer)||void 0===_t||_t.store.setEndState(ze,Xe))}};Pe&&Pe.createBackgroundTokenizer&&!Pe.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=Pe.createBackgroundTokenizer(this._textModel,Te)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new at(this._tokenizer,Te),this._defaultBackgroundTokenizer.handleChanges()),Pe?.backgroundTokenizerShouldOnlyVerifyTokens&&Pe.createBackgroundTokenizer?(this._debugBackgroundTokens=new sn(this._languageIdCodec),this._debugBackgroundStates=new Mn(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=Pe.createBackgroundTokenizer(this._textModel,{setTokens:ze=>{var Xe;null===(Xe=this._debugBackgroundTokens)||void 0===Xe||Xe.setMultilineTokens(ze,this._textModel)},backgroundTokenizationFinished(){},setEndState:(ze,Xe)=>{var _t;null===(_t=this._debugBackgroundStates)||void 0===_t||_t.setEndState(ze,Xe)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var B;null===(B=this._defaultBackgroundTokenizer)||void 0===B||B.handleChanges()}handleDidChangeContent(B){var re,Le,Pe;if(B.isFlush)this.resetTokenization(!1);else if(!B.isEolChange){for(const fe of B.changes){const[Te,ze]=(0,P.W)(fe.text);this._tokens.acceptEdit(fe.range,Te,ze),null===(re=this._debugBackgroundTokens)||void 0===re||re.acceptEdit(fe.range,Te,ze)}null===(Le=this._debugBackgroundStates)||void 0===Le||Le.acceptChanges(B.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(B.changes),null===(Pe=this._defaultBackgroundTokenizer)||void 0===Pe||Pe.handleChanges()}}setTokens(B){const{changes:re}=this._tokens.setMultilineTokens(B,this._textModel);return re.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:re}),{changes:re}}refreshAllVisibleLineTokens(){const B=v.M.joinMany([...this._attachedViewStates].map(([re,Le])=>Le.lineRanges));this.refreshRanges(B)}refreshRanges(B){for(const re of B)this.refreshRange(re.startLineNumber,re.endLineNumberExclusive-1)}refreshRange(B,re){var Le,Pe;if(!this._tokenizer)return;B=Math.max(1,Math.min(this._textModel.getLineCount(),B)),re=Math.min(this._textModel.getLineCount(),re);const fe=new On,{heuristicTokens:Te}=this._tokenizer.tokenizeHeuristically(fe,B,re),ze=this.setTokens(fe.finalize());if(Te)for(const Xe of ze.changes)null===(Le=this._backgroundTokenizer.value)||void 0===Le||Le.requestTokens(Xe.fromLineNumber,Xe.toLineNumber+1);null===(Pe=this._defaultBackgroundTokenizer)||void 0===Pe||Pe.checkFinished()}forceTokenization(B){var re,Le;const Pe=new On;null===(re=this._tokenizer)||void 0===re||re.updateTokensUntilLine(Pe,B),this.setTokens(Pe.finalize()),null===(Le=this._defaultBackgroundTokenizer)||void 0===Le||Le.checkFinished()}hasAccurateTokensForLine(B){return!this._tokenizer||this._tokenizer.hasAccurateTokensForLine(B)}isCheapToTokenize(B){return!this._tokenizer||this._tokenizer.isCheapToTokenize(B)}tokenizeIfCheap(B){this.isCheapToTokenize(B)&&this.forceTokenization(B)}getLineTokens(B){var re;const Le=this._textModel.getLineContent(B),Pe=this._tokens.getTokens(this._textModel.getLanguageId(),B-1,Le);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>B&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>B){const fe=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),B-1,Le);!Pe.equals(fe)&&null!==(re=this._debugBackgroundTokenizer.value)&&void 0!==re&&re.reportMismatchingTokens&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(B)}return Pe}getTokenTypeIfInsertingCharacter(B,re,Le){if(!this._tokenizer)return 0;const Pe=this._textModel.validatePosition(new _.y(B,re));return this.forceTokenization(Pe.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(Pe,Le)}tokenizeLineWithEdit(B,re,Le){if(!this._tokenizer)return null;const Pe=this._textModel.validatePosition(B);return this.forceTokenization(Pe.lineNumber),this._tokenizer.tokenizeLineWithEdit(Pe,re,Le)}get hasTokens(){return this._tokens.hasTokens}}class ai extends C.jG{get lineRanges(){return this._lineRanges}constructor(B){super(),this._refreshTokens=B,this.runner=this._register(new Ct.uC(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,a.aI)(this._computedLineRanges,this._lineRanges,(B,re)=>B.equals(re))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(B){this._lineRanges=B.visibleLineRanges,B.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}var At,li=t(69382),$i=t(88270),Pi=function(dn,B){return function(re,Le){B(re,Le,dn)}};function hn(dn,B){let re;return re="string"==typeof dn?function Rt(dn){const B=new ut;return B.acceptChunk(dn),B.finish()}(dn):p.nk(dn)?function Pt(dn){const B=new ut;let re;for(;"string"==typeof(re=dn.read());)B.acceptChunk(re);return B.finish()}(dn):dn,re.create(B)}let An=0;class $n{constructor(B){this._source=B,this._eos=!1}read(){if(this._eos)return null;const B=[];let re=0,Le=0;for(;;){const Pe=this._source.read();if(null===Pe)return this._eos=!0,0===re?null:B.join("");if(Pe.length>0&&(B[re++]=Pe,Le+=Pe.length),Le>=65536)return B.join("")}}}const Ri=()=>{throw new Error("Invalid change accessor")};let Ii=At=class extends C.jG{static resolveOptions(B,re){if(re.detectIndentation){const Le=Se(B,re.tabSize,re.insertSpaces);return new p.X2({tabSize:Le.tabSize,indentSize:"tabSize",insertSpaces:Le.insertSpaces,trimAutoWhitespace:re.trimAutoWhitespace,defaultEOL:re.defaultEOL,bracketPairColorizationOptions:re.bracketPairColorizationOptions})}return new p.X2(re)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(B){return this._eventEmitter.slowEvent(re=>B(re.contentChangedEvent))}onDidChangeContentOrInjectedText(B){return(0,C.qE)(this._eventEmitter.fastEvent(re=>B(re)),this._onDidChangeInjectedText.event(re=>B(re)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(B,re,Le,Pe=null,fe,Te,ze){super(),this._undoRedoService=fe,this._languageService=Te,this._languageConfigurationService=ze,this._onWillDispose=this._register(new x.vl),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Gi(cn=>this.handleBeforeFireDecorationsChangedEvent(cn))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new x.vl),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new x.vl),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new x.vl),this._eventEmitter=this._register(new Ui),this._languageSelectionListener=this._register(new C.HE),this._deltaDecorationCallCnt=0,this._attachedViews=new Mi,An++,this.id="$model"+An,this.isForSimpleWidget=Le.isForSimpleWidget,this._associatedResource=typeof Pe>"u"||null===Pe?b.r.parse("inmemory://model/"+An):Pe,this._attachedEditorCount=0;const{textBuffer:Xe,disposable:_t}=hn(B,Le.defaultEOL);this._buffer=Xe,this._bufferDisposable=_t,this._options=At.resolveOptions(this._buffer,Le);const It="string"==typeof re?re:re.languageId;"string"!=typeof re&&(this._languageSelectionListener.value=re.onDidChange(()=>this._setLanguage(re.languageId))),this._bracketPairs=this._register(new z(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new ye.P(this,this._languageConfigurationService)),this._decorationProvider=this._register(new se(this)),this._tokenizationTextModelPart=new mi(this._languageService,this._languageConfigurationService,this,this._bracketPairs,It,this._attachedViews);const Ot=this._buffer.getLineCount(),$t=this._buffer.getValueLengthInRange(new f.Q(1,1,Ot,this._buffer.getLineLength(Ot)+1),0);Le.largeFileOptimizations?(this._isTooLargeForTokenization=$t>At.LARGE_FILE_SIZE_THRESHOLD||Ot>At.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=$t>At.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=$t>At._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=S.tk(An),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new pn,this._commandManager=new _e.z8(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(It)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const B=new ct([],"","\n",!1,!1,!0,!0);B.dispose(),this._buffer=B,this._bufferDisposable=C.jG.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(B,re){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(re),this._bracketPairs.handleDidChangeContent(re),this._eventEmitter.fire(new li.Ic(B,re)))}setValue(B){if(this._assertNotDisposed(),null==B)throw(0,w.Qg)();const{textBuffer:re,disposable:Le}=hn(B,this._options.defaultEOL);this._setValueFromTextBuffer(re,Le)}_createContentChanged2(B,re,Le,Pe,fe,Te,ze,Xe){return{changes:[{range:B,rangeOffset:re,rangeLength:Le,text:Pe}],eol:this._buffer.getEOL(),isEolChange:Xe,versionId:this.getVersionId(),isUndoing:fe,isRedoing:Te,isFlush:ze}}_setValueFromTextBuffer(B,re){this._assertNotDisposed();const Le=this.getFullModelRange(),Pe=this.getValueLengthInRange(Le),fe=this.getLineCount(),Te=this.getLineMaxColumn(fe);this._buffer=B,this._bufferDisposable.dispose(),this._bufferDisposable=re,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new pn,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new li.HP([new li.Wn],this._versionId,!1,!1),this._createContentChanged2(new f.Q(1,1,fe,Te),0,Pe,this.getValue(),!1,!1,!0,!1))}setEOL(B){this._assertNotDisposed();const re=1===B?"\r\n":"\n";if(this._buffer.getEOL()===re)return;const Le=this.getFullModelRange(),Pe=this.getValueLengthInRange(Le),fe=this.getLineCount(),Te=this.getLineMaxColumn(fe);this._onBeforeEOLChange(),this._buffer.setEOL(re),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new li.HP([new li.mS],this._versionId,!1,!1),this._createContentChanged2(new f.Q(1,1,fe,Te),0,Pe,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const B=this.getVersionId(),re=this._decorationsTree.collectNodesPostOrder();for(let Le=0,Pe=re.length;Le<Pe;Le++){const fe=re[Le],Te=fe.range,ze=fe.cachedAbsoluteStart-fe.start,Xe=this._buffer.getOffsetAt(Te.startLineNumber,Te.startColumn),_t=this._buffer.getOffsetAt(Te.endLineNumber,Te.endColumn);fe.cachedAbsoluteStart=Xe,fe.cachedAbsoluteEnd=_t,fe.cachedVersionId=B,fe.start=Xe-ze,fe.end=_t-ze,Ut(fe)}}onBeforeAttached(){return this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(B){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(B)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let B=0,re=0;const Le=this._buffer.getLineCount();for(let Pe=1;Pe<=Le;Pe++){const fe=this._buffer.getLineLength(Pe);fe>=1e4?re+=fe:B+=fe}return re>B}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(B){this._assertNotDisposed();const ze=new p.X2({tabSize:typeof B.tabSize<"u"?B.tabSize:this._options.tabSize,indentSize:typeof B.indentSize<"u"?B.indentSize:this._options.originalIndentSize,insertSpaces:typeof B.insertSpaces<"u"?B.insertSpaces:this._options.insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:typeof B.trimAutoWhitespace<"u"?B.trimAutoWhitespace:this._options.trimAutoWhitespace,bracketPairColorizationOptions:typeof B.bracketColorizationOptions<"u"?B.bracketColorizationOptions:this._options.bracketPairColorizationOptions});if(this._options.equals(ze))return;const Xe=this._options.createChangeEvent(ze);this._options=ze,this._bracketPairs.handleDidChangeOptions(Xe),this._decorationProvider.handleDidChangeOptions(Xe),this._onDidChangeOptions.fire(Xe)}detectIndentation(B,re){this._assertNotDisposed();const Le=Se(this._buffer,re,B);this.updateOptions({insertSpaces:Le.insertSpaces,tabSize:Le.tabSize,indentSize:Le.tabSize})}normalizeIndentation(B){return this._assertNotDisposed(),(0,D.P)(B,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(B=null){const re=this.findMatches(S._J.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(B,re.map(Le=>({range:Le.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(B){this._assertNotDisposed();const re=this._validatePosition(B.lineNumber,B.column,0);return this._buffer.getOffsetAt(re.lineNumber,re.column)}getPositionAt(B){this._assertNotDisposed();const re=Math.min(this._buffer.getLength(),Math.max(0,B));return this._buffer.getPositionAt(re)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(B){this._versionId=B}_overwriteAlternativeVersionId(B){this._alternativeVersionId=B}_overwriteInitialUndoRedoSnapshot(B){this._initialUndoRedoSnapshot=B}getValue(B,re=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new w.D7("Operation would exceed heap memory limits");const Le=this.getFullModelRange(),Pe=this.getValueInRange(Le,B);return re?this._buffer.getBOM()+Pe:Pe}createSnapshot(B=!1){return new $n(this._buffer.createSnapshot(B))}getValueLength(B,re=!1){this._assertNotDisposed();const Le=this.getFullModelRange(),Pe=this.getValueLengthInRange(Le,B);return re?this._buffer.getBOM().length+Pe:Pe}getValueInRange(B,re=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(B),re)}getValueLengthInRange(B,re=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(B),re)}getCharacterCountInRange(B,re=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(B),re)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(B){if(this._assertNotDisposed(),B<1||B>this.getLineCount())throw new w.D7("Illegal value for lineNumber");return this._buffer.getLineContent(B)}getLineLength(B){if(this._assertNotDisposed(),B<1||B>this.getLineCount())throw new w.D7("Illegal value for lineNumber");return this._buffer.getLineLength(B)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new w.D7("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(B){return this._assertNotDisposed(),1}getLineMaxColumn(B){if(this._assertNotDisposed(),B<1||B>this.getLineCount())throw new w.D7("Illegal value for lineNumber");return this._buffer.getLineLength(B)+1}getLineFirstNonWhitespaceColumn(B){if(this._assertNotDisposed(),B<1||B>this.getLineCount())throw new w.D7("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(B)}getLineLastNonWhitespaceColumn(B){if(this._assertNotDisposed(),B<1||B>this.getLineCount())throw new w.D7("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(B)}_validateRangeRelaxedNoAllocations(B){const re=this._buffer.getLineCount(),Le=B.startLineNumber,Pe=B.startColumn;let fe=Math.floor("number"!=typeof Le||isNaN(Le)?1:Le),Te=Math.floor("number"!=typeof Pe||isNaN(Pe)?1:Pe);if(fe<1)fe=1,Te=1;else if(fe>re)fe=re,Te=this.getLineMaxColumn(fe);else if(Te<=1)Te=1;else{const Ot=this.getLineMaxColumn(fe);Te>=Ot&&(Te=Ot)}const ze=B.endLineNumber,Xe=B.endColumn;let _t=Math.floor("number"!=typeof ze||isNaN(ze)?1:ze),It=Math.floor("number"!=typeof Xe||isNaN(Xe)?1:Xe);if(_t<1)_t=1,It=1;else if(_t>re)_t=re,It=this.getLineMaxColumn(_t);else if(It<=1)It=1;else{const Ot=this.getLineMaxColumn(_t);It>=Ot&&(It=Ot)}return Le===fe&&Pe===Te&&ze===_t&&Xe===It&&B instanceof f.Q&&!(B instanceof d.L)?B:new f.Q(fe,Te,_t,It)}_isValidPosition(B,re,Le){if("number"!=typeof B||"number"!=typeof re||isNaN(B)||isNaN(re)||B<1||re<1||(0|B)!==B||(0|re)!==re)return!1;if(B>this._buffer.getLineCount())return!1;if(1===re)return!0;if(re>this.getLineMaxColumn(B))return!1;if(1===Le){const Te=this._buffer.getLineCharCode(B,re-2);if(S.pc(Te))return!1}return!0}_validatePosition(B,re,Le){const Pe=Math.floor("number"!=typeof B||isNaN(B)?1:B),fe=Math.floor("number"!=typeof re||isNaN(re)?1:re),Te=this._buffer.getLineCount();if(Pe<1)return new _.y(1,1);if(Pe>Te)return new _.y(Te,this.getLineMaxColumn(Te));if(fe<=1)return new _.y(Pe,1);const ze=this.getLineMaxColumn(Pe);if(fe>=ze)return new _.y(Pe,ze);if(1===Le){const Xe=this._buffer.getLineCharCode(Pe,fe-2);if(S.pc(Xe))return new _.y(Pe,fe-1)}return new _.y(Pe,fe)}validatePosition(B){return this._assertNotDisposed(),B instanceof _.y&&this._isValidPosition(B.lineNumber,B.column,1)?B:this._validatePosition(B.lineNumber,B.column,1)}_isValidRange(B,re){const Le=B.startLineNumber,Pe=B.startColumn,fe=B.endLineNumber,Te=B.endColumn;if(!this._isValidPosition(Le,Pe,0)||!this._isValidPosition(fe,Te,0))return!1;if(1===re){const ze=Pe>1?this._buffer.getLineCharCode(Le,Pe-2):0,Xe=Te>1&&Te<=this._buffer.getLineLength(fe)?this._buffer.getLineCharCode(fe,Te-2):0,_t=S.pc(ze),It=S.pc(Xe);return!_t&&!It}return!0}validateRange(B){if(this._assertNotDisposed(),B instanceof f.Q&&!(B instanceof d.L)&&this._isValidRange(B,1))return B;const Le=this._validatePosition(B.startLineNumber,B.startColumn,0),Pe=this._validatePosition(B.endLineNumber,B.endColumn,0),fe=Le.lineNumber,Te=Le.column,ze=Pe.lineNumber,Xe=Pe.column;{const _t=Te>1?this._buffer.getLineCharCode(fe,Te-2):0,It=Xe>1&&Xe<=this._buffer.getLineLength(ze)?this._buffer.getLineCharCode(ze,Xe-2):0,Ot=S.pc(_t),$t=S.pc(It);return Ot||$t?fe===ze&&Te===Xe?new f.Q(fe,Te-1,ze,Xe-1):Ot&&$t?new f.Q(fe,Te-1,ze,Xe+1):Ot?new f.Q(fe,Te-1,ze,Xe):new f.Q(fe,Te,ze,Xe+1):new f.Q(fe,Te,ze,Xe)}}modifyPosition(B,re){this._assertNotDisposed();const Le=this.getOffsetAt(B)+re;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,Le)))}getFullModelRange(){this._assertNotDisposed();const B=this.getLineCount();return new f.Q(1,1,B,this.getLineMaxColumn(B))}findMatchesLineByLine(B,re,Le,Pe){return this._buffer.findMatchesLineByLine(B,re,Le,Pe)}findMatches(B,re,Le,Pe,fe,Te,ze=999){this._assertNotDisposed();let Xe=null;null!==re&&(Array.isArray(re)||(re=[re]),re.every(Ot=>f.Q.isIRange(Ot))&&(Xe=re.map(Ot=>this.validateRange(Ot)))),null===Xe&&(Xe=[this.getFullModelRange()]),Xe=Xe.sort((Ot,$t)=>Ot.startLineNumber-$t.startLineNumber||Ot.startColumn-$t.startColumn);const _t=[];let It;if(_t.push(Xe.reduce((Ot,$t)=>f.Q.areIntersecting(Ot,$t)?Ot.plusRange($t):(_t.push(Ot),$t))),!Le&&B.indexOf("\n")<0){const $t=new bn.lt(B,Le,Pe,fe).parseSearchRequest();if(!$t)return[];It=cn=>this.findMatchesLineByLine(cn,$t,Te,ze)}else It=Ot=>bn.hB.findMatches(this,new bn.lt(B,Le,Pe,fe),Ot,Te,ze);return _t.map(It).reduce((Ot,$t)=>Ot.concat($t),[])}findNextMatch(B,re,Le,Pe,fe,Te){this._assertNotDisposed();const ze=this.validatePosition(re);if(!Le&&B.indexOf("\n")<0){const _t=new bn.lt(B,Le,Pe,fe).parseSearchRequest();if(!_t)return null;const It=this.getLineCount();let Ot=new f.Q(ze.lineNumber,ze.column,It,this.getLineMaxColumn(It)),$t=this.findMatchesLineByLine(Ot,_t,Te,1);return bn.hB.findNextMatch(this,new bn.lt(B,Le,Pe,fe),ze,Te),$t.length>0||(Ot=new f.Q(1,1,ze.lineNumber,this.getLineMaxColumn(ze.lineNumber)),$t=this.findMatchesLineByLine(Ot,_t,Te,1),$t.length>0)?$t[0]:null}return bn.hB.findNextMatch(this,new bn.lt(B,Le,Pe,fe),ze,Te)}findPreviousMatch(B,re,Le,Pe,fe,Te){this._assertNotDisposed();const ze=this.validatePosition(re);return bn.hB.findPreviousMatch(this,new bn.lt(B,Le,Pe,fe),ze,Te)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(B){if(("\n"===this.getEOL()?0:1)!==B)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(B)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(B){return B instanceof p.Wo?B:new p.Wo(B.identifier||null,this.validateRange(B.range),B.text,B.forceMoveMarkers||!1,B.isAutoWhitespaceEdit||!1,B._isTracked||!1)}_validateEditOperations(B){const re=[];for(let Le=0,Pe=B.length;Le<Pe;Le++)re[Le]=this._validateEditOperation(B[Le]);return re}pushEditOperations(B,re,Le,Pe){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(B,this._validateEditOperations(re),Le,Pe)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(B,re,Le,Pe){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const fe=re.map(ze=>({range:this.validateRange(ze.range),text:ze.text}));let Te=!0;if(B)for(let ze=0,Xe=B.length;ze<Xe;ze++){const _t=B[ze];let It=!1;for(let Ot=0,$t=fe.length;Ot<$t;Ot++){const cn=fe[Ot].range;if(!(cn.startLineNumber>_t.endLineNumber||_t.startLineNumber>cn.endLineNumber)){It=!0;break}}if(!It){Te=!1;break}}if(Te)for(let ze=0,Xe=this._trimAutoWhitespaceLines.length;ze<Xe;ze++){const _t=this._trimAutoWhitespaceLines[ze],It=this.getLineMaxColumn(_t);let Ot=!0;for(let $t=0,cn=fe.length;$t<cn;$t++){const _n=fe[$t].range,vn=fe[$t].text;if(!(_t<_n.startLineNumber||_t>_n.endLineNumber||_t===_n.startLineNumber&&_n.startColumn===It&&_n.isEmpty()&&vn&&vn.length>0&&"\n"===vn.charAt(0)||_t===_n.startLineNumber&&1===_n.startColumn&&_n.isEmpty()&&vn&&vn.length>0&&"\n"===vn.charAt(vn.length-1))){Ot=!1;break}}if(Ot){const $t=new f.Q(_t,1,_t,It);re.push(new p.Wo(null,$t,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(B,re,Le,Pe)}_applyUndo(B,re,Le,Pe){const fe=B.map(Te=>{const ze=this.getPositionAt(Te.newPosition),Xe=this.getPositionAt(Te.newEnd);return{range:new f.Q(ze.lineNumber,ze.column,Xe.lineNumber,Xe.column),text:Te.oldText}});this._applyUndoRedoEdits(fe,re,!0,!1,Le,Pe)}_applyRedo(B,re,Le,Pe){const fe=B.map(Te=>{const ze=this.getPositionAt(Te.oldPosition),Xe=this.getPositionAt(Te.oldEnd);return{range:new f.Q(ze.lineNumber,ze.column,Xe.lineNumber,Xe.column),text:Te.newText}});this._applyUndoRedoEdits(fe,re,!1,!0,Le,Pe)}_applyUndoRedoEdits(B,re,Le,Pe,fe,Te){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=Le,this._isRedoing=Pe,this.applyEdits(B,!1),this.setEOL(re),this._overwriteAlternativeVersionId(fe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Te),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(B,re=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const Le=this._validateEditOperations(B);return this._doApplyEdits(Le,re)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(B,re){const Le=this._buffer.getLineCount(),Pe=this._buffer.applyEdits(B,this._options.trimAutoWhitespace,re),fe=this._buffer.getLineCount(),Te=Pe.changes;if(this._trimAutoWhitespaceLines=Pe.trimAutoWhitespaceLineNumbers,0!==Te.length){for(let _t=0,It=Te.length;_t<It;_t++){const Ot=Te[_t];this._decorationsTree.acceptReplace(Ot.rangeOffset,Ot.rangeLength,Ot.text.length,Ot.forceMoveMarkers)}const ze=[];this._increaseVersionId();let Xe=Le;for(let _t=0,It=Te.length;_t<It;_t++){const Ot=Te[_t],[$t]=(0,P.W)(Ot.text);this._onDidChangeDecorations.fire();const cn=Ot.range.startLineNumber,_n=Ot.range.endLineNumber,vn=_n-cn,Cn=$t,Gn=Math.min(vn,Cn),Yn=Cn-vn,Xn=fe-Xe-Yn+cn,Si=Xn+Cn,ji=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new _.y(Xn,1)),this.getOffsetAt(new _.y(Si,this.getLineMaxColumn(Si))),0),ui=li.uK.fromDecorations(ji),xi=new a.j3(ui);for(let Vn=Gn;Vn>=0;Vn--){const ri=cn+Vn,ki=Xn+Vn;xi.takeFromEndWhile(io=>io.lineNumber>ki);const go=xi.takeFromEndWhile(io=>io.lineNumber===ki);ze.push(new li.U0(ri,this.getLineContent(ki),go))}if(Gn<vn&&ze.push(new li.E$(cn+Gn+1,_n)),Gn<Cn){const Vn=new a.j3(ui),ri=cn+Gn,ki=Cn-Gn,go=fe-Xe-ki+ri+1,io=[],Wo=[];for(let No=0;No<ki;No++){const Jo=go+No;Wo[No]=this.getLineContent(Jo),Vn.takeWhile(ts=>ts.lineNumber<Jo),io[No]=Vn.takeWhile(ts=>ts.lineNumber===Jo)}ze.push(new li.bg(ri+1,cn+Cn,Wo,io))}Xe+=Yn}this._emitContentChangedEvent(new li.HP(ze,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Te,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===Pe.reverseEdits?void 0:Pe.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(B){if(null===B||0===B.size)return;const Le=Array.from(B).map(Pe=>new li.U0(Pe,this.getLineContent(Pe),this._getInjectedTextInLine(Pe)));this._onDidChangeInjectedText.fire(new li.vn(Le))}changeDecorations(B,re=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(re,B)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(B,re){const Le={addDecoration:(fe,Te)=>this._deltaDecorationsImpl(B,[],[{range:fe,options:Te}])[0],changeDecoration:(fe,Te)=>{this._changeDecorationImpl(fe,Te)},changeDecorationOptions:(fe,Te)=>{this._changeDecorationOptionsImpl(fe,vi(Te))},removeDecoration:fe=>{this._deltaDecorationsImpl(B,[fe],[])},deltaDecorations:(fe,Te)=>0===fe.length&&0===Te.length?[]:this._deltaDecorationsImpl(B,fe,Te)};let Pe=null;try{Pe=re(Le)}catch(fe){(0,w.dz)(fe)}return Le.addDecoration=Ri,Le.changeDecoration=Ri,Le.changeDecorationOptions=Ri,Le.removeDecoration=Ri,Le.deltaDecorations=Ri,Pe}deltaDecorations(B,re,Le=0){if(this._assertNotDisposed(),B||(B=[]),0===B.length&&0===re.length)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,w.dz)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(Le,B,re)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(B){return this.getDecorationRange(B)}_setTrackedRange(B,re,Le){const Pe=B?this._decorations[B]:null;if(!Pe)return re?this._deltaDecorationsImpl(0,[],[{range:re,options:Fi[Le]}],!0)[0]:null;if(!re)return this._decorationsTree.delete(Pe),delete this._decorations[Pe.id],null;const fe=this._validateRangeRelaxedNoAllocations(re),Te=this._buffer.getOffsetAt(fe.startLineNumber,fe.startColumn),ze=this._buffer.getOffsetAt(fe.endLineNumber,fe.endColumn);return this._decorationsTree.delete(Pe),Pe.reset(this.getVersionId(),Te,ze,fe),Pe.setOptions(Fi[Le]),this._decorationsTree.insert(Pe),Pe.id}removeAllDecorationsWithOwnerId(B){if(this._isDisposed)return;const re=this._decorationsTree.collectNodesFromOwner(B);for(let Le=0,Pe=re.length;Le<Pe;Le++){const fe=re[Le];this._decorationsTree.delete(fe),delete this._decorations[fe.id]}}getDecorationOptions(B){const re=this._decorations[B];return re?re.options:null}getDecorationRange(B){const re=this._decorations[B];return re?this._decorationsTree.getNodeRange(this,re):null}getLineDecorations(B,re=0,Le=!1){return B<1||B>this.getLineCount()?[]:this.getLinesDecorations(B,B,re,Le)}getLinesDecorations(B,re,Le=0,Pe=!1,fe=!1){const Te=this.getLineCount(),ze=Math.min(Te,Math.max(1,B)),Xe=Math.min(Te,Math.max(1,re)),_t=this.getLineMaxColumn(Xe),It=new f.Q(ze,1,Xe,_t),Ot=this._getDecorationsInRange(It,Le,Pe,fe);return(0,a.E4)(Ot,this._decorationProvider.getDecorationsInRange(It,Le,Pe)),Ot}getDecorationsInRange(B,re=0,Le=!1,Pe=!1,fe=!1){const Te=this.validateRange(B),ze=this._getDecorationsInRange(Te,re,Le,fe);return(0,a.E4)(ze,this._decorationProvider.getDecorationsInRange(Te,re,Le,Pe)),ze}getOverviewRulerDecorations(B=0,re=!1){return this._decorationsTree.getAll(this,B,re,!0,!1)}getInjectedTextDecorations(B=0){return this._decorationsTree.getAllInjectedText(this,B)}_getInjectedTextInLine(B){const re=this._buffer.getOffsetAt(B,1),Le=re+this._buffer.getLineLength(B),Pe=this._decorationsTree.getInjectedTextInInterval(this,re,Le,0);return li.uK.fromDecorations(Pe).filter(fe=>fe.lineNumber===B)}getAllDecorations(B=0,re=!1){let Le=this._decorationsTree.getAll(this,B,re,!1,!1);return Le=Le.concat(this._decorationProvider.getAllDecorations(B,re)),Le}getAllMarginDecorations(B=0){return this._decorationsTree.getAll(this,B,!1,!1,!0)}_getDecorationsInRange(B,re,Le,Pe){const fe=this._buffer.getOffsetAt(B.startLineNumber,B.startColumn),Te=this._buffer.getOffsetAt(B.endLineNumber,B.endColumn);return this._decorationsTree.getAllInInterval(this,fe,Te,re,Le,Pe)}getRangeAt(B,re){return this._buffer.getRangeAt(B,re-B)}_changeDecorationImpl(B,re){const Le=this._decorations[B];if(!Le)return;if(Le.options.after){const ze=this.getDecorationRange(B);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ze.endLineNumber)}if(Le.options.before){const ze=this.getDecorationRange(B);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ze.startLineNumber)}const Pe=this._validateRangeRelaxedNoAllocations(re),fe=this._buffer.getOffsetAt(Pe.startLineNumber,Pe.startColumn),Te=this._buffer.getOffsetAt(Pe.endLineNumber,Pe.endColumn);this._decorationsTree.delete(Le),Le.reset(this.getVersionId(),fe,Te,Pe),this._decorationsTree.insert(Le),this._onDidChangeDecorations.checkAffectedAndFire(Le.options),Le.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Pe.endLineNumber),Le.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Pe.startLineNumber)}_changeDecorationOptionsImpl(B,re){const Le=this._decorations[B];if(!Le)return;const Pe=!(!Le.options.overviewRuler||!Le.options.overviewRuler.color),fe=!(!re.overviewRuler||!re.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(Le.options),this._onDidChangeDecorations.checkAffectedAndFire(re),Le.options.after||re.after){const Xe=this._decorationsTree.getNodeRange(this,Le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Xe.endLineNumber)}if(Le.options.before||re.before){const Xe=this._decorationsTree.getNodeRange(this,Le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Xe.startLineNumber)}const Te=Pe!==fe,ze=function Dt(dn){return!!dn.after||!!dn.before}(re)!==nn(Le);Te||ze?(this._decorationsTree.delete(Le),Le.setOptions(re),this._decorationsTree.insert(Le)):Le.setOptions(re)}_deltaDecorationsImpl(B,re,Le,Pe=!1){const fe=this.getVersionId(),Te=re.length;let ze=0;const Xe=Le.length;let _t=0;this._onDidChangeDecorations.beginDeferredEmit();try{const It=new Array(Xe);for(;ze<Te||_t<Xe;){let Ot=null;if(ze<Te){do{Ot=this._decorations[re[ze++]]}while(!Ot&&ze<Te);if(Ot){if(Ot.options.after){const $t=this._decorationsTree.getNodeRange(this,Ot);this._onDidChangeDecorations.recordLineAffectedByInjectedText($t.endLineNumber)}if(Ot.options.before){const $t=this._decorationsTree.getNodeRange(this,Ot);this._onDidChangeDecorations.recordLineAffectedByInjectedText($t.startLineNumber)}this._decorationsTree.delete(Ot),Pe||this._onDidChangeDecorations.checkAffectedAndFire(Ot.options)}}if(_t<Xe){if(!Ot){const Gn=++this._lastDecorationId,Yn=`${this._instanceId};${Gn}`;Ot=new be(Yn,0,0),this._decorations[Yn]=Ot}const $t=Le[_t],cn=this._validateRangeRelaxedNoAllocations($t.range),_n=vi($t.options),vn=this._buffer.getOffsetAt(cn.startLineNumber,cn.startColumn),Cn=this._buffer.getOffsetAt(cn.endLineNumber,cn.endColumn);Ot.ownerId=B,Ot.reset(fe,vn,Cn,cn),Ot.setOptions(_n),Ot.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(cn.endLineNumber),Ot.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(cn.startLineNumber),Pe||this._onDidChangeDecorations.checkAffectedAndFire(_n),this._decorationsTree.insert(Ot),It[_t]=Ot.id,_t++}else Ot&&delete this._decorations[Ot.id]}return It}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(B,re){"string"==typeof B?(this._languageSelectionListener.clear(),this._setLanguage(B,re)):(this._languageSelectionListener.value=B.onDidChange(()=>this._setLanguage(B.languageId,re)),this._setLanguage(B.languageId,re))}_setLanguage(B,re){this.tokenization.setLanguageId(B,re),this._languageService.requestRichLanguageFeatures(B)}getLanguageIdAtPosition(B,re){return this.tokenization.getLanguageIdAtPosition(B,re)}getWordAtPosition(B){return this._tokenizationTextModelPart.getWordAtPosition(B)}getWordUntilPosition(B){return this._tokenizationTextModelPart.getWordUntilPosition(B)}normalizePosition(B,re){return B}getLineIndentColumn(B){return function yn(dn){let B=0;for(const re of dn){if(" "!==re&&"\t"!==re)break;B++}return B}(this.getLineContent(B))+1}};function Ue(dn){return!(!dn.options.overviewRuler||!dn.options.overviewRuler.color)}function nn(dn){return!!dn.options.after||!!dn.options.before}Ii._MODEL_SYNC_LIMIT=52428800,Ii.LARGE_FILE_SIZE_THRESHOLD=20971520,Ii.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,Ii.LARGE_FILE_HEAP_OPERATION_THRESHOLD=268435456,Ii.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:r.R.tabSize,indentSize:r.R.indentSize,insertSpaces:r.R.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:r.R.trimAutoWhitespace,largeFileOptimizations:r.R.largeFileOptimizations,bracketPairColorizationOptions:r.R.bracketPairColorizationOptions},Ii=At=function(dn,B,re,Le){var Te,Pe=arguments.length,fe=Pe<3?B:null===Le?Le=Object.getOwnPropertyDescriptor(B,re):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)fe=Reflect.decorate(dn,B,re,Le);else for(var ze=dn.length-1;ze>=0;ze--)(Te=dn[ze])&&(fe=(Pe<3?Te(fe):Pe>3?Te(B,re,fe):Te(B,re))||fe);return Pe>3&&fe&&Object.defineProperty(B,re,fe),fe}([Pi(4,$i.$D),Pi(5,l.L),Pi(6,g.JZ)],Ii);class pn{constructor(){this._decorationsTree0=new Ne,this._decorationsTree1=new Ne,this._injectedTextDecorationsTree=new Ne}ensureAllNodesHaveRanges(B){this.getAll(B,0,!1,!1,!1)}_ensureNodesHaveRanges(B,re){for(const Le of re)null===Le.range&&(Le.range=B.getRangeAt(Le.cachedAbsoluteStart,Le.cachedAbsoluteEnd));return re}getAllInInterval(B,re,Le,Pe,fe,Te){const ze=B.getVersionId(),Xe=this._intervalSearch(re,Le,Pe,fe,ze,Te);return this._ensureNodesHaveRanges(B,Xe)}_intervalSearch(B,re,Le,Pe,fe,Te){const ze=this._decorationsTree0.intervalSearch(B,re,Le,Pe,fe,Te),Xe=this._decorationsTree1.intervalSearch(B,re,Le,Pe,fe,Te),_t=this._injectedTextDecorationsTree.intervalSearch(B,re,Le,Pe,fe,Te);return ze.concat(Xe).concat(_t)}getInjectedTextInInterval(B,re,Le,Pe){const fe=B.getVersionId(),Te=this._injectedTextDecorationsTree.intervalSearch(re,Le,Pe,!1,fe,!1);return this._ensureNodesHaveRanges(B,Te).filter(ze=>ze.options.showIfCollapsed||!ze.range.isEmpty())}getAllInjectedText(B,re){const Le=B.getVersionId(),Pe=this._injectedTextDecorationsTree.search(re,!1,Le,!1);return this._ensureNodesHaveRanges(B,Pe).filter(fe=>fe.options.showIfCollapsed||!fe.range.isEmpty())}getAll(B,re,Le,Pe,fe){const Te=B.getVersionId(),ze=this._search(re,Le,Pe,Te,fe);return this._ensureNodesHaveRanges(B,ze)}_search(B,re,Le,Pe,fe){if(Le)return this._decorationsTree1.search(B,re,Pe,fe);{const Te=this._decorationsTree0.search(B,re,Pe,fe),ze=this._decorationsTree1.search(B,re,Pe,fe),Xe=this._injectedTextDecorationsTree.search(B,re,Pe,fe);return Te.concat(ze).concat(Xe)}}collectNodesFromOwner(B){const re=this._decorationsTree0.collectNodesFromOwner(B),Le=this._decorationsTree1.collectNodesFromOwner(B),Pe=this._injectedTextDecorationsTree.collectNodesFromOwner(B);return re.concat(Le).concat(Pe)}collectNodesPostOrder(){const B=this._decorationsTree0.collectNodesPostOrder(),re=this._decorationsTree1.collectNodesPostOrder(),Le=this._injectedTextDecorationsTree.collectNodesPostOrder();return B.concat(re).concat(Le)}insert(B){nn(B)?this._injectedTextDecorationsTree.insert(B):Ue(B)?this._decorationsTree1.insert(B):this._decorationsTree0.insert(B)}delete(B){nn(B)?this._injectedTextDecorationsTree.delete(B):Ue(B)?this._decorationsTree1.delete(B):this._decorationsTree0.delete(B)}getNodeRange(B,re){const Le=B.getVersionId();return re.cachedVersionId!==Le&&this._resolveNode(re,Le),null===re.range&&(re.range=B.getRangeAt(re.cachedAbsoluteStart,re.cachedAbsoluteEnd)),re.range}_resolveNode(B,re){nn(B)?this._injectedTextDecorationsTree.resolveNode(B,re):Ue(B)?this._decorationsTree1.resolveNode(B,re):this._decorationsTree0.resolveNode(B,re)}acceptReplace(B,re,Le,Pe){this._decorationsTree0.acceptReplace(B,re,Le,Pe),this._decorationsTree1.acceptReplace(B,re,Le,Pe),this._injectedTextDecorationsTree.acceptReplace(B,re,Le,Pe)}}function Zt(dn){return dn.replace(/[^a-z0-9\-_]/gi," ")}class xn{constructor(B){this.color=B.color||"",this.darkColor=B.darkColor||""}}class Jn extends xn{constructor(B){super(B),this._resolvedColor=null,this.position="number"==typeof B.position?B.position:p.A5.Center}getColor(B){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==B.type&&this.darkColor?this.darkColor:this.color,B)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(B,re){if("string"==typeof B)return B;const Le=B?re.getColor(B.id):null;return Le?Le.toString():""}}class pi{constructor(B){var re;this.position=null!==(re=B?.position)&&void 0!==re?re:p.ZS.Center,this.persistLane=B?.persistLane}}class Ti extends xn{constructor(B){var re,Le;super(B),this.position=B.position,this.sectionHeaderStyle=null!==(re=B.sectionHeaderStyle)&&void 0!==re?re:null,this.sectionHeaderText=null!==(Le=B.sectionHeaderText)&&void 0!==Le?Le:null}getColor(B){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==B.type&&this.darkColor?this.darkColor:this.color,B)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(B,re){return"string"==typeof B?F.Q1.fromHex(B):re.getColor(B.id)}}class Ni{static from(B){return B instanceof Ni?B:new Ni(B)}constructor(B){this.content=B.content||"",this.inlineClassName=B.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=B.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=B.attachedData||null,this.cursorStops=B.cursorStops||null}}class Li{static register(B){return new Li(B)}static createDynamic(B){return new Li(B)}constructor(B){var re,Le,Pe,fe,Te,ze;this.description=B.description,this.blockClassName=B.blockClassName?Zt(B.blockClassName):null,this.blockDoesNotCollapse=null!==(re=B.blockDoesNotCollapse)&&void 0!==re?re:null,this.blockIsAfterEnd=null!==(Le=B.blockIsAfterEnd)&&void 0!==Le?Le:null,this.blockPadding=null!==(Pe=B.blockPadding)&&void 0!==Pe?Pe:null,this.stickiness=B.stickiness||0,this.zIndex=B.zIndex||0,this.className=B.className?Zt(B.className):null,this.shouldFillLineOnLineBreak=null!==(fe=B.shouldFillLineOnLineBreak)&&void 0!==fe?fe:null,this.hoverMessage=B.hoverMessage||null,this.glyphMarginHoverMessage=B.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=B.lineNumberHoverMessage||null,this.isWholeLine=B.isWholeLine||!1,this.showIfCollapsed=B.showIfCollapsed||!1,this.collapseOnReplaceEdit=B.collapseOnReplaceEdit||!1,this.overviewRuler=B.overviewRuler?new Jn(B.overviewRuler):null,this.minimap=B.minimap?new Ti(B.minimap):null,this.glyphMargin=B.glyphMarginClassName?new pi(B.glyphMargin):null,this.glyphMarginClassName=B.glyphMarginClassName?Zt(B.glyphMarginClassName):null,this.linesDecorationsClassName=B.linesDecorationsClassName?Zt(B.linesDecorationsClassName):null,this.lineNumberClassName=B.lineNumberClassName?Zt(B.lineNumberClassName):null,this.linesDecorationsTooltip=B.linesDecorationsTooltip?S.jy(B.linesDecorationsTooltip):null,this.firstLineDecorationClassName=B.firstLineDecorationClassName?Zt(B.firstLineDecorationClassName):null,this.marginClassName=B.marginClassName?Zt(B.marginClassName):null,this.inlineClassName=B.inlineClassName?Zt(B.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=B.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=B.beforeContentClassName?Zt(B.beforeContentClassName):null,this.afterContentClassName=B.afterContentClassName?Zt(B.afterContentClassName):null,this.after=B.after?Ni.from(B.after):null,this.before=B.before?Ni.from(B.before):null,this.hideInCommentTokens=null!==(Te=B.hideInCommentTokens)&&void 0!==Te&&Te,this.hideInStringTokens=null!==(ze=B.hideInStringTokens)&&void 0!==ze&&ze}}Li.EMPTY=Li.register({description:"empty"});const Fi=[Li.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Li.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Li.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Li.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function vi(dn){return dn instanceof Li?dn:Li.createDynamic(dn)}class Gi extends C.jG{constructor(B){super(),this.handleBeforeFire=B,this._actual=this._register(new x.vl),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var B;this._deferredCnt--,0===this._deferredCnt&&(this._shouldFireDeferred&&this.doFire(),null===(B=this._affectedInjectedTextLines)||void 0===B||B.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(B){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(B)}checkAffectedAndFire(B){var re,Le;this._affectsMinimap||(this._affectsMinimap=!(null===(re=B.minimap)||void 0===re||!re.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(null===(Le=B.overviewRuler)||void 0===Le||!Le.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!B.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!B.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){0===this._deferredCnt?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const B={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(B)}}class Ui extends C.jG{constructor(){super(),this._fastEmitter=this._register(new x.vl),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new x.vl),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(B=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=B;const re=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(re),this._slowEmitter.fire(re)}}fire(B){this._deferredCnt>0?this._deferredEvent=this._deferredEvent?this._deferredEvent.merge(B):B:(this._fastEmitter.fire(B),this._slowEmitter.fire(B))}}class Mi{constructor(){this._onDidChangeVisibleRanges=new x.vl,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const B=new fo(re=>{this._onDidChangeVisibleRanges.fire({view:B,state:re})});return this._views.add(B),B}detachView(B){this._views.delete(B),this._onDidChangeVisibleRanges.fire({view:B,state:void 0})}}class fo{constructor(B){this.handleStateChange=B}setVisibleLines(B,re){const Le=B.map(Pe=>new v.M(Pe.startLineNumber,Pe.endLineNumber+1));this.handleStateChange({visibleLineRanges:Le,stabilized:re})}}},9592:(tt,xe,t)=>{t.d(xe,{_:()=>F});var a=t(99031);class F extends a.jG{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},73741:(tt,xe,t)=>{t.d(xe,{W5:()=>l,dr:()=>D,hB:()=>_,lt:()=>b,wC:()=>r});var a=t(6653),F=t(34181),w=t(13632),x=t(73678),C=t(63782);class b{constructor(p,m,T,A){this.searchString=p,this.isRegex=m,this.matchCase=T,this.wordSeparators=A}parseSearchRequest(){if(""===this.searchString)return null;let p;p=this.isRegex?function P(g){if(!g||0===g.length)return!1;for(let p=0,m=g.length;p<m;p++){const T=g.charCodeAt(p);if(10===T)return!0;if(92===T){if(p++,p>=m)break;const A=g.charCodeAt(p);if(110===A||114===A||87===A)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let m=null;try{m=a.OS(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:p,global:!0,unicode:!0})}catch{return null}if(!m)return null;let T=!this.isRegex&&!p;return T&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(T=this.matchCase),new C.L5(m,this.wordSeparators?(0,F.i)(this.wordSeparators,[]):null,T?this.searchString:null)}}function D(g,p,m){if(!m)return new C.Dg(g,null);const T=[];for(let A=0,k=p.length;A<k;A++)T[A]=p[A];return new C.Dg(g,T)}class v{constructor(p){const m=[];let T=0;for(let A=0,k=p.length;A<k;A++)10===p.charCodeAt(A)&&(m[T++]=A);this._lineFeedsOffsets=m}findLineFeedCountBeforeOffset(p){const m=this._lineFeedsOffsets;let T=0,A=m.length-1;if(-1===A||p<=m[0])return 0;for(;T<A;){const k=T+((A-T)/2|0);m[k]>=p?A=k-1:m[k+1]>=p?(T=k,A=k):T=k+1}return T+1}}class _{static findMatches(p,m,T,A,k){const O=m.parseSearchRequest();return O?O.regex.multiline?this._doFindMatchesMultiline(p,T,new l(O.wordSeparators,O.regex),A,k):this._doFindMatchesLineByLine(p,T,O,A,k):[]}static _getMultilineMatchRange(p,m,T,A,k,O){let N,L,H=0;if(A?(H=A.findLineFeedCountBeforeOffset(k),N=m+k+H):N=m+k,A){const X=A.findLineFeedCountBeforeOffset(k+O.length)-H;L=N+O.length+X}else L=N+O.length;const j=p.getPositionAt(N),Z=p.getPositionAt(L);return new x.Q(j.lineNumber,j.column,Z.lineNumber,Z.column)}static _doFindMatchesMultiline(p,m,T,A,k){const O=p.getOffsetAt(m.getStartPosition()),N=p.getValueInRange(m,1),H="\r\n"===p.getEOL()?new v(N):null,L=[];let Z,j=0;for(T.reset(0);Z=T.next(N);)if(L[j++]=D(this._getMultilineMatchRange(p,O,N,H,Z.index,Z[0]),Z,A),j>=k)return L;return L}static _doFindMatchesLineByLine(p,m,T,A,k){const O=[];let N=0;if(m.startLineNumber===m.endLineNumber){const L=p.getLineContent(m.startLineNumber).substring(m.startColumn-1,m.endColumn-1);return N=this._findMatchesInLine(T,L,m.startLineNumber,m.startColumn-1,N,O,A,k),O}const H=p.getLineContent(m.startLineNumber).substring(m.startColumn-1);N=this._findMatchesInLine(T,H,m.startLineNumber,m.startColumn-1,N,O,A,k);for(let L=m.startLineNumber+1;L<m.endLineNumber&&N<k;L++)N=this._findMatchesInLine(T,p.getLineContent(L),L,0,N,O,A,k);if(N<k){const L=p.getLineContent(m.endLineNumber).substring(0,m.endColumn-1);N=this._findMatchesInLine(T,L,m.endLineNumber,0,N,O,A,k)}return O}static _findMatchesInLine(p,m,T,A,k,O,N,H){const L=p.wordSeparators;if(!N&&p.simpleSearch){const te=p.simpleSearch,X=te.length,U=m.length;let q=-X;for(;-1!==(q=m.indexOf(te,q+X));)if((!L||r(L,m,U,q,X))&&(O[k++]=new C.Dg(new x.Q(T,q+1+A,T,q+1+X+A),null),k>=H))return k;return k}const j=new l(p.wordSeparators,p.regex);let Z;j.reset(0);do{if(Z=j.next(m),Z&&(O[k++]=D(new x.Q(T,Z.index+1+A,T,Z.index+1+Z[0].length+A),Z,N),k>=H))return k}while(Z);return k}static findNextMatch(p,m,T,A){const k=m.parseSearchRequest();if(!k)return null;const O=new l(k.wordSeparators,k.regex);return k.regex.multiline?this._doFindNextMatchMultiline(p,T,O,A):this._doFindNextMatchLineByLine(p,T,O,A)}static _doFindNextMatchMultiline(p,m,T,A){const k=new w.y(m.lineNumber,1),O=p.getOffsetAt(k),N=p.getLineCount(),H=p.getValueInRange(new x.Q(k.lineNumber,k.column,N,p.getLineMaxColumn(N)),1),L="\r\n"===p.getEOL()?new v(H):null;T.reset(m.column-1);const j=T.next(H);return j?D(this._getMultilineMatchRange(p,O,H,L,j.index,j[0]),j,A):1!==m.lineNumber||1!==m.column?this._doFindNextMatchMultiline(p,new w.y(1,1),T,A):null}static _doFindNextMatchLineByLine(p,m,T,A){const k=p.getLineCount(),O=m.lineNumber,N=p.getLineContent(O),H=this._findFirstMatchInLine(T,N,O,m.column,A);if(H)return H;for(let L=1;L<=k;L++){const j=(O+L-1)%k,Z=p.getLineContent(j+1),te=this._findFirstMatchInLine(T,Z,j+1,1,A);if(te)return te}return null}static _findFirstMatchInLine(p,m,T,A,k){p.reset(A-1);const O=p.next(m);return O?D(new x.Q(T,O.index+1,T,O.index+1+O[0].length),O,k):null}static findPreviousMatch(p,m,T,A){const k=m.parseSearchRequest();if(!k)return null;const O=new l(k.wordSeparators,k.regex);return k.regex.multiline?this._doFindPreviousMatchMultiline(p,T,O,A):this._doFindPreviousMatchLineByLine(p,T,O,A)}static _doFindPreviousMatchMultiline(p,m,T,A){const k=this._doFindMatchesMultiline(p,new x.Q(1,1,m.lineNumber,m.column),T,A,9990);if(k.length>0)return k[k.length-1];const O=p.getLineCount();return m.lineNumber!==O||m.column!==p.getLineMaxColumn(O)?this._doFindPreviousMatchMultiline(p,new w.y(O,p.getLineMaxColumn(O)),T,A):null}static _doFindPreviousMatchLineByLine(p,m,T,A){const k=p.getLineCount(),O=m.lineNumber,N=p.getLineContent(O).substring(0,m.column-1),H=this._findLastMatchInLine(T,N,O,A);if(H)return H;for(let L=1;L<=k;L++){const j=(k+O-L-1)%k,Z=p.getLineContent(j+1),te=this._findLastMatchInLine(T,Z,j+1,A);if(te)return te}return null}static _findLastMatchInLine(p,m,T,A){let O,k=null;for(p.reset(0);O=p.next(m);)k=D(new x.Q(T,O.index+1,T,O.index+1+O[0].length),O,A);return k}}function r(g,p,m,T,A){return function f(g,p,m,T,A){if(0===T)return!0;const k=p.charCodeAt(T-1);if(0!==g.get(k)||13===k||10===k)return!0;if(A>0){const O=p.charCodeAt(T);if(0!==g.get(O))return!0}return!1}(g,p,0,T,A)&&function d(g,p,m,T,A){if(T+A===m)return!0;const k=p.charCodeAt(T+A);if(0!==g.get(k)||13===k||10===k)return!0;if(A>0){const O=p.charCodeAt(T+A-1);if(0!==g.get(O))return!0}return!1}(g,p,m,T,A)}class l{constructor(p,m){this._wordSeparators=p,this._searchRegex=m,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(p){this._searchRegex.lastIndex=p,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(p){const m=p.length;let T;do{if(this._prevMatchStartIndex+this._prevMatchLength===m||(T=this._searchRegex.exec(p),!T))return null;const A=T.index,k=T[0].length;if(A===this._prevMatchStartIndex&&k===this._prevMatchLength){if(0===k){a.Z5(p,m,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=A,this._prevMatchLength=k,!this._wordSeparators||r(this._wordSeparators,p,m,A,k))return T}while(T);return null}}},53136:(tt,xe,t)=>{function a(F,w){let x=0,C=0;const S=F.length;for(;C<S;){const b=F.charCodeAt(C);if(32===b)x++;else{if(9!==b)break;x=x-x%w+w}C++}return C===S?-1:x}t.d(xe,{G:()=>a})},96484:(tt,xe,t)=>{t.d(xe,{r:()=>_});var a=t(21468),F=t(5643),w=t(79624),x=t(32417),C=t(13632),S=t(73678),b=t(14105),P=t(41489),D=t(42908);let v=(()=>{class f{static chord(r,l){return(0,w.m5)(r,l)}}return f.CtrlCmd=2048,f.Shift=1024,f.Alt=512,f.WinCtrl=256,f})();function _(){return{editor:void 0,languages:void 0,CancellationTokenSource:a.Qi,Emitter:F.vl,KeyCode:D.DD,KeyMod:v,Position:C.y,Range:S.Q,Selection:b.L,SelectionDirection:D.SB,MarkerSeverity:D.cj,MarkerTag:D.d_,Uri:x.r,Token:P.ou}}},34225:(tt,xe,t)=>{t.d(xe,{w:()=>F});const F=(0,t(598).u1)("editorWorkerService")},67539:(tt,xe,t)=>{t.d(xe,{U:()=>_});var a=t(55763),F=t(20053),w=t(45045),x=t(57558),C=t(56789),S=t(598),b=t(52152),P=t(75109),v=function(g,p){return function(m,T){p(m,T,g)}};const _=(0,S.u1)("ILanguageFeatureDebounceService");var f;!function(g){const p=new WeakMap;let m=0;g.of=function T(A){let k=p.get(A);return void 0===k&&(k=++m,p.set(A,k)),k}}(f||(f={}));class d{constructor(p){this._default=p}get(p){return this._default}update(p,m){return this._default}default(){return this._default}}class r{constructor(p,m,T,A,k,O){this._logService=p,this._name=m,this._registry=T,this._default=A,this._min=k,this._max=O,this._cache=new F.qK(50,.7)}_key(p){return p.id+this._registry.all(p).reduce((m,T)=>(0,a.sN)(f.of(T),m),0)}get(p){const m=this._key(p),T=this._cache.get(m);return T?(0,w.qE)(T.value,this._min,this._max):this.default()}update(p,m){const T=this._key(p);let A=this._cache.get(T);A||(A=new w.mu(6),this._cache.set(T,A));const k=(0,w.qE)(A.update(m),this._min,this._max);return(0,P.v$)(p.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${p.uri.toString()} is ${k}ms`),k}_overall(){const p=new w.Uq;for(const[,m]of this._cache)p.update(m.value);return p.value}default(){const p=0|this._overall()||this._default;return(0,w.qE)(p,this._min,this._max)}}let l=class{constructor(p,m){this._logService=p,this._data=new Map,this._isDev=m.isExtensionDevelopment||!m.isBuilt}for(p,m,T){var A,k,O;const N=null!==(A=T?.min)&&void 0!==A?A:50,H=null!==(k=T?.max)&&void 0!==k?k:N**2,L=null!==(O=T?.key)&&void 0!==O?O:void 0,j=`${f.of(p)},${N}${L?","+L:""}`;let Z=this._data.get(j);return Z||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${m}] is disabled in developed mode`),Z=new d(1.5*N)):Z=new r(this._logService,m,p,0|this._overallAverage()||1.5*N,N,H),this._data.set(j,Z)),Z}_overallAverage(){const p=new w.Uq;for(const m of this._data.values())p.update(m.default());return p.value}};l=function(g,p,m,T){var O,A=arguments.length,k=A<3?p:null===T?T=Object.getOwnPropertyDescriptor(p,m):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(g,p,m,T);else for(var N=g.length-1;N>=0;N--)(O=g[N])&&(k=(A<3?O(k):A>3?O(p,m,k):O(p,m))||k);return A>3&&k&&Object.defineProperty(p,m,k),k}([v(0,b.rr),v(1,x.k)],l),(0,C.v)(_,l,1)},15307:(tt,xe,t)=>{t.d(xe,{u:()=>F});const F=(0,t(598).u1)("ILanguageFeaturesService")},79313:(tt,xe,t)=>{t.d(xe,{A:()=>F});const F=(0,t(598).u1)("markerDecorationsService")},31925:(tt,xe,t)=>{t.d(xe,{S:()=>F});const F=(0,t(598).u1)("modelService")},35425:(tt,xe,t)=>{t.d(xe,{b:()=>F});const F=(0,t(598).u1)("textModelService")},7088:(tt,xe,t)=>{t.d(xe,{i:()=>d,b:()=>r});var a=t(21861),F=t(48187),w=t(52152),x=t(13632),C=t(73678),S=t(85583);class b{static create(m,T){return new b(m,new P(T))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(m,T){this._startLineNumber=m,this._tokens=T,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(m){return this._startLineNumber<=m&&m<=this._endLineNumber?this._tokens.getLineTokens(m-this._startLineNumber):null}getRange(){const m=this._tokens.getRange();return m&&new C.Q(this._startLineNumber+m.startLineNumber,m.startColumn,this._startLineNumber+m.endLineNumber,m.endColumn)}removeTokens(m){this._startLineNumber+=this._tokens.removeTokens(m.startLineNumber-this._startLineNumber,m.startColumn-1,m.endLineNumber-this._startLineNumber,m.endColumn-1),this._updateEndLineNumber()}split(m){const T=m.startLineNumber-this._startLineNumber,A=m.endLineNumber-this._startLineNumber,[k,O,N]=this._tokens.split(T,m.startColumn-1,A,m.endColumn-1);return[new b(this._startLineNumber,k),new b(this._startLineNumber+N,O)]}applyEdit(m,T){const[A,k,O]=(0,S.W)(T);this.acceptEdit(m,A,k,O,T.length>0?T.charCodeAt(0):0)}acceptEdit(m,T,A,k,O){this._acceptDeleteRange(m),this._acceptInsertText(new x.y(m.startLineNumber,m.startColumn),T,A,k,O),this._updateEndLineNumber()}_acceptDeleteRange(m){if(m.startLineNumber===m.endLineNumber&&m.startColumn===m.endColumn)return;const T=m.startLineNumber-this._startLineNumber,A=m.endLineNumber-this._startLineNumber;if(A<0)return void(this._startLineNumber-=A-T);const k=this._tokens.getMaxDeltaLine();if(!(T>=k+1)){if(T<0&&A>=k+1)return this._startLineNumber=0,void this._tokens.clear();T<0?(this._startLineNumber-=-T,this._tokens.acceptDeleteRange(m.startColumn-1,0,0,A,m.endColumn-1)):this._tokens.acceptDeleteRange(0,T,m.startColumn-1,A,m.endColumn-1)}}_acceptInsertText(m,T,A,k,O){if(0===T&&0===A)return;const N=m.lineNumber-this._startLineNumber;N<0?this._startLineNumber+=T:N>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(N,m.column-1,T,A,k,O)}}class P{constructor(m){this._tokens=m,this._tokenCount=m.length/4}toString(m){const T=[];for(let A=0;A<this._tokenCount;A++)T.push(`(${this._getDeltaLine(A)+m},${this._getStartCharacter(A)}-${this._getEndCharacter(A)})`);return`[${T.join(",")}]`}getMaxDeltaLine(){const m=this._getTokenCount();return 0===m?-1:this._getDeltaLine(m-1)}getRange(){const m=this._getTokenCount();if(0===m)return null;const T=this._getStartCharacter(0),A=this._getDeltaLine(m-1),k=this._getEndCharacter(m-1);return new C.Q(0,T+1,A,k+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(m){return this._tokens[4*m]}_getStartCharacter(m){return this._tokens[4*m+1]}_getEndCharacter(m){return this._tokens[4*m+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(m){let T=0,A=this._getTokenCount()-1;for(;T<A;){const k=T+Math.floor((A-T)/2),O=this._getDeltaLine(k);if(O<m)T=k+1;else{if(!(O>m)){let N=k;for(;N>T&&this._getDeltaLine(N-1)===m;)N--;let H=k;for(;H<A&&this._getDeltaLine(H+1)===m;)H++;return new D(this._tokens.subarray(4*N,4*H+4))}A=k-1}}return this._getDeltaLine(T)===m?new D(this._tokens.subarray(4*T,4*T+4)):null}clear(){this._tokenCount=0}removeTokens(m,T,A,k){const O=this._tokens,N=this._tokenCount;let H=0,L=!1,j=0;for(let Z=0;Z<N;Z++){const te=4*Z,X=O[te],U=O[te+1],q=O[te+2],R=O[te+3];if((X>m||X===m&&q>=T)&&(X<A||X===A&&U<=k))L=!0;else{if(0===H&&(j=X),L){const W=4*H;O[W]=X-j,O[W+1]=U,O[W+2]=q,O[W+3]=R}H++}}return this._tokenCount=H,j}split(m,T,A,k){const O=this._tokens,N=this._tokenCount,H=[],L=[];let j=H,Z=0,te=0;for(let X=0;X<N;X++){const U=4*X,q=O[U],R=O[U+1],W=O[U+2],Y=O[U+3];if(q>m||q===m&&W>=T){if(q<A||q===A&&R<=k)continue;j!==L&&(j=L,Z=0,te=q)}j[Z++]=q-te,j[Z++]=R,j[Z++]=W,j[Z++]=Y}return[new P(new Uint32Array(H)),new P(new Uint32Array(L)),te]}acceptDeleteRange(m,T,A,k,O){const N=this._tokens,H=this._tokenCount,L=k-T;let j=0,Z=!1;for(let te=0;te<H;te++){const X=4*te;let U=N[X],q=N[X+1],R=N[X+2];const W=N[X+3];if(U<T||U===T&&R<=A){j++;continue}if(U===T&&q<A)U===k&&R>O?R-=O-A:R=A;else if(U===T&&q===A){if(!(U===k&&R>O)){Z=!0;continue}R-=O-A}else if(U<k||U===k&&q<O){if(!(U===k&&R>O)){Z=!0;continue}U=T,q=A,R=q+(R-O)}else if(U>k){if(0===L&&!Z){j=H;break}U-=L}else{if(!(U===k&&q>=O))throw new Error("Not possible!");m&&0===U&&(q+=m,R+=m),U-=L,q-=O-A,R-=O-A}const Y=4*j;N[Y]=U,N[Y+1]=q,N[Y+2]=R,N[Y+3]=W,j++}this._tokenCount=j}acceptInsertText(m,T,A,k,O,N){const H=0===A&&1===k&&(N>=48&&N<=57||N>=65&&N<=90||N>=97&&N<=122),L=this._tokens,j=this._tokenCount;for(let Z=0;Z<j;Z++){const te=4*Z;let X=L[te],U=L[te+1],q=L[te+2];if(!(X<m||X===m&&q<T)){if(X===m&&q===T){if(!H)continue;q+=1}else if(X===m&&U<T&&T<q)0===A?q+=k:q=T;else{if(X===m&&U===T&&H)continue;if(X===m)if(X+=A,0===A)U+=k,q+=k;else{const R=q-U;U=O+(U-T),q=U+R}else X+=A}L[te]=X,L[te+1]=U,L[te+2]=q}}}}class D{constructor(m){this._tokens=m}getCount(){return this._tokens.length/4}getStartCharacter(m){return this._tokens[4*m+1]}getEndCharacter(m){return this._tokens[4*m+2]}getMetadata(m){return this._tokens[4*m+3]}}var v=t(385),f=function(p,m){return function(T,A){m(T,A,p)}};let d=class{constructor(m,T,A,k){this._legend=m,this._themeService=T,this._languageService=A,this._logService=k,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new g}getMetadata(m,T,A){const k=this._languageService.languageIdCodec.encodeLanguageId(A),O=this._hashTable.get(m,T,k);let N;if(O)N=O.metadata,this._logService.getLevel()===w.$b.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${m} / ${T}: foreground ${a.x.getForeground(N)}, fontStyle ${a.x.getFontStyle(N).toString(2)}`);else{let H=this._legend.tokenTypes[m];const L=[];if(H){let j=T;for(let te=0;j>0&&te<this._legend.tokenModifiers.length;te++)1&j&&L.push(this._legend.tokenModifiers[te]),j>>=1;j>0&&this._logService.getLevel()===w.$b.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${T.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),L.push("not-in-legend"));const Z=this._themeService.getColorTheme().getTokenStyleMetadata(H,L,A);typeof Z>"u"?N=2147483647:(N=0,typeof Z.italic<"u"&&(N|=1|(Z.italic?1:0)<<11),typeof Z.bold<"u"&&(N|=2|(Z.bold?2:0)<<11),typeof Z.underline<"u"&&(N|=4|(Z.underline?4:0)<<11),typeof Z.strikethrough<"u"&&(N|=8|(Z.strikethrough?8:0)<<11),Z.foreground&&(N|=16|Z.foreground<<15),0===N&&(N=2147483647))}else this._logService.getLevel()===w.$b.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${m} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),N=2147483647,H="not-in-legend";this._hashTable.add(m,T,k,N),this._logService.getLevel()===w.$b.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${m} (${H}) / ${T} (${L.join(" ")}): foreground ${a.x.getForeground(N)}, fontStyle ${a.x.getFontStyle(N).toString(2)}`)}return N}warnOverlappingSemanticTokens(m,T){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${m}, column ${T}`))}warnInvalidLengthSemanticTokens(m,T){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${m}, column ${T}`))}warnInvalidEditStart(m,T,A,k,O){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${m}, resultId: ${T}) at edit #${A}: The provided start offset ${k} is outside the previous data (length ${O}).`))}};function r(p,m,T){const A=p.data,k=p.data.length/5|0,O=Math.max(Math.ceil(k/1024),400),N=[];let H=0,L=1,j=0;for(;H<k;){const Z=H;let te=Math.min(Z+O,k);if(te<k){let oe=te;for(;oe-1>Z&&0===A[5*oe];)oe--;if(oe-1===Z){let z=te;for(;z+1<k&&0===A[5*z];)z++;te=z}else te=oe}let X=new Uint32Array(4*(te-Z)),U=0,q=0,R=0,W=0;for(;H<te;){const oe=5*H,z=A[oe],G=A[oe+1],Q=L+z|0,K=0===z?j+G|0:G,ae=K+A[oe+2]|0,de=A[oe+3],se=A[oe+4];if(ae<=K)m.warnInvalidLengthSemanticTokens(Q,K+1);else if(R===Q&&W>K)m.warnOverlappingSemanticTokens(Q,K+1);else{const ge=m.getMetadata(de,se,T);2147483647!==ge&&(0===q&&(q=Q),X[U]=Q-q,X[U+1]=K,X[U+2]=ae,X[U+3]=ge,U+=4,R=Q,W=ae)}L=Q,j=K,H++}U!==X.length&&(X=X.subarray(0,U));const Y=b.create(q,X);N.push(Y)}return N}d=function(p,m,T,A){var N,k=arguments.length,O=k<3?m:null===A?A=Object.getOwnPropertyDescriptor(m,T):A;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(p,m,T,A);else for(var H=p.length-1;H>=0;H--)(N=p[H])&&(O=(k<3?N(O):k>3?N(m,T,O):N(m,T))||O);return k>3&&O&&Object.defineProperty(m,T,O),O}([f(1,F.Gy),f(2,v.L),f(3,w.rr)],d);class l{constructor(m,T,A,k){this.tokenTypeIndex=m,this.tokenModifierSet=T,this.languageId=A,this.metadata=k,this.next=null}}let g=(()=>{class p{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=p._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<p._SIZES.length?2/3*this._currentLength:0),this._elements=[],p._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(T,A){for(let k=0;k<A;k++)T[k]=null}_hash2(T,A){return(T<<5)-T+A|0}_hashFunc(T,A,k){return this._hash2(this._hash2(T,A),k)%this._currentLength}get(T,A,k){const O=this._hashFunc(T,A,k);let N=this._elements[O];for(;N;){if(N.tokenTypeIndex===T&&N.tokenModifierSet===A&&N.languageId===k)return N;N=N.next}return null}add(T,A,k,O){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const N=this._elements;this._currentLengthIndex++,this._currentLength=p._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<p._SIZES.length?2/3*this._currentLength:0),this._elements=[],p._nullOutEntries(this._elements,this._currentLength);for(const H of N){let L=H;for(;L;){const j=L.next;L.next=null,this._add(L),L=j}}}this._add(new l(T,A,k,O))}_add(T){const A=this._hashFunc(T.tokenTypeIndex,T.tokenModifierSet,T.languageId);T.next=this._elements[A],this._elements[A]=T}}return p._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],p})()},35424:(tt,xe,t)=>{t.d(xe,{F:()=>F});const F=(0,t(598).u1)("semanticTokensStylingService")},51355:(tt,xe,t)=>{t.d(xe,{J:()=>w,U:()=>F});var a=t(598);const F=(0,a.u1)("textResourceConfigurationService"),w=(0,a.u1)("textResourcePropertiesService")},48752:(tt,xe,t)=>{t.d(xe,{P:()=>S});var a=t(73678),F=t(73741),w=t(6653),x=t(43929),C=t(50199);class S{static computeUnicodeHighlights(_,f,d){const r=d?d.startLineNumber:1,l=d?d.endLineNumber:_.getLineCount(),g=new P(f),p=g.getCandidateCodePoints();let m;m="allNonBasicAscii"===p?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp(`${function b(v,_){return`[${w.bm(v.map(d=>String.fromCodePoint(d)).join(""))}]`}(Array.from(p))}`,"g");const T=new F.W5(null,m),A=[];let O,k=!1,N=0,H=0,L=0;e:for(let j=r,Z=l;j<=Z;j++){const te=_.getLineContent(j),X=te.length;T.reset(0);do{if(O=T.next(te),O){let U=O.index,q=O.index+O[0].length;if(U>0){const oe=te.charCodeAt(U-1);w.pc(oe)&&U--}if(q+1<X){const oe=te.charCodeAt(q-1);w.pc(oe)&&q++}const R=te.substring(U,q);let W=(0,C.Th)(U+1,C.Ld,te,0);W&&W.endColumn<=U+1&&(W=null);const Y=g.shouldHighlightNonBasicASCII(R,W?W.word:null);if(0!==Y){if(3===Y?N++:2===Y?H++:1===Y?L++:(0,x.xb)(Y),A.length>=1e3){k=!0;break e}A.push(new a.Q(j,U+1,j,q+1))}}}while(O)}return{ranges:A,hasMore:k,ambiguousCharacterCount:N,invisibleCharacterCount:H,nonBasicAsciiCharacterCount:L}}static computeUnicodeHighlightReason(_,f){const d=new P(f);switch(d.shouldHighlightNonBasicASCII(_,null)){case 0:return null;case 2:return{kind:1};case 3:{const l=_.codePointAt(0),g=d.ambiguousCharacters.getPrimaryConfusable(l),p=w.tl.getLocales().filter(m=>!w.tl.getInstance(new Set([...f.allowedLocales,m])).isAmbiguous(l));return{kind:0,confusableWith:String.fromCodePoint(g),notAmbiguousInLocales:p}}case 1:return{kind:2}}}}class P{constructor(_){this.options=_,this.allowedCodePoints=new Set(_.allowedCodePoints),this.ambiguousCharacters=w.tl.getInstance(new Set(_.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const _=new Set;if(this.options.invisibleCharacters)for(const f of w.y_.codePoints)D(String.fromCodePoint(f))||_.add(f);if(this.options.ambiguousCharacters)for(const f of this.ambiguousCharacters.getConfusableCodePoints())_.add(f);for(const f of this.allowedCodePoints)_.delete(f);return _}shouldHighlightNonBasicASCII(_,f){const d=_.codePointAt(0);if(this.allowedCodePoints.has(d))return 0;if(this.options.nonBasicASCII)return 1;let r=!1,l=!1;if(f)for(const g of f){const p=g.codePointAt(0),m=w.aC(g);r=r||m,!m&&!this.ambiguousCharacters.isAmbiguous(p)&&!w.y_.isInvisibleCharacter(p)&&(l=!0)}return!r&&l?0:this.options.invisibleCharacters&&!D(_)&&w.y_.isInvisibleCharacter(d)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(d)?3:0}}function D(v){return" "===v||"\n"===v||"\t"===v}},60264:(tt,xe,t)=>{t.d(xe,{E6:()=>P,Hw:()=>w,YN:()=>F,gf:()=>C,n9:()=>S,oq:()=>x,tu:()=>D,vp:()=>b});var F,w,x,C,S,b,P,D,a=t(81644);(F||(F={})).inspectTokensAction=a.kg("inspectTokens","Developer: Inspect Tokens"),(w||(w={})).gotoLineActionLabel=a.kg("gotoLineActionLabel","Go to Line/Column..."),function(v){v.helpQuickAccessActionLabel=a.kg("helpQuickAccess","Show all Quick Access Providers")}(x||(x={})),function(v){v.quickCommandActionLabel=a.kg("quickCommandActionLabel","Command Palette"),v.quickCommandHelp=a.kg("quickCommandActionHelp","Show And Run Commands")}(C||(C={})),function(v){v.quickOutlineActionLabel=a.kg("quickOutlineActionLabel","Go to Symbol..."),v.quickOutlineByCategoryActionLabel=a.kg("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(S||(S={})),function(v){v.editorViewAccessibleLabel=a.kg("editorViewAccessibleLabel","Editor content"),v.accessibilityHelpMessage=a.kg("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(b||(b={})),function(v){v.toggleHighContrast=a.kg("toggleHighContrast","Toggle High Contrast Theme")}(P||(P={})),function(v){v.bulkEditServiceSummary=a.kg("bulkEditServiceSummary","Made {0} edits in {1} files")}(D||(D={}))},42908:(tt,xe,t)=>{t.d(xe,{A5:()=>q,Ah:()=>R,DD:()=>O,DO:()=>Y,Gn:()=>a,H_:()=>de,Ic:()=>W,Io:()=>x,Kb:()=>v,M$:()=>g,OV:()=>te,QP:()=>C,Qj:()=>b,R3:()=>L,SB:()=>Q,U7:()=>se,VW:()=>m,VX:()=>j,WA:()=>ie,WU:()=>r,XR:()=>G,YT:()=>X,ZS:()=>l,_E:()=>w,cj:()=>N,dE:()=>U,d_:()=>H,e0:()=>_,h5:()=>P,hS:()=>Z,hW:()=>oe,jT:()=>K,kK:()=>_e,kf:()=>d,l:()=>p,m9:()=>ge,of:()=>D,ok:()=>F,ov:()=>z,p2:()=>f,qw:()=>A,r4:()=>T,sm:()=>k,t7:()=>S,tJ:()=>ye,v0:()=>ae});var a=function(M){return M[M.Unknown=0]="Unknown",M[M.Disabled=1]="Disabled",M[M.Enabled=2]="Enabled",M}(a||{}),F=function(M){return M[M.Invoke=1]="Invoke",M[M.Auto=2]="Auto",M}(F||{}),w=function(M){return M[M.None=0]="None",M[M.KeepWhitespace=1]="KeepWhitespace",M[M.InsertAsSnippet=4]="InsertAsSnippet",M}(w||{}),x=function(M){return M[M.Method=0]="Method",M[M.Function=1]="Function",M[M.Constructor=2]="Constructor",M[M.Field=3]="Field",M[M.Variable=4]="Variable",M[M.Class=5]="Class",M[M.Struct=6]="Struct",M[M.Interface=7]="Interface",M[M.Module=8]="Module",M[M.Property=9]="Property",M[M.Event=10]="Event",M[M.Operator=11]="Operator",M[M.Unit=12]="Unit",M[M.Value=13]="Value",M[M.Constant=14]="Constant",M[M.Enum=15]="Enum",M[M.EnumMember=16]="EnumMember",M[M.Keyword=17]="Keyword",M[M.Text=18]="Text",M[M.Color=19]="Color",M[M.File=20]="File",M[M.Reference=21]="Reference",M[M.Customcolor=22]="Customcolor",M[M.Folder=23]="Folder",M[M.TypeParameter=24]="TypeParameter",M[M.User=25]="User",M[M.Issue=26]="Issue",M[M.Snippet=27]="Snippet",M}(x||{}),C=function(M){return M[M.Deprecated=1]="Deprecated",M}(C||{}),S=function(M){return M[M.Invoke=0]="Invoke",M[M.TriggerCharacter=1]="TriggerCharacter",M[M.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",M}(S||{}),b=function(M){return M[M.EXACT=0]="EXACT",M[M.ABOVE=1]="ABOVE",M[M.BELOW=2]="BELOW",M}(b||{}),P=function(M){return M[M.NotSet=0]="NotSet",M[M.ContentFlush=1]="ContentFlush",M[M.RecoverFromMarkers=2]="RecoverFromMarkers",M[M.Explicit=3]="Explicit",M[M.Paste=4]="Paste",M[M.Undo=5]="Undo",M[M.Redo=6]="Redo",M}(P||{}),D=function(M){return M[M.LF=1]="LF",M[M.CRLF=2]="CRLF",M}(D||{}),v=function(M){return M[M.Text=0]="Text",M[M.Read=1]="Read",M[M.Write=2]="Write",M}(v||{}),_=function(M){return M[M.None=0]="None",M[M.Keep=1]="Keep",M[M.Brackets=2]="Brackets",M[M.Advanced=3]="Advanced",M[M.Full=4]="Full",M}(_||{}),f=function(M){return M[M.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",M[M.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",M[M.accessibilitySupport=2]="accessibilitySupport",M[M.accessibilityPageSize=3]="accessibilityPageSize",M[M.ariaLabel=4]="ariaLabel",M[M.ariaRequired=5]="ariaRequired",M[M.autoClosingBrackets=6]="autoClosingBrackets",M[M.autoClosingComments=7]="autoClosingComments",M[M.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",M[M.autoClosingDelete=9]="autoClosingDelete",M[M.autoClosingOvertype=10]="autoClosingOvertype",M[M.autoClosingQuotes=11]="autoClosingQuotes",M[M.autoIndent=12]="autoIndent",M[M.automaticLayout=13]="automaticLayout",M[M.autoSurround=14]="autoSurround",M[M.bracketPairColorization=15]="bracketPairColorization",M[M.guides=16]="guides",M[M.codeLens=17]="codeLens",M[M.codeLensFontFamily=18]="codeLensFontFamily",M[M.codeLensFontSize=19]="codeLensFontSize",M[M.colorDecorators=20]="colorDecorators",M[M.colorDecoratorsLimit=21]="colorDecoratorsLimit",M[M.columnSelection=22]="columnSelection",M[M.comments=23]="comments",M[M.contextmenu=24]="contextmenu",M[M.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",M[M.cursorBlinking=26]="cursorBlinking",M[M.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",M[M.cursorStyle=28]="cursorStyle",M[M.cursorSurroundingLines=29]="cursorSurroundingLines",M[M.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",M[M.cursorWidth=31]="cursorWidth",M[M.disableLayerHinting=32]="disableLayerHinting",M[M.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",M[M.domReadOnly=34]="domReadOnly",M[M.dragAndDrop=35]="dragAndDrop",M[M.dropIntoEditor=36]="dropIntoEditor",M[M.emptySelectionClipboard=37]="emptySelectionClipboard",M[M.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",M[M.extraEditorClassName=39]="extraEditorClassName",M[M.fastScrollSensitivity=40]="fastScrollSensitivity",M[M.find=41]="find",M[M.fixedOverflowWidgets=42]="fixedOverflowWidgets",M[M.folding=43]="folding",M[M.foldingStrategy=44]="foldingStrategy",M[M.foldingHighlight=45]="foldingHighlight",M[M.foldingImportsByDefault=46]="foldingImportsByDefault",M[M.foldingMaximumRegions=47]="foldingMaximumRegions",M[M.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",M[M.fontFamily=49]="fontFamily",M[M.fontInfo=50]="fontInfo",M[M.fontLigatures=51]="fontLigatures",M[M.fontSize=52]="fontSize",M[M.fontWeight=53]="fontWeight",M[M.fontVariations=54]="fontVariations",M[M.formatOnPaste=55]="formatOnPaste",M[M.formatOnType=56]="formatOnType",M[M.glyphMargin=57]="glyphMargin",M[M.gotoLocation=58]="gotoLocation",M[M.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",M[M.hover=60]="hover",M[M.inDiffEditor=61]="inDiffEditor",M[M.inlineSuggest=62]="inlineSuggest",M[M.inlineEdit=63]="inlineEdit",M[M.letterSpacing=64]="letterSpacing",M[M.lightbulb=65]="lightbulb",M[M.lineDecorationsWidth=66]="lineDecorationsWidth",M[M.lineHeight=67]="lineHeight",M[M.lineNumbers=68]="lineNumbers",M[M.lineNumbersMinChars=69]="lineNumbersMinChars",M[M.linkedEditing=70]="linkedEditing",M[M.links=71]="links",M[M.matchBrackets=72]="matchBrackets",M[M.minimap=73]="minimap",M[M.mouseStyle=74]="mouseStyle",M[M.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",M[M.mouseWheelZoom=76]="mouseWheelZoom",M[M.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",M[M.multiCursorModifier=78]="multiCursorModifier",M[M.multiCursorPaste=79]="multiCursorPaste",M[M.multiCursorLimit=80]="multiCursorLimit",M[M.occurrencesHighlight=81]="occurrencesHighlight",M[M.overviewRulerBorder=82]="overviewRulerBorder",M[M.overviewRulerLanes=83]="overviewRulerLanes",M[M.padding=84]="padding",M[M.pasteAs=85]="pasteAs",M[M.parameterHints=86]="parameterHints",M[M.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",M[M.definitionLinkOpensInPeek=88]="definitionLinkOpensInPeek",M[M.quickSuggestions=89]="quickSuggestions",M[M.quickSuggestionsDelay=90]="quickSuggestionsDelay",M[M.readOnly=91]="readOnly",M[M.readOnlyMessage=92]="readOnlyMessage",M[M.renameOnType=93]="renameOnType",M[M.renderControlCharacters=94]="renderControlCharacters",M[M.renderFinalNewline=95]="renderFinalNewline",M[M.renderLineHighlight=96]="renderLineHighlight",M[M.renderLineHighlightOnlyWhenFocus=97]="renderLineHighlightOnlyWhenFocus",M[M.renderValidationDecorations=98]="renderValidationDecorations",M[M.renderWhitespace=99]="renderWhitespace",M[M.revealHorizontalRightPadding=100]="revealHorizontalRightPadding",M[M.roundedSelection=101]="roundedSelection",M[M.rulers=102]="rulers",M[M.scrollbar=103]="scrollbar",M[M.scrollBeyondLastColumn=104]="scrollBeyondLastColumn",M[M.scrollBeyondLastLine=105]="scrollBeyondLastLine",M[M.scrollPredominantAxis=106]="scrollPredominantAxis",M[M.selectionClipboard=107]="selectionClipboard",M[M.selectionHighlight=108]="selectionHighlight",M[M.selectOnLineNumbers=109]="selectOnLineNumbers",M[M.showFoldingControls=110]="showFoldingControls",M[M.showUnused=111]="showUnused",M[M.snippetSuggestions=112]="snippetSuggestions",M[M.smartSelect=113]="smartSelect",M[M.smoothScrolling=114]="smoothScrolling",M[M.stickyScroll=115]="stickyScroll",M[M.stickyTabStops=116]="stickyTabStops",M[M.stopRenderingLineAfter=117]="stopRenderingLineAfter",M[M.suggest=118]="suggest",M[M.suggestFontSize=119]="suggestFontSize",M[M.suggestLineHeight=120]="suggestLineHeight",M[M.suggestOnTriggerCharacters=121]="suggestOnTriggerCharacters",M[M.suggestSelection=122]="suggestSelection",M[M.tabCompletion=123]="tabCompletion",M[M.tabIndex=124]="tabIndex",M[M.unicodeHighlighting=125]="unicodeHighlighting",M[M.unusualLineTerminators=126]="unusualLineTerminators",M[M.useShadowDOM=127]="useShadowDOM",M[M.useTabStops=128]="useTabStops",M[M.wordBreak=129]="wordBreak",M[M.wordSegmenterLocales=130]="wordSegmenterLocales",M[M.wordSeparators=131]="wordSeparators",M[M.wordWrap=132]="wordWrap",M[M.wordWrapBreakAfterCharacters=133]="wordWrapBreakAfterCharacters",M[M.wordWrapBreakBeforeCharacters=134]="wordWrapBreakBeforeCharacters",M[M.wordWrapColumn=135]="wordWrapColumn",M[M.wordWrapOverride1=136]="wordWrapOverride1",M[M.wordWrapOverride2=137]="wordWrapOverride2",M[M.wrappingIndent=138]="wrappingIndent",M[M.wrappingStrategy=139]="wrappingStrategy",M[M.showDeprecated=140]="showDeprecated",M[M.inlayHints=141]="inlayHints",M[M.editorClassName=142]="editorClassName",M[M.pixelRatio=143]="pixelRatio",M[M.tabFocusMode=144]="tabFocusMode",M[M.layoutInfo=145]="layoutInfo",M[M.wrappingInfo=146]="wrappingInfo",M[M.defaultColorDecorators=147]="defaultColorDecorators",M[M.colorDecoratorsActivatedOn=148]="colorDecoratorsActivatedOn",M[M.inlineCompletionsAccessibilityVerbose=149]="inlineCompletionsAccessibilityVerbose",M}(f||{}),d=function(M){return M[M.TextDefined=0]="TextDefined",M[M.LF=1]="LF",M[M.CRLF=2]="CRLF",M}(d||{}),r=function(M){return M[M.LF=0]="LF",M[M.CRLF=1]="CRLF",M}(r||{}),l=function(M){return M[M.Left=1]="Left",M[M.Center=2]="Center",M[M.Right=3]="Right",M}(l||{}),g=function(M){return M[M.Increase=0]="Increase",M[M.Decrease=1]="Decrease",M}(g||{}),p=function(M){return M[M.None=0]="None",M[M.Indent=1]="Indent",M[M.IndentOutdent=2]="IndentOutdent",M[M.Outdent=3]="Outdent",M}(p||{}),m=function(M){return M[M.Both=0]="Both",M[M.Right=1]="Right",M[M.Left=2]="Left",M[M.None=3]="None",M}(m||{}),T=function(M){return M[M.Type=1]="Type",M[M.Parameter=2]="Parameter",M}(T||{}),A=function(M){return M[M.Automatic=0]="Automatic",M[M.Explicit=1]="Explicit",M}(A||{}),k=function(M){return M[M.Invoke=0]="Invoke",M[M.Automatic=1]="Automatic",M}(k||{}),O=function(M){return M[M.DependsOnKbLayout=-1]="DependsOnKbLayout",M[M.Unknown=0]="Unknown",M[M.Backspace=1]="Backspace",M[M.Tab=2]="Tab",M[M.Enter=3]="Enter",M[M.Shift=4]="Shift",M[M.Ctrl=5]="Ctrl",M[M.Alt=6]="Alt",M[M.PauseBreak=7]="PauseBreak",M[M.CapsLock=8]="CapsLock",M[M.Escape=9]="Escape",M[M.Space=10]="Space",M[M.PageUp=11]="PageUp",M[M.PageDown=12]="PageDown",M[M.End=13]="End",M[M.Home=14]="Home",M[M.LeftArrow=15]="LeftArrow",M[M.UpArrow=16]="UpArrow",M[M.RightArrow=17]="RightArrow",M[M.DownArrow=18]="DownArrow",M[M.Insert=19]="Insert",M[M.Delete=20]="Delete",M[M.Digit0=21]="Digit0",M[M.Digit1=22]="Digit1",M[M.Digit2=23]="Digit2",M[M.Digit3=24]="Digit3",M[M.Digit4=25]="Digit4",M[M.Digit5=26]="Digit5",M[M.Digit6=27]="Digit6",M[M.Digit7=28]="Digit7",M[M.Digit8=29]="Digit8",M[M.Digit9=30]="Digit9",M[M.KeyA=31]="KeyA",M[M.KeyB=32]="KeyB",M[M.KeyC=33]="KeyC",M[M.KeyD=34]="KeyD",M[M.KeyE=35]="KeyE",M[M.KeyF=36]="KeyF",M[M.KeyG=37]="KeyG",M[M.KeyH=38]="KeyH",M[M.KeyI=39]="KeyI",M[M.KeyJ=40]="KeyJ",M[M.KeyK=41]="KeyK",M[M.KeyL=42]="KeyL",M[M.KeyM=43]="KeyM",M[M.KeyN=44]="KeyN",M[M.KeyO=45]="KeyO",M[M.KeyP=46]="KeyP",M[M.KeyQ=47]="KeyQ",M[M.KeyR=48]="KeyR",M[M.KeyS=49]="KeyS",M[M.KeyT=50]="KeyT",M[M.KeyU=51]="KeyU",M[M.KeyV=52]="KeyV",M[M.KeyW=53]="KeyW",M[M.KeyX=54]="KeyX",M[M.KeyY=55]="KeyY",M[M.KeyZ=56]="KeyZ",M[M.Meta=57]="Meta",M[M.ContextMenu=58]="ContextMenu",M[M.F1=59]="F1",M[M.F2=60]="F2",M[M.F3=61]="F3",M[M.F4=62]="F4",M[M.F5=63]="F5",M[M.F6=64]="F6",M[M.F7=65]="F7",M[M.F8=66]="F8",M[M.F9=67]="F9",M[M.F10=68]="F10",M[M.F11=69]="F11",M[M.F12=70]="F12",M[M.F13=71]="F13",M[M.F14=72]="F14",M[M.F15=73]="F15",M[M.F16=74]="F16",M[M.F17=75]="F17",M[M.F18=76]="F18",M[M.F19=77]="F19",M[M.F20=78]="F20",M[M.F21=79]="F21",M[M.F22=80]="F22",M[M.F23=81]="F23",M[M.F24=82]="F24",M[M.NumLock=83]="NumLock",M[M.ScrollLock=84]="ScrollLock",M[M.Semicolon=85]="Semicolon",M[M.Equal=86]="Equal",M[M.Comma=87]="Comma",M[M.Minus=88]="Minus",M[M.Period=89]="Period",M[M.Slash=90]="Slash",M[M.Backquote=91]="Backquote",M[M.BracketLeft=92]="BracketLeft",M[M.Backslash=93]="Backslash",M[M.BracketRight=94]="BracketRight",M[M.Quote=95]="Quote",M[M.OEM_8=96]="OEM_8",M[M.IntlBackslash=97]="IntlBackslash",M[M.Numpad0=98]="Numpad0",M[M.Numpad1=99]="Numpad1",M[M.Numpad2=100]="Numpad2",M[M.Numpad3=101]="Numpad3",M[M.Numpad4=102]="Numpad4",M[M.Numpad5=103]="Numpad5",M[M.Numpad6=104]="Numpad6",M[M.Numpad7=105]="Numpad7",M[M.Numpad8=106]="Numpad8",M[M.Numpad9=107]="Numpad9",M[M.NumpadMultiply=108]="NumpadMultiply",M[M.NumpadAdd=109]="NumpadAdd",M[M.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",M[M.NumpadSubtract=111]="NumpadSubtract",M[M.NumpadDecimal=112]="NumpadDecimal",M[M.NumpadDivide=113]="NumpadDivide",M[M.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",M[M.ABNT_C1=115]="ABNT_C1",M[M.ABNT_C2=116]="ABNT_C2",M[M.AudioVolumeMute=117]="AudioVolumeMute",M[M.AudioVolumeUp=118]="AudioVolumeUp",M[M.AudioVolumeDown=119]="AudioVolumeDown",M[M.BrowserSearch=120]="BrowserSearch",M[M.BrowserHome=121]="BrowserHome",M[M.BrowserBack=122]="BrowserBack",M[M.BrowserForward=123]="BrowserForward",M[M.MediaTrackNext=124]="MediaTrackNext",M[M.MediaTrackPrevious=125]="MediaTrackPrevious",M[M.MediaStop=126]="MediaStop",M[M.MediaPlayPause=127]="MediaPlayPause",M[M.LaunchMediaPlayer=128]="LaunchMediaPlayer",M[M.LaunchMail=129]="LaunchMail",M[M.LaunchApp2=130]="LaunchApp2",M[M.Clear=131]="Clear",M[M.MAX_VALUE=132]="MAX_VALUE",M}(O||{}),N=function(M){return M[M.Hint=1]="Hint",M[M.Info=2]="Info",M[M.Warning=4]="Warning",M[M.Error=8]="Error",M}(N||{}),H=function(M){return M[M.Unnecessary=1]="Unnecessary",M[M.Deprecated=2]="Deprecated",M}(H||{}),L=function(M){return M[M.Inline=1]="Inline",M[M.Gutter=2]="Gutter",M}(L||{}),j=function(M){return M[M.Normal=1]="Normal",M[M.Underlined=2]="Underlined",M}(j||{}),Z=function(M){return M[M.UNKNOWN=0]="UNKNOWN",M[M.TEXTAREA=1]="TEXTAREA",M[M.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",M[M.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",M[M.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",M[M.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",M[M.CONTENT_TEXT=6]="CONTENT_TEXT",M[M.CONTENT_EMPTY=7]="CONTENT_EMPTY",M[M.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",M[M.CONTENT_WIDGET=9]="CONTENT_WIDGET",M[M.OVERVIEW_RULER=10]="OVERVIEW_RULER",M[M.SCROLLBAR=11]="SCROLLBAR",M[M.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",M[M.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",M}(Z||{}),te=function(M){return M[M.AIGenerated=1]="AIGenerated",M}(te||{}),X=function(M){return M[M.Invoke=0]="Invoke",M[M.Automatic=1]="Automatic",M}(X||{}),U=function(M){return M[M.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",M[M.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",M[M.TOP_CENTER=2]="TOP_CENTER",M}(U||{}),q=function(M){return M[M.Left=1]="Left",M[M.Center=2]="Center",M[M.Right=4]="Right",M[M.Full=7]="Full",M}(q||{}),R=function(M){return M[M.Word=0]="Word",M[M.Line=1]="Line",M[M.Suggest=2]="Suggest",M}(R||{}),W=function(M){return M[M.Left=0]="Left",M[M.Right=1]="Right",M[M.None=2]="None",M[M.LeftOfInjectedText=3]="LeftOfInjectedText",M[M.RightOfInjectedText=4]="RightOfInjectedText",M}(W||{}),Y=function(M){return M[M.Off=0]="Off",M[M.On=1]="On",M[M.Relative=2]="Relative",M[M.Interval=3]="Interval",M[M.Custom=4]="Custom",M}(Y||{}),oe=function(M){return M[M.None=0]="None",M[M.Text=1]="Text",M[M.Blocks=2]="Blocks",M}(oe||{}),z=function(M){return M[M.Smooth=0]="Smooth",M[M.Immediate=1]="Immediate",M}(z||{}),G=function(M){return M[M.Auto=1]="Auto",M[M.Hidden=2]="Hidden",M[M.Visible=3]="Visible",M}(G||{}),Q=function(M){return M[M.LTR=0]="LTR",M[M.RTL=1]="RTL",M}(Q||{}),K=function(M){return M.Off="off",M.OnCode="onCode",M.On="on",M}(K||{}),ie=function(M){return M[M.Invoke=1]="Invoke",M[M.TriggerCharacter=2]="TriggerCharacter",M[M.ContentChange=3]="ContentChange",M}(ie||{}),ae=function(M){return M[M.File=0]="File",M[M.Module=1]="Module",M[M.Namespace=2]="Namespace",M[M.Package=3]="Package",M[M.Class=4]="Class",M[M.Method=5]="Method",M[M.Property=6]="Property",M[M.Field=7]="Field",M[M.Constructor=8]="Constructor",M[M.Enum=9]="Enum",M[M.Interface=10]="Interface",M[M.Function=11]="Function",M[M.Variable=12]="Variable",M[M.Constant=13]="Constant",M[M.String=14]="String",M[M.Number=15]="Number",M[M.Boolean=16]="Boolean",M[M.Array=17]="Array",M[M.Object=18]="Object",M[M.Key=19]="Key",M[M.Null=20]="Null",M[M.EnumMember=21]="EnumMember",M[M.Struct=22]="Struct",M[M.Event=23]="Event",M[M.Operator=24]="Operator",M[M.TypeParameter=25]="TypeParameter",M}(ae||{}),de=function(M){return M[M.Deprecated=1]="Deprecated",M}(de||{}),se=function(M){return M[M.Hidden=0]="Hidden",M[M.Blink=1]="Blink",M[M.Smooth=2]="Smooth",M[M.Phase=3]="Phase",M[M.Expand=4]="Expand",M[M.Solid=5]="Solid",M}(se||{}),ge=function(M){return M[M.Line=1]="Line",M[M.Block=2]="Block",M[M.Underline=3]="Underline",M[M.LineThin=4]="LineThin",M[M.BlockOutline=5]="BlockOutline",M[M.UnderlineThin=6]="UnderlineThin",M}(ge||{}),_e=function(M){return M[M.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",M[M.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",M[M.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",M[M.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",M}(_e||{}),ye=function(M){return M[M.None=0]="None",M[M.Same=1]="Same",M[M.Indent=2]="Indent",M[M.DeepIndent=3]="DeepIndent",M}(ye||{})},69382:(tt,xe,t)=>{t.d(xe,{E$:()=>x,HP:()=>b,Ic:()=>D,U0:()=>w,Wn:()=>a,bg:()=>C,mS:()=>S,uK:()=>F,vn:()=>P});class a{constructor(){this.changeType=1}}class F{static applyInjectedText(_,f){if(!f||0===f.length)return _;let d="",r=0;for(const l of f)d+=_.substring(r,l.column-1),r=l.column-1,d+=l.options.content;return d+=_.substring(r),d}static fromDecorations(_){const f=[];for(const d of _)d.options.before&&d.options.before.content.length>0&&f.push(new F(d.ownerId,d.range.startLineNumber,d.range.startColumn,d.options.before,0)),d.options.after&&d.options.after.content.length>0&&f.push(new F(d.ownerId,d.range.endLineNumber,d.range.endColumn,d.options.after,1));return f.sort((d,r)=>d.lineNumber===r.lineNumber?d.column===r.column?d.order-r.order:d.column-r.column:d.lineNumber-r.lineNumber),f}constructor(_,f,d,r,l){this.ownerId=_,this.lineNumber=f,this.column=d,this.options=r,this.order=l}}class w{constructor(_,f,d){this.changeType=2,this.lineNumber=_,this.detail=f,this.injectedText=d}}class x{constructor(_,f){this.changeType=3,this.fromLineNumber=_,this.toLineNumber=f}}class C{constructor(_,f,d,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=_,this.toLineNumber=f,this.detail=d}}class S{constructor(){this.changeType=5}}class b{constructor(_,f,d,r){this.changes=_,this.versionId=f,this.isUndoing=d,this.isRedoing=r,this.resultingSelection=null}containsEvent(_){for(let f=0,d=this.changes.length;f<d;f++)if(this.changes[f].changeType===_)return!0;return!1}static merge(_,f){const d=[].concat(_.changes).concat(f.changes);return new b(d,f.versionId,_.isUndoing||f.isUndoing,_.isRedoing||f.isRedoing)}}class P{constructor(_){this.changes=_}}class D{constructor(_,f){this.rawContentChangedEvent=_,this.contentChangedEvent=f}merge(_){const f=b.merge(this.rawContentChangedEvent,_.rawContentChangedEvent),d=D._mergeChangeEvents(this.contentChangedEvent,_.contentChangedEvent);return new D(f,d)}static _mergeChangeEvents(_,f){return{changes:[].concat(_.changes).concat(f.changes),eol:f.eol,isEolChange:_.isEolChange&&f.isEolChange,versionId:f.versionId,isUndoing:_.isUndoing||f.isUndoing,isRedoing:_.isRedoing||f.isRedoing,isFlush:_.isFlush||f.isFlush}}}},97078:(tt,xe,t)=>{t.d(xe,{N6:()=>a,TH:()=>F,pv:()=>w});var a=function(x){return x[x.Disabled=0]="Disabled",x[x.EnabledForActive=1]="EnabledForActive",x[x.Enabled=2]="Enabled",x}(a||{});class F{constructor(C,S,b,P,D,v){if(this.visibleColumn=C,this.column=S,this.className=b,this.horizontalLine=P,this.forWrappedLinesAfterColumn=D,this.forWrappedLinesBeforeOrAtColumn=v,-1!==C==(-1!==S))throw new Error}}class w{constructor(C,S){this.top=C,this.endColumn=S}}},33480:(tt,xe,t)=>{t.d(xe,{T:()=>x,f:()=>F});var a=t(21861);let F=(()=>{class C{static createEmpty(b,P){const D=C.defaultTokenMetadata,v=new Uint32Array(2);return v[0]=b.length,v[1]=D,new C(v,b,P)}static createFromTextAndMetadata(b,P){let D=0,v="";const _=new Array;for(const{text:f,metadata:d}of b)_.push(D+f.length,d),D+=f.length,v+=f;return new C(new Uint32Array(_),v,P)}constructor(b,P,D){this._lineTokensBrand=void 0,this._tokens=b,this._tokensCount=this._tokens.length>>>1,this._text=P,this.languageIdCodec=D}equals(b){return b instanceof C&&this.slicedEquals(b,0,this._tokensCount)}slicedEquals(b,P,D){if(this._text!==b._text||this._tokensCount!==b._tokensCount)return!1;const v=P<<1,_=v+(D<<1);for(let f=v;f<_;f++)if(this._tokens[f]!==b._tokens[f])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(b){return b>0?this._tokens[b-1<<1]:0}getMetadata(b){return this._tokens[1+(b<<1)]}getLanguageId(b){const D=a.x.getLanguageId(this._tokens[1+(b<<1)]);return this.languageIdCodec.decodeLanguageId(D)}getStandardTokenType(b){return a.x.getTokenType(this._tokens[1+(b<<1)])}getForeground(b){return a.x.getForeground(this._tokens[1+(b<<1)])}getClassName(b){return a.x.getClassNameFromMetadata(this._tokens[1+(b<<1)])}getInlineStyle(b,P){return a.x.getInlineStyleFromMetadata(this._tokens[1+(b<<1)],P)}getPresentation(b){return a.x.getPresentationFromMetadata(this._tokens[1+(b<<1)])}getEndOffset(b){return this._tokens[b<<1]}findTokenIndexAtOffset(b){return C.findIndexInTokensArray(this._tokens,b)}inflate(){return this}sliceAndInflate(b,P,D){return new w(this,b,P,D)}static convertToEndOffset(b,P){const v=(b.length>>>1)-1;for(let _=0;_<v;_++)b[_<<1]=b[_+1<<1];b[v<<1]=P}static findIndexInTokensArray(b,P){if(b.length<=2)return 0;let D=0,v=(b.length>>>1)-1;for(;D<v;){const _=D+Math.floor((v-D)/2),f=b[_<<1];if(f===P)return _+1;f<P?D=_+1:f>P&&(v=_)}return D}withInserted(b){if(0===b.length)return this;let P=0,D=0,v="";const _=new Array;let f=0;for(;;){const d=P<this._tokensCount?this._tokens[P<<1]:-1,r=D<b.length?b[D]:null;if(-1!==d&&(null===r||d<=r.offset))v+=this._text.substring(f,d),_.push(v.length,this._tokens[1+(P<<1)]),P++,f=d;else{if(!r)break;r.offset>f&&(v+=this._text.substring(f,r.offset),_.push(v.length,this._tokens[1+(P<<1)]),f=r.offset),v+=r.text,_.push(v.length,r.tokenMetadata),D++}}return new C(new Uint32Array(_),v,this.languageIdCodec)}getTokenText(b){const P=this.getStartOffset(b),D=this.getEndOffset(b);return this._text.substring(P,D)}forEach(b){const P=this.getCount();for(let D=0;D<P;D++)b(D)}}return C.defaultTokenMetadata=33587200,C})();class w{constructor(S,b,P,D){this._source=S,this._startOffset=b,this._endOffset=P,this._deltaOffset=D,this._firstTokenIndex=S.findTokenIndexAtOffset(b),this.languageIdCodec=S.languageIdCodec,this._tokensCount=0;for(let v=this._firstTokenIndex,_=S.getCount();v<_&&!(S.getStartOffset(v)>=P);v++)this._tokensCount++}getMetadata(S){return this._source.getMetadata(this._firstTokenIndex+S)}getLanguageId(S){return this._source.getLanguageId(this._firstTokenIndex+S)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(S){return S instanceof w&&this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getStandardTokenType(S){return this._source.getStandardTokenType(this._firstTokenIndex+S)}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const b=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,b)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,b){return this._source.getInlineStyle(this._firstTokenIndex+S,b)}getPresentation(S){return this._source.getPresentation(this._firstTokenIndex+S)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(S){const b=this._firstTokenIndex+S,P=this._source.getStartOffset(b),D=this._source.getEndOffset(b);let v=this._source.getTokenText(b);return P<this._startOffset&&(v=v.substring(this._startOffset-P)),D>this._endOffset&&(v=v.substring(0,v.length-(D-this._endOffset))),v}forEach(S){for(let b=0;b<this.getCount();b++)S(b)}}function x(C,S){const b=S.lineNumber;if(!C.tokenization.isCheapToTokenize(b))return;C.tokenization.forceTokenization(b);const P=C.tokenization.getLineTokens(b),D=P.findTokenIndexAtOffset(S.column-1);return P.getStandardTokenType(D)}},86162:(tt,xe,t)=>{t.d(xe,{Bs:()=>C,d:()=>F});var a=t(6653);class F{constructor(b,P,D,v){this.startColumn=b,this.endColumn=P,this.className=D,this.type=v,this._lineDecorationBrand=void 0}static _equals(b,P){return b.startColumn===P.startColumn&&b.endColumn===P.endColumn&&b.className===P.className&&b.type===P.type}static equalsArr(b,P){const D=b.length;if(D!==P.length)return!1;for(let _=0;_<D;_++)if(!F._equals(b[_],P[_]))return!1;return!0}static extractWrapped(b,P,D){if(0===b.length)return b;const v=P+1,_=D+1,f=D-P,d=[];let r=0;for(const l of b)l.endColumn<=v||l.startColumn>=_||(d[r++]=new F(Math.max(1,l.startColumn-v+1),Math.min(f+1,l.endColumn-v+1),l.className,l.type));return d}static filter(b,P,D,v){if(0===b.length)return[];const _=[];let f=0;for(let d=0,r=b.length;d<r;d++){const l=b[d],g=l.range;g.endLineNumber<P||g.startLineNumber>P||g.isEmpty()&&(0===l.type||3===l.type)||(_[f++]=new F(g.startLineNumber===P?g.startColumn:D,g.endLineNumber===P?g.endColumn:v,l.inlineClassName,l.type))}return _}static _typeCompare(b,P){const D=[2,0,1,3];return D[b]-D[P]}static compare(b,P){if(b.startColumn!==P.startColumn)return b.startColumn-P.startColumn;if(b.endColumn!==P.endColumn)return b.endColumn-P.endColumn;const D=F._typeCompare(b.type,P.type);return 0!==D?D:b.className!==P.className?b.className<P.className?-1:1:0}}class w{constructor(b,P,D,v){this.startOffset=b,this.endOffset=P,this.className=D,this.metadata=v}}class x{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(b){let P=0;for(let D=0,v=b.length;D<v;D++)P|=b[D];return P}consumeLowerThan(b,P,D){for(;this.count>0&&this.stopOffsets[0]<b;){let v=0;for(;v+1<this.count&&this.stopOffsets[v]===this.stopOffsets[v+1];)v++;D.push(new w(P,this.stopOffsets[v],this.classNames.join(" "),x._metadata(this.metadata))),P=this.stopOffsets[v]+1,this.stopOffsets.splice(0,v+1),this.classNames.splice(0,v+1),this.metadata.splice(0,v+1),this.count-=v+1}return this.count>0&&P<b&&(D.push(new w(P,b-1,this.classNames.join(" "),x._metadata(this.metadata))),P=b),P}insert(b,P,D){if(0===this.count||this.stopOffsets[this.count-1]<=b)this.stopOffsets.push(b),this.classNames.push(P),this.metadata.push(D);else for(let v=0;v<this.count;v++)if(this.stopOffsets[v]>=b){this.stopOffsets.splice(v,0,b),this.classNames.splice(v,0,P),this.metadata.splice(v,0,D);break}this.count++}}class C{static normalize(b,P){if(0===P.length)return[];const D=[],v=new x;let _=0;for(let f=0,d=P.length;f<d;f++){const r=P[f];let l=r.startColumn,g=r.endColumn;const p=r.className,m=1===r.type?2:2===r.type?4:0;if(l>1){const k=b.charCodeAt(l-2);a.pc(k)&&l--}if(g>1){const k=b.charCodeAt(g-2);a.pc(k)&&g--}const T=l-1,A=g-2;_=v.consumeLowerThan(T,_,D),0===v.count&&(_=T),v.insert(A,p,m)}return v.consumeLowerThan(1073741824,_,D),D}}},38993:(tt,xe,t)=>{t.d(xe,{wZ:()=>P,MT:()=>S,zL:()=>b,UW:()=>_,Md:()=>d});var a=t(81644),F=t(6653),w=t(10139),x=t(86162);class C{constructor(j,Z,te,X){this.endIndex=j,this.type=Z,this.metadata=te,this.containsRTL=X,this._linePartBrand=void 0}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class S{constructor(j,Z){this.startOffset=j,this.endOffset=Z}equals(j){return this.startOffset===j.startOffset&&this.endOffset===j.endOffset}}class b{constructor(j,Z,te,X,U,q,R,W,Y,oe,z,G,Q,K,ie,ae,de,se,ge){this.useMonospaceOptimizations=j,this.canUseHalfwidthRightwardsArrow=Z,this.lineContent=te,this.continuesWithWrappedLine=X,this.isBasicASCII=U,this.containsRTL=q,this.fauxIndentLength=R,this.lineTokens=W,this.lineDecorations=Y.sort(x.d.compare),this.tabSize=oe,this.startVisibleColumn=z,this.spaceWidth=G,this.stopRenderingLineAfter=ie,this.renderWhitespace="all"===ae?4:"boundary"===ae?1:"selection"===ae?2:"trailing"===ae?3:0,this.renderControlCharacters=de,this.fontLigatures=se,this.selectionsOnLine=ge&&ge.sort((M,ce)=>M.startOffset<ce.startOffset?-1:1),Math.abs(K-G)<Math.abs(Q-G)?(this.renderSpaceWidth=K,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=Q,this.renderSpaceCharCode=183)}sameSelection(j){if(null===this.selectionsOnLine)return null===j;if(null===j||j.length!==this.selectionsOnLine.length)return!1;for(let Z=0;Z<this.selectionsOnLine.length;Z++)if(!this.selectionsOnLine[Z].equals(j[Z]))return!1;return!0}equals(j){return this.useMonospaceOptimizations===j.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===j.canUseHalfwidthRightwardsArrow&&this.lineContent===j.lineContent&&this.continuesWithWrappedLine===j.continuesWithWrappedLine&&this.isBasicASCII===j.isBasicASCII&&this.containsRTL===j.containsRTL&&this.fauxIndentLength===j.fauxIndentLength&&this.tabSize===j.tabSize&&this.startVisibleColumn===j.startVisibleColumn&&this.spaceWidth===j.spaceWidth&&this.renderSpaceWidth===j.renderSpaceWidth&&this.renderSpaceCharCode===j.renderSpaceCharCode&&this.stopRenderingLineAfter===j.stopRenderingLineAfter&&this.renderWhitespace===j.renderWhitespace&&this.renderControlCharacters===j.renderControlCharacters&&this.fontLigatures===j.fontLigatures&&x.d.equalsArr(this.lineDecorations,j.lineDecorations)&&this.lineTokens.equals(j.lineTokens)&&this.sameSelection(j.selectionsOnLine)}}class P{constructor(j,Z){this.partIndex=j,this.charIndex=Z}}class D{static getPartIndex(j){return(4294901760&j)>>>16}static getCharIndex(j){return(65535&j)>>>0}constructor(j,Z){this.length=j,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(j,Z,te,X){this._data[j-1]=(Z<<16|te)>>>0,this._horizontalOffset[j-1]=X}getHorizontalOffset(j){return 0===this._horizontalOffset.length?0:this._horizontalOffset[j-1]}charOffsetToPartData(j){return 0===this.length?0:j<0?this._data[0]:j>=this.length?this._data[this.length-1]:this._data[j]}getDomPosition(j){const Z=this.charOffsetToPartData(j-1),te=D.getPartIndex(Z),X=D.getCharIndex(Z);return new P(te,X)}getColumn(j,Z){return this.partDataToCharOffset(j.partIndex,Z,j.charIndex)+1}partDataToCharOffset(j,Z,te){if(0===this.length)return 0;const X=(j<<16|te)>>>0;let U=0,q=this.length-1;for(;U+1<q;){const ie=U+q>>>1,ae=this._data[ie];if(ae===X)return ie;ae>X?q=ie:U=ie}if(U===q)return U;const R=this._data[U],W=this._data[q];if(R===X)return U;if(W===X)return q;const Y=D.getPartIndex(R),oe=D.getCharIndex(R);let G;return G=Y!==D.getPartIndex(W)?Z:D.getCharIndex(W),te-oe<=G-te?U:q}}class v{constructor(j,Z,te){this._renderLineOutputBrand=void 0,this.characterMapping=j,this.containsRTL=Z,this.containsForeignElements=te}}function _(L,j){if(0===L.lineContent.length){if(L.lineDecorations.length>0){j.appendString("<span>");let Z=0,te=0,X=0;for(const q of L.lineDecorations)(1===q.type||2===q.type)&&(j.appendString('<span class="'),j.appendString(q.className),j.appendString('"></span>'),1===q.type&&(X|=1,Z++),2===q.type&&(X|=2,te++));j.appendString("</span>");const U=new D(1,Z+te);return U.setColumnInfo(1,Z,0,0),new v(U,!1,X)}return j.appendString("<span><span></span></span>"),new v(new D(0,0),!1,0)}return function O(L,j){const Z=L.fontIsMonospace,te=L.canUseHalfwidthRightwardsArrow,X=L.containsForeignElements,U=L.lineContent,q=L.len,R=L.isOverflowing,W=L.overflowingCharCount,Y=L.parts,oe=L.fauxIndentLength,z=L.tabSize,G=L.startVisibleColumn,Q=L.containsRTL,K=L.spaceWidth,ie=L.renderSpaceCharCode,ae=L.renderWhitespace,de=L.renderControlCharacters,se=new D(q+1,Y.length);let ge=!1,_e=0,ye=G,M=0,ce=0,Se=0;j.appendString(Q?'<span dir="ltr">':"<span>");for(let Ie=0,ne=Y.length;Ie<ne;Ie++){const ue=Y[Ie],we=ue.endIndex,Me=ue.type,Ve=ue.containsRTL,$e=0!==ae&&ue.isWhitespace(),it=$e&&!Z&&("mtkw"===Me||!X),He=_e===we&&ue.isPseudoAfter();if(M=0,j.appendString("<span "),Ve&&j.appendString('style="unicode-bidi:isolate" '),j.appendString('class="'),j.appendString(it?"mtkz":Me),j.appendASCIICharCode(34),$e){let me=0;{let le=_e,Ee=ye;for(;le<we;le++){const Ce=0|(9===U.charCodeAt(le)?z-Ee%z:1);me+=Ce,le>=oe&&(Ee+=Ce)}}for(it&&(j.appendString(' style="width:'),j.appendString(String(K*me)),j.appendString('px"')),j.appendASCIICharCode(62);_e<we;_e++){let Ee,be;if(se.setColumnInfo(_e+1,Ie-Se,M,ce),Se=0,9===U.charCodeAt(_e)){Ee=z-ye%z|0,be=Ee,j.appendCharCode(!te||be>1?8594:65515);for(let Ce=2;Ce<=be;Ce++)j.appendCharCode(160)}else Ee=2,be=1,j.appendCharCode(ie),j.appendCharCode(8204);M+=Ee,ce+=be,_e>=oe&&(ye+=be)}}else for(j.appendASCIICharCode(62);_e<we;_e++){se.setColumnInfo(_e+1,Ie-Se,M,ce),Se=0;const me=U.charCodeAt(_e);let le=1,Ee=1;switch(me){case 9:le=z-ye%z,Ee=le;for(let be=1;be<=le;be++)j.appendCharCode(160);break;case 32:j.appendCharCode(160);break;case 60:j.appendString("&lt;");break;case 62:j.appendString("&gt;");break;case 38:j.appendString("&amp;");break;case 0:de?j.appendCharCode(9216):j.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:j.appendCharCode(65533);break;default:F.ne(me)&&Ee++,de&&me<32?j.appendCharCode(9216+me):de&&127===me?j.appendCharCode(9249):de&&m(me)?(j.appendString("[U+"),j.appendString(N(me)),j.appendString("]"),le=8,Ee=le):j.appendCharCode(me)}M+=le,ce+=Ee,_e>=oe&&(ye+=Ee)}He?Se++:Se=0,_e>=q&&!ge&&ue.isPseudoAfter()&&(ge=!0,se.setColumnInfo(_e+1,Ie,M,ce)),j.appendString("</span>")}return ge||se.setColumnInfo(q+1,Y.length-1,M,ce),R&&(j.appendString('<span class="mtkoverflow">'),j.appendString(a.kg("showMore","Show more ({0})",function H(L){return L<1024?a.kg("overflow.chars","{0} chars",L):L<1048576?`${(L/1024).toFixed(1)} KB`:`${(L/1024/1024).toFixed(1)} MB`}(W))),j.appendString("</span>")),j.appendString("</span>"),new v(se,Q,X)}(function l(L){const j=L.lineContent;let Z,te,X;-1!==L.stopRenderingLineAfter&&L.stopRenderingLineAfter<j.length?(Z=!0,te=j.length-L.stopRenderingLineAfter,X=L.stopRenderingLineAfter):(Z=!1,te=0,X=j.length);let U=function g(L,j,Z,te,X){const U=[];let q=0;te>0&&(U[q++]=new C(te,"",0,!1));let R=te;for(let W=0,Y=Z.getCount();W<Y;W++){const oe=Z.getEndOffset(W);if(oe<=te)continue;const z=Z.getClassName(W);if(oe>=X){const Q=!!j&&F.E_(L.substring(R,X));U[q++]=new C(X,z,0,Q);break}const G=!!j&&F.E_(L.substring(R,oe));U[q++]=new C(oe,z,0,G),R=oe}return U}(j,L.containsRTL,L.lineTokens,L.fauxIndentLength,X);L.renderControlCharacters&&!L.isBasicASCII&&(U=function T(L,j){const Z=[];let te=new C(0,"",0,!1),X=0;for(const U of j){const q=U.endIndex;for(;X<q;X++)m(L.charCodeAt(X))&&(X>te.endIndex&&(te=new C(X,U.type,U.metadata,U.containsRTL),Z.push(te)),te=new C(X+1,"mtkcontrol",U.metadata,!1),Z.push(te));X>te.endIndex&&(te=new C(q,U.type,U.metadata,U.containsRTL),Z.push(te))}return Z}(j,U)),(4===L.renderWhitespace||1===L.renderWhitespace||2===L.renderWhitespace&&L.selectionsOnLine||3===L.renderWhitespace&&!L.continuesWithWrappedLine)&&(U=function A(L,j,Z,te){const X=L.continuesWithWrappedLine,U=L.fauxIndentLength,q=L.tabSize,R=L.startVisibleColumn,W=L.useMonospaceOptimizations,Y=L.selectionsOnLine,oe=1===L.renderWhitespace,z=3===L.renderWhitespace,G=L.renderSpaceWidth!==L.spaceWidth,Q=[];let K=0,ie=0,ae=te[ie].type,de=te[ie].containsRTL,se=te[ie].endIndex;const ge=te.length;let M,_e=!1,ye=F.HG(j);-1===ye?(_e=!0,ye=Z,M=Z):M=F.lT(j);let ce=!1,Se=0,Ie=Y&&Y[Se],ne=R%q;for(let we=U;we<Z;we++){const Me=j.charCodeAt(we);let Ve;if(Ie&&we>=Ie.endOffset&&(Se++,Ie=Y&&Y[Se]),we<ye||we>M)Ve=!0;else if(9===Me)Ve=!0;else if(32===Me)if(oe)if(ce)Ve=!0;else{const $e=we+1<Z?j.charCodeAt(we+1):0;Ve=32===$e||9===$e}else Ve=!0;else Ve=!1;if(Ve&&Y&&(Ve=!!Ie&&Ie.startOffset<=we&&Ie.endOffset>we),Ve&&z&&(Ve=_e||we>M),Ve&&de&&we>=ye&&we<=M&&(Ve=!1),ce){if(!Ve||!W&&ne>=q){if(G)for(let it=(K>0?Q[K-1].endIndex:U)+1;it<=we;it++)Q[K++]=new C(it,"mtkw",1,!1);else Q[K++]=new C(we,"mtkw",1,!1);ne%=q}}else(we===se||Ve&&we>U)&&(Q[K++]=new C(we,ae,0,de),ne%=q);for(9===Me?ne=q:F.ne(Me)?ne+=2:ne++,ce=Ve;we===se&&(ie++,ie<ge);)ae=te[ie].type,de=te[ie].containsRTL,se=te[ie].endIndex}let ue=!1;if(ce)if(X&&oe){const we=Z>0?j.charCodeAt(Z-1):0,Me=Z>1?j.charCodeAt(Z-2):0;32===we&&32!==Me&&9!==Me||(ue=!0)}else ue=!0;if(ue)if(G)for(let Me=(K>0?Q[K-1].endIndex:U)+1;Me<=Z;Me++)Q[K++]=new C(Me,"mtkw",1,!1);else Q[K++]=new C(Z,"mtkw",1,!1);else Q[K++]=new C(Z,ae,0,de);return Q}(L,j,X,U));let q=0;if(L.lineDecorations.length>0){for(let R=0,W=L.lineDecorations.length;R<W;R++){const Y=L.lineDecorations[R];3===Y.type||1===Y.type?q|=1:2===Y.type&&(q|=2)}U=function k(L,j,Z,te){te.sort(x.d.compare);const X=x.Bs.normalize(L,te),U=X.length;let q=0;const R=[];let W=0,Y=0;for(let z=0,G=Z.length;z<G;z++){const Q=Z[z],K=Q.endIndex,ie=Q.type,ae=Q.metadata,de=Q.containsRTL;for(;q<U&&X[q].startOffset<K;){const se=X[q];if(se.startOffset>Y&&(Y=se.startOffset,R[W++]=new C(Y,ie,ae,de)),!(se.endOffset+1<=K)){Y=K,R[W++]=new C(Y,ie+" "+se.className,ae|se.metadata,de);break}Y=se.endOffset+1,R[W++]=new C(Y,ie+" "+se.className,ae|se.metadata,de),q++}K>Y&&(Y=K,R[W++]=new C(Y,ie,ae,de))}const oe=Z[Z.length-1].endIndex;if(q<U&&X[q].startOffset===oe)for(;q<U&&X[q].startOffset===oe;){const z=X[q];R[W++]=new C(Y,z.className,z.metadata,!1),q++}return R}(j,0,U,L.lineDecorations)}return L.containsRTL||(U=function p(L,j,Z){let te=0;const X=[];let U=0;if(Z)for(let q=0,R=j.length;q<R;q++){const W=j[q],Y=W.endIndex;if(te+50<Y){const oe=W.type,z=W.metadata,G=W.containsRTL;let Q=-1,K=te;for(let ie=te;ie<Y;ie++)32===L.charCodeAt(ie)&&(Q=ie),-1!==Q&&ie-K>=50&&(X[U++]=new C(Q+1,oe,z,G),K=Q+1,Q=-1);K!==Y&&(X[U++]=new C(Y,oe,z,G))}else X[U++]=W;te=Y}else for(let q=0,R=j.length;q<R;q++){const W=j[q],Y=W.endIndex,oe=Y-te;if(oe>50){const z=W.type,G=W.metadata,Q=W.containsRTL,K=Math.ceil(oe/50);for(let ie=1;ie<K;ie++)X[U++]=new C(te+50*ie,z,G,Q);X[U++]=new C(Y,z,G,Q)}else X[U++]=W;te=Y}return X}(j,U,!L.isBasicASCII||L.fontLigatures)),new r(L.useMonospaceOptimizations,L.canUseHalfwidthRightwardsArrow,j,X,Z,te,U,q,L.fauxIndentLength,L.tabSize,L.startVisibleColumn,L.containsRTL,L.spaceWidth,L.renderSpaceCharCode,L.renderWhitespace,L.renderControlCharacters)}(L),j)}class f{constructor(j,Z,te,X){this.characterMapping=j,this.html=Z,this.containsRTL=te,this.containsForeignElements=X}}function d(L){const j=new w.fe(1e4),Z=_(L,j);return new f(Z.characterMapping,j.build(),Z.containsRTL,Z.containsForeignElements)}class r{constructor(j,Z,te,X,U,q,R,W,Y,oe,z,G,Q,K,ie,ae){this.fontIsMonospace=j,this.canUseHalfwidthRightwardsArrow=Z,this.lineContent=te,this.len=X,this.isOverflowing=U,this.overflowingCharCount=q,this.parts=R,this.containsForeignElements=W,this.fauxIndentLength=Y,this.tabSize=oe,this.startVisibleColumn=z,this.containsRTL=G,this.spaceWidth=Q,this.renderSpaceCharCode=K,this.renderWhitespace=ie,this.renderControlCharacters=ae}}function m(L){return L<32?9!==L:127===L||L>=8234&&L<=8238||L>=8294&&L<=8297||L>=8206&&L<=8207||1564===L}function N(L){return L.toString(16).toUpperCase().padStart(4,"0")}},1905:(tt,xe,t)=>{t.d(xe,{GP:()=>S,LM:()=>x,Uv:()=>_,kI:()=>P,nt:()=>C,or:()=>D,qL:()=>b,vo:()=>v});var a=t(30833),F=t(6653),w=t(73678);class x{constructor(d,r,l,g){this._viewportBrand=void 0,this.top=0|d,this.left=0|r,this.width=0|l,this.height=0|g}}class C{constructor(d,r){this.tabSize=d,this.data=r}}class S{constructor(d,r,l,g,p,m,T){this._viewLineDataBrand=void 0,this.content=d,this.continuesWithWrappedLine=r,this.minColumn=l,this.maxColumn=g,this.startVisibleColumn=p,this.tokens=m,this.inlineDecorations=T}}class b{constructor(d,r,l,g,p,m,T,A,k,O){this.minColumn=d,this.maxColumn=r,this.content=l,this.continuesWithWrappedLine=g,this.isBasicASCII=b.isBasicASCII(l,m),this.containsRTL=b.containsRTL(l,this.isBasicASCII,p),this.tokens=T,this.inlineDecorations=A,this.tabSize=k,this.startVisibleColumn=O}static isBasicASCII(d,r){return!r||F.aC(d)}static containsRTL(d,r,l){return!(r||!l)&&F.E_(d)}}class P{constructor(d,r,l){this.range=d,this.inlineClassName=r,this.type=l}}class D{constructor(d,r,l,g){this.startOffset=d,this.endOffset=r,this.inlineClassName=l,this.inlineClassNameAffectsLetterSpacing=g}toInlineDecoration(d){return new P(new w.Q(d,this.startOffset+1,d,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class v{constructor(d,r){this._viewModelDecorationBrand=void 0,this.range=d,this.options=r}}class _{constructor(d,r,l){this.color=d,this.zIndex=r,this.data=l}static compareByRenderingProps(d,r){return d.zIndex===r.zIndex?d.color<r.color?-1:d.color>r.color?1:0:d.zIndex-r.zIndex}static equals(d,r){return d.color===r.color&&d.zIndex===r.zIndex&&a.aI(d.data,r.data)}static equalsArr(d,r){return a.aI(d,r,_.equals)}}},56642:(tt,xe,t)=>{t.d(xe,{iE:()=>F,rW:()=>w});class a{constructor(C,S,b){this._colorZoneBrand=void 0,this.from=0|C,this.to=0|S,this.colorId=0|b}static compare(C,S){return C.colorId===S.colorId?C.from===S.from?C.to-S.to:C.from-S.from:C.colorId-S.colorId}}class F{constructor(C,S,b,P){this._overviewRulerZoneBrand=void 0,this.startLineNumber=C,this.endLineNumber=S,this.heightInLines=b,this.color=P,this._colorZone=null}static compare(C,S){return C.color===S.color?C.startLineNumber===S.startLineNumber?C.heightInLines===S.heightInLines?C.endLineNumber-S.endLineNumber:C.heightInLines-S.heightInLines:C.startLineNumber-S.startLineNumber:C.color<S.color?-1:1}setColorZone(C){this._colorZone=C}getColorZones(){return this._colorZone}}class w{constructor(C){this._getVerticalOffsetForLine=C,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(C){this._zones=C,this._zones.sort(F.compare)}setLineHeight(C){return this._lineHeight!==C&&(this._lineHeight=C,this._colorZonesInvalid=!0,!0)}setPixelRatio(C){this._pixelRatio=C,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(C){return this._domWidth!==C&&(this._domWidth=C,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(C){return this._domHeight!==C&&(this._domHeight=C,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(C){return this._outerHeight!==C&&(this._outerHeight=C,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const C=this._colorZonesInvalid,S=Math.floor(this._lineHeight),b=Math.floor(this.getCanvasHeight()),D=b/Math.floor(this._outerHeight),v=Math.floor(4*this._pixelRatio/2),_=[];for(let f=0,d=this._zones.length;f<d;f++){const r=this._zones[f];if(!C){const H=r.getColorZones();if(H){_.push(H);continue}}const l=this._getVerticalOffsetForLine(r.startLineNumber),g=0===r.heightInLines?this._getVerticalOffsetForLine(r.endLineNumber)+S:l+r.heightInLines*S,p=Math.floor(D*l),m=Math.floor(D*g);let T=Math.floor((p+m)/2),A=m-T;A<v&&(A=v),T-A<0&&(T=A),T+A>b&&(T=b-A);const k=r.color;let O=this._color2Id[k];O||(O=++this._lastAssignedId,this._color2Id[k]=O,this._id2Color[O]=k);const N=new a(T-A,T+A,O);r.setColorZone(N),_.push(N)}return this._colorZonesInvalid=!1,_.sort(a.compare),_}}},11589:(tt,xe,t)=>{t.d(xe,{GN:()=>S,UB:()=>C,a6:()=>b,wc:()=>P});var a=t(13632),F=t(73678),w=t(1905),x=t(99207);class C{constructor(_,f,d,r,l){this.editorId=_,this.model=f,this.configuration=d,this._linesCollection=r,this._coordinatesConverter=l,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(_){const f=_.id;let d=this._decorationsCache[f];if(!d){const r=_.range,l=_.options;let g;if(l.isWholeLine){const p=this._coordinatesConverter.convertModelPositionToViewPosition(new a.y(r.startLineNumber,1),0,!1,!0),m=this._coordinatesConverter.convertModelPositionToViewPosition(new a.y(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);g=new F.Q(p.lineNumber,p.column,m.lineNumber,m.column)}else g=this._coordinatesConverter.convertModelRangeToViewRange(r,1);d=new w.vo(g,l),this._decorationsCache[f]=d}return d}getMinimapDecorationsInRange(_){return this._getDecorationsInRange(_,!0,!1).decorations}getDecorationsViewportData(_){let f=null!==this._cachedModelDecorationsResolver;return f=f&&_.equalsRange(this._cachedModelDecorationsResolverViewRange),f||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(_,!1,!1),this._cachedModelDecorationsResolverViewRange=_),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(_,f=!1,d=!1){const r=new F.Q(_,this._linesCollection.getViewLineMinColumn(_),_,this._linesCollection.getViewLineMaxColumn(_));return this._getDecorationsInRange(r,f,d).inlineDecorations[0]}_getDecorationsInRange(_,f,d){const r=this._linesCollection.getDecorationsInRange(_,this.editorId,(0,x.$C)(this.configuration.options),f,d),l=_.startLineNumber,g=_.endLineNumber,p=[];let m=0;const T=[];for(let A=l;A<=g;A++)T[A-l]=[];for(let A=0,k=r.length;A<k;A++){const O=r[A],N=O.options;if(!S(this.model,O))continue;const H=this._getOrCreateViewModelDecoration(O),L=H.range;if(p[m++]=H,N.inlineClassName){const j=new w.kI(L,N.inlineClassName,N.inlineClassNameAffectsLetterSpacing?3:0),Z=Math.max(l,L.startLineNumber),te=Math.min(g,L.endLineNumber);for(let X=Z;X<=te;X++)T[X-l].push(j)}if(N.beforeContentClassName&&l<=L.startLineNumber&&L.startLineNumber<=g){const j=new w.kI(new F.Q(L.startLineNumber,L.startColumn,L.startLineNumber,L.startColumn),N.beforeContentClassName,1);T[L.startLineNumber-l].push(j)}if(N.afterContentClassName&&l<=L.endLineNumber&&L.endLineNumber<=g){const j=new w.kI(new F.Q(L.endLineNumber,L.endColumn,L.endLineNumber,L.endColumn),N.afterContentClassName,2);T[L.endLineNumber-l].push(j)}}return{decorations:p,inlineDecorations:T}}}function S(v,_){return!(_.options.hideInCommentTokens&&b(v,_)||_.options.hideInStringTokens&&P(v,_))}function b(v,_){return D(v,_.range,f=>1===f)}function P(v,_){return D(v,_.range,f=>2===f)}function D(v,_,f){for(let d=_.startLineNumber;d<=_.endLineNumber;d++){const r=v.tokenization.getLineTokens(d),g=d===_.endLineNumber;let p=d===_.startLineNumber?r.findTokenIndexAtOffset(_.startColumn-1):0;for(;p<r.getCount()&&!(g&&r.getStartOffset(p)>_.endColumn-1);){if(!f(r.getStandardTokenType(p)))return!1;p++}}return!0}},48102:(tt,xe,t)=>{var a=t(10467),F=t(39679),w=t(13225),x=t(79624),C=t(85072),S=t.n(C),b=t(97825),P=t.n(b),D=t(77659),v=t.n(D),_=t(55056),f=t.n(_),d=t(10540),r=t.n(d),l=t(41113),g=t.n(l),p=t(42755),m={};m.styleTagTransform=g(),m.setAttributes=f(),m.insert=v().bind(null,"head"),m.domAPI=P(),m.insertStyleElement=r(),S()(p.A,m);var te,k=t(47639),O=t(14105),N=t(69995),H=t(81644),L=t(50168);const X=new L.N1("selectionAnchorSet",!1);let U=te=class{static get(z){return z.getContribution(te.ID)}constructor(z,G){this.editor=z,this.selectionAnchorSetContextKey=X.bindTo(G),this.modelChangeListener=z.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const z=this.editor.getPosition();this.editor.changeDecorations(G=>{this.decorationId&&G.removeDecoration(this.decorationId),this.decorationId=G.addDecoration(O.L.fromPositions(z,z),{description:"selection-anchor",stickiness:1,hoverMessage:(new w.Bc).appendText((0,H.kg)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,F.xE)((0,H.kg)("anchorSet","Anchor set at {0}:{1}",z.lineNumber,z.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const z=this.editor.getModel().getDecorationRange(this.decorationId);z&&this.editor.setPosition(z.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const z=this.editor.getModel().getDecorationRange(this.decorationId);if(z){const G=this.editor.getPosition();this.editor.setSelection(O.L.fromPositions(z.getStartPosition(),G)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const z=this.decorationId;this.editor.changeDecorations(G=>{G.removeDecoration(z),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};var z;U.ID="editor.contrib.selectionAnchorController",U=te=function(oe,z,G,Q){var ae,K=arguments.length,ie=K<3?z:null===Q?Q=Object.getOwnPropertyDescriptor(z,G):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ie=Reflect.decorate(oe,z,G,Q);else for(var de=oe.length-1;de>=0;de--)(ae=oe[de])&&(ie=(K<3?ae(ie):K>3?ae(z,G,ie):ae(z,G))||ie);return K>3&&ie&&Object.defineProperty(z,G,ie),ie}([(1,z=L.fN,function(G,Q){z(G,Q,1)})],U),(0,k.HW)(U.ID,U,4),(0,k.Fl)(class q extends k.ks{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,H.kg)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:N.R.editorTextFocus,primary:(0,x.m5)(2089,2080),weight:100}})}run(z,G){return(0,a.A)(function*(){var Q;null===(Q=U.get(G))||void 0===Q||Q.setSelectionAnchor()})()}}),(0,k.Fl)(class R extends k.ks{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,H.kg)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:X})}run(z,G){return(0,a.A)(function*(){var Q;null===(Q=U.get(G))||void 0===Q||Q.goToSelectionAnchor()})()}}),(0,k.Fl)(class W extends k.ks{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,H.kg)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:X,kbOpts:{kbExpr:N.R.editorTextFocus,primary:(0,x.m5)(2089,2089),weight:100}})}run(z,G){return(0,a.A)(function*(){var Q;null===(Q=U.get(G))||void 0===Q||Q.selectFromAnchorToCursor()})()}}),(0,k.Fl)(class Y extends k.ks{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,H.kg)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:X,kbOpts:{kbExpr:N.R.editorTextFocus,primary:9,weight:100}})}run(z,G){return(0,a.A)(function*(){var Q;null===(Q=U.get(G))||void 0===Q||Q.cancelSelectionAnchor()})()}})},33500:(tt,xe,t)=>{var a=t(86671),F=t(99031),w=t(85072),x=t.n(w),C=t(97825),S=t.n(C),b=t(77659),P=t.n(b),D=t(55056),v=t.n(D),_=t(10540),f=t.n(_),d=t(41113),r=t.n(d),l=t(7997),g={};g.styleTagTransform=r(),g.setAttributes=v(),g.insert=P().bind(null,"head"),g.domAPI=S(),g.insertStyleElement=f(),x()(l.A,g);var T=t(47639),A=t(13632),k=t(73678),O=t(14105),N=t(69995),H=t(63782),L=t(80753),j=t(81644),Z=t(79134),te=t(85478),X=t(48187);const U=(0,te.x1A)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},j.kg("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class Y{constructor(G,Q,K){this.position=G,this.brackets=Q,this.options=K}}class oe extends F.jG{static get(G){return G.getContribution(oe.ID)}constructor(G){super(),this._editor=G,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new a.uC(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(72),this._updateBracketsSoon.schedule(),this._register(G.onDidChangeCursorPosition(Q=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(G.onDidChangeModelContent(Q=>{this._updateBracketsSoon.schedule()})),this._register(G.onDidChangeModel(Q=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(G.onDidChangeModelLanguageConfiguration(Q=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(G.onDidChangeConfiguration(Q=>{Q.hasChanged(72)&&(this._matchBrackets=this._editor.getOption(72),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(G.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(G.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const G=this._editor.getModel(),Q=this._editor.getSelections().map(K=>{const ie=K.getStartPosition(),ae=G.bracketPairs.matchBracket(ie);let de=null;if(ae)ae[0].containsPosition(ie)&&!ae[1].containsPosition(ie)?de=ae[1].getStartPosition():ae[1].containsPosition(ie)&&(de=ae[0].getStartPosition());else{const se=G.bracketPairs.findEnclosingBrackets(ie);if(se)de=se[1].getStartPosition();else{const ge=G.bracketPairs.findNextBracket(ie);ge&&ge.range&&(de=ge.range.getStartPosition())}}return de?new O.L(de.lineNumber,de.column,de.lineNumber,de.column):new O.L(ie.lineNumber,ie.column,ie.lineNumber,ie.column)});this._editor.setSelections(Q),this._editor.revealRange(Q[0])}selectToBracket(G){if(!this._editor.hasModel())return;const Q=this._editor.getModel(),K=[];this._editor.getSelections().forEach(ie=>{const ae=ie.getStartPosition();let de=Q.bracketPairs.matchBracket(ae);if(!de&&(de=Q.bracketPairs.findEnclosingBrackets(ae),!de)){const _e=Q.bracketPairs.findNextBracket(ae);_e&&_e.range&&(de=Q.bracketPairs.matchBracket(_e.range.getStartPosition()))}let se=null,ge=null;if(de){de.sort(k.Q.compareRangesUsingStarts);const[_e,ye]=de;if(se=G?_e.getStartPosition():_e.getEndPosition(),ge=G?ye.getEndPosition():ye.getStartPosition(),ye.containsPosition(ae)){const M=se;se=ge,ge=M}}se&&ge&&K.push(new O.L(se.lineNumber,se.column,ge.lineNumber,ge.column))}),K.length>0&&(this._editor.setSelections(K),this._editor.revealRange(K[0]))}removeBrackets(G){if(!this._editor.hasModel())return;const Q=this._editor.getModel();this._editor.getSelections().forEach(K=>{const ie=K.getPosition();let ae=Q.bracketPairs.matchBracket(ie);ae||(ae=Q.bracketPairs.findEnclosingBrackets(ie)),ae&&(this._editor.pushUndoStop(),this._editor.executeEdits(G,[{range:ae[0],text:""},{range:ae[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();const G=[];let Q=0;for(const K of this._lastBracketsData){const ie=K.brackets;ie&&(G[Q++]={range:ie[0],options:K.options},G[Q++]={range:ie[1],options:K.options})}this._decorations.set(G)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const G=this._editor.getSelections();if(G.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const Q=this._editor.getModel(),K=Q.getVersionId();let ie=[];this._lastVersionId===K&&(ie=this._lastBracketsData);const ae=[];let de=0;for(let M=0,ce=G.length;M<ce;M++){const Se=G[M];Se.isEmpty()&&(ae[de++]=Se.getStartPosition())}ae.length>1&&ae.sort(A.y.compare);const se=[];let ge=0,_e=0;const ye=ie.length;for(let M=0,ce=ae.length;M<ce;M++){const Se=ae[M];for(;_e<ye&&ie[_e].position.isBefore(Se);)_e++;if(_e<ye&&ie[_e].position.equals(Se))se[ge++]=ie[_e];else{let Ie=Q.bracketPairs.matchBracket(Se,20),ne=oe._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!Ie&&"always"===this._matchBrackets&&(Ie=Q.bracketPairs.findEnclosingBrackets(Se,20),ne=oe._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),se[ge++]=new Y(Se,Ie,ne)}}this._lastBracketsData=se,this._lastVersionId=K}}oe.ID="editor.contrib.bracketMatchingController",oe._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=L.kI.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,X.Yf)(U),position:H.A5.Center}}),oe._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=L.kI.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,T.HW)(oe.ID,oe,1),(0,T.Fl)(class R extends T.ks{constructor(){super({id:"editor.action.selectToBracket",label:j.kg("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,metadata:{description:j.aS("smartSelect.selectToBracketDescription","Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(G,Q,K){var ie;let ae=!0;K&&!1===K.selectBrackets&&(ae=!1),null===(ie=oe.get(Q))||void 0===ie||ie.selectToBracket(ae)}}),(0,T.Fl)(class q extends T.ks{constructor(){super({id:"editor.action.jumpToBracket",label:j.kg("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:N.R.editorTextFocus,primary:3165,weight:100}})}run(G,Q){var K;null===(K=oe.get(Q))||void 0===K||K.jumpToBracket()}}),(0,T.Fl)(class W extends T.ks{constructor(){super({id:"editor.action.removeBrackets",label:j.kg("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:N.R.editorTextFocus,primary:2561,weight:100}})}run(G,Q){var K;null===(K=oe.get(Q))||void 0===K||K.removeBrackets(this.id)}}),Z.ZG.appendMenuItem(Z.D8.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:j.kg({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},93070:(tt,xe,t)=>{var a=t(47639),F=t(69995),w=t(73678),x=t(14105);class C{constructor(_,f){this._selection=_,this._isMovingLeft=f}getEditOperations(_,f){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const d=this._selection.startLineNumber,r=this._selection.startColumn,l=this._selection.endColumn;if((!this._isMovingLeft||1!==r)&&(this._isMovingLeft||l!==_.getLineMaxColumn(d)))if(this._isMovingLeft){const g=new w.Q(d,r-1,d,r),p=_.getValueInRange(g);f.addEditOperation(g,null),f.addEditOperation(new w.Q(d,l,d,l),p)}else{const g=new w.Q(d,l,d,l+1),p=_.getValueInRange(g);f.addEditOperation(g,null),f.addEditOperation(new w.Q(d,r,d,r),p)}}computeCursorState(_,f){return this._isMovingLeft?new x.L(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new x.L(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var S=t(81644);class b extends a.ks{constructor(_,f){super(f),this.left=_}run(_,f){if(!f.hasModel())return;const d=[],r=f.getSelections();for(const l of r)d.push(new C(l,this.left));f.pushUndoStop(),f.executeCommands(this.id,d),f.pushUndoStop()}}(0,a.Fl)(class P extends b{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:S.kg("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:F.R.writable})}}),(0,a.Fl)(class D extends b{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:S.kg("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:F.R.writable})}})},82585:(tt,xe,t)=>{var a=t(47639),F=t(19533),w=t(79725),x=t(73678),C=t(69995),S=t(81644);(0,a.Fl)(class b extends a.ks{constructor(){super({id:"editor.action.transposeLetters",label:S.kg("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:C.R.writable,kbOpts:{kbExpr:C.R.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(D,v){if(!v.hasModel())return;const _=v.getModel(),f=[],d=v.getSelections();for(const r of d){if(!r.isEmpty())continue;const l=r.startLineNumber,g=r.startColumn,p=_.getLineMaxColumn(l);if(1===l&&(1===g||2===g&&2===p))continue;const m=g===p?r.getPosition():w.I.rightPosition(_,r.getPosition().lineNumber,r.getPosition().column),T=w.I.leftPosition(_,m),A=w.I.leftPosition(_,T),k=_.getValueInRange(x.Q.fromPositions(A,T)),O=_.getValueInRange(x.Q.fromPositions(T,m)),N=x.Q.fromPositions(A,m);f.push(new F.iu(N,O+k))}f.length>0&&(v.pushUndoStop(),v.executeCommands(this.id,f),v.pushUndoStop())}})},44695:(tt,xe,t)=>{var a=t(10467),F=t(53378),w=t(91874),x=t(21828),C=t(12837),S=t(47639),b=t(31212),P=t(69995),D=t(30546),v=t(81644),_=t(79134),f=t(66229),d=t(50168);const r="9_cutcopypaste",l=x.ib||document.queryCommandSupported("cut"),g=x.ib||document.queryCommandSupported("copy"),p=!(typeof navigator.clipboard>"u"||F.gm)||document.queryCommandSupported("paste");function m(H){return H.register(),H}const T=l?m(new S.fE({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:x.ib?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:_.D8.MenubarEditMenu,group:"2_ccp",title:v.kg({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:_.D8.EditorContext,group:r,title:v.kg("actions.clipboard.cutLabel","Cut"),when:P.R.writable,order:1},{menuId:_.D8.CommandPalette,group:"",title:v.kg("actions.clipboard.cutLabel","Cut"),order:1},{menuId:_.D8.SimpleEditorContext,group:r,title:v.kg("actions.clipboard.cutLabel","Cut"),when:P.R.writable,order:1}]})):void 0,A=g?m(new S.fE({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:x.ib?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:_.D8.MenubarEditMenu,group:"2_ccp",title:v.kg({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:_.D8.EditorContext,group:r,title:v.kg("actions.clipboard.copyLabel","Copy"),order:2},{menuId:_.D8.CommandPalette,group:"",title:v.kg("actions.clipboard.copyLabel","Copy"),order:1},{menuId:_.D8.SimpleEditorContext,group:r,title:v.kg("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;_.ZG.appendMenuItem(_.D8.MenubarEditMenu,{submenu:_.D8.MenubarCopy,title:v.aS("copy as","Copy As"),group:"2_ccp",order:3}),_.ZG.appendMenuItem(_.D8.EditorContext,{submenu:_.D8.EditorContextCopy,title:v.aS("copy as","Copy As"),group:r,order:3}),_.ZG.appendMenuItem(_.D8.EditorContext,{submenu:_.D8.EditorContextShare,title:v.aS("share","Share"),group:"11_share",order:-1,when:d.M$.and(d.M$.notEquals("resourceScheme","output"),P.R.editorTextFocus)}),_.ZG.appendMenuItem(_.D8.ExplorerContext,{submenu:_.D8.ExplorerContextShare,title:v.aS("share","Share"),group:"11_share",order:-1});const k=p?m(new S.fE({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:x.ib?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:_.D8.MenubarEditMenu,group:"2_ccp",title:v.kg({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:_.D8.EditorContext,group:r,title:v.kg("actions.clipboard.pasteLabel","Paste"),when:P.R.writable,order:4},{menuId:_.D8.CommandPalette,group:"",title:v.kg("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:_.D8.SimpleEditorContext,group:r,title:v.kg("actions.clipboard.pasteLabel","Paste"),when:P.R.writable,order:4}]})):void 0;function N(H,L){H&&(H.addImplementation(1e4,"code-editor",(j,Z)=>{const te=j.get(b.T).getFocusedCodeEditor();if(te&&te.hasTextFocus()){const X=te.getOption(37),U=te.getSelection();return U&&U.isEmpty()&&!X||te.getContainerDomNode().ownerDocument.execCommand(L),!0}return!1}),H.addImplementation(0,"generic-dom",(j,Z)=>((0,w.a)().execCommand(L),!0)))}N(T,"cut"),N(A,"copy"),k&&(k.addImplementation(1e4,"code-editor",(H,L)=>{var j,Z;const te=H.get(b.T),X=H.get(f.h),U=te.getFocusedCodeEditor();return!(!U||!U.hasTextFocus())&&(U.getContainerDomNode().ownerDocument.execCommand("paste")?null!==(Z=null===(j=D.Rj.get(U))||void 0===j?void 0:j.finishedPaste())&&void 0!==Z?Z:Promise.resolve():!x.HZ||(0,a.A)(function*(){const R=yield X.readText();if(""!==R){const W=C.bs.INSTANCE.get(R);let Y=!1,oe=null,z=null;W&&(Y=U.getOption(37)&&!!W.isFromEmptySelection,oe=typeof W.multicursorText<"u"?W.multicursorText:null,z=W.mode),U.trigger("keyboard","paste",{text:R,pasteOnNewLine:Y,multicursorText:oe,mode:z})}})())}),k.addImplementation(0,"generic-dom",(H,L)=>((0,w.a)().execCommand("paste"),!0))),g&&(0,S.Fl)(class O extends S.ks{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:v.kg("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:P.R.textInputFocus,primary:0,weight:100}})}run(L,j){!j.hasModel()||!j.getOption(37)&&j.getSelection().isEmpty()||(C.Eq.forceCopyWithSyntaxHighlighting=!0,j.focus(),j.getContainerDomNode().ownerDocument.execCommand("copy"),C.Eq.forceCopyWithSyntaxHighlighting=!1)}})},77189:(tt,xe,t)=>{t.d(xe,{C9:()=>H,Qp:()=>Y,Rw:()=>j,Uy:()=>L,W4:()=>oe,Xj:()=>N,dU:()=>X,k_:()=>A,pQ:()=>k,pR:()=>O});var a=t(10467),F=t(30833),w=t(21468),x=t(25680),C=t(99031),S=t(32417),b=t(876),P=t(73678),D=t(14105),v=t(15307),_=t(31925),f=t(89774),d=t(81644),r=t(51126),l=t(16362),g=t(47690),p=t(55922),m=t(3132),T=t(6260);const A="editor.action.codeAction",k="editor.action.quickFix",O="editor.action.autoFix",N="editor.action.refactor",H="editor.action.sourceAction",L="editor.action.organizeImports",j="editor.action.fixAll";class Z extends C.jG{static codeActionsPreferredComparator(K,ie){return K.isPreferred&&!ie.isPreferred?-1:!K.isPreferred&&ie.isPreferred?1:0}static codeActionsComparator({action:K},{action:ie}){return K.isAI&&!ie.isAI?1:!K.isAI&&ie.isAI?-1:(0,F.EI)(K.diagnostics)?(0,F.EI)(ie.diagnostics)?Z.codeActionsPreferredComparator(K,ie):-1:(0,F.EI)(ie.diagnostics)?1:Z.codeActionsPreferredComparator(K,ie)}constructor(K,ie,ae){super(),this.documentation=ie,this._register(ae),this.allActions=[...K].sort(Z.codeActionsComparator),this.validActions=this.allActions.filter(({action:de})=>!de.disabled)}get hasAutoFix(){return this.validActions.some(({action:K})=>!!K.kind&&m.gB.QuickFix.contains(new T.k(K.kind))&&!!K.isPreferred)}get hasAIFix(){return this.validActions.some(({action:K})=>!!K.isAI)}get allAIFixes(){return this.validActions.every(({action:K})=>!!K.isAI)}}const te={actions:[],documentation:void 0};function X(Q,K,ie,ae,de,se){return U.apply(this,arguments)}function U(){return U=(0,a.A)(function*(Q,K,ie,ae,de,se){var ge;const _e=ae.filter||{},ye={..._e,excludes:[..._e.excludes||[],m.gB.Notebook]},M={only:null===(ge=_e.include)||void 0===ge?void 0:ge.value,trigger:ae.type},ce=new f.ER(K,se),Ie=function q(Q,K,ie){return Q.all(K).filter(ae=>!ae.providedCodeActionKinds||ae.providedCodeActionKinds.some(de=>(0,m.uJ)(ie,new T.k(de))))}(Q,K,2===ae.type?ye:_e),ne=new C.Cm,ue=Ie.map(function(){var Me=(0,a.A)(function*(Ve){try{de.report(Ve);const $e=yield Ve.provideCodeActions(K,ie,M,ce.token);if($e&&ne.add($e),ce.token.isCancellationRequested)return te;const it=($e?.actions||[]).filter(me=>me&&(0,m.aF)(_e,me)),He=function W(Q,K,ie){if(!Q.documentation)return;const ae=Q.documentation.map(de=>({kind:new T.k(de.kind),command:de.command}));if(ie){let de;for(const se of ae)se.kind.contains(ie)&&(de?de.kind.contains(se.kind)&&(de=se):de=se);if(de)return de?.command}for(const de of K)if(de.kind)for(const se of ae)if(se.kind.contains(new T.k(de.kind)))return se.command}(Ve,it,_e.include);return{actions:it.map(me=>new m.Vi(me,Ve)),documentation:He}}catch($e){if((0,x.MB)($e))throw $e;return(0,x.M_)($e),te}});return function(Ve){return Me.apply(this,arguments)}}()),we=Q.onDidChange(()=>{const Me=Q.all(K);(0,F.aI)(Me,Ie)||ce.cancel()});try{const Me=yield Promise.all(ue),Ve=Me.map(it=>it.actions).flat(),$e=[...(0,F.Yc)(Me.map(it=>it.documentation)),...R(Q,K,ae,Ve)];return new Z(Ve,$e,ne)}finally{we.dispose(),ce.dispose()}}),U.apply(this,arguments)}function*R(Q,K,ie,ae){var de,se,ge;if(K&&ae.length)for(const _e of Q.all(K))_e._getAdditionalMenuItems&&(yield*null===(de=_e._getAdditionalMenuItems)||void 0===de?void 0:de.call(_e,{trigger:ie.type,only:null===(ge=null===(se=ie.filter)||void 0===se?void 0:se.include)||void 0===ge?void 0:ge.value},ae.map(ye=>ye.action)))}var Y=function(Q){return Q.OnSave="onSave",Q.FromProblemsView="fromProblemsView",Q.FromCodeActions="fromCodeActions",Q.FromAILightbulb="fromAILightbulb",Q}(Y||{});function oe(Q,K,ie,ae){return z.apply(this,arguments)}function z(){return(z=(0,a.A)(function*(Q,K,ie,ae,de=w.XO.None){var se;const ge=Q.get(b.nu),_e=Q.get(r.d),ye=Q.get(p.k),M=Q.get(l.Ot);if(ye.publicLog2("codeAction.applyCodeAction",{codeActionTitle:K.action.title,codeActionKind:K.action.kind,codeActionIsPreferred:!!K.action.isPreferred,reason:ie}),yield K.resolve(de),!de.isCancellationRequested&&(null===(se=K.action.edit)||void 0===se||!se.edits.length||(yield ge.apply(K.action.edit,{editor:ae?.editor,label:K.action.title,quotableLabel:K.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:ie!==Y.OnSave,showPreview:ae?.preview})).isApplied)&&K.action.command)try{yield _e.executeCommand(K.action.command.id,...K.action.command.arguments||[])}catch(ce){const Se=function G(Q){return"string"==typeof Q?Q:Q instanceof Error&&"string"==typeof Q.message?Q.message:void 0}(ce);M.error("string"==typeof Se?Se:d.kg("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})).apply(this,arguments)}r.w.registerCommand("_executeCodeActionProvider",function(){var Q=(0,a.A)(function*(K,ie,ae,de,se){if(!(ie instanceof S.r))throw(0,x.Qg)();const{codeActionProvider:ge}=K.get(v.u),_e=K.get(_.S).getModel(ie);if(!_e)throw(0,x.Qg)();const ye=D.L.isISelection(ae)?D.L.liftSelection(ae):P.Q.isIRange(ae)?_e.validateRange(ae):void 0;if(!ye)throw(0,x.Qg)();const M="string"==typeof de?new T.k(de):void 0,ce=yield X(ge,_e,ye,{type:1,triggerAction:m.fo.Default,filter:{includeSourceActions:!0,include:M}},g.ke.None,w.XO.None),Se=[],Ie=Math.min(ce.validActions.length,"number"==typeof se?se:0);for(let ne=0;ne<Ie;ne++)Se.push(ce.validActions[ne].resolve(w.XO.None));try{return yield Promise.all(Se),ce.validActions.map(ne=>ne.action)}finally{setTimeout(()=>ce.dispose(),100)}});return function(K,ie,ae,de,se){return Q.apply(this,arguments)}}())},90547:(tt,xe,t)=>{var a=t(47639),F=t(30788),w=t(6260),x=t(6653),C=t(69995),S=t(77189),b=t(81644),P=t(50168),D=t(3132),v=t(70828),_=t(10524);function f(L){return P.M$.regex(_.D_.keys()[0],new RegExp("(\\s|^)"+(0,x.bm)(L.value)+"\\b"))}const d={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:b.kg("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:b.kg("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[b.kg("args.schema.apply.first","Always apply the first returned code action."),b.kg("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),b.kg("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:b.kg("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function r(L,j,Z,te,X=D.fo.Default){if(L.hasModel()){const U=v.C.get(L);U?.manualTriggerAtCurrentPosition(j,X,Z,te)}}var O=t(81864),N=t(70987),H=t(97018);(0,a.HW)(v.C.ID,v.C,3),(0,a.HW)(O.E.ID,O.E,4),(0,a.Fl)(class l extends a.ks{constructor(){super({id:S.pQ,label:b.kg("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:P.M$.and(C.R.writable,C.R.hasCodeActionsProvider),kbOpts:{kbExpr:C.R.textInputFocus,primary:2137,weight:100}})}run(j,Z){return r(Z,b.kg("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,D.fo.QuickFix)}}),(0,a.Fl)(class p extends a.ks{constructor(){super({id:S.Xj,label:b.kg("refactor.label","Refactor..."),alias:"Refactor...",precondition:P.M$.and(C.R.writable,C.R.hasCodeActionsProvider),kbOpts:{kbExpr:C.R.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:P.M$.and(C.R.writable,f(D.gB.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:d}]}})}run(j,Z,te){const X=D.QA.fromUser(te,{kind:D.gB.Refactor,apply:"never"});return r(Z,"string"==typeof te?.kind?X.preferred?b.kg("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",te.kind):b.kg("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",te.kind):X.preferred?b.kg("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):b.kg("editor.action.refactor.noneMessage","No refactorings available"),{include:D.gB.Refactor.contains(X.kind)?X.kind:w.k.None,onlyIncludePreferredActions:X.preferred},X.apply,D.fo.Refactor)}}),(0,a.Fl)(class m extends a.ks{constructor(){super({id:S.C9,label:b.kg("source.label","Source Action..."),alias:"Source Action...",precondition:P.M$.and(C.R.writable,C.R.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:P.M$.and(C.R.writable,f(D.gB.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:d}]}})}run(j,Z,te){const X=D.QA.fromUser(te,{kind:D.gB.Source,apply:"never"});return r(Z,"string"==typeof te?.kind?X.preferred?b.kg("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",te.kind):b.kg("editor.action.source.noneMessage.kind","No source actions for '{0}' available",te.kind):X.preferred?b.kg("editor.action.source.noneMessage.preferred","No preferred source actions available"):b.kg("editor.action.source.noneMessage","No source actions available"),{include:D.gB.Source.contains(X.kind)?X.kind:w.k.None,includeSourceActions:!0,onlyIncludePreferredActions:X.preferred},X.apply,D.fo.SourceAction)}}),(0,a.Fl)(class T extends a.ks{constructor(){super({id:S.Uy,label:b.kg("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:P.M$.and(C.R.writable,f(D.gB.SourceOrganizeImports)),kbOpts:{kbExpr:C.R.textInputFocus,primary:1581,weight:100}})}run(j,Z){return r(Z,b.kg("editor.action.organize.noneMessage","No organize imports action available"),{include:D.gB.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",D.fo.OrganizeImports)}}),(0,a.Fl)(class k extends a.ks{constructor(){super({id:S.pR,label:b.kg("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:P.M$.and(C.R.writable,f(D.gB.QuickFix)),kbOpts:{kbExpr:C.R.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(j,Z){return r(Z,b.kg("editor.action.autoFix.noneMessage","No auto fixes available"),{include:D.gB.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",D.fo.AutoFix)}}),(0,a.Fl)(class A extends a.ks{constructor(){super({id:S.Rw,label:b.kg("fixAll.label","Fix All"),alias:"Fix All",precondition:P.M$.and(C.R.writable,f(D.gB.SourceFixAll))})}run(j,Z){return r(Z,b.kg("fixAll.noneMessage","No fix all action available"),{include:D.gB.SourceFixAll,includeSourceActions:!0},"ifSingle",D.fo.FixAll)}}),(0,a.E_)(new class g extends a.DX{constructor(){super({id:S.k_,precondition:P.M$.and(C.R.writable,C.R.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:d}]}})}runEditorCommand(j,Z,te){const X=D.QA.fromUser(te,{kind:w.k.Empty,apply:"ifSingle"});return r(Z,"string"==typeof te?.kind?X.preferred?b.kg("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",te.kind):b.kg("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",te.kind):X.preferred?b.kg("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):b.kg("editor.action.codeAction.noneMessage","No code actions available"),{include:X.kind,includeSourceActions:!0,onlyIncludePreferredActions:X.preferred},X.apply)}}),H.O.as(N.Fd.Configuration).registerConfiguration({...F.JJ,properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:b.kg("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}}),H.O.as(N.Fd.Configuration).registerConfiguration({...F.JJ,properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:b.kg("includeNearbyQuickFixes","Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}})},70828:(tt,xe,t)=>{t.d(xe,{C:()=>Ze});var g,a=t(10467),F=t(91874),w=t(39679),x=t(25680),C=t(97081),S=t(99031),b=t(13632),P=t(80753),D=t(15307),v=t(77189),_=t(6260),f=t(3132),d=t(59002);let p=g=class{constructor(st){this.keybindingService=st}getResolver(){const st=new C.d(()=>this.keybindingService.getKeybindings().filter(Ke=>g.codeActionCommands.indexOf(Ke.command)>=0).filter(Ke=>Ke.resolvedKeybinding).map(Ke=>{let ft=Ke.commandArgs;return Ke.command===v.Uy?ft={kind:f.gB.SourceOrganizeImports.value}:Ke.command===v.Rw&&(ft={kind:f.gB.SourceFixAll.value}),{resolvedKeybinding:Ke.resolvedKeybinding,...f.QA.fromUser(ft,{kind:_.k.None,apply:"never"})}}));return Ke=>{if(Ke.kind){const ft=this.bestKeybindingForCodeAction(Ke,st.value);return ft?.resolvedKeybinding}}}bestKeybindingForCodeAction(st,Ke){if(!st.kind)return;const ft=new _.k(st.kind);return Ke.filter(wt=>wt.kind.contains(ft)).filter(wt=>!wt.preferred||st.isPreferred).reduceRight((wt,qt)=>wt?wt.kind.contains(qt.kind)?qt:wt:qt,void 0)}};var st;p.codeActionCommands=[v.Xj,v.k_,v.C9,v.Uy,v.Rw],p=g=function(Ye,st,Ke,ft){var Yt,wt=arguments.length,qt=wt<3?st:null===ft?ft=Object.getOwnPropertyDescriptor(st,Ke):ft;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qt=Reflect.decorate(Ye,st,Ke,ft);else for(var en=Ye.length-1;en>=0;en--)(Yt=Ye[en])&&(qt=(wt<3?Yt(qt):wt>3?Yt(st,Ke,qt):Yt(st,Ke))||qt);return wt>3&&qt&&Object.defineProperty(st,Ke,qt),qt}([(0,st=d.b,function(Ke,ft){st(Ke,ft,0)})],p),t(59496);var T=t(15320),k=(t(93981),t(81644));const O=Object.freeze({kind:_.k.Empty,title:(0,k.kg)("codeAction.widget.id.more","More Actions...")}),N=Object.freeze([{kind:f.gB.QuickFix,title:(0,k.kg)("codeAction.widget.id.quickfix","Quick Fix")},{kind:f.gB.RefactorExtract,title:(0,k.kg)("codeAction.widget.id.extract","Extract"),icon:T.W.wrench},{kind:f.gB.RefactorInline,title:(0,k.kg)("codeAction.widget.id.inline","Inline"),icon:T.W.wrench},{kind:f.gB.RefactorRewrite,title:(0,k.kg)("codeAction.widget.id.convert","Rewrite"),icon:T.W.wrench},{kind:f.gB.RefactorMove,title:(0,k.kg)("codeAction.widget.id.move","Move"),icon:T.W.wrench},{kind:f.gB.SurroundWith,title:(0,k.kg)("codeAction.widget.id.surround","Surround With"),icon:T.W.surroundWith},{kind:f.gB.Source,title:(0,k.kg)("codeAction.widget.id.source","Source Action"),icon:T.W.symbolFile},O]);var L=t(81864),j=t(22900),Z=t(44906),te=t(85072),X=t.n(te),U=t(97825),q=t.n(U),R=t(77659),W=t.n(R),Y=t(55056),oe=t.n(Y),z=t(10540),G=t.n(z),Q=t(41113),K=t.n(Q),ie=t(56745),ae={};ae.styleTagTransform=K(),ae.setAttributes=oe(),ae.insert=W().bind(null,"head"),ae.domAPI=q(),ae.insertStyleElement=G(),X()(ie.A,ae);var ge=t(62581),_e=t(87291),ye=t(21468),M=t(21828),ce=t(81072),Se=t(71887),Ie=t(41525),ne=t(85478),ue=function(Ye,st,Ke,ft){var Yt,wt=arguments.length,qt=wt<3?st:null===ft?ft=Object.getOwnPropertyDescriptor(st,Ke):ft;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qt=Reflect.decorate(Ye,st,Ke,ft);else for(var en=Ye.length-1;en>=0;en--)(Yt=Ye[en])&&(qt=(wt<3?Yt(qt):wt>3?Yt(st,Ke,qt):Yt(st,Ke))||qt);return wt>3&&qt&&Object.defineProperty(st,Ke,qt),qt},we=function(Ye,st){return function(Ke,ft){st(Ke,ft,Ye)}};const Me="acceptSelectedCodeAction",Ve="previewSelectedCodeAction";class $e{get templateId(){return"header"}renderTemplate(st){st.classList.add("group-header");const Ke=document.createElement("span");return st.append(Ke),{container:st,text:Ke}}renderElement(st,Ke,ft){var wt,qt;ft.text.textContent=null!==(qt=null===(wt=st.group)||void 0===wt?void 0:wt.title)&&void 0!==qt?qt:""}disposeTemplate(st){}}let it=class{get templateId(){return"action"}constructor(st,Ke){this._supportsPreview=st,this._keybindingService=Ke}renderTemplate(st){st.classList.add(this.templateId);const Ke=document.createElement("div");Ke.className="icon",st.append(Ke);const ft=document.createElement("span");return ft.className="title",st.append(ft),{container:st,icon:Ke,text:ft,keybinding:new ge.x(st,M.OS)}}renderElement(st,Ke,ft){var wt,qt,Yt;if(null!==(wt=st.group)&&void 0!==wt&&wt.icon?(ft.icon.className=ce.L.asClassName(st.group.icon),st.group.icon.color&&(ft.icon.style.color=(0,ne.GuP)(st.group.icon.color.id))):(ft.icon.className=ce.L.asClassName(T.W.lightBulb),ft.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!st.item||!st.label)return;ft.text.textContent=be(st.label),ft.keybinding.set(st.keybinding),F.bo(!!st.keybinding,ft.keybinding.element);const en=null===(qt=this._keybindingService.lookupKeybinding(Me))||void 0===qt?void 0:qt.getLabel(),an=null===(Yt=this._keybindingService.lookupKeybinding(Ve))||void 0===Yt?void 0:Yt.getLabel();ft.container.classList.toggle("option-disabled",st.disabled),ft.container.title=st.disabled?st.label:en&&an?this._supportsPreview&&st.canPreview?(0,k.kg)({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to Apply, Shift+F2 to Preview"']},"{0} to Apply, {1} to Preview",en,an):(0,k.kg)({key:"label",comment:['placeholder is a keybinding, e.g "F2 to Apply"']},"{0} to Apply",en):""}disposeTemplate(st){st.keybinding.dispose()}};it=ue([we(1,d.b)],it);class He extends UIEvent{constructor(){super("acceptSelectedAction")}}class me extends UIEvent{constructor(){super("previewSelectedAction")}}function le(Ye){if("action"===Ye.kind)return Ye.label}let Ee=class extends S.jG{constructor(st,Ke,ft,wt,qt,Yt){super(),this._delegate=wt,this._contextViewService=qt,this._keybindingService=Yt,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new ye.Qi),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList"),this._list=this._register(new _e.B8(st,this.domNode,{getHeight:an=>"header"===an.kind?this._headerLineHeight:this._actionLineHeight,getTemplateId:an=>an.kind},[new it(Ke,this._keybindingService),new $e],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:le},accessibilityProvider:{getAriaLabel:an=>{if("action"===an.kind){let lt=an.label?be(an?.label):"";return an.disabled&&(lt=(0,k.kg)({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",lt,an.disabled)),lt}return null},getWidgetAriaLabel:()=>(0,k.kg)({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:an=>"action"===an.kind?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(Ie.IN),this._register(this._list.onMouseClick(an=>this.onListClick(an))),this._register(this._list.onMouseOver(an=>this.onListHover(an))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(an=>this.onListSelection(an))),this._allMenuItems=ft,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(st){return!st.disabled&&"action"===st.kind}hide(st){this._delegate.onHide(st),this.cts.cancel(),this._contextViewService.hideContextView()}layout(st){const Ke=this._allMenuItems.filter(an=>"header"===an.kind).length,wt=this._allMenuItems.length*this._actionLineHeight+Ke*this._headerLineHeight-Ke*this._actionLineHeight;this._list.layout(wt);let qt=st;if(this._allMenuItems.length>=50)qt=380;else{const an=this._allMenuItems.map((lt,Nt)=>{const tn=this.domNode.ownerDocument.getElementById(this._list.getElementID(Nt));if(tn){tn.style.width="auto";const bn=tn.getBoundingClientRect().width;return tn.style.width="",bn}return 0});qt=Math.max(...an,st)}const en=Math.min(wt,.7*this.domNode.ownerDocument.body.clientHeight);return this._list.layout(en,qt),this.domNode.style.height=`${en}px`,this._list.domFocus(),qt}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(st){const Ke=this._list.getFocus();if(0===Ke.length)return;const ft=Ke[0],wt=this._list.element(ft);if(!this.focusCondition(wt))return;const qt=st?new me:new He;this._list.setSelection([ft],qt)}onListSelection(st){if(!st.elements.length)return;const Ke=st.elements[0];Ke.item&&this.focusCondition(Ke)?this._delegate.onSelect(Ke.item,st.browserEvent instanceof me):this._list.setSelection([])}onFocus(){var st,Ke;const ft=this._list.getFocus();if(0===ft.length)return;const qt=this._list.element(ft[0]);null===(Ke=(st=this._delegate).onFocus)||void 0===Ke||Ke.call(st,qt.item)}onListHover(st){var Ke=this;return(0,a.A)(function*(){const ft=st.element;if(ft&&ft.item&&Ke.focusCondition(ft)){if(Ke._delegate.onHover&&!ft.disabled&&"action"===ft.kind){const wt=yield Ke._delegate.onHover(ft.item,Ke.cts.token);ft.canPreview=wt?wt.canPreview:void 0}st.index&&Ke._list.splice(st.index,1,[ft])}Ke._list.setFocus("number"==typeof st.index?[st.index]:[])})()}onListClick(st){st.element&&this.focusCondition(st.element)&&this._list.setFocus([])}};function be(Ye){return Ye.replace(/\r\n|\r|\n/g," ")}Ee=ue([we(4,Se.l),we(5,d.b)],Ee);var Ce=t(79134),Ne=t(50168),Fe=t(56789),qe=t(598),vt=function(Ye,st){return function(Ke,ft){st(Ke,ft,Ye)}};(0,ne.x1A)("actionBar.toggledBackground",{dark:ne.c1f,light:ne.c1f,hcDark:ne.c1f,hcLight:ne.c1f},(0,k.kg)("actionBar.toggledBackground","Background color for toggled action items in action bar."));const fn={Visible:new Ne.N1("codeActionMenuVisible",!1,(0,k.kg)("codeActionMenuVisible","Whether the action widget list is visible"))},on=(0,qe.u1)("actionWidgetService");let ht=class extends S.jG{get isVisible(){return fn.Visible.getValue(this._contextKeyService)||!1}constructor(st,Ke,ft){super(),this._contextViewService=st,this._contextKeyService=Ke,this._instantiationService=ft,this._list=this._register(new S.HE)}show(st,Ke,ft,wt,qt,Yt,en){const an=fn.Visible.bindTo(this._contextKeyService),lt=this._instantiationService.createInstance(Ee,st,Ke,ft,wt);this._contextViewService.showContextView({getAnchor:()=>qt,render:Nt=>(an.set(!0),this._renderWidget(Nt,lt,en??[])),onHide:Nt=>{an.reset(),this._onWidgetClosed(Nt)}},Yt,!1)}acceptSelected(st){var Ke;null===(Ke=this._list.value)||void 0===Ke||Ke.acceptSelected(st)}focusPrevious(){var st,Ke;null===(Ke=null===(st=this._list)||void 0===st?void 0:st.value)||void 0===Ke||Ke.focusPrevious()}focusNext(){var st,Ke;null===(Ke=null===(st=this._list)||void 0===st?void 0:st.value)||void 0===Ke||Ke.focusNext()}hide(st){var Ke;null===(Ke=this._list.value)||void 0===Ke||Ke.hide(st),this._list.clear()}_renderWidget(st,Ke,ft){var wt;const qt=document.createElement("div");if(qt.classList.add("action-widget"),st.appendChild(qt),this._list.value=Ke,!this._list.value)throw new Error("List has no value");qt.appendChild(this._list.value.domNode);const Yt=new S.Cm,en=document.createElement("div"),an=st.appendChild(en);an.classList.add("context-view-block"),Yt.add(F.ko(an,F.Bx.MOUSE_DOWN,zn=>zn.stopPropagation()));const lt=document.createElement("div"),Nt=st.appendChild(lt);Nt.classList.add("context-view-pointerBlock"),Yt.add(F.ko(Nt,F.Bx.POINTER_MOVE,()=>Nt.remove())),Yt.add(F.ko(Nt,F.Bx.MOUSE_DOWN,()=>Nt.remove()));let tn=0;if(ft.length){const zn=this._createActionBar(".action-widget-action-bar",ft);zn&&(qt.appendChild(zn.getContainer().parentElement),Yt.add(zn),tn=zn.getContainer().offsetWidth)}const bn=null===(wt=this._list.value)||void 0===wt?void 0:wt.layout(tn);qt.style.width=`${bn}px`;const Bn=Yt.add(F.w5(st));return Yt.add(Bn.onDidBlur(()=>this.hide(!0))),Yt}_createActionBar(st,Ke){if(!Ke.length)return;const ft=F.$(st),wt=new Z.E(ft);return wt.push(Ke,{icon:!1,label:!0}),wt}_onWidgetClosed(st){var Ke;null===(Ke=this._list.value)||void 0===Ke||Ke.hide(st)}};ht=function(Ye,st,Ke,ft){var Yt,wt=arguments.length,qt=wt<3?st:null===ft?ft=Object.getOwnPropertyDescriptor(st,Ke):ft;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qt=Reflect.decorate(Ye,st,Ke,ft);else for(var en=Ye.length-1;en>=0;en--)(Yt=Ye[en])&&(qt=(wt<3?Yt(qt):wt>3?Yt(st,Ke,qt):Yt(st,Ke))||qt);return wt>3&&qt&&Object.defineProperty(st,Ke,qt),qt}([vt(0,Se.l),vt(1,Ne.fN),vt(2,qe._Y)],ht),(0,Fe.v)(on,ht,1);const Je=1100;(0,Ce.ug)(class extends Ce.L{constructor(){super({id:"hideCodeActionWidget",title:(0,k.aS)("hideCodeActionWidget.title","Hide action widget"),precondition:fn.Visible,keybinding:{weight:Je,primary:9,secondary:[1033]}})}run(Ye){Ye.get(on).hide(!0)}}),(0,Ce.ug)(class extends Ce.L{constructor(){super({id:"selectPrevCodeAction",title:(0,k.aS)("selectPrevCodeAction.title","Select previous action"),precondition:fn.Visible,keybinding:{weight:Je,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(Ye){const st=Ye.get(on);st instanceof ht&&st.focusPrevious()}}),(0,Ce.ug)(class extends Ce.L{constructor(){super({id:"selectNextCodeAction",title:(0,k.aS)("selectNextCodeAction.title","Select next action"),precondition:fn.Visible,keybinding:{weight:Je,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(Ye){const st=Ye.get(on);st instanceof ht&&st.focusNext()}}),(0,Ce.ug)(class extends Ce.L{constructor(){super({id:Me,title:(0,k.aS)("acceptSelected.title","Accept selected action"),precondition:fn.Visible,keybinding:{weight:Je,primary:3,secondary:[2137]}})}run(Ye){const st=Ye.get(on);st instanceof ht&&st.acceptSelected()}}),(0,Ce.ug)(class extends Ce.L{constructor(){super({id:Ve,title:(0,k.aS)("previewSelected.title","Preview selected action"),precondition:fn.Visible,keybinding:{weight:Je,primary:2051}})}run(Ye){const st=Ye.get(on);st instanceof ht&&st.acceptSelected(!0)}});var St,ot=t(51126),De=t(35072),Qe=t(24270),mt=t(47690),kt=t(8374),Ht=t(48187),Ft=t(10524),Bt=t(55922),Ut=function(Ye,st){return function(Ke,ft){st(Ke,ft,Ye)}};let Ze=St=class extends S.jG{static get(st){return st.getContribution(St.ID)}constructor(st,Ke,ft,wt,qt,Yt,en,an,lt,Nt,tn){super(),this._commandService=en,this._configurationService=an,this._actionWidgetService=lt,this._instantiationService=Nt,this._telemetryService=tn,this._activeCodeActions=this._register(new S.HE),this._showDisabled=!1,this._disposed=!1,this._editor=st,this._model=this._register(new Ft.Dc(this._editor,qt.codeActionProvider,Ke,ft,Yt,an)),this._register(this._model.onDidChangeState(bn=>this.update(bn))),this._lightBulbWidget=new C.d(()=>{const bn=this._editor.getContribution(L.E.ID);return bn&&this._register(bn.onClick(Bn=>this.showCodeActionsFromLightbulb(Bn.actions,Bn))),bn}),this._resolver=wt.createInstance(p),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}showCodeActionsFromLightbulb(st,Ke){var ft=this;return(0,a.A)(function*(){if(ft._telemetryService.publicLog2("codeAction.showCodeActionsFromLightbulb",{codeActionListLength:st.validActions.length,codeActions:st.validActions.map(wt=>wt.action.title),codeActionProviders:st.validActions.map(wt=>{var qt,Yt;return null!==(Yt=null===(qt=wt.provider)||void 0===qt?void 0:qt.displayName)&&void 0!==Yt?Yt:""})}),st.allAIFixes&&1===st.validActions.length){const wt=st.validActions[0],qt=wt.action.command;return qt&&"inlineChat.start"===qt.id&&qt.arguments&&qt.arguments.length>=1&&(qt.arguments[0]={...qt.arguments[0],autoSend:!1}),void(yield ft._applyCodeAction(wt,!1,!1,v.Qp.FromAILightbulb))}yield ft.showCodeActionList(st,Ke,{includeDisabledActions:!1,fromLightbulb:!0})})()}showCodeActions(st,Ke,ft){return this.showCodeActionList(Ke,ft,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(st,Ke,ft,wt){var qt;if(!this._editor.hasModel())return;null===(qt=j.k.get(this._editor))||void 0===qt||qt.closeMessage();const Yt=this._editor.getPosition();this._trigger({type:1,triggerAction:Ke,filter:ft,autoApply:wt,context:{notAvailableMessage:st,position:Yt}})}_trigger(st){return this._model.trigger(st)}_applyCodeAction(st,Ke,ft,wt){var qt=this;return(0,a.A)(function*(){try{yield qt._instantiationService.invokeFunction(v.W4,st,wt,{preview:ft,editor:qt._editor})}finally{Ke&&qt._trigger({type:2,triggerAction:f.fo.QuickFix,filter:{}})}})()}update(st){var Ke=this;return(0,a.A)(function*(){var ft,wt,qt,Yt,en,an,lt;if(1!==st.type)return void(null===(ft=Ke._lightBulbWidget.rawValue)||void 0===ft||ft.hide());let Nt;try{Nt=yield st.actions}catch(tn){return void(0,x.dz)(tn)}if(!Ke._disposed)if(null===(wt=Ke._lightBulbWidget.value)||void 0===wt||wt.update(Nt,st.trigger,st.position),1===st.trigger.type){if(null!==(qt=st.trigger.filter)&&void 0!==qt&&qt.include){const bn=Ke.tryGetValidActionToApply(st.trigger,Nt);if(bn){try{null===(Yt=Ke._lightBulbWidget.value)||void 0===Yt||Yt.hide(),yield Ke._applyCodeAction(bn,!1,!1,v.Qp.FromCodeActions)}finally{Nt.dispose()}return}if(st.trigger.context){const Bn=Ke.getInvalidActionThatWouldHaveBeenApplied(st.trigger,Nt);if(Bn&&Bn.action.disabled)return null===(en=j.k.get(Ke._editor))||void 0===en||en.showMessage(Bn.action.disabled,st.trigger.context.position),void Nt.dispose()}}const tn=!(null===(an=st.trigger.filter)||void 0===an||!an.include);if(st.trigger.context&&(!Nt.allActions.length||!tn&&!Nt.validActions.length))return null===(lt=j.k.get(Ke._editor))||void 0===lt||lt.showMessage(st.trigger.context.notAvailableMessage,st.trigger.context.position),Ke._activeCodeActions.value=Nt,void Nt.dispose();Ke._activeCodeActions.value=Nt,Ke.showCodeActionList(Nt,Ke.toCoords(st.position),{includeDisabledActions:tn,fromLightbulb:!1})}else Ke._actionWidgetService.isVisible?Nt.dispose():Ke._activeCodeActions.value=Nt})()}getInvalidActionThatWouldHaveBeenApplied(st,Ke){if(Ke.allActions.length&&("first"===st.autoApply&&0===Ke.validActions.length||"ifSingle"===st.autoApply&&1===Ke.allActions.length))return Ke.allActions.find(({action:ft})=>ft.disabled)}tryGetValidActionToApply(st,Ke){if(Ke.validActions.length&&("first"===st.autoApply&&Ke.validActions.length>0||"ifSingle"===st.autoApply&&1===Ke.validActions.length))return Ke.validActions[0]}showCodeActionList(st,Ke,ft){var wt=this;return(0,a.A)(function*(){const qt=wt._editor.createDecorationsCollection(),Yt=wt._editor.getDomNode();if(!Yt)return;const en=ft.includeDisabledActions&&(wt._showDisabled||0===st.validActions.length)?st.allActions:st.validActions;if(!en.length)return;const an=b.y.isIPosition(Ke)?wt.toCoords(Ke):Ke,lt={onSelect:(Nt=(0,a.A)(function*(tn,bn){wt._applyCodeAction(tn,!0,!!bn,ft.fromLightbulb?v.Qp.FromAILightbulb:v.Qp.FromCodeActions),wt._actionWidgetService.hide(!1),qt.clear()}),function(bn,Bn){return Nt.apply(this,arguments)}),onHide:Nt=>{var tn;null===(tn=wt._editor)||void 0===tn||tn.focus(),qt.clear(),ft.fromLightbulb&&void 0!==Nt&&wt._telemetryService.publicLog2("codeAction.showCodeActionList.onHide",{codeActionListLength:st.validActions.length,didCancel:Nt,codeActions:st.validActions.map(bn=>bn.action.title)})},onHover:function(){var Nt=(0,a.A)(function*(tn,bn){var Bn;if(bn.isCancellationRequested)return;let zn=!1;const Zn=tn.action.kind;if(Zn){const ei=new _.k(Zn);zn=[f.gB.RefactorExtract,f.gB.RefactorInline,f.gB.RefactorRewrite,f.gB.RefactorMove,f.gB.Source].some(hi=>hi.contains(ei))}return{canPreview:zn||!(null===(Bn=tn.action.edit)||void 0===Bn||!Bn.edits.length)}});return function(bn,Bn){return Nt.apply(this,arguments)}}(),onFocus:Nt=>{var tn,bn;if(Nt&&Nt.action){const Bn=Nt.action.ranges,zn=Nt.action.diagnostics;if(qt.clear(),Bn&&Bn.length>0){const Zn=zn&&zn?.length>1?zn.map(ei=>({range:ei,options:St.DECORATION})):Bn.map(ei=>({range:ei,options:St.DECORATION}));qt.set(Zn)}else if(zn&&zn.length>0){const Zn=zn.map(wi=>({range:wi,options:St.DECORATION}));qt.set(Zn);const ei=zn[0];if(ei.startLineNumber&&ei.startColumn){const wi=null===(bn=null===(tn=wt._editor.getModel())||void 0===tn?void 0:tn.getWordAtPosition({lineNumber:ei.startLineNumber,column:ei.startColumn}))||void 0===bn?void 0:bn.word;w.h5((0,k.kg)("editingNewSelection","Context: {0} at line {1} and column {2}.",wi,ei.startLineNumber,ei.startColumn))}}}else qt.clear()}};var Nt;wt._actionWidgetService.show("codeActionWidget",!0,function H(Ye,st,Ke){if(!st)return Ye.map(qt=>{var Yt;return{kind:"action",item:qt,group:O,disabled:!!qt.action.disabled,label:qt.action.disabled||qt.action.title,canPreview:!(null===(Yt=qt.action.edit)||void 0===Yt||!Yt.edits.length)}});const ft=N.map(qt=>({group:qt,actions:[]}));for(const qt of Ye){const Yt=qt.action.kind?new _.k(qt.action.kind):_.k.None;for(const en of ft)if(en.group.kind.contains(Yt)){en.actions.push(qt);break}}const wt=[];for(const qt of ft)if(qt.actions.length){wt.push({kind:"header",group:qt.group});for(const Yt of qt.actions){const en=qt.group;wt.push({kind:"action",item:Yt,group:Yt.action.isAI?{title:en.title,kind:en.kind,icon:T.W.sparkle}:en,label:Yt.action.title,disabled:!!Yt.action.disabled,keybinding:Ke(Yt.action)})}}return wt}(en,wt._shouldShowHeaders(),wt._resolver.getResolver()),lt,an,Yt,wt._getActionBarActions(st,Ke,ft))})()}toCoords(st){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(st,1),this._editor.render();const Ke=this._editor.getScrolledVisiblePosition(st),ft=(0,F.BK)(this._editor.getDomNode());return{x:ft.left+Ke.left,y:ft.top+Ke.top+Ke.height}}_shouldShowHeaders(){var st;const Ke=null===(st=this._editor)||void 0===st?void 0:st.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:Ke?.uri})}_getActionBarActions(st,Ke,ft){if(ft.fromLightbulb)return[];const wt=st.documentation.map(qt=>{var Yt;return{id:qt.id,label:qt.title,tooltip:null!==(Yt=qt.tooltip)&&void 0!==Yt?Yt:"",class:void 0,enabled:!0,run:()=>{var en;return this._commandService.executeCommand(qt.id,...null!==(en=qt.arguments)&&void 0!==en?en:[])}}});return ft.includeDisabledActions&&st.validActions.length>0&&st.allActions.length!==st.validActions.length&&wt.push(this._showDisabled?{id:"hideMoreActions",label:(0,k.kg)("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(st,Ke,ft))}:{id:"showMoreActions",label:(0,k.kg)("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(st,Ke,ft))}),wt}};Ze.ID="editor.contrib.codeActionController",Ze.DECORATION=P.kI.register({description:"quickfix-highlight",className:"quickfix-edit-highlight"}),Ze=St=function(Ye,st,Ke,ft){var Yt,wt=arguments.length,qt=wt<3?st:null===ft?ft=Object.getOwnPropertyDescriptor(st,Ke):ft;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qt=Reflect.decorate(Ye,st,Ke,ft);else for(var en=Ye.length-1;en>=0;en--)(Yt=Ye[en])&&(qt=(wt<3?Yt(qt):wt>3?Yt(st,Ke,qt):Yt(st,Ke))||qt);return wt>3&&qt&&Object.defineProperty(st,Ke,qt),qt}([Ut(1,Qe.DR),Ut(2,Ne.fN),Ut(3,qe._Y),Ut(4,D.u),Ut(5,mt.N8),Ut(6,ot.d),Ut(7,De.pG),Ut(8,on),Ut(9,qe._Y),Ut(10,Bt.k)],Ze),(0,Ht.zy)((Ye,st)=>{var qt;(qt=Ye.getColor(ne.Ubg))&&st.addRule(`.monaco-editor .quickfix-edit-highlight { background-color: ${qt}; }`);const ft=Ye.getColor(ne.ECk);ft&&st.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${(0,kt.Bb)(Ye.type)?"dotted":"solid"} ${ft}; box-sizing: border-box; }`)})},10524:(tt,xe,t)=>{t.d(xe,{D_:()=>l,Dc:()=>A});var a=t(10467),F=t(86671),w=t(25680),x=t(5643),C=t(99031),S=t(76698),b=t(99207),P=t(13632),D=t(14105),v=t(50168),_=t(47690),f=t(3132),d=t(77189),r=t(6260);const l=new v.N1("supportedCodeAction",""),g="_typescript.applyFixAllCodeAction";class p extends C.jG{constructor(O,N,H,L=250){super(),this._editor=O,this._markerService=N,this._signalChange=H,this._delay=L,this._autoTriggerTimer=this._register(new F.pc),this._register(this._markerService.onMarkerChanged(j=>this._onMarkerChanges(j))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(O){const N=this._getRangeOfSelectionUnlessWhitespaceEnclosed(O);this._signalChange(N?{trigger:O,selection:N}:void 0)}_onMarkerChanges(O){const N=this._editor.getModel();N&&O.some(H=>(0,S.n4)(H,N.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:f.fo.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(O){if(!this._editor.hasModel())return;const N=this._editor.getSelection();if(1===O.type)return N;const H=this._editor.getOption(65).enabled;if(H!==b.jT.Off){if(H===b.jT.On)return N;if(H===b.jT.OnCode){if(!N.isEmpty())return N;const j=this._editor.getModel(),{lineNumber:Z,column:te}=N.getPosition(),X=j.getLineContent(Z);if(0===X.length)return;if(1===te){if(/\s/.test(X[0]))return}else if(te===j.getLineMaxColumn(Z)){if(/\s/.test(X[X.length-1]))return}else if(/\s/.test(X[te-2])&&/\s/.test(X[te-1]))return}return N}}}var m,k;(k=m||(m={})).Empty={type:0},k.Triggered=class O{constructor(H,L,j){this.trigger=H,this.position=L,this._cancellablePromise=j,this.type=1,this.actions=j.catch(Z=>{if((0,w.MB)(Z))return T;throw Z})}cancel(){this._cancellablePromise.cancel()}};const T=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class A extends C.jG{constructor(O,N,H,L,j,Z){super(),this._editor=O,this._registry=N,this._markerService=H,this._progressService=j,this._configurationService=Z,this._codeActionOracle=this._register(new C.HE),this._state=m.Empty,this._onDidChangeState=this._register(new x.vl),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=l.bindTo(L),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._register(this._editor.onDidChangeConfiguration(te=>{te.hasChanged(65)&&this._update()})),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(m.Empty,!0))}_settingEnabledNearbyQuickfixes(){var O;const N=null===(O=this._editor)||void 0===O?void 0:O.getModel();return!!this._configurationService&&this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:N?.uri})}_update(){var O=this;if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(m.Empty);const N=this._editor.getModel();if(N&&this._registry.has(N)&&!this._editor.getOption(91)){const H=this._registry.all(N).flatMap(L=>{var j;return null!==(j=L.providedCodeActionKinds)&&void 0!==j?j:[]});this._supportedCodeActions.set(H.join(" ")),this._codeActionOracle.value=new p(this._editor,this._markerService,L=>{var j;if(!L)return void this.setState(m.Empty);const Z=L.selection.getStartPosition(),te=(0,F.SS)(function(){var q=(0,a.A)(function*(R){var W,Y,oe,z,G,Q,K,ie,ae,de;if(O._settingEnabledNearbyQuickfixes()&&1===L.trigger.type&&(L.trigger.triggerAction===f.fo.QuickFix||null!==(Y=null===(W=L.trigger.filter)||void 0===W?void 0:W.include)&&void 0!==Y&&Y.contains(f.gB.QuickFix))){const se=yield(0,d.dU)(O._registry,N,L.selection,L.trigger,_.ke.None,R),ge=[...se.allActions];if(R.isCancellationRequested)return T;const _e=null===(oe=se.validActions)||void 0===oe?void 0:oe.some(M=>!!M.action.kind&&f.gB.QuickFix.contains(new r.k(M.action.kind))),ye=O._markerService.read({resource:N.uri});if(_e){for(const M of se.validActions)null!==(G=null===(z=M.action.command)||void 0===z?void 0:z.arguments)&&void 0!==G&&G.some(ce=>"string"==typeof ce&&ce.includes(g))&&(M.action.diagnostics=[...ye.filter(ce=>ce.relatedInformation)]);return{validActions:se.validActions,allActions:ge,documentation:se.documentation,hasAutoFix:se.hasAutoFix,hasAIFix:se.hasAIFix,allAIFixes:se.allAIFixes,dispose:()=>{se.dispose()}}}if(!_e&&ye.length>0){const M=L.selection.getPosition();let ce=M,Se=Number.MAX_VALUE;const Ie=[...se.validActions];for(const ue of ye){const we=ue.endColumn,Me=ue.endLineNumber;if(Me===M.lineNumber||ue.startLineNumber===M.lineNumber){ce=new P.y(Me,we);const $e={type:L.trigger.type,triggerAction:L.trigger.triggerAction,filter:{include:null!==(Q=L.trigger.filter)&&void 0!==Q&&Q.include?null===(K=L.trigger.filter)||void 0===K?void 0:K.include:f.gB.QuickFix},autoApply:L.trigger.autoApply,context:{notAvailableMessage:(null===(ie=L.trigger.context)||void 0===ie?void 0:ie.notAvailableMessage)||"",position:ce}},it=new D.L(ce.lineNumber,ce.column,ce.lineNumber,ce.column),He=yield(0,d.dU)(O._registry,N,it,$e,_.ke.None,R);if(0!==He.validActions.length){for(const me of He.validActions)null!==(de=null===(ae=me.action.command)||void 0===ae?void 0:ae.arguments)&&void 0!==de&&de.some(le=>"string"==typeof le&&le.includes(g))&&(me.action.diagnostics=[...ye.filter(le=>le.relatedInformation)]);0===se.allActions.length&&ge.push(...He.allActions),Math.abs(M.column-we)<Se?Ie.unshift(...He.validActions):Ie.push(...He.validActions)}Se=Math.abs(M.column-we)}}const ne=Ie.filter((ue,we,Me)=>Me.findIndex(Ve=>Ve.action.title===ue.action.title)===we);return ne.sort((ue,we)=>ue.action.isPreferred&&!we.action.isPreferred?-1:!ue.action.isPreferred&&we.action.isPreferred||ue.action.isAI&&!we.action.isAI?1:!ue.action.isAI&&we.action.isAI?-1:0),{validActions:ne,allActions:ge,documentation:se.documentation,hasAutoFix:se.hasAutoFix,hasAIFix:se.hasAIFix,allAIFixes:se.allAIFixes,dispose:()=>{se.dispose()}}}}return(0,d.dU)(O._registry,N,L.selection,L.trigger,_.ke.None,R)});return function(R){return q.apply(this,arguments)}}());1===L.trigger.type&&(null===(j=this._progressService)||void 0===j||j.showWhile(te,250));const X=new m.Triggered(L.trigger,Z,te);let U=!1;1===this._state.type&&(U=1===this._state.trigger.type&&1===X.type&&2===X.trigger.type&&this._state.position!==X.position),U?setTimeout(()=>{this.setState(X)},500):this.setState(X)},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:f.fo.Default})}else this._supportedCodeActions.reset()}trigger(O){var N;null===(N=this._codeActionOracle.value)||void 0===N||N.trigger(O)}setState(O,N){O!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=O,!N&&!this._disposed&&this._onDidChangeState.fire(O))}}},81864:(tt,xe,t)=>{t.d(xe,{E:()=>R});var a=t(91874),F=t(28541),w=t(15320),x=t(5643),C=t(99031),S=t(81072),b=t(85072),P=t.n(b),D=t(97825),v=t.n(D),_=t(77659),f=t.n(_),d=t(55056),r=t.n(d),l=t(10540),g=t.n(l),p=t(41113),m=t.n(p),T=t(4169),A={};A.styleTagTransform=m(),A.setAttributes=r(),A.insert=f().bind(null,"head"),A.domAPI=v(),A.insertStyleElement=g(),P()(T.A,A);var U,q,W,N=t(53136),H=t(77189),L=t(81644),j=t(51126),Z=t(59002),X=function(W,Y){return function(oe,z){Y(oe,z,W)}};(W=q||(q={})).Hidden={type:0},W.Showing=class Y{constructor(z,G,Q,K){this.actions=z,this.trigger=G,this.editorPosition=Q,this.widgetPosition=K,this.type=1}};let R=U=class extends C.jG{constructor(Y,oe,z){super(),this._editor=Y,this._keybindingService=oe,this._onClick=this._register(new x.vl),this.onClick=this._onClick.event,this._state=q.Hidden,this._iconClasses=[],this._domNode=a.$("div.lightBulbWidget"),this._domNode.role="listbox",this._register(F.q.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(G=>{const Q=this._editor.getModel();(1!==this.state.type||!Q||this.state.editorPosition.lineNumber>=Q.getLineCount())&&this.hide()})),this._register(a.Xc(this._domNode,G=>{if(1!==this.state.type)return;this._editor.focus(),G.preventDefault();const{top:Q,height:K}=a.BK(this._domNode),ie=this._editor.getOption(67);let ae=Math.floor(ie/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(ae+=ie),this._onClick.fire({x:G.posx,y:Q+K+ae,actions:this.state.actions,trigger:this.state.trigger})})),this._register(a.ko(this._domNode,"mouseenter",G=>{!(1&~G.buttons)&&this.hide()})),this._register(x.Jh.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{var G,Q,K,ie;this._preferredKbLabel=null!==(Q=null===(G=this._keybindingService.lookupKeybinding(H.pR))||void 0===G?void 0:G.getLabel())&&void 0!==Q?Q:void 0,this._quickFixKbLabel=null!==(ie=null===(K=this._keybindingService.lookupKeybinding(H.pQ))||void 0===K?void 0:K.getLabel())&&void 0!==ie?ie:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(Y,oe,z){if(Y.validActions.length<=0)return this.hide();if(!this._editor.getOptions().get(65).enabled)return this.hide();const Q=this._editor.getModel();if(!Q)return this.hide();const{lineNumber:K,column:ie}=Q.validatePosition(z),ae=Q.getOptions().tabSize,de=this._editor.getOptions().get(50),se=Q.getLineContent(K),ge=(0,N.G)(se,ae),ye=ne=>ne>2&&this._editor.getTopForLineNumber(ne)===this._editor.getTopForLineNumber(ne-1);let M=K,ce=1;if(!(de.spaceWidth*ge>22)){if(K>1&&!ye(K-1))M-=1;else if(K<Q.getLineCount()&&!ye(K+1))M+=1;else if(ie*de.spaceWidth<22)return this.hide();ce=/^\S\s*$/.test(Q.getLineContent(M))?2:1}this.state=new q.Showing(Y,oe,z,{position:{lineNumber:M,column:ce},preference:U._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==q.Hidden&&(this.state=q.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(Y){this._state=Y,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],1!==this.state.type)return;let Y,oe=!1;this.state.actions.allAIFixes?(Y=w.W.sparkleFilled,1===this.state.actions.validActions.length&&(oe=!0)):Y=this.state.actions.hasAutoFix?this.state.actions.hasAIFix?w.W.lightbulbSparkleAutofix:w.W.lightbulbAutofix:this.state.actions.hasAIFix?w.W.lightbulbSparkle:w.W.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,oe),this._iconClasses=S.L.asClassNameArray(Y),this._domNode.classList.add(...this._iconClasses)}_updateLightbulbTitle(Y,oe){1===this.state.type&&(oe?this.title=L.kg("codeActionAutoRun","Run: {0}",this.state.actions.validActions[0].action.title):Y&&this._preferredKbLabel?this.title=L.kg("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel):!Y&&this._quickFixKbLabel?this.title=L.kg("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):Y||(this.title=L.kg("codeAction","Show Code Actions")))}set title(Y){this._domNode.title=Y}};R.ID="editor.contrib.lightbulbWidget",R._posPref=[0],R=U=function(W,Y,oe,z){var K,G=arguments.length,Q=G<3?Y:null===z?z=Object.getOwnPropertyDescriptor(Y,oe):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Q=Reflect.decorate(W,Y,oe,z);else for(var ie=W.length-1;ie>=0;ie--)(K=W[ie])&&(Q=(G<3?K(Q):G>3?K(Y,oe,Q):K(Y,oe))||Q);return G>3&&Q&&Object.defineProperty(Y,oe,Q),Q}([X(1,Z.b),X(2,j.d)],R)},3132:(tt,xe,t)=>{t.d(xe,{QA:()=>D,Vi:()=>v,aF:()=>b,fo:()=>C,gB:()=>x,uJ:()=>S});var a=t(10467),F=t(25680),w=t(6260);const x=new class{constructor(){this.QuickFix=new w.k("quickfix"),this.Refactor=new w.k("refactor"),this.RefactorExtract=this.Refactor.append("extract"),this.RefactorInline=this.Refactor.append("inline"),this.RefactorMove=this.Refactor.append("move"),this.RefactorRewrite=this.Refactor.append("rewrite"),this.Notebook=new w.k("notebook"),this.Source=new w.k("source"),this.SourceOrganizeImports=this.Source.append("organizeImports"),this.SourceFixAll=this.Source.append("fixAll"),this.SurroundWith=this.Refactor.append("surround")}};var C=function(_){return _.Refactor="refactor",_.RefactorPreview="refactor preview",_.Lightbulb="lightbulb",_.Default="other (default)",_.SourceAction="source action",_.QuickFix="quick fix action",_.FixAll="fix all",_.OrganizeImports="organize imports",_.AutoFix="auto fix",_.QuickFixHover="quick fix hover window",_.OnSave="save participants",_.ProblemsView="problems view",_}(C||{});function S(_,f){return!(_.include&&!_.include.intersects(f)||_.excludes&&_.excludes.some(d=>P(f,d,_.include))||!_.includeSourceActions&&x.Source.contains(f))}function b(_,f){const d=f.kind?new w.k(f.kind):void 0;return!(_.include&&(!d||!_.include.contains(d))||_.excludes&&d&&_.excludes.some(r=>P(d,r,_.include))||!_.includeSourceActions&&d&&x.Source.contains(d)||_.onlyIncludePreferredActions&&!f.isPreferred)}function P(_,f,d){return!(!f.contains(_)||d&&f.contains(d))}class D{static fromUser(f,d){return f&&"object"==typeof f?new D(D.getKindFromUser(f,d.kind),D.getApplyFromUser(f,d.apply),D.getPreferredUser(f)):new D(d.kind,d.apply,!1)}static getApplyFromUser(f,d){switch("string"==typeof f.apply?f.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return d}}static getKindFromUser(f,d){return"string"==typeof f.kind?new w.k(f.kind):d}static getPreferredUser(f){return"boolean"==typeof f.preferred&&f.preferred}constructor(f,d,r){this.kind=f,this.apply=d,this.preferred=r}}class v{constructor(f,d,r){this.action=f,this.provider=d,this.highlightRange=r}resolve(f){var d=this;return(0,a.A)(function*(){var r;if(null!==(r=d.provider)&&void 0!==r&&r.resolveCodeAction&&!d.action.edit){let l;try{l=yield d.provider.resolveCodeAction(d.action,f)}catch(g){(0,F.M_)(g)}l&&(d.action.edit=l.edit)}return d})()}}},47554:(tt,xe,t)=>{var a=t(10467),F=t(86671),w=t(25680),x=t(99031),C=t(44583),S=t(47639),b=t(99207),P=t(69995),D=t(21468),v=t(66702),_=t(32417),f=t(31925),d=t(51126),r=t(15307);class l{constructor(){this.lenses=[],this._disposables=new x.Cm}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(be,Ce){this._disposables.add(be);for(const Ne of be.lenses)this.lenses.push({symbol:Ne,provider:Ce})}}function g(Ee,be,Ce){return p.apply(this,arguments)}function p(){return p=(0,a.A)(function*(Ee,be,Ce){const Ne=Ee.ordered(be),Fe=new Map,qe=new l,dt=Ne.map(function(){var vt=(0,a.A)(function*(fn,on){Fe.set(fn,on);try{const ht=yield Promise.resolve(fn.provideCodeLenses(be,Ce));ht&&qe.add(ht,fn)}catch(ht){(0,w.M_)(ht)}});return function(fn,on){return vt.apply(this,arguments)}}());return yield Promise.all(dt),qe.lenses=qe.lenses.sort((vt,fn)=>vt.symbol.range.startLineNumber<fn.symbol.range.startLineNumber?-1:vt.symbol.range.startLineNumber>fn.symbol.range.startLineNumber?1:Fe.get(vt.provider)<Fe.get(fn.provider)?-1:Fe.get(vt.provider)>Fe.get(fn.provider)?1:vt.symbol.range.startColumn<fn.symbol.range.startColumn?-1:vt.symbol.range.startColumn>fn.symbol.range.startColumn?1:0),qe}),p.apply(this,arguments)}d.w.registerCommand("_executeCodeLensProvider",function(Ee,...be){let[Ce,Ne]=be;(0,v.j)(_.r.isUri(Ce)),(0,v.j)("number"==typeof Ne||!Ne);const{codeLensProvider:Fe}=Ee.get(r.u),qe=Ee.get(f.S).getModel(Ce);if(!qe)throw(0,w.Qg)();const dt=[],vt=new x.Cm;return g(Fe,qe,D.XO.None).then(fn=>{vt.add(fn);const on=[];for(const ht of fn.lenses)null==Ne||ht.symbol.command?dt.push(ht.symbol):Ne-- >0&&ht.provider.resolveCodeLens&&on.push(Promise.resolve(ht.provider.resolveCodeLens(qe,ht.symbol,D.XO.None)).then(Je=>dt.push(Je||ht.symbol)));return Promise.all(on)}).then(()=>dt).finally(()=>{setTimeout(()=>vt.dispose(),100)})});var m=t(5643),T=t(20053),A=t(73678),k=t(56789),O=t(598),N=t(16815),H=t(63096),L=t(91874);const te=(0,O.u1)("ICodeLensCache");class X{constructor(be,Ce){this.lineCount=be,this.data=Ce}}let U=class{constructor(be){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new T.qK(20,.75),(0,L.U3)(H.G,()=>be.remove("codelens/cache",1));const Ne="codelens/cache2",Fe=be.get(Ne,1,"{}");this._deserialize(Fe),m.Jh.once(be.onWillSaveState)(qe=>{qe.reason===N.LP.SHUTDOWN&&be.store(Ne,this._serialize(),1,1)})}put(be,Ce){const Ne=Ce.lenses.map(dt=>{var vt;return{range:dt.symbol.range,command:dt.symbol.command&&{id:"",title:null===(vt=dt.symbol.command)||void 0===vt?void 0:vt.title}}}),Fe=new l;Fe.add({lenses:Ne,dispose:()=>{}},this._fakeProvider);const qe=new X(be.getLineCount(),Fe);this._cache.set(be.uri.toString(),qe)}get(be){const Ce=this._cache.get(be.uri.toString());return Ce&&Ce.lineCount===be.getLineCount()?Ce.data:void 0}delete(be){this._cache.delete(be.uri.toString())}_serialize(){const be=Object.create(null);for(const[Ce,Ne]of this._cache){const Fe=new Set;for(const qe of Ne.data.lenses)Fe.add(qe.symbol.range.startLineNumber);be[Ce]={lineCount:Ne.lineCount,lines:[...Fe.values()]}}return JSON.stringify(be)}_deserialize(be){try{const Ce=JSON.parse(be);for(const Ne in Ce){const Fe=Ce[Ne],qe=[];for(const vt of Fe.lines)qe.push({range:new A.Q(vt,1,vt,11)});const dt=new l;dt.add({lenses:qe,dispose(){}},this._fakeProvider),this._cache.set(Ne,new X(Fe.lineCount,dt))}}catch{}}};var be;U=function(Ee,be,Ce,Ne){var dt,Fe=arguments.length,qe=Fe<3?be:null===Ne?Ne=Object.getOwnPropertyDescriptor(be,Ce):Ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qe=Reflect.decorate(Ee,be,Ce,Ne);else for(var vt=Ee.length-1;vt>=0;vt--)(dt=Ee[vt])&&(qe=(Fe<3?dt(qe):Fe>3?dt(be,Ce,qe):dt(be,Ce))||qe);return Fe>3&&qe&&Object.defineProperty(be,Ce,qe),qe}([(0,be=N.CS,function(Ce,Ne){be(Ce,Ne,0)})],U),(0,k.v)(te,U,1);var q=t(51817),R=t(85072),W=t.n(R),Y=t(97825),oe=t.n(Y),z=t(77659),G=t.n(z),Q=t(55056),K=t.n(Q),ie=t(10540),ae=t.n(ie),de=t(41113),se=t.n(de),ge=t(61727),_e={};_e.styleTagTransform=se(),_e.setAttributes=K(),_e.insert=G().bind(null,"head"),_e.domAPI=oe(),_e.insertStyleElement=ae(),W()(ge.A,_e);var ce=t(80753);class Se{constructor(be,Ce,Ne){this.afterColumn=1073741824,this.afterLineNumber=be,this.heightInPx=Ce,this._onHeight=Ne,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(be){void 0===this._lastHeight?this._lastHeight=be:this._lastHeight!==be&&(this._lastHeight=be,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}let Ie=(()=>{class Ee{constructor(Ce,Ne){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=Ce,this._id="codelens.widget-"+Ee._idPool++,this.updatePosition(Ne),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(Ce,Ne){this._commands.clear();const Fe=[];let qe=!1;for(let dt=0;dt<Ce.length;dt++){const vt=Ce[dt];if(vt&&(qe=!0,vt.command)){const fn=(0,q.n)(vt.command.title.trim());if(vt.command.id){const on="c"+Ee._idPool++;Fe.push(L.$("a",{id:on,title:vt.command.tooltip,role:"button"},...fn)),this._commands.set(on,vt.command)}else Fe.push(L.$("span",{title:vt.command.tooltip},...fn));dt+1<Ce.length&&Fe.push(L.$("span",void 0,"\xa0|\xa0"))}}qe?(L.Ln(this._domNode,...Fe),this._isEmpty&&Ne&&this._domNode.classList.add("fadein"),this._isEmpty=!1):L.Ln(this._domNode,L.$("span",void 0,"no commands"))}getCommand(Ce){return Ce.parentElement===this._domNode?this._commands.get(Ce.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(Ce){const Ne=this._editor.getModel().getLineFirstNonWhitespaceColumn(Ce);this._widgetPosition={position:{lineNumber:Ce,column:Ne},preference:[1]}}getPosition(){return this._widgetPosition||null}}return Ee._idPool=0,Ee})();class ne{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(be,Ce){this._addDecorations.push(be),this._addDecorationsCallbacks.push(Ce)}removeDecoration(be){this._removeDecorations.push(be)}commit(be){const Ce=be.deltaDecorations(this._removeDecorations,this._addDecorations);for(let Ne=0,Fe=Ce.length;Ne<Fe;Ne++)this._addDecorationsCallbacks[Ne](Ce[Ne])}}const ue=ce.kI.register({collapseOnReplaceEdit:!0,description:"codelens"});class we{constructor(be,Ce,Ne,Fe,qe,dt){let vt;this._isDisposed=!1,this._editor=Ce,this._data=be,this._decorationIds=[];const fn=[];this._data.forEach((on,ht)=>{on.symbol.command&&fn.push(on.symbol),Ne.addDecoration({range:on.symbol.range,options:ue},Je=>this._decorationIds[ht]=Je),vt=vt?A.Q.plusRange(vt,on.symbol.range):A.Q.lift(on.symbol.range)}),this._viewZone=new Se(vt.startLineNumber-1,qe,dt),this._viewZoneId=Fe.addZone(this._viewZone),fn.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(fn,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new Ie(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(be,Ce){this._decorationIds.forEach(be.removeDecoration,be),this._decorationIds=[],Ce?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((be,Ce)=>{const Ne=this._editor.getModel().getDecorationRange(be);return!(!Ne||A.Q.isEmpty(this._data[Ce].symbol.range)!==Ne.isEmpty())})}updateCodeLensSymbols(be,Ce){this._decorationIds.forEach(Ce.removeDecoration,Ce),this._decorationIds=[],this._data=be,this._data.forEach((Ne,Fe)=>{Ce.addDecoration({range:Ne.symbol.range,options:ue},qe=>this._decorationIds[Fe]=qe)})}updateHeight(be,Ce){this._viewZone.heightInPx=be,Ce.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(be){if(!this._viewZone.isVisible())return null;for(let Ce=0;Ce<this._decorationIds.length;Ce++){const Ne=be.getDecorationRange(this._decorationIds[Ce]);Ne&&(this._data[Ce].symbol.range=Ne)}return this._data}updateCommands(be){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(be,!0);for(let Ce=0;Ce<this._data.length;Ce++){const Ne=be[Ce];if(Ne){const{symbol:Fe}=this._data[Ce];Fe.command=Ne.command||Fe.command}}}getCommand(be){var Ce;return null===(Ce=this._contentWidget)||void 0===Ce?void 0:Ce.getCommand(be)}getLineNumber(){const be=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return be?be.startLineNumber:-1}update(be){if(this.isValid()){const Ce=this._editor.getModel().getDecorationRange(this._decorationIds[0]);Ce&&(this._viewZone.afterLineNumber=Ce.startLineNumber-1,be.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(Ce.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var Me=t(81644),Ve=t(16362),$e=t(8086),it=t(67539),me=function(Ee,be){return function(Ce,Ne){be(Ce,Ne,Ee)}};let le=class{constructor(be,Ce,Ne,Fe,qe,dt){this._editor=be,this._languageFeaturesService=Ce,this._commandService=Fe,this._notificationService=qe,this._codeLensCache=dt,this._disposables=new x.Cm,this._localToDispose=new x.Cm,this._lenses=[],this._oldCodeLensModels=new x.Cm,this._provideCodeLensDebounce=Ne.for(Ce.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=Ne.for(Ce.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new F.uC(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(vt=>{(vt.hasChanged(50)||vt.hasChanged(19)||vt.hasChanged(18))&&this._updateLensStyle(),vt.hasChanged(17)&&this._onModelChange()})),this._disposables.add(Ce.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var be;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(be=this._currentCodeLensModel)||void 0===be||be.dispose()}_getLayoutInfo(){const be=Math.max(1.3,this._editor.getOption(67)/this._editor.getOption(52));let Ce=this._editor.getOption(19);return(!Ce||Ce<5)&&(Ce=.9*this._editor.getOption(52)|0),{fontSize:Ce,codeLensHeight:Ce*be|0}}_updateLensStyle(){const{codeLensHeight:be,fontSize:Ce}=this._getLayoutInfo(),Ne=this._editor.getOption(18),Fe=this._editor.getOption(50),{style:qe}=this._editor.getContainerDomNode();qe.setProperty("--vscode-editorCodeLens-lineHeight",`${be}px`),qe.setProperty("--vscode-editorCodeLens-fontSize",`${Ce}px`),qe.setProperty("--vscode-editorCodeLens-fontFeatureSettings",Fe.fontFeatureSettings),Ne&&(qe.setProperty("--vscode-editorCodeLens-fontFamily",Ne),qe.setProperty("--vscode-editorCodeLens-fontFamilyDefault",b.jU.fontFamily)),this._editor.changeViewZones(dt=>{for(const vt of this._lenses)vt.updateHeight(be,dt)})}_localDispose(){var be,Ce,Ne;null===(be=this._getCodeLensModelPromise)||void 0===be||be.cancel(),this._getCodeLensModelPromise=void 0,null===(Ce=this._resolveCodeLensesPromise)||void 0===Ce||Ce.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(Ne=this._currentCodeLensModel)||void 0===Ne||Ne.dispose()}_onModelChange(){this._localDispose();const be=this._editor.getModel();if(!be||!this._editor.getOption(17)||be.isTooLargeForTokenization())return;const Ce=this._codeLensCache.get(be);if(Ce&&this._renderCodeLensSymbols(Ce),!this._languageFeaturesService.codeLensProvider.has(be))return void(Ce&&(0,F.EQ)(()=>{const Fe=this._codeLensCache.get(be);Ce===Fe&&(this._codeLensCache.delete(be),this._onModelChange())},3e4,this._localToDispose));for(const Fe of this._languageFeaturesService.codeLensProvider.all(be))if("function"==typeof Fe.onDidChange){const qe=Fe.onDidChange(()=>Ne.schedule());this._localToDispose.add(qe)}const Ne=new F.uC(()=>{var Fe;const qe=Date.now();null===(Fe=this._getCodeLensModelPromise)||void 0===Fe||Fe.cancel(),this._getCodeLensModelPromise=(0,F.SS)(dt=>g(this._languageFeaturesService.codeLensProvider,be,dt)),this._getCodeLensModelPromise.then(dt=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=dt,this._codeLensCache.put(be,dt);const vt=this._provideCodeLensDebounce.update(be,Date.now()-qe);Ne.delay=vt,this._renderCodeLensSymbols(dt),this._resolveCodeLensesInViewportSoon()},w.dz)},this._provideCodeLensDebounce.get(be));this._localToDispose.add(Ne),this._localToDispose.add((0,x.s)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var Fe;this._editor.changeDecorations(qe=>{this._editor.changeViewZones(dt=>{const vt=[];let fn=-1;this._lenses.forEach(ht=>{ht.isValid()&&fn!==ht.getLineNumber()?(ht.update(dt),fn=ht.getLineNumber()):vt.push(ht)});const on=new ne;vt.forEach(ht=>{ht.dispose(on,dt),this._lenses.splice(this._lenses.indexOf(ht),1)}),on.commit(qe)})}),Ne.schedule(),this._resolveCodeLensesScheduler.cancel(),null===(Fe=this._resolveCodeLensesPromise)||void 0===Fe||Fe.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorText(()=>{Ne.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{Ne.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(Fe=>{Fe.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,x.s)(()=>{if(this._editor.getModel()){const Fe=C.D.capture(this._editor);this._editor.changeDecorations(qe=>{this._editor.changeViewZones(dt=>{this._disposeAllLenses(qe,dt)})}),Fe.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(Fe=>{if(9!==Fe.target.type)return;let qe=Fe.target.element;if("SPAN"===qe?.tagName&&(qe=qe.parentElement),"A"===qe?.tagName)for(const dt of this._lenses){const vt=dt.getCommand(qe);if(vt){this._commandService.executeCommand(vt.id,...vt.arguments||[]).catch(fn=>this._notificationService.error(fn));break}}})),Ne.schedule()}_disposeAllLenses(be,Ce){const Ne=new ne;for(const Fe of this._lenses)Fe.dispose(Ne,Ce);be&&Ne.commit(be),this._lenses.length=0}_renderCodeLensSymbols(be){if(!this._editor.hasModel())return;const Ce=this._editor.getModel().getLineCount(),Ne=[];let Fe;for(const vt of be.lenses){const fn=vt.symbol.range.startLineNumber;fn<1||fn>Ce||(Fe&&Fe[Fe.length-1].symbol.range.startLineNumber===fn?Fe.push(vt):(Fe=[vt],Ne.push(Fe)))}if(!Ne.length&&!this._lenses.length)return;const qe=C.D.capture(this._editor),dt=this._getLayoutInfo();this._editor.changeDecorations(vt=>{this._editor.changeViewZones(fn=>{const on=new ne;let ht=0,Je=0;for(;Je<Ne.length&&ht<this._lenses.length;){const ot=Ne[Je][0].symbol.range.startLineNumber,De=this._lenses[ht].getLineNumber();De<ot?(this._lenses[ht].dispose(on,fn),this._lenses.splice(ht,1)):De===ot?(this._lenses[ht].updateCodeLensSymbols(Ne[Je],on),Je++,ht++):(this._lenses.splice(ht,0,new we(Ne[Je],this._editor,on,fn,dt.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),ht++,Je++)}for(;ht<this._lenses.length;)this._lenses[ht].dispose(on,fn),this._lenses.splice(ht,1);for(;Je<Ne.length;)this._lenses.push(new we(Ne[Je],this._editor,on,fn,dt.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),Je++;on.commit(vt)})}),qe.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var be;null===(be=this._resolveCodeLensesPromise)||void 0===be||be.cancel(),this._resolveCodeLensesPromise=void 0;const Ce=this._editor.getModel();if(!Ce)return;const Ne=[],Fe=[];if(this._lenses.forEach(vt=>{const fn=vt.computeIfNecessary(Ce);fn&&(Ne.push(fn),Fe.push(vt))}),0===Ne.length)return;const qe=Date.now(),dt=(0,F.SS)(vt=>{const fn=Ne.map((on,ht)=>{const Je=new Array(on.length),ot=on.map((De,Qe)=>De.symbol.command||"function"!=typeof De.provider.resolveCodeLens?(Je[Qe]=De.symbol,Promise.resolve(void 0)):Promise.resolve(De.provider.resolveCodeLens(Ce,De.symbol,vt)).then(mt=>{Je[Qe]=mt},w.M_));return Promise.all(ot).then(()=>{!vt.isCancellationRequested&&!Fe[ht].isDisposed()&&Fe[ht].updateCommands(Je)})});return Promise.all(fn)});this._resolveCodeLensesPromise=dt,this._resolveCodeLensesPromise.then(()=>{const vt=this._resolveCodeLensesDebounce.update(Ce,Date.now()-qe);this._resolveCodeLensesScheduler.delay=vt,this._currentCodeLensModel&&this._codeLensCache.put(Ce,this._currentCodeLensModel),this._oldCodeLensModels.clear(),dt===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},vt=>{(0,w.dz)(vt),dt===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){var be=this;return(0,a.A)(function*(){var Ce;return yield be._getCodeLensModelPromise,yield be._resolveCodeLensesPromise,null!==(Ce=be._currentCodeLensModel)&&void 0!==Ce&&Ce.isDisposed?void 0:be._currentCodeLensModel})()}};le.ID="css.editor.codeLens",le=function(Ee,be,Ce,Ne){var dt,Fe=arguments.length,qe=Fe<3?be:null===Ne?Ne=Object.getOwnPropertyDescriptor(be,Ce):Ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qe=Reflect.decorate(Ee,be,Ce,Ne);else for(var vt=Ee.length-1;vt>=0;vt--)(dt=Ee[vt])&&(qe=(Fe<3?dt(qe):Fe>3?dt(be,Ce,qe):dt(be,Ce))||qe);return Fe>3&&qe&&Object.defineProperty(be,Ce,qe),qe}([me(1,r.u),me(2,it.U),me(3,d.d),me(4,Ve.Ot),me(5,te)],le),(0,S.HW)(le.ID,le,1),(0,S.Fl)(class extends S.ks{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:P.R.hasCodeLensProvider,label:(0,Me.kg)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(be,Ce){return(0,a.A)(function*(){if(!Ce.hasModel())return;const Ne=be.get($e.GK),Fe=be.get(d.d),qe=be.get(Ve.Ot),dt=Ce.getSelection().positionLineNumber,vt=Ce.getContribution(le.ID);if(!vt)return;const fn=yield vt.getModel();if(!fn)return;const on=[];for(const ot of fn.lenses)ot.symbol.command&&ot.symbol.range.startLineNumber===dt&&on.push({label:ot.symbol.command.title,command:ot.symbol.command});if(0===on.length)return;const ht=yield Ne.pick(on,{canPickMany:!1,placeHolder:(0,Me.kg)("placeHolder","Select a command")});if(!ht)return;let Je=ht.command;if(fn.isDisposed){const ot=yield vt.getModel(),De=ot?.lenses.find(Qe=>{var mt;return Qe.symbol.range.startLineNumber===dt&&(null===(mt=Qe.symbol.command)||void 0===mt?void 0:mt.title)===Je.title});if(!De||!De.symbol.command)return;Je=De.symbol.command}try{yield Fe.executeCommand(Je.id,...Je.arguments||[])}catch(ot){qe.error(ot)}})()}})},1181:(tt,xe,t)=>{t.d(xe,{R:()=>d,j:()=>_});var a=t(10467),F=t(21468),w=t(25680),x=t(32417),C=t(73678),S=t(31925),b=t(51126),P=t(15307),D=t(33182),v=t(35072);function _(A,k,O){return f.apply(this,arguments)}function f(){return(f=(0,a.A)(function*(A,k,O,N=!0){return p(new r,A,k,O,N)})).apply(this,arguments)}function d(A,k,O,N){return Promise.resolve(O.provideColorPresentations(A,k,N))}class r{constructor(){}compute(k,O,N,H){return(0,a.A)(function*(){const L=yield k.provideDocumentColors(O,N);if(Array.isArray(L))for(const j of L)H.push({colorInfo:j,provider:k});return Array.isArray(L)})()}}class l{constructor(){}compute(k,O,N,H){return(0,a.A)(function*(){const L=yield k.provideDocumentColors(O,N);if(Array.isArray(L))for(const j of L)H.push({range:j.range,color:[j.color.red,j.color.green,j.color.blue,j.color.alpha]});return Array.isArray(L)})()}}class g{constructor(k){this.colorInfo=k}compute(k,O,N,H){var L=this;return(0,a.A)(function*(){const j=yield k.provideColorPresentations(O,L.colorInfo,F.XO.None);return Array.isArray(j)&&H.push(...j),Array.isArray(j)})()}}function p(A,k,O,N,H){return m.apply(this,arguments)}function m(){return(m=(0,a.A)(function*(A,k,O,N,H){let j,L=!1;const Z=[],te=k.ordered(O);for(let X=te.length-1;X>=0;X--){const U=te[X];if(U instanceof D.L)j=U;else try{(yield A.compute(U,O,N,Z))&&(L=!0)}catch(q){(0,w.M_)(q)}}return L?Z:j&&H?(yield A.compute(j,O,N,Z),Z):[]})).apply(this,arguments)}function T(A,k){const{colorProvider:O}=A.get(P.u),N=A.get(S.S).getModel(k);if(!N)throw(0,w.Qg)();return{model:N,colorProviderRegistry:O,isDefaultColorDecoratorsEnabled:A.get(v.pG).getValue("editor.defaultColorDecorators",{resource:k})}}b.w.registerCommand("_executeDocumentColorProvider",function(A,...k){const[O]=k;if(!(O instanceof x.r))throw(0,w.Qg)();const{model:N,colorProviderRegistry:H,isDefaultColorDecoratorsEnabled:L}=T(A,O);return p(new l,H,N,F.XO.None,L)}),b.w.registerCommand("_executeColorPresentationProvider",function(A,...k){const[O,N]=k,{uri:H,range:L}=N;if(!(H instanceof x.r&&Array.isArray(O)&&4===O.length&&C.Q.isIRange(L)))throw(0,w.Qg)();const{model:j,colorProviderRegistry:Z,isDefaultColorDecoratorsEnabled:te}=T(A,H),[X,U,q,R]=O;return p(new g({range:L,color:{red:X,green:U,blue:q,alpha:R}}),Z,j,F.XO.None,te)})},99498:(tt,xe,t)=>{var a=t(99031),F=t(47639),w=t(73678),x=t(34403),C=t(78111),S=t(45550),b=t(85190);let P=(()=>{class D extends a.jG{constructor(_){super(),this._editor=_,this._register(_.onMouseDown(f=>this.onMouseDown(f)))}dispose(){super.dispose()}onMouseDown(_){const f=this._editor.getOption(148);if("click"!==f&&"clickAndHover"!==f)return;const d=_.target;if(6!==d.type||!d.detail.injectedText||d.detail.injectedText.options.attachedData!==x.nM||!d.range)return;const r=this._editor.getContribution(S.n.ID);if(r&&!r.isColorPickerVisible){const l=new w.Q(d.range.startLineNumber,d.range.startColumn+1,d.range.endLineNumber,d.range.endColumn+1);r.showContentHover(l,1,0,!1,!0)}}}return D.ID="editor.contrib.colorContribution",D})();(0,F.HW)(P.ID,P,2),b.B2.register(C.BJ)},34403:(tt,xe,t)=>{t.d(xe,{mn:()=>k,nM:()=>A});var T,a=t(10467),F=t(86671),w=t(84072),x=t(25680),C=t(5643),S=t(99031),b=t(42588),P=t(6653),D=t(17105),v=t(47639),_=t(73678),f=t(80753),d=t(67539),r=t(15307),l=t(1181),g=t(35072),m=function(N,H){return function(L,j){H(L,j,N)}};const A=Object.create({});let k=T=class extends S.jG{constructor(H,L,j,Z){super(),this._editor=H,this._configurationService=L,this._languageFeaturesService=j,this._localToDispose=this._register(new S.Cm),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new D.Qn(this._editor),this._decoratorLimitReporter=new O,this._colorDecorationClassRefs=this._register(new S.Cm),this._debounceInformation=Z.for(j.colorProvider,"Document Colors",{min:T.RECOMPUTE_TIME}),this._register(H.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(H.onDidChangeModelLanguage(()=>this.updateColors())),this._register(j.colorProvider.onDidChange(()=>this.updateColors())),this._register(H.onDidChangeConfiguration(te=>{const X=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(147);const U=X!==this._isColorDecoratorsEnabled||te.hasChanged(21),q=te.hasChanged(147);(U||q)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(147),this.updateColors()}isEnabled(){const H=this._editor.getModel();if(!H)return!1;const L=H.getLanguageId(),j=this._configurationService.getValue(L);if(j&&"object"==typeof j){const Z=j.colorDecorators;if(Z&&void 0!==Z.enable&&!Z.enable)return Z.enable}return this._editor.getOption(20)}static get(H){return H.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const H=this._editor.getModel();!H||!this._languageFeaturesService.colorProvider.has(H)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new F.pc,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(H)))})),this.beginCompute())}beginCompute(){var H=this;return(0,a.A)(function*(){H._computePromise=(0,F.SS)(function(){var L=(0,a.A)(function*(j){const Z=H._editor.getModel();if(!Z)return[];const te=new b.W(!1),X=yield(0,l.j)(H._languageFeaturesService.colorProvider,Z,j,H._isDefaultColorDecoratorsEnabled);return H._debounceInformation.update(Z,te.elapsed()),X});return function(j){return L.apply(this,arguments)}}());try{const L=yield H._computePromise;H.updateDecorations(L),H.updateColorDecorators(L),H._computePromise=null}catch(L){(0,x.dz)(L)}})()}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(H){const L=H.map(j=>({range:{startLineNumber:j.colorInfo.range.startLineNumber,startColumn:j.colorInfo.range.startColumn,endLineNumber:j.colorInfo.range.endLineNumber,endColumn:j.colorInfo.range.endColumn},options:f.kI.EMPTY}));this._editor.changeDecorations(j=>{this._decorationsIds=j.deltaDecorations(this._decorationsIds,L),this._colorDatas=new Map,this._decorationsIds.forEach((Z,te)=>this._colorDatas.set(Z,H[te]))})}updateColorDecorators(H){this._colorDecorationClassRefs.clear();const L=[],j=this._editor.getOption(21);for(let te=0;te<H.length&&L.length<j;te++){const{red:X,green:U,blue:q,alpha:R}=H[te].colorInfo.color,W=new w.bU(Math.round(255*X),Math.round(255*U),Math.round(255*q),R),oe=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:`rgba(${W.r}, ${W.g}, ${W.b}, ${W.a})`}));L.push({range:{startLineNumber:H[te].colorInfo.range.startLineNumber,startColumn:H[te].colorInfo.range.startColumn,endLineNumber:H[te].colorInfo.range.endLineNumber,endColumn:H[te].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:P.S8,inlineClassName:`${oe.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:A}}})}this._decoratorLimitReporter.update(H.length,j<H.length&&j),this._colorDecoratorIds.set(L)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(H){const L=this._editor.getModel();if(!L)return null;const j=L.getDecorationsInRange(_.Q.fromPositions(H,H)).filter(Z=>this._colorDatas.has(Z.id));return 0===j.length?null:this._colorDatas.get(j[0].id)}isColorDecoration(H){return this._colorDecoratorIds.has(H)}};k.ID="editor.contrib.colorDetector",k.RECOMPUTE_TIME=1e3,k=T=function(N,H,L,j){var X,Z=arguments.length,te=Z<3?H:null===j?j=Object.getOwnPropertyDescriptor(H,L):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(N,H,L,j);else for(var U=N.length-1;U>=0;U--)(X=N[U])&&(te=(Z<3?X(te):Z>3?X(H,L,te):X(H,L))||te);return Z>3&&te&&Object.defineProperty(H,L,te),te}([m(1,g.pG),m(2,r.u),m(3,d.U)],k);class O{constructor(){this._onDidChange=new C.vl,this._computed=0,this._limited=!1}update(H,L){(H!==this._computed||L!==this._limited)&&(this._computed=H,this._limited=L,this._onDidChange.fire())}}(0,v.HW)(k.ID,k,1)},78111:(tt,xe,t)=>{t.d(xe,{BJ:()=>oe,WE:()=>G});var a=t(10467),F=t(86671),w=t(21468),x=t(84072),C=t(99031),S=t(73678),b=t(1181),P=t(34403),D=t(5643);class v{get color(){return this._color}set color(_e){this._color.equals(_e)||(this._color=_e,this._onDidChangeColor.fire(_e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(_e){this._colorPresentations=_e,this.presentationIndex>_e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(_e,ye,M){this.presentationIndex=M,this._onColorFlushed=new D.vl,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new D.vl,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new D.vl,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=_e,this._color=_e,this._colorPresentations=ye}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(_e,ye){let M=-1;for(let ce=0;ce<this.colorPresentations.length;ce++)if(ye.toLowerCase()===this.colorPresentations[ce].label){M=ce;break}if(-1===M){const ce=ye.split("(")[0].toLowerCase();for(let Se=0;Se<this.colorPresentations.length;Se++)if(this.colorPresentations[Se].label.toLowerCase().startsWith(ce)){M=Se;break}}-1!==M&&M!==this.presentationIndex&&(this.presentationIndex=M,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}var _=t(51655),f=t(91874),d=t(32945),r=t(2673),l=t(15320),g=t(81072),m=(t(51580),t(81644)),T=t(85478),A=t(24453);const k=f.$;class O extends C.jG{constructor(_e,ye,M,ce=!1){super(),this.model=ye,this.showingStandaloneColorPicker=ce,this._closeButton=null,this._domNode=k(".colorpicker-header"),f.BC(_e,this._domNode),this._pickedColorNode=f.BC(this._domNode,k(".picked-color")),f.BC(this._pickedColorNode,k("span.codicon.codicon-color-mode")),this._pickedColorPresentation=f.BC(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const Se=(0,m.kg)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",Se),this._originalColorNode=f.BC(this._domNode,k(".original-color")),this._originalColorNode.style.backgroundColor=x.Q1.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=M.getColorTheme().getColor(T.WfR)||x.Q1.white,this._register(M.onDidColorThemeChange(Ie=>{this.backgroundColor=Ie.getColor(T.WfR)||x.Q1.white})),this._register(f.ko(this._pickedColorNode,f.Bx.CLICK,()=>this.model.selectNextColorPresentation())),this._register(f.ko(this._originalColorNode,f.Bx.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(ye.onDidChangeColor(this.onDidChangeColor,this)),this._register(ye.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=x.Q1.Format.CSS.format(ye.color)||"",this._pickedColorNode.classList.toggle("light",ye.color.rgba.a<.5?this.backgroundColor.isLighter():ye.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new N(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(_e){this._pickedColorNode.style.backgroundColor=x.Q1.Format.CSS.format(_e)||"",this._pickedColorNode.classList.toggle("light",_e.rgba.a<.5?this.backgroundColor.isLighter():_e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}class N extends C.jG{constructor(_e){super(),this._onClicked=this._register(new D.vl),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),f.BC(_e,this._button);const ye=document.createElement("div");ye.classList.add("close-button-inner-div"),f.BC(this._button,ye),f.BC(ye,k(".button"+g.L.asCSSSelector((0,A.pU)("color-picker-close",l.W.close,(0,m.kg)("closeIcon","Icon to close the color picker"))))).classList.add("close-icon"),this._register(f.ko(this._button,f.Bx.CLICK,()=>{this._onClicked.fire()}))}}class H extends C.jG{constructor(_e,ye,M,ce=!1){super(),this.model=ye,this.pixelRatio=M,this._insertButton=null,this._domNode=k(".colorpicker-body"),f.BC(_e,this._domNode),this._saturationBox=new L(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new Z(this._domNode,this.model,ce),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new te(this._domNode,this.model,ce),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),ce&&(this._insertButton=this._register(new X(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:_e,v:ye}){const M=this.model.color.hsva;this.model.color=new x.Q1(new x.$J(M.h,_e,ye,M.a))}onDidOpacityChange(_e){const ye=this.model.color.hsva;this.model.color=new x.Q1(new x.$J(ye.h,ye.s,ye.v,_e))}onDidHueChange(_e){const ye=this.model.color.hsva,M=360*(1-_e);this.model.color=new x.Q1(new x.$J(360===M?0:M,ye.s,ye.v,ye.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}class L extends C.jG{constructor(_e,ye,M){super(),this.model=ye,this.pixelRatio=M,this._onDidChange=new D.vl,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new D.vl,this.onColorFlushed=this._onColorFlushed.event,this._domNode=k(".saturation-wrap"),f.BC(_e,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",f.BC(this._domNode,this._canvas),this.selection=k(".saturation-selection"),f.BC(this._domNode,this.selection),this.layout(),this._register(f.ko(this._domNode,f.Bx.POINTER_DOWN,ce=>this.onPointerDown(ce))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(_e){if(!(_e.target&&_e.target instanceof Element))return;this.monitor=this._register(new d._);const ye=f.BK(this._domNode);_e.target!==this.selection&&this.onDidChangePosition(_e.offsetX,_e.offsetY),this.monitor.startMonitoring(_e.target,_e.pointerId,_e.buttons,ce=>this.onDidChangePosition(ce.pageX-ye.left,ce.pageY-ye.top),()=>null);const M=f.ko(_e.target.ownerDocument,f.Bx.POINTER_UP,()=>{this._onColorFlushed.fire(),M.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(_e,ye){const M=Math.max(0,Math.min(1,_e/this.width)),ce=Math.max(0,Math.min(1,1-ye/this.height));this.paintSelection(M,ce),this._onDidChange.fire({s:M,v:ce})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const _e=this.model.color.hsva;this.paintSelection(_e.s,_e.v)}paint(){const ye=new x.Q1(new x.$J(this.model.color.hsva.h,1,1,1)),M=this._canvas.getContext("2d"),ce=M.createLinearGradient(0,0,this._canvas.width,0);ce.addColorStop(0,"rgba(255, 255, 255, 1)"),ce.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),ce.addColorStop(1,"rgba(255, 255, 255, 0)");const Se=M.createLinearGradient(0,0,0,this._canvas.height);Se.addColorStop(0,"rgba(0, 0, 0, 0)"),Se.addColorStop(1,"rgba(0, 0, 0, 1)"),M.rect(0,0,this._canvas.width,this._canvas.height),M.fillStyle=x.Q1.Format.CSS.format(ye),M.fill(),M.fillStyle=ce,M.fill(),M.fillStyle=Se,M.fill()}paintSelection(_e,ye){this.selection.style.left=_e*this.width+"px",this.selection.style.top=this.height-ye*this.height+"px"}onDidChangeColor(_e){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const ye=_e.hsva;this.paintSelection(ye.s,ye.v)}}class j extends C.jG{constructor(_e,ye,M=!1){super(),this.model=ye,this._onDidChange=new D.vl,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new D.vl,this.onColorFlushed=this._onColorFlushed.event,M?(this.domNode=f.BC(_e,k(".standalone-strip")),this.overlay=f.BC(this.domNode,k(".standalone-overlay"))):(this.domNode=f.BC(_e,k(".strip")),this.overlay=f.BC(this.domNode,k(".overlay"))),this.slider=f.BC(this.domNode,k(".slider")),this.slider.style.top="0px",this._register(f.ko(this.domNode,f.Bx.POINTER_DOWN,ce=>this.onPointerDown(ce))),this._register(ye.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const _e=this.getValue(this.model.color);this.updateSliderPosition(_e)}onDidChangeColor(_e){const ye=this.getValue(_e);this.updateSliderPosition(ye)}onPointerDown(_e){if(!(_e.target&&_e.target instanceof Element))return;const ye=this._register(new d._),M=f.BK(this.domNode);this.domNode.classList.add("grabbing"),_e.target!==this.slider&&this.onDidChangeTop(_e.offsetY),ye.startMonitoring(_e.target,_e.pointerId,_e.buttons,Se=>this.onDidChangeTop(Se.pageY-M.top),()=>null);const ce=f.ko(_e.target.ownerDocument,f.Bx.POINTER_UP,()=>{this._onColorFlushed.fire(),ce.dispose(),ye.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(_e){const ye=Math.max(0,Math.min(1,1-_e/this.height));this.updateSliderPosition(ye),this._onDidChange.fire(ye)}updateSliderPosition(_e){this.slider.style.top=(1-_e)*this.height+"px"}}class Z extends j{constructor(_e,ye,M=!1){super(_e,ye,M),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(_e){super.onDidChangeColor(_e);const{r:ye,g:M,b:ce}=_e.rgba,Se=new x.Q1(new x.bU(ye,M,ce,1)),Ie=new x.Q1(new x.bU(ye,M,ce,0));this.overlay.style.background=`linear-gradient(to bottom, ${Se} 0%, ${Ie} 100%)`}getValue(_e){return _e.hsva.a}}class te extends j{constructor(_e,ye,M=!1){super(_e,ye,M),this.domNode.classList.add("hue-strip")}getValue(_e){return 1-_e.hsva.h/360}}class X extends C.jG{constructor(_e){super(),this._onClicked=this._register(new D.vl),this.onClicked=this._onClicked.event,this._button=f.BC(_e,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._register(f.ko(this._button,f.Bx.CLICK,()=>{this._onClicked.fire()}))}get button(){return this._button}}class U extends r.x{constructor(_e,ye,M,ce,Se=!1){super(),this.model=ye,this.pixelRatio=M,this._register(_.c.getInstance(f.zk(_e)).onDidChange(()=>this.layout()));const Ie=k(".colorpicker-widget");_e.appendChild(Ie),this.header=this._register(new O(Ie,this.model,ce,Se)),this.body=this._register(new H(Ie,this.model,this.pixelRatio,Se))}layout(){this.body.layout()}}var q=t(48187),R=function(ge,_e,ye,M){var Ie,ce=arguments.length,Se=ce<3?_e:null===M?M=Object.getOwnPropertyDescriptor(_e,ye):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Se=Reflect.decorate(ge,_e,ye,M);else for(var ne=ge.length-1;ne>=0;ne--)(Ie=ge[ne])&&(Se=(ce<3?Ie(Se):ce>3?Ie(_e,ye,Se):Ie(_e,ye))||Se);return ce>3&&Se&&Object.defineProperty(_e,ye,Se),Se},W=function(ge,_e){return function(ye,M){_e(ye,M,ge)}};class Y{constructor(_e,ye,M,ce){this.owner=_e,this.range=ye,this.model=M,this.provider=ce,this.forceShowAtRange=!0}isValidForHoverAnchor(_e){return 1===_e.type&&this.range.startColumn<=_e.range.startColumn&&this.range.endColumn>=_e.range.endColumn}}let oe=class{constructor(_e,ye){this._editor=_e,this._themeService=ye,this.hoverOrdinal=2}computeSync(_e,ye){return[]}computeAsync(_e,ye,M){return F.AE.fromPromise(this._computeAsync(_e,ye,M))}_computeAsync(_e,ye,M){var ce=this;return(0,a.A)(function*(){if(!ce._editor.hasModel())return[];const Se=P.mn.get(ce._editor);if(!Se)return[];for(const Ie of ye){if(!Se.isColorDecoration(Ie))continue;const ne=Se.getColorData(Ie.range.getStartPosition());if(ne)return[yield Q(ce,ce._editor.getModel(),ne.colorInfo,ne.provider)]}return[]})()}renderHoverParts(_e,ye){return ie(this,this._editor,this._themeService,ye,_e)}};oe=R([W(1,q.Gy)],oe);class z{constructor(_e,ye,M,ce){this.owner=_e,this.range=ye,this.model=M,this.provider=ce}}let G=class{constructor(_e,ye){this._editor=_e,this._themeService=ye,this._color=null}createColorHover(_e,ye,M){var ce=this;return(0,a.A)(function*(){if(!ce._editor.hasModel()||!P.mn.get(ce._editor))return null;const Ie=yield(0,b.j)(M,ce._editor.getModel(),w.XO.None);let ne=null,ue=null;for(const $e of Ie){const it=$e.colorInfo;S.Q.containsRange(it.range,_e.range)&&(ne=it,ue=$e.provider)}const we=ne??_e,Me=ue??ye,Ve=!!ne;return{colorHover:yield Q(ce,ce._editor.getModel(),we,Me),foundInEditor:Ve}})()}updateEditorModel(_e){var ye=this;return(0,a.A)(function*(){if(!ye._editor.hasModel())return;const M=_e.model;let ce=new S.Q(_e.range.startLineNumber,_e.range.startColumn,_e.range.endLineNumber,_e.range.endColumn);ye._color&&(yield de(ye._editor.getModel(),M,ye._color,ce,_e),ce=ae(ye._editor,ce,M))})()}renderHoverParts(_e,ye){return ie(this,this._editor,this._themeService,ye,_e)}set color(_e){this._color=_e}get color(){return this._color}};function Q(ge,_e,ye,M){return K.apply(this,arguments)}function K(){return(K=(0,a.A)(function*(ge,_e,ye,M){const ce=_e.getValueInRange(ye.range),{red:Se,green:Ie,blue:ne,alpha:ue}=ye.color,we=new x.bU(Math.round(255*Se),Math.round(255*Ie),Math.round(255*ne),ue),Me=new x.Q1(we),Ve=yield(0,b.R)(_e,ye,M,w.XO.None),$e=new v(Me,[],0);return $e.colorPresentations=Ve||[],$e.guessColorPresentation(Me,ce),ge instanceof oe?new Y(ge,S.Q.lift(ye.range),$e,M):new z(ge,S.Q.lift(ye.range),$e,M)})).apply(this,arguments)}function ie(ge,_e,ye,M,ce){if(0===M.length||!_e.hasModel())return C.jG.None;if(ce.setMinimumDimensions){const $e=_e.getOption(67)+8;ce.setMinimumDimensions(new f.fg(302,$e))}const Se=new C.Cm,Ie=M[0],ne=_e.getModel(),ue=Ie.model,we=Se.add(new U(ce.fragment,ue,_e.getOption(143),ye,ge instanceof G));ce.setColorPicker(we);let Me=!1,Ve=new S.Q(Ie.range.startLineNumber,Ie.range.startColumn,Ie.range.endLineNumber,Ie.range.endColumn);if(ge instanceof G){const $e=M[0].model.color;ge.color=$e,de(ne,ue,$e,Ve,Ie),Se.add(ue.onColorFlushed(it=>{ge.color=it}))}else Se.add(ue.onColorFlushed(function(){var $e=(0,a.A)(function*(it){yield de(ne,ue,it,Ve,Ie),Me=!0,Ve=ae(_e,Ve,ue)});return function(it){return $e.apply(this,arguments)}}()));return Se.add(ue.onDidChangeColor($e=>{de(ne,ue,$e,Ve,Ie)})),Se.add(_e.onDidChangeModelContent($e=>{Me?Me=!1:(ce.hide(),_e.focus())})),Se}function ae(ge,_e,ye){var M,ce;const Se=[],Ie=null!==(M=ye.presentation.textEdit)&&void 0!==M?M:{range:_e,text:ye.presentation.label,forceMoveMarkers:!1};Se.push(Ie),ye.presentation.additionalTextEdits&&Se.push(...ye.presentation.additionalTextEdits);const ne=S.Q.lift(Ie.range),ue=ge.getModel()._setTrackedRange(null,ne,3);return ge.executeEdits("colorpicker",Se),ge.pushUndoStop(),null!==(ce=ge.getModel()._getTrackedRange(ue))&&void 0!==ce?ce:ne}function de(ge,_e,ye,M,ce){return se.apply(this,arguments)}function se(){return(se=(0,a.A)(function*(ge,_e,ye,M,ce){const Se=yield(0,b.R)(ge,{range:M,color:{red:ye.rgba.r/255,green:ye.rgba.g/255,blue:ye.rgba.b/255,alpha:ye.rgba.a}},ce.provider,w.XO.None);_e.colorPresentations=Se||[]})).apply(this,arguments)}G=R([W(1,q.Gy)],G)},33182:(tt,xe,t)=>{t.d(xe,{L:()=>_});var a=t(10467),F=t(84072),w=t(91664),x=t(31925),C=t(70416),S=t(99031),b=t(15307),P=t(1153),v=function(d,r){return function(l,g){r(l,g,d)}};class _{constructor(r,l){this._editorWorkerClient=new w.Z6(r,!1,"editorWorkerService",l)}provideDocumentColors(r,l){var g=this;return(0,a.A)(function*(){return g._editorWorkerClient.computeDefaultDocumentColors(r.uri)})()}provideColorPresentations(r,l,g){const p=l.range,m=l.color,T=m.alpha,A=new F.Q1(new F.bU(Math.round(255*m.red),Math.round(255*m.green),Math.round(255*m.blue),T)),k=T?F.Q1.Format.CSS.formatRGB(A):F.Q1.Format.CSS.formatRGBA(A),O=T?F.Q1.Format.CSS.formatHSL(A):F.Q1.Format.CSS.formatHSLA(A),N=T?F.Q1.Format.CSS.formatHex(A):F.Q1.Format.CSS.formatHexA(A),H=[];return H.push({label:k,textEdit:{range:p,text:k}}),H.push({label:O,textEdit:{range:p,text:O}}),H.push({label:N,textEdit:{range:p,text:N}}),H}}let f=class extends S.jG{constructor(r,l,g){super(),this._register(g.colorProvider.register("*",new _(r,l)))}};f=function(d,r,l,g){var T,p=arguments.length,m=p<3?r:null===g?g=Object.getOwnPropertyDescriptor(r,l):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(d,r,l,g);else for(var A=d.length-1;A>=0;A--)(T=d[A])&&(m=(p<3?T(m):p>3?T(r,l,m):T(r,l))||m);return p>3&&m&&Object.defineProperty(r,l,m),m}([v(0,x.S),v(1,C.JZ),v(2,b.u)],f),(0,P.x)(f)},62180:(tt,xe,t)=>{var A,k,a=t(47639),F=t(81644),w=t(10467),x=t(99031),C=t(78111),S=t(598),b=t(96525),P=t(59002),D=t(5643),v=t(15307),_=t(69995),f=t(50168),d=t(31925),r=t(70416),l=t(33182),g=t(91874),m=(t(51580),function(q,R,W,Y){var G,oe=arguments.length,z=oe<3?R:null===Y?Y=Object.getOwnPropertyDescriptor(R,W):Y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(q,R,W,Y);else for(var Q=q.length-1;Q>=0;Q--)(G=q[Q])&&(z=(oe<3?G(z):oe>3?G(R,W,z):G(R,W))||z);return oe>3&&z&&Object.defineProperty(R,W,z),z}),T=function(q,R){return function(W,Y){R(W,Y,q)}};let O=A=class extends x.jG{constructor(R,W,Y,oe,z,G,Q){super(),this._editor=R,this._modelService=Y,this._keybindingService=oe,this._instantiationService=z,this._languageFeatureService=G,this._languageConfigurationService=Q,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=_.R.standaloneColorPickerVisible.bindTo(W),this._standaloneColorPickerFocused=_.R.standaloneColorPickerFocused.bindTo(W)}showOrFocus(){var R;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||null===(R=this._standaloneColorPickerWidget)||void 0===R||R.focus():this._standaloneColorPickerWidget=new L(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var R;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),null===(R=this._standaloneColorPickerWidget)||void 0===R||R.hide(),this._editor.focus()}insertColor(){var R;null===(R=this._standaloneColorPickerWidget)||void 0===R||R.updateEditor(),this.hide()}static get(R){return R.getContribution(A.ID)}};O.ID="editor.contrib.standaloneColorPickerController",O=A=m([T(1,f.fN),T(2,d.S),T(3,P.b),T(4,S._Y),T(5,v.u),T(6,r.JZ)],O),(0,a.HW)(O.ID,O,1);let L=k=class extends x.jG{constructor(R,W,Y,oe,z,G,Q,K){var ie;super(),this._editor=R,this._standaloneColorPickerVisible=W,this._standaloneColorPickerFocused=Y,this._modelService=z,this._keybindingService=G,this._languageFeaturesService=Q,this._languageConfigurationService=K,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new D.vl),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=oe.createInstance(C.WE,this._editor),this._position=null===(ie=this._editor._getViewModel())||void 0===ie?void 0:ie.getPrimaryCursorState().modelState.position;const ae=this._editor.getSelection(),de=ae?{startLineNumber:ae.startLineNumber,startColumn:ae.startColumn,endLineNumber:ae.endLineNumber,endColumn:ae.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},se=this._register(g.w5(this._body));this._register(se.onDidBlur(ge=>{this.hide()})),this._register(se.onDidFocus(ge=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(ge=>{var _e;const ye=null===(_e=ge.target.element)||void 0===_e?void 0:_e.classList;ye&&ye.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(ge=>{this._render(ge.value,ge.foundInEditor)})),this._start(de),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return k.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const R=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:R?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}_start(R){var W=this;return(0,w.A)(function*(){const Y=yield W._computeAsync(R);Y&&W._onResult.fire(new j(Y.result,Y.foundInEditor))})()}_computeAsync(R){var W=this;return(0,w.A)(function*(){if(!W._editor.hasModel())return null;const Y={range:R,color:{red:0,green:0,blue:0,alpha:1}},oe=yield W._standaloneColorPickerParticipant.createColorHover(Y,new l.L(W._modelService,W._languageConfigurationService),W._languageFeaturesService.colorProvider);return oe?{result:oe.colorHover,foundInEditor:oe.foundInEditor}:null})()}_render(R,W){const Y=document.createDocumentFragment();let z;const G={fragment:Y,statusBar:this._register(new b.L(this._keybindingService)),setColorPicker:ye=>z=ye,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=R,this._register(this._standaloneColorPickerParticipant.renderHoverParts(G,[R])),void 0===z)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(.66*this._editor.getLayoutInfo().width,500)+"px",this._body.tabIndex=0,this._body.appendChild(Y),z.layout();const Q=z.body,K=Q.saturationBox.domNode.clientWidth,ie=Q.domNode.clientWidth-K-22-8,ae=z.body.enterButton;ae?.onClicked(()=>{this.updateEditor(),this.hide()});const de=z.header;de.pickedColorNode.style.width=K+8+"px",de.originalColorNode.style.width=ie+"px";const _e=z.header.closeButton;_e?.onClicked(()=>{this.hide()}),W&&(ae&&(ae.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(R.range)),this._editor.layoutContentWidget(this)}};L.ID="editor.contrib.standaloneColorPickerWidget",L=k=m([T(3,S._Y),T(4,d.S),T(5,P.b),T(6,v.u),T(7,r.JZ)],L);class j{constructor(R,W){this.value=R,this.foundInEditor=W}}var Z=t(79134);(0,a.Fl)(class X extends a.ks{constructor(){super({id:"editor.action.hideColorPicker",label:(0,F.kg)({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:_.R.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100},metadata:{description:(0,F.aS)("hideColorPickerDescription","Hide the standalone color picker.")}})}run(R,W){var Y;null===(Y=O.get(W))||void 0===Y||Y.hide()}}),(0,a.Fl)(class U extends a.ks{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,F.kg)({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:_.R.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100},metadata:{description:(0,F.aS)("insertColorWithStandaloneColorPickerDescription","Insert hex/rgb/hsl colors with the focused standalone color picker.")}})}run(R,W){var Y;null===(Y=O.get(W))||void 0===Y||Y.insertColor()}}),(0,Z.ug)(class te extends a.qO{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{...(0,F.aS)("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker"),mnemonicTitle:(0,F.kg)({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker")},precondition:void 0,menu:[{id:Z.D8.CommandPalette}],metadata:{description:(0,F.aS)("showOrFocusStandaloneColorPickerDescription","Show or focus a standalone color picker which uses the default color provider. It displays hex/rgb/hsl colors.")}})}runEditorCommand(R,W){var Y;null===(Y=O.get(W))||void 0===Y||Y.showOrFocus()}})},2244:(tt,xe,t)=>{var a=t(79624),F=t(47639),w=t(73678),x=t(69995),C=t(70416),S=t(5214),b=t(13632),P=t(14105);class D{constructor(A,k,O){this.languageConfigurationService=O,this._selection=A,this._insertSpace=k,this._usedEndToken=null}static _haystackHasNeedleAtOffset(A,k,O){if(O<0)return!1;const N=k.length;if(O+N>A.length)return!1;for(let L=0;L<N;L++){const j=A.charCodeAt(O+L),Z=k.charCodeAt(L);if(!(j===Z||j>=65&&j<=90&&j+32===Z||Z>=65&&Z<=90&&Z+32===j))return!1}return!0}_createOperationsForBlockComment(A,k,O,N,H,L){const j=A.startLineNumber,Z=A.startColumn,te=A.endLineNumber,X=A.endColumn,U=H.getLineContent(j),q=H.getLineContent(te);let Y,R=U.lastIndexOf(k,Z-1+k.length),W=q.indexOf(O,X-1-O.length);if(-1!==R&&-1!==W)if(j===te)U.substring(R+k.length,W).indexOf(O)>=0&&(R=-1,W=-1);else{const oe=U.substring(R+k.length),z=q.substring(0,W);(oe.indexOf(O)>=0||z.indexOf(O)>=0)&&(R=-1,W=-1)}-1!==R&&-1!==W?(N&&R+k.length<U.length&&32===U.charCodeAt(R+k.length)&&(k+=" "),N&&W>0&&32===q.charCodeAt(W-1)&&(O=" "+O,W-=1),Y=D._createRemoveBlockCommentOperations(new w.Q(j,R+k.length+1,te,W+1),k,O)):(Y=D._createAddBlockCommentOperations(A,k,O,this._insertSpace),this._usedEndToken=1===Y.length?O:null);for(const oe of Y)L.addTrackedEditOperation(oe.range,oe.text)}static _createRemoveBlockCommentOperations(A,k,O){const N=[];return w.Q.isEmpty(A)?N.push(S.k.delete(new w.Q(A.startLineNumber,A.startColumn-k.length,A.endLineNumber,A.endColumn+O.length))):(N.push(S.k.delete(new w.Q(A.startLineNumber,A.startColumn-k.length,A.startLineNumber,A.startColumn))),N.push(S.k.delete(new w.Q(A.endLineNumber,A.endColumn,A.endLineNumber,A.endColumn+O.length)))),N}static _createAddBlockCommentOperations(A,k,O,N){const H=[];return w.Q.isEmpty(A)?H.push(S.k.replace(new w.Q(A.startLineNumber,A.startColumn,A.endLineNumber,A.endColumn),k+"  "+O)):(H.push(S.k.insert(new b.y(A.startLineNumber,A.startColumn),k+(N?" ":""))),H.push(S.k.insert(new b.y(A.endLineNumber,A.endColumn),(N?" ":"")+O))),H}getEditOperations(A,k){const O=this._selection.startLineNumber,N=this._selection.startColumn;A.tokenization.tokenizeIfCheap(O);const H=A.getLanguageIdAtPosition(O,N),L=this.languageConfigurationService.getLanguageConfiguration(H).comments;!L||!L.blockCommentStartToken||!L.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,L.blockCommentStartToken,L.blockCommentEndToken,this._insertSpace,A,k)}computeCursorState(A,k){const O=k.getInverseEditOperations();if(2===O.length){const N=O[0],H=O[1];return new P.L(N.range.endLineNumber,N.range.endColumn,H.range.startLineNumber,H.range.startColumn)}{const N=O[0].range,H=this._usedEndToken?-this._usedEndToken.length-1:0;return new P.L(N.endLineNumber,N.endColumn+H,N.endLineNumber,N.endColumn+H)}}}var v=t(6653);class _{constructor(A,k,O,N,H,L,j){this.languageConfigurationService=A,this._selection=k,this._indentSize=O,this._type=N,this._insertSpace=H,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=L,this._ignoreFirstLine=j||!1}static _gatherPreflightCommentStrings(A,k,O,N){A.tokenization.tokenizeIfCheap(k);const H=A.getLanguageIdAtPosition(k,1),L=N.getLanguageConfiguration(H).comments,j=L?L.lineCommentToken:null;if(!j)return null;const Z=[];for(let te=0,X=O-k+1;te<X;te++)Z[te]={ignore:!1,commentStr:j,commentStrOffset:0,commentStrLength:j.length};return Z}static _analyzeLines(A,k,O,N,H,L,j,Z){let X,te=!0;X=0===A||1!==A;for(let U=0,q=N.length;U<q;U++){const R=N[U],W=H+U;if(W===H&&j){R.ignore=!0;continue}const Y=O.getLineContent(W),oe=v.HG(Y);if(-1!==oe){if(te=!1,R.ignore=!1,R.commentStrOffset=oe,X&&!D._haystackHasNeedleAtOffset(Y,R.commentStr,oe)&&(0===A?X=!1:1===A||(R.ignore=!0)),X&&k){const z=oe+R.commentStrLength;z<Y.length&&32===Y.charCodeAt(z)&&(R.commentStrLength+=1)}}else R.ignore=L,R.commentStrOffset=Y.length}if(0===A&&te){X=!1;for(let U=0,q=N.length;U<q;U++)N[U].ignore=!1}return{supported:!0,shouldRemoveComments:X,lines:N}}static _gatherPreflightData(A,k,O,N,H,L,j,Z){const te=_._gatherPreflightCommentStrings(O,N,H,Z);return null===te?{supported:!1}:_._analyzeLines(A,k,O,te,N,L,j,Z)}_executeLineComments(A,k,O,N){let H;O.shouldRemoveComments?H=_._createRemoveLineCommentsOperations(O.lines,N.startLineNumber):(_._normalizeInsertionPoint(A,O.lines,N.startLineNumber,this._indentSize),H=this._createAddLineCommentsOperations(O.lines,N.startLineNumber));const L=new b.y(N.positionLineNumber,N.positionColumn);for(let j=0,Z=H.length;j<Z;j++)k.addEditOperation(H[j].range,H[j].text),w.Q.isEmpty(H[j].range)&&w.Q.getStartPosition(H[j].range).equals(L)&&A.getLineContent(L.lineNumber).length+1===L.column&&(this._deltaColumn=(H[j].text||"").length);this._selectionId=k.trackSelection(N)}_attemptRemoveBlockComment(A,k,O,N){let H=k.startLineNumber,L=k.endLineNumber;const j=N.length+Math.max(A.getLineFirstNonWhitespaceColumn(k.startLineNumber),k.startColumn);let Z=A.getLineContent(H).lastIndexOf(O,j-1),te=A.getLineContent(L).indexOf(N,k.endColumn-1-O.length);return-1!==Z&&-1===te&&(te=A.getLineContent(H).indexOf(N,Z+O.length),L=H),-1===Z&&-1!==te&&(Z=A.getLineContent(L).lastIndexOf(O,te),H=L),k.isEmpty()&&(-1===Z||-1===te)&&(Z=A.getLineContent(H).indexOf(O),-1!==Z&&(te=A.getLineContent(H).indexOf(N,Z+O.length))),-1!==Z&&32===A.getLineContent(H).charCodeAt(Z+O.length)&&(O+=" "),-1!==te&&32===A.getLineContent(L).charCodeAt(te-1)&&(N=" "+N,te-=1),-1!==Z&&-1!==te?D._createRemoveBlockCommentOperations(new w.Q(H,Z+O.length+1,L,te+1),O,N):null}_executeBlockComment(A,k,O){A.tokenization.tokenizeIfCheap(O.startLineNumber);const N=A.getLanguageIdAtPosition(O.startLineNumber,1),H=this.languageConfigurationService.getLanguageConfiguration(N).comments;if(!H||!H.blockCommentStartToken||!H.blockCommentEndToken)return;const L=H.blockCommentStartToken,j=H.blockCommentEndToken;let Z=this._attemptRemoveBlockComment(A,O,L,j);if(!Z){if(O.isEmpty()){const te=A.getLineContent(O.startLineNumber);let X=v.HG(te);-1===X&&(X=te.length),Z=D._createAddBlockCommentOperations(new w.Q(O.startLineNumber,X+1,O.startLineNumber,te.length+1),L,j,this._insertSpace)}else Z=D._createAddBlockCommentOperations(new w.Q(O.startLineNumber,A.getLineFirstNonWhitespaceColumn(O.startLineNumber),O.endLineNumber,A.getLineMaxColumn(O.endLineNumber)),L,j,this._insertSpace);1===Z.length&&(this._deltaColumn=L.length+1)}this._selectionId=k.trackSelection(O);for(const te of Z)k.addEditOperation(te.range,te.text)}getEditOperations(A,k){let O=this._selection;if(this._moveEndPositionDown=!1,O.startLineNumber===O.endLineNumber&&this._ignoreFirstLine)return k.addEditOperation(new w.Q(O.startLineNumber,A.getLineMaxColumn(O.startLineNumber),O.startLineNumber+1,1),O.startLineNumber===A.getLineCount()?"":"\n"),void(this._selectionId=k.trackSelection(O));O.startLineNumber<O.endLineNumber&&1===O.endColumn&&(this._moveEndPositionDown=!0,O=O.setEndPosition(O.endLineNumber-1,A.getLineMaxColumn(O.endLineNumber-1)));const N=_._gatherPreflightData(this._type,this._insertSpace,A,O.startLineNumber,O.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return N.supported?this._executeLineComments(A,k,N,O):this._executeBlockComment(A,k,O)}computeCursorState(A,k){let O=k.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(O=O.setEndPosition(O.endLineNumber+1,1)),new P.L(O.selectionStartLineNumber,O.selectionStartColumn+this._deltaColumn,O.positionLineNumber,O.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(A,k){const O=[];for(let N=0,H=A.length;N<H;N++){const L=A[N];L.ignore||O.push(S.k.delete(new w.Q(k+N,L.commentStrOffset+1,k+N,L.commentStrOffset+L.commentStrLength+1)))}return O}_createAddLineCommentsOperations(A,k){const O=[],N=this._insertSpace?" ":"";for(let H=0,L=A.length;H<L;H++){const j=A[H];j.ignore||O.push(S.k.insert(new b.y(k+H,j.commentStrOffset+1),j.commentStr+N))}return O}static nextVisibleColumn(A,k,O,N){return O?A+(k-A%k):A+N}static _normalizeInsertionPoint(A,k,O,N){let L,j,H=1073741824;for(let Z=0,te=k.length;Z<te;Z++){if(k[Z].ignore)continue;const X=A.getLineContent(O+Z);let U=0;for(let q=0,R=k[Z].commentStrOffset;U<H&&q<R;q++)U=_.nextVisibleColumn(U,N,9===X.charCodeAt(q),1);U<H&&(H=U)}H=Math.floor(H/N)*N;for(let Z=0,te=k.length;Z<te;Z++){if(k[Z].ignore)continue;const X=A.getLineContent(O+Z);let U=0;for(L=0,j=k[Z].commentStrOffset;U<H&&L<j;L++)U=_.nextVisibleColumn(U,N,9===X.charCodeAt(L),1);k[Z].commentStrOffset=U>H?L-1:L}}}var f=t(81644),d=t(79134);class r extends F.ks{constructor(A,k){super(k),this._type=A}run(A,k){const O=A.get(C.JZ);if(!k.hasModel())return;const H=[],L=k.getModel().getOptions(),j=k.getOption(23),Z=k.getSelections().map((X,U)=>({selection:X,index:U,ignoreFirstLine:!1}));Z.sort((X,U)=>w.Q.compareRangesUsingStarts(X.selection,U.selection));let te=Z[0];for(let X=1;X<Z.length;X++){const U=Z[X];te.selection.endLineNumber===U.selection.startLineNumber&&(te.index<U.index?U.ignoreFirstLine=!0:(te.ignoreFirstLine=!0,te=U))}for(const X of Z)H.push(new _(O,X.selection,L.indentSize,this._type,j.insertSpace,j.ignoreEmptyLines,X.ignoreFirstLine));k.pushUndoStop(),k.executeCommands(this.id,H),k.pushUndoStop()}}(0,F.Fl)(class l extends r{constructor(){super(0,{id:"editor.action.commentLine",label:f.kg("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:x.R.writable,kbOpts:{kbExpr:x.R.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:d.D8.MenubarEditMenu,group:"5_insert",title:f.kg({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),(0,F.Fl)(class g extends r{constructor(){super(1,{id:"editor.action.addCommentLine",label:f.kg("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:x.R.writable,kbOpts:{kbExpr:x.R.editorTextFocus,primary:(0,a.m5)(2089,2081),weight:100}})}}),(0,F.Fl)(class p extends r{constructor(){super(2,{id:"editor.action.removeCommentLine",label:f.kg("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:x.R.writable,kbOpts:{kbExpr:x.R.editorTextFocus,primary:(0,a.m5)(2089,2099),weight:100}})}}),(0,F.Fl)(class m extends F.ks{constructor(){super({id:"editor.action.blockComment",label:f.kg("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:x.R.writable,kbOpts:{kbExpr:x.R.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:d.D8.MenubarEditMenu,group:"5_insert",title:f.kg({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(A,k){const O=A.get(C.JZ);if(!k.hasModel())return;const N=k.getOption(23),H=[],L=k.getSelections();for(const j of L)H.push(new D(j,N.insertSpace,O));k.pushUndoStop(),k.executeCommands(this.id,H),k.pushUndoStop()}})},67059:(tt,xe,t)=>{var p,a=t(91874),F=t(62686),w=t(64948),x=t(99031),C=t(21828),S=t(47639),b=t(69995),P=t(81644),D=t(79134),v=t(50168),_=t(71887),f=t(59002),d=t(35072),r=t(97014),g=function(A,k){return function(O,N){k(O,N,A)}};let m=p=class{static get(k){return k.getContribution(p.ID)}constructor(k,O,N,H,L,j,Z,te){this._contextMenuService=O,this._contextViewService=N,this._contextKeyService=H,this._keybindingService=L,this._menuService=j,this._configurationService=Z,this._workspaceContextService=te,this._toDispose=new x.Cm,this._contextMenuIsBeingShownCount=0,this._editor=k,this._toDispose.add(this._editor.onContextMenu(X=>this._onContextMenu(X))),this._toDispose.add(this._editor.onMouseWheel(X=>{if(this._contextMenuIsBeingShownCount>0){const U=this._contextViewService.getContextViewElement(),q=X.srcElement;q.shadowRoot&&a.jG(U)===q.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(X=>{this._editor.getOption(24)&&58===X.keyCode&&(X.preventDefault(),X.stopPropagation(),this.showContextMenu())}))}_onContextMenu(k){if(!this._editor.hasModel())return;if(!this._editor.getOption(24))return this._editor.focus(),void(k.target.position&&!this._editor.getSelection().containsPosition(k.target.position)&&this._editor.setPosition(k.target.position));if(12===k.target.type||6===k.target.type&&k.target.detail.injectedText)return;if(k.event.preventDefault(),k.event.stopPropagation(),11===k.target.type)return this._showScrollbarContextMenu(k.event);if(6!==k.target.type&&7!==k.target.type&&1!==k.target.type)return;if(this._editor.focus(),k.target.position){let N=!1;for(const H of this._editor.getSelections())if(H.containsPosition(k.target.position)){N=!0;break}N||this._editor.setPosition(k.target.position)}let O=null;1!==k.target.type&&(O=k.event),this.showContextMenu(O)}showContextMenu(k){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const O=this._getMenuActions(this._editor.getModel(),this._editor.contextMenuId);O.length>0&&this._doShowContextMenu(O,k)}_getMenuActions(k,O){const N=[],H=this._menuService.createMenu(O,this._contextKeyService),L=H.getActions({arg:k.uri});H.dispose();for(const j of L){const[,Z]=j;let te=0;for(const X of Z)if(X instanceof D.nI){const U=this._getMenuActions(k,X.item.submenu);U.length>0&&(N.push(new w.YH(X.id,X.label,U)),te++)}else N.push(X),te++;te&&N.push(new w.wv)}return N.length&&N.pop(),N}_doShowContextMenu(k,O=null){if(!this._editor.hasModel())return;const N=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let H=O;if(!H){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const j=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),Z=a.BK(this._editor.getDomNode());H={x:Z.left+j.left,y:Z.top+j.top+j.height}}const L=this._editor.getOption(127)&&!C.un;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:L?this._editor.getDomNode():void 0,getAnchor:()=>H,getActions:()=>k,getActionViewItem:j=>{const Z=this._keybindingFor(j);return Z?new F.Z4(j,j,{label:!0,keybinding:Z.getLabel(),isMenu:!0}):"function"==typeof j.getActionViewItem?j.getActionViewItem():new F.Z4(j,j,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:j=>this._keybindingFor(j),onHide:j=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:N})}})}_showScrollbarContextMenu(k){if(!this._editor.hasModel()||(0,r.ct)(this._workspaceContextService.getWorkspace()))return;const O=this._editor.getOption(73);let N=0;const H=X=>({id:"menu-action-"+ ++N,label:X.label,tooltip:"",class:void 0,enabled:typeof X.enabled>"u"||X.enabled,checked:X.checked,run:X.run}),j=(X,U,q,R,W)=>{if(!U)return H({label:X,enabled:U,run:()=>{}});const Y=z=>()=>{this._configurationService.updateValue(q,z)},oe=[];for(const z of W)oe.push(H({label:z.label,checked:R===z.value,run:Y(z.value)}));return((X,U)=>new w.YH("menu-action-"+ ++N,X,U,void 0))(X,oe)},Z=[];Z.push(H({label:P.kg("context.minimap.minimap","Minimap"),checked:O.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!O.enabled)}})),Z.push(new w.wv),Z.push(H({label:P.kg("context.minimap.renderCharacters","Render Characters"),enabled:O.enabled,checked:O.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!O.renderCharacters)}})),Z.push(j(P.kg("context.minimap.size","Vertical size"),O.enabled,"editor.minimap.size",O.size,[{label:P.kg("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:P.kg("context.minimap.size.fill","Fill"),value:"fill"},{label:P.kg("context.minimap.size.fit","Fit"),value:"fit"}])),Z.push(j(P.kg("context.minimap.slider","Slider"),O.enabled,"editor.minimap.showSlider",O.showSlider,[{label:P.kg("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:P.kg("context.minimap.slider.always","Always"),value:"always"}]));const te=this._editor.getOption(127)&&!C.un;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:te?this._editor.getDomNode():void 0,getAnchor:()=>k,getActions:()=>Z,onHide:X=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(k){return this._keybindingService.lookupKeybinding(k.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};m.ID="editor.contrib.contextmenu",m=p=function(A,k,O,N){var j,H=arguments.length,L=H<3?k:null===N?N=Object.getOwnPropertyDescriptor(k,O):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(A,k,O,N);else for(var Z=A.length-1;Z>=0;Z--)(j=A[Z])&&(L=(H<3?j(L):H>3?j(k,O,L):j(k,O))||L);return H>3&&L&&Object.defineProperty(k,O,L),L}([g(1,_.Z),g(2,_.l),g(3,v.fN),g(4,f.b),g(5,D.ez),g(6,d.pG),g(7,r.VR)],m),(0,S.HW)(m.ID,m,2),(0,S.Fl)(class T extends S.ks{constructor(){super({id:"editor.action.showContextMenu",label:P.kg("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:b.R.textInputFocus,primary:1092,weight:100}})}run(k,O){var N;null===(N=m.get(O))||void 0===N||N.showContextMenu()}})},29563:(tt,xe,t)=>{var a=t(99031),F=t(47639),w=t(69995),x=t(81644);class C{constructor(_){this.selections=_}equals(_){const f=this.selections.length;if(f!==_.selections.length)return!1;for(let r=0;r<f;r++)if(!this.selections[r].equalsSelection(_.selections[r]))return!1;return!0}}class S{constructor(_,f,d){this.cursorState=_,this.scrollTop=f,this.scrollLeft=d}}let b=(()=>{class v extends a.jG{static get(f){return f.getContribution(v.ID)}constructor(f){super(),this._editor=f,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(f.onDidChangeModel(d=>{this._undoStack=[],this._redoStack=[]})),this._register(f.onDidChangeModelContent(d=>{this._undoStack=[],this._redoStack=[]})),this._register(f.onDidChangeCursorSelection(d=>{if(this._isCursorUndoRedo||!d.oldSelections||d.oldModelVersionId!==d.modelVersionId)return;const r=new C(d.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(r)||(this._undoStack.push(new S(r,f.getScrollTop(),f.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||0===this._undoStack.length||(this._redoStack.push(new S(new C(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||0===this._redoStack.length||(this._undoStack.push(new S(new C(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(f){this._isCursorUndoRedo=!0,this._editor.setSelections(f.cursorState.selections),this._editor.setScrollPosition({scrollTop:f.scrollTop,scrollLeft:f.scrollLeft}),this._isCursorUndoRedo=!1}}return v.ID="editor.contrib.cursorUndoRedoController",v})();(0,F.HW)(b.ID,b,0),(0,F.Fl)(class P extends F.ks{constructor(){super({id:"cursorUndo",label:x.kg("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:w.R.textInputFocus,primary:2099,weight:100}})}run(_,f,d){var r;null===(r=b.get(f))||void 0===r||r.cursorUndo()}}),(0,F.Fl)(class D extends F.ks{constructor(){super({id:"cursorRedo",label:x.kg("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(_,f,d){var r;null===(r=b.get(f))||void 0===r||r.cursorRedo()}})},55245:(tt,xe,t)=>{var a=t(10467),F=t(30833),w=t(28044),x=t(13444),C=t(39183),S=t(15307),b=t(51250),P=t(99031),D=t(5643),_=function(d,r){return function(l,g){r(l,g,d)}};let f=class extends P.jG{constructor(r,l,g){var p;super(),p=this,this._textModel=r,this._languageFeaturesService=l,this._outlineModelService=g,this._currentModel=(0,w.FY)(this,void 0);const m=(0,w.yQ)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),T=(0,w.yQ)("_textModel.onDidChangeContent",D.Jh.debounce(A=>this._textModel.onDidChangeContent(A),()=>{},100));this._register((0,w.yC)(function(){var A=(0,a.A)(function*(k,O){m.read(k),T.read(k);const N=O.add(new C.MZ),H=yield p._outlineModelService.getOrCreate(p._textModel,N.token);O.isDisposed||p._currentModel.set(H,void 0)});return function(k,O){return A.apply(this,arguments)}}()))}getBreadcrumbItems(r,l){const g=this._currentModel.read(l);if(!g)return[];const p=g.asListOfDocumentSymbols().filter(m=>r.contains(m.range.startLineNumber)&&!r.contains(m.range.endLineNumber));return p.sort((0,F.Hw)((0,F.VE)(m=>m.range.endLineNumber-m.range.startLineNumber,F.U9))),p.map(m=>({name:m.name,kind:m.kind,startLineNumber:m.range.startLineNumber}))}};f=function(d,r,l,g){var T,p=arguments.length,m=p<3?r:null===g?g=Object.getOwnPropertyDescriptor(r,l):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(d,r,l,g);else for(var A=d.length-1;A>=0;A--)(T=d[A])&&(m=(p<3?T(m):p>3?T(r,l,m):T(r,l))||m);return p>3&&m&&Object.defineProperty(r,l,m),m}([_(1,S.u),_(2,b.gW)],f),x.N.setBreadcrumbsSourceFactory((d,r)=>r.createInstance(f,d))},1552:(tt,xe,t)=>{var a=t(99031),F=t(21828),w=t(85072),x=t.n(w),C=t(97825),S=t.n(C),b=t(77659),P=t.n(b),D=t(55056),v=t.n(D),_=t(10540),f=t.n(_),d=t(41113),r=t.n(d),l=t(88357),g={};g.styleTagTransform=r(),g.setAttributes=v(),g.insert=P().bind(null,"head"),g.domAPI=S(),g.insertStyleElement=f(),x()(l.A,g);var T=t(47639),A=t(13632),k=t(73678),O=t(14105),N=t(80753);class H{constructor(te,X,U){this.selection=te,this.targetPosition=X,this.copy=U,this.targetSelection=null}getEditOperations(te,X){const U=te.getValueInRange(this.selection);this.copy||X.addEditOperation(this.selection,null),X.addEditOperation(new k.Q(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),U),this.targetSelection=!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?new O.L(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?new O.L(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?new O.L(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?new O.L(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):new O.L(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.selection}computeCursorState(te,X){return this.targetSelection}}function L(Z){return F.zx?Z.altKey:Z.ctrlKey}class j extends a.jG{constructor(te){super(),this._editor=te,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(X=>this._onEditorMouseDown(X))),this._register(this._editor.onMouseUp(X=>this._onEditorMouseUp(X))),this._register(this._editor.onMouseDrag(X=>this._onEditorMouseDrag(X))),this._register(this._editor.onMouseDrop(X=>this._onEditorMouseDrop(X))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(X=>this.onEditorKeyDown(X))),this._register(this._editor.onKeyUp(X=>this.onEditorKeyUp(X))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(te){!this._editor.getOption(35)||this._editor.getOption(22)||(L(te)&&(this._modifierPressed=!0),this._mouseDown&&L(te)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(te){!this._editor.getOption(35)||this._editor.getOption(22)||(L(te)&&(this._modifierPressed=!1),this._mouseDown&&te.keyCode===j.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(te){this._mouseDown=!0}_onEditorMouseUp(te){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(te){const X=te.target;if(null===this._dragSelection){const q=(this._editor.getSelections()||[]).filter(R=>X.position&&R.containsPosition(X.position));if(1!==q.length)return;this._dragSelection=q[0]}L(te.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),X.position&&(this._dragSelection.containsPosition(X.position)?this._removeDecoration():this.showAt(X.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(te){if(te.target&&(this._hitContent(te.target)||this._hitMargin(te.target))&&te.target.position){const X=new A.y(te.target.position.lineNumber,te.target.position.column);if(null===this._dragSelection){let U=null;if(te.event.shiftKey){const q=this._editor.getSelection();if(q){const{selectionStartLineNumber:R,selectionStartColumn:W}=q;U=[new O.L(R,W,X.lineNumber,X.column)]}}else U=(this._editor.getSelections()||[]).map(q=>q.containsPosition(X)?new O.L(X.lineNumber,X.column,X.lineNumber,X.column):q);this._editor.setSelections(U||[],"mouse",3)}else(!this._dragSelection.containsPosition(X)||(L(te.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(X)||this._dragSelection.getStartPosition().equals(X)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(j.ID,new H(this._dragSelection,X,L(te.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(te){this._dndDecorationIds.set([{range:new k.Q(te.lineNumber,te.column,te.lineNumber,te.column),options:j._DECORATION_OPTIONS}]),this._editor.revealPosition(te,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(te){return 6===te.type||7===te.type}_hitMargin(te){return 2===te.type||3===te.type||4===te.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}j.ID="editor.contrib.dragAndDrop",j.TRIGGER_KEY_VALUE=F.zx?6:5,j._DECORATION_OPTIONS=N.kI.register({description:"dnd-target",className:"dnd-target"}),(0,T.HW)(j.ID,j,2)},59091:(tt,xe,t)=>{var a=t(10467),F=t(21468),w=t(66702),x=t(32417),C=t(35425),S=t(51250);t(51126).w.registerCommand("_executeDocumentSymbolProvider",function(){var P=(0,a.A)(function*(D,...v){const[_]=v;(0,w.j)(x.r.isUri(_));const f=D.get(S.gW),r=yield D.get(C.b).createModelReference(_);try{return(yield f.getOrCreate(r.object.textEditorModel,F.XO.None)).getTopLevelSymbols()}finally{r.dispose()}});return function(D){return P.apply(this,arguments)}}())},51250:(tt,xe,t)=>{t.d(xe,{LC:()=>m,e0:()=>T,gW:()=>k,i9:()=>A});var a=t(10467),F=t(30833),w=t(21468),x=t(25680),C=t(28481),S=t(20053),b=t(13632),P=t(73678),D=t(67539),v=t(598),_=t(56789),f=t(31925),d=t(99031),r=t(15307),g=function(N,H){return function(L,j){H(L,j,N)}};class p{remove(){var H;null===(H=this.parent)||void 0===H||H.children.delete(this.id)}static findId(H,L){let j;"string"==typeof H?j=`${L.id}/${H}`:(j=`${L.id}/${H.name}`,void 0!==L.children.get(j)&&(j=`${L.id}/${H.name}_${H.range.startLineNumber}_${H.range.startColumn}`));let Z=j;for(let te=0;void 0!==L.children.get(Z);te++)Z=`${j}_${te}`;return Z}static empty(H){return 0===H.children.size}}class m extends p{constructor(H,L,j){super(),this.id=H,this.parent=L,this.symbol=j,this.children=new Map}}class T extends p{constructor(H,L,j,Z){super(),this.id=H,this.parent=L,this.label=j,this.order=Z,this.children=new Map}}class A extends p{static create(H,L,j){const Z=new w.Qi(j),te=new A(L.uri),X=H.ordered(L),U=X.map((R,W)=>{var Y;const oe=p.findId(`provider_${W}`,te),z=new T(oe,te,null!==(Y=R.displayName)&&void 0!==Y?Y:"Unknown Outline Provider",W);return Promise.resolve(R.provideDocumentSymbols(L,Z.token)).then(G=>{for(const Q of G||[])A._makeOutlineElement(Q,z);return z},G=>((0,x.M_)(G),z)).then(G=>{p.empty(G)?G.remove():te._groups.set(oe,G)})}),q=H.onDidChange(()=>{const R=H.ordered(L);(0,F.aI)(R,X)||Z.cancel()});return Promise.all(U).then(()=>Z.token.isCancellationRequested&&!j.isCancellationRequested?A.create(H,L,j):te._compact()).finally(()=>{Z.dispose(),q.dispose(),Z.dispose()})}static _makeOutlineElement(H,L){const j=p.findId(H,L),Z=new m(j,L,H);if(H.children)for(const te of H.children)A._makeOutlineElement(te,Z);L.children.set(Z.id,Z)}constructor(H){super(),this.uri=H,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let H=0;for(const[L,j]of this._groups)0===j.children.size?this._groups.delete(L):H+=1;if(1!==H)this.children=this._groups;else{const L=C.f.first(this._groups.values());for(const[,j]of L.children)j.parent=this,this.children.set(j.id,j)}return this}getTopLevelSymbols(){const H=[];for(const L of this.children.values())L instanceof m?H.push(L.symbol):H.push(...C.f.map(L.children.values(),j=>j.symbol));return H.sort((L,j)=>P.Q.compareRangesUsingStarts(L.range,j.range))}asListOfDocumentSymbols(){const H=this.getTopLevelSymbols(),L=[];return A._flattenDocumentSymbols(L,H,""),L.sort((j,Z)=>b.y.compare(P.Q.getStartPosition(j.range),P.Q.getStartPosition(Z.range))||b.y.compare(P.Q.getEndPosition(Z.range),P.Q.getEndPosition(j.range)))}static _flattenDocumentSymbols(H,L,j){for(const Z of L)H.push({kind:Z.kind,tags:Z.tags,name:Z.name,detail:Z.detail,containerName:Z.containerName||j,range:Z.range,selectionRange:Z.selectionRange,children:void 0}),Z.children&&A._flattenDocumentSymbols(H,Z.children,Z.name)}}const k=(0,v.u1)("IOutlineModelService");let O=class{constructor(H,L,j){this._languageFeaturesService=H,this._disposables=new d.Cm,this._cache=new S.qK(10,.7),this._debounceInformation=L.for(H.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(j.onModelRemoved(Z=>{this._cache.delete(Z.id)}))}dispose(){this._disposables.dispose()}getOrCreate(H,L){var j=this;return(0,a.A)(function*(){const Z=j._languageFeaturesService.documentSymbolProvider,te=Z.ordered(H);let X=j._cache.get(H.id);if(!X||X.versionId!==H.getVersionId()||!(0,F.aI)(X.provider,te)){const q=new w.Qi;X={versionId:H.getVersionId(),provider:te,promiseCnt:0,source:q,promise:A.create(Z,H,q.token),model:void 0},j._cache.set(H.id,X);const R=Date.now();X.promise.then(W=>{X.model=W,j._debounceInformation.update(H,Date.now()-R)}).catch(W=>{j._cache.delete(H.id)})}if(X.model)return X.model;X.promiseCnt+=1;const U=L.onCancellationRequested(()=>{0==--X.promiseCnt&&(X.source.cancel(),j._cache.delete(H.id))});try{return yield X.promise}finally{U.dispose()}})()}};O=function(N,H,L,j){var X,Z=arguments.length,te=Z<3?H:null===j?j=Object.getOwnPropertyDescriptor(H,L):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(N,H,L,j);else for(var U=N.length-1;U>=0;U--)(X=N[U])&&(te=(Z<3?X(te):Z>3?X(H,L,te):X(H,L))||te);return Z>3&&te&&Object.defineProperty(H,L,te),te}([g(0,r.u),g(1,D.U),g(2,f.S)],O),(0,_.v)(k,O,1)},80500:(tt,xe,t)=>{var P,a=t(6260),F=t(47639),w=t(69995),x=t(1153),C=t(30546),S=t(84345),b=t(81644);(0,F.HW)(C.Rj.ID,C.Rj,0),(0,x.x)(S.L9),(0,F.E_)(new class extends F.DX{constructor(){super({id:C.qs,precondition:C.lr,kbOpts:{weight:100,primary:2137}})}runEditorCommand(D,v){var _;return null===(_=C.Rj.get(v))||void 0===_?void 0:_.changePasteType()}}),(0,F.E_)(new class extends F.DX{constructor(){super({id:"editor.hidePasteWidget",precondition:C.lr,kbOpts:{weight:100,primary:9}})}runEditorCommand(D,v){var _;null===(_=C.Rj.get(v))||void 0===_||_.clearWidgets()}}),(0,F.Fl)(((P=class extends F.ks{constructor(){super({id:"editor.action.pasteAs",label:b.kg("pasteAs","Paste As..."),alias:"Paste As...",precondition:w.R.writable,metadata:{description:"Paste as",args:[{name:"args",schema:P.argsSchema}]}})}run(v,_,f){var d;let r="string"==typeof f?.kind?f.kind:void 0;return!r&&f&&(r="string"==typeof f.id?f.id:void 0),null===(d=C.Rj.get(_))||void 0===d?void 0:d.pasteAs(r?new a.k(r):void 0)}}).argsSchema={type:"object",properties:{kind:{type:"string",description:b.kg("pasteAs.kind","The kind of the paste edit to try applying. If not provided or there are multiple edits for this kind, the editor will show a picker.")}}},P)),(0,F.Fl)(class extends F.ks{constructor(){super({id:"editor.action.pasteAsText",label:b.kg("pasteAsText","Paste as Text"),alias:"Paste as Text",precondition:w.R.writable})}run(D,v){var _;return null===(_=C.Rj.get(v))||void 0===_?void 0:_.pasteAs({providerId:S.LR.id})}})},30546:(tt,xe,t)=>{t.d(xe,{Rj:()=>oe,lr:()=>W,qs:()=>R});var q,a=t(10467),F=t(91874),w=t(30833),x=t(86671),C=t(47412),S=t(6260),b=t(99031),P=t(12323),D=t(21828),v=t(90316),_=t(12837),f=t(29288),d=t(876),r=t(73678),l=t(41489),g=t(15307),p=t(84345),m=t(93340),T=t(89774),A=t(4770),k=t(22900),O=t(81644),N=t(66229),H=t(50168),L=t(598),j=t(47690),Z=t(8086),te=t(41081),U=function(z,G){return function(Q,K){G(Q,K,z)}};const R="editor.changePasteType",W=new H.N1("pasteWidgetVisible",!1,(0,O.kg)("pasteWidgetVisible","Whether the paste widget is showing")),Y="application/vnd.code.copyMetadata";let oe=q=class extends b.jG{static get(G){return G.getContribution(q.ID)}constructor(G,Q,K,ie,ae,de,se){super(),this._bulkEditService=K,this._clipboardService=ie,this._languageFeaturesService=ae,this._quickInputService=de,this._progressService=se,this._editor=G;const ge=G.getContainerDomNode();this._register((0,F.ko)(ge,"copy",_e=>this.handleCopy(_e))),this._register((0,F.ko)(ge,"cut",_e=>this.handleCopy(_e))),this._register((0,F.ko)(ge,"paste",_e=>this.handlePaste(_e),!0)),this._pasteProgressManager=this._register(new A.I("pasteIntoEditor",G,Q)),this._postPasteWidgetManager=this._register(Q.createInstance(te.G,"pasteIntoEditor",G,W,{id:R,label:(0,O.kg)("postPasteWidgetTitle","Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(G){this._editor.focus();try{this._pasteAsActionContext={preferred:G},(0,F.a)().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}clearWidgets(){this._postPasteWidgetManager.clear()}isPasteAsEnabled(){return this._editor.getOption(85).enabled&&!this._editor.getOption(91)}finishedPaste(){var G=this;return(0,a.A)(function*(){yield G._currentPasteOperation})()}handleCopy(G){var Q,K;if(!this._editor.hasTextFocus()||(D.HZ&&this._clipboardService.writeResources([]),!G.clipboardData||!this.isPasteAsEnabled()))return;const ie=this._editor.getModel(),ae=this._editor.getSelections();if(!ie||!ae?.length)return;const de=this._editor.getOption(37);let se=ae;const ge=1===ae.length&&ae[0].isEmpty();if(ge){if(!de)return;se=[new r.Q(se[0].startLineNumber,1,se[0].startLineNumber,1+ie.getLineLength(se[0].startLineNumber))]}const _e=null===(Q=this._editor._getViewModel())||void 0===Q?void 0:Q.getPlainTextToCopy(ae,de,D.uF),M={multicursorText:Array.isArray(_e)?_e:null,pasteOnNewLine:ge,mode:null},ce=this._languageFeaturesService.documentPasteEditProvider.ordered(ie).filter(we=>!!we.prepareDocumentPaste);if(!ce.length)return void this.setCopyMetadata(G.clipboardData,{defaultPastePayload:M});const Se=(0,f.q)(G.clipboardData),Ie=ce.flatMap(we=>{var Me;return null!==(Me=we.copyMimeTypes)&&void 0!==Me?Me:[]}),ne=(0,v.b)();this.setCopyMetadata(G.clipboardData,{id:ne,providerCopyMimeTypes:Ie,defaultPastePayload:M});const ue=(0,x.SS)(function(){var we=(0,a.A)(function*(Me){const Ve=(0,w.Yc)(yield Promise.all(ce.map(function(){var $e=(0,a.A)(function*(it){try{return yield it.prepareDocumentPaste(ie,se,Se,Me)}catch(He){return void console.error(He)}});return function(it){return $e.apply(this,arguments)}}())));Ve.reverse();for(const $e of Ve)for(const[it,He]of $e)Se.replace(it,He);return Se});return function(Me){return we.apply(this,arguments)}}());null===(K=q._currentCopyOperation)||void 0===K||K.dataTransferPromise.cancel(),q._currentCopyOperation={handle:ne,dataTransferPromise:ue}}handlePaste(G){var Q=this;return(0,a.A)(function*(){var K,ie,ae,de;if(!G.clipboardData||!Q._editor.hasTextFocus())return;null===(K=k.k.get(Q._editor))||void 0===K||K.closeMessage(),null===(ie=Q._currentPasteOperation)||void 0===ie||ie.cancel(),Q._currentPasteOperation=void 0;const se=Q._editor.getModel(),ge=Q._editor.getSelections();if(!ge?.length||!se||!Q.isPasteAsEnabled()&&!Q._pasteAsActionContext)return;const _e=Q.fetchCopyMetadata(G),ye=(0,f.l)(G.clipboardData);ye.delete(Y);const M=[...G.clipboardData.types,...null!==(ae=_e?.providerCopyMimeTypes)&&void 0!==ae?ae:[],P.K.uriList],ce=Q._languageFeaturesService.documentPasteEditProvider.ordered(se).filter(Se=>{var Ie,ne;const ue=null===(Ie=Q._pasteAsActionContext)||void 0===Ie?void 0:Ie.preferred;return!(ue&&Se.providedPasteEditKinds&&!Q.providerMatchesPreference(Se,ue))&&(null===(ne=Se.pasteMimeTypes)||void 0===ne?void 0:ne.some(we=>(0,C.Y)(we,M)))});ce.length?(G.preventDefault(),G.stopImmediatePropagation(),Q._pasteAsActionContext?Q.showPasteAsPick(Q._pasteAsActionContext.preferred,ce,ge,ye,_e):Q.doPasteInline(ce,ge,ye,_e,G)):null!==(de=Q._pasteAsActionContext)&&void 0!==de&&de.preferred&&Q.showPasteAsNoEditMessage(ge,Q._pasteAsActionContext.preferred)})()}showPasteAsNoEditMessage(G,Q){var K;null===(K=k.k.get(this._editor))||void 0===K||K.showMessage((0,O.kg)("pasteAsError","No paste edits for '{0}' found",Q instanceof S.k?Q.value:Q.providerId),G[0].getStartPosition())}doPasteInline(G,Q,K,ie,ae){var de=this;const se=(0,x.SS)(function(){var ge=(0,a.A)(function*(_e){const ye=de._editor;if(!ye.hasModel())return;const M=ye.getModel(),ce=new T.gI(ye,3,void 0,_e);try{if(yield de.mergeInDataFromCopy(K,ie,ce.token),ce.token.isCancellationRequested)return;const Se=G.filter(ue=>de.isSupportedPasteProvider(ue,K));if(!Se.length||1===Se.length&&Se[0]instanceof p.LR)return de.applyDefaultPasteHandler(K,ie,ce.token,ae);const Ie={triggerKind:l.FX.Automatic},ne=yield de.getPasteEdits(Se,K,M,Q,Ie,ce.token);if(ce.token.isCancellationRequested)return;if(1===ne.length&&ne[0].provider instanceof p.LR)return de.applyDefaultPasteHandler(K,ie,ce.token,ae);if(ne.length){const ue="afterPaste"===ye.getOption(85).showPasteSelector;return de._postPasteWidgetManager.applyEditAndShowIfNeeded(Q,{activeEditIndex:0,allEdits:ne},ue,function(){var we=(0,a.A)(function*(Me,Ve){var $e,it;const He=yield null===(it=($e=Me.provider).resolveDocumentPasteEdit)||void 0===it?void 0:it.call($e,Me,Ve);return He&&(Me.additionalEdit=He.additionalEdit),Me});return function(Me,Ve){return we.apply(this,arguments)}}(),ce.token)}yield de.applyDefaultPasteHandler(K,ie,ce.token,ae)}finally{ce.dispose(),de._currentPasteOperation===se&&(de._currentPasteOperation=void 0)}});return function(_e){return ge.apply(this,arguments)}}());this._pasteProgressManager.showWhile(Q[0].getEndPosition(),(0,O.kg)("pasteIntoEditorProgress","Running paste handlers. Click to cancel"),se),this._currentPasteOperation=se}showPasteAsPick(G,Q,K,ie,ae){var de=this;const se=(0,x.SS)(function(){var ge=(0,a.A)(function*(_e){const ye=de._editor;if(!ye.hasModel())return;const M=ye.getModel(),ce=new T.gI(ye,3,void 0,_e);try{if(yield de.mergeInDataFromCopy(ie,ae,ce.token),ce.token.isCancellationRequested)return;let Se=Q.filter(Me=>de.isSupportedPasteProvider(Me,ie,G));G&&(Se=Se.filter(Me=>de.providerMatchesPreference(Me,G)));const Ie={triggerKind:l.FX.PasteAs,only:G&&G instanceof S.k?G:void 0};let ue,ne=yield de.getPasteEdits(Se,ie,M,K,Ie,ce.token);if(ce.token.isCancellationRequested)return;if(G&&(ne=ne.filter(Me=>G instanceof S.k?G.contains(Me.kind):G.providerId===Me.provider.id)),!ne.length)return void(Ie.only&&de.showPasteAsNoEditMessage(K,Ie.only));if(G)ue=ne.at(0);else{const Me=yield de._quickInputService.pick(ne.map(Ve=>{var $e;return{label:Ve.title,description:null===($e=Ve.kind)||void 0===$e?void 0:$e.value,edit:Ve}}),{placeHolder:(0,O.kg)("pasteAsPickerPlaceholder","Select Paste Action")});ue=Me?.edit}if(!ue)return;const we=(0,m.v)(M.uri,K,ue);yield de._bulkEditService.apply(we,{editor:de._editor})}finally{ce.dispose(),de._currentPasteOperation===se&&(de._currentPasteOperation=void 0)}});return function(_e){return ge.apply(this,arguments)}}());this._progressService.withProgress({location:10,title:(0,O.kg)("pasteAsProgress","Running paste handlers")},()=>se)}setCopyMetadata(G,Q){G.setData(Y,JSON.stringify(Q))}fetchCopyMetadata(G){var Q;if(!G.clipboardData)return;const K=G.clipboardData.getData(Y);if(K)try{return JSON.parse(K)}catch{return}const[ie,ae]=_.Mz.getTextData(G.clipboardData);return ae?{defaultPastePayload:{mode:ae.mode,multicursorText:null!==(Q=ae.multicursorText)&&void 0!==Q?Q:null,pasteOnNewLine:!!ae.isFromEmptySelection}}:void 0}mergeInDataFromCopy(G,Q,K){var ie=this;return(0,a.A)(function*(){var ae;if(Q?.id&&(null===(ae=q._currentCopyOperation)||void 0===ae?void 0:ae.handle)===Q.id){const de=yield q._currentCopyOperation.dataTransferPromise;if(K.isCancellationRequested)return;for(const[se,ge]of de)G.replace(se,ge)}if(!G.has(P.K.uriList)){const de=yield ie._clipboardService.readResources();if(K.isCancellationRequested)return;de.length&&G.append(P.K.uriList,(0,C.gf)(C.jt.create(de)))}})()}getPasteEdits(G,Q,K,ie,ae,de){return(0,a.A)(function*(){const se=yield(0,x.PK)(Promise.all(G.map(function(){var _e=(0,a.A)(function*(ye){var M,ce;try{const Se=yield null===(M=ye.provideDocumentPasteEdits)||void 0===M?void 0:M.call(ye,K,ie,Q,ae,de);return null===(ce=Se?.edits)||void 0===ce?void 0:ce.map(Ie=>({...Ie,provider:ye}))}catch(Se){console.error(Se)}});return function(ye){return _e.apply(this,arguments)}}())),de),ge=(0,w.Yc)(se??[]).flat().filter(_e=>!ae.only||ae.only.contains(_e.kind));return(0,m.H)(ge)})()}applyDefaultPasteHandler(G,Q,K,ie){var ae=this;return(0,a.A)(function*(){var de,se,ge,_e;const ye=null!==(de=G.get(P.K.text))&&void 0!==de?de:G.get("text"),M=null!==(se=yield ye?.asString())&&void 0!==se?se:"";if(K.isCancellationRequested)return;const ce={clipboardEvent:ie,text:M,pasteOnNewLine:null!==(ge=Q?.defaultPastePayload.pasteOnNewLine)&&void 0!==ge&&ge,multicursorText:null!==(_e=Q?.defaultPastePayload.multicursorText)&&void 0!==_e?_e:null,mode:null};ae._editor.trigger("keyboard","paste",ce)})()}isSupportedPasteProvider(G,Q,K){var ie;return!(null===(ie=G.pasteMimeTypes)||void 0===ie||!ie.some(ae=>Q.matches(ae)))&&(!K||this.providerMatchesPreference(G,K))}providerMatchesPreference(G,Q){return Q instanceof S.k?!G.providedPasteEditKinds||G.providedPasteEditKinds.some(K=>Q.contains(K)):G.id===Q.providerId}};oe.ID="editor.contrib.copyPasteActionController",oe=q=function(z,G,Q,K){var de,ie=arguments.length,ae=ie<3?G:null===K?K=Object.getOwnPropertyDescriptor(G,Q):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(z,G,Q,K);else for(var se=z.length-1;se>=0;se--)(de=z[se])&&(ae=(ie<3?de(ae):ie>3?de(G,Q,ae):de(G,Q))||ae);return ie>3&&ae&&Object.defineProperty(G,Q,ae),ae}([U(1,L._Y),U(2,d.nu),U(3,N.h),U(4,g.u),U(5,Z.GK),U(6,j.G5)],oe)},84345:(tt,xe,t)=>{t.d(xe,{L9:()=>H,LR:()=>p,ZR:()=>N});var a=t(10467),F=t(30833),w=t(47412),x=t(6260),C=t(99031),S=t(12323),b=t(75109),P=t(76698),D=t(32417),v=t(41489),_=t(15307),f=t(81644),d=t(97014),r=function(L,j,Z,te){var q,X=arguments.length,U=X<3?j:null===te?te=Object.getOwnPropertyDescriptor(j,Z):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(L,j,Z,te);else for(var R=L.length-1;R>=0;R--)(q=L[R])&&(U=(X<3?q(U):X>3?q(j,Z,U):q(j,Z))||U);return X>3&&U&&Object.defineProperty(j,Z,U),U},l=function(L,j){return function(Z,te){j(Z,te,L)}};class g{provideDocumentPasteEdits(j,Z,te,X,U){var q=this;return(0,a.A)(function*(){const R=yield q.getEdit(te,U);if(R)return{dispose(){},edits:[{insertText:R.insertText,title:R.title,kind:R.kind,handledMimeType:R.handledMimeType,yieldTo:R.yieldTo}]}})()}provideDocumentDropEdits(j,Z,te,X){var U=this;return(0,a.A)(function*(){const q=yield U.getEdit(te,X);return q?[{insertText:q.insertText,title:q.title,kind:q.kind,handledMimeType:q.handledMimeType,yieldTo:q.yieldTo}]:void 0})()}}class p extends g{constructor(){super(...arguments),this.kind=p.kind,this.dropMimeTypes=[S.K.text],this.pasteMimeTypes=[S.K.text]}getEdit(j,Z){var te=this;return(0,a.A)(function*(){const X=j.get(S.K.text);if(!X||j.has(S.K.uriList))return;const U=yield X.asString();return{handledMimeType:S.K.text,title:(0,f.kg)("text.label","Insert Plain Text"),insertText:U,kind:te.kind}})()}}p.id="text",p.kind=new x.k("text.plain");class m extends g{constructor(){super(...arguments),this.kind=new x.k("uri.absolute"),this.dropMimeTypes=[S.K.uriList],this.pasteMimeTypes=[S.K.uriList]}getEdit(j,Z){var te=this;return(0,a.A)(function*(){const X=yield k(j);if(!X.length||Z.isCancellationRequested)return;let U=0;const q=X.map(({uri:W,originalText:Y})=>W.scheme===b.ny.file?W.fsPath:(U++,Y)).join(" ");let R;return R=U>0?X.length>1?(0,f.kg)("defaultDropProvider.uriList.uris","Insert Uris"):(0,f.kg)("defaultDropProvider.uriList.uri","Insert Uri"):X.length>1?(0,f.kg)("defaultDropProvider.uriList.paths","Insert Paths"):(0,f.kg)("defaultDropProvider.uriList.path","Insert Path"),{handledMimeType:S.K.uriList,insertText:q,title:R,kind:te.kind}})()}}let T=class extends g{constructor(j){super(),this._workspaceContextService=j,this.kind=new x.k("uri.relative"),this.dropMimeTypes=[S.K.uriList],this.pasteMimeTypes=[S.K.uriList]}getEdit(j,Z){var te=this;return(0,a.A)(function*(){const X=yield k(j);if(!X.length||Z.isCancellationRequested)return;const U=(0,F.Yc)(X.map(({uri:q})=>{const R=te._workspaceContextService.getWorkspaceFolder(q);return R?(0,P.iZ)(R.uri,q):void 0}));return U.length?{handledMimeType:S.K.uriList,insertText:U.join(" "),title:X.length>1?(0,f.kg)("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):(0,f.kg)("defaultDropProvider.uriList.relativePath","Insert Relative Path"),kind:te.kind}:void 0})()}};T=r([l(0,d.VR)],T);class A{constructor(){this.kind=new x.k("html"),this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:S.K.text}]}provideDocumentPasteEdits(j,Z,te,X,U){var q=this;return(0,a.A)(function*(){var R;if(X.triggerKind!==v.FX.PasteAs&&(null===(R=X.only)||void 0===R||!R.contains(q.kind)))return;const W=te.get("text/html"),Y=yield W?.asString();return Y&&!U.isCancellationRequested?{dispose(){},edits:[{insertText:Y,yieldTo:q._yieldTo,title:(0,f.kg)("pasteHtmlLabel","Insert HTML"),kind:q.kind}]}:void 0})()}}function k(L){return O.apply(this,arguments)}function O(){return(O=(0,a.A)(function*(L){const j=L.get(S.K.uriList);if(!j)return[];const Z=yield j.asString(),te=[];for(const X of w.jt.parse(Z))try{te.push({uri:D.r.parse(X),originalText:X})}catch{}return te})).apply(this,arguments)}let N=class extends C.jG{constructor(j,Z){super(),this._register(j.documentDropEditProvider.register("*",new p)),this._register(j.documentDropEditProvider.register("*",new m)),this._register(j.documentDropEditProvider.register("*",new T(Z)))}};N=r([l(0,_.u),l(1,d.VR)],N);let H=class extends C.jG{constructor(j,Z){super(),this._register(j.documentPasteEditProvider.register("*",new p)),this._register(j.documentPasteEditProvider.register("*",new m)),this._register(j.documentPasteEditProvider.register("*",new T(Z))),this._register(j.documentPasteEditProvider.register("*",new A))}};H=r([l(0,_.u),l(1,d.VR)],H)},70254:(tt,xe,t)=>{var a=t(47639),F=t(30788),w=t(1153),x=t(84345),C=t(81644),S=t(70987),b=t(97018),P=t(10467),D=t(30833),v=t(86671),_=t(47412),f=t(6260),d=t(99031),r=t(29288),l=t(73678),g=t(15307);class m{constructor(G){this.identifier=G}}var T=t(56789),A=t(598);const k=(0,A.u1)("treeViewsDndService");(0,T.v)(k,class p{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(G){if(G&&this._dragOperations.has(G)){const Q=this._dragOperations.get(G);return this._dragOperations.delete(G),Q}}},1);var q,O=t(89774),N=t(4770),H=t(35072),L=t(50168),j=t(27487),Z=t(93340),te=t(41081),U=function(z,G){return function(Q,K){G(Q,K,z)}};const R="editor.experimental.dropIntoEditor.defaultProvider",W="editor.changeDropType",Y=new L.N1("dropWidgetVisible",!1,(0,C.kg)("dropWidgetVisible","Whether the drop widget is showing"));let oe=q=class extends d.jG{static get(G){return G.getContribution(q.ID)}constructor(G,Q,K,ie,ae){super(),this._configService=K,this._languageFeaturesService=ie,this._treeViewsDragAndDropService=ae,this.treeItemsTransfer=j.PD.getInstance(),this._dropProgressManager=this._register(Q.createInstance(N.I,"dropIntoEditor",G)),this._postDropWidgetManager=this._register(Q.createInstance(te.G,"dropIntoEditor",G,Y,{id:W,label:(0,C.kg)("postDropWidgetTitle","Show drop options...")})),this._register(G.onDropIntoEditor(de=>this.onDropIntoEditor(G,de.position,de.event)))}clearWidgets(){this._postDropWidgetManager.clear()}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(G,Q,K){var ie=this;return(0,P.A)(function*(){var ae;if(!K.dataTransfer||!G.hasModel())return;null===(ae=ie._currentOperation)||void 0===ae||ae.cancel(),G.focus(),G.setPosition(Q);const de=(0,v.SS)(function(){var se=(0,P.A)(function*(ge){const _e=new O.gI(G,1,void 0,ge);try{const ye=yield ie.extractDataTransferData(K);if(0===ye.size||_e.token.isCancellationRequested)return;const M=G.getModel();if(!M)return;const ce=ie._languageFeaturesService.documentDropEditProvider.ordered(M).filter(Ie=>!Ie.dropMimeTypes||Ie.dropMimeTypes.some(ne=>ye.matches(ne))),Se=yield ie.getDropEdits(ce,M,Q,ye,_e);if(_e.token.isCancellationRequested)return;if(Se.length){const Ie=ie.getInitialActiveEditIndex(M,Se),ne="afterDrop"===G.getOption(36).showDropSelector;yield ie._postDropWidgetManager.applyEditAndShowIfNeeded([l.Q.fromPositions(Q)],{activeEditIndex:Ie,allEdits:Se},ne,function(){var ue=(0,P.A)(function*(we){return we});return function(we){return ue.apply(this,arguments)}}(),ge)}}finally{_e.dispose(),ie._currentOperation===de&&(ie._currentOperation=void 0)}});return function(ge){return se.apply(this,arguments)}}());ie._dropProgressManager.showWhile(Q,(0,C.kg)("dropIntoEditorProgress","Running drop handlers. Click to cancel"),de),ie._currentOperation=de})()}getDropEdits(G,Q,K,ie,ae){return(0,P.A)(function*(){const de=yield(0,v.PK)(Promise.all(G.map(function(){var ge=(0,P.A)(function*(_e){try{const ye=yield _e.provideDocumentDropEdits(Q,K,ie,ae.token);return ye?.map(M=>({...M,providerId:_e.id}))}catch(ye){console.error(ye)}});return function(_e){return ge.apply(this,arguments)}}())),ae.token),se=(0,D.Yc)(de??[]).flat();return(0,Z.H)(se)})()}getInitialActiveEditIndex(G,Q){const K=this._configService.getValue(R,{resource:G.uri});for(const[ie,ae]of Object.entries(K)){const de=new f.k(ae),se=Q.findIndex(ge=>de.value===ge.providerId&&ge.handledMimeType&&(0,_.Y)(ie,[ge.handledMimeType]));if(se>=0)return se}return 0}extractDataTransferData(G){var Q=this;return(0,P.A)(function*(){if(!G.dataTransfer)return new _.Vq;const K=(0,r.l)(G.dataTransfer);if(Q.treeItemsTransfer.hasData(m.prototype)){const ie=Q.treeItemsTransfer.getData(m.prototype);if(Array.isArray(ie))for(const ae of ie){const de=yield Q._treeViewsDragAndDropService.removeDragOperationTransfer(ae.identifier);if(de)for(const[se,ge]of de)K.replace(se,ge)}}return K})()}};oe.ID="editor.contrib.dropIntoEditorController",oe=q=function(z,G,Q,K){var de,ie=arguments.length,ae=ie<3?G:null===K?K=Object.getOwnPropertyDescriptor(G,Q):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(z,G,Q,K);else for(var se=z.length-1;se>=0;se--)(de=z[se])&&(ae=(ie<3?de(ae):ie>3?de(G,Q,ae):de(G,Q))||ae);return ie>3&&ae&&Object.defineProperty(G,Q,ae),ae}([U(1,A._Y),U(2,H.pG),U(3,g.u),U(4,k)],oe),(0,a.HW)(oe.ID,oe,2),(0,w.x)(x.ZR),(0,a.E_)(new class extends a.DX{constructor(){super({id:W,precondition:Y,kbOpts:{weight:100,primary:2137}})}runEditorCommand(z,G,Q){var K;null===(K=oe.get(G))||void 0===K||K.changeDropType()}}),(0,a.E_)(new class extends a.DX{constructor(){super({id:"editor.hideDropWidget",precondition:Y,kbOpts:{weight:100,primary:9}})}runEditorCommand(z,G,Q){var K;null===(K=oe.get(G))||void 0===K||K.clearWidgets()}}),b.O.as(S.Fd.Configuration).registerConfiguration({...F.JJ,properties:{[R]:{type:"object",scope:5,description:C.kg("defaultProviderDescription","Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}})},93340:(tt,xe,t)=>{t.d(xe,{H:()=>x,v:()=>w});var a=t(876),F=t(7716);function w(C,S,b){var P,D,v,_;return("string"==typeof b.insertText?""===b.insertText:""===b.insertText.snippet)?{edits:null!==(D=null===(P=b.additionalEdit)||void 0===P?void 0:P.edits)&&void 0!==D?D:[]}:{edits:[...S.map(f=>new a.cw(C,{range:f,text:"string"==typeof b.insertText?F.fr.escape(b.insertText)+"$0":b.insertText.snippet,insertAsSnippet:!0})),...null!==(_=null===(v=b.additionalEdit)||void 0===v?void 0:v.edits)&&void 0!==_?_:[]]}}function x(C){var S;function b(f,d){return"mimeType"in f?f.mimeType===d.handledMimeType:!!d.kind&&f.kind.contains(d.kind)}const P=new Map;for(const f of C)for(const d of null!==(S=f.yieldTo)&&void 0!==S?S:[])for(const r of C)if(r!==f&&b(d,r)){let l=P.get(f);l||(l=[],P.set(f,l)),l.push(r)}if(!P.size)return Array.from(C);const D=new Set,v=[];return function _(f){if(!f.length)return[];const d=f[0];if(v.includes(d))return console.warn("Yield to cycle detected",d),f;if(D.has(d))return _(f.slice(1));let r=[];const l=P.get(d);return l&&(v.push(d),r=_(l),v.pop()),D.add(d),[...r,d,..._(f.slice(1))]}(Array.from(C))}},41081:(tt,xe,t)=>{t.d(xe,{G:()=>G});var a=t(10467),F=t(91874),w=t(98352),x=t(64948),C=t(66010),S=t(25680),b=t(5643),P=t(99031),D=t(85072),v=t.n(D),_=t(97825),f=t.n(_),d=t(77659),r=t.n(d),l=t(55056),g=t.n(l),p=t(10540),m=t.n(p),T=t(41113),A=t.n(T),k=t(39926),O={};O.styleTagTransform=A(),O.setAttributes=g(),O.insert=r().bind(null,"head"),O.domAPI=f(),O.insertStyleElement=m(),v()(k.A,O);var oe,L=t(876),j=t(93340),Z=t(81644),te=t(50168),X=t(71887),U=t(598),q=t(59002),R=t(16362),W=function(Q,K,ie,ae){var ge,de=arguments.length,se=de<3?K:null===ae?ae=Object.getOwnPropertyDescriptor(K,ie):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)se=Reflect.decorate(Q,K,ie,ae);else for(var _e=Q.length-1;_e>=0;_e--)(ge=Q[_e])&&(se=(de<3?ge(se):de>3?ge(K,ie,se):ge(K,ie))||se);return de>3&&se&&Object.defineProperty(K,ie,se),se},Y=function(Q,K){return function(ie,ae){K(ie,ae,Q)}};let z=oe=class extends P.jG{constructor(K,ie,ae,de,se,ge,_e,ye,M,ce){super(),this.typeId=K,this.editor=ie,this.showCommand=de,this.range=se,this.edits=ge,this.onSelectNewEdit=_e,this._contextMenuService=ye,this._keybindingService=ce,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=ae.bindTo(M),this.visibleContext.set(!0),this._register((0,P.s)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,P.s)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(Se=>{se.containsPosition(Se.position)||this.dispose()})),this._register(b.Jh.runAndSubscribe(ce.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var K;const ie=null===(K=this._keybindingService.lookupKeybinding(this.showCommand.id))||void 0===K?void 0:K.getLabel();this.button.element.title=this.showCommand.label+(ie?` (${ie})`:"")}create(){this.domNode=F.$(".post-edit-widget"),this.button=this._register(new w.$(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(F.ko(this.domNode,F.Bx.CLICK,()=>this.showSelector()))}getId(){return oe.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const K=F.BK(this.button.element);return{x:K.left+K.width,y:K.top+K.height}},getActions:()=>this.edits.allEdits.map((K,ie)=>(0,x.ih)({id:"",label:K.title,checked:ie===this.edits.activeEditIndex,run:()=>{if(ie!==this.edits.activeEditIndex)return this.onSelectNewEdit(ie)}}))})}};z.baseId="editor.widget.postEditWidget",z=oe=W([Y(7,X.Z),Y(8,te.fN),Y(9,q.b)],z);let G=class extends P.jG{constructor(K,ie,ae,de,se,ge,_e){super(),this._id=K,this._editor=ie,this._visibleContext=ae,this._showCommand=de,this._instantiationService=se,this._bulkEditService=ge,this._notificationService=_e,this._currentWidget=this._register(new P.HE),this._register(b.Jh.any(ie.onDidChangeModel,ie.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(K,ie,ae,de,se){var ge=this;return(0,a.A)(function*(){const _e=ge._editor.getModel();if(!_e||!K.length)return;const ye=ie.allEdits.at(ie.activeEditIndex);if(!ye)return;const M=function(){var Ve=(0,a.A)(function*($e){const it=ge._editor.getModel();it&&(yield it.undo(),ge.applyEditAndShowIfNeeded(K,{activeEditIndex:$e,allEdits:ie.allEdits},ae,de,se))});return function(it){return Ve.apply(this,arguments)}}(),ce=(Ve,$e)=>{(0,S.MB)(Ve)||(ge._notificationService.error($e),ae&&ge.show(K[0],ie,M))};let Se;try{Se=yield de(ye,se)}catch(Ve){return ce(Ve,(0,Z.kg)("resolveError","Error resolving edit '{0}':\n{1}",ye.title,(0,C.r)(Ve)))}if(se.isCancellationRequested)return;const Ie=(0,j.v)(_e.uri,K,Se),ne=K[0],ue=_e.deltaDecorations([],[{range:ne,options:{description:"paste-line-suffix",stickiness:0}}]);let we,Me;ge._editor.focus();try{we=yield ge._bulkEditService.apply(Ie,{editor:ge._editor,token:se}),Me=_e.getDecorationRange(ue[0])}catch(Ve){return ce(Ve,(0,Z.kg)("applyError","Error applying edit '{0}':\n{1}",ye.title,(0,C.r)(Ve)))}finally{_e.deltaDecorations(ue,[])}se.isCancellationRequested||ae&&we.isApplied&&ie.allEdits.length>1&&ge.show(Me??ne,ie,M)})()}show(K,ie,ae){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(z,this._id,this._editor,this._visibleContext,this._showCommand,K,ie,ae))}clear(){this._currentWidget.clear()}tryShowSelector(){var K;null===(K=this._currentWidget.value)||void 0===K||K.showSelector()}};G=W([Y(4,U._Y),Y(5,L.nu),Y(6,R.Ot)],G)},89774:(tt,xe,t)=>{t.d(xe,{$t:()=>r,gI:()=>l,ER:()=>g});var a=t(6653),F=t(73678),w=t(21468),x=t(99031),C=t(47639),S=t(50168),b=t(18002),P=t(598),D=t(56789),v=t(81644);const _=(0,P.u1)("IEditorCancelService"),f=new S.N1("cancellableOperation",!1,(0,v.kg)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,D.v)(_,class{constructor(){this._tokens=new WeakMap}add(p,m){let A,T=this._tokens.get(p);return T||(T=p.invokeWithinContext(k=>({key:f.bindTo(k.get(S.fN)),tokens:new b.w})),this._tokens.set(p,T)),T.key.set(!0),A=T.tokens.push(m),()=>{A&&(A(),T.key.set(!T.tokens.isEmpty()),A=void 0)}}cancel(p){const m=this._tokens.get(p);if(!m)return;const T=m.tokens.pop();T&&(T.cancel(),m.key.set(!m.tokens.isEmpty()))}},1);class d extends w.Qi{constructor(m,T){super(T),this.editor=m,this._unregister=m.invokeWithinContext(A=>A.get(_).add(m,this))}dispose(){this._unregister(),super.dispose()}}(0,C.E_)(new class extends C.DX{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:f})}runEditorCommand(p,m){p.get(_).cancel(m)}});class r{constructor(m,T){if(this.flags=T,1&this.flags){const A=m.getModel();this.modelVersionId=A?a.GP("{0}#{1}",A.uri.toString(),A.getVersionId()):null}else this.modelVersionId=null;this.position=4&this.flags?m.getPosition():null,this.selection=2&this.flags?m.getSelection():null,8&this.flags?(this.scrollLeft=m.getScrollLeft(),this.scrollTop=m.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(m){if(!(m instanceof r))return!1;const T=m;return!(this.modelVersionId!==T.modelVersionId||this.scrollLeft!==T.scrollLeft||this.scrollTop!==T.scrollTop||!this.position&&T.position||this.position&&!T.position||this.position&&T.position&&!this.position.equals(T.position)||!this.selection&&T.selection||this.selection&&!T.selection||this.selection&&T.selection&&!this.selection.equalsRange(T.selection))}validate(m){return this._equals(new r(m,this.flags))}}class l extends d{constructor(m,T,A,k){super(m,k),this._listener=new x.Cm,4&T&&this._listener.add(m.onDidChangeCursorPosition(O=>{(!A||!F.Q.containsPosition(A,O.position))&&this.cancel()})),2&T&&this._listener.add(m.onDidChangeCursorSelection(O=>{(!A||!F.Q.containsRange(A,O.selection))&&this.cancel()})),8&T&&this._listener.add(m.onDidScrollChange(O=>this.cancel())),1&T&&(this._listener.add(m.onDidChangeModel(O=>this.cancel())),this._listener.add(m.onDidChangeModelContent(O=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class g extends w.Qi{constructor(m,T){super(T),this._listener=m.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},30284:(tt,xe,t)=>{t.d(xe,{z0:()=>at});var a=t(10467),F=t(86671),w=t(99031),x=t(6653),C=t(47639),S=t(30976),b=t(69995),P=t(63782),D=t(92210),v=t(19533),_=t(13632),f=t(73678),d=t(14105),r=t(73741),l=t(80753),g=t(85478),p=t(48187);class m{constructor(Rt){this._editor=Rt,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const Rt=this._findScopeDecorationIds.map(Pt=>this._editor.getModel().getDecorationRange(Pt)).filter(Pt=>!!Pt);if(Rt.length)return Rt}return null}getStartPosition(){return this._startPosition}setStartPosition(Rt){this._startPosition=Rt,this.setCurrentFindMatch(null)}_getDecorationIndex(Rt){const Pt=this._decorations.indexOf(Rt);return Pt>=0?Pt+1:1}getDecorationRangeAt(Rt){const Pt=Rt<this._decorations.length?this._decorations[Rt]:null;return Pt?this._editor.getModel().getDecorationRange(Pt):null}getCurrentMatchesPosition(Rt){const Pt=this._editor.getModel().getDecorationsInRange(Rt);for(const hn of Pt){const An=hn.options;if(An===m._FIND_MATCH_DECORATION||An===m._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(hn.id)}return 0}setCurrentFindMatch(Rt){let Pt=null,hn=0;if(Rt)for(let An=0,Hn=this._decorations.length;An<Hn;An++){const ni=this._editor.getModel().getDecorationRange(this._decorations[An]);if(Rt.equalsRange(ni)){Pt=this._decorations[An],hn=An+1;break}}return(null!==this._highlightedDecorationId||null!==Pt)&&this._editor.changeDecorations(An=>{if(null!==this._highlightedDecorationId&&(An.changeDecorationOptions(this._highlightedDecorationId,m._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==Pt&&(this._highlightedDecorationId=Pt,An.changeDecorationOptions(this._highlightedDecorationId,m._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(An.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==Pt){let Hn=this._editor.getModel().getDecorationRange(Pt);if(Hn.startLineNumber!==Hn.endLineNumber&&1===Hn.endColumn){const ni=Hn.endLineNumber-1,$n=this._editor.getModel().getLineMaxColumn(ni);Hn=new f.Q(Hn.startLineNumber,Hn.startColumn,ni,$n)}this._rangeHighlightDecorationId=An.addDecoration(Hn,m._RANGE_HIGHLIGHT_DECORATION)}}),hn}set(Rt,Pt){this._editor.changeDecorations(hn=>{let An=m._FIND_MATCH_DECORATION;const Hn=[];if(Rt.length>1e3){An=m._FIND_MATCH_NO_OVERVIEW_DECORATION;const $n=this._editor.getModel().getLineCount(),Ii=this._editor.getLayoutInfo().height/$n,yn=Math.max(2,Math.ceil(3/Ii));let Ue=Rt[0].range.startLineNumber,Dt=Rt[0].range.endLineNumber;for(let nn=1,pn=Rt.length;nn<pn;nn++){const Zt=Rt[nn].range;Dt+yn>=Zt.startLineNumber?Zt.endLineNumber>Dt&&(Dt=Zt.endLineNumber):(Hn.push({range:new f.Q(Ue,1,Dt,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),Ue=Zt.startLineNumber,Dt=Zt.endLineNumber)}Hn.push({range:new f.Q(Ue,1,Dt,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const ni=new Array(Rt.length);for(let $n=0,Ri=Rt.length;$n<Ri;$n++)ni[$n]={range:Rt[$n].range,options:An};this._decorations=hn.deltaDecorations(this._decorations,ni),this._overviewRulerApproximateDecorations=hn.deltaDecorations(this._overviewRulerApproximateDecorations,Hn),this._rangeHighlightDecorationId&&(hn.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach($n=>hn.removeDecoration($n)),this._findScopeDecorationIds=[]),Pt?.length&&(this._findScopeDecorationIds=Pt.map($n=>hn.addDecoration($n,m._FIND_SCOPE_DECORATION)))})}matchBeforePosition(Rt){if(0===this._decorations.length)return null;for(let Pt=this._decorations.length-1;Pt>=0;Pt--){const hn=this._decorations[Pt],An=this._editor.getModel().getDecorationRange(hn);if(An&&!(An.endLineNumber>Rt.lineNumber)){if(An.endLineNumber<Rt.lineNumber)return An;if(!(An.endColumn>Rt.column))return An}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(Rt){if(0===this._decorations.length)return null;for(let Pt=0,hn=this._decorations.length;Pt<hn;Pt++){const An=this._decorations[Pt],Hn=this._editor.getModel().getDecorationRange(An);if(Hn&&!(Hn.startLineNumber<Rt.lineNumber)){if(Hn.startLineNumber>Rt.lineNumber)return Hn;if(!(Hn.startColumn<Rt.column))return Hn}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let Rt=[];return Rt=Rt.concat(this._decorations),Rt=Rt.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&Rt.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&Rt.push(this._rangeHighlightDecorationId),Rt}}m._CURRENT_FIND_MATCH_DECORATION=l.kI.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",inlineClassName:"currentFindMatchInline",showIfCollapsed:!0,overviewRuler:{color:(0,p.Yf)(g.fAP),position:P.A5.Center},minimap:{color:(0,p.Yf)(g.AjU),position:1}}),m._FIND_MATCH_DECORATION=l.kI.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",inlineClassName:"findMatchInline",showIfCollapsed:!0,overviewRuler:{color:(0,p.Yf)(g.fAP),position:P.A5.Center},minimap:{color:(0,p.Yf)(g.AjU),position:1}}),m._FIND_MATCH_NO_OVERVIEW_DECORATION=l.kI.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),m._FIND_MATCH_ONLY_OVERVIEW_DECORATION=l.kI.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,p.Yf)(g.fAP),position:P.A5.Center}}),m._RANGE_HIGHLIGHT_DECORATION=l.kI.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),m._FIND_SCOPE_DECORATION=l.kI.register({description:"find-scope",className:"findScope",isWholeLine:!0});class T{constructor(Rt,Pt,hn){this._editorSelection=Rt,this._ranges=Pt,this._replaceStrings=hn,this._trackedEditorSelectionId=null}getEditOperations(Rt,Pt){if(this._ranges.length>0){const hn=[];for(let ni=0;ni<this._ranges.length;ni++)hn.push({range:this._ranges[ni],text:this._replaceStrings[ni]});hn.sort((ni,$n)=>f.Q.compareRangesUsingStarts(ni.range,$n.range));const An=[];let Hn=hn[0];for(let ni=1;ni<hn.length;ni++)Hn.range.endLineNumber===hn[ni].range.startLineNumber&&Hn.range.endColumn===hn[ni].range.startColumn?(Hn.range=Hn.range.plusRange(hn[ni].range),Hn.text=Hn.text+hn[ni].text):(An.push(Hn),Hn=hn[ni]);An.push(Hn);for(const ni of An)Pt.addEditOperation(ni.range,ni.text)}this._trackedEditorSelectionId=Pt.trackSelection(this._editorSelection)}computeCursorState(Rt,Pt){return Pt.getTrackedSelection(this._trackedEditorSelectionId)}}function A(At,Rt){if(At&&""!==At[0]){const Pt=k(At,Rt,"-"),hn=k(At,Rt,"_");return Pt&&!hn?O(At,Rt,"-"):!Pt&&hn?O(At,Rt,"_"):At[0].toUpperCase()===At[0]?Rt.toUpperCase():At[0].toLowerCase()===At[0]?Rt.toLowerCase():x.zY(At[0][0])&&Rt.length>0?Rt[0].toUpperCase()+Rt.substr(1):At[0][0].toUpperCase()!==At[0][0]&&Rt.length>0?Rt[0].toLowerCase()+Rt.substr(1):Rt}return Rt}function k(At,Rt,Pt){return-1!==At[0].indexOf(Pt)&&-1!==Rt.indexOf(Pt)&&At[0].split(Pt).length===Rt.split(Pt).length}function O(At,Rt,Pt){const hn=Rt.split(Pt),An=At[0].split(Pt);let Hn="";return hn.forEach((ni,$n)=>{Hn+=A([An[$n]],ni)+Pt}),Hn.slice(0,-1)}class N{constructor(Rt){this.staticValue=Rt,this.kind=0}}class H{constructor(Rt){this.pieces=Rt,this.kind=1}}class L{static fromStaticValue(Rt){return new L([j.staticValue(Rt)])}get hasReplacementPatterns(){return 1===this._state.kind}constructor(Rt){this._state=Rt&&0!==Rt.length?1===Rt.length&&null!==Rt[0].staticValue?new N(Rt[0].staticValue):new H(Rt):new N("")}buildReplaceString(Rt,Pt){if(0===this._state.kind)return Pt?A(Rt,this._state.staticValue):this._state.staticValue;let hn="";for(let An=0,Hn=this._state.pieces.length;An<Hn;An++){const ni=this._state.pieces[An];if(null!==ni.staticValue){hn+=ni.staticValue;continue}let $n=L._substitute(ni.matchIndex,Rt);if(null!==ni.caseOps&&ni.caseOps.length>0){const Ri=[],Ii=ni.caseOps.length;let yn=0;for(let Ue=0,Dt=$n.length;Ue<Dt;Ue++){if(yn>=Ii){Ri.push($n.slice(Ue));break}switch(ni.caseOps[yn]){case"U":Ri.push($n[Ue].toUpperCase());break;case"u":Ri.push($n[Ue].toUpperCase()),yn++;break;case"L":Ri.push($n[Ue].toLowerCase());break;case"l":Ri.push($n[Ue].toLowerCase()),yn++;break;default:Ri.push($n[Ue])}}$n=Ri.join("")}hn+=$n}return hn}static _substitute(Rt,Pt){if(null===Pt)return"";if(0===Rt)return Pt[0];let hn="";for(;Rt>0;){if(Rt<Pt.length)return(Pt[Rt]||"")+hn;hn=String(Rt%10)+hn,Rt=Math.floor(Rt/10)}return"$"+hn}}class j{static staticValue(Rt){return new j(Rt,-1,null)}static caseOps(Rt,Pt){return new j(null,Rt,Pt)}constructor(Rt,Pt,hn){this.staticValue=Rt,this.matchIndex=Pt,this.caseOps=hn&&0!==hn.length?hn.slice(0):null}}class Z{constructor(Rt){this._source=Rt,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(Rt){this._emitStatic(this._source.substring(this._lastCharIndex,Rt)),this._lastCharIndex=Rt}emitStatic(Rt,Pt){this._emitStatic(Rt),this._lastCharIndex=Pt}_emitStatic(Rt){0!==Rt.length&&(this._currentStaticPiece+=Rt)}emitMatchIndex(Rt,Pt,hn){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=j.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=j.caseOps(Rt,hn),this._lastCharIndex=Pt}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=j.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new L(this._result)}}var X=t(50168);const U=new X.N1("findWidgetVisible",!1),R=(U.toNegated(),new X.N1("findInputFocussed",!1)),W=new X.N1("replaceInputFocussed",!1),Y={primary:545,mac:{primary:2593}},oe={primary:565,mac:{primary:2613}},z={primary:560,mac:{primary:2608}},G={primary:554,mac:{primary:2602}},Q={primary:558,mac:{primary:2606}},ie=19999;class de{constructor(Rt,Pt){this._toDispose=new w.Cm,this._editor=Rt,this._state=Pt,this._isDisposed=!1,this._startSearchingTimer=new F.pc,this._decorations=new m(Rt),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new F.uC(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(hn=>{(3===hn.reason||5===hn.reason||6===hn.reason)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(hn=>{this._ignoreModelContentChanged||(hn.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(hn=>this._onStateChanged(hn))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,w.AS)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(Rt){this._isDisposed||this._editor.hasModel()&&(Rt.searchString||Rt.isReplaceRevealed||Rt.isRegex||Rt.wholeWord||Rt.matchCase||Rt.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{Rt.searchScope?this.research(Rt.moveCursor,this._state.searchScope):this.research(Rt.moveCursor)},240)):Rt.searchScope?this.research(Rt.moveCursor,this._state.searchScope):this.research(Rt.moveCursor))}static _getSearchRange(Rt,Pt){return Pt||Rt.getFullModelRange()}research(Rt,Pt){let hn=null;typeof Pt<"u"?null!==Pt&&(hn=Array.isArray(Pt)?Pt:[Pt]):hn=this._decorations.getFindScopes(),null!==hn&&(hn=hn.map($n=>{if($n.startLineNumber!==$n.endLineNumber){let Ri=$n.endLineNumber;return 1===$n.endColumn&&(Ri-=1),new f.Q($n.startLineNumber,1,Ri,this._editor.getModel().getLineMaxColumn(Ri))}return $n}));const An=this._findMatches(hn,!1,ie);this._decorations.set(An,hn);const Hn=this._editor.getSelection();let ni=this._decorations.getCurrentMatchesPosition(Hn);if(0===ni&&An.length>0){const $n=(0,D.hw)(An.map(Ri=>Ri.range),Ri=>f.Q.compareRangesUsingStarts(Ri,Hn)>=0);ni=$n>0?$n-1+1:ni}this._state.changeMatchInfo(ni,this._decorations.getCount(),void 0),Rt&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const Rt=this._decorations.getFindScope();return Rt&&this._editor.revealRangeInCenterIfOutsideViewport(Rt,0),!0}return!1}_setCurrentFindMatch(Rt){const Pt=this._decorations.setCurrentFindMatch(Rt);this._state.changeMatchInfo(Pt,this._decorations.getCount(),Rt),this._editor.setSelection(Rt),this._editor.revealRangeInCenterIfOutsideViewport(Rt,0)}_prevSearchPosition(Rt){const Pt=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:hn,column:An}=Rt;const Hn=this._editor.getModel();return Pt||1===An?(1===hn?hn=Hn.getLineCount():hn--,An=Hn.getLineMaxColumn(hn)):An--,new _.y(hn,An)}_moveToPrevMatch(Rt,Pt=!1){if(!this._state.canNavigateBack()){const yn=this._decorations.matchAfterPosition(Rt);return void(yn&&this._setCurrentFindMatch(yn))}if(this._decorations.getCount()<ie){let yn=this._decorations.matchBeforePosition(Rt);return yn&&yn.isEmpty()&&yn.getStartPosition().equals(Rt)&&(Rt=this._prevSearchPosition(Rt),yn=this._decorations.matchBeforePosition(Rt)),void(yn&&this._setCurrentFindMatch(yn))}if(this._cannotFind())return;const hn=this._decorations.getFindScope(),An=de._getSearchRange(this._editor.getModel(),hn);An.getEndPosition().isBefore(Rt)&&(Rt=An.getEndPosition()),Rt.isBefore(An.getStartPosition())&&(Rt=An.getEndPosition());const{lineNumber:Hn,column:ni}=Rt,$n=this._editor.getModel();let Ri=new _.y(Hn,ni),Ii=$n.findPreviousMatch(this._state.searchString,Ri,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,!1);if(Ii&&Ii.range.isEmpty()&&Ii.range.getStartPosition().equals(Ri)&&(Ri=this._prevSearchPosition(Ri),Ii=$n.findPreviousMatch(this._state.searchString,Ri,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,!1)),Ii){if(!Pt&&!An.containsRange(Ii.range))return this._moveToPrevMatch(Ii.range.getStartPosition(),!0);this._setCurrentFindMatch(Ii.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(Rt){const Pt=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:hn,column:An}=Rt;const Hn=this._editor.getModel();return Pt||An===Hn.getLineMaxColumn(hn)?(hn===Hn.getLineCount()?hn=1:hn++,An=1):An++,new _.y(hn,An)}_moveToNextMatch(Rt){if(!this._state.canNavigateForward()){const hn=this._decorations.matchBeforePosition(Rt);return void(hn&&this._setCurrentFindMatch(hn))}if(this._decorations.getCount()<ie){let hn=this._decorations.matchAfterPosition(Rt);return hn&&hn.isEmpty()&&hn.getStartPosition().equals(Rt)&&(Rt=this._nextSearchPosition(Rt),hn=this._decorations.matchAfterPosition(Rt)),void(hn&&this._setCurrentFindMatch(hn))}const Pt=this._getNextMatch(Rt,!1,!0);Pt&&this._setCurrentFindMatch(Pt.range)}_getNextMatch(Rt,Pt,hn,An=!1){if(this._cannotFind())return null;const Hn=this._decorations.getFindScope(),ni=de._getSearchRange(this._editor.getModel(),Hn);ni.getEndPosition().isBefore(Rt)&&(Rt=ni.getStartPosition()),Rt.isBefore(ni.getStartPosition())&&(Rt=ni.getStartPosition());const{lineNumber:$n,column:Ri}=Rt,Ii=this._editor.getModel();let yn=new _.y($n,Ri),Ue=Ii.findNextMatch(this._state.searchString,yn,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,Pt);return hn&&Ue&&Ue.range.isEmpty()&&Ue.range.getStartPosition().equals(yn)&&(yn=this._nextSearchPosition(yn),Ue=Ii.findNextMatch(this._state.searchString,yn,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,Pt)),Ue?An||ni.containsRange(Ue.range)?Ue:this._getNextMatch(Ue.range.getEndPosition(),Pt,hn,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(Rt){const Pt=this._decorations.getDecorationRangeAt(Rt);Pt&&this._setCurrentFindMatch(Pt)}moveToMatch(Rt){this._moveToMatch(Rt)}_getReplacePattern(){return this._state.isRegex?function te(At){if(!At||0===At.length)return new L(null);const Rt=[],Pt=new Z(At);for(let hn=0,An=At.length;hn<An;hn++){const Hn=At.charCodeAt(hn);if(92!==Hn){if(36===Hn){if(hn++,hn>=An)break;const ni=At.charCodeAt(hn);if(36===ni){Pt.emitUnchanged(hn-1),Pt.emitStatic("$",hn+1);continue}if(48===ni||38===ni){Pt.emitUnchanged(hn-1),Pt.emitMatchIndex(0,hn+1,Rt),Rt.length=0;continue}if(49<=ni&&ni<=57){let $n=ni-48;if(hn+1<An){const Ri=At.charCodeAt(hn+1);if(48<=Ri&&Ri<=57){hn++,$n=10*$n+(Ri-48),Pt.emitUnchanged(hn-2),Pt.emitMatchIndex($n,hn+1,Rt),Rt.length=0;continue}}Pt.emitUnchanged(hn-1),Pt.emitMatchIndex($n,hn+1,Rt),Rt.length=0;continue}}}else{if(hn++,hn>=An)break;const ni=At.charCodeAt(hn);switch(ni){case 92:Pt.emitUnchanged(hn-1),Pt.emitStatic("\\",hn+1);break;case 110:Pt.emitUnchanged(hn-1),Pt.emitStatic("\n",hn+1);break;case 116:Pt.emitUnchanged(hn-1),Pt.emitStatic("\t",hn+1);break;case 117:case 85:case 108:case 76:Pt.emitUnchanged(hn-1),Pt.emitStatic("",hn+1),Rt.push(String.fromCharCode(ni))}}}return Pt.finalize()}(this._state.replaceString):L.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const Rt=this._getReplacePattern(),Pt=this._editor.getSelection(),hn=this._getNextMatch(Pt.getStartPosition(),!0,!1);if(hn)if(Pt.equalsRange(hn.range)){const An=Rt.buildReplaceString(hn.matches,this._state.preserveCase),Hn=new v.iu(Pt,An);this._executeEditorCommand("replace",Hn),this._decorations.setStartPosition(new _.y(Pt.startLineNumber,Pt.startColumn+An.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(hn.range)}_findMatches(Rt,Pt,hn){const An=(Rt||[null]).map(Hn=>de._getSearchRange(this._editor.getModel(),Hn));return this._editor.getModel().findMatches(this._state.searchString,An,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,Pt,hn)}replaceAll(){if(!this._hasMatches())return;const Rt=this._decorations.getFindScopes();null===Rt&&this._state.matchesCount>=ie?this._largeReplaceAll():this._regularReplaceAll(Rt),this.research(!1)}_largeReplaceAll(){const Pt=new r.lt(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null).parseSearchRequest();if(!Pt)return;let hn=Pt.regex;if(!hn.multiline){let Ue="mu";hn.ignoreCase&&(Ue+="i"),hn.global&&(Ue+="g"),hn=new RegExp(hn.source,Ue)}const An=this._editor.getModel(),Hn=An.getValue(1),ni=An.getFullModelRange(),$n=this._getReplacePattern();let Ri;const Ii=this._state.preserveCase;Ri=Hn.replace(hn,$n.hasReplacementPatterns||Ii?function(){return $n.buildReplaceString(arguments,Ii)}:$n.buildReplaceString(null,Ii));const yn=new v.ui(ni,Ri,this._editor.getSelection());this._executeEditorCommand("replaceAll",yn)}_regularReplaceAll(Rt){const Pt=this._getReplacePattern(),hn=this._findMatches(Rt,Pt.hasReplacementPatterns||this._state.preserveCase,1073741824),An=[];for(let ni=0,$n=hn.length;ni<$n;ni++)An[ni]=Pt.buildReplaceString(hn[ni].matches,this._state.preserveCase);const Hn=new T(this._editor.getSelection(),hn.map(ni=>ni.range),An);this._executeEditorCommand("replaceAll",Hn)}selectAllMatches(){if(!this._hasMatches())return;const Rt=this._decorations.getFindScopes();let hn=this._findMatches(Rt,!1,1073741824).map(Hn=>new d.L(Hn.range.startLineNumber,Hn.range.startColumn,Hn.range.endLineNumber,Hn.range.endColumn));const An=this._editor.getSelection();for(let Hn=0,ni=hn.length;Hn<ni;Hn++)if(hn[Hn].equalsRange(An)){hn=[An].concat(hn.slice(0,Hn)).concat(hn.slice(Hn+1));break}this._editor.setSelections(hn)}_executeEditorCommand(Rt,Pt){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(Rt,Pt),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var se=t(91874),ge=t(85072),_e=t.n(ge),ye=t(97825),M=t.n(ye),ce=t(77659),Se=t.n(ce),Ie=t(55056),ne=t.n(Ie),ue=t(10540),we=t.n(ue),Me=t(41113),Ve=t.n(Me),$e=t(15669),it={};it.styleTagTransform=Ve(),it.setAttributes=ne(),it.insert=Se().bind(null,"head"),it.domAPI=M(),it.insertStyleElement=we(),_e()($e.A,it);var le=t(33973),Ee=t(2673),be=t(96479);let Ce=(()=>{class At extends Ee.x{constructor(Pt,hn,An){super(),this._hideSoon=this._register(new F.uC(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=Pt,this._state=hn,this._keybindingService=An,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const Hn={inputActiveOptionBorder:(0,g.GuP)(g.uNK),inputActiveOptionForeground:(0,g.GuP)(g.$$0),inputActiveOptionBackground:(0,g.GuP)(g.c1f)},ni=this._register((0,be.bW)());this.caseSensitive=this._register(new le.bc({appendTitle:this._keybindingLabelFor("toggleFindCaseSensitive"),isChecked:this._state.matchCase,hoverDelegate:ni,...Hn})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new le.nV({appendTitle:this._keybindingLabelFor("toggleFindWholeWord"),isChecked:this._state.wholeWord,hoverDelegate:ni,...Hn})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new le.Ix({appendTitle:this._keybindingLabelFor("toggleFindRegex"),isChecked:this._state.isRegex,hoverDelegate:ni,...Hn})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange($n=>{let Ri=!1;$n.isRegex&&(this.regex.checked=this._state.isRegex,Ri=!0),$n.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,Ri=!0),$n.matchCase&&(this.caseSensitive.checked=this._state.matchCase,Ri=!0),!this._state.isRevealed&&Ri&&this._revealTemporarily()})),this._register(se.ko(this._domNode,se.Bx.MOUSE_LEAVE,$n=>this._onMouseLeave())),this._register(se.ko(this._domNode,"mouseover",$n=>this._onMouseOver()))}_keybindingLabelFor(Pt){const hn=this._keybindingService.lookupKeybinding(Pt);return hn?` (${hn.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return At.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}return At.ID="editor.contrib.findOptionsWidget",At})();var Ne=t(5643);function Fe(At,Rt){return 1===At||2!==At&&Rt}class qe extends w.jG{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Fe(this._isRegexOverride,this._isRegex)}get wholeWord(){return Fe(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Fe(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Fe(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new Ne.vl),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(Rt,Pt,hn){const An={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let Hn=!1;0===Pt&&(Rt=0),Rt>Pt&&(Rt=Pt),this._matchesPosition!==Rt&&(this._matchesPosition=Rt,An.matchesPosition=!0,Hn=!0),this._matchesCount!==Pt&&(this._matchesCount=Pt,An.matchesCount=!0,Hn=!0),typeof hn<"u"&&(f.Q.equalsRange(this._currentMatch,hn)||(this._currentMatch=hn,An.currentMatch=!0,Hn=!0)),Hn&&this._onFindReplaceStateChange.fire(An)}change(Rt,Pt,hn=!0){var An;const Hn={moveCursor:Pt,updateHistory:hn,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let ni=!1;const $n=this.isRegex,Ri=this.wholeWord,Ii=this.matchCase,yn=this.preserveCase;typeof Rt.searchString<"u"&&this._searchString!==Rt.searchString&&(this._searchString=Rt.searchString,Hn.searchString=!0,ni=!0),typeof Rt.replaceString<"u"&&this._replaceString!==Rt.replaceString&&(this._replaceString=Rt.replaceString,Hn.replaceString=!0,ni=!0),typeof Rt.isRevealed<"u"&&this._isRevealed!==Rt.isRevealed&&(this._isRevealed=Rt.isRevealed,Hn.isRevealed=!0,ni=!0),typeof Rt.isReplaceRevealed<"u"&&this._isReplaceRevealed!==Rt.isReplaceRevealed&&(this._isReplaceRevealed=Rt.isReplaceRevealed,Hn.isReplaceRevealed=!0,ni=!0),typeof Rt.isRegex<"u"&&(this._isRegex=Rt.isRegex),typeof Rt.wholeWord<"u"&&(this._wholeWord=Rt.wholeWord),typeof Rt.matchCase<"u"&&(this._matchCase=Rt.matchCase),typeof Rt.preserveCase<"u"&&(this._preserveCase=Rt.preserveCase),typeof Rt.searchScope<"u"&&(!(null===(An=Rt.searchScope)||void 0===An)&&An.every(Ue=>{var Dt;return null===(Dt=this._searchScope)||void 0===Dt?void 0:Dt.some(nn=>!f.Q.equalsRange(nn,Ue))})||(this._searchScope=Rt.searchScope,Hn.searchScope=!0,ni=!0)),typeof Rt.loop<"u"&&this._loop!==Rt.loop&&(this._loop=Rt.loop,Hn.loop=!0,ni=!0),typeof Rt.isSearching<"u"&&this._isSearching!==Rt.isSearching&&(this._isSearching=Rt.isSearching,Hn.isSearching=!0,ni=!0),typeof Rt.filters<"u"&&(this._filters?this._filters.update(Rt.filters):this._filters=Rt.filters,Hn.filters=!0,ni=!0),this._isRegexOverride=typeof Rt.isRegexOverride<"u"?Rt.isRegexOverride:0,this._wholeWordOverride=typeof Rt.wholeWordOverride<"u"?Rt.wholeWordOverride:0,this._matchCaseOverride=typeof Rt.matchCaseOverride<"u"?Rt.matchCaseOverride:0,this._preserveCaseOverride=typeof Rt.preserveCaseOverride<"u"?Rt.preserveCaseOverride:0,$n!==this.isRegex&&(ni=!0,Hn.isRegex=!0),Ri!==this.wholeWord&&(ni=!0,Hn.wholeWord=!0),Ii!==this.matchCase&&(ni=!0,Hn.matchCase=!0),yn!==this.preserveCase&&(ni=!0,Hn.preserveCase=!0),ni&&this._onFindReplaceStateChange.fire(Hn)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=ie}}var dt=t(39679),vt=t(48469),fn=t(59702),on=t(15320),ht=t(25680),Je=t(21828),ot=t(45395),De={};De.styleTagTransform=Ve(),De.setAttributes=ne(),De.insert=Se().bind(null,"head"),De.domAPI=M(),De.insertStyleElement=we(),_e()(ot.A,De);var kt=t(81644),Ht=t(18342);function Ft(At){var Rt,Pt;return"Up"===(null===(Rt=At.lookupKeybinding("history.showPrevious"))||void 0===Rt?void 0:Rt.getElectronAccelerator())&&"Down"===(null===(Pt=At.lookupKeybinding("history.showNext"))||void 0===Pt?void 0:Pt.getElectronAccelerator())}var Bt=t(24453),rt=t(81072),Ut=t(8374),St=t(66702),ke=t(41525);const Ze=(0,Bt.pU)("find-collapsed",on.W.chevronRight,kt.kg("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),Ye=(0,Bt.pU)("find-expanded",on.W.chevronDown,kt.kg("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),st=(0,Bt.pU)("find-selection",on.W.selection,kt.kg("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),Ke=(0,Bt.pU)("find-replace",on.W.replace,kt.kg("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),ft=(0,Bt.pU)("find-replace-all",on.W.replaceAll,kt.kg("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),wt=(0,Bt.pU)("find-previous-match",on.W.arrowUp,kt.kg("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),qt=(0,Bt.pU)("find-next-match",on.W.arrowDown,kt.kg("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Yt=kt.kg("label.findDialog","Find / Replace"),en=kt.kg("label.find","Find"),an=kt.kg("placeholder.find","Find"),lt=kt.kg("label.previousMatchButton","Previous Match"),Nt=kt.kg("label.nextMatchButton","Next Match"),tn=kt.kg("label.toggleSelectionFind","Find in Selection"),bn=kt.kg("label.closeButton","Close"),Bn=kt.kg("label.replace","Replace"),zn=kt.kg("placeholder.replace","Replace"),Zn=kt.kg("label.replaceButton","Replace"),ei=kt.kg("label.replaceAllButton","Replace All"),wi=kt.kg("label.toggleReplaceButton","Toggle Replace"),hi=kt.kg("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",ie),yi=kt.kg("label.matchesLocation","{0} of {1}"),Vi=kt.kg("label.noResults","No results");let ct=69;const ut="ctrlEnterReplaceAll.windows.donotask",Ct=Je.zx?256:2048;class Jt{constructor(Rt){this.afterLineNumber=Rt,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function un(At,Rt,Pt){const hn=!!Rt.match(/\n/);Pt&&hn&&Pt.selectionStart>0&&At.stopPropagation()}function Wn(At,Rt,Pt){const hn=!!Rt.match(/\n/);Pt&&hn&&Pt.selectionEnd<Pt.value.length&&At.stopPropagation()}let Kn=(()=>{class At extends Ee.x{constructor(Pt,hn,An,Hn,ni,$n,Ri,Ii,yn,Ue){var Dt;super(),Dt=this,this._hoverService=Ue,this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=Pt,this._controller=hn,this._state=An,this._contextViewProvider=Hn,this._keybindingService=ni,this._contextKeyService=$n,this._storageService=Ii,this._notificationService=yn,this._ctrlEnterReplaceAllWarningPrompted=!!Ii.getBoolean(ut,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new F.ve(500),this._register((0,w.s)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(nn=>this._onStateChanged(nn))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(nn=>{if(nn.hasChanged(91)&&(this._codeEditor.getOption(91)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),nn.hasChanged(145)&&this._tryUpdateWidgetWidth(),nn.hasChanged(2)&&this.updateAccessibilitySupport(),nn.hasChanged(41)){const pn=this._codeEditor.getOption(41).loop;this._state.change({loop:pn},!1);const Zt=this._codeEditor.getOption(41).addExtraSpaceOnTop;Zt&&!this._viewZone&&(this._viewZone=new Jt(0),this._showViewZone()),!Zt&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget((0,a.A)(function*(){if(Dt._isVisible){const nn=yield Dt._controller.getGlobalBufferTerm();nn&&nn!==Dt._state.searchString&&(Dt._state.change({searchString:nn},!1),Dt._findInput.select())}}))),this._findInputFocused=R.bindTo($n),this._findFocusTracker=this._register(se.w5(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=W.bindTo($n),this._replaceFocusTracker=this._register(se.w5(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new Jt(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(nn=>{nn.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return At.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(Pt){if(Pt.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}Pt.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),Pt.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),Pt.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(91)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=se.Tr(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(Pt.isRevealed||Pt.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),Pt.isRegex&&this._findInput.setRegex(this._state.isRegex),Pt.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),Pt.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),Pt.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),Pt.searchScope&&(this._toggleSelectionFind.checked=!!this._state.searchScope,this._updateToggleSelectionFindButton()),(Pt.searchString||Pt.matchesCount||Pt.matchesPosition)&&(this._domNode.classList.toggle("no-results",this._state.searchString.length>0&&0===this._state.matchesCount),this._updateMatchesCount(),this._updateButtons()),(Pt.searchString||Pt.currentMatch)&&this._layoutViewZone(),Pt.updateHistory&&this._delayedUpdateHistory(),Pt.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,ht.dz)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let Pt;if(this._matchesCount.style.minWidth=ct+"px",this._matchesCount.title=this._state.matchesCount>=ie?hi:"",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let hn=String(this._state.matchesCount);this._state.matchesCount>=ie&&(hn+="+");let An=String(this._state.matchesPosition);"0"===An&&(An="?"),Pt=x.GP(yi,An,hn)}else Pt=Vi;this._matchesCount.appendChild(document.createTextNode(Pt)),(0,dt.xE)(this._getAriaLabel(Pt,this._state.currentMatch,this._state.searchString)),ct=Math.max(ct,this._matchesCount.clientWidth)}_getAriaLabel(Pt,hn,An){if(Pt===Vi)return""===An?kt.kg("ariaSearchNoResultEmpty","{0} found",Pt):kt.kg("ariaSearchNoResult","{0} found for '{1}'",Pt,An);if(hn){const Hn=kt.kg("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",Pt,An,hn.startLineNumber+":"+hn.startColumn),ni=this._codeEditor.getModel();return ni&&hn.startLineNumber<=ni.getLineCount()&&hn.startLineNumber>=1?`${ni.getLineContent(hn.startLineNumber)}, ${Hn}`:Hn}return kt.kg("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",Pt,An)}_updateToggleSelectionFindButton(){const Pt=this._codeEditor.getSelection();this._isVisible&&(this._toggleSelectionFind.checked||Pt&&(Pt.startLineNumber!==Pt.endLineNumber||Pt.startColumn!==Pt.endColumn))?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const Pt=this._state.searchString.length>0,hn=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&Pt&&hn&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&Pt&&hn&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&Pt),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&Pt),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const An=!this._codeEditor.getOption(91);this._toggleReplaceBtn.setEnabled(this._isVisible&&An)}_reveal(){if(this._revealTimeouts.forEach(Pt=>{clearTimeout(Pt)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const Pt=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":this._toggleSelectionFind.checked=!!Pt&&Pt.startLineNumber!==Pt.endLineNumber}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let hn=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&Pt){const An=this._codeEditor.getDomNode();if(An){const Hn=se.BK(An),ni=this._codeEditor.getScrolledVisiblePosition(Pt.getStartPosition()),$n=Hn.left+(ni?ni.left:0);if(this._viewZone&&(ni?ni.top:0)<this._viewZone.heightInPx){Pt.endLineNumber>Pt.startLineNumber&&(hn=!1);const Ii=se.cL(this._domNode).left;$n>Ii&&(hn=!1);const yn=this._codeEditor.getScrolledVisiblePosition(Pt.getEndPosition());Hn.left+(yn?yn.left:0)>Ii&&(hn=!1)}}}this._showViewZone(hn)}}_hide(Pt){this._revealTimeouts.forEach(hn=>{clearTimeout(hn)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),Pt&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(Pt){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const An=this._viewZone;void 0!==this._viewZoneId||!An||this._codeEditor.changeViewZones(Hn=>{An.heightInPx=this._getHeight(),this._viewZoneId=Hn.addZone(An),this._codeEditor.setScrollTop(Pt||this._codeEditor.getScrollTop()+An.heightInPx)})}_showViewZone(Pt=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new Jt(0));const An=this._viewZone;this._codeEditor.changeViewZones(Hn=>{if(void 0!==this._viewZoneId){const ni=this._getHeight();if(ni===An.heightInPx)return;const $n=ni-An.heightInPx;return An.heightInPx=ni,Hn.layoutZone(this._viewZoneId),void(Pt&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+$n))}{let ni=this._getHeight();if(ni-=this._codeEditor.getOption(84).top,ni<=0)return;An.heightInPx=ni,this._viewZoneId=Hn.addZone(An),Pt&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ni)}})}_removeViewZone(){this._codeEditor.changeViewZones(Pt=>{void 0!==this._viewZoneId&&(Pt.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;const Pt=this._codeEditor.getLayoutInfo();if(Pt.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const An=Pt.width,Hn=Pt.minimap.minimapWidth;let ni=!1,$n=!1,Ri=!1;if(this._resized&&se.Tr(this._domNode)>419)return this._domNode.style.maxWidth=An-28-Hn-15+"px",void(this._replaceInput.width=se.Tr(this._findInput.domNode));if(447+Hn>=An&&($n=!0),447+Hn-ct>=An&&(Ri=!0),447+Hn-ct>=An+50&&(ni=!0),this._domNode.classList.toggle("collapsed-find-widget",ni),this._domNode.classList.toggle("narrow-find-widget",Ri),this._domNode.classList.toggle("reduced-find-widget",$n),!Ri&&!ni&&(this._domNode.style.maxWidth=An-28-Hn-15+"px"),this._findInput.layout({collapsedFindWidget:ni,narrowFindWidget:Ri,reducedFindWidget:$n}),this._resized){const Ii=this._findInput.inputBox.element.clientWidth;Ii>0&&(this._replaceInput.width=Ii)}else this._isReplaceVisible&&(this._replaceInput.width=se.Tr(this._findInput.domNode))}_getHeight(){let Pt=0;return Pt+=4,Pt+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(Pt+=4,Pt+=this._replaceInput.inputBox.height+2),Pt+=4,Pt}_tryUpdateHeight(){const Pt=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==Pt)&&(this._cachedHeight=Pt,this._domNode.style.height=`${Pt}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const Pt=this._codeEditor.getSelections();Pt.map(hn=>(1===hn.endColumn&&hn.endLineNumber>hn.startLineNumber&&(hn=hn.setEndPosition(hn.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(hn.endLineNumber-1))),hn.startLineNumber===hn.endLineNumber||f.Q.equalsRange(hn,this._state.currentMatch)?null:hn)).filter(hn=>!!hn),Pt.length&&this._state.change({searchScope:Pt},!0)}}_onFindInputMouseDown(Pt){Pt.middleButton&&Pt.stopPropagation()}_onFindInputKeyDown(Pt){return Pt.equals(3|Ct)?(this._keybindingService.dispatchEvent(Pt,Pt.target)||this._findInput.inputBox.insertAtCursor("\n"),void Pt.preventDefault()):Pt.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void Pt.preventDefault()):Pt.equals(2066)?(this._codeEditor.focus(),void Pt.preventDefault()):Pt.equals(16)?un(Pt,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):Pt.equals(18)?Wn(Pt,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(Pt){return Pt.equals(3|Ct)?(this._keybindingService.dispatchEvent(Pt,Pt.target)||(Je.uF&&Je.ib&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(kt.kg("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(ut,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void Pt.preventDefault()):Pt.equals(2)?(this._findInput.focusOnCaseSensitive(),void Pt.preventDefault()):Pt.equals(1026)?(this._findInput.focus(),void Pt.preventDefault()):Pt.equals(2066)?(this._codeEditor.focus(),void Pt.preventDefault()):Pt.equals(16)?un(Pt,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):Pt.equals(18)?Wn(Pt,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(Pt){return 0}_keybindingLabelFor(Pt){const hn=this._keybindingService.lookupKeybinding(Pt);return hn?` (${hn.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new Ht.pG(null,this._contextViewProvider,{width:221,label:en,placeholder:an,appendCaseSensitiveLabel:this._keybindingLabelFor("toggleFindCaseSensitive"),appendWholeWordsLabel:this._keybindingLabelFor("toggleFindWholeWord"),appendRegexLabel:this._keybindingLabelFor("toggleFindRegex"),validation:Ue=>{if(0===Ue.length||!this._findInput.getRegex())return null;try{return new RegExp(Ue,"gu"),null}catch(Dt){return{content:Dt.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>Ft(this._keybindingService),inputBoxStyles:ke.ho,toggleStyles:ke.mk},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(Ue=>this._onFindInputKeyDown(Ue))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(Ue=>{Ue.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),Ue.preventDefault())})),this._register(this._findInput.onRegexKeyDown(Ue=>{Ue.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),Ue.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(Ue=>{this._tryUpdateHeight()&&this._showViewZone()})),Je.j9&&this._register(this._findInput.onMouseDown(Ue=>this._onFindInputMouseDown(Ue))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount();const An=this._register((0,be.bW)());this._prevBtn=this._register(new jn({label:lt+this._keybindingLabelFor("editor.action.previousMatchFindAction"),icon:wt,hoverDelegate:An,onTrigger:()=>{(0,St.eU)(this._codeEditor.getAction("editor.action.previousMatchFindAction")).run().then(void 0,ht.dz)}},this._hoverService)),this._nextBtn=this._register(new jn({label:Nt+this._keybindingLabelFor("editor.action.nextMatchFindAction"),icon:qt,hoverDelegate:An,onTrigger:()=>{(0,St.eU)(this._codeEditor.getAction("editor.action.nextMatchFindAction")).run().then(void 0,ht.dz)}},this._hoverService));const Hn=document.createElement("div");Hn.className="find-part",Hn.appendChild(this._findInput.domNode);const ni=document.createElement("div");ni.className="find-actions",Hn.appendChild(ni),ni.appendChild(this._matchesCount),ni.appendChild(this._prevBtn.domNode),ni.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new vt.l({icon:st,title:tn+this._keybindingLabelFor("toggleFindInSelection"),isChecked:!1,hoverDelegate:An,inputActiveOptionBackground:(0,g.GuP)(g.c1f),inputActiveOptionBorder:(0,g.GuP)(g.uNK),inputActiveOptionForeground:(0,g.GuP)(g.$$0)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let Ue=this._codeEditor.getSelections();Ue=Ue.map(Dt=>(1===Dt.endColumn&&Dt.endLineNumber>Dt.startLineNumber&&(Dt=Dt.setEndPosition(Dt.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Dt.endLineNumber-1))),Dt.isEmpty()?null:Dt)).filter(Dt=>!!Dt),Ue.length&&this._state.change({searchScope:Ue},!0)}}else this._state.change({searchScope:null},!0)})),ni.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new jn({label:bn+this._keybindingLabelFor("closeFindWidget"),icon:Bt.$_,hoverDelegate:An,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:Ue=>{Ue.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),Ue.preventDefault())}},this._hoverService)),this._replaceInput=this._register(new Ht._Q(null,void 0,{label:Bn,placeholder:zn,appendPreserveCaseLabel:this._keybindingLabelFor("togglePreserveCase"),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>Ft(this._keybindingService),inputBoxStyles:ke.ho,toggleStyles:ke.mk},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(Ue=>this._onReplaceInputKeyDown(Ue))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(Ue=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(Ue=>{Ue.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),Ue.preventDefault())}));const $n=this._register((0,be.bW)());this._replaceBtn=this._register(new jn({label:Zn+this._keybindingLabelFor("editor.action.replaceOne"),icon:Ke,hoverDelegate:$n,onTrigger:()=>{this._controller.replace()},onKeyDown:Ue=>{Ue.equals(1026)&&(this._closeBtn.focus(),Ue.preventDefault())}},this._hoverService)),this._replaceAllBtn=this._register(new jn({label:ei+this._keybindingLabelFor("editor.action.replaceAll"),icon:ft,hoverDelegate:$n,onTrigger:()=>{this._controller.replaceAll()}},this._hoverService));const Ri=document.createElement("div");Ri.className="replace-part",Ri.appendChild(this._replaceInput.domNode);const Ii=document.createElement("div");Ii.className="replace-actions",Ri.appendChild(Ii),Ii.appendChild(this._replaceBtn.domNode),Ii.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new jn({label:wi,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=se.Tr(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}},this._hoverService)),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=Yt,this._domNode.role="dialog",this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(Hn),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(Ri),this._resizeSash=this._register(new fn.m(this._domNode,this,{orientation:0,size:2})),this._resized=!1;let yn=419;this._register(this._resizeSash.onDidStart(()=>{yn=se.Tr(this._domNode)})),this._register(this._resizeSash.onDidChange(Ue=>{this._resized=!0;const Dt=yn+Ue.startX-Ue.currentX;Dt<419||Dt>(parseFloat(se.L9(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${Dt}px`,this._isReplaceVisible&&(this._replaceInput.width=se.Tr(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const Ue=se.Tr(this._domNode);if(Ue<419)return;let Dt=419;if(!this._resized||419===Ue){const nn=this._codeEditor.getLayoutInfo();Dt=nn.width-28-nn.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${Dt}px`,this._isReplaceVisible&&(this._replaceInput.width=se.Tr(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const Pt=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==Pt)}}return At.ID="editor.contrib.findWidget",At})();class jn extends Ee.x{constructor(Rt,Pt){var hn;super(),this._opts=Rt;let An="button";this._opts.className&&(An=An+" "+this._opts.className),this._opts.icon&&(An=An+" "+rt.L.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.tabIndex=0,this._domNode.className=An,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this._register(Pt.setupUpdatableHover(null!==(hn=Rt.hoverDelegate)&&void 0!==hn?hn:(0,be.nZ)("element"),this._domNode,this._opts.label)),this.onclick(this._domNode,Hn=>{this._opts.onTrigger(),Hn.preventDefault()}),this.onkeydown(this._domNode,Hn=>{var ni,$n;if(Hn.equals(10)||Hn.equals(3))return this._opts.onTrigger(),void Hn.preventDefault();null===($n=(ni=this._opts).onKeyDown)||void 0===$n||$n.call(ni,Hn)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(Rt){this._domNode.classList.toggle("disabled",!Rt),this._domNode.setAttribute("aria-disabled",String(!Rt)),this._domNode.tabIndex=Rt?0:-1}setExpanded(Rt){this._domNode.setAttribute("aria-expanded",String(!!Rt)),Rt?(this._domNode.classList.remove(...rt.L.asClassNameArray(Ze)),this._domNode.classList.add(...rt.L.asClassNameArray(Ye))):(this._domNode.classList.remove(...rt.L.asClassNameArray(Ye)),this._domNode.classList.add(...rt.L.asClassNameArray(Ze)))}}(0,p.zy)((At,Rt)=>{const Pt=At.getColor(g.ECk);Pt&&Rt.addRule(`.monaco-editor .findMatch { border: 1px ${(0,Ut.Bb)(At.type)?"dotted":"solid"} ${Pt}; box-sizing: border-box; }`);const hn=At.getColor(g.S5J);hn&&Rt.addRule(`.monaco-editor .findScope { border: 1px ${(0,Ut.Bb)(At.type)?"dashed":"solid"} ${hn}; }`);const An=At.getColor(g.b1q);An&&Rt.addRule(`.monaco-editor .find-widget { border: 1px solid ${An}; }`);const Hn=At.getColor(g.f3U);Hn&&Rt.addRule(`.monaco-editor .findMatchInline { color: ${Hn}; }`);const ni=At.getColor(g.p8Y);ni&&Rt.addRule(`.monaco-editor .currentFindMatchInline { color: ${ni}; }`)});var Sn,Nn=t(79134),gn=t(66229),Wt=t(71887),mn=t(59002),En=t(16362),On=t(8086),Rn=t(16815),Qn=t(79759),fi=function(At,Rt,Pt,hn){var ni,An=arguments.length,Hn=An<3?Rt:null===hn?hn=Object.getOwnPropertyDescriptor(Rt,Pt):hn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Hn=Reflect.decorate(At,Rt,Pt,hn);else for(var $n=At.length-1;$n>=0;$n--)(ni=At[$n])&&(Hn=(An<3?ni(Hn):An>3?ni(Rt,Pt,Hn):ni(Rt,Pt))||Hn);return An>3&&Hn&&Object.defineProperty(Rt,Pt,Hn),Hn},Mn=function(At,Rt){return function(Pt,hn){Rt(Pt,hn,At)}};function je(At,Rt="single",Pt=!1){if(!At.hasModel())return null;const hn=At.getSelection();if("single"===Rt&&hn.startLineNumber===hn.endLineNumber||"multiple"===Rt)if(hn.isEmpty()){const An=At.getConfiguredWordAtPosition(hn.getStartPosition());if(An&&!1===Pt)return An.word}else if(At.getModel().getValueLengthInRange(hn)<524288)return At.getModel().getValueInRange(hn);return null}let at=Sn=class extends w.jG{get editor(){return this._editor}static get(Rt){return Rt.getContribution(Sn.ID)}constructor(Rt,Pt,hn,An,Hn,ni){super(),this._editor=Rt,this._findWidgetVisible=U.bindTo(Pt),this._contextKeyService=Pt,this._storageService=hn,this._clipboardService=An,this._notificationService=Hn,this._hoverService=ni,this._updateHistoryDelayer=new F.ve(500),this._state=this._register(new qe),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange($n=>this._onStateChanged($n))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const $n=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),$n&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(Rt){this.saveQueryState(Rt),Rt.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),Rt.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(Rt){Rt.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),Rt.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),Rt.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),Rt.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!R.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let Rt=this._editor.getSelections();Rt=Rt.map(Pt=>(1===Pt.endColumn&&Pt.endLineNumber>Pt.startLineNumber&&(Pt=Pt.setEndPosition(Pt.endLineNumber-1,this._editor.getModel().getLineMaxColumn(Pt.endLineNumber-1))),Pt.isEmpty()?null:Pt)).filter(Pt=>!!Pt),Rt.length&&this._state.change({searchScope:Rt},!0)}}setSearchString(Rt){this._state.isRegex&&(Rt=x.bm(Rt)),this._state.change({searchString:Rt},!1)}highlightFindOptions(Rt=!1){}_start(Rt,Pt){var hn=this;return(0,a.A)(function*(){if(hn.disposeModel(),!hn._editor.hasModel())return;const An={...Pt,isRevealed:!0};if("single"===Rt.seedSearchStringFromSelection){const Hn=je(hn._editor,Rt.seedSearchStringFromSelection,Rt.seedSearchStringFromNonEmptySelection);Hn&&(An.searchString=hn._state.isRegex?x.bm(Hn):Hn)}else if("multiple"===Rt.seedSearchStringFromSelection&&!Rt.updateSearchScope){const Hn=je(hn._editor,Rt.seedSearchStringFromSelection);Hn&&(An.searchString=Hn)}if(!An.searchString&&Rt.seedSearchStringFromGlobalClipboard){const Hn=yield hn.getGlobalBufferTerm();if(!hn._editor.hasModel())return;Hn&&(An.searchString=Hn)}if(Rt.forceRevealReplace||An.isReplaceRevealed?An.isReplaceRevealed=!0:hn._findWidgetVisible.get()||(An.isReplaceRevealed=!1),Rt.updateSearchScope){const Hn=hn._editor.getSelections();Hn.some(ni=>!ni.isEmpty())&&(An.searchScope=Hn)}An.loop=Rt.loop,hn._state.change(An,!1),hn._model||(hn._model=new de(hn._editor,hn._state))})()}start(Rt,Pt){return this._start(Rt,Pt)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}goToMatch(Rt){return!!this._model&&(this._model.moveToMatch(Rt),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){var Rt;return!!this._model&&(null!==(Rt=this._editor.getModel())&&void 0!==Rt&&Rt.isTooLargeForHeapOperation()?(this._notificationService.warn(kt.kg("too.large.for.replaceall","The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0))}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){var Rt=this;return(0,a.A)(function*(){return Rt._editor.getOption(41).globalFindClipboard&&Rt._editor.hasModel()&&!Rt._editor.getModel().isTooLargeForSyncing()?Rt._clipboardService.readFindText():""})()}setGlobalBufferTerm(Rt){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(Rt)}};at.ID="editor.contrib.findController",at=Sn=fi([Mn(1,X.fN),Mn(2,Rn.CS),Mn(3,gn.h),Mn(4,En.Ot),Mn(5,Qn.TN)],at);let Mt=class extends at{constructor(Rt,Pt,hn,An,Hn,ni,$n,Ri,Ii){super(Rt,hn,$n,Ri,ni,Ii),this._contextViewService=Pt,this._keybindingService=An,this._themeService=Hn,this._widget=null,this._findOptionsWidget=null}_start(Rt,Pt){var hn=()=>super._start,An=this;return(0,a.A)(function*(){An._widget||An._createFindWidget();const Hn=An._editor.getSelection();let ni=!1;switch(An._editor.getOption(41).autoFindInSelection){case"always":ni=!0;break;case"never":ni=!1;break;case"multiline":ni=!!Hn&&Hn.startLineNumber!==Hn.endLineNumber}Rt.updateSearchScope=Rt.updateSearchScope||ni,yield hn().call(An,Rt,Pt),An._widget&&(2===Rt.shouldFocus?An._widget.focusReplaceInput():1===Rt.shouldFocus&&An._widget.focusFindInput())})()}highlightFindOptions(Rt=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!Rt?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new Kn(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService,this._hoverService)),this._findOptionsWidget=this._register(new Ce(this._editor,this._state,this._keybindingService))}};Mt=fi([Mn(1,Wt.l),Mn(2,X.fN),Mn(3,mn.b),Mn(4,p.Gy),Mn(5,En.Ot),Mn(6,Rn.CS),Mn(7,gn.h),Mn(8,Qn.TN)],Mt),(0,C.gW)(new C.PF({id:"actions.find",label:kt.kg("startFindAction","Find"),alias:"Find",precondition:X.M$.or(b.R.focus,X.M$.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Nn.D8.MenubarEditMenu,group:"3_find",title:kt.kg({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(At,Rt,Pt)=>{const hn=at.get(Rt);return!!hn&&hn.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==Rt.getOption(41).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Rt.getOption(41).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:Rt.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:Rt.getOption(41).loop})});const Vt={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};class kn extends C.ks{run(Rt,Pt){var hn=this;return(0,a.A)(function*(){const An=at.get(Pt);An&&!hn._run(An)&&(yield An.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===An.getState().searchString.length&&"never"!==Pt.getOption(41).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Pt.getOption(41).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Pt.getOption(41).loop}),hn._run(An))})()}}class ai extends C.ks{run(Rt,Pt){var hn=this;return(0,a.A)(function*(){const An=at.get(Pt);if(!An)return;const Hn=je(Pt,"single",!1);Hn&&An.setSearchString(Hn),hn._run(An)||(yield An.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Pt.getOption(41).loop}),hn._run(An))})()}}(0,C.gW)(new C.PF({id:"editor.action.startFindReplaceAction",label:kt.kg("startReplace","Replace"),alias:"Replace",precondition:X.M$.or(b.R.focus,X.M$.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Nn.D8.MenubarEditMenu,group:"3_find",title:kt.kg({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(At,Rt,Pt)=>{if(!Rt.hasModel()||Rt.getOption(91))return!1;const hn=at.get(Rt);if(!hn)return!1;const An=Rt.getSelection(),Hn=hn.isFindInputFocused(),ni=!An.isEmpty()&&An.startLineNumber===An.endLineNumber&&"never"!==Rt.getOption(41).seedSearchStringFromSelection&&!Hn,$n=Hn||ni?2:1;return hn.start({forceRevealReplace:!0,seedSearchStringFromSelection:ni?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Rt.getOption(41).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==Rt.getOption(41).seedSearchStringFromSelection,shouldFocus:$n,shouldAnimate:!0,updateSearchScope:!1,loop:Rt.getOption(41).loop})}),(0,C.HW)(at.ID,Mt,0),(0,C.Fl)(class zt extends C.ks{constructor(){super({id:"editor.actions.findWithArgs",label:kt.kg("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:Vt})}run(Rt,Pt,hn){return(0,a.A)(function*(){const An=at.get(Pt);if(An){const Hn=hn?{searchString:hn.searchString,replaceString:hn.replaceString,isReplaceRevealed:void 0!==hn.replaceString,isRegex:hn.isRegex,wholeWord:hn.matchWholeWord,matchCase:hn.isCaseSensitive,preserveCase:hn.preserveCase}:{};yield An.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===An.getState().searchString.length&&"never"!==Pt.getOption(41).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Pt.getOption(41).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:hn?.findInSelection||!1,loop:Pt.getOption(41).loop},Hn),An.setGlobalBufferTerm(An.getState().searchString)}})()}}),(0,C.Fl)(class sn extends C.ks{constructor(){super({id:"actions.findWithSelection",label:kt.kg("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(Rt,Pt){return(0,a.A)(function*(){const hn=at.get(Pt);hn&&(yield hn.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Pt.getOption(41).loop}),hn.setGlobalBufferTerm(hn.getState().searchString))})()}}),(0,C.Fl)(class oi extends kn{constructor(){super({id:"editor.action.nextMatchFindAction",label:kt.kg("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:b.R.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:X.M$.and(b.R.focus,R),primary:3,weight:100}]})}_run(Rt){return!!Rt.moveToNextMatch()&&(Rt.editor.pushUndoStop(),!0)}}),(0,C.Fl)(class mi extends kn{constructor(){super({id:"editor.action.previousMatchFindAction",label:kt.kg("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:b.R.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:X.M$.and(b.R.focus,R),primary:1027,weight:100}]})}_run(Rt){return Rt.moveToPrevMatch()}}),(0,C.Fl)(class gi extends C.ks{constructor(){super({id:"editor.action.goToMatchFindAction",label:kt.kg("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:U}),this._highlightDecorations=[]}run(Rt,Pt,hn){const An=at.get(Pt);if(!An)return;const Hn=An.getState().matchesCount;if(Hn<1)return void Rt.get(En.Ot).notify({severity:En.AI.Warning,message:kt.kg("findMatchAction.noResults","No matches. Try searching for something else.")});const $n=Rt.get(On.GK).createInputBox();$n.placeholder=kt.kg("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",Hn);const Ri=yn=>{const Ue=parseInt(yn);if(isNaN(Ue))return;const Dt=An.getState().matchesCount;return Ue>0&&Ue<=Dt?Ue-1:Ue<0&&Ue>=-Dt?Dt+Ue:void 0},Ii=yn=>{const Ue=Ri(yn);if("number"==typeof Ue){$n.validationMessage=void 0,An.goToMatch(Ue);const Dt=An.getState().currentMatch;Dt&&this.addDecorations(Pt,Dt)}else $n.validationMessage=kt.kg("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",An.getState().matchesCount),this.clearDecorations(Pt)};$n.onDidChangeValue(yn=>{Ii(yn)}),$n.onDidAccept(()=>{const yn=Ri($n.value);"number"==typeof yn?(An.goToMatch(yn),$n.hide()):$n.validationMessage=kt.kg("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",An.getState().matchesCount)}),$n.onDidHide(()=>{this.clearDecorations(Pt),$n.dispose()}),$n.show()}clearDecorations(Rt){Rt.changeDecorations(Pt=>{this._highlightDecorations=Pt.deltaDecorations(this._highlightDecorations,[])})}addDecorations(Rt,Pt){Rt.changeDecorations(hn=>{this._highlightDecorations=hn.deltaDecorations(this._highlightDecorations,[{range:Pt,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:Pt,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,p.Yf)(S.vp),position:P.A5.Full}}}])})}}),(0,C.Fl)(class li extends ai{constructor(){super({id:"editor.action.nextSelectionMatchFindAction",label:kt.kg("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:b.R.focus,primary:2109,weight:100}})}_run(Rt){return Rt.moveToNextMatch()}}),(0,C.Fl)(class $i extends ai{constructor(){super({id:"editor.action.previousSelectionMatchFindAction",label:kt.kg("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:b.R.focus,primary:3133,weight:100}})}_run(Rt){return Rt.moveToPrevMatch()}});const Pi=C.DX.bindToContribution(at.get);(0,C.E_)(new Pi({id:"closeFindWidget",precondition:U,handler:At=>At.closeFindWidget(),kbOpts:{weight:105,kbExpr:X.M$.and(b.R.focus,X.M$.not("isComposing")),primary:9,secondary:[1033]}})),(0,C.E_)(new Pi({id:"toggleFindCaseSensitive",precondition:void 0,handler:At=>At.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:b.R.focus,primary:Y.primary,mac:Y.mac,win:Y.win,linux:Y.linux}})),(0,C.E_)(new Pi({id:"toggleFindWholeWord",precondition:void 0,handler:At=>At.toggleWholeWords(),kbOpts:{weight:105,kbExpr:b.R.focus,primary:oe.primary,mac:oe.mac,win:oe.win,linux:oe.linux}})),(0,C.E_)(new Pi({id:"toggleFindRegex",precondition:void 0,handler:At=>At.toggleRegex(),kbOpts:{weight:105,kbExpr:b.R.focus,primary:z.primary,mac:z.mac,win:z.win,linux:z.linux}})),(0,C.E_)(new Pi({id:"toggleFindInSelection",precondition:void 0,handler:At=>At.toggleSearchScope(),kbOpts:{weight:105,kbExpr:b.R.focus,primary:G.primary,mac:G.mac,win:G.win,linux:G.linux}})),(0,C.E_)(new Pi({id:"togglePreserveCase",precondition:void 0,handler:At=>At.togglePreserveCase(),kbOpts:{weight:105,kbExpr:b.R.focus,primary:Q.primary,mac:Q.mac,win:Q.win,linux:Q.linux}})),(0,C.E_)(new Pi({id:"editor.action.replaceOne",precondition:U,handler:At=>At.replace(),kbOpts:{weight:105,kbExpr:b.R.focus,primary:3094}})),(0,C.E_)(new Pi({id:"editor.action.replaceOne",precondition:U,handler:At=>At.replace(),kbOpts:{weight:105,kbExpr:X.M$.and(b.R.focus,W),primary:3}})),(0,C.E_)(new Pi({id:"editor.action.replaceAll",precondition:U,handler:At=>At.replaceAll(),kbOpts:{weight:105,kbExpr:b.R.focus,primary:2563}})),(0,C.E_)(new Pi({id:"editor.action.replaceAll",precondition:U,handler:At=>At.replaceAll(),kbOpts:{weight:105,kbExpr:X.M$.and(b.R.focus,W),primary:void 0,mac:{primary:2051}}})),(0,C.E_)(new Pi({id:"editor.action.selectAllMatches",precondition:U,handler:At=>At.selectAllMatches(),kbOpts:{weight:105,kbExpr:b.R.focus,primary:515}}))},62170:(tt,xe,t)=>{t.d(xe,{W:()=>$e,B:()=>it});var a=t(10467),F=t(86671),w=t(21468),x=t(25680),C=t(79624),S=t(99031),b=t(6653),P=t(66702),D=t(85072),v=t.n(D),_=t(97825),f=t.n(_),d=t(77659),r=t.n(d),l=t(55056),g=t.n(l),p=t(10540),m=t.n(p),T=t(41113),A=t.n(T),k=t(55405),O={};O.styleTagTransform=A(),O.setAttributes=g(),O.insert=r().bind(null,"head"),O.domAPI=f(),O.insertStyleElement=m(),v()(k.A,O);var L=t(44583),j=t(47639),Z=t(69995),te=t(41489),X=t(70416),U=t(1970),q=t(92210),R=t(5643),W=t(73678),Y=t(85583);class oe{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(Ft){this._updateEventEmitter=new R.vl,this._hasLineChanges=!1,this._foldingModel=Ft,this._foldingModelListener=Ft.onDidChange(Bt=>this.updateHiddenRanges()),this._hiddenRanges=[],Ft.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(Ft){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=Ft.changes.some(Bt=>Bt.range.endLineNumber!==Bt.range.startLineNumber||0!==(0,Y.W)(Bt.text)[0]))}updateHiddenRanges(){let Ft=!1;const Bt=[];let rt=0,Ut=0,St=Number.MAX_VALUE,ke=-1;const Ze=this._foldingModel.regions;for(;rt<Ze.length;rt++){if(!Ze.isCollapsed(rt))continue;const Ye=Ze.getStartLineNumber(rt)+1,st=Ze.getEndLineNumber(rt);St<=Ye&&st<=ke||(!Ft&&Ut<this._hiddenRanges.length&&this._hiddenRanges[Ut].startLineNumber===Ye&&this._hiddenRanges[Ut].endLineNumber===st?(Bt.push(this._hiddenRanges[Ut]),Ut++):(Ft=!0,Bt.push(new W.Q(Ye,1,st,1))),St=Ye,ke=st)}(this._hasLineChanges||Ft||Ut<this._hiddenRanges.length)&&this.applyHiddenRanges(Bt)}applyHiddenRanges(Ft){this._hiddenRanges=Ft,this._hasLineChanges=!1,this._updateEventEmitter.fire(Ft)}hasRanges(){return this._hiddenRanges.length>0}isHidden(Ft){return null!==G(this._hiddenRanges,Ft)}adjustSelections(Ft){let Bt=!1;const rt=this._foldingModel.textModel;let Ut=null;const St=ke=>((!Ut||!function z(Ht,Ft){return Ht>=Ft.startLineNumber&&Ht<=Ft.endLineNumber}(ke,Ut))&&(Ut=G(this._hiddenRanges,ke)),Ut?Ut.startLineNumber-1:null);for(let ke=0,Ze=Ft.length;ke<Ze;ke++){let Ye=Ft[ke];const st=St(Ye.startLineNumber);st&&(Ye=Ye.setStartPosition(st,rt.getLineMaxColumn(st)),Bt=!0);const Ke=St(Ye.endLineNumber);Ke&&(Ye=Ye.setEndPosition(Ke,rt.getLineMaxColumn(Ke)),Bt=!0),Ft[ke]=Ye}return Bt}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function G(Ht,Ft){const Bt=(0,q.hw)(Ht,rt=>Ft<rt.startLineNumber)-1;return Bt>=0&&Ht[Bt].endLineNumber>=Ft?Ht[Bt]:null}var Me,Q=t(84652),K=t(81644),ie=t(50168),ae=t(86776),de=t(55145),se=t(43159),ge=t(16362),_e=t(67539),ye=t(42588),M=t(15307),ce=t(51126),Se=t(32417),Ie=t(31925),ne=t(35072),we=function(Ht,Ft){return function(Bt,rt){Ft(Bt,rt,Ht)}};const Ve=new ie.N1("foldingEnabled",!1);let $e=Me=class extends S.jG{static get(Ft){return Ft.getContribution(Me.ID)}static getFoldingRangeProviders(Ft,Bt){var rt,Ut;const St=Ft.foldingRangeProvider.ordered(Bt);return null!==(Ut=null===(rt=Me._foldingRangeSelector)||void 0===rt?void 0:rt.call(Me,St,Bt))&&void 0!==Ut?Ut:St}constructor(Ft,Bt,rt,Ut,St,ke){super(),this.contextKeyService=Bt,this.languageConfigurationService=rt,this.languageFeaturesService=ke,this.localToDispose=this._register(new S.Cm),this.editor=Ft,this._foldingLimitReporter=new it(Ft);const Ze=this.editor.getOptions();this._isEnabled=Ze.get(43),this._useFoldingProviders="indentation"!==Ze.get(44),this._unfoldOnClickAfterEndOfLine=Ze.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Ze.get(46),this.updateDebounceInfo=St.for(ke.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new ae.rv(Ft),this.foldingDecorationProvider.showFoldingControls=Ze.get(110),this.foldingDecorationProvider.showFoldingHighlights=Ze.get(45),this.foldingEnabled=Ve.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(Ye=>{if(Ye.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),Ye.hasChanged(47)&&this.onModelChanged(),Ye.hasChanged(110)||Ye.hasChanged(45)){const st=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=st.get(110),this.foldingDecorationProvider.showFoldingHighlights=st.get(45),this.triggerFoldingModelChanged()}Ye.hasChanged(44)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(44),this.onFoldingStrategyChanged()),Ye.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),Ye.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const Ft=this.editor.getModel();if(!Ft||!this._isEnabled||Ft.isTooLargeForTokenization())return{};if(this.foldingModel){const Bt=this.foldingModel.getMemento(),rt=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:Bt,lineCount:Ft.getLineCount(),provider:rt,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(Ft){const Bt=this.editor.getModel();if(Bt&&this._isEnabled&&!Bt.isTooLargeForTokenization()&&this.hiddenRangeModel&&Ft&&(this._currentModelHasFoldedImports=!!Ft.foldedImports,Ft.collapsedRegions&&Ft.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(Ft.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const Ft=this.editor.getModel();!this._isEnabled||!Ft||Ft.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new U.pN(Ft,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new oe(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(Bt=>this.onHiddenRangesChanges(Bt))),this.updateScheduler=new F.ve(this.updateDebounceInfo.get(Ft)),this.cursorChangedScheduler=new F.uC(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(Bt=>this.onDidChangeModelContent(Bt))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(Bt=>this.onEditorMouseDown(Bt))),this.localToDispose.add(this.editor.onMouseUp(Bt=>this.onEditorMouseUp(Bt))),this.localToDispose.add({dispose:()=>{var Bt,rt;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),null===(Bt=this.updateScheduler)||void 0===Bt||Bt.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,null===(rt=this.rangeProvider)||void 0===rt||rt.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var Ft;null===(Ft=this.rangeProvider)||void 0===Ft||Ft.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(Ft){if(this.rangeProvider)return this.rangeProvider;const Bt=new Q.hW(Ft,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=Bt,this._useFoldingProviders&&this.foldingModel){const rt=Me.getFoldingRangeProviders(this.languageFeaturesService,Ft);rt.length>0&&(this.rangeProvider=new se.M(Ft,rt,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,Bt))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(Ft){var Bt;null===(Bt=this.hiddenRangeModel)||void 0===Bt||Bt.notifyChangeModelContent(Ft),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const Ft=this.foldingModel;if(!Ft)return null;const Bt=new ye.W,rt=this.getRangeProvider(Ft.textModel),Ut=this.foldingRegionPromise=(0,F.SS)(St=>rt.compute(St));return Ut.then(St=>{if(St&&Ut===this.foldingRegionPromise){let ke;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const Ke=St.setCollapsedAllOfType(te.lO.Imports.value,!0);Ke&&(ke=L.D.capture(this.editor),this._currentModelHasFoldedImports=Ke)}const Ze=this.editor.getSelections(),Ye=Ze?Ze.map(Ke=>Ke.startLineNumber):[];Ft.update(St,Ye),ke?.restore(this.editor);const st=this.updateDebounceInfo.update(Ft.textModel,Bt.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=st)}return Ft})}).then(void 0,Ft=>((0,x.dz)(Ft),null)))}onHiddenRangesChanges(Ft){if(this.hiddenRangeModel&&Ft.length&&!this._restoringViewState){const Bt=this.editor.getSelections();Bt&&this.hiddenRangeModel.adjustSelections(Bt)&&this.editor.setSelections(Bt)}this.editor.setHiddenAreas(Ft,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const Ft=this.getFoldingModel();Ft&&Ft.then(Bt=>{if(Bt){const rt=this.editor.getSelections();if(rt&&rt.length>0){const Ut=[];for(const St of rt){const ke=St.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(ke)&&Ut.push(...Bt.getAllRegionsAtLine(ke,Ze=>Ze.isCollapsed&&ke>Ze.startLineNumber))}Ut.length&&(Bt.toggleCollapseState(Ut),this.reveal(rt[0].getPosition()))}}}).then(void 0,x.dz)}onEditorMouseDown(Ft){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!Ft.target||!Ft.target.range||!Ft.event.leftButton&&!Ft.event.middleButton)return;const Bt=Ft.target.range;let rt=!1;switch(Ft.target.type){case 4:if(Ft.target.detail.offsetX-Ft.target.element.offsetLeft<4)return;rt=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!Ft.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){const Ut=this.editor.getModel();if(Ut&&Bt.startColumn===Ut.getLineMaxColumn(Bt.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:Bt.startLineNumber,iconClicked:rt}}onEditorMouseUp(Ft){const Bt=this.foldingModel;if(!Bt||!this.mouseDownInfo||!Ft.target)return;const rt=this.mouseDownInfo.lineNumber,Ut=this.mouseDownInfo.iconClicked,St=Ft.target.range;if(!St||St.startLineNumber!==rt)return;if(Ut){if(4!==Ft.target.type)return}else{const Ze=this.editor.getModel();if(!Ze||St.startColumn!==Ze.getLineMaxColumn(rt))return}const ke=Bt.getRegionAtLine(rt);if(ke&&ke.startLineNumber===rt){const Ze=ke.isCollapsed;if(Ut||Ze){let st=[];if(Ft.event.altKey){const ft=Bt.getRegionsInside(null,wt=>!wt.containedBy(ke)&&!ke.containedBy(wt));for(const wt of ft)wt.isCollapsed&&st.push(wt);0===st.length&&(st=ft)}else{const Ke=Ft.event.middleButton||Ft.event.shiftKey;if(Ke)for(const ft of Bt.getRegionsInside(ke))ft.isCollapsed===Ze&&st.push(ft);(Ze||!Ke||0===st.length)&&st.push(ke)}Bt.toggleCollapseState(st),this.reveal({lineNumber:rt,column:1})}}}reveal(Ft){this.editor.revealPositionInCenterIfOutsideViewport(Ft,0)}};$e.ID="editor.contrib.folding",$e=Me=function(Ht,Ft,Bt,rt){var ke,Ut=arguments.length,St=Ut<3?Ft:null===rt?rt=Object.getOwnPropertyDescriptor(Ft,Bt):rt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)St=Reflect.decorate(Ht,Ft,Bt,rt);else for(var Ze=Ht.length-1;Ze>=0;Ze--)(ke=Ht[Ze])&&(St=(Ut<3?ke(St):Ut>3?ke(Ft,Bt,St):ke(Ft,Bt))||St);return Ut>3&&St&&Object.defineProperty(Ft,Bt,St),St}([we(1,ie.fN),we(2,X.JZ),we(3,ge.Ot),we(4,_e.U),we(5,M.u)],$e);class it{constructor(Ft){this.editor=Ft,this._onDidChange=new R.vl,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(Ft,Bt){(Ft!==this._computed||Bt!==this._limited)&&(this._computed=Ft,this._limited=Bt,this._onDidChange.fire())}}class He extends j.ks{runEditorCommand(Ft,Bt,rt){const Ut=Ft.get(X.JZ),St=$e.get(Bt);if(!St)return;const ke=St.getFoldingModel();return ke?(this.reportTelemetry(Ft,Bt),ke.then(Ze=>{if(Ze){this.invoke(St,Ze,Bt,rt,Ut);const Ye=Bt.getSelection();Ye&&St.reveal(Ye.getStartPosition())}})):void 0}getSelectedLines(Ft){const Bt=Ft.getSelections();return Bt?Bt.map(rt=>rt.startLineNumber):[]}getLineNumbers(Ft,Bt){return Ft&&Ft.selectionLines?Ft.selectionLines.map(rt=>rt+1):this.getSelectedLines(Bt)}run(Ft,Bt){}}function me(Ht){if(!P.b0(Ht)){if(!P.Gv(Ht))return!1;const Ft=Ht;if(!P.b0(Ft.levels)&&!P.Et(Ft.levels)||!P.b0(Ft.direction)&&!P.Kg(Ft.direction)||!P.b0(Ft.selectionLines)&&(!Array.isArray(Ft.selectionLines)||!Ft.selectionLines.every(P.Et)))return!1}return!0}let Je=(()=>{class Ht extends He{getFoldingLevel(){return parseInt(this.id.substr(Ht.ID_PREFIX.length))}invoke(Bt,rt,Ut){(0,U.sO)(rt,this.getFoldingLevel(),!0,this.getSelectedLines(Ut))}}return Ht.ID_PREFIX="editor.foldLevel",Ht.ID=Ft=>Ht.ID_PREFIX+Ft,Ht})();(0,j.HW)($e.ID,$e,0),(0,j.Fl)(class le extends He{constructor(){super({id:"editor.unfold",label:K.kg("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:me,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Ft,Bt,rt,Ut){const St=Ut&&Ut.levels||1,ke=this.getLineNumbers(Ut,rt);Ut&&"up"===Ut.direction?(0,U.dN)(Bt,!1,St,ke):(0,U.uV)(Bt,!1,St,ke)}}),(0,j.Fl)(class Ee extends He{constructor(){super({id:"editor.unfoldRecursively",label:K.kg("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:(0,C.m5)(2089,2142),weight:100}})}invoke(Ft,Bt,rt,Ut){(0,U.uV)(Bt,!1,Number.MAX_VALUE,this.getSelectedLines(rt))}}),(0,j.Fl)(class be extends He{constructor(){super({id:"editor.fold",label:K.kg("foldAction.label","Fold"),alias:"Fold",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:me,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Ft,Bt,rt,Ut){const St=this.getLineNumbers(Ut,rt),ke=Ut&&Ut.levels,Ze=Ut&&Ut.direction;"number"!=typeof ke&&"string"!=typeof Ze?(0,U.W8)(Bt,!0,St):"up"===Ze?(0,U.dN)(Bt,!0,ke||1,St):(0,U.uV)(Bt,!0,ke||1,St)}}),(0,j.Fl)(class Ne extends He{constructor(){super({id:"editor.foldRecursively",label:K.kg("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:(0,C.m5)(2089,2140),weight:100}})}invoke(Ft,Bt,rt){const Ut=this.getSelectedLines(rt);(0,U.uV)(Bt,!0,Number.MAX_VALUE,Ut)}}),(0,j.Fl)(class on extends He{constructor(){super({id:"editor.foldAll",label:K.kg("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:(0,C.m5)(2089,2069),weight:100}})}invoke(Ft,Bt,rt){(0,U.uV)(Bt,!0)}}),(0,j.Fl)(class ht extends He{constructor(){super({id:"editor.unfoldAll",label:K.kg("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:(0,C.m5)(2089,2088),weight:100}})}invoke(Ft,Bt,rt){(0,U.uV)(Bt,!1)}}),(0,j.Fl)(class Fe extends He{constructor(){super({id:"editor.foldAllBlockComments",label:K.kg("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:(0,C.m5)(2089,2138),weight:100}})}invoke(Ft,Bt,rt,Ut,St){if(Bt.regions.hasTypes())(0,U.cL)(Bt,te.lO.Comment.value,!0);else{const ke=rt.getModel();if(!ke)return;const Ze=St.getLanguageConfiguration(ke.getLanguageId()).comments;if(Ze&&Ze.blockCommentStartToken){const Ye=new RegExp("^\\s*"+(0,b.bm)(Ze.blockCommentStartToken));(0,U.AI)(Bt,Ye,!0)}}}}),(0,j.Fl)(class qe extends He{constructor(){super({id:"editor.foldAllMarkerRegions",label:K.kg("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:(0,C.m5)(2089,2077),weight:100}})}invoke(Ft,Bt,rt,Ut,St){if(Bt.regions.hasTypes())(0,U.cL)(Bt,te.lO.Region.value,!0);else{const ke=rt.getModel();if(!ke)return;const Ze=St.getLanguageConfiguration(ke.getLanguageId()).foldingRules;if(Ze&&Ze.markers&&Ze.markers.start){const Ye=new RegExp(Ze.markers.start);(0,U.AI)(Bt,Ye,!0)}}}}),(0,j.Fl)(class dt extends He{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:K.kg("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:(0,C.m5)(2089,2078),weight:100}})}invoke(Ft,Bt,rt,Ut,St){if(Bt.regions.hasTypes())(0,U.cL)(Bt,te.lO.Region.value,!1);else{const ke=rt.getModel();if(!ke)return;const Ze=St.getLanguageConfiguration(ke.getLanguageId()).foldingRules;if(Ze&&Ze.markers&&Ze.markers.start){const Ye=new RegExp(Ze.markers.start);(0,U.AI)(Bt,Ye,!1)}}}}),(0,j.Fl)(class vt extends He{constructor(){super({id:"editor.foldAllExcept",label:K.kg("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:(0,C.m5)(2089,2136),weight:100}})}invoke(Ft,Bt,rt){const Ut=this.getSelectedLines(rt);(0,U.GR)(Bt,!0,Ut)}}),(0,j.Fl)(class fn extends He{constructor(){super({id:"editor.unfoldAllExcept",label:K.kg("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:(0,C.m5)(2089,2134),weight:100}})}invoke(Ft,Bt,rt){const Ut=this.getSelectedLines(rt);(0,U.GR)(Bt,!1,Ut)}}),(0,j.Fl)(class Ce extends He{constructor(){super({id:"editor.toggleFold",label:K.kg("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:(0,C.m5)(2089,2090),weight:100}})}invoke(Ft,Bt,rt){const Ut=this.getSelectedLines(rt);(0,U.bC)(Bt,1,Ut)}}),(0,j.Fl)(class ot extends He{constructor(){super({id:"editor.gotoParentFold",label:K.kg("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,weight:100}})}invoke(Ft,Bt,rt){const Ut=this.getSelectedLines(rt);if(Ut.length>0){const St=(0,U.kK)(Ut[0],Bt);null!==St&&rt.setSelection({startLineNumber:St,startColumn:1,endLineNumber:St,endColumn:1})}}}),(0,j.Fl)(class De extends He{constructor(){super({id:"editor.gotoPreviousFold",label:K.kg("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,weight:100}})}invoke(Ft,Bt,rt){const Ut=this.getSelectedLines(rt);if(Ut.length>0){const St=(0,U.JX)(Ut[0],Bt);null!==St&&rt.setSelection({startLineNumber:St,startColumn:1,endLineNumber:St,endColumn:1})}}}),(0,j.Fl)(class Qe extends He{constructor(){super({id:"editor.gotoNextFold",label:K.kg("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,weight:100}})}invoke(Ft,Bt,rt){const Ut=this.getSelectedLines(rt);if(Ut.length>0){const St=(0,U.pr)(Ut[0],Bt);null!==St&&rt.setSelection({startLineNumber:St,startColumn:1,endLineNumber:St,endColumn:1})}}}),(0,j.Fl)(class mt extends He{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:K.kg("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:(0,C.m5)(2089,2135),weight:100}})}invoke(Ft,Bt,rt){var Ut;const St=[],ke=rt.getSelections();if(ke){for(const Ze of ke){let Ye=Ze.endLineNumber;1===Ze.endColumn&&--Ye,Ye>Ze.startLineNumber&&(St.push({startLineNumber:Ze.startLineNumber,endLineNumber:Ye,type:void 0,isCollapsed:!0,source:1}),rt.setSelection({startLineNumber:Ze.startLineNumber,startColumn:1,endLineNumber:Ze.startLineNumber,endColumn:1}))}if(St.length>0){St.sort((Ye,st)=>Ye.startLineNumber-st.startLineNumber);const Ze=de.tz.sanitizeAndMerge(Bt.regions,St,null===(Ut=rt.getModel())||void 0===Ut?void 0:Ut.getLineCount());Bt.updatePost(de.tz.fromFoldRanges(Ze))}}}}),(0,j.Fl)(class kt extends He{constructor(){super({id:"editor.removeManualFoldingRanges",label:K.kg("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:(0,C.m5)(2089,2137),weight:100}})}invoke(Ft,Bt,rt){const Ut=rt.getSelections();if(Ut){const St=[];for(const ke of Ut){const{startLineNumber:Ze,endLineNumber:Ye}=ke;St.push(Ye>=Ze?{startLineNumber:Ze,endLineNumber:Ye}:{endLineNumber:Ye,startLineNumber:Ze})}Bt.removeManualRanges(St),Ft.triggerFoldingModelChanged()}}});for(let Ht=1;Ht<=7;Ht++)(0,j.xX)(new Je({id:Je.ID(Ht),label:K.kg("foldLevelAction.label","Fold Level {0}",Ht),alias:`Fold Level ${Ht}`,precondition:Ve,kbOpts:{kbExpr:Z.R.editorTextFocus,primary:(0,C.m5)(2089,2048|21+Ht),weight:100}}));ce.w.registerCommand("_executeFoldingRangeProvider",function(){var Ht=(0,a.A)(function*(Ft,...Bt){const[rt]=Bt;if(!(rt instanceof Se.r))throw(0,x.Qg)();const Ut=Ft.get(M.u),St=Ft.get(Ie.S).getModel(rt);if(!St)throw(0,x.Qg)();const ke=Ft.get(ne.pG);if(!ke.getValue("editor.folding",{resource:rt}))return[];const Ze=Ft.get(X.JZ),Ye=ke.getValue("editor.foldingStrategy",{resource:rt}),st={get limit(){return ke.getValue("editor.foldingMaximumRegions",{resource:rt})},update:(Yt,en)=>{}},Ke=new Q.hW(St,Ze,st);let ft=Ke;if("indentation"!==Ye){const Yt=$e.getFoldingRangeProviders(Ut,St);Yt.length&&(ft=new se.M(St,Yt,()=>{},st,Ke))}const wt=yield ft.compute(w.XO.None),qt=[];try{if(wt)for(let Yt=0;Yt<wt.length;Yt++){const en=wt.getType(Yt);qt.push({start:wt.getStartLineNumber(Yt),end:wt.getEndLineNumber(Yt),kind:en?te.lO.fromValue(en):void 0})}return qt}finally{ft.dispose()}});return function(Ft){return Ht.apply(this,arguments)}}())},86776:(tt,xe,t)=>{t.d(xe,{E0:()=>D,k0:()=>v,rv:()=>g});var a=t(15320),F=t(80753),w=t(81644),x=t(85478),C=t(24453),S=t(48187),b=t(81072);const P=(0,x.x1A)("editor.foldBackground",{light:(0,x.JO0)(x.seu,.3),dark:(0,x.JO0)(x.seu,.3),hcDark:null,hcLight:null},(0,w.kg)("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);(0,x.x1A)("editorGutter.foldingControlForeground",{dark:x.t4B,light:x.t4B,hcDark:x.t4B,hcLight:x.t4B},(0,w.kg)("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const D=(0,C.pU)("folding-expanded",a.W.chevronDown,(0,w.kg)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),v=(0,C.pU)("folding-collapsed",a.W.chevronRight,(0,w.kg)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),_=(0,C.pU)("folding-manual-collapsed",v,(0,w.kg)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),f=(0,C.pU)("folding-manual-expanded",D,(0,w.kg)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),d={color:(0,S.Yf)(P),position:1},r=(0,w.kg)("linesCollapsed","Click to expand the range."),l=(0,w.kg)("linesExpanded","Click to collapse the range.");class g{constructor(m){this.editor=m,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(m,T,A){return T?g.HIDDEN_RANGE_DECORATION:"never"===this.showFoldingControls?m?this.showFoldingHighlights?g.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:g.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:g.NO_CONTROLS_EXPANDED_RANGE_DECORATION:m?A?this.showFoldingHighlights?g.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:g.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?g.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:g.COLLAPSED_VISUAL_DECORATION:"mouseover"===this.showFoldingControls?A?g.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:g.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:A?g.MANUALLY_EXPANDED_VISUAL_DECORATION:g.EXPANDED_VISUAL_DECORATION}changeDecorations(m){return this.editor.changeDecorations(m)}removeDecorations(m){this.editor.removeDecorations(m)}}g.COLLAPSED_VISUAL_DECORATION=F.kI.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:r,firstLineDecorationClassName:b.L.asClassName(v)}),g.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=F.kI.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:d,isWholeLine:!0,linesDecorationsTooltip:r,firstLineDecorationClassName:b.L.asClassName(v)}),g.MANUALLY_COLLAPSED_VISUAL_DECORATION=F.kI.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:r,firstLineDecorationClassName:b.L.asClassName(_)}),g.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=F.kI.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:d,isWholeLine:!0,linesDecorationsTooltip:r,firstLineDecorationClassName:b.L.asClassName(_)}),g.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=F.kI.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:r}),g.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=F.kI.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:d,isWholeLine:!0,linesDecorationsTooltip:r}),g.EXPANDED_VISUAL_DECORATION=F.kI.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+b.L.asClassName(D),linesDecorationsTooltip:l}),g.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=F.kI.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:b.L.asClassName(D),linesDecorationsTooltip:l}),g.MANUALLY_EXPANDED_VISUAL_DECORATION=F.kI.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+b.L.asClassName(f),linesDecorationsTooltip:l}),g.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=F.kI.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:b.L.asClassName(f),linesDecorationsTooltip:l}),g.NO_CONTROLS_EXPANDED_RANGE_DECORATION=F.kI.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),g.HIDDEN_RANGE_DECORATION=F.kI.register({description:"folding-hidden-range-decoration",stickiness:1})},1970:(tt,xe,t)=>{t.d(xe,{AI:()=>_,GR:()=>v,JX:()=>r,W8:()=>P,bC:()=>C,cL:()=>f,dN:()=>b,kK:()=>d,pN:()=>x,pr:()=>l,sO:()=>D,uV:()=>S});var a=t(5643),F=t(55145),w=t(55763);class x{get regions(){return this._regions}get textModel(){return this._textModel}constructor(p,m){this._updateEventEmitter=new a.vl,this.onDidChange=this._updateEventEmitter.event,this._textModel=p,this._decorationProvider=m,this._regions=new F.tz(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(p){if(!p.length)return;p=p.sort((T,A)=>T.regionIndex-A.regionIndex);const m={};this._decorationProvider.changeDecorations(T=>{let A=0,k=-1,O=-1;const N=H=>{for(;A<H;){const L=this._regions.getEndLineNumber(A),j=this._regions.isCollapsed(A);if(L<=k){const Z=0!==this.regions.getSource(A);T.changeDecorationOptions(this._editorDecorationIds[A],this._decorationProvider.getDecorationOption(j,L<=O,Z))}j&&L>O&&(O=L),A++}};for(const H of p){const L=H.regionIndex,j=this._editorDecorationIds[L];if(j&&!m[j]){m[j]=!0,N(L);const Z=!this._regions.isCollapsed(L);this._regions.setCollapsed(L,Z),k=Math.max(k,this._regions.getEndLineNumber(L))}}N(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:p})}removeManualRanges(p){const m=new Array,T=A=>{for(const k of p)if(!(k.startLineNumber>A.endLineNumber||A.startLineNumber>k.endLineNumber))return!0;return!1};for(let A=0;A<this._regions.length;A++){const k=this._regions.toFoldRange(A);(0===k.source||!T(k))&&m.push(k)}this.updatePost(F.tz.fromFoldRanges(m))}update(p,m=[]){const T=this._currentFoldedOrManualRanges(m),A=F.tz.sanitizeAndMerge(p,T,this._textModel.getLineCount());this.updatePost(F.tz.fromFoldRanges(A))}updatePost(p){const m=[];let T=-1;for(let A=0,k=p.length;A<k;A++){const O=p.getStartLineNumber(A),N=p.getEndLineNumber(A),H=p.isCollapsed(A),L=0!==p.getSource(A),j={startLineNumber:O,startColumn:this._textModel.getLineMaxColumn(O),endLineNumber:N,endColumn:this._textModel.getLineMaxColumn(N)+1};m.push({range:j,options:this._decorationProvider.getDecorationOption(H,N<=T,L)}),H&&N>T&&(T=N)}this._decorationProvider.changeDecorations(A=>this._editorDecorationIds=A.deltaDecorations(this._editorDecorationIds,m)),this._regions=p,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(p=[]){const m=(A,k)=>{for(const O of p)if(A<O&&O<=k)return!0;return!1},T=[];for(let A=0,k=this._regions.length;A<k;A++){let O=this.regions.isCollapsed(A);const N=this.regions.getSource(A);if(O||0!==N){const H=this._regions.toFoldRange(A),L=this._textModel.getDecorationRange(this._editorDecorationIds[A]);L&&(O&&m(L.startLineNumber,L.endLineNumber)&&(O=!1),T.push({startLineNumber:L.startLineNumber,endLineNumber:L.endLineNumber,type:H.type,isCollapsed:O,source:N}))}}return T}getMemento(){const p=this._currentFoldedOrManualRanges(),m=[],T=this._textModel.getLineCount();for(let A=0,k=p.length;A<k;A++){const O=p[A];if(O.startLineNumber>=O.endLineNumber||O.startLineNumber<1||O.endLineNumber>T)continue;const N=this._getLinesChecksum(O.startLineNumber+1,O.endLineNumber);m.push({startLineNumber:O.startLineNumber,endLineNumber:O.endLineNumber,isCollapsed:O.isCollapsed,source:O.source,checksum:N})}return m.length>0?m:void 0}applyMemento(p){var m,T;if(!Array.isArray(p))return;const A=[],k=this._textModel.getLineCount();for(const N of p){if(N.startLineNumber>=N.endLineNumber||N.startLineNumber<1||N.endLineNumber>k)continue;const H=this._getLinesChecksum(N.startLineNumber+1,N.endLineNumber);(!N.checksum||H===N.checksum)&&A.push({startLineNumber:N.startLineNumber,endLineNumber:N.endLineNumber,type:void 0,isCollapsed:null===(m=N.isCollapsed)||void 0===m||m,source:null!==(T=N.source)&&void 0!==T?T:0})}const O=F.tz.sanitizeAndMerge(this._regions,A,k);this.updatePost(F.tz.fromFoldRanges(O))}_getLinesChecksum(p,m){return(0,w.tW)(this._textModel.getLineContent(p)+this._textModel.getLineContent(m))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(p,m){const T=[];if(this._regions){let A=this._regions.findRange(p),k=1;for(;A>=0;){const O=this._regions.toRegion(A);(!m||m(O,k))&&T.push(O),k++,A=O.parentIndex}}return T}getRegionAtLine(p){if(this._regions){const m=this._regions.findRange(p);if(m>=0)return this._regions.toRegion(m)}return null}getRegionsInside(p,m){const T=[],A=p?p.regionIndex+1:0,k=p?p.endLineNumber:Number.MAX_VALUE;if(m&&2===m.length){const O=[];for(let N=A,H=this._regions.length;N<H;N++){const L=this._regions.toRegion(N);if(!(this._regions.getStartLineNumber(N)<k))break;for(;O.length>0&&!L.containedBy(O[O.length-1]);)O.pop();O.push(L),m(L,O.length)&&T.push(L)}}else for(let O=A,N=this._regions.length;O<N;O++){const H=this._regions.toRegion(O);if(!(this._regions.getStartLineNumber(O)<k))break;(!m||m(H))&&T.push(H)}return T}}function C(g,p,m){const T=[];for(const A of m){const k=g.getRegionAtLine(A);if(k){const O=!k.isCollapsed;if(T.push(k),p>1){const N=g.getRegionsInside(k,(H,L)=>H.isCollapsed!==O&&L<p);T.push(...N)}}}g.toggleCollapseState(T)}function S(g,p,m=Number.MAX_VALUE,T){const A=[];if(T&&T.length>0)for(const k of T){const O=g.getRegionAtLine(k);if(O&&(O.isCollapsed!==p&&A.push(O),m>1)){const N=g.getRegionsInside(O,(H,L)=>H.isCollapsed!==p&&L<m);A.push(...N)}}else{const k=g.getRegionsInside(null,(O,N)=>O.isCollapsed!==p&&N<m);A.push(...k)}g.toggleCollapseState(A)}function b(g,p,m,T){const A=[];for(const k of T){const O=g.getAllRegionsAtLine(k,(N,H)=>N.isCollapsed!==p&&H<=m);A.push(...O)}g.toggleCollapseState(A)}function P(g,p,m){const T=[];for(const A of m){const k=g.getAllRegionsAtLine(A,O=>O.isCollapsed!==p);k.length>0&&T.push(k[0])}g.toggleCollapseState(T)}function D(g,p,m,T){const k=g.getRegionsInside(null,(O,N)=>N===p&&O.isCollapsed!==m&&!T.some(H=>O.containsLine(H)));g.toggleCollapseState(k)}function v(g,p,m){const T=[];for(const O of m){const N=g.getAllRegionsAtLine(O,void 0);N.length>0&&T.push(N[0])}const k=g.getRegionsInside(null,O=>T.every(N=>!N.containedBy(O)&&!O.containedBy(N))&&O.isCollapsed!==p);g.toggleCollapseState(k)}function _(g,p,m){const T=g.textModel,A=g.regions,k=[];for(let O=A.length-1;O>=0;O--)if(m!==A.isCollapsed(O)){const N=A.getStartLineNumber(O);p.test(T.getLineContent(N))&&k.push(A.toRegion(O))}g.toggleCollapseState(k)}function f(g,p,m){const T=g.regions,A=[];for(let k=T.length-1;k>=0;k--)m!==T.isCollapsed(k)&&p===T.getType(k)&&A.push(T.toRegion(k));g.toggleCollapseState(A)}function d(g,p){let m=null;const T=p.getRegionAtLine(g);if(null!==T&&(m=T.startLineNumber,g===m)){const A=T.parentIndex;m=-1!==A?p.regions.getStartLineNumber(A):null}return m}function r(g,p){let m=p.getRegionAtLine(g);if(null!==m&&m.startLineNumber===g){if(g!==m.startLineNumber)return m.startLineNumber;{const T=m.parentIndex;let A=0;for(-1!==T&&(A=p.regions.getStartLineNumber(m.parentIndex));null!==m;){if(!(m.regionIndex>0))return null;if(m=p.regions.toRegion(m.regionIndex-1),m.startLineNumber<=A)return null;if(m.parentIndex===T)return m.startLineNumber}}}else if(p.regions.length>0)for(m=p.regions.toRegion(p.regions.length-1);null!==m;){if(m.startLineNumber<g)return m.startLineNumber;m=m.regionIndex>0?p.regions.toRegion(m.regionIndex-1):null}return null}function l(g,p){let m=p.getRegionAtLine(g);if(null!==m&&m.startLineNumber===g){const T=m.parentIndex;let A=0;if(-1!==T)A=p.regions.getEndLineNumber(m.parentIndex);else{if(0===p.regions.length)return null;A=p.regions.getEndLineNumber(p.regions.length-1)}for(;null!==m;){if(!(m.regionIndex<p.regions.length))return null;if(m=p.regions.toRegion(m.regionIndex+1),m.startLineNumber>=A)return null;if(m.parentIndex===T)return m.startLineNumber}}else if(p.regions.length>0)for(m=p.regions.toRegion(0);null!==m;){if(m.startLineNumber>g)return m.startLineNumber;m=m.regionIndex<p.regions.length?p.regions.toRegion(m.regionIndex+1):null}return null}},55145:(tt,xe,t)=>{t.d(xe,{tz:()=>S,yy:()=>w});const a={0:" ",1:"u",2:"r"},w=16777215,x=4278190080;class C{constructor(D){const v=Math.ceil(D/32);this._states=new Uint32Array(v)}get(D){return!!(this._states[D/32|0]&1<<D%32)}set(D,v){const _=D/32|0,f=D%32,d=this._states[_];this._states[_]=v?d|1<<f:d&~(1<<f)}}class S{constructor(D,v,_){if(D.length!==v.length||D.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=D,this._endIndexes=v,this._collapseStates=new C(D.length),this._userDefinedStates=new C(D.length),this._recoveredStates=new C(D.length),this._types=_,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const D=[],v=(_,f)=>{const d=D[D.length-1];return this.getStartLineNumber(d)<=_&&this.getEndLineNumber(d)>=f};for(let _=0,f=this._startIndexes.length;_<f;_++){const d=this._startIndexes[_],r=this._endIndexes[_];if(d>w||r>w)throw new Error("startLineNumber or endLineNumber must not exceed "+w);for(;D.length>0&&!v(d,r);)D.pop();const l=D.length>0?D[D.length-1]:-1;D.push(_),this._startIndexes[_]=d+((255&l)<<24),this._endIndexes[_]=r+((65280&l)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(D){return this._startIndexes[D]&w}getEndLineNumber(D){return this._endIndexes[D]&w}getType(D){return this._types?this._types[D]:void 0}hasTypes(){return!!this._types}isCollapsed(D){return this._collapseStates.get(D)}setCollapsed(D,v){this._collapseStates.set(D,v)}isUserDefined(D){return this._userDefinedStates.get(D)}setUserDefined(D,v){return this._userDefinedStates.set(D,v)}isRecovered(D){return this._recoveredStates.get(D)}setRecovered(D,v){return this._recoveredStates.set(D,v)}getSource(D){return this.isUserDefined(D)?1:this.isRecovered(D)?2:0}setSource(D,v){1===v?(this.setUserDefined(D,!0),this.setRecovered(D,!1)):2===v?(this.setUserDefined(D,!1),this.setRecovered(D,!0)):(this.setUserDefined(D,!1),this.setRecovered(D,!1))}setCollapsedAllOfType(D,v){let _=!1;if(this._types)for(let f=0;f<this._types.length;f++)this._types[f]===D&&(this.setCollapsed(f,v),_=!0);return _}toRegion(D){return new b(this,D)}getParentIndex(D){this.ensureParentIndices();const v=((this._startIndexes[D]&x)>>>24)+((this._endIndexes[D]&x)>>>16);return 65535===v?-1:v}contains(D,v){return this.getStartLineNumber(D)<=v&&this.getEndLineNumber(D)>=v}findIndex(D){let v=0,_=this._startIndexes.length;if(0===_)return-1;for(;v<_;){const f=Math.floor((v+_)/2);D<this.getStartLineNumber(f)?_=f:v=f+1}return v-1}findRange(D){let v=this.findIndex(D);if(v>=0){if(this.getEndLineNumber(v)>=D)return v;for(v=this.getParentIndex(v);-1!==v;){if(this.contains(v,D))return v;v=this.getParentIndex(v)}}return-1}toString(){const D=[];for(let v=0;v<this.length;v++)D[v]=`[${a[this.getSource(v)]}${this.isCollapsed(v)?"+":"-"}] ${this.getStartLineNumber(v)}/${this.getEndLineNumber(v)}`;return D.join(", ")}toFoldRange(D){return{startLineNumber:this._startIndexes[D]&w,endLineNumber:this._endIndexes[D]&w,type:this._types?this._types[D]:void 0,isCollapsed:this.isCollapsed(D),source:this.getSource(D)}}static fromFoldRanges(D){const v=D.length,_=new Uint32Array(v),f=new Uint32Array(v);let d=[],r=!1;for(let g=0;g<v;g++){const p=D[g];_[g]=p.startLineNumber,f[g]=p.endLineNumber,d.push(p.type),p.type&&(r=!0)}r||(d=void 0);const l=new S(_,f,d);for(let g=0;g<v;g++)D[g].isCollapsed&&l.setCollapsed(g,!0),l.setSource(g,D[g].source);return l}static sanitizeAndMerge(D,v,_){_=_??Number.MAX_VALUE;const f=(N,H)=>Array.isArray(N)?L=>L<H?N[L]:void 0:L=>L<H?N.toFoldRange(L):void 0,d=f(D,D.length),r=f(v,v.length);let l=0,g=0,p=d(0),m=r(0);const T=[];let A,k=0;const O=[];for(;p||m;){let N;if(m&&(!p||p.startLineNumber>=m.startLineNumber))p&&p.startLineNumber===m.startLineNumber?(1===m.source?N=m:(N=p,N.isCollapsed=m.isCollapsed&&p.endLineNumber===m.endLineNumber,N.source=0),p=d(++l)):(N=m,m.isCollapsed&&0===m.source&&(N.source=2)),m=r(++g);else{let H=g,L=m;for(;;){if(!L||L.startLineNumber>p.endLineNumber){N=p;break}if(1===L.source&&L.endLineNumber>p.endLineNumber)break;L=r(++H)}p=d(++l)}if(N){for(;A&&A.endLineNumber<N.startLineNumber;)A=T.pop();N.endLineNumber>N.startLineNumber&&N.startLineNumber>k&&N.endLineNumber<=_&&(!A||A.endLineNumber>=N.endLineNumber)&&(O.push(N),k=N.startLineNumber,A&&T.push(A),A=N)}}return O}}class b{constructor(D,v){this.ranges=D,this.index=v}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(D){return D.startLineNumber<=this.startLineNumber&&D.endLineNumber>=this.endLineNumber}containsLine(D){return this.startLineNumber<=D&&D<=this.endLineNumber}}},84652:(tt,xe,t)=>{t.d(xe,{hW:()=>C});var a=t(53136),F=t(55145);class C{constructor(v,_,f){this.editorModel=v,this.languageConfigurationService=_,this.foldingRangesLimit=f,this.id="indent"}dispose(){}compute(v){const _=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules;return Promise.resolve(function P(D,v,_,f=b){const d=D.getOptions().tabSize,r=new S(f);let l;_&&(l=new RegExp(`(${_.start.source})|(?:${_.end.source})`));const g=[],p=D.getLineCount()+1;g.push({indent:-1,endAbove:p,line:p});for(let m=D.getLineCount();m>0;m--){const T=D.getLineContent(m),A=(0,a.G)(T,d);let O,k=g[g.length-1];if(-1!==A){if(l&&(O=T.match(l))){if(!O[1]){g.push({indent:-2,endAbove:m,line:m});continue}{let N=g.length-1;for(;N>0&&-2!==g[N].indent;)N--;if(N>0){g.length=N+1,k=g[N],r.insertFirst(m,k.line,A),k.line=m,k.indent=A,k.endAbove=m;continue}}}if(k.indent>A){do{g.pop(),k=g[g.length-1]}while(k.indent>A);const N=k.endAbove-1;N-m>=1&&r.insertFirst(m,N,A)}k.indent===A?k.endAbove=m:g.push({indent:A,endAbove:m,line:m})}else v&&(k.endAbove=m)}return r.toIndentRanges(D)}(this.editorModel,_&&!!_.offSide,_&&_.markers,this.foldingRangesLimit))}}class S{constructor(v){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=v}insertFirst(v,_,f){if(v>F.yy||_>F.yy)return;const d=this._length;this._startIndexes[d]=v,this._endIndexes[d]=_,this._length++,f<1e3&&(this._indentOccurrences[f]=(this._indentOccurrences[f]||0)+1)}toIndentRanges(v){const _=this._foldingRangesLimit.limit;if(this._length<=_){this._foldingRangesLimit.update(this._length,!1);const f=new Uint32Array(this._length),d=new Uint32Array(this._length);for(let r=this._length-1,l=0;r>=0;r--,l++)f[l]=this._startIndexes[r],d[l]=this._endIndexes[r];return new F.tz(f,d)}{this._foldingRangesLimit.update(this._length,_);let f=0,d=this._indentOccurrences.length;for(let p=0;p<this._indentOccurrences.length;p++){const m=this._indentOccurrences[p];if(m){if(m+f>_){d=p;break}f+=m}}const r=v.getOptions().tabSize,l=new Uint32Array(_),g=new Uint32Array(_);for(let p=this._length-1,m=0;p>=0;p--){const T=this._startIndexes[p],A=v.getLineContent(T),k=(0,a.G)(A,r);(k<d||k===d&&f++<_)&&(l[m]=T,g[m]=this._endIndexes[p],m++)}return new F.tz(l,g)}}}const b={limit:5e3,update:()=>{}}},43159:(tt,xe,t)=>{t.d(xe,{M:()=>S});var a=t(25680),F=t(99031),w=t(55145);const x={};class S{constructor(_,f,d,r,l){this.editorModel=_,this.providers=f,this.handleFoldingRangesChange=d,this.foldingRangesLimit=r,this.fallbackRangeProvider=l,this.id="syntax",this.disposables=new F.Cm,l&&this.disposables.add(l);for(const g of f)"function"==typeof g.onDidChange&&this.disposables.add(g.onDidChange(d))}compute(_){return function b(v,_,f){let d=null;const r=v.map((l,g)=>Promise.resolve(l.provideFoldingRanges(_,x,f)).then(p=>{if(!f.isCancellationRequested&&Array.isArray(p)){Array.isArray(d)||(d=[]);const m=_.getLineCount();for(const T of p)T.start>0&&T.end>T.start&&T.end<=m&&d.push({start:T.start,end:T.end,rank:g,kind:T.kind})}},a.M_));return Promise.all(r).then(l=>d)}(this.providers,this.editorModel,_).then(f=>{var d,r;return f?function D(v,_){const f=v.sort((g,p)=>{let m=g.start-p.start;return 0===m&&(m=g.rank-p.rank),m}),d=new P(_);let r;const l=[];for(const g of f)if(r){if(g.start>r.start)if(g.end<=r.end)l.push(r),r=g,d.add(g.start,g.end,g.kind&&g.kind.value,l.length);else{if(g.start>r.end){do{r=l.pop()}while(r&&g.start>r.end);r&&l.push(r),r=g}d.add(g.start,g.end,g.kind&&g.kind.value,l.length)}}else r=g,d.add(g.start,g.end,g.kind&&g.kind.value,l.length);return d.toIndentRanges()}(f,this.foldingRangesLimit):null!==(r=null===(d=this.fallbackRangeProvider)||void 0===d?void 0:d.compute(_))&&void 0!==r?r:null})}dispose(){this.disposables.dispose()}}class P{constructor(_){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=_}add(_,f,d,r){if(_>w.yy||f>w.yy)return;const l=this._length;this._startIndexes[l]=_,this._endIndexes[l]=f,this._nestingLevels[l]=r,this._types[l]=d,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}toIndentRanges(){const _=this._foldingRangesLimit.limit;if(this._length<=_){this._foldingRangesLimit.update(this._length,!1);const f=new Uint32Array(this._length),d=new Uint32Array(this._length);for(let r=0;r<this._length;r++)f[r]=this._startIndexes[r],d[r]=this._endIndexes[r];return new w.tz(f,d,this._types)}{this._foldingRangesLimit.update(this._length,_);let f=0,d=this._nestingLevelCounts.length;for(let p=0;p<this._nestingLevelCounts.length;p++){const m=this._nestingLevelCounts[p];if(m){if(m+f>_){d=p;break}f+=m}}const r=new Uint32Array(_),l=new Uint32Array(_),g=[];for(let p=0,m=0;p<this._length;p++){const T=this._nestingLevels[p];(T<d||T===d&&f++<_)&&(r[m]=this._startIndexes[p],l[m]=this._endIndexes[p],g[m]=this._types[p],m++)}return new w.tz(r,l,g)}}}},36899:(tt,xe,t)=>{var a=t(47639),F=t(78854),w=t(81644);(0,a.Fl)(class x extends a.ks{constructor(){super({id:"editor.action.fontZoomIn",label:w.kg("EditorFontZoomIn.label","Increase Editor Font Size"),alias:"Increase Editor Font Size",precondition:void 0})}run(P,D){F.D.setZoomLevel(F.D.getZoomLevel()+1)}}),(0,a.Fl)(class C extends a.ks{constructor(){super({id:"editor.action.fontZoomOut",label:w.kg("EditorFontZoomOut.label","Decrease Editor Font Size"),alias:"Decrease Editor Font Size",precondition:void 0})}run(P,D){F.D.setZoomLevel(F.D.getZoomLevel()-1)}}),(0,a.Fl)(class S extends a.ks{constructor(){super({id:"editor.action.fontZoomReset",label:w.kg("EditorFontZoomReset.label","Reset Editor Font Size"),alias:"Reset Editor Font Size",precondition:void 0})}run(P,D){F.D.setZoomLevel(0)}})},64543:(tt,xe,t)=>{t.d(xe,{Pj:()=>L,jX:()=>j,vg:()=>U,_V:()=>Q});var a=t(10467),F=t(30833),w=t(21468),x=t(25680),C=t(28481),S=t(18002),b=t(66702),P=t(32417),D=t(89774),v=t(26713),_=t(13632),f=t(73678),d=t(14105),r=t(34225),l=t(35425),g=t(43781),p=t(51126);class m{constructor(ie){this.value=ie,this._lower=ie.toLowerCase()}static toKey(ie){return"string"==typeof ie?ie.toLowerCase():ie._lower}}class T{constructor(ie){if(this._set=new Set,ie)for(const ae of ie)this.add(ae)}add(ie){this._set.add(m.toKey(ie))}has(ie){return this._set.has(m.toKey(ie))}}var A=t(598),k=t(15307),O=t(52152),N=t(13144);function H(K,ie,ae){const de=[],se=new T,ge=K.ordered(ae);for(const ye of ge)de.push(ye),ye.extensionId&&se.add(ye.extensionId);const _e=ie.ordered(ae);for(const ye of _e){if(ye.extensionId){if(se.has(ye.extensionId))continue;se.add(ye.extensionId)}de.push({displayName:ye.displayName,extensionId:ye.extensionId,provideDocumentFormattingEdits:(M,ce,Se)=>ye.provideDocumentRangeFormattingEdits(M,M.getFullModelRange(),ce,Se)})}return de}class L{static setFormatterSelector(ie){return{dispose:L._selectors.unshift(ie)}}static select(ie,ae,de,se){return(0,a.A)(function*(){if(0===ie.length)return;const ge=C.f.first(L._selectors);return ge?yield ge(ie,ae,de,se):void 0})()}}function j(K,ie,ae,de,se,ge,_e){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.A)(function*(K,ie,ae,de,se,ge,_e){const ye=K.get(A._Y),{documentRangeFormattingEditProvider:M}=K.get(k.u),ce=(0,v.z9)(ie)?ie.getModel():ie,Se=M.ordered(ce),Ie=yield L.select(Se,ce,de,2);Ie&&(se.report(Ie),yield ye.invokeFunction(te,Ie,ie,ae,ge,_e))})).apply(this,arguments)}function te(K,ie,ae,de,se,ge){return X.apply(this,arguments)}function X(){return X=(0,a.A)(function*(K,ie,ae,de,se,ge){var _e,ye;const M=K.get(r.w),ce=K.get(O.rr),Se=K.get(N.Nt);let Ie,ne;(0,v.z9)(ae)?(Ie=ae.getModel(),ne=new D.gI(ae,5,void 0,se)):(Ie=ae,ne=new D.ER(ae,se));const ue=[];let we=0;for(const He of(0,F._j)(de).sort(f.Q.compareRangesUsingStarts))we>0&&f.Q.areIntersectingOrTouching(ue[we-1],He)?ue[we-1]=f.Q.fromPositions(ue[we-1].getStartPosition(),He.getEndPosition()):we=ue.push(He);const Me=function(){var He=(0,a.A)(function*(me){var le,Ee;ce.trace("[format][provideDocumentRangeFormattingEdits] (request)",null===(le=ie.extensionId)||void 0===le?void 0:le.value,me);const be=(yield ie.provideDocumentRangeFormattingEdits(Ie,me,Ie.getFormattingOptions(),ne.token))||[];return ce.trace("[format][provideDocumentRangeFormattingEdits] (response)",null===(Ee=ie.extensionId)||void 0===Ee?void 0:Ee.value,be),be});return function(le){return He.apply(this,arguments)}}(),Ve=(He,me)=>{if(!He.length||!me.length)return!1;const le=He.reduce((Ee,be)=>f.Q.plusRange(Ee,be.range),He[0].range);if(!me.some(Ee=>f.Q.intersectRanges(le,Ee.range)))return!1;for(const Ee of He)for(const be of me)if(f.Q.intersectRanges(Ee.range,be.range))return!0;return!1},$e=[],it=[];try{if("function"==typeof ie.provideDocumentRangesFormattingEdits){ce.trace("[format][provideDocumentRangeFormattingEdits] (request)",null===(_e=ie.extensionId)||void 0===_e?void 0:_e.value,ue);const He=(yield ie.provideDocumentRangesFormattingEdits(Ie,ue,Ie.getFormattingOptions(),ne.token))||[];ce.trace("[format][provideDocumentRangeFormattingEdits] (response)",null===(ye=ie.extensionId)||void 0===ye?void 0:ye.value,He),it.push(He)}else{for(const He of ue){if(ne.token.isCancellationRequested)return!0;it.push(yield Me(He))}for(let He=0;He<ue.length;++He)for(let me=He+1;me<ue.length;++me){if(ne.token.isCancellationRequested)return!0;if(Ve(it[He],it[me])){const le=f.Q.plusRange(ue[He],ue[me]),Ee=yield Me(le);ue.splice(me,1),ue.splice(He,1),ue.push(le),it.splice(me,1),it.splice(He,1),it.push(Ee),He=0,me=0}}}for(const He of it){if(ne.token.isCancellationRequested)return!0;const me=yield M.computeMoreMinimalEdits(Ie.uri,He);me&&$e.push(...me)}}finally{ne.dispose()}if(0===$e.length)return!1;if((0,v.z9)(ae))g.c.execute(ae,$e,!0),ae.revealPositionInCenterIfOutsideViewport(ae.getPosition(),1);else{const[{range:He}]=$e,me=new d.L(He.startLineNumber,He.startColumn,He.endLineNumber,He.endColumn);Ie.pushEditOperations([me],$e.map(le=>({text:le.text,range:f.Q.lift(le.range),forceMoveMarkers:!0})),le=>{for(const{range:Ee}of le)if(f.Q.areIntersectingOrTouching(Ee,me))return[new d.L(Ee.startLineNumber,Ee.startColumn,Ee.endLineNumber,Ee.endColumn)];return null})}return Se.playSignal(N.Rh.format,{userGesture:ge}),!0}),X.apply(this,arguments)}function U(K,ie,ae,de,se,ge){return q.apply(this,arguments)}function q(){return(q=(0,a.A)(function*(K,ie,ae,de,se,ge){const _e=K.get(A._Y),ye=K.get(k.u),M=(0,v.z9)(ie)?ie.getModel():ie,ce=H(ye.documentFormattingEditProvider,ye.documentRangeFormattingEditProvider,M),Se=yield L.select(ce,M,ae,1);Se&&(de.report(Se),yield _e.invokeFunction(R,Se,ie,ae,se,ge))})).apply(this,arguments)}function R(K,ie,ae,de,se,ge){return W.apply(this,arguments)}function W(){return(W=(0,a.A)(function*(K,ie,ae,de,se,ge){const _e=K.get(r.w),ye=K.get(N.Nt);let M,ce,Se;(0,v.z9)(ae)?(M=ae.getModel(),ce=new D.gI(ae,5,void 0,se)):(M=ae,ce=new D.ER(ae,se));try{const Ie=yield ie.provideDocumentFormattingEdits(M,M.getFormattingOptions(),ce.token);if(Se=yield _e.computeMoreMinimalEdits(M.uri,Ie),ce.token.isCancellationRequested)return!0}finally{ce.dispose()}if(!Se||0===Se.length)return!1;if((0,v.z9)(ae))g.c.execute(ae,Se,2!==de),2!==de&&ae.revealPositionInCenterIfOutsideViewport(ae.getPosition(),1);else{const[{range:Ie}]=Se,ne=new d.L(Ie.startLineNumber,Ie.startColumn,Ie.endLineNumber,Ie.endColumn);M.pushEditOperations([ne],Se.map(ue=>({text:ue.text,range:f.Q.lift(ue.range),forceMoveMarkers:!0})),ue=>{for(const{range:we}of ue)if(f.Q.areIntersectingOrTouching(we,ne))return[new d.L(we.startLineNumber,we.startColumn,we.endLineNumber,we.endColumn)];return null})}return ye.playSignal(N.Rh.format,{userGesture:ge}),!0})).apply(this,arguments)}function oe(){return(oe=(0,a.A)(function*(K,ie,ae,de,se,ge){const _e=ie.documentRangeFormattingEditProvider.ordered(ae);for(const ye of _e){const M=yield Promise.resolve(ye.provideDocumentRangeFormattingEdits(ae,de,se,ge)).catch(x.M_);if((0,F.EI)(M))return yield K.computeMoreMinimalEdits(ae.uri,M)}})).apply(this,arguments)}function G(){return(G=(0,a.A)(function*(K,ie,ae,de,se){const ge=H(ie.documentFormattingEditProvider,ie.documentRangeFormattingEditProvider,ae);for(const _e of ge){const ye=yield Promise.resolve(_e.provideDocumentFormattingEdits(ae,de,se)).catch(x.M_);if((0,F.EI)(ye))return yield K.computeMoreMinimalEdits(ae.uri,ye)}})).apply(this,arguments)}function Q(K,ie,ae,de,se,ge,_e){const ye=ie.onTypeFormattingEditProvider.ordered(ae);return 0===ye.length||ye[0].autoFormatTriggerCharacters.indexOf(se)<0?Promise.resolve(void 0):Promise.resolve(ye[0].provideOnTypeFormattingEdits(ae,de,se,ge,_e)).catch(x.M_).then(M=>K.computeMoreMinimalEdits(ae.uri,M))}L._selectors=new S.w,p.w.registerCommand("_executeFormatRangeProvider",function(){var K=(0,a.A)(function*(ie,...ae){const[de,se,ge]=ae;(0,b.j)(P.r.isUri(de)),(0,b.j)(f.Q.isIRange(se));const _e=ie.get(l.b),ye=ie.get(r.w),M=ie.get(k.u),ce=yield _e.createModelReference(de);try{return function Y(K,ie,ae,de,se,ge){return oe.apply(this,arguments)}(ye,M,ce.object.textEditorModel,f.Q.lift(se),ge,w.XO.None)}finally{ce.dispose()}});return function(ie){return K.apply(this,arguments)}}()),p.w.registerCommand("_executeFormatDocumentProvider",function(){var K=(0,a.A)(function*(ie,...ae){const[de,se]=ae;(0,b.j)(P.r.isUri(de));const ge=ie.get(l.b),_e=ie.get(r.w),ye=ie.get(k.u),M=yield ge.createModelReference(de);try{return function z(K,ie,ae,de,se){return G.apply(this,arguments)}(_e,ye,M.object.textEditorModel,se,w.XO.None)}finally{M.dispose()}});return function(ie){return K.apply(this,arguments)}}()),p.w.registerCommand("_executeFormatOnTypeProvider",function(){var K=(0,a.A)(function*(ie,...ae){const[de,se,ge,_e]=ae;(0,b.j)(P.r.isUri(de)),(0,b.j)(_.y.isIPosition(se)),(0,b.j)("string"==typeof ge);const ye=ie.get(l.b),M=ie.get(r.w),ce=ie.get(k.u),Se=yield ye.createModelReference(de);try{return Q(M,ce,Se.object.textEditorModel,_.y.lift(se),ge,_e,w.XO.None)}finally{Se.dispose()}});return function(ie){return K.apply(this,arguments)}}())},43714:(tt,xe,t)=>{var a=t(10467),F=t(30833),w=t(21468),x=t(25680),C=t(79624),S=t(99031),b=t(47639),P=t(31212),D=t(72493),v=t(73678),_=t(69995),f=t(34225),d=t(15307),r=t(64543),l=t(43781),g=t(81644),p=t(13144),m=t(51126),T=t(50168),A=t(598),k=t(47690),O=function(te,X,U,q){var Y,R=arguments.length,W=R<3?X:null===q?q=Object.getOwnPropertyDescriptor(X,U):q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)W=Reflect.decorate(te,X,U,q);else for(var oe=te.length-1;oe>=0;oe--)(Y=te[oe])&&(W=(R<3?Y(W):R>3?Y(X,U,W):Y(X,U))||W);return R>3&&W&&Object.defineProperty(X,U,W),W},N=function(te,X){return function(U,q){X(U,q,te)}};let H=class{constructor(X,U,q,R){this._editor=X,this._languageFeaturesService=U,this._workerService=q,this._accessibilitySignalService=R,this._disposables=new S.Cm,this._sessionDisposables=new S.Cm,this._disposables.add(U.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(X.onDidChangeModel(()=>this._update())),this._disposables.add(X.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(X.onDidChangeConfiguration(W=>{W.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const X=this._editor.getModel(),[U]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(X);if(!U||!U.autoFormatTriggerCharacters)return;const q=new D.y;for(const R of U.autoFormatTriggerCharacters)q.add(R.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(R=>{const W=R.charCodeAt(R.length-1);q.has(W)&&this._trigger(String.fromCharCode(W))}))}_trigger(X){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const U=this._editor.getModel(),q=this._editor.getPosition(),R=new w.Qi,W=this._editor.onDidChangeModelContent(Y=>{if(Y.isFlush)return R.cancel(),void W.dispose();for(let oe=0,z=Y.changes.length;oe<z;oe++)if(Y.changes[oe].range.endLineNumber<=q.lineNumber)return R.cancel(),void W.dispose()});(0,r._V)(this._workerService,this._languageFeaturesService,U,q,X,U.getFormattingOptions(),R.token).then(Y=>{R.token.isCancellationRequested||(0,F.EI)(Y)&&(this._accessibilitySignalService.playSignal(p.Rh.format,{userGesture:!1}),l.c.execute(this._editor,Y,!0))}).finally(()=>{W.dispose()})}};H.ID="editor.contrib.autoFormat",H=O([N(1,d.u),N(2,f.w),N(3,p.Nt)],H);let L=class{constructor(X,U,q){this.editor=X,this._languageFeaturesService=U,this._instantiationService=q,this._callOnDispose=new S.Cm,this._callOnModel=new S.Cm,this._callOnDispose.add(X.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(X.onDidChangeModel(()=>this._update())),this._callOnDispose.add(X.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(U.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:X})=>this._trigger(X)))}_trigger(X){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(r.jX,this.editor,X,2,k.ke.None,w.XO.None,!1).catch(x.dz))}};L.ID="editor.contrib.formatOnPaste",L=O([N(1,d.u),N(2,A._Y)],L),(0,b.HW)(H.ID,H,2),(0,b.HW)(L.ID,L,2),(0,b.Fl)(class j extends b.ks{constructor(){super({id:"editor.action.formatDocument",label:g.kg("formatDocument.label","Format Document"),alias:"Format Document",precondition:T.M$.and(_.R.notInCompositeEditor,_.R.writable,_.R.hasDocumentFormattingProvider),kbOpts:{kbExpr:_.R.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(X,U){return(0,a.A)(function*(){if(U.hasModel()){const q=X.get(A._Y);yield X.get(k.N8).showWhile(q.invokeFunction(r.vg,U,1,k.ke.None,w.XO.None,!0),250)}})()}}),(0,b.Fl)(class Z extends b.ks{constructor(){super({id:"editor.action.formatSelection",label:g.kg("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:T.M$.and(_.R.writable,_.R.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:_.R.editorTextFocus,primary:(0,C.m5)(2089,2084),weight:100},contextMenuOpts:{when:_.R.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(X,U){return(0,a.A)(function*(){if(!U.hasModel())return;const q=X.get(A._Y),R=U.getModel(),W=U.getSelections().map(oe=>oe.isEmpty()?new v.Q(oe.startLineNumber,1,oe.startLineNumber,R.getLineMaxColumn(oe.startLineNumber)):oe);yield X.get(k.N8).showWhile(q.invokeFunction(r.jX,U,W,1,k.ke.None,w.XO.None,!0),250)})()}}),m.w.registerCommand("editor.action.format",function(){var te=(0,a.A)(function*(X){const U=X.get(P.T).getFocusedCodeEditor();if(!U||!U.hasModel())return;const q=X.get(m.d);U.getSelection().isEmpty()?yield q.executeCommand("editor.action.formatDocument"):yield q.executeCommand("editor.action.formatSelection")});return function(X){return te.apply(this,arguments)}}())},43781:(tt,xe,t)=>{t.d(xe,{c:()=>x});var a=t(5214),F=t(73678),w=t(44583);class x{static _handleEolEdits(S,b){let P;const D=[];for(const v of b)"number"==typeof v.eol&&(P=v.eol),v.range&&"string"==typeof v.text&&D.push(v);return"number"==typeof P&&S.hasModel()&&S.getModel().pushEOL(P),D}static _isFullModelReplaceEdit(S,b){if(!S.hasModel())return!1;const P=S.getModel(),D=P.validateRange(b.range);return P.getFullModelRange().equalsRange(D)}static execute(S,b,P){P&&S.pushUndoStop();const D=w.D.capture(S),v=x._handleEolEdits(S,b);1===v.length&&x._isFullModelReplaceEdit(S,v[0])?S.executeEdits("formatEditsCommand",v.map(_=>a.k.replace(F.Q.lift(_.range),_.text))):S.executeEdits("formatEditsCommand",v.map(_=>a.k.replaceMove(F.Q.lift(_.range),_.text))),P&&S.pushUndoStop(),D.restoreRelativeVerticalPositionOfCursor(S)}}},63725:(tt,xe,t)=>{t.d(xe,{j:()=>Ft,i:()=>rt});var a=t(10467),F=t(15320),w=t(99031),x=t(47639),C=t(31212),S=t(13632),b=t(73678),P=t(69995),D=t(30833),v=t(5643),_=t(18002),f=t(6653),d=t(32417),r=t(56789),l=t(598),g=t(24270),p=t(35072),m=function(st,Ke,ft,wt){var en,qt=arguments.length,Yt=qt<3?Ke:null===wt?wt=Object.getOwnPropertyDescriptor(Ke,ft):wt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Yt=Reflect.decorate(st,Ke,ft,wt);else for(var an=st.length-1;an>=0;an--)(en=st[an])&&(Yt=(qt<3?en(Yt):qt>3?en(Ke,ft,Yt):en(Ke,ft))||Yt);return qt>3&&Yt&&Object.defineProperty(Ke,ft,Yt),Yt},T=function(st,Ke){return function(ft,wt){Ke(ft,wt,st)}};class A{constructor(Ke,ft,wt){this.marker=Ke,this.index=ft,this.total=wt}}let k=class{constructor(Ke,ft,wt){this._markerService=ft,this._configService=wt,this._onDidChange=new v.vl,this.onDidChange=this._onDidChange.event,this._dispoables=new w.Cm,this._markers=[],this._nextIdx=-1,d.r.isUri(Ke)?this._resourceFilter=an=>an.toString()===Ke.toString():Ke&&(this._resourceFilter=Ke);const qt=this._configService.getValue("problems.sortOrder"),Yt=(an,lt)=>{let Nt=(0,f.UD)(an.resource.toString(),lt.resource.toString());return 0===Nt&&(Nt="position"===qt?b.Q.compareRangesUsingStarts(an,lt)||g.cj.compare(an.severity,lt.severity):g.cj.compare(an.severity,lt.severity)||b.Q.compareRangesUsingStarts(an,lt)),Nt},en=()=>{this._markers=this._markerService.read({resource:d.r.isUri(Ke)?Ke:void 0,severities:g.cj.Error|g.cj.Warning|g.cj.Info}),"function"==typeof Ke&&(this._markers=this._markers.filter(an=>this._resourceFilter(an.resource))),this._markers.sort(Yt)};en(),this._dispoables.add(ft.onMarkerChanged(an=>{(!this._resourceFilter||an.some(lt=>this._resourceFilter(lt)))&&(en(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(Ke){return!this._resourceFilter&&!Ke||!(!this._resourceFilter||!Ke)&&this._resourceFilter(Ke)}get selected(){const Ke=this._markers[this._nextIdx];return Ke&&new A(Ke,this._nextIdx+1,this._markers.length)}_initIdx(Ke,ft,wt){let qt=!1,Yt=this._markers.findIndex(en=>en.resource.toString()===Ke.uri.toString());Yt<0&&(Yt=(0,D.El)(this._markers,{resource:Ke.uri},(en,an)=>(0,f.UD)(en.resource.toString(),an.resource.toString())),Yt<0&&(Yt=~Yt));for(let en=Yt;en<this._markers.length;en++){let an=b.Q.lift(this._markers[en]);if(an.isEmpty()){const lt=Ke.getWordAtPosition(an.getStartPosition());lt&&(an=new b.Q(an.startLineNumber,lt.startColumn,an.startLineNumber,lt.endColumn))}if(ft&&(an.containsPosition(ft)||ft.isBeforeOrEqual(an.getStartPosition()))){this._nextIdx=en,qt=!0;break}if(this._markers[en].resource.toString()!==Ke.uri.toString())break}qt||(this._nextIdx=wt?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(Ke,ft,wt){if(0===this._markers.length)return!1;const qt=this._nextIdx;return-1===this._nextIdx?this._initIdx(ft,wt,Ke):Ke?this._nextIdx=(this._nextIdx+1)%this._markers.length:Ke||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),qt!==this._nextIdx}find(Ke,ft){let wt=this._markers.findIndex(qt=>qt.resource.toString()===Ke.toString());if(!(wt<0))for(;wt<this._markers.length;wt++)if(b.Q.containsPosition(this._markers[wt],ft))return new A(this._markers[wt],wt+1,this._markers.length)}};k=m([T(1,g.DR),T(2,p.pG)],k);const O=(0,l.u1)("IMarkerNavigationService");let N=class{constructor(Ke,ft){this._markerService=Ke,this._configService=ft,this._provider=new _.w}getMarkerList(Ke){for(const ft of this._provider){const wt=ft.getMarkerList(Ke);if(wt)return wt}return new k(Ke,this._markerService,this._configService)}};N=m([T(0,g.DR),T(1,p.pG)],N),(0,r.v)(O,N,1);var H=t(81644),L=t(79134),j=t(50168),Z=t(24453),te=t(91874),X=t(23702),U=t(84072),q=t(76698),R=t(85072),W=t.n(R),Y=t(97825),oe=t.n(Y),z=t(77659),G=t.n(z),Q=t(55056),K=t.n(Q),ie=t(10540),ae=t.n(ie),de=t(41113),se=t.n(de),ge=t(81788),_e={};_e.styleTagTransform=se(),_e.setAttributes=K(),_e.insert=G().bind(null,"head"),_e.domAPI=oe(),_e.insertStyleElement=ae(),W()(ge.A,_e);var ce=t(13140),Se=t(54335),Ie=t(7964),ne=t(19438),ue=t(13774),we={};we.styleTagTransform=se(),we.setAttributes=K(),we.insert=G().bind(null,"head"),we.domAPI=oe(),we.insertStyleElement=ae(),W()(ue.A,we);var He,$e=t(81072),it=t(63832);(He||(He={})).className=function Ke(ft){switch(ft){case it.A.Ignore:return"severity-ignore "+$e.L.asClassName(F.W.info);case it.A.Info:return $e.L.asClassName(F.W.info);case it.A.Warning:return $e.L.asClassName(F.W.warning);case it.A.Error:return $e.L.asClassName(F.W.error);default:return""}};var Ce,me=t(85478),le=t(48187),be=function(st,Ke){return function(ft,wt){Ke(ft,wt,st)}};class Ne{constructor(Ke,ft,wt,qt,Yt){this._openerService=qt,this._labelService=Yt,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new w.Cm,this._editor=ft;const en=document.createElement("div");en.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),en.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),en.appendChild(this._relatedBlock),this._disposables.add(te.b2(this._relatedBlock,"click",an=>{an.preventDefault();const lt=this._relatedDiagnostics.get(an.target);lt&&wt(lt)})),this._scrollable=new X.Se(en,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),Ke.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(an=>{en.style.left=`-${an.scrollLeft}px`,en.style.top=`-${an.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,w.AS)(this._disposables)}update(Ke){const{source:ft,message:wt,relatedInformation:qt,code:Yt}=Ke;let en=(ft?.length||0)+2;Yt&&(en+="string"==typeof Yt?Yt.length:Yt.value.length);const an=(0,f.uz)(wt);this._lines=an.length,this._longestLineLength=0;for(const Bn of an)this._longestLineLength=Math.max(Bn.length+en,this._longestLineLength);te.w_(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(Ke)),this._editor.applyFontInfo(this._messageBlock);let lt=this._messageBlock;for(const Bn of an)lt=document.createElement("div"),lt.innerText=Bn,""===Bn&&(lt.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(lt);if(ft||Yt){const Bn=document.createElement("span");if(Bn.classList.add("details"),lt.appendChild(Bn),ft){const zn=document.createElement("span");zn.innerText=ft,zn.classList.add("source"),Bn.appendChild(zn)}if(Yt)if("string"==typeof Yt){const zn=document.createElement("span");zn.innerText=`(${Yt})`,zn.classList.add("code"),Bn.appendChild(zn)}else this._codeLink=te.$("a.code-link"),this._codeLink.setAttribute("href",`${Yt.target.toString()}`),this._codeLink.onclick=Zn=>{this._openerService.open(Yt.target,{allowCommands:!0}),Zn.preventDefault(),Zn.stopPropagation()},te.BC(this._codeLink,te.$("span")).innerText=Yt.value,Bn.appendChild(this._codeLink)}if(te.w_(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,D.EI)(qt)){const Bn=this._relatedBlock.appendChild(document.createElement("div"));Bn.style.paddingTop=`${Math.floor(.66*this._editor.getOption(67))}px`,this._lines+=1;for(const zn of qt){const Zn=document.createElement("div"),ei=document.createElement("a");ei.classList.add("filename"),ei.innerText=`${this._labelService.getUriBasenameLabel(zn.resource)}(${zn.startLineNumber}, ${zn.startColumn}): `,ei.title=this._labelService.getUriLabel(zn.resource),this._relatedDiagnostics.set(ei,zn);const wi=document.createElement("span");wi.innerText=zn.message,Zn.appendChild(ei),Zn.appendChild(wi),this._lines+=1,Bn.appendChild(Zn)}}const Nt=this._editor.getOption(50),tn=Math.ceil(Nt.typicalFullwidthCharacterWidth*this._longestLineLength*.75);this._scrollable.setScrollDimensions({scrollWidth:tn,scrollHeight:Nt.lineHeight*this._lines})}layout(Ke,ft){this._scrollable.getDomNode().style.height=`${Ke}px`,this._scrollable.getDomNode().style.width=`${ft}px`,this._scrollable.setScrollDimensions({width:ft,height:Ke})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(Ke){let ft="";switch(Ke.severity){case g.cj.Error:ft=H.kg("Error","Error");break;case g.cj.Warning:ft=H.kg("Warning","Warning");break;case g.cj.Info:ft=H.kg("Info","Info");break;case g.cj.Hint:ft=H.kg("Hint","Hint")}let wt=H.kg("marker aria","{0} at {1}. ",ft,Ke.startLineNumber+":"+Ke.startColumn);const qt=this._editor.getModel();return qt&&Ke.startLineNumber<=qt.getLineCount()&&Ke.startLineNumber>=1&&(wt=`${qt.getLineContent(Ke.startLineNumber)}, ${wt}`),wt}}let Fe=Ce=class extends ce.j6{constructor(Ke,ft,wt,qt,Yt,en,an){super(Ke,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},Yt),this._themeService=ft,this._openerService=wt,this._menuService=qt,this._contextKeyService=en,this._labelService=an,this._callOnDispose=new w.Cm,this._onDidSelectRelatedInformation=new v.vl,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=g.cj.Warning,this._backgroundColor=U.Q1.white,this._applyTheme(ft.getColorTheme()),this._callOnDispose.add(ft.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(Ke){this._backgroundColor=Ke.getColor(Qe);let ft=fn,wt=on;this._severity===g.cj.Warning?(ft=ht,wt=Je):this._severity===g.cj.Info&&(ft=ot,wt=De);const qt=Ke.getColor(ft),Yt=Ke.getColor(wt);this.style({arrowColor:qt,frameColor:qt,headerBackgroundColor:Yt,primaryHeadingColor:Ke.getColor(ce._X),secondaryHeadingColor:Ke.getColor(ce.e3)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(Ke){super._fillHead(Ke),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(qt=>this.editor.focus()));const ft=[],wt=this._menuService.createMenu(Ce.TitleMenu,this._contextKeyService);(0,Se.Ot)(wt,void 0,ft),this._actionbarWidget.push(ft,{label:!1,icon:!0,index:0}),wt.dispose()}_fillTitleIcon(Ke){this._icon=te.BC(Ke,te.$(""))}_fillBody(Ke){this._parentContainer=Ke,Ke.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),Ke.appendChild(this._container),this._message=new Ne(this._container,this.editor,ft=>this._onDidSelectRelatedInformation.fire(ft),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(Ke,ft,wt){this._container.classList.remove("stale"),this._message.update(Ke),this._severity=Ke.severity,this._applyTheme(this._themeService.getColorTheme());const qt=b.Q.lift(Ke),Yt=this.editor.getPosition(),en=Yt&&qt.containsPosition(Yt)?Yt:qt.getStartPosition();super.show(en,this.computeRequiredHeight());const an=this.editor.getModel();if(an){const lt=wt>1?H.kg("problems","{0} of {1} problems",ft,wt):H.kg("change","{0} of {1} problem",ft,wt);this.setTitle((0,q.P8)(an.uri),lt)}this._icon.className=`codicon ${He.className(g.cj.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(en,0),this.editor.focus()}updateMarker(Ke){this._container.classList.remove("stale"),this._message.update(Ke)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(Ke,ft){super._doLayoutBody(Ke,ft),this._heightInPixel=Ke,this._message.layout(Ke,ft),this._container.style.height=`${Ke}px`}_onWidth(Ke){this._message.layout(this._heightInPixel,Ke)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Fe.TitleMenu=new L.D8("gotoErrorTitleMenu"),Fe=Ce=function(st,Ke,ft,wt){var en,qt=arguments.length,Yt=qt<3?Ke:null===wt?wt=Object.getOwnPropertyDescriptor(Ke,ft):wt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Yt=Reflect.decorate(st,Ke,ft,wt);else for(var an=st.length-1;an>=0;an--)(en=st[an])&&(Yt=(qt<3?en(Yt):qt>3?en(Ke,ft,Yt):en(Ke,ft))||Yt);return qt>3&&Yt&&Object.defineProperty(Ke,ft,Yt),Yt}([be(1,le.Gy),be(2,ne.C),be(3,L.ez),be(4,l._Y),be(5,j.fN),be(6,Ie.L)],Fe);const qe=(0,me.yLr)(me.Rbi,me.AN$),dt=(0,me.yLr)(me.Hng,me.Stt),vt=(0,me.yLr)(me.pOz,me.IIb),fn=(0,me.x1A)("editorMarkerNavigationError.background",{dark:qe,light:qe,hcDark:me.b1q,hcLight:me.b1q},H.kg("editorMarkerNavigationError","Editor marker navigation widget error color.")),on=(0,me.x1A)("editorMarkerNavigationError.headerBackground",{dark:(0,me.JO0)(fn,.1),light:(0,me.JO0)(fn,.1),hcDark:null,hcLight:null},H.kg("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),ht=(0,me.x1A)("editorMarkerNavigationWarning.background",{dark:dt,light:dt,hcDark:me.b1q,hcLight:me.b1q},H.kg("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Je=(0,me.x1A)("editorMarkerNavigationWarning.headerBackground",{dark:(0,me.JO0)(ht,.1),light:(0,me.JO0)(ht,.1),hcDark:"#0C141F",hcLight:(0,me.JO0)(ht,.2)},H.kg("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),ot=(0,me.x1A)("editorMarkerNavigationInfo.background",{dark:vt,light:vt,hcDark:me.b1q,hcLight:me.b1q},H.kg("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),De=(0,me.x1A)("editorMarkerNavigationInfo.headerBackground",{dark:(0,me.JO0)(ot,.1),light:(0,me.JO0)(ot,.1),hcDark:null,hcLight:null},H.kg("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Qe=(0,me.x1A)("editorMarkerNavigation.background",{dark:me.YtV,light:me.YtV,hcDark:me.YtV,hcLight:me.YtV},H.kg("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Ht,kt=function(st,Ke){return function(ft,wt){Ke(ft,wt,st)}};let Ft=Ht=class{static get(Ke){return Ke.getContribution(Ht.ID)}constructor(Ke,ft,wt,qt,Yt){this._markerNavigationService=ft,this._contextKeyService=wt,this._editorService=qt,this._instantiationService=Yt,this._sessionDispoables=new w.Cm,this._editor=Ke,this._widgetVisible=Ze.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(Ke){if(this._model&&this._model.matches(Ke))return this._model;let ft=!1;return this._model&&(ft=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(Ke),ft&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Fe,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(wt=>{var qt,Yt,en;(null===(qt=this._model)||void 0===qt||!qt.selected||!b.Q.containsPosition(null===(Yt=this._model)||void 0===Yt?void 0:Yt.selected.marker,wt.position))&&(null===(en=this._model)||void 0===en||en.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const wt=this._model.find(this._editor.getModel().uri,this._widget.position);wt?this._widget.updateMarker(wt.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(wt=>{this._editorService.openCodeEditor({resource:wt.resource,options:{pinned:!0,revealIfOpened:!0,selection:b.Q.lift(wt).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(Ke=!0){this._cleanUp(),Ke&&this._editor.focus()}showAtMarker(Ke){if(this._editor.hasModel()){const ft=this._getOrCreateModel(this._editor.getModel().uri);ft.resetIndex(),ft.move(!0,this._editor.getModel(),new S.y(Ke.startLineNumber,Ke.startColumn)),ft.selected&&this._widget.showAtMarker(ft.selected.marker,ft.selected.index,ft.selected.total)}}nagivate(Ke,ft){var wt=this;return(0,a.A)(function*(){var qt,Yt;if(wt._editor.hasModel()){const en=wt._getOrCreateModel(ft?void 0:wt._editor.getModel().uri);if(en.move(Ke,wt._editor.getModel(),wt._editor.getPosition()),!en.selected)return;if(en.selected.marker.resource.toString()!==wt._editor.getModel().uri.toString()){wt._cleanUp();const an=yield wt._editorService.openCodeEditor({resource:en.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:en.selected.marker}},wt._editor);an&&(null===(qt=Ht.get(an))||void 0===qt||qt.close(),null===(Yt=Ht.get(an))||void 0===Yt||Yt.nagivate(Ke,ft))}else wt._widget.showAtMarker(en.selected.marker,en.selected.index,en.selected.total)}})()}};Ft.ID="editor.contrib.markerController",Ft=Ht=function(st,Ke,ft,wt){var en,qt=arguments.length,Yt=qt<3?Ke:null===wt?wt=Object.getOwnPropertyDescriptor(Ke,ft):wt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Yt=Reflect.decorate(st,Ke,ft,wt);else for(var an=st.length-1;an>=0;an--)(en=st[an])&&(Yt=(qt<3?en(Yt):qt>3?en(Ke,ft,Yt):en(Ke,ft))||Yt);return qt>3&&Yt&&Object.defineProperty(Ke,ft,Yt),Yt}([kt(1,O),kt(2,j.fN),kt(3,C.T),kt(4,l._Y)],Ft);class Bt extends x.ks{constructor(Ke,ft,wt){super(wt),this._next=Ke,this._multiFile=ft}run(Ke,ft){var wt=this;return(0,a.A)(function*(){var qt;ft.hasModel()&&(null===(qt=Ft.get(ft))||void 0===qt||qt.nagivate(wt._next,wt._multiFile))})()}}class rt extends Bt{constructor(){super(!0,!1,{id:rt.ID,label:rt.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:P.R.focus,primary:578,weight:100},menuOpts:{menuId:Fe.TitleMenu,title:rt.LABEL,icon:(0,Z.pU)("marker-navigation-next",F.W.arrowDown,H.kg("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}rt.ID="editor.action.marker.next",rt.LABEL=H.kg("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Ut extends Bt{constructor(){super(!1,!1,{id:Ut.ID,label:Ut.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:P.R.focus,primary:1602,weight:100},menuOpts:{menuId:Fe.TitleMenu,title:Ut.LABEL,icon:(0,Z.pU)("marker-navigation-previous",F.W.arrowUp,H.kg("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Ut.ID="editor.action.marker.prev",Ut.LABEL=H.kg("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),(0,x.HW)(Ft.ID,Ft,4),(0,x.Fl)(rt),(0,x.Fl)(Ut),(0,x.Fl)(class St extends Bt{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:H.kg("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:P.R.focus,primary:66,weight:100},menuOpts:{menuId:L.D8.MenubarGoMenu,title:H.kg({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,x.Fl)(class ke extends Bt{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:H.kg("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:P.R.focus,primary:1090,weight:100},menuOpts:{menuId:L.D8.MenubarGoMenu,title:H.kg({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const Ze=new j.N1("markersNavigationVisible",!1),Ye=x.DX.bindToContribution(Ft.get);(0,x.E_)(new Ye({id:"closeMarkersNavigation",precondition:Ze,handler:st=>st.close(),kbOpts:{weight:150,kbExpr:P.R.focus,primary:9,secondary:[1033]}}))},95259:(tt,xe,t)=>{t.d(xe,{mR:()=>we,bn:()=>ue,QS:()=>ne});var a=t(10467),F=t(39679),w=t(86671),x=t(79624),C=t(66702),S=t(32417),b=t(89774),P=t(26713),D=t(47639),v=t(31212),_=t(90908),f=t(13632),d=t(73678),r=t(69995),l=t(41489),g=t(28868),p=t(84487),m=t(5643),T=t(99031),A=t(76698),k=t(81644),O=t(50168),N=t(56789),H=t(598),L=t(59002),j=t(36246),Z=t(16362),te=function(me,le,Ee,be){var Fe,Ce=arguments.length,Ne=Ce<3?le:null===be?be=Object.getOwnPropertyDescriptor(le,Ee):be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(me,le,Ee,be);else for(var qe=me.length-1;qe>=0;qe--)(Fe=me[qe])&&(Ne=(Ce<3?Fe(Ne):Ce>3?Fe(le,Ee,Ne):Fe(le,Ee))||Ne);return Ce>3&&Ne&&Object.defineProperty(le,Ee,Ne),Ne},X=function(me,le){return function(Ee,be){le(Ee,be,me)}};const U=new O.N1("hasSymbols",!1,(0,k.kg)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),q=(0,H.u1)("ISymbolNavigationService");let R=class{constructor(le,Ee,be,Ce){this._editorService=Ee,this._notificationService=be,this._keybindingService=Ce,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=U.bindTo(le)}reset(){var le,Ee;this._ctxHasSymbols.reset(),null===(le=this._currentState)||void 0===le||le.dispose(),null===(Ee=this._currentMessage)||void 0===Ee||Ee.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(le){const Ee=le.parent.parent;if(Ee.references.length<=1)return void this.reset();this._currentModel=Ee,this._currentIdx=Ee.references.indexOf(le),this._ctxHasSymbols.set(!0),this._showMessage();const be=new W(this._editorService),Ce=be.onDidChange(Ne=>{if(this._ignoreEditorChange)return;const Fe=this._editorService.getActiveCodeEditor();if(!Fe)return;const qe=Fe.getModel(),dt=Fe.getPosition();if(!qe||!dt)return;let vt=!1,fn=!1;for(const on of Ee.references)if((0,A.n4)(on.uri,qe.uri))vt=!0,fn=fn||d.Q.containsPosition(on.range,dt);else if(vt)break;(!vt||!fn)&&this.reset()});this._currentState=(0,T.qE)(be,Ce)}revealNext(le){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const Ee=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:Ee.uri,options:{selection:d.Q.collapseToStart(Ee.range),selectionRevealType:3}},le).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var le;null===(le=this._currentMessage)||void 0===le||le.dispose();const Ee=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),be=Ee?(0,k.kg)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,Ee.getLabel()):(0,k.kg)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(be)}};R=te([X(0,O.fN),X(1,v.T),X(2,Z.Ot),X(3,L.b)],R),(0,N.v)(q,R,1),(0,D.E_)(new class extends D.DX{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:U,kbOpts:{weight:100,primary:70}})}runEditorCommand(me,le){return me.get(q).revealNext(le)}}),j.f.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:U,primary:9,handler(me){me.get(q).reset()}});let W=class{constructor(le){this._listener=new Map,this._disposables=new T.Cm,this._onDidChange=new m.vl,this.onDidChange=this._onDidChange.event,this._disposables.add(le.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(le.onCodeEditorAdd(this._onDidAddEditor,this)),le.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,T.AS)(this._listener.values())}_onDidAddEditor(le){this._listener.set(le,(0,T.qE)(le.onDidChangeCursorPosition(Ee=>this._onDidChange.fire({editor:le})),le.onDidChangeModelContent(Ee=>this._onDidChange.fire({editor:le}))))}_onDidRemoveEditor(le){var Ee;null===(Ee=this._listener.get(le))||void 0===Ee||Ee.dispose(),this._listener.delete(le)}};W=te([X(0,v.T)],W);var se,ge,_e,ye,M,ce,Se,Ie,me,Y=t(22900),oe=t(13140),z=t(79134),G=t(51126),Q=t(47690),K=t(66801),ie=t(15307),ae=t(28481),de=t(81297);z.ZG.appendMenuItem(z.D8.EditorContext,{submenu:z.D8.EditorContextPeek,title:k.kg("peek.submenu","Peek"),group:"navigation",order:100});class ne{static is(le){return!(!le||"object"!=typeof le||!(le instanceof ne||f.y.isIPosition(le.position)&&le.model))}constructor(le,Ee){this.model=le,this.position=Ee}}class ue extends D.qO{static all(){return ue._allSymbolNavigationCommands.values()}static _patchConfig(le){const Ee={...le,f1:!0};if(Ee.menu)for(const be of ae.f.wrap(Ee.menu))(be.id===z.D8.EditorContext||be.id===z.D8.EditorContextPeek)&&(be.when=O.M$.and(le.precondition,be.when));return Ee}constructor(le,Ee){super(ue._patchConfig(Ee)),this.configuration=le,ue._allSymbolNavigationCommands.set(Ee.id,this)}runEditorCommand(le,Ee,be,Ce){var Ne=this;if(!Ee.hasModel())return Promise.resolve(void 0);const Fe=le.get(Z.Ot),qe=le.get(v.T),dt=le.get(Q.N8),vt=le.get(q),fn=le.get(ie.u),on=le.get(H._Y),ht=Ee.getModel(),Je=Ee.getPosition(),ot=ne.is(be)?be:new ne(ht,Je),De=new b.gI(Ee,5),Qe=(0,w.PK)(this._getLocationModel(fn,ot.model,ot.position,De.token),De.token).then(function(){var mt=(0,a.A)(function*(kt){var Ht;if(!kt||De.token.isCancellationRequested)return;let Ft;if((0,F.xE)(kt.ariaMessage),kt.referenceAt(ht.uri,Je)){const rt=Ne._getAlternativeCommand(Ee);!ue._activeAlternativeCommands.has(rt)&&ue._allSymbolNavigationCommands.has(rt)&&(Ft=ue._allSymbolNavigationCommands.get(rt))}const Bt=kt.references.length;if(0===Bt){if(!Ne.configuration.muteMessage){const rt=ht.getWordAtPosition(Je);null===(Ht=Y.k.get(Ee))||void 0===Ht||Ht.showMessage(Ne._getNoResultFoundMessage(rt),Je)}}else{if(1!==Bt||!Ft)return Ne._onResult(qe,vt,Ee,kt,Ce);ue._activeAlternativeCommands.add(Ne.desc.id),on.invokeFunction(rt=>Ft.runEditorCommand(rt,Ee,be,Ce).finally(()=>{ue._activeAlternativeCommands.delete(Ne.desc.id)}))}});return function(kt){return mt.apply(this,arguments)}}(),mt=>{Fe.error(mt)}).finally(()=>{De.dispose()});return dt.showWhile(Qe,250),Qe}_onResult(le,Ee,be,Ce,Ne){var Fe=this;return(0,a.A)(function*(){const qe=Fe._getGoToPreference(be);if(be instanceof _.t||!(Fe.configuration.openInPeek||"peek"===qe&&Ce.references.length>1)){const dt=Ce.firstReference(),vt=Ce.references.length>1&&"gotoAndPeek"===qe,fn=yield Fe._openReference(be,le,dt,Fe.configuration.openToSide,!vt);vt&&fn?Fe._openInPeek(fn,Ce,Ne):Ce.dispose(),"goto"===qe&&Ee.put(dt)}else Fe._openInPeek(be,Ce,Ne)})()}_openReference(le,Ee,be,Ce,Ne){return(0,a.A)(function*(){let Fe;if((0,l.Iu)(be)&&(Fe=be.targetSelectionRange),Fe||(Fe=be.range),!Fe)return;const qe=yield Ee.openCodeEditor({resource:be.uri,options:{selection:d.Q.collapseToStart(Fe),selectionRevealType:3,selectionSource:"code.jump"}},le,Ce);if(qe){if(Ne){const dt=qe.getModel(),vt=qe.createDecorationsCollection([{range:Fe,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{qe.getModel()===dt&&vt.clear()},350)}return qe}})()}_openInPeek(le,Ee,be){const Ce=g.X.get(le);Ce&&le.hasModel()?Ce.toggleWidget(be??le.getSelection(),(0,w.SS)(Ne=>Promise.resolve(Ee)),this.configuration.openInPeek):Ee.dispose()}}ue._allSymbolNavigationCommands=new Map,ue._activeAlternativeCommands=new Set;class we extends ue{_getLocationModel(le,Ee,be,Ce){return(0,a.A)(function*(){return new p.y4(yield(0,K.hE)(le.definitionProvider,Ee,be,Ce),k.kg("def.title","Definitions"))})()}_getNoResultFoundMessage(le){return le&&le.word?k.kg("noResultWord","No definition found for '{0}'",le.word):k.kg("generic.noResults","No definition found")}_getAlternativeCommand(le){return le.getOption(58).alternativeDefinitionCommand}_getGoToPreference(le){return le.getOption(58).multipleDefinitions}}(0,z.ug)(((se=class extends we{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:se.id,title:{...k.aS("actions.goToDecl.label","Go to Definition"),mnemonicTitle:k.kg({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:r.R.hasDefinitionProvider,keybinding:[{when:r.R.editorTextFocus,primary:70,weight:100},{when:O.M$.and(r.R.editorTextFocus,de.W0),primary:2118,weight:100}],menu:[{id:z.D8.EditorContext,group:"navigation",order:1.1},{id:z.D8.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),G.w.registerCommandAlias("editor.action.goToDeclaration",se.id)}}).id="editor.action.revealDefinition",se)),(0,z.ug)(((ge=class extends we{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:ge.id,title:k.aS("actions.goToDeclToSide.label","Open Definition to the Side"),precondition:O.M$.and(r.R.hasDefinitionProvider,r.R.isInEmbeddedEditor.toNegated()),keybinding:[{when:r.R.editorTextFocus,primary:(0,x.m5)(2089,70),weight:100},{when:O.M$.and(r.R.editorTextFocus,de.W0),primary:(0,x.m5)(2089,2118),weight:100}]}),G.w.registerCommandAlias("editor.action.openDeclarationToTheSide",ge.id)}}).id="editor.action.revealDefinitionAside",ge)),(0,z.ug)(((_e=class extends we{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:_e.id,title:k.aS("actions.previewDecl.label","Peek Definition"),precondition:O.M$.and(r.R.hasDefinitionProvider,oe.x2.notInPeekEditor,r.R.isInEmbeddedEditor.toNegated()),keybinding:{when:r.R.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:z.D8.EditorContextPeek,group:"peek",order:2}}),G.w.registerCommandAlias("editor.action.previewDeclaration",_e.id)}}).id="editor.action.peekDefinition",_e));class Me extends ue{_getLocationModel(le,Ee,be,Ce){return(0,a.A)(function*(){return new p.y4(yield(0,K.sv)(le.declarationProvider,Ee,be,Ce),k.kg("decl.title","Declarations"))})()}_getNoResultFoundMessage(le){return le&&le.word?k.kg("decl.noResultWord","No declaration found for '{0}'",le.word):k.kg("decl.generic.noResults","No declaration found")}_getAlternativeCommand(le){return le.getOption(58).alternativeDeclarationCommand}_getGoToPreference(le){return le.getOption(58).multipleDeclarations}}(0,z.ug)(((ye=class extends Me{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ye.id,title:{...k.aS("actions.goToDeclaration.label","Go to Declaration"),mnemonicTitle:k.kg({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:O.M$.and(r.R.hasDeclarationProvider,r.R.isInEmbeddedEditor.toNegated()),menu:[{id:z.D8.EditorContext,group:"navigation",order:1.3},{id:z.D8.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(le){return le&&le.word?k.kg("decl.noResultWord","No declaration found for '{0}'",le.word):k.kg("decl.generic.noResults","No declaration found")}}).id="editor.action.revealDeclaration",ye)),(0,z.ug)(class extends Me{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:k.aS("actions.peekDecl.label","Peek Declaration"),precondition:O.M$.and(r.R.hasDeclarationProvider,oe.x2.notInPeekEditor,r.R.isInEmbeddedEditor.toNegated()),menu:{id:z.D8.EditorContextPeek,group:"peek",order:3}})}});class Ve extends ue{_getLocationModel(le,Ee,be,Ce){return(0,a.A)(function*(){return new p.y4(yield(0,K.f9)(le.typeDefinitionProvider,Ee,be,Ce),k.kg("typedef.title","Type Definitions"))})()}_getNoResultFoundMessage(le){return le&&le.word?k.kg("goToTypeDefinition.noResultWord","No type definition found for '{0}'",le.word):k.kg("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(le){return le.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(le){return le.getOption(58).multipleTypeDefinitions}}(0,z.ug)(((M=class extends Ve{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:M.ID,title:{...k.aS("actions.goToTypeDefinition.label","Go to Type Definition"),mnemonicTitle:k.kg({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:r.R.hasTypeDefinitionProvider,keybinding:{when:r.R.editorTextFocus,primary:0,weight:100},menu:[{id:z.D8.EditorContext,group:"navigation",order:1.4},{id:z.D8.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}}).ID="editor.action.goToTypeDefinition",M)),(0,z.ug)(((ce=class extends Ve{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ce.ID,title:k.aS("actions.peekTypeDefinition.label","Peek Type Definition"),precondition:O.M$.and(r.R.hasTypeDefinitionProvider,oe.x2.notInPeekEditor,r.R.isInEmbeddedEditor.toNegated()),menu:{id:z.D8.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",ce));class $e extends ue{_getLocationModel(le,Ee,be,Ce){return(0,a.A)(function*(){return new p.y4(yield(0,K.eS)(le.implementationProvider,Ee,be,Ce),k.kg("impl.title","Implementations"))})()}_getNoResultFoundMessage(le){return le&&le.word?k.kg("goToImplementation.noResultWord","No implementation found for '{0}'",le.word):k.kg("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(le){return le.getOption(58).alternativeImplementationCommand}_getGoToPreference(le){return le.getOption(58).multipleImplementations}}(0,z.ug)(((Se=class extends $e{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Se.ID,title:{...k.aS("actions.goToImplementation.label","Go to Implementations"),mnemonicTitle:k.kg({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:r.R.hasImplementationProvider,keybinding:{when:r.R.editorTextFocus,primary:2118,weight:100},menu:[{id:z.D8.EditorContext,group:"navigation",order:1.45},{id:z.D8.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}}).ID="editor.action.goToImplementation",Se)),(0,z.ug)(((Ie=class extends $e{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Ie.ID,title:k.aS("actions.peekImplementation.label","Peek Implementations"),precondition:O.M$.and(r.R.hasImplementationProvider,oe.x2.notInPeekEditor,r.R.isInEmbeddedEditor.toNegated()),keybinding:{when:r.R.editorTextFocus,primary:3142,weight:100},menu:{id:z.D8.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",Ie));class it extends ue{_getNoResultFoundMessage(le){return le?k.kg("references.no","No references found for '{0}'",le.word):k.kg("references.noGeneric","No references found")}_getAlternativeCommand(le){return le.getOption(58).alternativeReferenceCommand}_getGoToPreference(le){return le.getOption(58).multipleReferences}}(0,z.ug)(class extends it{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{...k.aS("goToReferences.label","Go to References"),mnemonicTitle:k.kg({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:O.M$.and(r.R.hasReferenceProvider,oe.x2.notInPeekEditor,r.R.isInEmbeddedEditor.toNegated()),keybinding:{when:r.R.editorTextFocus,primary:1094,weight:100},menu:[{id:z.D8.EditorContext,group:"navigation",order:1.45},{id:z.D8.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(le,Ee,be,Ce){return(0,a.A)(function*(){return new p.y4(yield(0,K.NN)(le.referenceProvider,Ee,be,!0,Ce),k.kg("ref.title","References"))})()}}),(0,z.ug)(class extends it{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:k.aS("references.action.label","Peek References"),precondition:O.M$.and(r.R.hasReferenceProvider,oe.x2.notInPeekEditor,r.R.isInEmbeddedEditor.toNegated()),menu:{id:z.D8.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(le,Ee,be,Ce){return(0,a.A)(function*(){return new p.y4(yield(0,K.NN)(le.referenceProvider,Ee,be,!1,Ce),k.kg("ref.title","References"))})()}});class He extends ue{constructor(le,Ee,be){super(le,{id:"editor.action.goToLocation",title:k.aS("label.generic","Go to Any Symbol"),precondition:O.M$.and(oe.x2.notInPeekEditor,r.R.isInEmbeddedEditor.toNegated())}),this._references=Ee,this._gotoMultipleBehaviour=be}_getLocationModel(le,Ee,be,Ce){var Ne=this;return(0,a.A)(function*(){return new p.y4(Ne._references,k.kg("generic.title","Locations"))})()}_getNoResultFoundMessage(le){return le&&k.kg("generic.noResult","No results for '{0}'",le.word)||""}_getGoToPreference(le){var Ee;return null!==(Ee=this._gotoMultipleBehaviour)&&void 0!==Ee?Ee:le.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}G.w.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:S.r},{name:"position",description:"The position at which to start",constraint:f.y.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(me=(0,a.A)(function*(le,Ee,be,Ce,Ne,Fe,qe){(0,C.j)(S.r.isUri(Ee)),(0,C.j)(f.y.isIPosition(be)),(0,C.j)(Array.isArray(Ce)),(0,C.j)(typeof Ne>"u"||"string"==typeof Ne),(0,C.j)(typeof qe>"u"||"boolean"==typeof qe);const dt=le.get(v.T),vt=yield dt.openCodeEditor({resource:Ee},dt.getFocusedCodeEditor());if((0,P.z9)(vt))return vt.setPosition(be),vt.revealPositionInCenterIfOutsideViewport(be,0),vt.invokeWithinContext(fn=>{const on=new class extends He{_getNoResultFoundMessage(ht){return Fe||super._getNoResultFoundMessage(ht)}}({muteMessage:!Fe,openInPeek:!!qe,openToSide:!1},Ce,Ne);fn.get(H._Y).invokeFunction(on.run.bind(on),vt)})}),function(Ee,be,Ce,Ne,Fe,qe,dt){return me.apply(this,arguments)})}),G.w.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:S.r},{name:"position",description:"The position at which to start",constraint:f.y.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:function(){var me=(0,a.A)(function*(le,Ee,be,Ce,Ne){le.get(G.d).executeCommand("editor.action.goToLocations",Ee,be,Ce,Ne,void 0,!0)});return function(Ee,be,Ce,Ne,Fe){return me.apply(this,arguments)}}()}),G.w.registerCommand({id:"editor.action.findReferences",handler:(me,le,Ee)=>{(0,C.j)(S.r.isUri(le)),(0,C.j)(f.y.isIPosition(Ee));const be=me.get(ie.u),Ce=me.get(v.T);return Ce.openCodeEditor({resource:le},Ce.getFocusedCodeEditor()).then(Ne=>{if(!(0,P.z9)(Ne)||!Ne.hasModel())return;const Fe=g.X.get(Ne);if(!Fe)return;const qe=(0,w.SS)(vt=>(0,K.NN)(be.referenceProvider,Ne.getModel(),f.y.lift(Ee),!1,vt).then(fn=>new p.y4(fn,k.kg("ref.title","References")))),dt=new d.Q(Ee.lineNumber,Ee.column,Ee.lineNumber,Ee.column);return Promise.resolve(Fe.toggleWidget(dt,qe,!1))})}}),G.w.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")},66801:(tt,xe,t)=>{t.d(xe,{NN:()=>g,eS:()=>r,f9:()=>l,hE:()=>f,sv:()=>d});var a=t(10467),F=t(30833),w=t(21468),x=t(25680),C=t(75109),S=t(47639),b=t(15307),P=t(84487);function D(T,A){return A.uri.scheme===T.uri.scheme||!(0,C.fV)(A.uri,C.ny.walkThroughSnippet,C.ny.vscodeChatCodeBlock,C.ny.vscodeChatCodeCompareBlock,C.ny.vscodeCopilotBackingChatCodeBlock)}function v(T,A,k,O){return _.apply(this,arguments)}function _(){return(_=(0,a.A)(function*(T,A,k,O){const H=k.ordered(T).map(j=>Promise.resolve(O(j,T,A)).then(void 0,Z=>{(0,x.M_)(Z)})),L=yield Promise.all(H);return(0,F.Yc)(L.flat()).filter(j=>D(T,j))})).apply(this,arguments)}function f(T,A,k,O){return v(A,k,T,(N,H,L)=>N.provideDefinition(H,L,O))}function d(T,A,k,O){return v(A,k,T,(N,H,L)=>N.provideDeclaration(H,L,O))}function r(T,A,k,O){return v(A,k,T,(N,H,L)=>N.provideImplementation(H,L,O))}function l(T,A,k,O){return v(A,k,T,(N,H,L)=>N.provideTypeDefinition(H,L,O))}function g(T,A,k,O,N){return v(A,k,T,function(){var H=(0,a.A)(function*(L,j,Z){var te,X;const U=null===(te=yield L.provideReferences(j,Z,{includeDeclaration:!0},N))||void 0===te?void 0:te.filter(R=>D(j,R));if(!O||!U||2!==U.length)return U;const q=null===(X=yield L.provideReferences(j,Z,{includeDeclaration:!1},N))||void 0===X?void 0:X.filter(R=>D(j,R));return q&&1===q.length?q:U});return function(L,j,Z){return H.apply(this,arguments)}}())}function p(T){return m.apply(this,arguments)}function m(){return(m=(0,a.A)(function*(T){const A=yield T(),k=new P.y4(A,""),O=k.references.map(N=>N.link);return k.dispose(),O})).apply(this,arguments)}(0,S.ke)("_executeDefinitionProvider",(T,A,k)=>{const N=f(T.get(b.u).definitionProvider,A,k,w.XO.None);return p(()=>N)}),(0,S.ke)("_executeTypeDefinitionProvider",(T,A,k)=>{const N=l(T.get(b.u).typeDefinitionProvider,A,k,w.XO.None);return p(()=>N)}),(0,S.ke)("_executeDeclarationProvider",(T,A,k)=>{const N=d(T.get(b.u).declarationProvider,A,k,w.XO.None);return p(()=>N)}),(0,S.ke)("_executeReferenceProvider",(T,A,k)=>{const N=g(T.get(b.u).referenceProvider,A,k,!1,w.XO.None);return p(()=>N)}),(0,S.ke)("_executeImplementationProvider",(T,A,k)=>{const N=r(T.get(b.u).implementationProvider,A,k,w.XO.None);return p(()=>N)})},31006:(tt,xe,t)=>{t.d(xe,{gi:()=>D});var a=t(5643),F=t(99031),w=t(21828);function x(v,_){return!!v[_]}class C{constructor(_,f){this.target=_.target,this.isLeftClick=_.event.leftButton,this.isMiddleClick=_.event.middleButton,this.isRightClick=_.event.rightButton,this.hasTriggerModifier=x(_.event,f.triggerModifier),this.hasSideBySideModifier=x(_.event,f.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=_.event.detail<=1}}class S{constructor(_,f){this.keyCodeIsTriggerKey=_.keyCode===f.triggerKey,this.keyCodeIsSideBySideKey=_.keyCode===f.triggerSideBySideKey,this.hasTriggerModifier=x(_,f.triggerModifier)}}class b{constructor(_,f,d,r){this.triggerKey=_,this.triggerModifier=f,this.triggerSideBySideKey=d,this.triggerSideBySideModifier=r}equals(_){return this.triggerKey===_.triggerKey&&this.triggerModifier===_.triggerModifier&&this.triggerSideBySideKey===_.triggerSideBySideKey&&this.triggerSideBySideModifier===_.triggerSideBySideModifier}}function P(v){return"altKey"===v?w.zx?new b(57,"metaKey",6,"altKey"):new b(5,"ctrlKey",6,"altKey"):w.zx?new b(6,"altKey",57,"metaKey"):new b(6,"altKey",5,"ctrlKey")}class D extends F.jG{constructor(_,f){var d;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new a.vl),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new a.vl),this.onExecute=this._onExecute.event,this._onCancel=this._register(new a.vl),this.onCancel=this._onCancel.event,this._editor=_,this._extractLineNumberFromMouseEvent=null!==(d=f?.extractLineNumberFromMouseEvent)&&void 0!==d?d:r=>r.target.position?r.target.position.lineNumber:0,this._opts=P(this._editor.getOption(78)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(r=>{if(r.hasChanged(78)){const l=P(this._editor.getOption(78));if(this._opts.equals(l))return;this._opts=l,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(r=>this._onEditorMouseMove(new C(r,this._opts)))),this._register(this._editor.onMouseDown(r=>this._onEditorMouseDown(new C(r,this._opts)))),this._register(this._editor.onMouseUp(r=>this._onEditorMouseUp(new C(r,this._opts)))),this._register(this._editor.onKeyDown(r=>this._onEditorKeyDown(new S(r,this._opts)))),this._register(this._editor.onKeyUp(r=>this._onEditorKeyUp(new S(r,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(r=>this._onDidChangeCursorSelection(r))),this._register(this._editor.onDidChangeModel(r=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(r=>{(r.scrollTopChanged||r.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(_){_.selection&&_.selection.startColumn!==_.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(_){this._lastMouseMoveEvent=_,this._onMouseMoveOrRelevantKeyDown.fire([_,null])}_onEditorMouseDown(_){this._hasTriggerKeyOnMouseDown=_.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(_)}_onEditorMouseUp(_){const f=this._extractLineNumberFromMouseEvent(_);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===f&&this._onExecute.fire(_)}_onEditorKeyDown(_){this._lastMouseMoveEvent&&(_.keyCodeIsTriggerKey||_.keyCodeIsSideBySideKey&&_.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,_]):_.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(_){_.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},34672:(tt,xe,t)=>{t.d(xe,{k:()=>Q});var a=t(10467),F=t(86671),w=t(25680),x=t(13225),C=t(99031),S=t(85072),b=t.n(S),P=t(97825),D=t.n(P),v=t(77659),_=t.n(v),f=t(55056),d=t.n(f),r=t(10540),l=t.n(r),g=t(41113),p=t.n(g),m=t(31503),T={};T.styleTagTransform=p(),T.setAttributes=d(),T.insert=_().bind(null,"head"),T.domAPI=D(),T.insertStyleElement=l(),b()(m.A,T);var G,O=t(89774),N=t(47639),H=t(73678),L=t(385),j=t(35425),Z=t(31006),te=t(13140),X=t(81644),U=t(50168),q=t(95259),R=t(66801),W=t(15307),Y=t(80753),z=function(K,ie){return function(ae,de){ie(ae,de,K)}};let Q=G=class{constructor(ie,ae,de,se){this.textModelResolverService=ae,this.languageService=de,this.languageFeaturesService=se,this.toUnhook=new C.Cm,this.toUnhookForKeyboard=new C.Cm,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=ie,this.linkDecorations=this.editor.createDecorationsCollection();const ge=new Z.gi(ie);this.toUnhook.add(ge),this.toUnhook.add(ge.onMouseMoveOrRelevantKeyDown(([_e,ye])=>{this.startFindDefinitionFromMouse(_e,ye??void 0)})),this.toUnhook.add(ge.onExecute(_e=>{this.isEnabled(_e)&&this.gotoDefinition(_e.target.position,_e.hasSideBySideModifier).catch(ye=>{(0,w.dz)(ye)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(ge.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(ie){return ie.getContribution(G.ID)}startFindDefinitionFromCursor(ie){var ae=this;return(0,a.A)(function*(){yield ae.startFindDefinition(ie),ae.toUnhookForKeyboard.add(ae.editor.onDidChangeCursorPosition(()=>{ae.currentWordAtPosition=null,ae.removeLinkDecorations(),ae.toUnhookForKeyboard.clear()})),ae.toUnhookForKeyboard.add(ae.editor.onKeyDown(de=>{de&&(ae.currentWordAtPosition=null,ae.removeLinkDecorations(),ae.toUnhookForKeyboard.clear())}))})()}startFindDefinitionFromMouse(ie,ae){if(!(9===ie.target.type&&this.linkDecorations.length>0))return this.editor.hasModel()&&this.isEnabled(ie,ae)?void this.startFindDefinition(ie.target.position):(this.currentWordAtPosition=null,void this.removeLinkDecorations())}startFindDefinition(ie){var ae=this;return(0,a.A)(function*(){var de;ae.toUnhookForKeyboard.clear();const se=ie?null===(de=ae.editor.getModel())||void 0===de?void 0:de.getWordAtPosition(ie):null;if(!se)return ae.currentWordAtPosition=null,void ae.removeLinkDecorations();if(ae.currentWordAtPosition&&ae.currentWordAtPosition.startColumn===se.startColumn&&ae.currentWordAtPosition.endColumn===se.endColumn&&ae.currentWordAtPosition.word===se.word)return;ae.currentWordAtPosition=se;const ge=new O.$t(ae.editor,15);let _e;ae.previousPromise&&(ae.previousPromise.cancel(),ae.previousPromise=null),ae.previousPromise=(0,F.SS)(M=>ae.findDefinition(ie,M));try{_e=yield ae.previousPromise}catch(M){return void(0,w.dz)(M)}if(!_e||!_e.length||!ge.validate(ae.editor))return void ae.removeLinkDecorations();const ye=_e[0].originSelectionRange?H.Q.lift(_e[0].originSelectionRange):new H.Q(ie.lineNumber,se.startColumn,ie.lineNumber,se.endColumn);if(_e.length>1){let M=ye;for(const{originSelectionRange:ce}of _e)ce&&(M=H.Q.plusRange(M,ce));ae.addDecoration(M,(new x.Bc).appendText(X.kg("multipleResults","Click to show {0} definitions.",_e.length)))}else{const M=_e[0];if(!M.uri)return;ae.textModelResolverService.createModelReference(M.uri).then(ce=>{if(!ce.object||!ce.object.textEditorModel)return void ce.dispose();const{object:{textEditorModel:Se}}=ce,{startLineNumber:Ie}=M.range;if(Ie<1||Ie>Se.getLineCount())return void ce.dispose();const ne=ae.getPreviewValue(Se,Ie,M),ue=ae.languageService.guessLanguageIdByFilepathOrFirstLine(Se.uri);ae.addDecoration(ye,ne?(new x.Bc).appendCodeblock(ue||"",ne):void 0),ce.dispose()})}})()}getPreviewValue(ie,ae,de){let se=de.range;return se.endLineNumber-se.startLineNumber>=G.MAX_SOURCE_PREVIEW_LINES&&(se=this.getPreviewRangeBasedOnIndentation(ie,ae)),this.stripIndentationFromPreviewRange(ie,ae,se)}stripIndentationFromPreviewRange(ie,ae,de){let ge=ie.getLineFirstNonWhitespaceColumn(ae);for(let ye=ae+1;ye<de.endLineNumber;ye++){const M=ie.getLineFirstNonWhitespaceColumn(ye);ge=Math.min(ge,M)}return ie.getValueInRange(de).replace(new RegExp(`^\\s{${ge-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(ie,ae){const de=ie.getLineFirstNonWhitespaceColumn(ae),se=Math.min(ie.getLineCount(),ae+G.MAX_SOURCE_PREVIEW_LINES);let ge=ae+1;for(;ge<se&&de!==ie.getLineFirstNonWhitespaceColumn(ge);ge++);return new H.Q(ae,1,ge+1,1)}addDecoration(ie,ae){this.linkDecorations.set([{range:ie,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:ae}}])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(ie,ae){var de;return this.editor.hasModel()&&ie.isLeftClick&&ie.isNoneOrSingleMouseDown&&6===ie.target.type&&!((null===(de=ie.target.detail.injectedText)||void 0===de?void 0:de.options)instanceof Y.Ho)&&(ie.hasTriggerModifier||!!ae&&ae.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(ie,ae){const de=this.editor.getModel();return de?(0,R.hE)(this.languageFeaturesService.definitionProvider,de,ie,ae):Promise.resolve(null)}gotoDefinition(ie,ae){return this.editor.setPosition(ie),this.editor.invokeWithinContext(de=>{const se=!ae&&this.editor.getOption(88)&&!this.isInPeekEditor(de);return new q.mR({openToSide:ae,openInPeek:se,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(de)})}isInPeekEditor(ie){const ae=ie.get(U.fN);return te.x2.inPeekEditor.getValue(ae)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};Q.ID="editor.contrib.gotodefinitionatposition",Q.MAX_SOURCE_PREVIEW_LINES=8,Q=G=function(K,ie,ae,de){var _e,se=arguments.length,ge=se<3?ie:null===de?de=Object.getOwnPropertyDescriptor(ie,ae):de;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ge=Reflect.decorate(K,ie,ae,de);else for(var ye=K.length-1;ye>=0;ye--)(_e=K[ye])&&(ge=(se<3?_e(ge):se>3?_e(ie,ae,ge):_e(ie,ae))||ge);return se>3&&ge&&Object.defineProperty(ie,ae,ge),ge}([z(1,j.b),z(2,L.L),z(3,W.u)],Q),(0,N.HW)(Q.ID,Q,2)},28868:(tt,xe,t)=>{t.d(xe,{X:()=>rt});var a=t(10467),F=t(86671),w=t(25680),x=t(79624),C=t(99031),S=t(31212),b=t(13632),P=t(73678),D=t(13140),v=t(81644),_=t(51126),f=t(35072),d=t(50168),r=t(598),l=t(36246),g=t(78153),p=t(16362),m=t(16815),T=t(84487),A=t(91874),k=t(72683),O=t(84072),N=t(5643),H=t(75109),L=t(76698),j=t(85072),Z=t.n(j),te=t(97825),X=t.n(te),U=t(77659),q=t.n(U),R=t(55056),W=t.n(R),Y=t(10540),oe=t.n(Y),z=t(41113),G=t.n(z),Q=t(26378),K={};K.styleTagTransform=G(),K.setAttributes=W(),K.insert=q().bind(null,"head"),K.domAPI=X(),K.insertStyleElement=oe(),Z()(Q.A,K);var it,de=t(90908),se=t(80753),ge=t(70416),_e=t(37864),ye=t(385),M=t(35425),ce=t(6596),Se=t(16218),Ie=t(31297),ne=t(28467),ue=t(59002),we=t(7964),Me=t(41525),Ve=function(St,ke,Ze,Ye){var ft,st=arguments.length,Ke=st<3?ke:null===Ye?Ye=Object.getOwnPropertyDescriptor(ke,Ze):Ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(St,ke,Ze,Ye);else for(var wt=St.length-1;wt>=0;wt--)(ft=St[wt])&&(Ke=(st<3?ft(Ke):st>3?ft(ke,Ze,Ke):ft(ke,Ze))||Ke);return st>3&&Ke&&Object.defineProperty(ke,Ze,Ke),Ke},$e=function(St,ke){return function(Ze,Ye){ke(Ze,Ye,St)}};let He=class{constructor(ke){this._resolverService=ke}hasChildren(ke){return ke instanceof T.y4||ke instanceof T.$L}getChildren(ke){if(ke instanceof T.y4)return ke.groups;if(ke instanceof T.$L)return ke.resolve(this._resolverService).then(Ze=>Ze.children);throw new Error("bad tree")}};He=Ve([$e(0,M.b)],He);class me{getHeight(){return 23}getTemplateId(ke){return ke instanceof T.$L?Ce.id:Fe.id}}let le=class{constructor(ke){this._keybindingService=ke}getKeyboardNavigationLabel(ke){var Ze;if(ke instanceof T.yc){const Ye=null===(Ze=ke.parent.getPreview(ke))||void 0===Ze?void 0:Ze.preview(ke.range);if(Ye)return Ye.value}return(0,L.P8)(ke.uri)}};le=Ve([$e(0,ue.b)],le);class Ee{getId(ke){return ke instanceof T.yc?ke.id:ke.uri}}let be=class extends C.jG{constructor(ke,Ze){super(),this._labelService=Ze;const Ye=document.createElement("div");Ye.classList.add("reference-file"),this.file=this._register(new Ie.s(Ye,{supportHighlights:!0})),this.badge=new ce.x(A.BC(Ye,A.$(".count")),{},Me.m$),ke.appendChild(Ye)}set(ke,Ze){const Ye=(0,L.pD)(ke.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(ke.uri),this._labelService.getUriLabel(Ye,{relative:!0}),{title:this._labelService.getUriLabel(ke.uri),matches:Ze});const st=ke.children.length;this.badge.setCount(st),this.badge.setTitleFormat(st>1?(0,v.kg)("referencesCount","{0} references",st):(0,v.kg)("referenceCount","{0} reference",st))}};be=Ve([$e(1,we.L)],be);let Ce=it=class{constructor(ke){this._instantiationService=ke,this.templateId=it.id}renderTemplate(ke){return this._instantiationService.createInstance(be,ke)}renderElement(ke,Ze,Ye){Ye.set(ke.element,(0,ne.WJ)(ke.filterData))}disposeTemplate(ke){ke.dispose()}};Ce.id="FileReferencesRenderer",Ce=it=Ve([$e(0,r._Y)],Ce);class Ne extends C.jG{constructor(ke){super(),this.label=this._register(new Se._(ke))}set(ke,Ze){var Ye;const st=null===(Ye=ke.parent.getPreview(ke))||void 0===Ye?void 0:Ye.preview(ke.range);if(st&&st.value){const{value:Ke,highlight:ft}=st;Ze&&!ne.ne.isDefault(Ze)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(Ke,(0,ne.WJ)(Ze))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(Ke,[ft]))}else this.label.set(`${(0,L.P8)(ke.uri)}:${ke.range.startLineNumber+1}:${ke.range.startColumn+1}`)}}let Fe=(()=>{class St{constructor(){this.templateId=St.id}renderTemplate(Ze){return new Ne(Ze)}renderElement(Ze,Ye,st){st.set(Ze.element,Ze.filterData)}disposeTemplate(Ze){Ze.dispose()}}return St.id="OneReferenceRenderer",St})();class qe{getWidgetAriaLabel(){return(0,v.kg)("treeAriaLabel","References")}getAriaLabel(ke){return ke.ariaMessage}}var dt=t(48187),vt=t(88270),on=function(St,ke){return function(Ze,Ye){ke(Ze,Ye,St)}};class ht{constructor(ke,Ze){this._editor=ke,this._model=Ze,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new C.Cm,this._callOnModelChange=new C.Cm,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const ke=this._editor.getModel();if(ke)for(const Ze of this._model.references)if(Ze.uri.toString()===ke.uri.toString())return void this._addDecorations(Ze.parent)}_addDecorations(ke){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const Ze=[],Ye=[];for(let st=0,Ke=ke.children.length;st<Ke;st++){const ft=ke.children[st];this._decorationIgnoreSet.has(ft.id)||ft.uri.toString()===this._editor.getModel().uri.toString()&&(Ze.push({range:ft.range,options:ht.DecorationOptions}),Ye.push(st))}this._editor.changeDecorations(st=>{const Ke=st.deltaDecorations([],Ze);for(let ft=0;ft<Ke.length;ft++)this._decorations.set(Ke[ft],ke.children[Ye[ft]])})}_onDecorationChanged(){const ke=[],Ze=this._editor.getModel();if(Ze){for(const[Ye,st]of this._decorations){const Ke=Ze.getDecorationRange(Ye);if(!Ke)continue;let ft=!1;P.Q.equalsRange(Ke,st.range)||((P.Q.spansMultipleLines(Ke)||st.range.endColumn-st.range.startColumn!=Ke.endColumn-Ke.startColumn)&&(ft=!0),ft?(this._decorationIgnoreSet.add(st.id),ke.push(Ye)):st.range=Ke)}for(let Ye=0,st=ke.length;Ye<st;Ye++)this._decorations.delete(ke[Ye]);this._editor.removeDecorations(ke)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}ht.DecorationOptions=se.kI.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class Je{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(ke){let Ze,Ye;try{const st=JSON.parse(ke);Ze=st.ratio,Ye=st.heightInLines}catch{}return{ratio:Ze||.7,heightInLines:Ye||18}}}class ot extends g.er{}let De=class extends D.j6{constructor(ke,Ze,Ye,st,Ke,ft,wt,qt,Yt,en,an,lt){super(ke,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},ft),this._defaultTreeKeyboardSupport=Ze,this.layoutData=Ye,this._textModelResolverService=Ke,this._instantiationService=ft,this._peekViewService=wt,this._uriLabel=qt,this._undoRedoService=Yt,this._keybindingService=en,this._languageService=an,this._languageConfigurationService=lt,this._disposeOnNewModel=new C.Cm,this._callOnDispose=new C.Cm,this._onDidSelectReference=new N.vl,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new A.fg(0,0),this._applyTheme(st.getColorTheme()),this._callOnDispose.add(st.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(ke,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,C.AS)(this._preview),(0,C.AS)(this._previewNotAvailableMessage),(0,C.AS)(this._tree),(0,C.AS)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(ke){const Ze=ke.getColor(D.zl)||O.Q1.transparent;this.style({arrowColor:Ze,frameColor:Ze,headerBackgroundColor:ke.getColor(D.z0)||O.Q1.transparent,primaryHeadingColor:ke.getColor(D._X),secondaryHeadingColor:ke.getColor(D.e3)})}show(ke){super.show(ke,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(ke){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:ke.ctrlKey||ke.metaKey||ke.altKey?"side":"open",source:"title"})}_fillBody(ke){this.setCssClass("reference-zone-widget"),this._messageContainer=A.BC(ke,A.$("div.messages")),A.jD(this._messageContainer),this._splitView=new k.U(ke,{orientation:1}),this._previewContainer=A.BC(ke,A.$("div.preview.inline")),this._preview=this._instantiationService.createInstance(de.t,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},{},this.editor),A.jD(this._previewContainer),this._previewNotAvailableMessage=new se.Bz(v.kg("missingPreviewMessage","no preview available"),_e.vH,se.Bz.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=A.BC(ke,A.$("div.ref-tree.inline"));const Ye={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new qe,keyboardNavigationLabelProvider:this._instantiationService.createInstance(le),identityProvider:new Ee,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:D.n6}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(A.b2(this._treeContainer,"keydown",Ke=>{Ke.equals(9)&&(this._keybindingService.dispatchEvent(Ke,Ke.target),Ke.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(ot,"ReferencesWidget",this._treeContainer,new me,[this._instantiationService.createInstance(Ce),this._instantiationService.createInstance(Fe)],this._instantiationService.createInstance(He),Ye),this._splitView.addView({onDidChange:N.Jh.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:Ke=>{this._preview.layout({height:this._dim.height,width:Ke})}},k.X.Distribute),this._splitView.addView({onDidChange:N.Jh.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:Ke=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${Ke}px`,this._tree.layout(this._dim.height,Ke)}},k.X.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const st=(Ke,ft)=>{Ke instanceof T.yc&&("show"===ft&&this._revealReference(Ke,!1),this._onDidSelectReference.fire({element:Ke,kind:ft,source:"tree"}))};this._tree.onDidOpen(Ke=>{st(Ke.element,Ke.sideBySide?"side":Ke.editorOptions.pinned?"goto":"show")}),A.jD(this._treeContainer)}_onWidth(ke){this._dim&&this._doLayoutBody(this._dim.height,ke)}_doLayoutBody(ke,Ze){super._doLayoutBody(ke,Ze),this._dim=new A.fg(Ze,ke),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(Ze),this._splitView.resizeView(0,Ze*this.layoutData.ratio)}setSelection(ke){return this._revealReference(ke,!0).then(()=>{this._model&&(this._tree.setSelection([ke]),this._tree.setFocus([ke]))})}setModel(ke){return this._disposeOnNewModel.clear(),this._model=ke,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=v.kg("noResults","No results"),A.WU(this._messageContainer),Promise.resolve(void 0)):(A.jD(this._messageContainer),this._decorationsManager=new ht(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(ke=>this._tree.rerender(ke))),this._disposeOnNewModel.add(this._preview.onMouseDown(ke=>{const{event:Ze,target:Ye}=ke;if(2!==Ze.detail)return;const st=this._getFocusedReference();st&&this._onDidSelectReference.fire({element:{uri:st.uri,range:Ye.range},kind:Ze.ctrlKey||Ze.metaKey||Ze.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),A.WU(this._treeContainer),A.WU(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[ke]=this._tree.getFocus();return ke instanceof T.yc?ke:ke instanceof T.$L&&ke.children.length>0?ke.children[0]:void 0}revealReference(ke){var Ze=this;return(0,a.A)(function*(){yield Ze._revealReference(ke,!1),Ze._onDidSelectReference.fire({element:ke,kind:"goto",source:"tree"})})()}_revealReference(ke,Ze){var Ye=this;return(0,a.A)(function*(){if(Ye._revealedReference===ke)return;Ye._revealedReference=ke,ke.uri.scheme!==H.ny.inMemory?Ye.setTitle((0,L.Pi)(ke.uri),Ye._uriLabel.getUriLabel((0,L.pD)(ke.uri))):Ye.setTitle(v.kg("peekView.alternateTitle","References"));const st=Ye._textModelResolverService.createModelReference(ke.uri);Ye._tree.getInput()===ke.parent||(Ze&&Ye._tree.reveal(ke.parent),yield Ye._tree.expand(ke.parent)),Ye._tree.reveal(ke);const Ke=yield st;if(!Ye._model)return void Ke.dispose();(0,C.AS)(Ye._previewModelReference);const ft=Ke.object;if(ft){const wt=Ye._preview.getModel()===ft.textEditorModel?0:1,qt=P.Q.lift(ke.range).collapseToStart();Ye._previewModelReference=Ke,Ye._preview.setModel(ft.textEditorModel),Ye._preview.setSelection(qt),Ye._preview.revealRangeInCenter(qt,wt)}else Ye._preview.setModel(Ye._previewNotAvailableMessage),Ke.dispose()})()}};De=function(St,ke,Ze,Ye){var ft,st=arguments.length,Ke=st<3?ke:null===Ye?Ye=Object.getOwnPropertyDescriptor(ke,Ze):Ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(St,ke,Ze,Ye);else for(var wt=St.length-1;wt>=0;wt--)(ft=St[wt])&&(Ke=(st<3?ft(Ke):st>3?ft(ke,Ze,Ke):ft(ke,Ze))||Ke);return st>3&&Ke&&Object.defineProperty(ke,Ze,Ke),Ke}([on(3,dt.Gy),on(4,M.b),on(5,r._Y),on(6,D.zn),on(7,we.L),on(8,vt.$D),on(9,ue.b),on(10,ye.L),on(11,ge.JZ)],De);var Ft,Qe=t(69995),mt=t(81297),Ht=function(St,ke){return function(Ze,Ye){ke(Ze,Ye,St)}};const Bt=new d.N1("referenceSearchVisible",!1,v.kg("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let rt=Ft=class{static get(ke){return ke.getContribution(Ft.ID)}constructor(ke,Ze,Ye,st,Ke,ft,wt,qt){this._defaultTreeKeyboardSupport=ke,this._editor=Ze,this._editorService=st,this._notificationService=Ke,this._instantiationService=ft,this._storageService=wt,this._configurationService=qt,this._disposables=new C.Cm,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Bt.bindTo(Ye)}dispose(){var ke,Ze;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(ke=this._widget)||void 0===ke||ke.dispose(),null===(Ze=this._model)||void 0===Ze||Ze.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(ke,Ze,Ye){let st;if(this._widget&&(st=this._widget.position),this.closeWidget(),st&&ke.containsPosition(st))return;this._peekMode=Ye,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const Ke="peekViewLayout",ft=Je.fromJSON(this._storageService.get(Ke,0,"{}"));this._widget=this._instantiationService.createInstance(De,this._editor,this._defaultTreeKeyboardSupport,ft),this._widget.setTitle(v.kg("labelLoading","Loading...")),this._widget.show(ke),this._disposables.add(this._widget.onDidClose(()=>{Ze.cancel(),this._widget&&(this._storageService.store(Ke,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(qt=>{const{element:Yt,kind:en}=qt;if(Yt)switch(en){case"open":("editor"!==qt.source||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(Yt,!1,!1);break;case"side":this.openReference(Yt,!0,!1);break;case"goto":Ye?this._gotoReference(Yt,!0):this.openReference(Yt,!1,!0)}}));const wt=++this._requestIdPool;Ze.then(qt=>{var Yt;if(wt===this._requestIdPool&&this._widget)return null===(Yt=this._model)||void 0===Yt||Yt.dispose(),this._model=qt,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._widget.setMetaTitle(this._model.isEmpty?"":v.kg("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const en=this._editor.getModel().uri,an=new b.y(ke.startLineNumber,ke.startColumn),lt=this._model.nearestReference(en,an);if(lt)return this._widget.setSelection(lt).then(()=>{this._widget&&"editor"===this._editor.getOption(87)&&this._widget.focusOnPreviewEditor()})}});qt.dispose()},qt=>{this._notificationService.error(qt)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(ke){var Ze=this;return(0,a.A)(function*(){if(!Ze._editor.hasModel()||!Ze._model||!Ze._widget)return;const Ye=Ze._widget.position;if(!Ye)return;const st=Ze._model.nearestReference(Ze._editor.getModel().uri,Ye);if(!st)return;const Ke=Ze._model.nextOrPreviousReference(st,ke),ft=Ze._editor.hasTextFocus(),wt=Ze._widget.isPreviewEditorFocused();yield Ze._widget.setSelection(Ke),yield Ze._gotoReference(Ke,!1),ft?Ze._editor.focus():Ze._widget&&wt&&Ze._widget.focusOnPreviewEditor()})()}revealReference(ke){var Ze=this;return(0,a.A)(function*(){!Ze._editor.hasModel()||!Ze._model||!Ze._widget||(yield Ze._widget.revealReference(ke))})()}closeWidget(ke=!0){var Ze,Ye;null===(Ze=this._widget)||void 0===Ze||Ze.dispose(),null===(Ye=this._model)||void 0===Ye||Ye.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,ke&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(ke,Ze){var Ye;null===(Ye=this._widget)||void 0===Ye||Ye.hide(),this._ignoreModelChangeEvent=!0;const st=P.Q.lift(ke.range).collapseToStart();return this._editorService.openCodeEditor({resource:ke.uri,options:{selection:st,selectionSource:"code.jump",pinned:Ze}},this._editor).then(Ke=>{var ft;if(this._ignoreModelChangeEvent=!1,Ke&&this._widget)if(this._editor===Ke)this._widget.show(st),this._widget.focusOnReferenceTree();else{const wt=Ft.get(Ke),qt=this._model.clone();this.closeWidget(),Ke.focus(),wt?.toggleWidget(st,(0,F.SS)(Yt=>Promise.resolve(qt)),null!==(ft=this._peekMode)&&void 0!==ft&&ft)}else this.closeWidget()},Ke=>{this._ignoreModelChangeEvent=!1,(0,w.dz)(Ke)})}openReference(ke,Ze,Ye){Ze||this.closeWidget();const{uri:st,range:Ke}=ke;this._editorService.openCodeEditor({resource:st,options:{selection:Ke,selectionSource:"code.jump",pinned:Ye}},this._editor,Ze)}};function Ut(St,ke){const Ze=(0,D.RL)(St);if(!Ze)return;const Ye=rt.get(Ze);Ye&&ke(Ye)}rt.ID="editor.contrib.referencesController",rt=Ft=function(St,ke,Ze,Ye){var ft,st=arguments.length,Ke=st<3?ke:null===Ye?Ye=Object.getOwnPropertyDescriptor(ke,Ze):Ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(St,ke,Ze,Ye);else for(var wt=St.length-1;wt>=0;wt--)(ft=St[wt])&&(Ke=(st<3?ft(Ke):st>3?ft(ke,Ze,Ke):ft(ke,Ze))||Ke);return st>3&&Ke&&Object.defineProperty(ke,Ze,Ke),Ke}([Ht(2,d.fN),Ht(3,S.T),Ht(4,p.Ot),Ht(5,r._Y),Ht(6,m.CS),Ht(7,f.pG)],rt),l.f.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,x.m5)(2089,60),when:d.M$.or(Bt,D.x2.inPeekEditor),handler(St){Ut(St,ke=>{ke.changeFocusBetweenPreviewAndReferences()})}}),l.f.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:d.M$.or(Bt,D.x2.inPeekEditor),handler(St){Ut(St,ke=>{ke.goToNextOrPreviousReference(!0)})}}),l.f.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:d.M$.or(Bt,D.x2.inPeekEditor),handler(St){Ut(St,ke=>{ke.goToNextOrPreviousReference(!1)})}}),_.w.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),_.w.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),_.w.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),_.w.registerCommand("closeReferenceSearch",St=>Ut(St,ke=>ke.closeWidget())),l.f.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:d.M$.and(D.x2.inPeekEditor,d.M$.not("config.editor.stablePeek"))}),l.f.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:d.M$.and(Bt,d.M$.not("config.editor.stablePeek"),d.M$.or(Qe.R.editorTextFocus,mt.J7.negate()))}),l.f.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:d.M$.and(Bt,g.YD,g.Nf.negate(),g.cH.negate()),handler(St){var ke;const Ye=null===(ke=St.get(g.PE).lastFocusedList)||void 0===ke?void 0:ke.getFocus();Array.isArray(Ye)&&Ye[0]instanceof T.yc&&Ut(St,st=>st.revealReference(Ye[0]))}}),l.f.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:d.M$.and(Bt,g.YD,g.Nf.negate(),g.cH.negate()),handler(St){var ke;const Ye=null===(ke=St.get(g.PE).lastFocusedList)||void 0===ke?void 0:ke.getFocus();Array.isArray(Ye)&&Ye[0]instanceof T.yc&&Ut(St,st=>st.openReference(Ye[0],!0,!0))}}),_.w.registerCommand("openReference",St=>{var ke;const Ye=null===(ke=St.get(g.PE).lastFocusedList)||void 0===ke?void 0:ke.getFocus();Array.isArray(Ye)&&Ye[0]instanceof T.yc&&Ut(St,st=>st.openReference(Ye[0],!1,!0))})},84487:(tt,xe,t)=>{t.d(xe,{$L:()=>d,y4:()=>r,yc:()=>_});var a=t(10467),F=t(25680),w=t(5643),x=t(65441),C=t(99031),S=t(20053),b=t(76698),P=t(6653),D=t(73678),v=t(81644);class _{constructor(g,p,m,T){this.isProviderFirst=g,this.parent=p,this.link=m,this._rangeCallback=T,this.id=x.r.nextId()}get uri(){return this.link.uri}get range(){var g,p;return null!==(p=null!==(g=this._range)&&void 0!==g?g:this.link.targetSelectionRange)&&void 0!==p?p:this.link.range}set range(g){this._range=g,this._rangeCallback(this)}get ariaMessage(){var g;const p=null===(g=this.parent.getPreview(this))||void 0===g?void 0:g.preview(this.range);return p?(0,v.kg)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",p.value,(0,b.P8)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,v.kg)("aria.oneReference","in {0} on line {1} at column {2}",(0,b.P8)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class f{constructor(g){this._modelReference=g}dispose(){this._modelReference.dispose()}preview(g,p=8){const m=this._modelReference.object.textEditorModel;if(!m)return;const{startLineNumber:T,startColumn:A,endLineNumber:k,endColumn:O}=g,N=m.getWordUntilPosition({lineNumber:T,column:A-p}),H=new D.Q(T,N.startColumn,T,A),L=new D.Q(k,O,k,1073741824),j=m.getValueInRange(H).replace(/^\s+/,""),Z=m.getValueInRange(g);return{value:j+Z+m.getValueInRange(L).replace(/\s+$/,""),highlight:{start:j.length,end:j.length+Z.length}}}}class d{constructor(g,p){this.parent=g,this.uri=p,this.children=[],this._previews=new S.fT}dispose(){(0,C.AS)(this._previews.values()),this._previews.clear()}getPreview(g){return this._previews.get(g.uri)}get ariaMessage(){const g=this.children.length;return 1===g?(0,v.kg)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,b.P8)(this.uri),this.uri.fsPath):(0,v.kg)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",g,(0,b.P8)(this.uri),this.uri.fsPath)}resolve(g){var p=this;return(0,a.A)(function*(){if(0!==p._previews.size)return p;for(const m of p.children)if(!p._previews.has(m.uri))try{const T=yield g.createModelReference(m.uri);p._previews.set(m.uri,new f(T))}catch(T){(0,F.dz)(T)}return p})()}}class r{constructor(g,p){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new w.vl,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=g,this._title=p;const[m]=g;let T;g.sort(r._compareReferences);for(const A of g)if((!T||!b.er.isEqual(T.uri,A.uri,!0))&&(T=new d(this,A.uri),this.groups.push(T)),0===T.children.length||0!==r._compareReferences(A,T.children[T.children.length-1])){const k=new _(m===A,T,A,O=>this._onDidChangeReferenceRange.fire(O));this.references.push(k),T.children.push(k)}}dispose(){(0,C.AS)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new r(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,v.kg)("aria.result.0","No results found"):1===this.references.length?(0,v.kg)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,v.kg)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,v.kg)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(g,p){const{parent:m}=g;let T=m.children.indexOf(g);const A=m.children.length,k=m.parent.groups.length;return 1===k||p&&T+1<A||!p&&T>0?(T=p?(T+1)%A:(T+A-1)%A,m.children[T]):(T=m.parent.groups.indexOf(m),p?(T=(T+1)%k,m.parent.groups[T].children[0]):(T=(T+k-1)%k,m.parent.groups[T].children[m.parent.groups[T].children.length-1]))}nearestReference(g,p){const m=this.references.map((T,A)=>({idx:A,prefixLen:P.Qp(T.uri.toString(),g.toString()),offsetDist:100*Math.abs(T.range.startLineNumber-p.lineNumber)+Math.abs(T.range.startColumn-p.column)})).sort((T,A)=>T.prefixLen>A.prefixLen?-1:T.prefixLen<A.prefixLen?1:T.offsetDist<A.offsetDist?-1:T.offsetDist>A.offsetDist?1:0)[0];if(m)return this.references[m.idx]}referenceAt(g,p){for(const m of this.references)if(m.uri.toString()===g.toString()&&D.Q.containsPosition(m.range,p))return m}firstReference(){for(const g of this.references)if(g.isProviderFirst)return g;return this.references[0]}static _compareReferences(g,p){return b.er.compare(g.uri,p.uri)||D.Q.compareRangesUsingStarts(g.range,p.range)}}},96525:(tt,xe,t)=>{t.d(xe,{L:()=>P});var a=t(91874),F=t(76710),w=t(99031),x=t(59002);const b=a.$;let P=class extends w.jG{get hasContent(){return this._hasContent}constructor(v){super(),this._keybindingService=v,this._hasContent=!1,this.hoverElement=b("div.hover-row.status-bar"),this.hoverElement.tabIndex=0,this.actionsElement=a.BC(this.hoverElement,b("div.actions"))}addAction(v){const _=this._keybindingService.lookupKeybinding(v.commandId),f=_?_.getLabel():null;return this._hasContent=!0,this._register(F.jQ.render(this.actionsElement,v,f))}append(v){const _=a.BC(this.actionsElement,v);return this._hasContent=!0,_}};var v;P=function(D,v,_,f){var l,d=arguments.length,r=d<3?v:null===f?f=Object.getOwnPropertyDescriptor(v,_):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(D,v,_,f);else for(var g=D.length-1;g>=0;g--)(l=D[g])&&(r=(d<3?l(r):d>3?l(v,_,r):l(v,_))||r);return d>3&&r&&Object.defineProperty(v,_,r),r}([(0,v=x.b,function(_,f){v(_,f,0)})],P)},43999:(tt,xe,t)=>{t.d(xe,{U:()=>v});var a=t(10467),F=t(86671),w=t(21468),x=t(25680),C=t(47639),S=t(15307);class b{constructor(r,l,g){this.provider=r,this.hover=l,this.ordinal=g}}function D(){return(D=(0,a.A)(function*(d,r,l,g,p){const m=yield Promise.resolve(d.provideHover(l,g,p)).catch(x.M_);if(m&&function f(d){return typeof d.range<"u"&&(typeof d.contents<"u"&&d.contents&&d.contents.length>0)}(m))return new b(d,m,r)})).apply(this,arguments)}function v(d,r,l,g){const m=d.ordered(r).map((T,A)=>function P(d,r,l,g,p){return D.apply(this,arguments)}(T,A,r,l,g));return F.AE.fromPromises(m).coalesce()}(0,C.ke)("_executeHoverProvider",(d,r,l)=>function _(d,r,l,g){return v(d,r,l,g).map(p=>p.hover).toPromise()}(d.get(S.u).hoverProvider,r,l,w.XO.None))},27135:(tt,xe,t)=>{t.d(xe,{G8:()=>l,Hm:()=>D,Hp:()=>C,K6:()=>x,MB:()=>S,Xp:()=>v,Zp:()=>r,dV:()=>w,iM:()=>d,ih:()=>P,jA:()=>F,jq:()=>f,vf:()=>b,vx:()=>_});var a=t(81644);const F="editor.action.showHover",w="editor.action.showDefinitionPreviewHover",x="editor.action.scrollUpHover",C="editor.action.scrollDownHover",S="editor.action.scrollLeftHover",b="editor.action.scrollRightHover",P="editor.action.pageUpHover",D="editor.action.pageDownHover",v="editor.action.goToTopHover",_="editor.action.goToBottomHover",f="editor.action.increaseHoverVerbosityLevel",d=a.kg({key:"increaseHoverVerbosityLevel",comment:["Label for action that will increase the hover verbosity level."]},"Increase Hover Verbosity Level"),r="editor.action.decreaseHoverVerbosityLevel",l=a.kg({key:"decreaseHoverVerbosityLevel",comment:["Label for action that will decrease the hover verbosity level."]},"Decrease Hover Verbosity Level")},2239:(tt,xe,t)=>{var a=t(27135),F=t(79624),w=t(47639),x=t(73678),C=t(69995),S=t(34672),b=t(45550),P=t(41489),D=t(81644),_=(t(61624),function(it){return it.NoAutoFocus="noAutoFocus",it.FocusIfVisible="focusIfVisible",it.AutoFocusImmediately="autoFocusImmediately",it}(_||{})),H=t(85478),L=t(48187),j=t(85190),Z=t(77487),te=t(91874),X=t(30833),U=t(86671),q=t(25680),R=t(99031),W=t(76698),Y=t(15307),oe=t(79313),z=t(77189),G=t(70828),Q=t(3132),K=t(63725),ie=t(24270),ae=t(19438),de=t(47690),ge=function(it,He){return function(me,le){He(me,le,it)}};const _e=te.$;class ye{constructor(He,me,le){this.owner=He,this.range=me,this.marker=le}isValidForHoverAnchor(He){return 1===He.type&&this.range.startColumn<=He.range.startColumn&&this.range.endColumn>=He.range.endColumn}}const M={type:1,filter:{include:Q.gB.QuickFix},triggerAction:Q.fo.QuickFixHover};let ce=class{constructor(He,me,le,Ee){this._editor=He,this._markerDecorationsService=me,this._openerService=le,this._languageFeaturesService=Ee,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(He,me){if(!this._editor.hasModel()||1!==He.type&&!He.supportsMarkerHover)return[];const le=this._editor.getModel(),Ee=He.range.startLineNumber,be=le.getLineMaxColumn(Ee),Ce=[];for(const Ne of me){const Fe=Ne.range.startLineNumber===Ee?Ne.range.startColumn:1,qe=Ne.range.endLineNumber===Ee?Ne.range.endColumn:be,dt=this._markerDecorationsService.getMarker(le.uri,Ne);if(!dt)continue;const vt=new x.Q(He.range.startLineNumber,Fe,He.range.startLineNumber,qe);Ce.push(new ye(this,vt,dt))}return Ce}renderHoverParts(He,me){if(!me.length)return R.jG.None;const le=new R.Cm;me.forEach(be=>He.fragment.appendChild(this.renderMarkerHover(be,le)));const Ee=1===me.length?me[0]:me.sort((be,Ce)=>ie.cj.compare(be.marker.severity,Ce.marker.severity))[0];return this.renderMarkerStatusbar(He,Ee,le),le}renderMarkerHover(He,me){const le=_e("div.hover-row");le.tabIndex=0;const Ee=te.BC(le,_e("div.marker.hover-contents")),{source:be,message:Ce,code:Ne,relatedInformation:Fe}=He.marker;this._editor.applyFontInfo(Ee);const qe=te.BC(Ee,_e("span"));if(qe.style.whiteSpace="pre-wrap",qe.innerText=Ce,be||Ne)if(Ne&&"string"!=typeof Ne){const dt=_e("span");be&&(te.BC(dt,_e("span")).innerText=be);const vt=te.BC(dt,_e("a.code-link"));vt.setAttribute("href",Ne.target.toString()),me.add(te.ko(vt,"click",ht=>{this._openerService.open(Ne.target,{allowCommands:!0}),ht.preventDefault(),ht.stopPropagation()})),te.BC(vt,_e("span")).innerText=Ne.value;const on=te.BC(Ee,dt);on.style.opacity="0.6",on.style.paddingLeft="6px"}else{const dt=te.BC(Ee,_e("span"));dt.style.opacity="0.6",dt.style.paddingLeft="6px",dt.innerText=be&&Ne?`${be}(${Ne})`:be||`(${Ne})`}if((0,X.EI)(Fe))for(const{message:dt,resource:vt,startLineNumber:fn,startColumn:on}of Fe){const ht=te.BC(Ee,_e("div"));ht.style.marginTop="8px";const Je=te.BC(ht,_e("a"));Je.innerText=`${(0,W.P8)(vt)}(${fn}, ${on}): `,Je.style.cursor="pointer",me.add(te.ko(Je,"click",De=>{De.stopPropagation(),De.preventDefault(),this._openerService&&this._openerService.open(vt,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:fn,startColumn:on}}}).catch(q.dz)}));const ot=te.BC(ht,_e("span"));ot.innerText=dt,this._editor.applyFontInfo(ot)}return le}renderMarkerStatusbar(He,me,le){if(me.marker.severity===ie.cj.Error||me.marker.severity===ie.cj.Warning||me.marker.severity===ie.cj.Info){const Ee=K.j.get(this._editor);Ee&&He.statusBar.addAction({label:D.kg("view problem","View Problem"),commandId:K.i.ID,run:()=>{He.hide(),Ee.showAtMarker(me.marker),this._editor.focus()}})}if(!this._editor.getOption(91)){const Ee=He.statusBar.append(_e("div"));this.recentMarkerCodeActionsInfo&&(ie.oc.makeKey(this.recentMarkerCodeActionsInfo.marker)===ie.oc.makeKey(me.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(Ee.textContent=D.kg("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const be=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?R.jG.None:(0,U.EQ)(()=>Ee.textContent=D.kg("checkingForQuickFixes","Checking for quick fixes..."),200,le);Ee.textContent||(Ee.textContent="\xa0");const Ce=this.getCodeActions(me.marker);le.add((0,R.s)(()=>Ce.cancel())),Ce.then(Ne=>{if(be.dispose(),this.recentMarkerCodeActionsInfo={marker:me.marker,hasCodeActions:Ne.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return Ne.dispose(),void(Ee.textContent=D.kg("noQuickFixes","No quick fixes available"));Ee.style.display="none";let Fe=!1;le.add((0,R.s)(()=>{Fe||Ne.dispose()})),He.statusBar.addAction({label:D.kg("quick fixes","Quick Fix..."),commandId:z.pQ,run:qe=>{Fe=!0;const dt=G.C.get(this._editor),vt=te.BK(qe);He.hide(),dt?.showCodeActions(M,Ne,{x:vt.left,y:vt.top,width:vt.width,height:vt.height})}})},q.dz)}}getCodeActions(He){return(0,U.SS)(me=>(0,z.dU)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new x.Q(He.startLineNumber,He.startColumn,He.endLineNumber,He.endColumn),M,de.ke.None,me))}};ce=function(it,He,me,le){var Ce,Ee=arguments.length,be=Ee<3?He:null===le?le=Object.getOwnPropertyDescriptor(He,me):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)be=Reflect.decorate(it,He,me,le);else for(var Ne=it.length-1;Ne>=0;Ne--)(Ce=it[Ne])&&(be=(Ee<3?Ce(be):Ee>3?Ce(He,me,be):Ce(He,me))||be);return Ee>3&&be&&Object.defineProperty(He,me,be),be}([ge(1,oe.A),ge(2,ae.C),ge(3,Y.u)],ce);var Ie,it,Se=t(73871);(it=Ie||(Ie={})).intro=(0,D.kg)("intro","Focus on the hover widget to cycle through the hover parts with the Tab key."),it.increaseVerbosity=(0,D.kg)("increaseVerbosity","- The focused hover part verbosity level can be increased with the Increase Hover Verbosity command<keybinding:{0}>.",a.jq),it.decreaseVerbosity=(0,D.kg)("decreaseVerbosity","- The focused hover part verbosity level can be decreased with the Decrease Hover Verbosity command<keybinding:{0}>.",a.Zp),it.hoverContent=(0,D.kg)("contentHover","The last focused hover content is the following."),(0,w.HW)(b.n.ID,b.n,2),(0,w.Fl)(class f extends w.ks{constructor(){super({id:a.jA,label:D.kg({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse."]},"Show or Focus Hover"),metadata:{description:D.aS("showOrFocusHoverDescription","Show or focus the editor hover which shows documentation, references, and other content for a symbol at the current cursor position."),args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[_.NoAutoFocus,_.FocusIfVisible,_.AutoFocusImmediately],enumDescriptions:[D.kg("showOrFocusHover.focus.noAutoFocus","The hover will not automatically take focus."),D.kg("showOrFocusHover.focus.focusIfVisible","The hover will take focus only if it is already visible."),D.kg("showOrFocusHover.focus.autoFocusImmediately","The hover will automatically take focus when it appears.")],default:_.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:C.R.editorTextFocus,primary:(0,F.m5)(2089,2087),weight:100}})}run(He,me,le){if(!me.hasModel())return;const Ee=b.n.get(me);if(!Ee)return;const be=le?.focus;let Ce=_.FocusIfVisible;Object.values(_).includes(be)?Ce=be:"boolean"==typeof be&&be&&(Ce=_.AutoFocusImmediately);const Ne=qe=>{const dt=me.getPosition(),vt=new x.Q(dt.lineNumber,dt.column,dt.lineNumber,dt.column);Ee.showContentHover(vt,1,1,qe)},Fe=2===me.getOption(2);Ee.isHoverVisible?Ce!==_.NoAutoFocus?Ee.focus():Ne(Fe):Ne(Fe||Ce===_.AutoFocusImmediately)}}),(0,w.Fl)(class d extends w.ks{constructor(){super({id:a.dV,label:D.kg({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0,metadata:{description:D.aS("showDefinitionPreviewHoverDescription","Show the definition preview hover in the editor.")}})}run(He,me){const le=b.n.get(me);if(!le)return;const Ee=me.getPosition();if(!Ee)return;const be=new x.Q(Ee.lineNumber,Ee.column,Ee.lineNumber,Ee.column),Ce=S.k.get(me);Ce&&Ce.startFindDefinitionFromCursor(Ee).then(()=>{le.showContentHover(be,1,1,!0)})}}),(0,w.Fl)(class r extends w.ks{constructor(){super({id:a.K6,label:D.kg({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:C.R.hoverFocused,kbOpts:{kbExpr:C.R.hoverFocused,primary:16,weight:100},metadata:{description:D.aS("scrollUpHoverDescription","Scroll up the editor hover.")}})}run(He,me){const le=b.n.get(me);le&&le.scrollUp()}}),(0,w.Fl)(class l extends w.ks{constructor(){super({id:a.Hp,label:D.kg({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:C.R.hoverFocused,kbOpts:{kbExpr:C.R.hoverFocused,primary:18,weight:100},metadata:{description:D.aS("scrollDownHoverDescription","Scroll down the editor hover.")}})}run(He,me){const le=b.n.get(me);le&&le.scrollDown()}}),(0,w.Fl)(class g extends w.ks{constructor(){super({id:a.MB,label:D.kg({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:C.R.hoverFocused,kbOpts:{kbExpr:C.R.hoverFocused,primary:15,weight:100},metadata:{description:D.aS("scrollLeftHoverDescription","Scroll left the editor hover.")}})}run(He,me){const le=b.n.get(me);le&&le.scrollLeft()}}),(0,w.Fl)(class p extends w.ks{constructor(){super({id:a.vf,label:D.kg({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:C.R.hoverFocused,kbOpts:{kbExpr:C.R.hoverFocused,primary:17,weight:100},metadata:{description:D.aS("scrollRightHoverDescription","Scroll right the editor hover.")}})}run(He,me){const le=b.n.get(me);le&&le.scrollRight()}}),(0,w.Fl)(class m extends w.ks{constructor(){super({id:a.ih,label:D.kg({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:C.R.hoverFocused,kbOpts:{kbExpr:C.R.hoverFocused,primary:11,secondary:[528],weight:100},metadata:{description:D.aS("pageUpHoverDescription","Page up the editor hover.")}})}run(He,me){const le=b.n.get(me);le&&le.pageUp()}}),(0,w.Fl)(class T extends w.ks{constructor(){super({id:a.Hm,label:D.kg({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:C.R.hoverFocused,kbOpts:{kbExpr:C.R.hoverFocused,primary:12,secondary:[530],weight:100},metadata:{description:D.aS("pageDownHoverDescription","Page down the editor hover.")}})}run(He,me){const le=b.n.get(me);le&&le.pageDown()}}),(0,w.Fl)(class A extends w.ks{constructor(){super({id:a.Xp,label:D.kg({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:C.R.hoverFocused,kbOpts:{kbExpr:C.R.hoverFocused,primary:14,secondary:[2064],weight:100},metadata:{description:D.aS("goToTopHoverDescription","Go to the top of the editor hover.")}})}run(He,me){const le=b.n.get(me);le&&le.goToTop()}}),(0,w.Fl)(class k extends w.ks{constructor(){super({id:a.vx,label:D.kg({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:C.R.hoverFocused,kbOpts:{kbExpr:C.R.hoverFocused,primary:13,secondary:[2066],weight:100},metadata:{description:D.aS("goToBottomHoverDescription","Go to the bottom of the editor hover.")}})}run(He,me){const le=b.n.get(me);le&&le.goToBottom()}}),(0,w.Fl)(class O extends w.ks{constructor(){super({id:a.jq,label:a.iM,alias:"Increase Hover Verbosity Level",precondition:C.R.hoverVisible})}run(He,me,le){var Ee;null===(Ee=b.n.get(me))||void 0===Ee||Ee.updateMarkdownHoverVerbosityLevel(P.M$.Increase,le?.index,le?.focus)}}),(0,w.Fl)(class N extends w.ks{constructor(){super({id:a.Zp,label:a.G8,alias:"Decrease Hover Verbosity Level",precondition:C.R.hoverVisible})}run(He,me,le){var Ee;null===(Ee=b.n.get(me))||void 0===Ee||Ee.updateMarkdownHoverVerbosityLevel(P.M$.Decrease,le?.index,le?.focus)}}),j.B2.register(Z.xJ),j.B2.register(ce),(0,L.zy)((it,He)=>{const me=it.getColor(H.oZ8);me&&(He.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${me.transparent(.5)}; }`),He.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${me.transparent(.5)}; }`),He.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${me.transparent(.5)}; }`))}),Se.Z.register(new class ne{dispose(){var He;null===(He=this._provider)||void 0===He||He.dispose()}}),Se.Z.register(new class ue{dispose(){var He;null===(He=this._provider)||void 0===He||He.dispose()}}),Se.Z.register(new class $e{dispose(){}})},45550:(tt,xe,t)=>{t.d(xe,{n:()=>He});var a=t(27135),F=t(99031),w=t(598),x=t(80846),C=t(59002),S=t(86671),b=t(91874),P=t(30218),D=t(13632);class f extends F.jG{constructor(le,Ee=new b.fg(10,10)){super(),this._editor=le,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new P.v),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=b.fg.lift(Ee),this._resizableNode.layout(Ee.height,Ee.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(be=>{this._resize(new b.fg(be.dimension.width,be.dimension.height)),be.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var le;return null!==(le=this._contentPosition)&&void 0!==le&&le.position?D.y.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(le){const Ee=this._editor.getDomNode(),be=this._editor.getScrolledVisiblePosition(le);return Ee&&be?b.BK(Ee).top+be.top-30:void 0}_availableVerticalSpaceBelow(le){const Ee=this._editor.getDomNode(),be=this._editor.getScrolledVisiblePosition(le);if(!Ee||!be)return;const Ce=b.BK(Ee);return b.tG(Ee.ownerDocument.body).height-(Ce.top+be.top+be.height)-24}_findPositionPreference(le,Ee){var be,Ce;const Ne=Math.min(null!==(be=this._availableVerticalSpaceBelow(Ee))&&void 0!==be?be:1/0,le),Fe=Math.min(null!==(Ce=this._availableVerticalSpaceAbove(Ee))&&void 0!==Ce?Ce:1/0,le),qe=Math.min(Math.max(Fe,Ne),le),dt=Math.min(le,qe);let vt;return vt=this._editor.getOption(60).above?dt<=Fe?1:2:dt<=Ne?2:1,1===vt?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),vt}_resize(le){this._resizableNode.layout(le.height,le.width)}}var A,d=t(50168),r=t(35072),l=t(69912),g=t(69995),p=t(76710),T=function(me,le){return function(Ee,be){le(Ee,be,me)}};let N=A=class extends f{get isColorPickerVisible(){var le;return!(null===(le=this._visibleData)||void 0===le||!le.colorPicker)}get isVisibleFromKeyboard(){var le;return 1===(null===(le=this._visibleData)||void 0===le?void 0:le.source)}get isVisible(){var le;return null!==(le=this._hoverVisibleKey.get())&&void 0!==le&&le}get isFocused(){var le;return null!==(le=this._hoverFocusedKey.get())&&void 0!==le&&le}constructor(le,Ee,be,Ce,Ne){const Fe=le.getOption(67)+8,dt=new b.fg(150,Fe);super(le,dt),this._configurationService=be,this._accessibilityService=Ce,this._keybindingService=Ne,this._hover=this._register(new p.N4),this._minimumSize=dt,this._hoverVisibleKey=g.R.hoverVisible.bindTo(Ee),this._hoverFocusedKey=g.R.hoverFocused.bindTo(Ee),b.BC(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(fn=>{fn.hasChanged(50)&&this._updateFont()}));const vt=this._register(b.w5(this._resizableNode.domNode));this._register(vt.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(vt.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._editor.addContentWidget(this)}dispose(){var le;super.dispose(),null===(le=this._visibleData)||void 0===le||le.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return A.ID}static _applyDimensions(le,Ee,be){const Ne="number"==typeof be?`${be}px`:be;le.style.width="number"==typeof Ee?`${Ee}px`:Ee,le.style.height=Ne}_setContentsDomNodeDimensions(le,Ee){return A._applyDimensions(this._hover.contentsDomNode,le,Ee)}_setContainerDomNodeDimensions(le,Ee){return A._applyDimensions(this._hover.containerDomNode,le,Ee)}_setHoverWidgetDimensions(le,Ee){this._setContentsDomNodeDimensions(le,Ee),this._setContainerDomNodeDimensions(le,Ee),this._layoutContentWidget()}static _applyMaxDimensions(le,Ee,be){const Ne="number"==typeof be?`${be}px`:be;le.style.maxWidth="number"==typeof Ee?`${Ee}px`:Ee,le.style.maxHeight=Ne}_setHoverWidgetMaxDimensions(le,Ee){A._applyMaxDimensions(this._hover.contentsDomNode,le,Ee),A._applyMaxDimensions(this._hover.containerDomNode,le,Ee),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth","number"==typeof le?`${le}px`:le),this._layoutContentWidget()}_setAdjustedHoverWidgetDimensions(le){this._setHoverWidgetMaxDimensions("none","none"),this._setHoverWidgetDimensions(le.width,le.height)}_updateResizableNodeMaxDimensions(){var le,Ee;const be=null!==(le=this._findMaximumRenderingWidth())&&void 0!==le?le:1/0,Ce=null!==(Ee=this._findMaximumRenderingHeight())&&void 0!==Ee?Ee:1/0;this._resizableNode.maxSize=new b.fg(be,Ce),this._setHoverWidgetMaxDimensions(be,Ce)}_resize(le){var Ee,be;A._lastDimensions=new b.fg(le.width,le.height),this._setAdjustedHoverWidgetDimensions(le),this._resizableNode.layout(le.height,le.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),null===(be=null===(Ee=this._visibleData)||void 0===Ee?void 0:Ee.colorPicker)||void 0===be||be.layout()}_findAvailableSpaceVertically(){var le;const Ee=null===(le=this._visibleData)||void 0===le?void 0:le.showAtPosition;if(Ee)return 1===this._positionPreference?this._availableVerticalSpaceAbove(Ee):this._availableVerticalSpaceBelow(Ee)}_findMaximumRenderingHeight(){const le=this._findAvailableSpaceVertically();if(!le)return;let Ee=6;return Array.from(this._hover.contentsDomNode.children).forEach(be=>{Ee+=be.clientHeight}),Math.min(le,Ee)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const le=Array.from(this._hover.contentsDomNode.children).some(Ee=>Ee.scrollWidth>Ee.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),le}_findMaximumRenderingWidth(){if(this._editor&&this._editor.hasModel())return this._isHoverTextOverflowing()||this._hover.containerDomNode.clientWidth<(typeof this._contentWidth>"u"?0:this._contentWidth-2)?b.tG(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(le,Ee){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=le,this._visibleData.initialMousePosY=Ee,!1;const be=b.BK(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=H(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,be.left,be.top,be.width,be.height));const Ce=H(le,Ee,be.left,be.top,be.width,be.height);return!(Ce>this._visibleData.closestMouseDistance+4||(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,Ce),0))}_setHoverData(le){var Ee;null===(Ee=this._visibleData)||void 0===Ee||Ee.disposables.dispose(),this._visibleData=le,this._hoverVisibleKey.set(!!le),this._hover.containerDomNode.classList.toggle("hidden",!le)}_updateFont(){const{fontSize:le,lineHeight:Ee}=this._editor.getOption(50),be=this._hover.contentsDomNode;be.style.fontSize=`${le}px`,be.style.lineHeight=""+Ee/le,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(Ne=>this._editor.applyFontInfo(Ne))}_updateContent(le){const Ee=this._hover.contentsDomNode;Ee.style.paddingBottom="",Ee.textContent="",Ee.appendChild(le)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const le=Math.max(this._editor.getLayoutInfo().height/4,250,A._lastDimensions.height),Ee=Math.max(.66*this._editor.getLayoutInfo().width,500,A._lastDimensions.width);this._setHoverWidgetMaxDimensions(Ee,le)}_render(le,Ee){this._setHoverData(Ee),this._updateFont(),this._updateContent(le),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var le;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[null!==(le=this._positionPreference)&&void 0!==le?le:1]}:null}showAt(le,Ee){var be,Ce,Ne,Fe;if(!this._editor||!this._editor.hasModel())return;this._render(le,Ee);const qe=b.OK(this._hover.containerDomNode);this._positionPreference=null!==(be=this._findPositionPreference(qe,Ee.showAtPosition))&&void 0!==be?be:1,this.onContentsChanged(),Ee.stoleFocus&&this._hover.containerDomNode.focus(),null===(Ce=Ee.colorPicker)||void 0===Ce||Ce.layout();const fn=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&(0,p.vr)(!0===this._configurationService.getValue("accessibility.verbosity.hover")&&this._accessibilityService.isScreenReaderOptimized(),null!==(Fe=null===(Ne=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))||void 0===Ne?void 0:Ne.getAriaLabel())&&void 0!==Fe?Fe:"");fn&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+fn)}hide(){if(!this._visibleData)return;const le=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new b.fg(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),le&&this._editor.focus()}_removeConstraintsRenderNormally(){const le=this._editor.getLayoutInfo();this._resizableNode.layout(le.height,le.width),this._setHoverWidgetDimensions("auto","auto")}setMinimumDimensions(le){this._minimumSize=new b.fg(Math.max(this._minimumSize.width,le.width),Math.max(this._minimumSize.height,le.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const le=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new b.fg(le,this._minimumSize.height)}onContentsChanged(){var le;this._removeConstraintsRenderNormally();const Ee=this._hover.containerDomNode;let be=b.OK(Ee),Ce=b.Tr(Ee);if(this._resizableNode.layout(be,Ce),this._setHoverWidgetDimensions(Ce,be),be=b.OK(Ee),Ce=b.Tr(Ee),this._contentWidth=Ce,this._updateMinimumWidth(),this._resizableNode.layout(be,Ce),null!==(le=this._visibleData)&&void 0!==le&&le.showAtPosition){const Ne=b.OK(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(Ne,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const le=this._hover.scrollbar.getScrollPosition().scrollTop,Ee=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:le-Ee.lineHeight})}scrollDown(){const le=this._hover.scrollbar.getScrollPosition().scrollTop,Ee=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:le+Ee.lineHeight})}scrollLeft(){const le=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:le-30})}scrollRight(){const le=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:le+30})}pageUp(){const le=this._hover.scrollbar.getScrollPosition().scrollTop,Ee=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:le-Ee})}pageDown(){const le=this._hover.scrollbar.getScrollPosition().scrollTop,Ee=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:le+Ee})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};function H(me,le,Ee,be,Ce,Ne){const qe=be+Ne/2,dt=Math.max(Math.abs(me-(Ee+Ce/2))-Ce/2,0),vt=Math.max(Math.abs(le-qe)-Ne/2,0);return Math.sqrt(dt*dt+vt*vt)}N.ID="editor.contrib.resizableContentHoverWidget",N._lastDimensions=new b.fg(0,0),N=A=function(me,le,Ee,be){var Fe,Ce=arguments.length,Ne=Ce<3?le:null===be?be=Object.getOwnPropertyDescriptor(le,Ee):be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(me,le,Ee,be);else for(var qe=me.length-1;qe>=0;qe--)(Fe=me[qe])&&(Ne=(Ce<3?Fe(Ne):Ce>3?Fe(le,Ee,Ne):Fe(le,Ee))||Ne);return Ce>3&&Ne&&Object.defineProperty(le,Ee,Ne),Ne}([T(1,d.fN),T(2,r.pG),T(3,l.j),T(4,C.b)],N);var L=t(10467),j=t(73678),Z=t(80753),te=t(41489),X=t(19495),U=t(25680),q=t(5643);class R{constructor(le,Ee,be){this.value=le,this.isComplete=Ee,this.hasLoadingMessage=be}}class W extends F.jG{constructor(le,Ee){super(),this._editor=le,this._computer=Ee,this._onResult=this._register(new q.vl),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new S.uC(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new S.uC(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new S.uC(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(le,Ee=!0){this._state=le,Ee&&this._fireResult()}_triggerAsyncComputation(){var le=this;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,S.bI)(Ee=>this._computer.computeAsync(Ee)),(0,L.A)(function*(){try{var Ce,Ee=!1,be=!1;try{for(var Fe,Ne=(0,X.A)(le._asyncIterable);Ee=!(Fe=yield Ne.next()).done;Ee=!1){const qe=Fe.value;qe&&(le._result.push(qe),le._fireResult())}}catch(qe){be=!0,Ce=qe}finally{try{Ee&&null!=Ne.return&&(yield Ne.return())}finally{if(be)throw Ce}}le._asyncIterableDone=!0,(3===le._state||4===le._state)&&le._setState(0)}catch(qe){(0,U.dz)(qe)}})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;const le=0===this._state,Ee=4===this._state;this._onResult.fire(new R(this._result.slice(0),le,Ee))}start(le){if(0===le)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}var Y=t(85190),oe=t(77487),z=t(97747),G=t(30833);class Q{get anchor(){return this._anchor}set anchor(le){this._anchor=le}get shouldFocus(){return this._shouldFocus}set shouldFocus(le){this._shouldFocus=le}get source(){return this._source}set source(le){this._source=le}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(le){this._insistOnKeepingHoverVisible=le}constructor(le,Ee){this._editor=le,this._participants=Ee,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(le,Ee){if(1!==Ee.type&&!Ee.supportsMarkerHover)return[];const be=le.getModel(),Ce=Ee.range.startLineNumber;if(Ce>be.getLineCount())return[];const Ne=be.getLineMaxColumn(Ce);return le.getLineDecorations(Ce).filter(Fe=>{if(Fe.options.isWholeLine)return!0;const qe=Fe.range.startLineNumber===Ce?Fe.range.startColumn:1,dt=Fe.range.endLineNumber===Ce?Fe.range.endColumn:Ne;if(Fe.options.showIfCollapsed){if(qe>Ee.range.startColumn+1||Ee.range.endColumn-1>dt)return!1}else if(qe>Ee.range.startColumn||Ee.range.endColumn>dt)return!1;return!0})}computeAsync(le){const Ee=this._anchor;if(!this._editor.hasModel()||!Ee)return S.AE.EMPTY;const be=Q._getLineDecorations(this._editor,Ee);return S.AE.merge(this._participants.map(Ce=>Ce.computeAsync?Ce.computeAsync(Ee,be,le):S.AE.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const le=Q._getLineDecorations(this._editor,this._anchor);let Ee=[];for(const be of this._participants)Ee=Ee.concat(be.computeSync(this._anchor,le));return(0,G.Yc)(Ee)}}class K{constructor(le,Ee,be){this.anchor=le,this.messages=Ee,this.isComplete=be}filter(le){const Ee=this.messages.filter(be=>be.isValidForHoverAnchor(le));return Ee.length===this.messages.length?this:new ie(this,this.anchor,Ee,this.isComplete)}}class ie extends K{constructor(le,Ee,be,Ce){super(Ee,be,Ce),this.original=le}filter(le){return this.original.filter(le)}}class ae{constructor(le,Ee,be,Ce,Ne,Fe,qe,dt,vt,fn){this.initialMousePosX=le,this.initialMousePosY=Ee,this.colorPicker=be,this.showAtPosition=Ce,this.showAtSecondaryPosition=Ne,this.preferAbove=Fe,this.stoleFocus=qe,this.source=dt,this.isBeforeContent=vt,this.disposables=fn,this.closestMouseDistance=void 0}}var _e,de=t(96525),ge=function(me,le){return function(Ee,be){le(Ee,be,me)}};let ye=_e=class extends F.jG{constructor(le,Ee,be){super(),this._editor=le,this._instantiationService=Ee,this._keybindingService=be,this._currentResult=null,this._onContentsChanged=this._register(new q.vl),this.onContentsChanged=this._onContentsChanged.event,this._widget=this._register(this._instantiationService.createInstance(N,this._editor)),this._participants=[];for(const Ce of Y.B2.getAll()){const Ne=this._instantiationService.createInstance(Ce,this._editor);Ne instanceof oe.xJ&&!(Ne instanceof z.u)&&(this._markdownHoverParticipant=Ne),this._participants.push(Ne)}this._participants.sort((Ce,Ne)=>Ce.hoverOrdinal-Ne.hoverOrdinal),this._computer=new Q(this._editor,this._participants),this._hoverOperation=this._register(new W(this._editor,this._computer)),this._register(this._hoverOperation.onResult(Ce=>{if(!this._computer.anchor)return;const Ne=Ce.hasLoadingMessage?this._addLoadingMessage(Ce.value):Ce.value;this._withResult(new K(this._computer.anchor,Ne,Ce.isComplete))})),this._register(b.b2(this._widget.getDomNode(),"keydown",Ce=>{Ce.equals(9)&&this.hide()})),this._register(te.dG.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}_startShowingOrUpdateHover(le,Ee,be,Ce,Ne){return this._widget.position&&this._currentResult?this._editor.getOption(60).sticky&&Ne&&this._widget.isMouseGettingCloser(Ne.event.posx,Ne.event.posy)?(le&&this._startHoverOperationIfNecessary(le,Ee,be,Ce,!0),!0):le?!(!le||!this._currentResult.anchor.equals(le))||(le.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(le)),this._startHoverOperationIfNecessary(le,Ee,be,Ce,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(le,Ee,be,Ce,!1),!0)):(this._setCurrentResult(null),!1):!!le&&(this._startHoverOperationIfNecessary(le,Ee,be,Ce,!1),!0)}_startHoverOperationIfNecessary(le,Ee,be,Ce,Ne){this._computer.anchor&&this._computer.anchor.equals(le)||(this._hoverOperation.cancel(),this._computer.anchor=le,this._computer.shouldFocus=Ce,this._computer.source=be,this._computer.insistOnKeepingHoverVisible=Ne,this._hoverOperation.start(Ee))}_setCurrentResult(le){this._currentResult!==le&&(le&&0===le.messages.length&&(le=null),this._currentResult=le,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}_addLoadingMessage(le){if(this._computer.anchor)for(const Ee of this._participants)if(Ee.createLoadingMessage){const be=Ee.createLoadingMessage(this._computer.anchor);if(be)return le.slice(0).concat([be])}return le}_withResult(le){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!le.isComplete||this._computer.insistOnKeepingHoverVisible&&0===le.messages.length)||this._setCurrentResult(le)}_renderMessages(le,Ee){const{showAtPosition:be,showAtSecondaryPosition:Ce,highlightRange:Ne}=_e.computeHoverRanges(this._editor,le.range,Ee),Fe=new F.Cm,qe=Fe.add(new de.L(this._keybindingService)),dt=document.createDocumentFragment();let vt=null;const fn={fragment:dt,statusBar:qe,setColorPicker:ht=>vt=ht,onContentsChanged:()=>this._doOnContentsChanged(),setMinimumDimensions:ht=>this._widget.setMinimumDimensions(ht),hide:()=>this.hide()};for(const ht of this._participants){const Je=Ee.filter(ot=>ot.owner===ht);Je.length>0&&Fe.add(ht.renderHoverParts(fn,Je))}const on=Ee.some(ht=>ht.isBeforeContent);if(qe.hasContent&&dt.appendChild(qe.hoverElement),dt.hasChildNodes()){if(Ne){const ht=this._editor.createDecorationsCollection();ht.set([{range:Ne,options:_e._DECORATION_OPTIONS}]),Fe.add((0,F.s)(()=>{ht.clear()}))}this._widget.showAt(dt,new ae(le.initialMousePosX,le.initialMousePosY,vt,be,Ce,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,on,Fe))}else Fe.dispose()}_doOnContentsChanged(){this._onContentsChanged.fire(),this._widget.onContentsChanged()}static computeHoverRanges(le,Ee,be){let Ce=1;if(le.hasModel()){const on=le._getViewModel(),ht=on.coordinatesConverter,Je=ht.convertModelRangeToViewRange(Ee),ot=new D.y(Je.startLineNumber,on.getLineMinColumn(Je.startLineNumber));Ce=ht.convertViewPositionToModelPosition(ot).column}const Ne=Ee.startLineNumber;let Fe=Ee.startColumn,qe=be[0].range,dt=null;for(const on of be)qe=j.Q.plusRange(qe,on.range),on.range.startLineNumber===Ne&&on.range.endLineNumber===Ne&&(Fe=Math.max(Math.min(Fe,on.range.startColumn),Ce)),on.forceShowAtRange&&(dt=on.range);return{showAtPosition:dt?dt.getStartPosition():new D.y(Ne,Ee.startColumn),showAtSecondaryPosition:dt?dt.getStartPosition():new D.y(Ne,Fe),highlightRange:qe}}showsOrWillShow(le){if(this._widget.isResizing)return!0;const Ee=[];for(const Ce of this._participants)if(Ce.suggestHoverAnchor){const Ne=Ce.suggestHoverAnchor(le);Ne&&Ee.push(Ne)}const be=le.target;if(6===be.type&&Ee.push(new Y.hx(0,be.range,le.event.posx,le.event.posy)),7===be.type){const Ce=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!be.detail.isAfterLines&&"number"==typeof be.detail.horizontalDistanceToText&&be.detail.horizontalDistanceToText<Ce&&Ee.push(new Y.hx(0,be.range,le.event.posx,le.event.posy))}return 0===Ee.length?this._startShowingOrUpdateHover(null,0,0,!1,le):(Ee.sort((Ce,Ne)=>Ne.priority-Ce.priority),this._startShowingOrUpdateHover(Ee[0],0,0,!1,le))}startShowingAtRange(le,Ee,be,Ce){this._startShowingOrUpdateHover(new Y.hx(0,le,void 0,void 0),Ee,be,Ce,null)}updateMarkdownHoverVerbosityLevel(le,Ee,be){var Ce=this;return(0,L.A)(function*(){var Ne;null===(Ne=Ce._markdownHoverParticipant)||void 0===Ne||Ne.updateMarkdownHoverVerbosityLevel(le,Ee,be)})()}markdownHoverContentAtIndex(le){var Ee,be;return null!==(be=null===(Ee=this._markdownHoverParticipant)||void 0===Ee?void 0:Ee.markdownHoverContentAtIndex(le))&&void 0!==be?be:""}doesMarkdownHoverAtIndexSupportVerbosityAction(le,Ee){var be,Ce;return null!==(Ce=null===(be=this._markdownHoverParticipant)||void 0===be?void 0:be.doesMarkdownHoverAtIndexSupportVerbosityAction(le,Ee))&&void 0!==Ce&&Ce}containsNode(le){return!!le&&this._widget.getDomNode().contains(le)}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}get widget(){return this._widget}};ye._DECORATION_OPTIONS=Z.kI.register({description:"content-hover-highlight",className:"hoverHighlight"}),ye=_e=function(me,le,Ee,be){var Fe,Ce=arguments.length,Ne=Ce<3?le:null===be?be=Object.getOwnPropertyDescriptor(le,Ee):be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(me,le,Ee,be);else for(var qe=me.length-1;qe>=0;qe--)(Fe=me[qe])&&(Ne=(Ce<3?Fe(Ne):Ce>3?Fe(le,Ee,Ne):Fe(le,Ee))||Ne);return Ce>3&&Ne&&Object.defineProperty(le,Ee,Ne),Ne}([ge(1,w._Y),ge(2,C.b)],ye),t(61624);var ce=t(13157),Se=t(13225),Ie=t(63782);class ne{get lineNumber(){return this._lineNumber}set lineNumber(le){this._lineNumber=le}get lane(){return this._laneOrLine}set lane(le){this._laneOrLine=le}constructor(le){this._editor=le,this._lineNumber=-1,this._laneOrLine=Ie.ZS.Center}computeSync(){var le,Ee;const be=qe=>({value:qe}),Ce=this._editor.getLineDecorations(this._lineNumber),Ne=[],Fe="lineNo"===this._laneOrLine;if(!Ce)return Ne;for(const qe of Ce){const dt=null!==(Ee=null===(le=qe.options.glyphMargin)||void 0===le?void 0:le.position)&&void 0!==Ee?Ee:Ie.ZS.Center;if(!Fe&&dt!==this._laneOrLine)continue;const vt=Fe?qe.options.lineNumberHoverMessage:qe.options.glyphMarginHoverMessage;!vt||(0,Se.it)(vt)||Ne.push(...(0,G._j)(vt).map(be))}return Ne}}const ue=b.$;let we=(()=>{class me extends F.jG{constructor(Ee,be,Ce){super(),this._renderDisposeables=this._register(new F.Cm),this._editor=Ee,this._isVisible=!1,this._messages=[],this._hover=this._register(new p.N4),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new ce.T({editor:this._editor},be,Ce)),this._computer=new ne(this._editor),this._hoverOperation=this._register(new W(this._editor,this._computer)),this._register(this._hoverOperation.onResult(Ne=>{this._withResult(Ne.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(Ne=>{Ne.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return me.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(be=>this._editor.applyFontInfo(be))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}showsOrWillShow(Ee){const be=Ee.target;return 2===be.type&&be.detail.glyphMarginLane?(this._startShowingAt(be.position.lineNumber,be.detail.glyphMarginLane),!0):3===be.type&&(this._startShowingAt(be.position.lineNumber,"lineNo"),!0)}_startShowingAt(Ee,be){this._computer.lineNumber===Ee&&this._computer.lane===be||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=Ee,this._computer.lane=be,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(Ee){this._messages=Ee,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(Ee,be){this._renderDisposeables.clear();const Ce=document.createDocumentFragment();for(const Ne of be){const Fe=ue("div.hover-row.markdown-hover"),qe=b.BC(Fe,ue("div.hover-contents")),dt=this._renderDisposeables.add(this._markdownRenderer.render(Ne.value));qe.appendChild(dt.element),Ce.appendChild(Fe)}this._updateContents(Ce),this._showAt(Ee)}_updateContents(Ee){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(Ee),this._updateFont()}_showAt(Ee){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const be=this._editor.getLayoutInfo(),Ce=this._editor.getTopForLineNumber(Ee),Ne=this._editor.getScrollTop(),Fe=this._editor.getOption(67),dt=Ce-Ne-(this._hover.containerDomNode.clientHeight-Fe)/2;this._hover.containerDomNode.style.left=`${be.glyphMarginLeft+be.glyphMarginWidth+("lineNo"===this._computer.lane?be.lineNumbersWidth:0)}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(dt),0)}px`}}return me.ID="editor.contrib.modesGlyphHoverWidget",me})();var $e,Ve=function(me,le){return function(Ee,be){le(Ee,be,me)}};let He=$e=class extends F.jG{constructor(le,Ee,be){super(),this._editor=le,this._instantiationService=Ee,this._keybindingService=be,this._onHoverContentsChanged=this._register(new q.vl),this.shouldKeepOpenOnEditorMouseMoveOrLeave=!1,this._listenersStore=new F.Cm,this._hoverState={mouseDown:!1,activatedByDecoratorClick:!1},this._reactToEditorMouseMoveRunner=this._register(new S.uC(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(Ce=>{Ce.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}static get(le){return le.getContribution($e.ID)}_hookListeners(){const le=this._editor.getOption(60);this._hoverSettings={enabled:le.enabled,sticky:le.sticky,hidingDelay:le.delay},le.enabled?(this._listenersStore.add(this._editor.onMouseDown(Ee=>this._onEditorMouseDown(Ee))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(Ee=>this._onEditorMouseMove(Ee))),this._listenersStore.add(this._editor.onKeyDown(Ee=>this._onKeyDown(Ee)))):(this._listenersStore.add(this._editor.onMouseMove(Ee=>this._onEditorMouseMove(Ee))),this._listenersStore.add(this._editor.onKeyDown(Ee=>this._onKeyDown(Ee)))),this._listenersStore.add(this._editor.onMouseLeave(Ee=>this._onEditorMouseLeave(Ee))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(Ee=>this._onEditorScrollChanged(Ee)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(le){(le.scrollTopChanged||le.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(le){this._hoverState.mouseDown=!0,!this._shouldNotHideCurrentHoverWidget(le)&&this._hideWidgets()}_shouldNotHideCurrentHoverWidget(le){return!!(this._isMouseOnContentHoverWidget(le)||this._isMouseOnMarginHoverWidget(le)||this._isContentWidgetResizing())}_isMouseOnMarginHoverWidget(le){const Ee=le.target;return!!Ee&&12===Ee.type&&Ee.detail===we.ID}_isMouseOnContentHoverWidget(le){const Ee=le.target;return!!Ee&&9===Ee.type&&Ee.detail===N.ID}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(le){this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._cancelScheduler(),this._shouldNotHideCurrentHoverWidget(le))||this._hideWidgets()}_shouldNotRecomputeCurrentHoverWidget(le){const Ee=this._hoverSettings.sticky;return!!(((qe,dt)=>{const vt=this._isMouseOnMarginHoverWidget(qe);return dt&&vt})(le,Ee)||((qe,dt)=>{const vt=this._isMouseOnContentHoverWidget(qe);return dt&&vt})(le,Ee)||(qe=>{var dt;const vt=this._isMouseOnContentHoverWidget(qe),fn=null===(dt=this._contentWidget)||void 0===dt?void 0:dt.isColorPickerVisible;return vt&&fn})(le)||((qe,dt)=>{var vt,fn,on,ht;return dt&&(null===(vt=this._contentWidget)||void 0===vt?void 0:vt.containsNode(null===(fn=qe.event.browserEvent.view)||void 0===fn?void 0:fn.document.activeElement))&&!(null!==(ht=null===(on=qe.event.browserEvent.view)||void 0===on?void 0:on.getSelection())&&void 0!==ht&&ht.isCollapsed)})(le,Ee))}_onEditorMouseMove(le){var Ee,be,Ce,Ne;if(this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._mouseMoveEvent=le,null!==(Ee=this._contentWidget)&&void 0!==Ee&&Ee.isFocused||null!==(be=this._contentWidget)&&void 0!==be&&be.isResizing))return;const Fe=this._hoverSettings.sticky;if(Fe&&null!==(Ce=this._contentWidget)&&void 0!==Ce&&Ce.isVisibleFromKeyboard)return;if(this._shouldNotRecomputeCurrentHoverWidget(le))return void this._reactToEditorMouseMoveRunner.cancel();const dt=this._hoverSettings.hidingDelay;(null===(Ne=this._contentWidget)||void 0===Ne?void 0:Ne.isVisible)&&Fe&&dt>0?this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(dt):this._reactToEditorMouseMove(le)}_reactToEditorMouseMove(le){var Ee;if(!le)return;const Ce=null===(Ee=le.target.element)||void 0===Ee?void 0:Ee.classList.contains("colorpicker-color-decoration"),Ne=this._editor.getOption(148),Fe=this._hoverSettings.enabled,qe=this._hoverState.activatedByDecoratorClick;Ce&&("click"===Ne&&!qe||"hover"===Ne&&!Fe||"clickAndHover"===Ne&&!Fe&&!qe)||!(Ce||Fe||qe)?this._hideWidgets():this._tryShowHoverWidget(le,0)||this._tryShowHoverWidget(le,1)||this._hideWidgets()}_tryShowHoverWidget(le,Ee){const be=this._getOrCreateContentWidget(),Ce=this._getOrCreateGlyphWidget();let Ne,Fe;switch(Ee){case 0:Ne=be,Fe=Ce;break;case 1:Ne=Ce,Fe=be;break;default:throw new Error(`HoverWidgetType ${Ee} is unrecognized`)}const qe=Ne.showsOrWillShow(le);return qe&&Fe.hide(),qe}_onKeyDown(le){var Ee;if(!this._editor.hasModel())return;const be=this._keybindingService.softDispatch(le,this._editor.getDomNode()),Ce=1===be.kind||2===be.kind&&(be.commandId===a.jA||be.commandId===a.jq||be.commandId===a.Zp)&&(null===(Ee=this._contentWidget)||void 0===Ee?void 0:Ee.isVisible);5===le.keyCode||6===le.keyCode||57===le.keyCode||4===le.keyCode||Ce||this._hideWidgets()}_hideWidgets(){var le,Ee,be;this._hoverState.mouseDown&&null!==(le=this._contentWidget)&&void 0!==le&&le.isColorPickerVisible||x.bo.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,null===(Ee=this._glyphWidget)||void 0===Ee||Ee.hide(),null===(be=this._contentWidget)||void 0===be||be.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(ye,this._editor),this._listenersStore.add(this._contentWidget.onContentsChanged(()=>this._onHoverContentsChanged.fire()))),this._contentWidget}_getOrCreateGlyphWidget(){return this._glyphWidget||(this._glyphWidget=this._instantiationService.createInstance(we,this._editor)),this._glyphWidget}showContentHover(le,Ee,be,Ce,Ne=!1){this._hoverState.activatedByDecoratorClick=Ne,this._getOrCreateContentWidget().startShowingAtRange(le,Ee,be,Ce)}_isContentWidgetResizing(){var le;return(null===(le=this._contentWidget)||void 0===le?void 0:le.widget.isResizing)||!1}markdownHoverContentAtIndex(le){return this._getOrCreateContentWidget().markdownHoverContentAtIndex(le)}doesMarkdownHoverAtIndexSupportVerbosityAction(le,Ee){return this._getOrCreateContentWidget().doesMarkdownHoverAtIndexSupportVerbosityAction(le,Ee)}updateMarkdownHoverVerbosityLevel(le,Ee,be){this._getOrCreateContentWidget().updateMarkdownHoverVerbosityLevel(le,Ee,be)}focus(){var le;null===(le=this._contentWidget)||void 0===le||le.focus()}scrollUp(){var le;null===(le=this._contentWidget)||void 0===le||le.scrollUp()}scrollDown(){var le;null===(le=this._contentWidget)||void 0===le||le.scrollDown()}scrollLeft(){var le;null===(le=this._contentWidget)||void 0===le||le.scrollLeft()}scrollRight(){var le;null===(le=this._contentWidget)||void 0===le||le.scrollRight()}pageUp(){var le;null===(le=this._contentWidget)||void 0===le||le.pageUp()}pageDown(){var le;null===(le=this._contentWidget)||void 0===le||le.pageDown()}goToTop(){var le;null===(le=this._contentWidget)||void 0===le||le.goToTop()}goToBottom(){var le;null===(le=this._contentWidget)||void 0===le||le.goToBottom()}get isColorPickerVisible(){var le;return null===(le=this._contentWidget)||void 0===le?void 0:le.isColorPickerVisible}get isHoverVisible(){var le;return null===(le=this._contentWidget)||void 0===le?void 0:le.isVisible}dispose(){var le,Ee;super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),null===(le=this._glyphWidget)||void 0===le||le.dispose(),null===(Ee=this._contentWidget)||void 0===Ee||Ee.dispose()}};He.ID="editor.contrib.hover",He=$e=function(me,le,Ee,be){var Fe,Ce=arguments.length,Ne=Ce<3?le:null===be?be=Object.getOwnPropertyDescriptor(le,Ee):be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(me,le,Ee,be);else for(var qe=me.length-1;qe>=0;qe--)(Fe=me[qe])&&(Ne=(Ce<3?Fe(Ne):Ce>3?Fe(le,Ee,Ne):Fe(le,Ee))||Ne);return Ce>3&&Ne&&Object.defineProperty(le,Ee,Ne),Ne}([Ve(1,w._Y),Ve(2,C.b)],He)},85190:(tt,xe,t)=>{t.d(xe,{B2:()=>w,hx:()=>a,mm:()=>F});class a{constructor(C,S,b,P){this.priority=C,this.range=S,this.initialMousePosX=b,this.initialMousePosY=P,this.type=1}equals(C){return 1===C.type&&this.range.equalsRange(C.range)}canAdoptVisibleHover(C,S){return 1===C.type&&S.lineNumber===this.range.startLineNumber}}class F{constructor(C,S,b,P,D,v){this.priority=C,this.owner=S,this.range=b,this.initialMousePosX=P,this.initialMousePosY=D,this.supportsMarkerHover=v,this.type=2}equals(C){return 2===C.type&&this.owner===C.owner}canAdoptVisibleHover(C,S){return 2===C.type&&this.owner===C.owner}}const w=new class{constructor(){this._participants=[]}register(C){this._participants.push(C)}getAll(){return this._participants}}},77487:(tt,xe,t)=>{t.d(xe,{eH:()=>U,fm:()=>Y,xJ:()=>R});var a=t(10467),F=t(91874),w=t(30833),x=t(21468),C=t(13225),S=t(99031),b=t(13157),P=t(27135),D=t(73678),v=t(385),_=t(81644),f=t(35072),d=t(19438),r=t(15307),l=t(41489),g=t(24453),p=t(15320),m=t(81072),T=t(25680),A=t(59002),k=t(76710),O=t(79759),N=t(86671),H=t(43999),j=function(G,Q){return function(K,ie){Q(K,ie,G)}};const Z=F.$,te=(0,g.pU)("hover-increase-verbosity",p.W.add,_.kg("increaseHoverVerbosity","Icon for increaseing hover verbosity.")),X=(0,g.pU)("hover-decrease-verbosity",p.W.remove,_.kg("decreaseHoverVerbosity","Icon for decreasing hover verbosity."));class U{constructor(Q,K,ie,ae,de,se=void 0){this.owner=Q,this.range=K,this.contents=ie,this.isBeforeContent=ae,this.ordinal=de,this.source=se}isValidForHoverAnchor(Q){return 1===Q.type&&this.range.startColumn<=Q.range.startColumn&&this.range.endColumn>=Q.range.endColumn}}class q{constructor(Q,K,ie){this.hover=Q,this.hoverProvider=K,this.hoverPosition=ie}supportsVerbosityAction(Q){var K,ie;switch(Q){case l.M$.Increase:return null!==(K=this.hover.canIncreaseVerbosity)&&void 0!==K&&K;case l.M$.Decrease:return null!==(ie=this.hover.canDecreaseVerbosity)&&void 0!==ie&&ie}}}let R=class{constructor(Q,K,ie,ae,de,se,ge){this._editor=Q,this._languageService=K,this._openerService=ie,this._configurationService=ae,this._languageFeaturesService=de,this._keybindingService=se,this._hoverService=ge,this.hoverOrdinal=3}createLoadingMessage(Q){return new U(this,Q.range,[(new C.Bc).appendText(_.kg("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(Q,K){if(!this._editor.hasModel()||1!==Q.type)return[];const ie=this._editor.getModel(),ae=Q.range.startLineNumber,de=ie.getLineMaxColumn(ae),se=[];let ge=1e3;const _e=ie.getLineLength(ae),ye=ie.getLanguageIdAtPosition(Q.range.startLineNumber,Q.range.startColumn),M=this._editor.getOption(117),ce=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:ye});let Se=!1;M>=0&&_e>M&&Q.range.startColumn>=M&&(Se=!0,se.push(new U(this,Q.range,[{value:_.kg("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,ge++))),!Se&&"number"==typeof ce&&_e>=ce&&se.push(new U(this,Q.range,[{value:_.kg("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,ge++));let Ie=!1;for(const ne of K){const ue=ne.range.startLineNumber===ae?ne.range.startColumn:1,we=ne.range.endLineNumber===ae?ne.range.endColumn:de,Me=ne.options.hoverMessage;if(!Me||(0,C.it)(Me))continue;ne.options.beforeContentClassName&&(Ie=!0);const Ve=new D.Q(Q.range.startLineNumber,ue,Q.range.startLineNumber,we);se.push(new U(this,Ve,(0,w._j)(Me),Ie,ge++))}return se}computeAsync(Q,K,ie){if(!this._editor.hasModel()||1!==Q.type)return N.AE.EMPTY;const ae=this._editor.getModel(),de=this._languageFeaturesService.hoverProvider;return de.has(ae)?this._getMarkdownHovers(de,ae,Q,ie):N.AE.EMPTY}_getMarkdownHovers(Q,K,ie,ae){const de=ie.range.getStartPosition();return(0,H.U)(Q,K,de,ae).filter(_e=>!(0,C.it)(_e.hover.contents)).map(_e=>{const ye=_e.hover.range?D.Q.lift(_e.hover.range):ie.range,M=new q(_e.hover,_e.provider,de);return new U(this,ye,_e.hover.contents,!1,_e.ordinal,M)})}renderHoverParts(Q,K){return this._renderedHoverParts=new W(K,Q.fragment,this._editor,this._languageService,this._openerService,this._keybindingService,this._hoverService,this._configurationService,Q.onContentsChanged),this._renderedHoverParts}markdownHoverContentAtIndex(Q){var K,ie;return null!==(ie=null===(K=this._renderedHoverParts)||void 0===K?void 0:K.markdownHoverContentAtIndex(Q))&&void 0!==ie?ie:""}doesMarkdownHoverAtIndexSupportVerbosityAction(Q,K){var ie,ae;return null!==(ae=null===(ie=this._renderedHoverParts)||void 0===ie?void 0:ie.doesMarkdownHoverAtIndexSupportVerbosityAction(Q,K))&&void 0!==ae&&ae}updateMarkdownHoverVerbosityLevel(Q,K,ie){var ae;null===(ae=this._renderedHoverParts)||void 0===ae||ae.updateMarkdownHoverPartVerbosityLevel(Q,K,ie)}};R=function(G,Q,K,ie){var se,ae=arguments.length,de=ae<3?Q:null===ie?ie=Object.getOwnPropertyDescriptor(Q,K):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)de=Reflect.decorate(G,Q,K,ie);else for(var ge=G.length-1;ge>=0;ge--)(se=G[ge])&&(de=(ae<3?se(de):ae>3?se(Q,K,de):se(Q,K))||de);return ae>3&&de&&Object.defineProperty(Q,K,de),de}([j(1,v.L),j(2,d.C),j(3,f.pG),j(4,r.u),j(5,A.b),j(6,O.TN)],R);class W extends S.jG{constructor(Q,K,ie,ae,de,se,ge,_e,ye){super(),this._editor=ie,this._languageService=ae,this._openerService=de,this._keybindingService=se,this._hoverService=ge,this._configurationService=_e,this._onFinishedRendering=ye,this._focusedHoverPartIndex=-1,this._ongoingHoverOperations=new Map,this._renderedHoverParts=this._renderHoverParts(Q,K,this._onFinishedRendering),this._register((0,S.s)(()=>{this._renderedHoverParts.forEach(M=>{M.disposables.dispose()})})),this._register((0,S.s)(()=>{this._ongoingHoverOperations.forEach(M=>{M.tokenSource.dispose(!0)})}))}_renderHoverParts(Q,K,ie){return Q.sort((0,w.VE)(ae=>ae.ordinal,w.U9)),Q.map((ae,de)=>{const se=this._renderHoverPart(de,ae.contents,ae.source,ie);return K.appendChild(se.renderedMarkdown),se})}_renderHoverPart(Q,K,ie,ae){const{renderedMarkdown:de,disposables:se}=this._renderMarkdownContent(K,ae);if(!ie)return{renderedMarkdown:de,disposables:se};const ge=ie.supportsVerbosityAction(l.M$.Increase),_e=ie.supportsVerbosityAction(l.M$.Decrease);if(!ge&&!_e)return{renderedMarkdown:de,disposables:se,hoverSource:ie};const ye=Z("div.verbosity-actions");return de.prepend(ye),se.add(this._renderHoverExpansionAction(ye,l.M$.Increase,ge)),se.add(this._renderHoverExpansionAction(ye,l.M$.Decrease,_e)),this._register(F.ko(de,F.Bx.FOCUS_IN,M=>{M.stopPropagation(),this._focusedHoverPartIndex=Q})),this._register(F.ko(de,F.Bx.FOCUS_OUT,M=>{M.stopPropagation(),this._focusedHoverPartIndex=-1})),{renderedMarkdown:de,disposables:se,hoverSource:ie}}_renderMarkdownContent(Q,K){const ie=Z("div.hover-row");ie.tabIndex=0;const ae=Z("div.hover-row-contents");ie.appendChild(ae);const de=new S.Cm;return de.add(oe(this._editor,ae,Q,this._languageService,this._openerService,K)),{renderedMarkdown:ie,disposables:de}}_renderHoverExpansionAction(Q,K,ie){const ae=new S.Cm,se=F.BC(Q,Z(m.L.asCSSSelector(K===l.M$.Increase?te:X)));se.tabIndex=0;const ge=new O.fO("mouse",!1,{target:Q,position:{hoverPosition:0}},this._configurationService,this._hoverService);if(ae.add(this._hoverService.setupUpdatableHover(ge,se,function z(G,Q){switch(Q){case l.M$.Increase:{const K=G.lookupKeybinding(P.jq);return K?_.kg("increaseVerbosityWithKb","Increase Hover Verbosity ({0})",K.getLabel()):_.kg("increaseVerbosity","Increase Hover Verbosity")}case l.M$.Decrease:{const K=G.lookupKeybinding(P.Zp);return K?_.kg("decreaseVerbosityWithKb","Decrease Hover Verbosity ({0})",K.getLabel()):_.kg("decreaseVerbosity","Decrease Hover Verbosity")}}}(this._keybindingService,K))),!ie)return se.classList.add("disabled"),ae;se.classList.add("enabled");const _e=()=>this.updateMarkdownHoverPartVerbosityLevel(K);return ae.add(new k.vV(se,_e)),ae.add(new k.M4(se,_e,[3,10])),ae}updateMarkdownHoverPartVerbosityLevel(Q,K=-1,ie=!0){var ae=this;return(0,a.A)(function*(){var de;const se=ae._editor.getModel();if(!se)return;const ge=-1!==K?K:ae._focusedHoverPartIndex,_e=ae._getRenderedHoverPartAtIndex(ge);if(!_e||null===(de=_e.hoverSource)||void 0===de||!de.supportsVerbosityAction(Q))return;const ye=_e.hoverSource,M=yield ae._fetchHover(ye,se,Q);if(!M)return;const ce=new q(M,ye.hoverProvider,ye.hoverPosition),Se=ae._renderHoverPart(ge,M.contents,ce,ae._onFinishedRendering);ae._replaceRenderedHoverPartAtIndex(ge,Se),ie&&ae._focusOnHoverPartWithIndex(ge),ae._onFinishedRendering()})()}markdownHoverContentAtIndex(Q){var K;const ie=this._getRenderedHoverPartAtIndex(Q);return null!==(K=ie?.renderedMarkdown.innerText)&&void 0!==K?K:""}doesMarkdownHoverAtIndexSupportVerbosityAction(Q,K){var ie;const ae=this._getRenderedHoverPartAtIndex(Q);return!(!ae||null===(ie=ae.hoverSource)||void 0===ie||!ie.supportsVerbosityAction(K))}_fetchHover(Q,K,ie){var ae=this;return(0,a.A)(function*(){let de=ie===l.M$.Increase?1:-1;const se=Q.hoverProvider,ge=ae._ongoingHoverOperations.get(se);ge&&(ge.tokenSource.cancel(),de+=ge.verbosityDelta);const _e=new x.Qi;ae._ongoingHoverOperations.set(se,{verbosityDelta:de,tokenSource:_e});const ye={verbosityRequest:{verbosityDelta:de,previousHover:Q.hover}};let M;try{M=yield Promise.resolve(se.provideHover(K,Q.hoverPosition,_e.token,ye))}catch(ce){(0,T.M_)(ce)}return _e.dispose(),ae._ongoingHoverOperations.delete(se),M})()}_replaceRenderedHoverPartAtIndex(Q,K){if(Q>=this._renderHoverParts.length||Q<0)return;const ie=this._renderedHoverParts[Q];ie.renderedMarkdown.replaceWith(K.renderedMarkdown),ie.disposables.dispose(),this._renderedHoverParts[Q]=K}_focusOnHoverPartWithIndex(Q){this._renderedHoverParts[Q].renderedMarkdown.focus()}_getRenderedHoverPartAtIndex(Q){return this._renderedHoverParts[Q]}}function Y(G,Q,K,ie,ae){Q.sort((0,w.VE)(se=>se.ordinal,w.U9));const de=new S.Cm;for(const se of Q)de.add(oe(K,G.fragment,se.contents,ie,ae,G.onContentsChanged));return de}function oe(G,Q,K,ie,ae,de){const se=new S.Cm;for(const ge of K){if((0,C.it)(ge))continue;const _e=Z("div.markdown-hover"),ye=F.BC(_e,Z("div.hover-contents")),M=se.add(new b.T({editor:G},ie,ae));se.add(M.onDidRenderAsync(()=>{ye.className="hover-contents code-hover-contents",de()}));const ce=se.add(M.render(ge));ye.appendChild(ce.element),Q.appendChild(_e)}return se}},29668:(tt,xe,t)=>{var a=t(86671),F=t(25680),w=t(89774),x=t(47639),C=t(73678),S=t(14105),b=t(69995),P=t(80753),D=t(34225),v=t(81644);class _{constructor(oe,z,G){this._editRange=oe,this._originalSelection=z,this._text=G}getEditOperations(oe,z){z.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(oe,z){const Q=z.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new S.L(Q.endLineNumber,Math.min(this._originalSelection.positionColumn,Q.endColumn),Q.endLineNumber,Math.min(this._originalSelection.positionColumn,Q.endColumn)):new S.L(Q.endLineNumber,Q.endColumn-this._text.length,Q.endLineNumber,Q.endColumn)}}var U,f=t(85072),d=t.n(f),r=t(97825),l=t.n(r),g=t(77659),p=t.n(g),m=t(55056),T=t.n(m),A=t(10540),k=t.n(A),O=t(41113),N=t.n(O),H=t(86437),L={};L.styleTagTransform=N(),L.setAttributes=T(),L.insert=p().bind(null,"head"),L.domAPI=l(),L.insertStyleElement=k(),d()(H.A,L);let q=U=class{static get(oe){return oe.getContribution(U.ID)}constructor(oe,z){this.editor=oe,this.editorWorkerService=z,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(oe,z){var G;null===(G=this.currentRequest)||void 0===G||G.cancel();const Q=this.editor.getSelection(),K=this.editor.getModel();if(!K||!Q)return;let ie=Q;if(ie.startLineNumber!==ie.endLineNumber)return;const ae=new w.$t(this.editor,5),de=K.uri;return this.editorWorkerService.canNavigateValueSet(de)?(this.currentRequest=(0,a.SS)(se=>this.editorWorkerService.navigateValueSet(de,ie,z)),this.currentRequest.then(se=>{var ge;if(!(se&&se.range&&se.value&&ae.validate(this.editor)))return;const _e=C.Q.lift(se.range);let ye=se.range;const M=se.value.length-(ie.endColumn-ie.startColumn);ye={startLineNumber:ye.startLineNumber,startColumn:ye.startColumn,endLineNumber:ye.endLineNumber,endColumn:ye.startColumn+se.value.length},M>1&&(ie=new S.L(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn+M-1));const ce=new _(_e,ie,se.value);this.editor.pushUndoStop(),this.editor.executeCommand(oe,ce),this.editor.pushUndoStop(),this.decorations.set([{range:ye,options:U.DECORATION}]),null===(ge=this.decorationRemover)||void 0===ge||ge.cancel(),this.decorationRemover=(0,a.wR)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(F.dz)}).catch(F.dz)):Promise.resolve(void 0)}};var oe;q.ID="editor.contrib.inPlaceReplaceController",q.DECORATION=P.kI.register({description:"in-place-replace",className:"valueSetReplacement"}),q=U=function(Y,oe,z,G){var ie,Q=arguments.length,K=Q<3?oe:null===G?G=Object.getOwnPropertyDescriptor(oe,z):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(Y,oe,z,G);else for(var ae=Y.length-1;ae>=0;ae--)(ie=Y[ae])&&(K=(Q<3?ie(K):Q>3?ie(oe,z,K):ie(oe,z))||K);return Q>3&&K&&Object.defineProperty(oe,z,K),K}([(1,oe=D.w,function(z,G){oe(z,G,1)})],q),(0,x.HW)(q.ID,q,4),(0,x.Fl)(class R extends x.ks{constructor(){super({id:"editor.action.inPlaceReplace.up",label:v.kg("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:b.R.writable,kbOpts:{kbExpr:b.R.editorTextFocus,primary:3159,weight:100}})}run(oe,z){const G=q.get(z);return G?G.run(this.id,!1):Promise.resolve(void 0)}}),(0,x.Fl)(class W extends x.ks{constructor(){super({id:"editor.action.inPlaceReplace.down",label:v.kg("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:b.R.writable,kbOpts:{kbExpr:b.R.editorTextFocus,primary:3161,weight:100}})}run(oe,z){const G=q.get(z);return G?G.run(this.id,!0):Promise.resolve(void 0)}})},69108:(tt,xe,t)=>{var a=t(99031),F=t(6653),w=t(47639),x=t(25585),C=t(73678),S=t(69995),b=t(70416),P=t(31925),D=t(84130),v=t(81644),_=t(8086),f=t(56930),d=t(5214),r=t(7988),l=t(14105),g=t(96697);function p(G,Q,K,ie){if(1===G.getLineCount()&&1===G.getLineMaxColumn(1))return[];const ae=Q.getLanguageConfiguration(G.getLanguageId()).indentRulesSupport;if(!ae)return[];const de=new g.no(G,ae,Q);for(ie=Math.min(ie,G.getLineCount());K<=ie&&de.shouldIgnore(K);)K++;if(K>ie-1)return[];const{tabSize:se,indentSize:ge,insertSpaces:_e}=G.getOptions(),ye=(ue,we)=>x.Y.shiftIndent(ue,ue.length+(we=we||1),se,ge,_e),M=(ue,we)=>x.Y.unshiftIndent(ue,ue.length+(we=we||1),se,ge,_e),ce=[],Se=G.getLineContent(K);let Ie=F.UU(Se),ne=Ie;de.shouldIncrease(K)?(ne=ye(ne),Ie=ye(Ie)):de.shouldIndentNextLine(K)&&(ne=ye(ne));for(let ue=++K;ue<=ie;ue++){if(m(G,ue))continue;const we=G.getLineContent(ue),Me=F.UU(we),Ve=ne;de.shouldDecrease(ue,Ve)&&(ne=M(ne),Ie=M(Ie)),Me!==ne&&ce.push(d.k.replaceMove(new l.L(ue,1,ue,Me.length+1),(0,r.P)(ne,ge,_e))),!de.shouldIgnore(ue)&&(de.shouldIncrease(ue,Ve)?(Ie=ye(Ie),ne=Ie):ne=de.shouldIndentNextLine(ue,Ve)?ye(ne):Ie)}return ce}function m(G,Q){return!!G.tokenization.isCheapToTokenize(Q)&&2===G.tokenization.getLineTokens(Q).getStandardTokenType(0)}var T=t(33480);let O=(()=>{class G extends w.ks{constructor(){super({id:G.ID,label:v.kg("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:S.R.writable,metadata:{description:v.aS("indentationToSpacesDescription","Convert the tab indentation to spaces.")}})}run(K,ie){const ae=ie.getModel();if(!ae)return;const de=ae.getOptions(),se=ie.getSelection();if(!se)return;const ge=new oe(se,de.tabSize);ie.pushUndoStop(),ie.executeCommands(this.id,[ge]),ie.pushUndoStop(),ae.updateOptions({insertSpaces:!0})}}return G.ID="editor.action.indentationToSpaces",G})(),N=(()=>{class G extends w.ks{constructor(){super({id:G.ID,label:v.kg("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:S.R.writable,metadata:{description:v.aS("indentationToTabsDescription","Convert the spaces indentation to tabs.")}})}run(K,ie){const ae=ie.getModel();if(!ae)return;const de=ae.getOptions(),se=ie.getSelection();if(!se)return;const ge=new z(se,de.tabSize);ie.pushUndoStop(),ie.executeCommands(this.id,[ge]),ie.pushUndoStop(),ae.updateOptions({insertSpaces:!1})}}return G.ID="editor.action.indentationToTabs",G})();class H extends w.ks{constructor(Q,K,ie){super(ie),this.insertSpaces=Q,this.displaySizeOnly=K}run(Q,K){const ie=Q.get(_.GK),ae=Q.get(P.S),de=K.getModel();if(!de)return;const se=ae.getCreationOptions(de.getLanguageId(),de.uri,de.isForSimpleWidget),ge=de.getOptions(),_e=[1,2,3,4,5,6,7,8].map(M=>({id:M.toString(),label:M.toString(),description:M===se.tabSize&&M===ge.tabSize?v.kg("configuredTabSize","Configured Tab Size"):M===se.tabSize?v.kg("defaultTabSize","Default Tab Size"):M===ge.tabSize?v.kg("currentTabSize","Current Tab Size"):void 0})),ye=Math.min(de.getOptions().tabSize-1,7);setTimeout(()=>{ie.pick(_e,{placeHolder:v.kg({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:_e[ye]}).then(M=>{if(M&&de&&!de.isDisposed()){const ce=parseInt(M.label,10);de.updateOptions(this.displaySizeOnly?{tabSize:ce}:{tabSize:ce,indentSize:ce,insertSpaces:this.insertSpaces})}})},50)}}let L=(()=>{class G extends H{constructor(){super(!1,!1,{id:G.ID,label:v.kg("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0,metadata:{description:v.aS("indentUsingTabsDescription","Use indentation with tabs.")}})}}return G.ID="editor.action.indentUsingTabs",G})(),j=(()=>{class G extends H{constructor(){super(!0,!1,{id:G.ID,label:v.kg("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0,metadata:{description:v.aS("indentUsingSpacesDescription","Use indentation with spaces.")}})}}return G.ID="editor.action.indentUsingSpaces",G})(),Z=(()=>{class G extends H{constructor(){super(!0,!0,{id:G.ID,label:v.kg("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0,metadata:{description:v.aS("changeTabDisplaySizeDescription","Change the space size equivalent of the tab.")}})}}return G.ID="editor.action.changeTabDisplaySize",G})(),te=(()=>{class G extends w.ks{constructor(){super({id:G.ID,label:v.kg("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0,metadata:{description:v.aS("detectIndentationDescription","Detect the indentation from content.")}})}run(K,ie){const ae=K.get(P.S),de=ie.getModel();if(!de)return;const se=ae.getCreationOptions(de.getLanguageId(),de.uri,de.isForSimpleWidget);de.detectIndentation(se.insertSpaces,se.tabSize)}}return G.ID="editor.action.detectIndentation",G})();class q{constructor(Q,K){this._initialSelection=K,this._edits=[],this._selectionId=null;for(const ie of Q)ie.range&&"string"==typeof ie.text&&this._edits.push(ie)}getEditOperations(Q,K){for(const ae of this._edits)K.addEditOperation(C.Q.lift(ae.range),ae.text);let ie=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(ie=!0,this._selectionId=K.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(ie=!0,this._selectionId=K.trackSelection(this._initialSelection,!1))),ie||(this._selectionId=K.trackSelection(this._initialSelection))}computeCursorState(Q,K){return K.getTrackedSelection(this._selectionId)}}let R=class{constructor(Q,K){this.editor=Q,this._languageConfigurationService=K,this.callOnDispose=new a.Cm,this.callOnModel=new a.Cm,this.callOnDispose.add(Q.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(Q.onDidChangeModel(()=>this.update())),this.callOnDispose.add(Q.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:Q})=>{this.trigger(Q)}))}trigger(Q){const K=this.editor.getSelections();if(null===K||K.length>1)return;const ie=this.editor.getModel();if(!ie||function W(G,Q){const K=ie=>2===(0,T.T)(G,ie);return K(Q.getStartPosition())||K(Q.getEndPosition())}(ie,Q)||!ie.tokenization.isCheapToTokenize(Q.getStartPosition().lineNumber))return;const ae=this.editor.getOption(12),{tabSize:de,indentSize:se,insertSpaces:ge}=ie.getOptions(),_e=[],ye={shiftIndent:Ie=>x.Y.shiftIndent(Ie,Ie.length+1,de,se,ge),unshiftIndent:Ie=>x.Y.unshiftIndent(Ie,Ie.length+1,de,se,ge)};let M=Q.startLineNumber;for(;M<=Q.endLineNumber&&this.shouldIgnoreLine(ie,M);)M++;if(M>Q.endLineNumber)return;let ce=ie.getLineContent(M);if(!/\S/.test(ce.substring(0,Q.startColumn-1))){const Ie=(0,f.$f)(ae,ie,ie.getLanguageId(),M,ye,this._languageConfigurationService);if(null!==Ie){const ne=F.UU(ce),ue=D.c(Ie,de);if(ue!==D.c(ne,de)){const Me=D.k(ue,de,ge);_e.push({range:new C.Q(M,1,M,ne.length+1),text:Me}),ce=Me+ce.substr(ne.length)}else{const Me=(0,f.Yb)(ie,M,this._languageConfigurationService);if(0===Me||8===Me)return}}}const Se=M;for(;M<Q.endLineNumber&&!/\S/.test(ie.getLineContent(M+1));)M++;if(M!==Q.endLineNumber){const ne=(0,f.$f)(ae,{tokenization:{getLineTokens:ue=>ie.tokenization.getLineTokens(ue),getLanguageId:()=>ie.getLanguageId(),getLanguageIdAtPosition:(ue,we)=>ie.getLanguageIdAtPosition(ue,we)},getLineContent:ue=>ue===Se?ce:ie.getLineContent(ue)},ie.getLanguageId(),M+1,ye,this._languageConfigurationService);if(null!==ne){const ue=D.c(ne,de),we=D.c(F.UU(ie.getLineContent(M+1)),de);if(ue!==we){const Me=ue-we;for(let Ve=M+1;Ve<=Q.endLineNumber;Ve++){const $e=ie.getLineContent(Ve),it=F.UU($e),me=D.c(it,de)+Me,le=D.k(me,de,ge);le!==it&&_e.push({range:new C.Q(Ve,1,Ve,it.length+1),text:le})}}}}if(_e.length>0){this.editor.pushUndoStop();const Ie=new q(_e,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",Ie),this.editor.pushUndoStop()}}shouldIgnoreLine(Q,K){Q.tokenization.forceTokenization(K);const ie=Q.getLineFirstNonWhitespaceColumn(K);if(0===ie)return!0;const ae=Q.tokenization.getLineTokens(K);if(ae.getCount()>0){const de=ae.findTokenIndexAtOffset(ie);if(de>=0&&1===ae.getStandardTokenType(de))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};var Q;function Y(G,Q,K,ie){if(1===G.getLineCount()&&1===G.getLineMaxColumn(1))return;let ae="";for(let se=0;se<K;se++)ae+=" ";const de=new RegExp(ae,"gi");for(let se=1,ge=G.getLineCount();se<=ge;se++){let _e=G.getLineFirstNonWhitespaceColumn(se);if(0===_e&&(_e=G.getLineMaxColumn(se)),1===_e)continue;const ye=new C.Q(se,1,se,_e),M=G.getValueInRange(ye),ce=ie?M.replace(/\t/gi,ae):M.replace(de,"\t");Q.addEditOperation(ye,ce)}}R.ID="editor.contrib.autoIndentOnPaste",R=function(G,Q,K,ie){var se,ae=arguments.length,de=ae<3?Q:null===ie?ie=Object.getOwnPropertyDescriptor(Q,K):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)de=Reflect.decorate(G,Q,K,ie);else for(var ge=G.length-1;ge>=0;ge--)(se=G[ge])&&(de=(ae<3?se(de):ae>3?se(Q,K,de):se(Q,K))||de);return ae>3&&de&&Object.defineProperty(Q,K,de),de}([(1,Q=b.JZ,function(K,ie){Q(K,ie,1)})],R);class oe{constructor(Q,K){this.selection=Q,this.tabSize=K,this.selectionId=null}getEditOperations(Q,K){this.selectionId=K.trackSelection(this.selection),Y(Q,K,this.tabSize,!0)}computeCursorState(Q,K){return K.getTrackedSelection(this.selectionId)}}class z{constructor(Q,K){this.selection=Q,this.tabSize=K,this.selectionId=null}getEditOperations(Q,K){this.selectionId=K.trackSelection(this.selection),Y(Q,K,this.tabSize,!1)}computeCursorState(Q,K){return K.getTrackedSelection(this.selectionId)}}(0,w.HW)(R.ID,R,2),(0,w.Fl)(O),(0,w.Fl)(N),(0,w.Fl)(L),(0,w.Fl)(j),(0,w.Fl)(Z),(0,w.Fl)(te),(0,w.Fl)(class X extends w.ks{constructor(){super({id:"editor.action.reindentlines",label:v.kg("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:S.R.writable,metadata:{description:v.aS("editor.reindentlinesDescription","Reindent the lines of the editor.")}})}run(Q,K){const ie=Q.get(b.JZ),ae=K.getModel();if(!ae)return;const de=p(ae,ie,1,ae.getLineCount());de.length>0&&(K.pushUndoStop(),K.executeEdits(this.id,de),K.pushUndoStop())}}),(0,w.Fl)(class U extends w.ks{constructor(){super({id:"editor.action.reindentselectedlines",label:v.kg("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:S.R.writable,metadata:{description:v.aS("editor.reindentselectedlinesDescription","Reindent the selected lines of the editor.")}})}run(Q,K){const ie=Q.get(b.JZ),ae=K.getModel();if(!ae)return;const de=K.getSelections();if(null===de)return;const se=[];for(const ge of de){let _e=ge.startLineNumber,ye=ge.endLineNumber;if(_e!==ye&&1===ge.endColumn&&ye--,1===_e){if(_e===ye)continue}else _e--;const M=p(ae,ie,_e,ye);se.push(...M)}se.length>0&&(K.pushUndoStop(),K.executeEdits(this.id,se),K.pushUndoStop())}})},84130:(tt,xe,t)=>{function a(w,x){let C=0;for(let S=0;S<w.length;S++)"\t"===w.charAt(S)?C+=x:C++;return C}function F(w,x,C){w=w<0?0:w;let S="";if(!C){const b=Math.floor(w/x);w%=x;for(let P=0;P<b;P++)S+="\t"}for(let b=0;b<w;b++)S+=" ";return S}t.d(xe,{c:()=>a,k:()=>F})},32301:(tt,xe,t)=>{t.d(xe,{CN:()=>_,EP:()=>P,P8:()=>v});var a=t(10467),F=t(25680),w=t(99031),x=t(13632),C=t(73678),S=t(75109),b=t(32417);class P{constructor(d,r){this.range=d,this.direction=r}}class D{constructor(d,r,l){this.hint=d,this.anchor=r,this.provider=l,this._isResolved=!1}with(d){const r=new D(this.hint,d.anchor,this.provider);return r._isResolved=this._isResolved,r._currentResolve=this._currentResolve,r}resolve(d){var r=this;return(0,a.A)(function*(){if("function"==typeof r.provider.resolveInlayHint){if(r._currentResolve)return yield r._currentResolve,d.isCancellationRequested?void 0:r.resolve(d);r._isResolved||(r._currentResolve=r._doResolve(d).finally(()=>r._currentResolve=void 0)),yield r._currentResolve}})()}_doResolve(d){var r=this;return(0,a.A)(function*(){var l,g,p;try{const m=yield Promise.resolve(r.provider.resolveInlayHint(r.hint,d));r.hint.tooltip=null!==(l=m?.tooltip)&&void 0!==l?l:r.hint.tooltip,r.hint.label=null!==(g=m?.label)&&void 0!==g?g:r.hint.label,r.hint.textEdits=null!==(p=m?.textEdits)&&void 0!==p?p:r.hint.textEdits,r._isResolved=!0}catch(m){(0,F.M_)(m),r._isResolved=!1}})()}}class v{static create(d,r,l,g){return(0,a.A)(function*(){const p=[],m=d.ordered(r).reverse().map(T=>l.map(function(){var A=(0,a.A)(function*(k){try{const O=yield T.provideInlayHints(r,k,g);(O?.hints.length||T.onDidChangeInlayHints)&&p.push([O??v._emptyInlayHintList,T])}catch(O){(0,F.M_)(O)}});return function(k){return A.apply(this,arguments)}}()));if(yield Promise.all(m.flat()),g.isCancellationRequested||r.isDisposed())throw new F.AL;return new v(l,p,r)})()}constructor(d,r,l){this._disposables=new w.Cm,this.ranges=d,this.provider=new Set;const g=[];for(const[p,m]of r){this._disposables.add(p),this.provider.add(m);for(const T of p.hints){const A=l.validatePosition(T.position);let k="before";const O=v._getRangeAtPosition(l,A);let N;O.getStartPosition().isBefore(A)?(N=C.Q.fromPositions(O.getStartPosition(),A),k="after"):(N=C.Q.fromPositions(A,O.getEndPosition()),k="before"),g.push(new D(T,new P(N,k),m))}}this.items=g.sort((p,m)=>x.y.compare(p.hint.position,m.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(d,r){const l=r.lineNumber,g=d.getWordAtPosition(r);if(g)return new C.Q(l,g.startColumn,l,g.endColumn);d.tokenization.tokenizeIfCheap(l);const p=d.tokenization.getLineTokens(l),m=r.column-1,T=p.findTokenIndexAtOffset(m);let A=p.getStartOffset(T),k=p.getEndOffset(T);return k-A==1&&(A===m&&T>1?(A=p.getStartOffset(T-1),k=p.getEndOffset(T-1)):k===m&&T<p.getCount()-1&&(A=p.getStartOffset(T+1),k=p.getEndOffset(T+1))),new C.Q(l,A+1,l,k+1)}}function _(f){return b.r.from({scheme:S.ny.command,path:f.id,query:f.arguments&&encodeURIComponent(JSON.stringify(f.arguments))}).toString()}v._emptyInlayHintList=Object.freeze({dispose(){},hints:[]})},71007:(tt,xe,t)=>{var a=t(47639),F=t(85190),w=t(85469),x=t(97747);(0,a.HW)(w.M.ID,w.M,1),F.B2.register(x.u)},85469:(tt,xe,t)=>{t.d(xe,{M:()=>Q,z:()=>z});var W,a=t(10467),F=t(91874),w=t(30833),x=t(86671),C=t(21468),S=t(25680),b=t(99031),P=t(20053),D=t(66702),v=t(32417),_=t(17105),f=t(44583),d=t(99207),r=t(5214),l=t(73678),g=t(41489),p=t(63782),m=t(80753),T=t(67539),A=t(15307),k=t(35425),O=t(31006),N=t(32301),H=t(6617),L=t(51126),j=t(56789),Z=t(598),te=t(16362),X=t(85478),U=t(48187),R=function(ie,ae){return function(de,se){ae(de,se,ie)}};class Y{constructor(){this._entries=new P.qK(50)}get(ae){const de=Y._key(ae);return this._entries.get(de)}set(ae,de){const se=Y._key(ae);this._entries.set(se,de)}static _key(ae){return`${ae.uri.toString()}/${ae.getVersionId()}`}}const oe=(0,Z.u1)("IInlayHintsCache");(0,j.v)(oe,Y,1);class z{constructor(ae,de){this.item=ae,this.index=de}get part(){const ae=this.item.hint.label;return"string"==typeof ae?{label:ae}:ae[this.index]}}class G{constructor(ae,de){this.part=ae,this.hasTriggerModifier=de}}let Q=W=class{static get(ae){var de;return null!==(de=ae.getContribution(W.ID))&&void 0!==de?de:void 0}constructor(ae,de,se,ge,_e,ye,M){this._editor=ae,this._languageFeaturesService=de,this._inlayHintsCache=ge,this._commandService=_e,this._notificationService=ye,this._instaService=M,this._disposables=new b.Cm,this._sessionDisposables=new b.Cm,this._decorationsMetadata=new Map,this._ruleFactory=new _.Qn(this._editor),this._activeRenderMode=0,this._debounceInfo=se.for(de.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(de.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(ae.onDidChangeModel(()=>this._update())),this._disposables.add(ae.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(ae.onDidChangeConfiguration(ce=>{ce.hasChanged(141)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){var ae=this;this._sessionDisposables.clear(),this._removeAllDecorations();const de=this._editor.getOption(141);if("off"===de.enabled)return;const se=this._editor.getModel();if(!se||!this._languageFeaturesService.inlayHintsProvider.has(se))return;if("on"===de.enabled)this._activeRenderMode=0;else{let ce,Se;"onUnlessPressed"===de.enabled?(ce=0,Se=1):(ce=1,Se=0),this._activeRenderMode=ce,this._sessionDisposables.add(F.Di.getInstance().event(Ie=>{if(!this._editor.hasModel())return;const ne=Ie.altKey&&Ie.ctrlKey&&!Ie.shiftKey&&!Ie.metaKey?Se:ce;if(ne!==this._activeRenderMode){this._activeRenderMode=ne;const ue=this._editor.getModel(),we=this._copyInlayHintsWithCurrentAnchor(ue);this._updateHintsDecorators([ue.getFullModelRange()],we),M.schedule(0)}}))}const ge=this._inlayHintsCache.get(se);let _e;ge&&this._updateHintsDecorators([se.getFullModelRange()],ge),this._sessionDisposables.add((0,b.s)(()=>{se.isDisposed()||this._cacheHintsForFastRestore(se)}));const ye=new Set,M=new x.uC((0,a.A)(function*(){const ce=Date.now();_e?.dispose(!0),_e=new C.Qi;const Se=se.onWillDispose(()=>_e?.cancel());try{const Ie=_e.token,ne=yield N.P8.create(ae._languageFeaturesService.inlayHintsProvider,se,ae._getHintsRanges(),Ie);if(M.delay=ae._debounceInfo.update(se,Date.now()-ce),Ie.isCancellationRequested)return void ne.dispose();for(const ue of ne.provider)"function"==typeof ue.onDidChangeInlayHints&&!ye.has(ue)&&(ye.add(ue),ae._sessionDisposables.add(ue.onDidChangeInlayHints(()=>{M.isScheduled()||M.schedule()})));ae._sessionDisposables.add(ne),ae._updateHintsDecorators(ne.ranges,ne.items),ae._cacheHintsForFastRestore(se)}catch(Ie){(0,S.dz)(Ie)}finally{_e.dispose(),Se.dispose()}}),this._debounceInfo.get(se));this._sessionDisposables.add(M),this._sessionDisposables.add((0,b.s)(()=>_e?.dispose(!0))),M.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(ce=>{(ce.scrollTopChanged||!M.isScheduled())&&M.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(ce=>{_e?.cancel();const Se=Math.max(M.delay,1250);M.schedule(Se)})),this._sessionDisposables.add(this._installDblClickGesture(()=>M.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){var ae=this;const de=new b.Cm,se=de.add(new O.gi(this._editor)),ge=new b.Cm;return de.add(ge),de.add(se.onMouseMoveOrRelevantKeyDown(_e=>{const[ye]=_e,M=this._getInlayHintLabelPart(ye),ce=this._editor.getModel();if(!M||!ce)return void ge.clear();const Se=new C.Qi;ge.add((0,b.s)(()=>Se.dispose(!0))),M.item.resolve(Se.token),this._activeInlayHintPart=M.part.command||M.part.location?new G(M,ye.hasTriggerModifier):void 0;const Ie=ce.validatePosition(M.item.hint.position).lineNumber,ne=new l.Q(Ie,1,Ie,ce.getLineMaxColumn(Ie)),ue=this._getInlineHintsForRange(ne);this._updateHintsDecorators([ne],ue),ge.add((0,b.s)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([ne],ue)}))})),de.add(se.onCancel(()=>ge.clear())),de.add(se.onExecute(function(){var _e=(0,a.A)(function*(ye){const M=ae._getInlayHintLabelPart(ye);if(M){const ce=M.part;ce.location?ae._instaService.invokeFunction(H.U,ye,ae._editor,ce.location):g.uB.is(ce.command)&&(yield ae._invokeCommand(ce.command,M.item))}});return function(ye){return _e.apply(this,arguments)}}())),de}_getInlineHintsForRange(ae){const de=new Set;for(const se of this._decorationsMetadata.values())ae.containsRange(se.item.anchor.range)&&de.add(se.item);return Array.from(de)}_installDblClickGesture(ae){var de=this;return this._editor.onMouseUp(function(){var se=(0,a.A)(function*(ge){if(2!==ge.event.detail)return;const _e=de._getInlayHintLabelPart(ge);if(_e&&(ge.event.preventDefault(),yield _e.item.resolve(C.XO.None),(0,w.EI)(_e.item.hint.textEdits))){const ye=_e.item.hint.textEdits.map(M=>r.k.replace(l.Q.lift(M.range),M.text));de._editor.executeEdits("inlayHint.default",ye),ae()}});return function(ge){return se.apply(this,arguments)}}())}_installContextMenu(){var ae=this;return this._editor.onContextMenu(function(){var de=(0,a.A)(function*(se){if(!(0,F.sb)(se.event.target))return;const ge=ae._getInlayHintLabelPart(se);ge&&(yield ae._instaService.invokeFunction(H.h,ae._editor,se.event.target,ge))});return function(se){return de.apply(this,arguments)}}())}_getInlayHintLabelPart(ae){var de;if(6!==ae.target.type)return;const se=null===(de=ae.target.detail.injectedText)||void 0===de?void 0:de.options;return se instanceof m.Ho&&se?.attachedData instanceof z?se.attachedData:void 0}_invokeCommand(ae,de){var se=this;return(0,a.A)(function*(){var ge;try{yield se._commandService.executeCommand(ae.id,...null!==(ge=ae.arguments)&&void 0!==ge?ge:[])}catch(_e){se._notificationService.notify({severity:te.AI.Error,source:de.provider.displayName,message:_e})}})()}_cacheHintsForFastRestore(ae){const de=this._copyInlayHintsWithCurrentAnchor(ae);this._inlayHintsCache.set(ae,de)}_copyInlayHintsWithCurrentAnchor(ae){const de=new Map;for(const[se,ge]of this._decorationsMetadata){if(de.has(ge.item))continue;const _e=ae.getDecorationRange(se);if(_e){const ye=new N.EP(_e,ge.item.anchor.direction),M=ge.item.with({anchor:ye});de.set(ge.item,M)}}return Array.from(de.values())}_getHintsRanges(){const de=this._editor.getModel(),se=this._editor.getVisibleRangesPlusViewportAboveBelow(),ge=[];for(const _e of se.sort(l.Q.compareRangesUsingStarts)){const ye=de.validateRange(new l.Q(_e.startLineNumber-30,_e.startColumn,_e.endLineNumber+30,_e.endColumn));0!==ge.length&&l.Q.areIntersectingOrTouching(ge[ge.length-1],ye)?ge[ge.length-1]=l.Q.plusRange(ge[ge.length-1],ye):ge.push(ye)}return ge}_updateHintsDecorators(ae,de){var se,ge;const _e=[],ye=($e,it,He,me,le)=>{const Ee={content:He,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:it.className,cursorStops:me,attachedData:le};_e.push({item:$e,classNameRef:it,decoration:{range:$e.anchor.range,options:{description:"InlayHint",showIfCollapsed:$e.anchor.range.isEmpty(),collapseOnReplaceEdit:!$e.anchor.range.isEmpty(),stickiness:0,[$e.anchor.direction]:0===this._activeRenderMode?Ee:void 0}}})},M=($e,it)=>{const He=this._ruleFactory.createClassNameRef({width:(ce/3|0)+"px",display:"inline-block"});ye($e,He,"\u200a",it?p.VW.Right:p.VW.None)},{fontSize:ce,fontFamily:Se,padding:Ie,isUniform:ne}=this._getLayoutInfo(),ue="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(ue,Se);let we={line:0,totalLen:0};for(const $e of de){if(we.line!==$e.anchor.range.startLineNumber&&(we={line:$e.anchor.range.startLineNumber,totalLen:0}),we.totalLen>W._MAX_LABEL_LEN)continue;$e.hint.paddingLeft&&M($e,!1);const it="string"==typeof $e.hint.label?[{label:$e.hint.label}]:$e.hint.label;for(let He=0;He<it.length;He++){const me=it[He],le=0===He,Ee=He===it.length-1,be={fontSize:`${ce}px`,fontFamily:`var(${ue}), ${d.jU.fontFamily}`,verticalAlign:ne?"baseline":"middle",unicodeBidi:"isolate"};(0,w.EI)($e.hint.textEdits)&&(be.cursor="default"),this._fillInColors(be,$e.hint),(me.command||me.location)&&(null===(se=this._activeInlayHintPart)||void 0===se?void 0:se.part.item)===$e&&this._activeInlayHintPart.part.index===He&&(be.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(be.color=(0,U.Yf)(X.Ztu),be.cursor="pointer")),Ie&&(le&&Ee?(be.padding=`1px ${0|Math.max(1,ce/4)}px`,be.borderRadius=(ce/4|0)+"px"):le?(be.padding=`1px 0 1px ${0|Math.max(1,ce/4)}px`,be.borderRadius=`${ce/4|0}px 0 0 ${ce/4|0}px`):Ee?(be.padding=`1px ${0|Math.max(1,ce/4)}px 1px 0`,be.borderRadius=`0 ${ce/4|0}px ${ce/4|0}px 0`):be.padding="1px 0 1px 0");let Ce=me.label;we.totalLen+=Ce.length;let Ne=!1;const Fe=we.totalLen-W._MAX_LABEL_LEN;if(Fe>0&&(Ce=Ce.slice(0,-Fe)+"\u2026",Ne=!0),ye($e,this._ruleFactory.createClassNameRef(be),Ce.replace(/[ \t]/g,"\xa0"),Ee&&!$e.hint.paddingRight?p.VW.Right:p.VW.None,new z($e,He)),Ne)break}if($e.hint.paddingRight&&M($e,!0),_e.length>W._MAX_DECORATORS)break}const Me=[];for(const[$e,it]of this._decorationsMetadata){const He=null===(ge=this._editor.getModel())||void 0===ge?void 0:ge.getDecorationRange($e);He&&ae.some(me=>me.containsRange(He))&&(Me.push($e),it.classNameRef.dispose(),this._decorationsMetadata.delete($e))}const Ve=f.D.capture(this._editor);this._editor.changeDecorations($e=>{const it=$e.deltaDecorations(Me,_e.map(He=>He.decoration));for(let He=0;He<it.length;He++)this._decorationsMetadata.set(it[He],_e[He])}),Ve.restore(this._editor)}_fillInColors(ae,de){de.kind===g.r4.Parameter?(ae.backgroundColor=(0,U.Yf)(X.B2L),ae.color=(0,U.Yf)(X.sjA)):de.kind===g.r4.Type?(ae.backgroundColor=(0,U.Yf)(X._pU),ae.color=(0,U.Yf)(X.HwT)):(ae.backgroundColor=(0,U.Yf)(X.WL6),ae.color=(0,U.Yf)(X.P6i))}_getLayoutInfo(){const ae=this._editor.getOption(141),de=ae.padding,se=this._editor.getOption(52),ge=this._editor.getOption(49);let _e=ae.fontSize;(!_e||_e<5||_e>se)&&(_e=se);const ye=ae.fontFamily||ge;return{fontSize:_e,fontFamily:ye,padding:de,isUniform:!de&&ye===ge&&_e===se}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const ae of this._decorationsMetadata.values())ae.classNameRef.dispose();this._decorationsMetadata.clear()}};Q.ID="editor.contrib.InlayHints",Q._MAX_DECORATORS=1500,Q._MAX_LABEL_LEN=43,Q=W=function(ie,ae,de,se){var ye,ge=arguments.length,_e=ge<3?ae:null===se?se=Object.getOwnPropertyDescriptor(ae,de):se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_e=Reflect.decorate(ie,ae,de,se);else for(var M=ie.length-1;M>=0;M--)(ye=ie[M])&&(_e=(ge<3?ye(_e):ge>3?ye(ae,de,_e):ye(ae,de))||_e);return ge>3&&_e&&Object.defineProperty(ae,de,_e),_e}([R(1,A.u),R(2,T.U),R(3,oe),R(4,L.d),R(5,te.Ot),R(6,Z._Y)],Q),L.w.registerCommand("_executeInlayHintProvider",function(){var ie=(0,a.A)(function*(ae,...de){const[se,ge]=de;(0,D.j)(v.r.isUri(se)),(0,D.j)(l.Q.isIRange(ge));const{inlayHintsProvider:_e}=ae.get(A.u),ye=yield ae.get(k.b).createModelReference(se);try{const M=yield N.P8.create(_e,ye.object.textEditorModel,[l.Q.lift(ge)],C.XO.None),ce=M.items.map(Se=>Se.hint);return setTimeout(()=>M.dispose(),0),ce}finally{ye.dispose()}});return function(ae){return ie.apply(this,arguments)}}())},97747:(tt,xe,t)=>{t.d(xe,{u:()=>L});var a=t(10467),F=t(19495),w=t(86671),x=t(13225),C=t(13632),S=t(80753),b=t(85190),P=t(385),D=t(35425),v=t(43999),_=t(77487),f=t(85469),d=t(35072),r=t(19438),l=t(15307),g=t(81644),p=t(21828),m=t(32301),T=t(30833),A=t(59002),k=t(79759),N=function(j,Z){return function(te,X){Z(te,X,j)}};class H extends b.mm{constructor(Z,te,X,U){super(10,te,Z.item.anchor.range,X,U,!0),this.part=Z}}let L=class extends _.xJ{constructor(Z,te,X,U,q,R,W,Y){super(Z,te,X,R,Y,U,q),this._resolverService=W,this.hoverOrdinal=6}suggestHoverAnchor(Z){var te;if(!f.M.get(this._editor)||6!==Z.target.type)return null;const U=null===(te=Z.target.detail.injectedText)||void 0===te?void 0:te.options;return U instanceof S.Ho&&U.attachedData instanceof f.z?new H(U.attachedData,this,Z.event.posx,Z.event.posy):null}computeSync(){return[]}computeAsync(Z,te,X){var U=this;return Z instanceof H?new w.AE(function(){var q=(0,a.A)(function*(R){const{part:W}=Z;if(yield W.item.resolve(X),X.isCancellationRequested)return;let Y,oe;if("string"==typeof W.item.hint.tooltip?Y=(new x.Bc).appendText(W.item.hint.tooltip):W.item.hint.tooltip&&(Y=W.item.hint.tooltip),Y&&R.emitOne(new _.eH(U,Z.range,[Y],!1,0)),(0,T.EI)(W.item.hint.textEdits)&&R.emitOne(new _.eH(U,Z.range,[(new x.Bc).appendText((0,g.kg)("hint.dbl","Double-click to insert"))],!1,10001)),"string"==typeof W.part.tooltip?oe=(new x.Bc).appendText(W.part.tooltip):W.part.tooltip&&(oe=W.part.tooltip),oe&&R.emitOne(new _.eH(U,Z.range,[oe],!1,1)),W.part.location||W.part.command){let de;const ge="altKey"===U._editor.getOption(78)?p.zx?(0,g.kg)("links.navigate.kb.meta.mac","cmd + click"):(0,g.kg)("links.navigate.kb.meta","ctrl + click"):p.zx?(0,g.kg)("links.navigate.kb.alt.mac","option + click"):(0,g.kg)("links.navigate.kb.alt","alt + click");W.part.location&&W.part.command?de=(new x.Bc).appendText((0,g.kg)("hint.defAndCommand","Go to Definition ({0}), right click for more",ge)):W.part.location?de=(new x.Bc).appendText((0,g.kg)("hint.def","Go to Definition ({0})",ge)):W.part.command&&(de=new x.Bc(`[${(0,g.kg)("hint.cmd","Execute Command")}](${(0,m.CN)(W.part.command)} "${W.part.command.title}") (${ge})`,{isTrusted:!0})),de&&R.emitOne(new _.eH(U,Z.range,[de],!1,1e4))}const z=yield U._resolveInlayHintLabelPartHover(W,X);var K,G=!1,Q=!1;try{for(var ae,ie=(0,F.A)(z);G=!(ae=yield ie.next()).done;G=!1)R.emitOne(ae.value)}catch(de){Q=!0,K=de}finally{try{G&&null!=ie.return&&(yield ie.return())}finally{if(Q)throw K}}});return function(R){return q.apply(this,arguments)}}()):w.AE.EMPTY}_resolveInlayHintLabelPartHover(Z,te){var X=this;return(0,a.A)(function*(){if(!Z.part.location)return w.AE.EMPTY;const{uri:U,range:q}=Z.part.location,R=yield X._resolverService.createModelReference(U);try{const W=R.object.textEditorModel;return X._languageFeaturesService.hoverProvider.has(W)?(0,v.U)(X._languageFeaturesService.hoverProvider,W,new C.y(q.startLineNumber,q.startColumn),te).filter(Y=>!(0,x.it)(Y.hover.contents)).map(Y=>new _.eH(X,Z.item.anchor.range,Y.hover.contents,!1,2+Y.ordinal)):w.AE.EMPTY}finally{R.dispose()}})()}};L=function(j,Z,te,X){var R,U=arguments.length,q=U<3?Z:null===X?X=Object.getOwnPropertyDescriptor(Z,te):X;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(j,Z,te,X);else for(var W=j.length-1;W>=0;W--)(R=j[W])&&(q=(U<3?R(q):U>3?R(Z,te,q):R(Z,te))||q);return U>3&&q&&Object.defineProperty(Z,te,q),q}([N(1,P.L),N(2,r.C),N(3,A.b),N(4,k.TN),N(5,d.pG),N(6,D.b),N(7,l.u)],L)},6617:(tt,xe,t)=>{t.d(xe,{U:()=>m,h:()=>g});var a=t(10467),F=t(91874),w=t(64948),x=t(21468),C=t(90316),S=t(73678),b=t(35425),P=t(95259),D=t(13140),v=t(79134),_=t(51126),f=t(50168),d=t(71887),r=t(598),l=t(16362);function g(A,k,O,N){return p.apply(this,arguments)}function p(){return(p=(0,a.A)(function*(A,k,O,N){var H;const L=A.get(b.b),j=A.get(d.Z),Z=A.get(_.d),te=A.get(r._Y),X=A.get(l.Ot);if(yield N.item.resolve(x.XO.None),!N.part.location)return;const U=N.part.location,q=[],R=new Set(v.ZG.getMenuItems(v.D8.EditorContext).map(Y=>(0,v.is)(Y)?Y.command.id:(0,C.b)()));for(const Y of P.bn.all())R.has(Y.desc.id)&&q.push(new w.rc(Y.desc.id,v.Xe.label(Y.desc,{renderShortTitle:!0}),void 0,!0,(0,a.A)(function*(){const oe=yield L.createModelReference(U.uri);try{const z=new P.QS(oe.object.textEditorModel,S.Q.getStartPosition(U.range)),G=N.item.anchor.range;yield te.invokeFunction(Y.runEditorCommand.bind(Y),k,z,G)}finally{oe.dispose()}})));if(N.part.command){const{command:Y}=N.part;q.push(new w.wv),q.push(new w.rc(Y.id,Y.title,void 0,!0,(0,a.A)(function*(){var oe;try{yield Z.executeCommand(Y.id,...null!==(oe=Y.arguments)&&void 0!==oe?oe:[])}catch(z){X.notify({severity:l.AI.Error,source:N.item.provider.displayName,message:z})}})))}const W=k.getOption(127);j.showContextMenu({domForShadowRoot:W&&null!==(H=k.getDomNode())&&void 0!==H?H:void 0,getAnchor:()=>{const Y=F.BK(O);return{x:Y.left,y:Y.top+Y.height+8}},getActions:()=>q,onHide:()=>{k.focus()},autoSelectFirstItem:!0})})).apply(this,arguments)}function m(A,k,O,N){return T.apply(this,arguments)}function T(){return T=(0,a.A)(function*(A,k,O,N){const L=yield A.get(b.b).createModelReference(N.uri);yield O.invokeWithinContext(function(){var j=(0,a.A)(function*(Z){const te=k.hasSideBySideModifier,X=Z.get(f.fN),U=D.x2.inPeekEditor.getValue(X),q=!te&&O.getOption(88)&&!U;return new P.mR({openToSide:te,openInPeek:q,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(Z,new P.QS(L.object.textEditorModel,S.Q.getStartPosition(N.range)),S.Q.lift(N.range))});return function(Z){return j.apply(this,arguments)}}()),L.dispose()}),T.apply(this,arguments)}},77174:(tt,xe,t)=>{t.d(xe,{PA:()=>w,Vl:()=>F,Wt:()=>a});const a="editor.action.inlineSuggest.commit",F="editor.action.inlineSuggest.showPrevious",w="editor.action.inlineSuggest.showNext"},78727:(tt,xe,t)=>{t.d(xe,{AL:()=>D,Vs:()=>P,x9:()=>v,xD:()=>S,yP:()=>b});var a=t(30833),F=t(6653),w=t(13632),x=t(73678),C=t(66156);class S{constructor(f,d){this.lineNumber=f,this.parts=d}equals(f){return this.lineNumber===f.lineNumber&&this.parts.length===f.parts.length&&this.parts.every((d,r)=>d.equals(f.parts[r]))}renderForScreenReader(f){if(0===this.parts.length)return"";const r=f.substr(0,this.parts[this.parts.length-1].column-1);return new C.mF([...this.parts.map(g=>new C.WR(x.Q.fromPositions(new w.y(1,g.column)),g.lines.join("\n")))]).applyToString(r).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(f=>0===f.lines.length)}get lineCount(){return 1+this.parts.reduce((f,d)=>f+d.lines.length-1,0)}}class b{constructor(f,d,r){this.column=f,this.text=d,this.preview=r,this.lines=(0,F.uz)(this.text)}equals(f){return this.column===f.column&&this.lines.length===f.lines.length&&this.lines.every((d,r)=>d===f.lines[r])}}class P{constructor(f,d,r,l=0){this.lineNumber=f,this.columnRange=d,this.text=r,this.additionalReservedLineCount=l,this.parts=[new b(this.columnRange.endColumnExclusive,this.text,!1)],this.newLines=(0,F.uz)(this.text)}renderForScreenReader(f){return this.newLines.join("\n")}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(f=>0===f.lines.length)}equals(f){return this.lineNumber===f.lineNumber&&this.columnRange.equals(f.columnRange)&&this.newLines.length===f.newLines.length&&this.newLines.every((d,r)=>d===f.newLines[r])&&this.additionalReservedLineCount===f.additionalReservedLineCount}}function D(_,f){return(0,a.aI)(_,f,v)}function v(_,f){return _===f||!(!_||!f)&&(_ instanceof S&&f instanceof S||_ instanceof P&&f instanceof P)&&_.equals(f)}},32015:(tt,xe,t)=>{t.d(xe,{vS:()=>Q,PM:()=>G});var a=t(87892),F=t(5643),w=t(99031),x=t(28044),C=t(6653),S=t(85072),b=t.n(S),P=t(97825),D=t.n(P),v=t(77659),_=t.n(v),f=t(55056),d=t.n(f),r=t(10540),l=t.n(r),g=t(41113),p=t.n(g),m=t(58169),T={};T.styleTagTransform=p(),T.setAttributes=d(),T.insert=_().bind(null,"head"),T.domAPI=D(),T.insertStyleElement=l(),b()(m.A,T);var O=t(93988),N=t(99207),H=t(13632),L=t(73678),j=t(10139),Z=t(385),te=t(63782),X=t(33480),U=t(86162),q=t(38993),R=t(78727),W=t(28966);const z="ghost-text";let G=class extends w.jG{constructor(de,se,ge){super(),this.editor=de,this.model=se,this.languageService=ge,this.isDisposed=(0,x.FY)(this,!1),this.currentTextModel=(0,x.y0)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,x.un)(this,_e=>{if(this.isDisposed.read(_e))return;const ye=this.currentTextModel.read(_e);if(ye!==this.model.targetTextModel.read(_e))return;const M=this.model.ghostText.read(_e);if(!M)return;const ce=M instanceof R.Vs?M.columnRange:void 0,Se=[],Ie=[];function ne($e,it){if(Ie.length>0){const He=Ie[Ie.length-1];it&&He.decorations.push(new U.d(He.content.length+1,He.content.length+1+$e[0].length,it,0)),He.content+=$e[0],$e=$e.slice(1)}for(const He of $e)Ie.push({content:He,decorations:it?[new U.d(1,He.length+1,it,0)]:[]})}const ue=ye.getLineContent(M.lineNumber);let we,Me=0;for(const $e of M.parts){let it=$e.lines;void 0===we?(Se.push({column:$e.column,text:it[0],preview:$e.preview}),it=it.slice(1)):ne([ue.substring(Me,$e.column-1)],void 0),it.length>0&&(ne(it,z),void 0===we&&$e.column<=ue.length&&(we=$e.column)),Me=$e.column-1}void 0!==we&&ne([ue.substring(Me)],void 0);const Ve=void 0!==we?new W.GM(we,ue.length+1):void 0;return{replacedRange:ce,inlineTexts:Se,additionalLines:Ie,hiddenRange:Ve,lineNumber:M.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(_e),targetTextModel:ye}}),this.decorations=(0,x.un)(this,_e=>{const ye=this.uiState.read(_e);if(!ye)return[];const M=[];ye.replacedRange&&M.push({range:ye.replacedRange.toRange(ye.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),ye.hiddenRange&&M.push({range:ye.hiddenRange.toRange(ye.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const ce of ye.inlineTexts)M.push({range:L.Q.fromPositions(new H.y(ye.lineNumber,ce.column)),options:{description:z,after:{content:ce.text,inlineClassName:ce.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:te.VW.Left},showIfCollapsed:!0}});return M}),this.additionalLinesWidget=this._register(new Q(this.editor,this.languageService.languageIdCodec,(0,x.un)(_e=>{const ye=this.uiState.read(_e);return ye?{lineNumber:ye.lineNumber,additionalLines:ye.additionalLines,minReservedLineCount:ye.additionalReservedLineCount,targetTextModel:ye.targetTextModel}:void 0}))),this._register((0,w.s)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,W.pY)(this.editor,this.decorations))}ownsViewZone(de){return this.additionalLinesWidget.viewZoneId===de}};var de;G=function(ae,de,se,ge){var M,_e=arguments.length,ye=_e<3?de:null===ge?ge=Object.getOwnPropertyDescriptor(de,se):ge;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ye=Reflect.decorate(ae,de,se,ge);else for(var ce=ae.length-1;ce>=0;ce--)(M=ae[ce])&&(ye=(_e<3?M(ye):_e>3?M(de,se,ye):M(de,se))||ye);return _e>3&&ye&&Object.defineProperty(de,se,ye),ye}([(2,de=Z.L,function(se,ge){de(se,ge,2)})],G);class Q extends w.jG{get viewZoneId(){return this._viewZoneId}constructor(de,se,ge){super(),this.editor=de,this.languageIdCodec=se,this.lines=ge,this._viewZoneId=void 0,this.editorOptionsChanged=(0,x.yQ)("editorOptionChanged",F.Jh.filter(this.editor.onDidChangeConfiguration,_e=>_e.hasChanged(33)||_e.hasChanged(117)||_e.hasChanged(99)||_e.hasChanged(94)||_e.hasChanged(51)||_e.hasChanged(50)||_e.hasChanged(67))),this._register((0,x.fm)(_e=>{const ye=this.lines.read(_e);this.editorOptionsChanged.read(_e),ye?this.updateLines(ye.lineNumber,ye.additionalLines,ye.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(de=>{this._viewZoneId&&(de.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(de,se,ge){const _e=this.editor.getModel();if(!_e)return;const{tabSize:ye}=_e.getOptions();this.editor.changeViewZones(M=>{this._viewZoneId&&(M.removeZone(this._viewZoneId),this._viewZoneId=void 0);const ce=Math.max(se.length,ge);if(ce>0){const Se=document.createElement("div");(function K(ae,de,se,ge,_e){const ye=ge.get(33),M=ge.get(117),Se=ge.get(94),Ie=ge.get(51),ne=ge.get(50),ue=ge.get(67),we=new j.fe(1e4);we.appendString('<div class="suggest-preview-text">');for(let $e=0,it=se.length;$e<it;$e++){const He=se[$e],me=He.content;we.appendString('<div class="view-line'),we.appendString('" style="top:'),we.appendString(String($e*ue)),we.appendString('px;width:1000000px;">');const le=C.aC(me),Ee=C.E_(me),be=X.f.createEmpty(me,_e);(0,q.UW)(new q.zL(ne.isMonospace&&!ye,ne.canUseHalfwidthRightwardsArrow,me,!1,le,Ee,0,be,He.decorations,de,0,ne.spaceWidth,ne.middotWidth,ne.wsmiddotWidth,M,"none",Se,Ie!==N.Bc.OFF,null),we),we.appendString("</div>")}we.appendString("</div>"),(0,O.M)(ae,ne);const Me=we.build(),Ve=ie?ie.createHTML(Me):Me;ae.innerHTML=Ve})(Se,ye,se,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=M.addZone({afterLineNumber:de,heightInLines:ce,domNode:Se,afterColumnAffinity:1})}})}}const ie=(0,a.H)("editorGhostText",{createHTML:ae=>ae})},93797:(tt,xe,t)=>{t.d(xe,{p:()=>b});var a=t(28044),F=t(6653),w=t(52282),x=t(50168),C=t(99031),S=t(81644);class b extends C.jG{constructor(D,v){super(),this.contextKeyService=D,this.model=v,this.inlineCompletionVisible=b.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=b.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=b.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=b.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,a.fm)(_=>{const f=this.model.read(_),d=f?.state.read(_),r=!!d?.inlineCompletion&&void 0!==d?.primaryGhostText&&!d?.primaryGhostText.isEmpty();this.inlineCompletionVisible.set(r),d?.primaryGhostText&&d?.inlineCompletion&&this.suppressSuggestions.set(d.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,a.fm)(_=>{const f=this.model.read(_);let d=!1,r=!0;const l=f?.primaryGhostText.read(_);if(f?.selectedSuggestItem&&l&&l.parts.length>0){const{column:g,lines:p}=l.parts[0],m=p[0];if(g<=f.textModel.getLineIndentColumn(l.lineNumber)){let k=(0,F.HG)(m);-1===k&&(k=m.length-1),d=k>0;const O=f.textModel.getOptions().tabSize;r=w.A.visibleColumnFromColumn(m,k+1,O)<O}}this.inlineCompletionSuggestsIndentation.set(d),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(r)}))}}b.inlineSuggestionVisible=new x.N1("inlineSuggestionVisible",!1,(0,S.kg)("inlineSuggestionVisible","Whether an inline suggestion is visible")),b.inlineSuggestionHasIndentation=new x.N1("inlineSuggestionHasIndentation",!1,(0,S.kg)("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),b.inlineSuggestionHasIndentationLessThanTabSize=new x.N1("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,S.kg)("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),b.suppressSuggestions=new x.N1("inlineSuggestionSuppressSuggestions",void 0,(0,S.kg)("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"))},15891:(tt,xe,t)=>{var a=t(47639),F=t(85190),w=t(10467),x=t(28044),C=t(19159),S=t(69995),b=t(77174),P=t(93797),D=t(91874),v=t(39679),_=t(86671),f=t(21468),d=t(58958),r=t(99031),l=t(30721),g=t(66702),p=t(88175),m=t(13632),T=t(67539),A=t(15307),k=t(32015),O=t(80846),N=t(30833),H=t(92210),L=t(25680),j=t(6653),Z=t(5214),te=t(73678),X=t(14105),U=t(66156),q=t(87676),R=t(41489),W=t(70416),Y=t(78727),oe=t(28467),z=t(43929),G=t(20053),Q=t(35275),K=t(73586),ie=t(73488),ae=t(41963),de=t(65113);class ge{constructor(Wt){this.lines=Wt,this.tokenization={getLineTokens:mn=>this.lines[mn-1]}}getLineCount(){return this.lines.length}getLineLength(Wt){return this.lines[Wt-1].getLineContent().length}}var _e=t(28966),ye=t(7716);function ce(){return ce=(0,w.A)(function*(gn,Wt,mn,En,On=f.XO.None,Rn){const Qn=function ue(gn,Wt){const mn=Wt.getWordAtPosition(gn),En=Wt.getLineMaxColumn(gn.lineNumber);return mn?new te.Q(gn.lineNumber,mn.startColumn,gn.lineNumber,En):te.Q.fromPositions(gn,gn.with(void 0,En))}(Wt,mn),fi=gn.all(mn),Mn=new G.db;for(const sn of fi)sn.groupId&&Mn.add(sn.groupId,sn);function Sn(sn){if(!sn.yieldsToGroupIds)return[];const kn=[];for(const oi of sn.yieldsToGroupIds||[]){const mi=Mn.get(oi);for(const gi of mi)kn.push(gi)}return kn}const Xt=new Map,je=new Set;function at(sn,kn){if(kn=[...kn,sn],je.has(sn))return kn;je.add(sn);try{const oi=Sn(sn);for(const mi of oi){const gi=at(mi,kn);if(gi)return gi}}finally{je.delete(sn)}}function Mt(sn){const kn=Xt.get(sn);if(kn)return kn;const oi=at(sn,[]);oi&&(0,L.M_)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${oi.map(gi=>gi.toString?gi.toString():""+gi).join(" -> ")}`));const mi=new _.Zv;return Xt.set(sn,mi.p),(0,w.A)(function*(){if(!oi){const gi=Sn(sn);for(const ai of gi){const li=yield Mt(ai);if(li&&li.items.length>0)return}}try{return yield sn.provideInlineCompletions(mn,Wt,En,On)}catch(gi){return void(0,L.M_)(gi)}})().then(gi=>mi.complete(gi),gi=>mi.error(gi)),mi.p}const Et=yield Promise.all(fi.map(function(){var sn=(0,w.A)(function*(kn){return{provider:kn,completions:yield Mt(kn)}});return function(kn){return sn.apply(this,arguments)}}())),Vt=new Map,zt=[];for(const sn of Et){const kn=sn.completions;if(!kn)continue;const oi=new Ie(kn,sn.provider);zt.push(oi);for(const mi of kn.items){const gi=ne.from(mi,oi,Qn,mn,Rn);Vt.set(gi.hash(),gi)}}return new Se(Array.from(Vt.values()),new Set(Vt.keys()),zt)}),ce.apply(this,arguments)}class Se{constructor(Wt,mn,En){this.completions=Wt,this.hashs=mn,this.providerResults=En}has(Wt){return this.hashs.has(Wt.hash())}dispose(){for(const Wt of this.providerResults)Wt.removeRef()}}class Ie{constructor(Wt,mn){this.inlineCompletions=Wt,this.provider=mn,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,0===this.refCount&&this.provider.freeInlineCompletions(this.inlineCompletions)}}class ne{static from(Wt,mn,En,On,Rn){let Qn,fi,Mn=Wt.range?te.Q.lift(Wt.range):En;if("string"==typeof Wt.insertText){if(Qn=Wt.insertText,Rn&&Wt.completeBracketPairs){Qn=we(Qn,Mn.getStartPosition(),On,Rn);const Sn=Qn.length-Wt.insertText.length;0!==Sn&&(Mn=new te.Q(Mn.startLineNumber,Mn.startColumn,Mn.endLineNumber,Mn.endColumn+Sn))}fi=void 0}else if("snippet"in Wt.insertText){const Sn=Wt.insertText.snippet.length;if(Rn&&Wt.completeBracketPairs){Wt.insertText.snippet=we(Wt.insertText.snippet,Mn.getStartPosition(),On,Rn);const je=Wt.insertText.snippet.length-Sn;0!==je&&(Mn=new te.Q(Mn.startLineNumber,Mn.startColumn,Mn.endLineNumber,Mn.endColumn+je))}const Xt=(new ye.fr).parse(Wt.insertText.snippet);1===Xt.children.length&&Xt.children[0]instanceof ye.EY?(Qn=Xt.children[0].value,fi=void 0):(Qn=Xt.toString(),fi={snippet:Wt.insertText.snippet,range:Mn})}else(0,z.xb)(Wt.insertText);return new ne(Qn,Wt.command,Mn,Qn,fi,Wt.additionalTextEdits||(0,_e.zk)(),Wt,mn)}constructor(Wt,mn,En,On,Rn,Qn,fi,Mn){this.filterText=Wt,this.command=mn,this.range=En,this.insertText=On,this.snippetInfo=Rn,this.additionalTextEdits=Qn,this.sourceInlineCompletion=fi,this.source=Mn,On=(Wt=Wt.replace(/\r\n|\r/g,"\n")).replace(/\r\n|\r/g,"\n")}withRange(Wt){return new ne(this.filterText,this.command,Wt,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}function we(gn,Wt,mn,En){const Rn=mn.getLineContent(Wt.lineNumber).substring(0,Wt.column-1)+gn,Qn=mn.tokenization.tokenizeLineWithEdit(Wt,Rn.length-(Wt.column-1),gn),fi=Qn?.sliceAndInflate(Wt.column-1,Rn.length,0);return fi?function se(gn,Wt){const mn=new ae.Mg,En=new Q.Z(mn,Sn=>Wt.getLanguageConfiguration(Sn)),On=new de.tk(new ge([gn]),En),Rn=(0,ie.T)(On,[],void 0,!0);let Qn="";const fi=gn.getLineContent();return function Mn(Sn,Xt){if(2===Sn.kind)if(Mn(Sn.openingBracket,Xt),Xt=(0,K.QB)(Xt,Sn.openingBracket.length),Sn.child&&(Mn(Sn.child,Xt),Xt=(0,K.QB)(Xt,Sn.child.length)),Sn.closingBracket)Mn(Sn.closingBracket,Xt),Xt=(0,K.QB)(Xt,Sn.closingBracket.length);else{const at=En.getSingleLanguageBracketTokens(Sn.openingBracket.languageId).findClosingTokenText(Sn.openingBracket.bracketIds);Qn+=at}else if(3!==Sn.kind)if(0===Sn.kind||1===Sn.kind)Qn+=fi.substring((0,K.sS)(Xt),(0,K.sS)((0,K.QB)(Xt,Sn.length)));else if(4===Sn.kind)for(const je of Sn.children)Mn(je,Xt),Xt=(0,K.QB)(Xt,je.length)}(Rn,K.Vp),Qn}(fi,En):gn}var Me=t(33431);function Ve(gn,Wt,mn){const En=mn?gn.range.intersectRanges(mn):gn.range;if(!En)return gn;const On=Wt.getValueInRange(En,1),Rn=(0,j.Qp)(On,gn.text),Qn=q.W.ofText(On.substring(0,Rn)).addToPosition(gn.range.getStartPosition()),fi=gn.text.substring(Rn),Mn=te.Q.fromPositions(Qn,gn.range.getEndPosition());return new U.WR(Mn,fi)}function $e(gn,Wt){return gn.text.startsWith(Wt.text)&&function He(gn,Wt){return Wt.getStartPosition().equals(gn.getStartPosition())&&Wt.getEndPosition().isBeforeOrEqual(gn.getEndPosition())}(gn.range,Wt.range)}function it(gn,Wt,mn,En,On=0){let Rn=Ve(gn,Wt);if(Rn.range.endLineNumber!==Rn.range.startLineNumber)return;const Qn=Wt.getLineContent(Rn.range.startLineNumber),fi=(0,j.UU)(Qn).length;if(Rn.range.startColumn-1<=fi){const Et=(0,j.UU)(Rn.text).length,Vt=Qn.substring(Rn.range.startColumn-1,fi),[zt,sn]=[Rn.range.getStartPosition(),Rn.range.getEndPosition()],kn=zt.column+Vt.length<=sn.column?zt.delta(0,Vt.length):sn,oi=te.Q.fromPositions(kn,sn),mi=Rn.text.startsWith(Vt)?Rn.text.substring(Vt.length):Rn.text.substring(Et);Rn=new U.WR(oi,mi)}const Sn=Wt.getValueInRange(Rn.range),Xt=function le(gn,Wt){if(me?.originalValue===gn&&me?.newValue===Wt)return me?.changes;{let mn=be(gn,Wt,!0);if(mn){const En=Ee(mn);if(En>0){const On=be(gn,Wt,!1);On&&Ee(On)<En&&(mn=On)}}return me={originalValue:gn,newValue:Wt,changes:mn},mn}}(Sn,Rn.text);if(!Xt)return;const je=Rn.range.startLineNumber,at=new Array;if("prefix"===mn){const Et=Xt.filter(Vt=>0===Vt.originalLength);if(Et.length>1||1===Et.length&&Et[0].originalStart!==Sn.length)return}const Mt=Rn.text.length-On;for(const Et of Xt){const Vt=Rn.range.startColumn+Et.originalStart+Et.originalLength;if("subwordSmart"===mn&&En&&En.lineNumber===Rn.range.startLineNumber&&Vt<En.column||Et.originalLength>0)return;if(0===Et.modifiedLength)continue;const zt=Et.modifiedStart+Et.modifiedLength,sn=Math.max(Et.modifiedStart,Math.min(zt,Mt)),kn=Rn.text.substring(Et.modifiedStart,sn),oi=Rn.text.substring(sn,Math.max(Et.modifiedStart,zt));kn.length>0&&at.push(new Y.yP(Vt,kn,!1)),oi.length>0&&at.push(new Y.yP(Vt,oi,!0))}return new Y.xD(je,at)}let me;function Ee(gn){let Wt=0;for(const mn of gn)Wt+=mn.originalLength;return Wt}function be(gn,Wt,mn){if(gn.length>5e3||Wt.length>5e3)return;function En(Sn){let Xt=0;for(let je=0,at=Sn.length;je<at;je++){const Mt=Sn.charCodeAt(je);Mt>Xt&&(Xt=Mt)}return Xt}const On=Math.max(En(gn),En(Wt));function Rn(Sn){if(Sn<0)throw new Error("unexpected");return On+Sn+1}function Qn(Sn){let Xt=0,je=0;const at=new Int32Array(Sn.length);for(let Mt=0,Et=Sn.length;Mt<Et;Mt++)mn&&"("===Sn[Mt]?(at[Mt]=Rn(2*(100*je+Xt)),Xt++):mn&&")"===Sn[Mt]?(Xt=Math.max(Xt-1,0),at[Mt]=Rn(2*(100*je+Xt)+1),0===Xt&&je++):at[Mt]=Sn.charCodeAt(Mt);return at}const fi=Qn(gn),Mn=Qn(Wt);return new Me.uP({getElements:()=>fi},{getElements:()=>Mn}).ComputeDiff(!1).changes}var Ne=function(gn,Wt){return function(mn,En){Wt(mn,En,gn)}};let Fe=class extends r.jG{constructor(Wt,mn,En,On,Rn){super(),this.textModel=Wt,this.versionId=mn,this._debounceValue=En,this.languageFeaturesService=On,this.languageConfigurationService=Rn,this._updateOperation=this._register(new r.HE),this.inlineCompletions=(0,x.X2)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,x.X2)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(Wt,mn,En){var Rn,Qn,On=this;const fi=new dt(Wt,mn,this.textModel.getVersionId()),Mn=mn.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(null!==(Rn=this._updateOperation.value)&&void 0!==Rn&&Rn.request.satisfies(fi))return this._updateOperation.value.promise;if(null!==(Qn=Mn.get())&&void 0!==Qn&&Qn.request.satisfies(fi))return Promise.resolve(!0);const Sn=!!this._updateOperation.value;this._updateOperation.clear();const Xt=new f.Qi,je=(0,w.A)(function*(){if((Sn||mn.triggerKind===R.qw.Automatic)&&(yield function qe(gn,Wt){return new Promise(mn=>{let En;const On=setTimeout(()=>{En&&En.dispose(),mn()},gn);Wt&&(En=Wt.onCancellationRequested(()=>{clearTimeout(On),En&&En.dispose(),mn()}))})}(On._debounceValue.get(On.textModel),Xt.token)),Xt.token.isCancellationRequested||On.textModel.getVersionId()!==fi.versionId)return!1;const Et=new Date,Vt=yield function M(gn,Wt,mn,En){return ce.apply(this,arguments)}(On.languageFeaturesService.inlineCompletionsProvider,Wt,On.textModel,mn,Xt.token,On.languageConfigurationService);if(Xt.token.isCancellationRequested||On.textModel.getVersionId()!==fi.versionId)return!1;On._debounceValue.update(On.textModel,(new Date).getTime()-Et.getTime());const sn=new fn(Vt,fi,On.textModel,On.versionId);if(En){const kn=En.toInlineCompletion(void 0);En.canBeReused(On.textModel,Wt)&&!Vt.has(kn)&&sn.prepend(En.inlineCompletion,kn.range,!0)}return On._updateOperation.clear(),(0,x.Rn)(kn=>{Mn.set(sn,kn)}),!0})(),at=new vt(fi,Xt,je);return this._updateOperation.value=at,je}clear(Wt){this._updateOperation.clear(),this.inlineCompletions.set(void 0,Wt),this.suggestWidgetInlineCompletions.set(void 0,Wt)}clearSuggestWidgetInlineCompletions(Wt){var mn;!(null===(mn=this._updateOperation.value)||void 0===mn)&&mn.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,Wt)}cancelUpdate(){this._updateOperation.clear()}};Fe=function(gn,Wt,mn,En){var Qn,On=arguments.length,Rn=On<3?Wt:null===En?En=Object.getOwnPropertyDescriptor(Wt,mn):En;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Rn=Reflect.decorate(gn,Wt,mn,En);else for(var fi=gn.length-1;fi>=0;fi--)(Qn=gn[fi])&&(Rn=(On<3?Qn(Rn):On>3?Qn(Wt,mn,Rn):Qn(Wt,mn))||Rn);return On>3&&Rn&&Object.defineProperty(Wt,mn,Rn),Rn}([Ne(3,A.u),Ne(4,W.JZ)],Fe);class dt{constructor(Wt,mn,En){this.position=Wt,this.context=mn,this.versionId=En}satisfies(Wt){return this.position.equals(Wt.position)&&(0,d.KC)(this.context.selectedSuggestionInfo,Wt.context.selectedSuggestionInfo,(0,d.r)())&&(Wt.context.triggerKind===R.qw.Automatic||this.context.triggerKind===R.qw.Explicit)&&this.versionId===Wt.versionId}}class vt{constructor(Wt,mn,En){this.request=Wt,this.cancellationTokenSource=mn,this.promise=En}dispose(){this.cancellationTokenSource.cancel()}}class fn{get inlineCompletions(){return this._inlineCompletions}constructor(Wt,mn,En,On){this.inlineCompletionProviderResult=Wt,this.request=mn,this._textModel=En,this._versionId=On,this._refCount=1,this._prependedInlineCompletionItems=[];const Rn=En.deltaDecorations([],Wt.completions.map(Qn=>({range:Qn.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=Wt.completions.map((Qn,fi)=>new on(Qn,Rn[fi],this._textModel,this._versionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,0===this._refCount){setTimeout(()=>{this._textModel.isDisposed()||this._textModel.deltaDecorations(this._inlineCompletions.map(Wt=>Wt.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const Wt of this._prependedInlineCompletionItems)Wt.source.removeRef()}}prepend(Wt,mn,En){En&&Wt.source.addRef();const On=this._textModel.deltaDecorations([],[{range:mn,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new on(Wt,On,this._textModel,this._versionId)),this._prependedInlineCompletionItems.push(Wt)}}class on{get forwardStable(){var Wt;return null!==(Wt=this.inlineCompletion.source.inlineCompletions.enableForwardStability)&&void 0!==Wt&&Wt}constructor(Wt,mn,En,On){this.inlineCompletion=Wt,this.decorationId=mn,this._textModel=En,this._modelVersion=On,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._updatedRange=(0,x.C)({owner:this,equalsFn:te.Q.equalsRange},Rn=>(this._modelVersion.read(Rn),this._textModel.getDecorationRange(this.decorationId)))}toInlineCompletion(Wt){var mn;return this.inlineCompletion.withRange(null!==(mn=this._updatedRange.read(Wt))&&void 0!==mn?mn:ht)}toSingleTextEdit(Wt){var mn;return new U.WR(null!==(mn=this._updatedRange.read(Wt))&&void 0!==mn?mn:ht,this.inlineCompletion.insertText)}isVisible(Wt,mn,En){const On=Ve(this._toFilterTextReplacement(En),Wt),Rn=this._updatedRange.read(En);if(!Rn||!this.inlineCompletion.range.getStartPosition().equals(Rn.getStartPosition())||mn.lineNumber!==On.range.startLineNumber)return!1;const Qn=Wt.getValueInRange(On.range,1),fi=On.text,Mn=Math.max(0,mn.column-On.range.startColumn);let Sn=fi.substring(0,Mn),Xt=fi.substring(Mn),je=Qn.substring(0,Mn),at=Qn.substring(Mn);const Mt=Wt.getLineIndentColumn(On.range.startLineNumber);return On.range.startColumn<=Mt&&(je=je.trimStart(),0===je.length&&(at=at.trimStart()),Sn=Sn.trimStart(),0===Sn.length&&(Xt=Xt.trimStart())),Sn.startsWith(je)&&!!(0,oe.dE)(at,Xt)}canBeReused(Wt,mn){const En=this._updatedRange.read(void 0);return!!En&&En.containsPosition(mn)&&this.isVisible(Wt,mn,void 0)&&q.W.ofRange(En).isGreaterThanOrEqualTo(q.W.ofRange(this.inlineCompletion.range))}_toFilterTextReplacement(Wt){var mn;return new U.WR(null!==(mn=this._updatedRange.read(Wt))&&void 0!==mn?mn:ht,this.inlineCompletion.filterText)}}const ht=new te.Q(1,1,1,1);var Je=t(3089),ot=t(51126),De=t(598),mt=function(gn,Wt){return function(mn,En){Wt(mn,En,gn)}},kt=function(gn){return gn[gn.Undo=0]="Undo",gn[gn.Redo=1]="Redo",gn[gn.AcceptWord=2]="AcceptWord",gn[gn.Other=3]="Other",gn}(kt||{});let Ht=class extends r.jG{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(Wt,mn,En,On,Rn,Qn,fi,Mn,Sn,Xt,je,at){let Mt;super(),this.textModel=Wt,this.selectedSuggestItem=mn,this.textModelVersionId=En,this._positions=On,this._debounceValue=Rn,this._suggestPreviewEnabled=Qn,this._suggestPreviewMode=fi,this._inlineSuggestMode=Mn,this._enabled=Sn,this._instantiationService=Xt,this._commandService=je,this._languageConfigurationService=at,this._source=this._register(this._instantiationService.createInstance(Fe,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,x.FY)(this,!1),this._forceUpdateExplicitlySignal=(0,x.Yd)(this),this._selectedInlineCompletionId=(0,x.FY)(this,void 0),this._primaryPosition=(0,x.un)(this,Et=>{var Vt;return null!==(Vt=this._positions.read(Et)[0])&&void 0!==Vt?Vt:new m.y(1,1)}),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([kt.Redo,kt.Undo,kt.AcceptWord]),this._fetchInlineCompletionsPromise=(0,x.nb)({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:R.qw.Automatic}),handleChange:(Et,Vt)=>(Et.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(Et.change)?Vt.preserveCurrentCompletion=!0:Et.didChange(this._forceUpdateExplicitlySignal)&&(Vt.inlineCompletionTriggerKind=R.qw.Explicit),!0)},(Et,Vt)=>{if(this._forceUpdateExplicitlySignal.read(Et),!(this._enabled.read(Et)&&this.selectedSuggestItem.read(Et)||this._isActive.read(Et)))return void this._source.cancelUpdate();this.textModelVersionId.read(Et);const sn=this._source.suggestWidgetInlineCompletions.get(),kn=this.selectedSuggestItem.read(Et);if(sn&&!kn){const li=this._source.inlineCompletions.get();(0,x.Rn)($i=>{(!li||sn.request.versionId>li.request.versionId)&&this._source.inlineCompletions.set(sn.clone(),$i),this._source.clearSuggestWidgetInlineCompletions($i)})}const oi=this._primaryPosition.read(Et),mi={triggerKind:Vt.inlineCompletionTriggerKind,selectedSuggestionInfo:kn?.toSelectedSuggestionInfo()},gi=this.selectedInlineCompletion.get();return this._source.fetch(oi,mi,Vt.preserveCurrentCompletion||gi?.forwardStable?gi:void 0)}),this._filteredInlineCompletionItems=(0,x.C)({owner:this,equalsFn:(0,d.S3)()},Et=>{const Vt=this._source.inlineCompletions.read(Et);if(!Vt)return[];const zt=this._primaryPosition.read(Et);return Vt.inlineCompletions.filter(kn=>kn.isVisible(this.textModel,zt,Et))}),this.selectedInlineCompletionIndex=(0,x.un)(this,Et=>{const Vt=this._selectedInlineCompletionId.read(Et),zt=this._filteredInlineCompletionItems.read(Et),sn=void 0===this._selectedInlineCompletionId?-1:zt.findIndex(kn=>kn.semanticId===Vt);return-1===sn?(this._selectedInlineCompletionId.set(void 0,void 0),0):sn}),this.selectedInlineCompletion=(0,x.un)(this,Et=>this._filteredInlineCompletionItems.read(Et)[this.selectedInlineCompletionIndex.read(Et)]),this.activeCommands=(0,x.C)({owner:this,equalsFn:(0,d.S3)()},Et=>{var Vt,zt;return null!==(zt=null===(Vt=this.selectedInlineCompletion.read(Et))||void 0===Vt?void 0:Vt.inlineCompletion.source.inlineCompletions.commands)&&void 0!==zt?zt:[]}),this.lastTriggerKind=this._source.inlineCompletions.map(this,Et=>Et?.request.context.triggerKind),this.inlineCompletionsCount=(0,x.un)(this,Et=>{if(this.lastTriggerKind.read(Et)===R.qw.Explicit)return this._filteredInlineCompletionItems.read(Et).length}),this.state=(0,x.C)({owner:this,equalsFn:(Et,Vt)=>Et&&Vt?(0,Y.AL)(Et.ghostTexts,Vt.ghostTexts)&&Et.inlineCompletion===Vt.inlineCompletion&&Et.suggestItem===Vt.suggestItem:Et===Vt},Et=>{var Vt,zt;const sn=this.textModel,kn=this.selectedSuggestItem.read(Et);if(kn){const oi=Ve(kn.toSingleTextEdit(),sn),mi=this._computeAugmentation(oi,Et);if(!this._suggestPreviewEnabled.read(Et)&&!mi)return;const ai=null!==(Vt=mi?.edit)&&void 0!==Vt?Vt:oi,li=mi?mi.edit.text.length-oi.text.length:0,$i=this._suggestPreviewMode.read(Et),Zi=this._positions.read(Et),Pi=[ai,...Ft(this.textModel,Zi,ai)],At=Pi.map((Pt,hn)=>it(Pt,sn,$i,Zi[hn],li)).filter(g.O9);return{edits:Pi,primaryGhostText:null!==(zt=At[0])&&void 0!==zt?zt:new Y.xD(ai.range.endLineNumber,[]),ghostTexts:At,inlineCompletion:mi?.completion,suggestItem:kn}}{if(!this._isActive.read(Et))return;const oi=this.selectedInlineCompletion.read(Et);if(!oi)return;const mi=oi.toSingleTextEdit(Et),gi=this._inlineSuggestMode.read(Et),ai=this._positions.read(Et),li=[mi,...Ft(this.textModel,ai,mi)],$i=li.map((Zi,Pi)=>it(Zi,sn,gi,ai[Pi],0)).filter(g.O9);return $i[0]?{edits:li,primaryGhostText:$i[0],ghostTexts:$i,inlineCompletion:oi,suggestItem:void 0}:void 0}}),this.ghostTexts=(0,x.C)({owner:this,equalsFn:Y.AL},Et=>{const Vt=this.state.read(Et);if(Vt)return Vt.ghostTexts}),this.primaryGhostText=(0,x.C)({owner:this,equalsFn:Y.x9},Et=>{const Vt=this.state.read(Et);if(Vt)return Vt?.primaryGhostText}),this._register((0,x.OI)(this._fetchInlineCompletionsPromise)),this._register((0,x.fm)(Et=>{var Vt,zt;const sn=this.state.read(Et),kn=sn?.inlineCompletion;if(kn?.semanticId!==Mt?.semanticId&&(Mt=kn,kn)){const oi=kn.inlineCompletion,mi=oi.source;null===(zt=(Vt=mi.provider).handleItemDidShow)||void 0===zt||zt.call(Vt,mi.inlineCompletions,oi.sourceInlineCompletion,oi.insertText)}}))}trigger(Wt){var mn=this;return(0,w.A)(function*(){mn._isActive.set(!0,Wt),yield mn._fetchInlineCompletionsPromise.get()})()}triggerExplicitly(Wt){var mn=this;return(0,w.A)(function*(){(0,x.PO)(Wt,En=>{mn._isActive.set(!0,En),mn._forceUpdateExplicitlySignal.trigger(En)}),yield mn._fetchInlineCompletionsPromise.get()})()}stop(Wt){(0,x.PO)(Wt,mn=>{this._isActive.set(!1,mn),this._source.clear(mn)})}_computeAugmentation(Wt,mn){const En=this.textModel,On=this._source.suggestWidgetInlineCompletions.read(mn),Rn=On?On.inlineCompletions:[this.selectedInlineCompletion.read(mn)].filter(g.O9);return(0,H.oH)(Rn,fi=>{let Mn=fi.toSingleTextEdit(mn);return Mn=Ve(Mn,En,te.Q.fromPositions(Mn.range.getStartPosition(),Wt.range.getEndPosition())),$e(Mn,Wt)?{completion:fi,edit:Mn}:void 0})}_deltaSelectedInlineCompletionIndex(Wt){var mn=this;return(0,w.A)(function*(){yield mn.triggerExplicitly();const En=mn._filteredInlineCompletionItems.get()||[];if(En.length>0){const On=(mn.selectedInlineCompletionIndex.get()+Wt+En.length)%En.length;mn._selectedInlineCompletionId.set(En[On].semanticId,void 0)}else mn._selectedInlineCompletionId.set(void 0,void 0)})()}next(){var Wt=this;return(0,w.A)(function*(){yield Wt._deltaSelectedInlineCompletionIndex(1)})()}previous(){var Wt=this;return(0,w.A)(function*(){yield Wt._deltaSelectedInlineCompletionIndex(-1)})()}accept(Wt){var mn=this;return(0,w.A)(function*(){var En;if(Wt.getModel()!==mn.textModel)throw new L.D7;const On=mn.state.get();if(!On||On.primaryGhostText.isEmpty()||!On.inlineCompletion)return;const Rn=On.inlineCompletion.toInlineCompletion(void 0);if(Wt.pushUndoStop(),Rn.snippetInfo)Wt.executeEdits("inlineSuggestion.accept",[Z.k.replace(Rn.range,""),...Rn.additionalTextEdits]),Wt.setPosition(Rn.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),null===(En=Je.O.get(Wt))||void 0===En||En.insert(Rn.snippetInfo.snippet,{undoStopBefore:!1});else{const Qn=On.edits,fi=rt(Qn).map(Mn=>X.L.fromPositions(Mn));Wt.executeEdits("inlineSuggestion.accept",[...Qn.map(Mn=>Z.k.replace(Mn.range,Mn.text)),...Rn.additionalTextEdits]),Wt.setSelections(fi,"inlineCompletionAccept")}Rn.command&&Rn.source.addRef(),(0,x.Rn)(Qn=>{mn._source.clear(Qn),mn._isActive.set(!1,Qn)}),Rn.command&&(yield mn._commandService.executeCommand(Rn.command.id,...Rn.command.arguments||[]).then(void 0,L.M_),Rn.source.removeRef())})()}acceptNextWord(Wt){var mn=this;return(0,w.A)(function*(){yield mn._acceptNext(Wt,(En,On)=>{const Rn=mn.textModel.getLanguageIdAtPosition(En.lineNumber,En.column),Qn=mn._languageConfigurationService.getLanguageConfiguration(Rn),fi=new RegExp(Qn.wordDefinition.source,Qn.wordDefinition.flags.replace("g","")),Mn=On.match(fi);let Sn=0;Sn=Mn&&void 0!==Mn.index?0===Mn.index?Mn[0].length:Mn.index:On.length;const je=/\s+/g.exec(On);return je&&void 0!==je.index&&je.index+je[0].length<Sn&&(Sn=je.index+je[0].length),Sn},0)})()}acceptNextLine(Wt){var mn=this;return(0,w.A)(function*(){yield mn._acceptNext(Wt,(En,On)=>{const Rn=On.match(/\n/);return Rn&&void 0!==Rn.index?Rn.index+1:On.length},1)})()}_acceptNext(Wt,mn,En){var On=this;return(0,w.A)(function*(){if(Wt.getModel()!==On.textModel)throw new L.D7;const Rn=On.state.get();if(!Rn||Rn.primaryGhostText.isEmpty()||!Rn.inlineCompletion)return;const Qn=Rn.primaryGhostText,fi=Rn.inlineCompletion.toInlineCompletion(void 0);if(fi.snippetInfo||fi.filterText!==fi.insertText)return void(yield On.accept(Wt));const Mn=Qn.parts[0],Sn=new m.y(Qn.lineNumber,Mn.column),Xt=Mn.text,je=mn(Sn,Xt);if(je===Xt.length&&1===Qn.parts.length)return void On.accept(Wt);const at=Xt.substring(0,je),Mt=On._positions.get(),Et=Mt[0];fi.source.addRef();try{On._isAcceptingPartially=!0;try{Wt.pushUndoStop();const Vt=te.Q.fromPositions(Et,Sn),zt=Wt.getModel().getValueInRange(Vt)+at,sn=new U.WR(Vt,zt),kn=[sn,...Ft(On.textModel,Mt,sn)],oi=rt(kn).map(mi=>X.L.fromPositions(mi));Wt.executeEdits("inlineSuggestion.accept",kn.map(mi=>Z.k.replace(mi.range,mi.text))),Wt.setSelections(oi,"inlineCompletionPartialAccept"),Wt.revealPositionInCenterIfOutsideViewport(Wt.getPosition(),1)}finally{On._isAcceptingPartially=!1}if(fi.source.provider.handlePartialAccept){const Vt=te.Q.fromPositions(fi.range.getStartPosition(),q.W.ofText(at).addToPosition(Sn)),zt=Wt.getModel().getValueInRange(Vt,1);fi.source.provider.handlePartialAccept(fi.source.inlineCompletions,fi.sourceInlineCompletion,zt.length,{kind:En})}}finally{fi.source.removeRef()}})()}handleSuggestAccepted(Wt){var mn,En;const On=Ve(Wt.toSingleTextEdit(),this.textModel),Rn=this._computeAugmentation(On,void 0);if(!Rn)return;const Qn=Rn.completion.inlineCompletion;null===(En=(mn=Qn.source.provider).handlePartialAccept)||void 0===En||En.call(mn,Qn.source.inlineCompletions,Qn.sourceInlineCompletion,On.text.length,{kind:2})}};function Ft(gn,Wt,mn){if(1===Wt.length)return[];const En=Wt[0],On=Wt.slice(1),Rn=mn.range.getStartPosition(),Qn=mn.range.getEndPosition(),fi=gn.getValueInRange(te.Q.fromPositions(En,Qn)),Mn=(0,_e.tN)(En,Rn);if(Mn.lineNumber<1)return(0,L.dz)(new L.D7(`positionWithinTextEdit line number should be bigger than 0.\n\t\t\tInvalid subtraction between ${En.toString()} and ${Rn.toString()}`)),[];const Sn=function Bt(gn,Wt){let mn="";const En=(0,j.en)(gn);for(let On=Wt.lineNumber-1;On<En.length;On++)mn+=En[On].substring(On===Wt.lineNumber-1?Wt.column-1:0);return mn}(mn.text,Mn);return On.map(Xt=>{const je=(0,_e.OA)((0,_e.tN)(Xt,Rn),Qn),at=gn.getValueInRange(te.Q.fromPositions(Xt,je)),Mt=(0,j.Qp)(fi,at),Et=te.Q.fromPositions(Xt,Xt.delta(0,Mt));return new U.WR(Et,Sn)})}function rt(gn){const Wt=N.t9.createSortPermutation(gn,(Rn,Qn)=>te.Q.compareRangesUsingStarts(Rn.range,Qn.range)),En=new U.mF(Wt.apply(gn)).getNewRanges();return Wt.inverse().apply(En).map(Rn=>Rn.getEndPosition())}Ht=function(gn,Wt,mn,En){var Qn,On=arguments.length,Rn=On<3?Wt:null===En?En=Object.getOwnPropertyDescriptor(Wt,mn):En;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Rn=Reflect.decorate(gn,Wt,mn,En);else for(var fi=gn.length-1;fi>=0;fi--)(Qn=gn[fi])&&(Rn=(On<3?Qn(Rn):On>3?Qn(Wt,mn,Rn):Qn(Wt,mn))||Rn);return On>3&&Rn&&Object.defineProperty(Wt,mn,Rn),Rn}([mt(9,De._Y),mt(10,ot.d),mt(11,W.JZ)],Ht);var Ut=t(5643),St=t(51762),ke=t(61555);class Ze extends r.jG{get selectedItem(){return this._selectedItem}constructor(Wt,mn,En,On){super(),this.editor=Wt,this.suggestControllerPreselector=mn,this.checkModelVersion=En,this.onWillAccept=On,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,x.FY)(this,void 0),this._register(Wt.onKeyDown(Qn=>{Qn.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(Wt.onKeyUp(Qn=>{Qn.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const Rn=ke.D.get(this.editor);if(Rn){this._register(Rn.registerSelector({priority:100,select:(Mn,Sn,Xt)=>{(0,x.Rn)(sn=>this.checkModelVersion(sn));const je=this.editor.getModel();if(!je)return-1;const at=this.suggestControllerPreselector(),Mt=at?Ve(at,je):void 0;if(!Mt)return-1;const Et=m.y.lift(Sn),Vt=Xt.map((sn,kn)=>{const mi=Ve(Ye.fromSuggestion(Rn,je,Et,sn,this.isShiftKeyPressed).toSingleTextEdit(),je);return{index:kn,valid:$e(Mt,mi),prefixLength:mi.text.length,suggestItem:sn}}).filter(sn=>sn&&sn.valid&&sn.prefixLength>0),zt=(0,H.Cn)(Vt,(0,N.VE)(sn=>sn.prefixLength,N.U9));return zt?zt.index:-1}}));let Qn=!1;const fi=()=>{Qn||(Qn=!0,this._register(Rn.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(Rn.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(Rn.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(Ut.Jh.once(Rn.model.onDidTrigger)(Mn=>{fi()})),this._register(Rn.onWillInsertSuggestItem(Mn=>{const Sn=this.editor.getPosition(),Xt=this.editor.getModel();if(!Sn||!Xt)return;const je=Ye.fromSuggestion(Rn,Xt,Sn,Mn.item,this.isShiftKeyPressed);this.onWillAccept(je)}))}this.update(this._isActive)}update(Wt){const mn=this.getSuggestItemInfo();(this._isActive!==Wt||!function st(gn,Wt){return gn===Wt||!(!gn||!Wt)&&gn.equals(Wt)}(this._currentSuggestItemInfo,mn))&&(this._isActive=Wt,this._currentSuggestItemInfo=mn,(0,x.Rn)(En=>{this.checkModelVersion(En),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,En)}))}getSuggestItemInfo(){const Wt=ke.D.get(this.editor);if(!Wt||!this.isSuggestWidgetVisible)return;const mn=Wt.widget.value.getFocusedItem(),En=this.editor.getPosition(),On=this.editor.getModel();return mn&&En&&On?Ye.fromSuggestion(Wt,On,En,mn.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const Wt=ke.D.get(this.editor);Wt?.stopForceRenderingAbove()}forceRenderingAbove(){const Wt=ke.D.get(this.editor);Wt?.forceRenderingAbove()}}class Ye{static fromSuggestion(Wt,mn,En,On,Rn){let{insertText:Qn}=On.completion,fi=!1;if(4&On.completion.insertTextRules){const Sn=(new ye.fr).parse(Qn);Sn.children.length<100&&St.O.adjustWhitespace(mn,En,!0,Sn),Qn=Sn.toString(),fi=!0}const Mn=Wt.getOverwriteInfo(On,Rn);return new Ye(te.Q.fromPositions(En.delta(0,-Mn.overwriteBefore),En.delta(0,Math.max(Mn.overwriteAfter,0))),Qn,On.completion.kind,fi)}constructor(Wt,mn,En,On){this.range=Wt,this.insertText=mn,this.completionItemKind=En,this.isSnippetText=On}equals(Wt){return this.range.equalsRange(Wt.range)&&this.insertText===Wt.insertText&&this.completionItemKind===Wt.completionItemKind&&this.isSnippetText===Wt.isSnippetText}toSelectedSuggestionInfo(){return new R.GE(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new U.WR(this.range,this.insertText)}}var Nt,Ke=t(81644),ft=t(69912),wt=t(13144),qt=t(35072),Yt=t(50168),en=t(59002),lt=function(gn,Wt){return function(mn,En){Wt(mn,En,gn)}};let tn=Nt=class extends r.jG{static get(Wt){return Wt.getContribution(Nt.ID)}constructor(Wt,mn,En,On,Rn,Qn,fi,Mn,Sn,Xt){var je;super(),je=this,this.editor=Wt,this._instantiationService=mn,this._contextKeyService=En,this._configurationService=On,this._commandService=Rn,this._debounceService=Qn,this._languageFeaturesService=fi,this._accessibilitySignalService=Mn,this._keybindingService=Sn,this._accessibilityService=Xt,this.model=this._register((0,x.X2)("inlineCompletionModel",void 0)),this._textModelVersionId=(0,x.FY)(this,-1),this._positions=(0,C.Zh)({owner:this,equalsFn:(0,d.S3)((0,d.r)())},[new m.y(1,1)]),this._suggestWidgetAdaptor=this._register(new Ze(this.editor,()=>{var zt,sn;return null===(sn=null===(zt=this.model.get())||void 0===zt?void 0:zt.selectedInlineCompletion.get())||void 0===sn?void 0:sn.toSingleTextEdit(void 0)},zt=>this.updateObservables(zt,kt.Other),zt=>{(0,x.Rn)(sn=>{var kn;this.updateObservables(sn,kt.Other),null===(kn=this.model.get())||void 0===kn||kn.handleSuggestAccepted(zt)})})),this._enabledInConfig=(0,x.y0)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._isScreenReaderEnabled=(0,x.y0)(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this._editorDictationInProgress=(0,x.y0)(this._contextKeyService.onDidChangeContext,()=>!0===this._contextKeyService.getContext(this.editor.getDomNode()).getValue("editorDictation.inProgress")),this._enabled=(0,x.un)(this,zt=>this._enabledInConfig.read(zt)&&(!this._isScreenReaderEnabled.read(zt)||!this._editorDictationInProgress.read(zt))),this._fontFamily=(0,x.y0)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).fontFamily),this._ghostTexts=(0,x.un)(this,zt=>{var sn;const kn=this.model.read(zt);return null!==(sn=kn?.ghostTexts.read(zt))&&void 0!==sn?sn:[]}),this._stablizedGhostTexts=function bn(gn,Wt){const mn=(0,x.FY)("result",[]),En=[];return Wt.add((0,x.fm)(On=>{const Rn=gn.read(On);(0,x.Rn)(Qn=>{if(Rn.length!==En.length){En.length=Rn.length;for(let fi=0;fi<En.length;fi++)En[fi]||(En[fi]=(0,x.FY)("item",Rn[fi]));mn.set([...En],Qn)}En.forEach((fi,Mn)=>fi.set(Rn[Mn],Qn))})})),mn}(this._ghostTexts,this._store),this._ghostTextWidgets=(0,l.Rl)(this,this._stablizedGhostTexts,(zt,sn)=>sn.add(this._instantiationService.createInstance(k.PM,this.editor,{ghostText:zt,minReservedLineCount:(0,x.lk)(0),targetTextModel:this.model.map(kn=>kn?.textModel)}))).recomputeInitiallyAndOnChange(this._store),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._playAccessibilitySignal=(0,x.Yd)(this),this._isReadonly=(0,x.y0)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(91)),this._textModel=(0,x.y0)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this._textModelIfWritable=(0,x.un)(zt=>this._isReadonly.read(zt)?void 0:this._textModel.read(zt)),this._register(new P.p(this._contextKeyService,this.model)),this._register((0,x.fm)(zt=>{const sn=this._textModelIfWritable.read(zt);(0,x.Rn)(kn=>{if(this.model.set(void 0,kn),this.updateObservables(kn,kt.Other),sn){const oi=mn.createInstance(Ht,sn,this._suggestWidgetAdaptor.selectedItem,this._textModelVersionId,this._positions,this._debounceValue,(0,x.y0)(Wt.onDidChangeConfiguration,()=>Wt.getOption(118).preview),(0,x.y0)(Wt.onDidChangeConfiguration,()=>Wt.getOption(118).previewMode),(0,x.y0)(Wt.onDidChangeConfiguration,()=>Wt.getOption(62).mode),this._enabled);this.model.set(oi,kn)}})}));const at=this._register((0,D.jh)());this._register((0,x.fm)(zt=>{const sn=this._fontFamily.read(zt);at.setStyle(""===sn||"default"===sn?"":`\n.monaco-editor .ghost-text-decoration,\n.monaco-editor .ghost-text-decoration-preview,\n.monaco-editor .ghost-text {\n\tfont-family: ${sn};\n}`)}));const Mt=zt=>{var sn;return zt.isUndoing?kt.Undo:zt.isRedoing?kt.Redo:null!==(sn=this.model.get())&&void 0!==sn&&sn.isAcceptingPartially?kt.AcceptWord:kt.Other};this._register(Wt.onDidChangeModelContent(zt=>(0,x.Rn)(sn=>this.updateObservables(sn,Mt(zt))))),this._register(Wt.onDidChangeCursorPosition(zt=>(0,x.Rn)(sn=>{var kn;this.updateObservables(sn,kt.Other),(3===zt.reason||"api"===zt.source)&&(null===(kn=this.model.get())||void 0===kn||kn.stop(sn))}))),this._register(Wt.onDidType(()=>(0,x.Rn)(zt=>{var sn;this.updateObservables(zt,kt.Other),this._enabled.get()&&(null===(sn=this.model.get())||void 0===sn||sn.trigger(zt))}))),this._register(this._commandService.onDidExecuteCommand(zt=>{new Set([p.Yh.Tab.id,p.Yh.DeleteLeft.id,p.Yh.DeleteRight.id,b.Wt,"acceptSelectedSuggestion"]).has(zt.commandId)&&Wt.hasTextFocus()&&this._enabled.get()&&(0,x.Rn)(kn=>{var oi;null===(oi=this.model.get())||void 0===oi||oi.trigger(kn)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||Wt.getOption(62).keepOnBlur||O.bo.dropDownVisible||(0,x.Rn)(zt=>{var sn;null===(sn=this.model.get())||void 0===sn||sn.stop(zt)})})),this._register((0,x.fm)(zt=>{var sn;const kn=null===(sn=this.model.read(zt))||void 0===sn?void 0:sn.state.read(zt);kn?.suggestItem?kn.primaryGhostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,r.s)(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));const Et=this._register(new r.Cm);let Vt;this._register((0,x.Y)({handleChange:(zt,sn)=>(zt.didChange(this._playAccessibilitySignal)&&(Vt=void 0),!0)},function(){var zt=(0,w.A)(function*(sn,kn){je._playAccessibilitySignal.read(sn);const oi=je.model.read(sn),mi=oi?.state.read(sn);if(oi&&mi&&mi.inlineCompletion){if(mi.inlineCompletion.semanticId!==Vt){Et.clear(),Vt=mi.inlineCompletion.semanticId;const gi=oi.textModel.getLineContent(mi.primaryGhostText.lineNumber);yield(0,_.wR)(50,(0,f.bs)(Et)),yield(0,x.oJ)(je._suggestWidgetAdaptor.selectedItem,g.b0,()=>!1,(0,f.bs)(Et)),yield je._accessibilitySignalService.playSignal(wt.Rh.inlineSuggestion),je.editor.getOption(8)&&je.provideScreenReaderUpdate(mi.primaryGhostText.renderForScreenReader(gi))}}else Vt=void 0});return function(sn,kn){return zt.apply(this,arguments)}}())),this._register(new O.Pm(this.editor,this.model,this._instantiationService)),this._register(this._configurationService.onDidChangeConfiguration(zt=>{zt.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAccessibilitySignal(Wt){this._playAccessibilitySignal.trigger(Wt)}provideScreenReaderUpdate(Wt){const mn=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),En=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let On;!mn&&En&&this.editor.getOption(149)&&(On=(0,Ke.kg)("showAccessibleViewHint","Inspect this in the accessible view ({0})",En.getAriaLabel())),(0,v.xE)(On?Wt+", "+On:Wt)}updateObservables(Wt,mn){var En,On,Rn;const Qn=this.editor.getModel();this._textModelVersionId.set(null!==(En=Qn?.getVersionId())&&void 0!==En?En:-1,Wt,mn),this._positions.set(null!==(Rn=null===(On=this.editor.getSelections())||void 0===On?void 0:On.map(fi=>fi.getPosition()))&&void 0!==Rn?Rn:[new m.y(1,1)],Wt)}shouldShowHoverAt(Wt){var mn;const En=null===(mn=this.model.get())||void 0===mn?void 0:mn.primaryGhostText.get();return!!En&&En.parts.some(On=>Wt.containsPosition(new m.y(En.lineNumber,On.column)))}shouldShowHoverAtViewZone(Wt){var mn,En;return null!==(En=null===(mn=this._ghostTextWidgets.get()[0])||void 0===mn?void 0:mn.ownsViewZone(Wt))&&void 0!==En&&En}};tn.ID="editor.contrib.inlineCompletionsController",tn=Nt=function(gn,Wt,mn,En){var Qn,On=arguments.length,Rn=On<3?Wt:null===En?En=Object.getOwnPropertyDescriptor(Wt,mn):En;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Rn=Reflect.decorate(gn,Wt,mn,En);else for(var fi=gn.length-1;fi>=0;fi--)(Qn=gn[fi])&&(Rn=(On<3?Qn(Rn):On>3?Qn(Wt,mn,Rn):Qn(Wt,mn))||Rn);return On>3&&Rn&&Object.defineProperty(Wt,mn,Rn),Rn}([lt(1,De._Y),lt(2,Yt.fN),lt(3,qt.pG),lt(4,ot.d),lt(5,T.U),lt(6,A.u),lt(7,wt.Nt),lt(8,en.b),lt(9,ft.j)],tn);var Bn=t(84031),zn=t(79134);let Zn=(()=>{class gn extends a.ks{constructor(){super({id:gn.ID,label:Ke.kg("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Yt.M$.and(S.R.writable,P.p.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(mn,En){return(0,w.A)(function*(){var On;const Rn=tn.get(En);null===(On=Rn?.model.get())||void 0===On||On.next()})()}}return gn.ID=b.PA,gn})(),ei=(()=>{class gn extends a.ks{constructor(){super({id:gn.ID,label:Ke.kg("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Yt.M$.and(S.R.writable,P.p.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(mn,En){return(0,w.A)(function*(){var On;const Rn=tn.get(En);null===(On=Rn?.model.get())||void 0===On||On.previous()})()}}return gn.ID=b.Vl,gn})(),Wi=(()=>{class gn extends a.ks{constructor(){super({id:gn.ID,label:Ke.kg("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:P.p.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(mn,En){return(0,w.A)(function*(){const On=tn.get(En);(0,x.Rn)(Rn=>{var Qn;null===(Qn=On?.model.get())||void 0===Qn||Qn.stop(Rn)})})()}}return gn.ID="editor.action.inlineSuggest.hide",gn})(),Pn=(()=>{class gn extends zn.L{constructor(){super({id:gn.ID,title:Ke.kg("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:zn.D8.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:Yt.M$.equals("config.editor.inlineSuggest.showToolbar","always")})}run(mn,En){return(0,w.A)(function*(){const On=mn.get(qt.pG),Qn="always"===On.getValue("editor.inlineSuggest.showToolbar")?"onHover":"always";On.updateValue("editor.inlineSuggest.showToolbar",Qn)})()}}return gn.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar",gn})();var pt=t(13225),ct=t(385),Tt=t(13157),ut=t(19438),Ct=t(55922),un=function(gn,Wt){return function(mn,En){Wt(mn,En,gn)}};class Wn{constructor(Wt,mn,En){this.owner=Wt,this.range=mn,this.controller=En}isValidForHoverAnchor(Wt){return 1===Wt.type&&this.range.startColumn<=Wt.range.startColumn&&this.range.endColumn>=Wt.range.endColumn}}let Kn=class{constructor(Wt,mn,En,On,Rn,Qn){this._editor=Wt,this._languageService=mn,this._openerService=En,this.accessibilityService=On,this._instantiationService=Rn,this._telemetryService=Qn,this.hoverOrdinal=4}suggestHoverAnchor(Wt){const mn=tn.get(this._editor);if(!mn)return null;const En=Wt.target;if(8===En.type){const On=En.detail;if(mn.shouldShowHoverAtViewZone(On.viewZoneId))return new F.mm(1e3,this,te.Q.fromPositions(this._editor.getModel().validatePosition(On.positionBefore||On.position)),Wt.event.posx,Wt.event.posy,!1)}return 7===En.type&&mn.shouldShowHoverAt(En.range)||6===En.type&&En.detail.mightBeForeignElement&&mn.shouldShowHoverAt(En.range)?new F.mm(1e3,this,En.range,Wt.event.posx,Wt.event.posy,!1):null}computeSync(Wt,mn){if("onHover"!==this._editor.getOption(62).showToolbar)return[];const En=tn.get(this._editor);return En&&En.shouldShowHoverAt(Wt.range)?[new Wn(this,Wt.range,En)]:[]}renderHoverParts(Wt,mn){const En=new r.Cm,On=mn[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(Wt,On,En);const Rn=On.controller.model.get(),Qn=this._instantiationService.createInstance(O.bo,this._editor,!1,(0,x.lk)(null),Rn.selectedInlineCompletionIndex,Rn.inlineCompletionsCount,Rn.activeCommands);return Wt.fragment.appendChild(Qn.getDomNode()),Rn.triggerExplicitly(),En.add(Qn),En}renderScreenReaderText(Wt,mn,En){const On=D.$,Rn=On("div.hover-row.markdown-hover"),Qn=D.BC(Rn,On("div.hover-contents",{"aria-live":"assertive"})),fi=En.add(new Tt.T({editor:this._editor},this._languageService,this._openerService));En.add((0,x.fm)(Sn=>{var Xt;const je=null===(Xt=mn.controller.model.read(Sn))||void 0===Xt?void 0:Xt.primaryGhostText.read(Sn);if(je){const at=this._editor.getModel().getLineContent(je.lineNumber);(Sn=>{En.add(fi.onDidRenderAsync(()=>{Qn.className="hover-contents code-hover-contents",Wt.onContentsChanged()}));const Xt=Ke.kg("inlineSuggestionFollows","Suggestion:"),je=En.add(fi.render((new pt.Bc).appendText(Xt).appendCodeblock("text",Sn)));Qn.replaceChildren(je.element)})(je.renderForScreenReader(at))}else D.Ln(Qn)})),Wt.fragment.appendChild(Rn)}};Kn=function(gn,Wt,mn,En){var Qn,On=arguments.length,Rn=On<3?Wt:null===En?En=Object.getOwnPropertyDescriptor(Wt,mn):En;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Rn=Reflect.decorate(gn,Wt,mn,En);else for(var fi=gn.length-1;fi>=0;fi--)(Qn=gn[fi])&&(Rn=(On<3?Qn(Rn):On>3?Qn(Wt,mn,Rn):Qn(Wt,mn))||Rn);return On>3&&Rn&&Object.defineProperty(Wt,mn,Rn),Rn}([un(1,ct.L),un(2,ut.C),un(3,ft.j),un(4,De._Y),un(5,Ct.k)],Kn);var Nn=t(73871);(0,a.HW)(tn.ID,tn,3),(0,a.Fl)(class wi extends a.ks{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Ke.kg("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:S.R.writable})}run(Wt,mn){return(0,w.A)(function*(){const En=tn.get(mn);yield(0,C.fL)(function(){var On=(0,w.A)(function*(Rn){var Qn;yield null===(Qn=En?.model.get())||void 0===Qn?void 0:Qn.triggerExplicitly(Rn),En?.playAccessibilitySignal(Rn)});return function(Rn){return On.apply(this,arguments)}}())})()}}),(0,a.Fl)(Zn),(0,a.Fl)(ei),(0,a.Fl)(class hi extends a.ks{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:Ke.kg("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:Yt.M$.and(S.R.writable,P.p.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:Yt.M$.and(S.R.writable,P.p.inlineSuggestionVisible)},menuOpts:[{menuId:zn.D8.InlineSuggestionToolbar,title:Ke.kg("acceptWord","Accept Word"),group:"primary",order:2}]})}run(Wt,mn){return(0,w.A)(function*(){var En;const On=tn.get(mn);yield null===(En=On?.model.get())||void 0===En?void 0:En.acceptNextWord(On.editor)})()}}),(0,a.Fl)(class yi extends a.ks{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:Ke.kg("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:Yt.M$.and(S.R.writable,P.p.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:zn.D8.InlineSuggestionToolbar,title:Ke.kg("acceptLine","Accept Line"),group:"secondary",order:2}]})}run(Wt,mn){return(0,w.A)(function*(){var En;const On=tn.get(mn);yield null===(En=On?.model.get())||void 0===En?void 0:En.acceptNextLine(On.editor)})()}}),(0,a.Fl)(class Vi extends a.ks{constructor(){super({id:b.Wt,label:Ke.kg("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:P.p.inlineSuggestionVisible,menuOpts:[{menuId:zn.D8.InlineSuggestionToolbar,title:Ke.kg("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:Yt.M$.and(P.p.inlineSuggestionVisible,S.R.tabMovesFocus.toNegated(),P.p.inlineSuggestionHasIndentationLessThanTabSize,Bn.ob.Visible.toNegated(),S.R.hoverFocused.toNegated())}})}run(Wt,mn){return(0,w.A)(function*(){var En;const On=tn.get(mn);On&&(null===(En=On.model.get())||void 0===En||En.accept(On.editor),On.editor.focus())})()}}),(0,a.Fl)(Wi),(0,zn.ug)(Pn),F.B2.register(Kn),Nn.Z.register(new class jn extends r.jG{constructor(){super()}})},80846:(tt,xe,t)=>{t.d(xe,{Pm:()=>ye,bo:()=>Se});var a=t(91874),F=t(62686),w=t(62581),x=t(64948),C=t(30833),S=t(86671),b=t(15320),P=t(99031),D=t(28044),v=t(37673),_=t(21828),f=t(81072),d=t(85072),r=t.n(d),l=t(97825),g=t.n(l),p=t(77659),m=t.n(p),T=t(55056),A=t.n(T),k=t(10540),O=t.n(k),N=t(41113),H=t.n(N),L=t(85415),j={};j.styleTagTransform=H(),j.setAttributes=A(),j.insert=m().bind(null,"head"),j.domAPI=g(),j.insertStyleElement=O(),r()(L.A,j);var _e,X=t(13632),U=t(41489),q=t(77174),R=t(81644),W=t(54335),Y=t(62291),oe=t(79134),z=t(51126),G=t(50168),Q=t(71887),K=t(598),ie=t(59002),ae=t(55922),de=t(24453),se=function(we,Me,Ve,$e){var me,it=arguments.length,He=it<3?Me:null===$e?$e=Object.getOwnPropertyDescriptor(Me,Ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)He=Reflect.decorate(we,Me,Ve,$e);else for(var le=we.length-1;le>=0;le--)(me=we[le])&&(He=(it<3?me(He):it>3?me(Me,Ve,He):me(Me,Ve))||He);return it>3&&He&&Object.defineProperty(Me,Ve,He),He},ge=function(we,Me){return function(Ve,$e){Me(Ve,$e,we)}};let ye=class extends P.jG{constructor(Me,Ve,$e){super(),this.editor=Me,this.model=Ve,this.instantiationService=$e,this.alwaysShowToolbar=(0,D.y0)(this.editor.onDidChangeConfiguration,()=>"always"===this.editor.getOption(62).showToolbar),this.sessionPosition=void 0,this.position=(0,D.un)(this,it=>{var He,me,le;const Ee=null===(He=this.model.read(it))||void 0===He?void 0:He.primaryGhostText.read(it);if(!this.alwaysShowToolbar.read(it)||!Ee||0===Ee.parts.length)return this.sessionPosition=void 0,null;const be=Ee.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==Ee.lineNumber&&(this.sessionPosition=void 0);const Ce=new X.y(Ee.lineNumber,Math.min(be,null!==(le=null===(me=this.sessionPosition)||void 0===me?void 0:me.column)&&void 0!==le?le:Number.MAX_SAFE_INTEGER));return this.sessionPosition=Ce,Ce}),this._register((0,D.yC)((it,He)=>{const me=this.model.read(it);if(!me||!this.alwaysShowToolbar.read(it))return;const le=(0,v.rm)((be,Ce)=>{const Ne=Ce.add(this.instantiationService.createInstance(Se,this.editor,!0,this.position,me.selectedInlineCompletionIndex,me.inlineCompletionsCount,me.activeCommands));return Me.addContentWidget(Ne),Ce.add((0,P.s)(()=>Me.removeContentWidget(Ne))),Ce.add((0,D.fm)(Fe=>{this.position.read(Fe)&&me.lastTriggerKind.read(Fe)!==U.qw.Explicit&&me.triggerExplicitly()})),Ne}),Ee=(0,D.ZX)(this,(be,Ce)=>!!this.position.read(be)||!!Ce);He.add((0,D.fm)(be=>{Ee.read(be)&&le.read(be)}))}))}};ye=se([ge(2,K._Y)],ye);const M=(0,de.pU)("inline-suggestion-hints-next",b.W.chevronRight,(0,R.kg)("parameterHintsNextIcon","Icon for show next parameter hint.")),ce=(0,de.pU)("inline-suggestion-hints-previous",b.W.chevronLeft,(0,R.kg)("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let Se=_e=class extends P.jG{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(Me,Ve,$e){const it=new x.rc(Me,Ve,$e,!0,()=>this._commandService.executeCommand(Me)),He=this.keybindingService.lookupKeybinding(Me,this._contextKeyService);let me=Ve;return He&&(me=(0,R.kg)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",Ve,He.getLabel())),it.tooltip=me,it}constructor(Me,Ve,$e,it,He,me,le,Ee,be,Ce,Ne){super(),this.editor=Me,this.withBorder=Ve,this._position=$e,this._currentSuggestionIdx=it,this._suggestionCount=He,this._extraCommands=me,this._commandService=le,this.keybindingService=be,this._contextKeyService=Ce,this._menuService=Ne,this.id="InlineSuggestionHintsContentWidget"+_e.id++,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,a.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,a.h)("div@toolBar")]),this.previousAction=this.createCommandAction(q.Vl,(0,R.kg)("previous","Previous"),f.L.asClassName(ce)),this.availableSuggestionCountAction=new x.rc("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(q.PA,(0,R.kg)("next","Next"),f.L.asClassName(M)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(oe.D8.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new S.uC(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new S.uC(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.toolBar=this._register(Ee.createInstance(ue,this.nodes.toolBar,oe.D8.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:Fe=>Fe.startsWith("primary")},actionViewItemProvider:(Fe,qe)=>{if(Fe instanceof oe.Xe)return Ee.createInstance(ne,Fe,void 0);if(Fe===this.availableSuggestionCountAction){const dt=new Ie(void 0,Fe,{label:!0,icon:!1});return dt.setClass("availableSuggestionCount"),dt}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(Fe=>{_e._dropDownVisible=Fe})),this._register((0,D.fm)(Fe=>{this._position.read(Fe),this.editor.layoutContentWidget(this)})),this._register((0,D.fm)(Fe=>{const qe=this._suggestionCount.read(Fe),dt=this._currentSuggestionIdx.read(Fe);void 0!==qe?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${dt+1}/${qe}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),void 0!==qe&&qe>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,D.fm)(Fe=>{const dt=this._extraCommands.read(Fe).map(vt=>({class:void 0,id:vt.id,enabled:!0,tooltip:vt.tooltip||"",label:vt.title,run:fn=>this._commandService.executeCommand(vt.id)}));for(const[vt,fn]of this.inlineCompletionsActionsMenus.getActions())for(const on of fn)on instanceof oe.Xe&&dt.push(on);dt.length>0&&dt.unshift(new x.wv),this.toolBar.setAdditionalSecondaryActions(dt)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};Se._dropDownVisible=!1,Se.id=0,Se=_e=se([ge(6,z.d),ge(7,K._Y),ge(8,ie.b),ge(9,G.fN),ge(10,oe.ez)],Se);class Ie extends F.Z4{constructor(){super(...arguments),this._className=void 0}setClass(Me){this._className=Me}render(Me){super.render(Me),this._className&&Me.classList.add(this._className)}updateTooltip(){}}class ne extends W.oq{updateLabel(){const Me=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!Me)return super.updateLabel();if(this.label){const Ve=(0,a.h)("div.keybinding").root;this._register(new w.x(Ve,_.OS,{disableTitle:!0,...w.l})).set(Me),this.label.textContent=this._action.label,this.label.appendChild(Ve),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}updateTooltip(){}}let ue=class extends Y.p{constructor(Me,Ve,$e,it,He,me,le,Ee,be){super(Me,{resetMenu:Ve,...$e},it,He,me,le,Ee,be),this.menuId=Ve,this.options2=$e,this.menuService=it,this.contextKeyService=He,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var Me,Ve,$e,it,He,me,le;const Ee=[],be=[];(0,W.Ot)(this.menu,null===(Me=this.options2)||void 0===Me?void 0:Me.menuOptions,{primary:Ee,secondary:be},null===($e=null===(Ve=this.options2)||void 0===Ve?void 0:Ve.toolbarOptions)||void 0===$e?void 0:$e.primaryGroup,null===(He=null===(it=this.options2)||void 0===it?void 0:it.toolbarOptions)||void 0===He?void 0:He.shouldInlineSubmenu,null===(le=null===(me=this.options2)||void 0===me?void 0:me.toolbarOptions)||void 0===le?void 0:le.useSeparatorsInPrimaryActions),be.push(...this.additionalActions),Ee.unshift(...this.prependedPrimaryActions),this.setActions(Ee,be)}setPrependedPrimaryActions(Me){(0,C.aI)(this.prependedPrimaryActions,Me,(Ve,$e)=>Ve===$e)||(this.prependedPrimaryActions=Me,this.updateToolbar())}setAdditionalSecondaryActions(Me){(0,C.aI)(this.additionalActions,Me,(Ve,$e)=>Ve===$e)||(this.additionalActions=Me,this.updateToolbar())}};ue=se([ge(3,oe.ez),ge(4,G.fN),ge(5,Q.Z),ge(6,ie.b),ge(7,z.d),ge(8,ae.k)],ue)},28966:(tt,xe,t)=>{t.d(xe,{GM:()=>P,OA:()=>v,pY:()=>D,tN:()=>_,zk:()=>b});var a=t(25680),F=t(99031),w=t(28044),x=t(13632),C=t(73678);const S=[];function b(){return S}class P{constructor(d,r){if(this.startColumn=d,this.endColumnExclusive=r,d>r)throw new a.D7(`startColumn ${d} cannot be after endColumnExclusive ${r}`)}toRange(d){return new C.Q(d,this.startColumn,d,this.endColumnExclusive)}equals(d){return this.startColumn===d.startColumn&&this.endColumnExclusive===d.endColumnExclusive}}function D(f,d){const r=new F.Cm,l=f.createDecorationsCollection();return r.add((0,w.zL)({debugName:()=>`Apply decorations from ${d.debugName}`},g=>{const p=d.read(g);l.set(p)})),r.add({dispose:()=>{l.clear()}}),r}function v(f,d){return new x.y(f.lineNumber+d.lineNumber-1,1===d.lineNumber?f.column+d.column-1:d.column)}function _(f,d){return new x.y(f.lineNumber-d.lineNumber+1,f.lineNumber-d.lineNumber==0?f.column-d.column+1:f.column)}},3989:(tt,xe,t)=>{var a=t(47639),F=t(85190),w=t(10467),x=t(69995),D=t(99031),v=t(28044),_=t(5214),f=t(13632),d=t(73678),r=t(85072),l=t.n(r),g=t(97825),p=t.n(g),m=t(77659),T=t.n(m),A=t(55056),k=t.n(A),O=t(10540),N=t.n(O),H=t(41113),L=t.n(H),j=t(61935),Z={};Z.styleTagTransform=L(),Z.setAttributes=k(),Z.insert=T().bind(null,"head"),Z.domAPI=p(),Z.insertStyleElement=N(),l()(j.A,Z);var U=t(385),q=t(63782),R=t(86162),W=t(32015),Y=t(28966);const G="inline-edit";let Q=class extends D.jG{constructor(Ye,st,Ke){super(),this.editor=Ye,this.model=st,this.languageService=Ke,this.isDisposed=(0,v.FY)(this,!1),this.currentTextModel=(0,v.y0)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,v.un)(this,ft=>{var wt;if(this.isDisposed.read(ft))return;const qt=this.currentTextModel.read(ft);if(qt!==this.model.targetTextModel.read(ft))return;const Yt=this.model.ghostText.read(ft);if(!Yt)return;let en=null===(wt=this.model.range)||void 0===wt?void 0:wt.read(ft);en&&en.startLineNumber===en.endLineNumber&&en.startColumn===en.endColumn&&(en=void 0);const an=(!en||en.startLineNumber===en.endLineNumber)&&1===Yt.parts.length&&1===Yt.parts[0].lines.length,lt=1===Yt.parts.length&&Yt.parts[0].lines.every(hi=>0===hi.length),Nt=[],tn=[];function bn(hi,yi){if(tn.length>0){const Vi=tn[tn.length-1];yi&&Vi.decorations.push(new R.d(Vi.content.length+1,Vi.content.length+1+hi[0].length,yi,0)),Vi.content+=hi[0],hi=hi.slice(1)}for(const Vi of hi)tn.push({content:Vi,decorations:yi?[new R.d(1,Vi.length+1,yi,0)]:[]})}const Bn=qt.getLineContent(Yt.lineNumber);let zn,Zn=0;if(!lt){for(const hi of Yt.parts){let yi=hi.lines;en&&!an&&(bn(yi,G),yi=[]),void 0===zn?(Nt.push({column:hi.column,text:yi[0],preview:hi.preview}),yi=yi.slice(1)):bn([Bn.substring(Zn,hi.column-1)],void 0),yi.length>0&&(bn(yi,G),void 0===zn&&hi.column<=Bn.length&&(zn=hi.column)),Zn=hi.column-1}void 0!==zn&&bn([Bn.substring(Zn)],void 0)}const ei=void 0!==zn?new Y.GM(zn,Bn.length+1):void 0;return{inlineTexts:Nt,additionalLines:tn,hiddenRange:ei,lineNumber:an||!en?Yt.lineNumber:en.endLineNumber-1,additionalReservedLineCount:this.model.minReservedLineCount.read(ft),targetTextModel:qt,range:en,isSingleLine:an,isPureRemove:lt,backgroundColoring:this.model.backgroundColoring.read(ft)}}),this.decorations=(0,v.un)(this,ft=>{const wt=this.uiState.read(ft);if(!wt)return[];const qt=[];if(wt.hiddenRange&&qt.push({range:wt.hiddenRange.toRange(wt.lineNumber),options:{inlineClassName:"inline-edit-hidden",description:"inline-edit-hidden"}}),wt.range){const Yt=[];if(wt.isSingleLine)Yt.push(wt.range);else if(wt.isPureRemove){const an=wt.range.endLineNumber-wt.range.startLineNumber;for(let lt=0;lt<an;lt++){const Nt=wt.range.startLineNumber+lt,tn=wt.targetTextModel.getLineFirstNonWhitespaceColumn(Nt),bn=wt.targetTextModel.getLineLastNonWhitespaceColumn(Nt),Bn=new d.Q(Nt,tn,Nt,bn);Yt.push(Bn)}}else{const an=wt.range.endLineNumber-wt.range.startLineNumber;for(let lt=0;lt<an;lt++){const Nt=wt.range.startLineNumber+lt,tn=wt.targetTextModel.getLineFirstNonWhitespaceColumn(Nt),bn=wt.targetTextModel.getLineLastNonWhitespaceColumn(Nt),Bn=new d.Q(Nt,tn,Nt,bn);Yt.push(Bn)}}const en=wt.backgroundColoring?"inline-edit-remove backgroundColoring":"inline-edit-remove";for(const an of Yt)qt.push({range:an,options:{inlineClassName:en,description:"inline-edit-remove"}})}for(const Yt of wt.inlineTexts)qt.push({range:d.Q.fromPositions(new f.y(wt.lineNumber,Yt.column)),options:{description:G,after:{content:Yt.text,inlineClassName:Yt.preview?"inline-edit-decoration-preview":"inline-edit-decoration",cursorStops:q.VW.Left},showIfCollapsed:!0}});return qt}),this.additionalLinesWidget=this._register(new W.vS(this.editor,this.languageService.languageIdCodec,(0,v.un)(ft=>{const wt=this.uiState.read(ft);return wt&&!wt.isPureRemove?{lineNumber:wt.lineNumber,additionalLines:wt.additionalLines,minReservedLineCount:wt.additionalReservedLineCount,targetTextModel:wt.targetTextModel}:void 0}))),this._register((0,D.s)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,Y.pY)(this.editor,this.decorations))}ownsViewZone(Ye){return this.additionalLinesWidget.viewZoneId===Ye}};var Ye;Q=function(Ze,Ye,st,Ke){var qt,ft=arguments.length,wt=ft<3?Ye:null===Ke?Ke=Object.getOwnPropertyDescriptor(Ye,st):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)wt=Reflect.decorate(Ze,Ye,st,Ke);else for(var Yt=Ze.length-1;Yt>=0;Yt--)(qt=Ze[Yt])&&(wt=(ft<3?qt(wt):ft>3?qt(Ye,st,wt):qt(Ye,st))||wt);return ft>3&&wt&&Object.defineProperty(Ye,st,wt),wt}([(2,Ye=U.L,function(st,Ke){Ye(st,Ke,2)})],Q);var K=t(50168),ie=t(598),ae=t(41489),de=t(15307),se=t(21468),ge=t(78727),_e=t(51126),ye=t(91874),M=t(62581),ce=t(64948),Se=t(30833),Ie=t(21828),ne=t(55269),ue={};ue.styleTagTransform=L(),ue.setAttributes=k(),ue.insert=T().bind(null,"head"),ue.domAPI=p(),ue.insertStyleElement=N(),l()(ne.A,ue);var Ce,Ve=t(54335),$e=t(62291),it=t(79134),He=t(71887),me=t(59002),le=t(55922),Ee=function(Ze,Ye,st,Ke){var qt,ft=arguments.length,wt=ft<3?Ye:null===Ke?Ke=Object.getOwnPropertyDescriptor(Ye,st):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)wt=Reflect.decorate(Ze,Ye,st,Ke);else for(var Yt=Ze.length-1;Yt>=0;Yt--)(qt=Ze[Yt])&&(wt=(ft<3?qt(wt):ft>3?qt(Ye,st,wt):qt(Ye,st))||wt);return ft>3&&wt&&Object.defineProperty(Ye,st,wt),wt},be=function(Ze,Ye){return function(st,Ke){Ye(st,Ke,Ze)}};let Ne=class extends D.jG{constructor(Ye,st,Ke){super(),this.editor=Ye,this.model=st,this.instantiationService=Ke,this.alwaysShowToolbar=(0,v.y0)(this.editor.onDidChangeConfiguration,()=>"always"===this.editor.getOption(63).showToolbar),this.sessionPosition=void 0,this.position=(0,v.un)(this,ft=>{var wt,qt,Yt;const en=null===(wt=this.model.read(ft))||void 0===wt?void 0:wt.widget.model.ghostText.read(ft);if(!this.alwaysShowToolbar.read(ft)||!en||0===en.parts.length)return this.sessionPosition=void 0,null;const an=en.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==en.lineNumber&&(this.sessionPosition=void 0);const lt=new f.y(en.lineNumber,Math.min(an,null!==(Yt=null===(qt=this.sessionPosition)||void 0===qt?void 0:qt.column)&&void 0!==Yt?Yt:Number.MAX_SAFE_INTEGER));return this.sessionPosition=lt,lt}),this._register((0,v.yC)((ft,wt)=>{if(!this.model.read(ft)||!this.alwaysShowToolbar.read(ft))return;const Yt=wt.add(this.instantiationService.createInstance(Fe,this.editor,!0,this.position));Ye.addContentWidget(Yt),wt.add((0,D.s)(()=>Ye.removeContentWidget(Yt)))}))}};Ne=Ee([be(2,ie._Y)],Ne);let Fe=Ce=class extends D.jG{constructor(Ye,st,Ke,ft,wt,qt){super(),this.editor=Ye,this.withBorder=st,this._position=Ke,this._contextKeyService=wt,this._menuService=qt,this.id="InlineEditHintsContentWidget"+Ce.id++,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,ye.h)("div.inlineEditHints",{className:this.withBorder?".withBorder":""},[(0,ye.h)("div@toolBar")]),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(it.D8.InlineEditActions,this._contextKeyService)),this.toolBar=this._register(ft.createInstance(dt,this.nodes.toolBar,this.editor,it.D8.InlineEditToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:Yt=>Yt.startsWith("primary")},actionViewItemProvider:(Yt,en)=>{if(Yt instanceof it.Xe)return ft.createInstance(qe,Yt,void 0)},telemetrySource:"InlineEditToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(Yt=>{Ce._dropDownVisible=Yt})),this._register((0,v.fm)(Yt=>{this._position.read(Yt),this.editor.layoutContentWidget(this)})),this._register((0,v.fm)(Yt=>{const en=[];for(const[an,lt]of this.inlineCompletionsActionsMenus.getActions())for(const Nt of lt)Nt instanceof it.Xe&&en.push(Nt);en.length>0&&en.unshift(new ce.wv),this.toolBar.setAdditionalSecondaryActions(en)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};Fe._dropDownVisible=!1,Fe.id=0,Fe=Ce=Ee([be(3,ie._Y),be(4,K.fN),be(5,it.ez)],Fe);class qe extends Ve.oq{updateLabel(){const Ye=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!Ye)return super.updateLabel();if(this.label){const st=(0,ye.h)("div.keybinding").root;this._register(new M.x(st,Ie.OS,{disableTitle:!0,...M.l})).set(Ye),this.label.textContent=this._action.label,this.label.appendChild(st),this.label.classList.add("inlineEditStatusBarItemLabel")}}updateTooltip(){}}let dt=class extends $e.p{constructor(Ye,st,Ke,ft,wt,qt,Yt,en,an,lt){super(Ye,{resetMenu:Ke,...ft},wt,qt,Yt,en,an,lt),this.editor=st,this.menuId=Ke,this.options2=ft,this.menuService=wt,this.contextKeyService=qt,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this._store.add(this.editor.onDidChangeCursorPosition(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var Ye,st,Ke,ft,wt,qt,Yt;const en=[],an=[];(0,Ve.Ot)(this.menu,null===(Ye=this.options2)||void 0===Ye?void 0:Ye.menuOptions,{primary:en,secondary:an},null===(Ke=null===(st=this.options2)||void 0===st?void 0:st.toolbarOptions)||void 0===Ke?void 0:Ke.primaryGroup,null===(wt=null===(ft=this.options2)||void 0===ft?void 0:ft.toolbarOptions)||void 0===wt?void 0:wt.shouldInlineSubmenu,null===(Yt=null===(qt=this.options2)||void 0===qt?void 0:qt.toolbarOptions)||void 0===Yt?void 0:Yt.useSeparatorsInPrimaryActions),an.push(...this.additionalActions),en.unshift(...this.prependedPrimaryActions),this.setActions(en,an)}setAdditionalSecondaryActions(Ye){(0,Se.aI)(this.additionalActions,Ye,(st,Ke)=>st===Ke)||(this.additionalActions=Ye,this.updateToolbar())}};dt=Ee([be(4,it.ez),be(5,K.fN),be(6,He.Z),be(7,me.b),be(8,_e.d),be(9,le.k)],dt);var Je,vt=t(35072),fn=t(25680),ht=function(Ze,Ye){return function(st,Ke){Ye(st,Ke,Ze)}};class ot{constructor(Ye,st){this.widget=Ye,this.edit=st}dispose(){this.widget.dispose()}}let De=Je=class extends D.jG{static get(Ye){return Ye.getContribution(Je.ID)}constructor(Ye,st,Ke,ft,wt,qt){var Yt;super(),Yt=this,this.editor=Ye,this.instantiationService=st,this.contextKeyService=Ke,this.languageFeaturesService=ft,this._commandService=wt,this._configurationService=qt,this._isVisibleContext=Je.inlineEditVisibleContext.bindTo(this.contextKeyService),this._isCursorAtInlineEditContext=Je.cursorAtInlineEditContext.bindTo(this.contextKeyService),this._currentEdit=this._register((0,v.X2)(this,void 0)),this._isAccepting=(0,v.FY)(this,!1),this._enabled=(0,v.y0)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).enabled),this._fontFamily=(0,v.y0)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).fontFamily),this._backgroundColoring=(0,v.y0)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).backgroundColoring);const en=(0,v.yQ)("InlineEditController.modelContentChangedSignal",Ye.onDidChangeModelContent);this._register((0,v.fm)(bn=>{this._enabled.read(bn)&&(en.read(bn),!this._isAccepting.read(bn)&&this.getInlineEdit(Ye,!0))}));const an=(0,v.y0)(Ye.onDidChangeCursorPosition,()=>Ye.getPosition());this._register((0,v.fm)(bn=>{if(!this._enabled.read(bn))return;const Bn=an.read(bn);Bn&&this.checkCursorPosition(Bn)})),this._register((0,v.fm)(bn=>{const Bn=this._currentEdit.read(bn);if(this._isCursorAtInlineEditContext.set(!1),!Bn)return void this._isVisibleContext.set(!1);this._isVisibleContext.set(!0);const zn=Ye.getPosition();zn&&this.checkCursorPosition(zn)}));const lt=(0,v.yQ)("InlineEditController.editorBlurSignal",Ye.onDidBlurEditorWidget);this._register((0,v.fm)(function(){var bn=(0,w.A)(function*(Bn){var zn;Yt._enabled.read(Bn)&&(lt.read(Bn),!Yt._configurationService.getValue("editor.experimentalInlineEdit.keepOnBlur")&&!Ye.getOption(63).keepOnBlur&&(null===(zn=Yt._currentRequestCts)||void 0===zn||zn.dispose(!0),Yt._currentRequestCts=void 0,yield Yt.clear(!1)))});return function(Bn){return bn.apply(this,arguments)}}()));const Nt=(0,v.yQ)("InlineEditController.editorFocusSignal",Ye.onDidFocusEditorText);this._register((0,v.fm)(bn=>{this._enabled.read(bn)&&(Nt.read(bn),this.getInlineEdit(Ye,!0))}));const tn=this._register((0,ye.jh)());this._register((0,v.fm)(bn=>{const Bn=this._fontFamily.read(bn);tn.setStyle(""===Bn||"default"===Bn?"":`\n.monaco-editor .inline-edit-decoration,\n.monaco-editor .inline-edit-decoration-preview,\n.monaco-editor .inline-edit {\n\tfont-family: ${Bn};\n}`)})),this._register(new Ne(this.editor,this._currentEdit,this.instantiationService))}checkCursorPosition(Ye){var st;if(!this._currentEdit)return void this._isCursorAtInlineEditContext.set(!1);const Ke=null===(st=this._currentEdit.get())||void 0===st?void 0:st.edit;this._isCursorAtInlineEditContext.set(!!Ke&&d.Q.containsPosition(Ke.range,Ye))}validateInlineEdit(Ye,st){var Ke,ft;if(st.text.includes("\n")&&st.range.startLineNumber!==st.range.endLineNumber&&st.range.startColumn!==st.range.endColumn){if(1!==st.range.startColumn)return!1;const qt=st.range.endLineNumber;if(st.range.endColumn!==(null!==(ft=null===(Ke=Ye.getModel())||void 0===Ke?void 0:Ke.getLineLength(qt))&&void 0!==ft?ft:0)+1)return!1}return!0}fetchInlineEdit(Ye,st){var Ke=this;return(0,w.A)(function*(){Ke._currentRequestCts&&Ke._currentRequestCts.dispose(!0);const ft=Ye.getModel();if(!ft)return;const wt=ft.getVersionId(),qt=Ke.languageFeaturesService.inlineEditProvider.all(ft);if(0===qt.length)return;const Yt=qt[0];Ke._currentRequestCts=new se.Qi;const en=Ke._currentRequestCts.token,an=st?ae.sm.Automatic:ae.sm.Invoke;if(st&&(yield function Qe(Ze,Ye){return new Promise(st=>{let Ke;const ft=setTimeout(()=>{Ke&&Ke.dispose(),st()},Ze);Ye&&(Ke=Ye.onCancellationRequested(()=>{clearTimeout(ft),Ke&&Ke.dispose(),st()}))})}(50,en)),en.isCancellationRequested||ft.isDisposed()||ft.getVersionId()!==wt)return;const Nt=yield Yt.provideInlineEdit(ft,{triggerKind:an},en);return Nt&&!en.isCancellationRequested&&!ft.isDisposed()&&ft.getVersionId()===wt&&Ke.validateInlineEdit(Ye,Nt)?Nt:void 0})()}getInlineEdit(Ye,st){var Ke=this;return(0,w.A)(function*(){var ft;Ke._isCursorAtInlineEditContext.set(!1),yield Ke.clear();const wt=yield Ke.fetchInlineEdit(Ye,st);if(!wt)return;const qt=wt.range.endLineNumber,Yt=wt.range.endColumn,en=!wt.text.endsWith("\n")||wt.range.startLineNumber===wt.range.endLineNumber&&wt.range.startColumn===wt.range.endColumn?wt.text:wt.text.slice(0,-1),an=new ge.xD(qt,[new ge.yP(Yt,en,!1)]),lt=Ke.instantiationService.createInstance(Q,Ke.editor,{ghostText:(0,v.lk)(an),minReservedLineCount:(0,v.lk)(0),targetTextModel:(0,v.lk)(null!==(ft=Ke.editor.getModel())&&void 0!==ft?ft:void 0),range:(0,v.lk)(wt.range),backgroundColoring:Ke._backgroundColoring});Ke._currentEdit.set(new ot(lt,wt),void 0)})()}trigger(){var Ye=this;return(0,w.A)(function*(){yield Ye.getInlineEdit(Ye.editor,!1)})()}jumpBack(){var Ye=this;return(0,w.A)(function*(){Ye._jumpBackPosition&&(Ye.editor.setPosition(Ye._jumpBackPosition),Ye.editor.revealPositionInCenterIfOutsideViewport(Ye._jumpBackPosition))})()}accept(){var Ye=this;return(0,w.A)(function*(){var st;Ye._isAccepting.set(!0,void 0);const Ke=null===(st=Ye._currentEdit.get())||void 0===st?void 0:st.edit;if(!Ke)return;let ft=Ke.text;Ke.text.startsWith("\n")&&(ft=Ke.text.substring(1)),Ye.editor.pushUndoStop(),Ye.editor.executeEdits("acceptCurrent",[_.k.replace(d.Q.lift(Ke.range),ft)]),Ke.accepted&&(yield Ye._commandService.executeCommand(Ke.accepted.id,...Ke.accepted.arguments||[]).then(void 0,fn.M_)),Ye.freeEdit(Ke),(0,v.Rn)(wt=>{Ye._currentEdit.set(void 0,wt),Ye._isAccepting.set(!1,wt)})})()}jumpToCurrent(){var Ye,st;this._jumpBackPosition=null===(Ye=this.editor.getSelection())||void 0===Ye?void 0:Ye.getStartPosition();const Ke=null===(st=this._currentEdit.get())||void 0===st?void 0:st.edit;if(!Ke)return;const ft=f.y.lift({lineNumber:Ke.range.startLineNumber,column:Ke.range.startColumn});this.editor.setPosition(ft),this.editor.revealPositionInCenterIfOutsideViewport(ft)}clear(Ye=!0){var st=this;return(0,w.A)(function*(){var Ke;const ft=null===(Ke=st._currentEdit.get())||void 0===Ke?void 0:Ke.edit;ft&&ft?.rejected&&Ye&&(yield st._commandService.executeCommand(ft.rejected.id,...ft.rejected.arguments||[]).then(void 0,fn.M_)),ft&&st.freeEdit(ft),st._currentEdit.set(void 0,void 0)})()}freeEdit(Ye){const st=this.editor.getModel();if(!st)return;const Ke=this.languageFeaturesService.inlineEditProvider.all(st);0!==Ke.length&&Ke[0].freeInlineEdit(Ye)}shouldShowHoverAt(Ye){const st=this._currentEdit.get();if(!st)return!1;const Ke=st.edit,ft=st.widget.model;if(d.Q.containsPosition(Ke.range,Ye.getStartPosition())||d.Q.containsPosition(Ke.range,Ye.getEndPosition()))return!0;const qt=ft.ghostText.get();return!!qt&&qt.parts.some(Yt=>Ye.containsPosition(new f.y(qt.lineNumber,Yt.column)))}shouldShowHoverAtViewZone(Ye){var st,Ke;return null!==(Ke=null===(st=this._currentEdit.get())||void 0===st?void 0:st.widget.ownsViewZone(Ye))&&void 0!==Ke&&Ke}};De.ID="editor.contrib.inlineEditController",De.inlineEditVisibleKey="inlineEditVisible",De.inlineEditVisibleContext=new K.N1(Je.inlineEditVisibleKey,!1),De.cursorAtInlineEditKey="cursorAtInlineEdit",De.cursorAtInlineEditContext=new K.N1(Je.cursorAtInlineEditKey,!1),De=Je=function(Ze,Ye,st,Ke){var qt,ft=arguments.length,wt=ft<3?Ye:null===Ke?Ke=Object.getOwnPropertyDescriptor(Ye,st):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)wt=Reflect.decorate(Ze,Ye,st,Ke);else for(var Yt=Ze.length-1;Yt>=0;Yt--)(qt=Ze[Yt])&&(wt=(ft<3?qt(wt):ft>3?qt(Ye,st,wt):qt(Ye,st))||wt);return ft>3&&wt&&Object.defineProperty(Ye,st,wt),wt}([ht(1,ie._Y),ht(2,K.fN),ht(3,de.u),ht(4,_e.d),ht(5,vt.pG)],De);var Ut=function(Ze,Ye){return function(st,Ke){Ye(st,Ke,Ze)}};class St{constructor(Ye,st,Ke){this.owner=Ye,this.range=st,this.controller=Ke}isValidForHoverAnchor(Ye){return 1===Ye.type&&this.range.startColumn<=Ye.range.startColumn&&this.range.endColumn>=Ye.range.endColumn}}let ke=class{constructor(Ye,st,Ke){this._editor=Ye,this._instantiationService=st,this._telemetryService=Ke,this.hoverOrdinal=5}suggestHoverAnchor(Ye){const st=De.get(this._editor);if(!st)return null;const Ke=Ye.target;return 8===Ke.type&&st.shouldShowHoverAtViewZone(Ke.detail.viewZoneId)||7===Ke.type&&st.shouldShowHoverAt(Ke.range)||6===Ke.type&&Ke.detail.mightBeForeignElement&&st.shouldShowHoverAt(Ke.range)?new F.mm(1e3,this,Ke.range,Ye.event.posx,Ye.event.posy,!1):null}computeSync(Ye,st){if("onHover"!==this._editor.getOption(63).showToolbar)return[];const Ke=De.get(this._editor);return Ke&&Ke.shouldShowHoverAt(Ye.range)?[new St(this,Ye.range,Ke)]:[]}renderHoverParts(Ye,st){const Ke=new D.Cm;this._telemetryService.publicLog2("inlineEditHover.shown");const ft=this._instantiationService.createInstance(Fe,this._editor,!1,(0,v.lk)(null));return Ye.fragment.appendChild(ft.getDomNode()),Ke.add(ft),Ke}};ke=function(Ze,Ye,st,Ke){var qt,ft=arguments.length,wt=ft<3?Ye:null===Ke?Ke=Object.getOwnPropertyDescriptor(Ye,st):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)wt=Reflect.decorate(Ze,Ye,st,Ke);else for(var Yt=Ze.length-1;Yt>=0;Yt--)(qt=Ze[Yt])&&(wt=(ft<3?qt(wt):ft>3?qt(Ye,st,wt):qt(Ye,st))||wt);return ft>3&&wt&&Object.defineProperty(Ye,st,wt),wt}([Ut(1,ie._Y),Ut(2,le.k)],ke),(0,a.Fl)(class mt extends a.ks{constructor(){super({id:"editor.action.inlineEdit.accept",label:"Accept Inline Edit",alias:"Accept Inline Edit",precondition:K.M$.and(x.R.writable,De.inlineEditVisibleContext),kbOpts:[{weight:101,primary:2,kbExpr:K.M$.and(x.R.writable,De.inlineEditVisibleContext,De.cursorAtInlineEditContext)}],menuOpts:[{menuId:it.D8.InlineEditToolbar,title:"Accept",group:"primary",order:1}]})}run(Ye,st){return(0,w.A)(function*(){const Ke=De.get(st);yield Ke?.accept()})()}}),(0,a.Fl)(class Bt extends a.ks{constructor(){const Ye=K.M$.and(x.R.writable,De.inlineEditVisibleContext);super({id:"editor.action.inlineEdit.reject",label:"Reject Inline Edit",alias:"Reject Inline Edit",precondition:Ye,kbOpts:{weight:100,primary:9,kbExpr:Ye},menuOpts:[{menuId:it.D8.InlineEditToolbar,title:"Reject",group:"secondary",order:2}]})}run(Ye,st){return(0,w.A)(function*(){const Ke=De.get(st);yield Ke?.clear()})()}}),(0,a.Fl)(class Ht extends a.ks{constructor(){const Ye=K.M$.and(x.R.writable,De.inlineEditVisibleContext,K.M$.not(De.cursorAtInlineEditKey));super({id:"editor.action.inlineEdit.jumpTo",label:"Jump to Inline Edit",alias:"Jump to Inline Edit",precondition:Ye,kbOpts:{weight:101,primary:2646,kbExpr:Ye},menuOpts:[{menuId:it.D8.InlineEditToolbar,title:"Jump To Edit",group:"primary",order:3,when:Ye}]})}run(Ye,st){return(0,w.A)(function*(){const Ke=De.get(st);Ke?.jumpToCurrent()})()}}),(0,a.Fl)(class Ft extends a.ks{constructor(){const Ye=K.M$.and(x.R.writable,De.cursorAtInlineEditContext);super({id:"editor.action.inlineEdit.jumpBack",label:"Jump Back from Inline Edit",alias:"Jump Back from Inline Edit",precondition:Ye,kbOpts:{weight:110,primary:2646,kbExpr:Ye},menuOpts:[{menuId:it.D8.InlineEditToolbar,title:"Jump Back",group:"primary",order:3,when:Ye}]})}run(Ye,st){return(0,w.A)(function*(){const Ke=De.get(st);Ke?.jumpBack()})()}}),(0,a.Fl)(class kt extends a.ks{constructor(){const Ye=K.M$.and(x.R.writable,K.M$.not(De.inlineEditVisibleKey));super({id:"editor.action.inlineEdit.trigger",label:"Trigger Inline Edit",alias:"Trigger Inline Edit",precondition:Ye,kbOpts:{weight:101,primary:2646,kbExpr:Ye}})}run(Ye,st){return(0,w.A)(function*(){const Ke=De.get(st);Ke?.trigger()})()}}),(0,a.HW)(De.ID,De,3),F.B2.register(ke)},4770:(tt,xe,t)=>{t.d(xe,{I:()=>q});var a=t(10467),F=t(91874),w=t(86671),x=t(15320),C=t(99031),S=t(6653),b=t(81072),P=t(85072),D=t.n(P),v=t(97825),_=t.n(v),f=t(77659),d=t.n(f),r=t(55056),l=t.n(r),g=t(10540),p=t.n(g),m=t(41113),T=t.n(m),A=t(8129),k={};k.styleTagTransform=T(),k.setAttributes=l(),k.insert=d().bind(null,"head"),k.domAPI=_(),k.insertStyleElement=p(),D()(A.A,k);var H=t(73678),L=t(80753),j=t(598);const X=L.kI.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:S.S8,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});let U=(()=>{class R extends C.jG{constructor(Y,oe,z,G,Q){super(),this.typeId=Y,this.editor=oe,this.range=z,this.delegate=Q,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(G),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(Y){this.domNode=F.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=Y;const oe=F.$("span.icon");this.domNode.append(oe),oe.classList.add(...b.L.asClassNameArray(x.W.loading),"codicon-modifier-spin");const z=()=>{const G=this.editor.getOption(67);this.domNode.style.height=`${G}px`,this.domNode.style.width=`${Math.ceil(.8*G)}px`};z(),this._register(this.editor.onDidChangeConfiguration(G=>{(G.hasChanged(52)||G.hasChanged(67))&&z()})),this._register(F.ko(this.domNode,F.Bx.CLICK,G=>{this.delegate.cancel()}))}getId(){return R.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}return R.baseId="editor.widget.inlineProgressWidget",R})(),q=class extends C.jG{constructor(W,Y,oe){super(),this.id=W,this._editor=Y,this._instantiationService=oe,this._showDelay=500,this._showPromise=this._register(new C.HE),this._currentWidget=new C.HE,this._operationIdPool=0,this._currentDecorations=Y.createDecorationsCollection()}showWhile(W,Y,oe){var z=this;return(0,a.A)(function*(){const G=z._operationIdPool++;z._currentOperation=G,z.clear(),z._showPromise.value=(0,w.EQ)(()=>{const Q=H.Q.fromPositions(W);z._currentDecorations.set([{range:Q,options:X}]).length>0&&(z._currentWidget.value=z._instantiationService.createInstance(U,z.id,z._editor,Q,Y,oe))},z._showDelay);try{return yield oe}finally{z._currentOperation===G&&(z.clear(),z._currentOperation=void 0)}})()}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};var W;q=function(R,W,Y,oe){var Q,z=arguments.length,G=z<3?W:null===oe?oe=Object.getOwnPropertyDescriptor(W,Y):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(R,W,Y,oe);else for(var K=R.length-1;K>=0;K--)(Q=R[K])&&(G=(z<3?Q(G):z>3?Q(W,Y,G):Q(W,Y))||G);return z>3&&G&&Object.defineProperty(W,Y,G),G}([(2,W=j._Y,function(Y,oe){W(Y,oe,2)})],q)},23715:(tt,xe,t)=>{var a=t(47639),F=t(46813),w=t(69995),x=t(81644);(0,a.Fl)(class C extends a.ks{constructor(){super({id:"expandLineSelection",label:x.kg("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:w.R.textInputFocus,primary:2090}})}run(b,P,D){if(D=D||{},!P.hasModel())return;const v=P._getViewModel();v.model.pushStackElement(),v.setCursorStates(D.source,3,F.c.expandLineSelection(v,v.getCursorStates())),v.revealAllCursors(D.source,!0)}})},9210:(tt,xe,t)=>{var a=t(79624),F=t(88175),w=t(47639),x=t(19533),C=t(6653),S=t(5214),b=t(73678);class P{constructor(be,Ce,Ne){this._selection=be,this._cursors=Ce,this._selectionId=null,this._trimInRegexesAndStrings=Ne}getEditOperations(be,Ce){const Ne=function D(Ee,be,Ce){be.sort((vt,fn)=>vt.lineNumber===fn.lineNumber?vt.column-fn.column:vt.lineNumber-fn.lineNumber);for(let vt=be.length-2;vt>=0;vt--)be[vt].lineNumber===be[vt+1].lineNumber&&be.splice(vt,1);const Ne=[];let Fe=0,qe=0;const dt=be.length;for(let vt=1,fn=Ee.getLineCount();vt<=fn;vt++){const on=Ee.getLineContent(vt),ht=on.length+1;let Je=0;if(qe<dt&&be[qe].lineNumber===vt&&(Je=be[qe].column,qe++,Je===ht)||0===on.length)continue;const ot=C.lT(on);let De=0;if(-1===ot)De=1;else{if(ot===on.length-1)continue;De=ot+2}if(!Ce){if(!Ee.tokenization.hasAccurateTokensForLine(vt))continue;const Qe=Ee.tokenization.getLineTokens(vt),mt=Qe.getStandardTokenType(Qe.findTokenIndexAtOffset(De));if(2===mt||3===mt)continue}De=Math.max(Je,De),Ne[Fe++]=S.k.delete(new b.Q(vt,De,vt,ht))}return Ne}(be,this._cursors,this._trimInRegexesAndStrings);for(let Fe=0,qe=Ne.length;Fe<qe;Fe++){const dt=Ne[Fe];Ce.addEditOperation(dt.range,dt.text)}this._selectionId=Ce.trackSelection(this._selection)}computeCursorState(be,Ce){return Ce.getTrackedSelection(this._selectionId)}}var v=t(69527),_=t(13632),f=t(14105),d=t(69995);class r{constructor(be,Ce,Ne){this._selection=be,this._isCopyingDown=Ce,this._noop=Ne||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(be,Ce){let Ne=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,Ne.startLineNumber<Ne.endLineNumber&&1===Ne.endColumn&&(this._endLineNumberDelta=1,Ne=Ne.setEndPosition(Ne.endLineNumber-1,be.getLineMaxColumn(Ne.endLineNumber-1)));const Fe=[];for(let dt=Ne.startLineNumber;dt<=Ne.endLineNumber;dt++)Fe.push(be.getLineContent(dt));const qe=Fe.join("\n");""===qe&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?Ce.addEditOperation(new b.Q(Ne.endLineNumber,be.getLineMaxColumn(Ne.endLineNumber),Ne.endLineNumber+1,1),Ne.endLineNumber===be.getLineCount()?"":"\n"):this._isCopyingDown?Ce.addEditOperation(new b.Q(Ne.startLineNumber,1,Ne.startLineNumber,1),qe+"\n"):Ce.addEditOperation(new b.Q(Ne.endLineNumber,be.getLineMaxColumn(Ne.endLineNumber),Ne.endLineNumber,be.getLineMaxColumn(Ne.endLineNumber)),"\n"+qe),this._selectionId=Ce.trackSelection(Ne),this._selectionDirection=this._selection.getDirection()}computeCursorState(be,Ce){let Ne=Ce.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let Fe=Ne.startLineNumber,qe=Ne.startColumn,dt=Ne.endLineNumber,vt=Ne.endColumn;0!==this._startLineNumberDelta&&(Fe+=this._startLineNumberDelta,qe=1),0!==this._endLineNumberDelta&&(dt+=this._endLineNumberDelta,vt=1),Ne=f.L.createWithDirection(Fe,qe,dt,vt,this._selectionDirection)}return Ne}}var l=t(25585),g=t(41099),p=t(70416),m=t(84130),T=t(56930),A=t(49111);let N=class{constructor(be,Ce,Ne,Fe){this._languageConfigurationService=Fe,this._selection=be,this._isMovingDown=Ce,this._autoIndent=Ne,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(be,Ce){const Ne=()=>be.getLanguageId(),Fe=(Je,ot)=>be.getLanguageIdAtPosition(Je,ot),qe=be.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===qe)return void(this._selectionId=Ce.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=Ce.trackSelection(this._selection));this._moveEndPositionDown=!1;let dt=this._selection;dt.startLineNumber<dt.endLineNumber&&1===dt.endColumn&&(this._moveEndPositionDown=!0,dt=dt.setEndPosition(dt.endLineNumber-1,be.getLineMaxColumn(dt.endLineNumber-1)));const{tabSize:vt,indentSize:fn,insertSpaces:on}=be.getOptions(),ht=this.buildIndentConverter(vt,fn,on);if(dt.startLineNumber===dt.endLineNumber&&1===be.getLineMaxColumn(dt.startLineNumber)){const Je=dt.startLineNumber,ot=this._isMovingDown?Je+1:Je-1;1===be.getLineMaxColumn(ot)?Ce.addEditOperation(new b.Q(1,1,1,1),null):(Ce.addEditOperation(new b.Q(Je,1,Je,1),be.getLineContent(ot)),Ce.addEditOperation(new b.Q(ot,1,ot,be.getLineMaxColumn(ot)),null)),dt=new f.L(ot,1,ot,1)}else{let Je,ot;if(this._isMovingDown){Je=dt.endLineNumber+1,ot=be.getLineContent(Je),Ce.addEditOperation(new b.Q(Je-1,be.getLineMaxColumn(Je-1),Je,be.getLineMaxColumn(Je)),null);let De=ot;if(this.shouldAutoIndent(be,dt)){const Qe=this.matchEnterRule(be,ht,vt,Je,dt.startLineNumber-1);if(null!==Qe){const kt=C.UU(be.getLineContent(Je)),Ht=Qe+m.c(kt,vt);De=m.k(Ht,vt,on)+this.trimStart(ot)}else{const Ht=(0,T.$f)(this._autoIndent,{tokenization:{getLineTokens:Ft=>be.tokenization.getLineTokens(Ft===dt.startLineNumber?Je:Ft),getLanguageId:Ne,getLanguageIdAtPosition:Fe},getLineContent:Ft=>be.getLineContent(Ft===dt.startLineNumber?Je:Ft)},be.getLanguageIdAtPosition(Je,1),dt.startLineNumber,ht,this._languageConfigurationService);if(null!==Ht){const Ft=C.UU(be.getLineContent(Je)),Bt=m.c(Ht,vt);Bt!==m.c(Ft,vt)&&(De=m.k(Bt,vt,on)+this.trimStart(ot))}}Ce.addEditOperation(new b.Q(dt.startLineNumber,1,dt.startLineNumber,1),De+"\n");const mt=this.matchEnterRuleMovingDown(be,ht,vt,dt.startLineNumber,Je,De);if(null!==mt)0!==mt&&this.getIndentEditsOfMovingBlock(be,Ce,dt,vt,on,mt);else{const Ht=(0,T.$f)(this._autoIndent,{tokenization:{getLineTokens:Ft=>be.tokenization.getLineTokens(Ft===dt.startLineNumber?Je:Ft>=dt.startLineNumber+1&&Ft<=dt.endLineNumber+1?Ft-1:Ft),getLanguageId:Ne,getLanguageIdAtPosition:Fe},getLineContent:Ft=>Ft===dt.startLineNumber?De:be.getLineContent(Ft>=dt.startLineNumber+1&&Ft<=dt.endLineNumber+1?Ft-1:Ft)},be.getLanguageIdAtPosition(Je,1),dt.startLineNumber+1,ht,this._languageConfigurationService);if(null!==Ht){const Ft=C.UU(be.getLineContent(dt.startLineNumber)),Bt=m.c(Ht,vt),rt=m.c(Ft,vt);Bt!==rt&&this.getIndentEditsOfMovingBlock(be,Ce,dt,vt,on,Bt-rt)}}}else Ce.addEditOperation(new b.Q(dt.startLineNumber,1,dt.startLineNumber,1),De+"\n")}else if(Je=dt.startLineNumber-1,ot=be.getLineContent(Je),Ce.addEditOperation(new b.Q(Je,1,Je+1,1),null),Ce.addEditOperation(new b.Q(dt.endLineNumber,be.getLineMaxColumn(dt.endLineNumber),dt.endLineNumber,be.getLineMaxColumn(dt.endLineNumber)),"\n"+ot),this.shouldAutoIndent(be,dt)){const De={tokenization:{getLineTokens:mt=>be.tokenization.getLineTokens(mt===Je?dt.startLineNumber:mt),getLanguageId:Ne,getLanguageIdAtPosition:Fe},getLineContent:mt=>be.getLineContent(mt===Je?dt.startLineNumber:mt)},Qe=this.matchEnterRule(be,ht,vt,dt.startLineNumber,dt.startLineNumber-2);if(null!==Qe)0!==Qe&&this.getIndentEditsOfMovingBlock(be,Ce,dt,vt,on,Qe);else{const mt=(0,T.$f)(this._autoIndent,De,be.getLanguageIdAtPosition(dt.startLineNumber,1),Je,ht,this._languageConfigurationService);if(null!==mt){const kt=C.UU(be.getLineContent(dt.startLineNumber)),Ht=m.c(mt,vt),Ft=m.c(kt,vt);Ht!==Ft&&this.getIndentEditsOfMovingBlock(be,Ce,dt,vt,on,Ht-Ft)}}}}this._selectionId=Ce.trackSelection(dt)}buildIndentConverter(be,Ce,Ne){return{shiftIndent:Fe=>l.Y.shiftIndent(Fe,Fe.length+1,be,Ce,Ne),unshiftIndent:Fe=>l.Y.unshiftIndent(Fe,Fe.length+1,be,Ce,Ne)}}parseEnterResult(be,Ce,Ne,Fe,qe){if(qe){let dt=qe.indentation;qe.indentAction===g.l.None||qe.indentAction===g.l.Indent?dt=qe.indentation+qe.appendText:qe.indentAction===g.l.IndentOutdent?dt=qe.indentation:qe.indentAction===g.l.Outdent&&(dt=Ce.unshiftIndent(qe.indentation)+qe.appendText);const vt=be.getLineContent(Fe);if(this.trimStart(vt).indexOf(this.trimStart(dt))>=0){const fn=C.UU(be.getLineContent(Fe));let on=C.UU(dt);const ht=(0,T.Yb)(be,Fe,this._languageConfigurationService);return null!==ht&&2&ht&&(on=Ce.unshiftIndent(on)),m.c(on,Ne)-m.c(fn,Ne)}}return null}matchEnterRuleMovingDown(be,Ce,Ne,Fe,qe,dt){if(C.lT(dt)>=0){const vt=be.getLineMaxColumn(qe),fn=(0,A.h)(this._autoIndent,be,new b.Q(qe,vt,qe,vt),this._languageConfigurationService);return this.parseEnterResult(be,Ce,Ne,Fe,fn)}{let vt=Fe-1;for(;vt>=1;){const ht=be.getLineContent(vt);if(C.lT(ht)>=0)break;vt--}if(vt<1||Fe>be.getLineCount())return null;const fn=be.getLineMaxColumn(vt),on=(0,A.h)(this._autoIndent,be,new b.Q(vt,fn,vt,fn),this._languageConfigurationService);return this.parseEnterResult(be,Ce,Ne,Fe,on)}}matchEnterRule(be,Ce,Ne,Fe,qe,dt){let vt=qe;for(;vt>=1;){let ht;if(ht=vt===qe&&void 0!==dt?dt:be.getLineContent(vt),C.lT(ht)>=0)break;vt--}if(vt<1||Fe>be.getLineCount())return null;const fn=be.getLineMaxColumn(vt),on=(0,A.h)(this._autoIndent,be,new b.Q(vt,fn,vt,fn),this._languageConfigurationService);return this.parseEnterResult(be,Ce,Ne,Fe,on)}trimStart(be){return be.replace(/^\s+/,"")}shouldAutoIndent(be,Ce){if(this._autoIndent<4||!be.tokenization.isCheapToTokenize(Ce.startLineNumber))return!1;const Ne=be.getLanguageIdAtPosition(Ce.startLineNumber,1);return!(Ne!==be.getLanguageIdAtPosition(Ce.endLineNumber,1)||null===this._languageConfigurationService.getLanguageConfiguration(Ne).indentRulesSupport)}getIndentEditsOfMovingBlock(be,Ce,Ne,Fe,qe,dt){for(let vt=Ne.startLineNumber;vt<=Ne.endLineNumber;vt++){const fn=be.getLineContent(vt),on=C.UU(fn),Je=m.c(on,Fe)+dt,ot=m.k(Je,Fe,qe);ot!==on&&(Ce.addEditOperation(new b.Q(vt,1,vt,on.length+1),ot),vt===Ne.endLineNumber&&Ne.endColumn<=on.length+1&&""===ot&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(be,Ce){let Ne=Ce.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(Ne=Ne.setEndPosition(Ne.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&Ne.startLineNumber<Ne.endLineNumber&&(Ne=Ne.setEndPosition(Ne.endLineNumber,2)),Ne}};var be;N=function(Ee,be,Ce,Ne){var dt,Fe=arguments.length,qe=Fe<3?be:null===Ne?Ne=Object.getOwnPropertyDescriptor(be,Ce):Ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qe=Reflect.decorate(Ee,be,Ce,Ne);else for(var vt=Ee.length-1;vt>=0;vt--)(dt=Ee[vt])&&(qe=(Fe<3?dt(qe):Fe>3?dt(be,Ce,qe):dt(be,Ce))||qe);return Fe>3&&qe&&Object.defineProperty(be,Ce,qe),qe}([(3,be=p.JZ,function(Ce,Ne){be(Ce,Ne,3)})],N);let H=(()=>{class Ee{static getCollator(){return Ee._COLLATOR||(Ee._COLLATOR=new Intl.Collator),Ee._COLLATOR}constructor(Ce,Ne){this.selection=Ce,this.descending=Ne,this.selectionId=null}getEditOperations(Ce,Ne){const Fe=function j(Ee,be,Ce){const Ne=L(Ee,be,Ce);return Ne?S.k.replace(new b.Q(Ne.startLineNumber,1,Ne.endLineNumber,Ee.getLineMaxColumn(Ne.endLineNumber)),Ne.after.join("\n")):null}(Ce,this.selection,this.descending);Fe&&Ne.addEditOperation(Fe.range,Fe.text),this.selectionId=Ne.trackSelection(this.selection)}computeCursorState(Ce,Ne){return Ne.getTrackedSelection(this.selectionId)}static canRun(Ce,Ne,Fe){if(null===Ce)return!1;const qe=L(Ce,Ne,Fe);if(!qe)return!1;for(let dt=0,vt=qe.before.length;dt<vt;dt++)if(qe.before[dt]!==qe.after[dt])return!0;return!1}}return Ee._COLLATOR=null,Ee})();function L(Ee,be,Ce){const Ne=be.startLineNumber;let Fe=be.endLineNumber;if(1===be.endColumn&&Fe--,Ne>=Fe)return null;const qe=[];for(let vt=Ne;vt<=Fe;vt++)qe.push(Ee.getLineContent(vt));let dt=qe.slice(0);return dt.sort(H.getCollator().compare),!0===Ce&&(dt=dt.reverse()),{startLineNumber:Ne,endLineNumber:Fe,before:qe,after:dt}}var Z=t(81644),te=t(79134),X=t(35072);class U extends w.ks{constructor(be,Ce){super(Ce),this.down=be}run(be,Ce){if(!Ce.hasModel())return;const Ne=Ce.getSelections().map((dt,vt)=>({selection:dt,index:vt,ignore:!1}));Ne.sort((dt,vt)=>b.Q.compareRangesUsingStarts(dt.selection,vt.selection));let Fe=Ne[0];for(let dt=1;dt<Ne.length;dt++){const vt=Ne[dt];Fe.selection.endLineNumber===vt.selection.startLineNumber&&(Fe.index<vt.index?vt.ignore=!0:(Fe.ignore=!0,Fe=vt))}const qe=[];for(const dt of Ne)qe.push(new r(dt.selection,this.down,dt.ignore));Ce.pushUndoStop(),Ce.executeCommands(this.id,qe),Ce.pushUndoStop()}}class Y extends w.ks{constructor(be,Ce){super(Ce),this.down=be}run(be,Ce){const Ne=be.get(p.JZ),Fe=[],qe=Ce.getSelections()||[],dt=Ce.getOption(12);for(const vt of qe)Fe.push(new N(vt,this.down,dt,Ne));Ce.pushUndoStop(),Ce.executeCommands(this.id,Fe),Ce.pushUndoStop()}}class G extends w.ks{constructor(be,Ce){super(Ce),this.descending=be}run(be,Ce){if(!Ce.hasModel())return;const Ne=Ce.getModel();let Fe=Ce.getSelections();1===Fe.length&&Fe[0].isEmpty()&&(Fe=[new f.L(1,1,Ne.getLineCount(),Ne.getLineMaxColumn(Ne.getLineCount()))]);for(const dt of Fe)if(!H.canRun(Ce.getModel(),dt,this.descending))return;const qe=[];for(let dt=0,vt=Fe.length;dt<vt;dt++)qe[dt]=new H(Fe[dt],this.descending);Ce.pushUndoStop(),Ce.executeCommands(this.id,qe),Ce.pushUndoStop()}}let ae=(()=>{class Ee extends w.ks{constructor(){super({id:Ee.ID,label:Z.kg("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:d.R.writable,kbOpts:{kbExpr:d.R.editorTextFocus,primary:(0,a.m5)(2089,2102),weight:100}})}run(Ce,Ne,Fe){let qe=[];"auto-save"===Fe.reason&&(qe=(Ne.getSelections()||[]).map(Je=>new _.y(Je.positionLineNumber,Je.positionColumn)));const dt=Ne.getSelection();if(null===dt)return;const vt=Ce.get(X.pG),fn=Ne.getModel(),on=vt.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:fn?.getLanguageId(),resource:fn?.uri}),ht=new P(dt,qe,on);Ne.pushUndoStop(),Ne.executeCommands(this.id,[ht]),Ne.pushUndoStop()}}return Ee.ID="editor.action.trimTrailingWhitespace",Ee})();class M extends w.ks{run(be,Ce){if(!Ce.hasModel())return;const Ne=Ce.getSelection(),Fe=this._getRangesToDelete(Ce),qe=[];for(let fn=0,on=Fe.length-1;fn<on;fn++){const ht=Fe[fn],Je=Fe[fn+1];null===b.Q.intersectRanges(ht,Je)?qe.push(ht):Fe[fn+1]=b.Q.plusRange(ht,Je)}qe.push(Fe[Fe.length-1]);const dt=this._getEndCursorState(Ne,qe),vt=qe.map(fn=>S.k.replace(fn,""));Ce.pushUndoStop(),Ce.executeEdits(this.id,vt,dt),Ce.pushUndoStop()}}class ue extends w.ks{run(be,Ce){const Ne=Ce.getSelections();if(null===Ne)return;const Fe=Ce.getModel();if(null===Fe)return;const qe=Ce.getOption(131),dt=[];for(const vt of Ne)if(vt.isEmpty()){const fn=vt.getStartPosition(),on=Ce.getConfiguredWordAtPosition(fn);if(!on)continue;const ht=new b.Q(fn.lineNumber,on.startColumn,fn.lineNumber,on.endColumn),Je=Fe.getValueInRange(ht);dt.push(S.k.replace(ht,this._modifyText(Je,qe)))}else{const fn=Fe.getValueInRange(vt);dt.push(S.k.replace(vt,this._modifyText(fn,qe)))}Ce.pushUndoStop(),Ce.executeEdits(this.id,dt),Ce.pushUndoStop()}}class Ve{constructor(be,Ce){this._pattern=be,this._flags=Ce,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return null!==this.get()}}class $e extends ue{constructor(){super({id:"editor.action.transformToTitlecase",label:Z.kg("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:d.R.writable})}_modifyText(be,Ce){const Ne=$e.titleBoundary.get();return Ne?be.toLocaleLowerCase().replace(Ne,Fe=>Fe.toLocaleUpperCase()):be}}$e.titleBoundary=new Ve("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class it extends ue{constructor(){super({id:"editor.action.transformToSnakecase",label:Z.kg("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:d.R.writable})}_modifyText(be,Ce){const Ne=it.caseBoundary.get(),Fe=it.singleLetters.get();return Ne&&Fe?be.replace(Ne,"$1_$2").replace(Fe,"$1_$2$3").toLocaleLowerCase():be}}it.caseBoundary=new Ve("(\\p{Ll})(\\p{Lu})","gmu"),it.singleLetters=new Ve("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class He extends ue{constructor(){super({id:"editor.action.transformToCamelcase",label:Z.kg("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:d.R.writable})}_modifyText(be,Ce){const Ne=He.wordBoundary.get();if(!Ne)return be;const Fe=be.split(Ne);return Fe.shift()+Fe.map(dt=>dt.substring(0,1).toLocaleUpperCase()+dt.substring(1)).join("")}}He.wordBoundary=new Ve("[_\\s-]","gm");class me extends ue{constructor(){super({id:"editor.action.transformToPascalcase",label:Z.kg("editor.transformToPascalcase","Transform to Pascal Case"),alias:"Transform to Pascal Case",precondition:d.R.writable})}_modifyText(be,Ce){const Ne=me.wordBoundary.get(),Fe=me.wordBoundaryToMaintain.get();return Ne&&Fe?be.split(Fe).map(vt=>vt.split(Ne)).flat().map(vt=>vt.substring(0,1).toLocaleUpperCase()+vt.substring(1)).join(""):be}}me.wordBoundary=new Ve("[_\\s-]","gm"),me.wordBoundaryToMaintain=new Ve("(?<=\\.)","gm");class le extends ue{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(Ce=>Ce.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:Z.kg("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:d.R.writable})}_modifyText(be,Ce){const Ne=le.caseBoundary.get(),Fe=le.singleLetters.get(),qe=le.underscoreBoundary.get();return Ne&&Fe&&qe?be.replace(qe,"$1-$3").replace(Ne,"$1-$2").replace(Fe,"$1-$2").toLocaleLowerCase():be}}le.caseBoundary=new Ve("(\\p{Ll})(\\p{Lu})","gmu"),le.singleLetters=new Ve("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),le.underscoreBoundary=new Ve("(\\S)(_)(\\S)","gm"),(0,w.Fl)(class q extends U{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:Z.kg("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:d.R.writable,kbOpts:{kbExpr:d.R.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:te.D8.MenubarSelectionMenu,group:"2_line",title:Z.kg({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),(0,w.Fl)(class R extends U{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:Z.kg("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:d.R.writable,kbOpts:{kbExpr:d.R.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:te.D8.MenubarSelectionMenu,group:"2_line",title:Z.kg({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),(0,w.Fl)(class W extends w.ks{constructor(){super({id:"editor.action.duplicateSelection",label:Z.kg("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:d.R.writable,menuOpts:{menuId:te.D8.MenubarSelectionMenu,group:"2_line",title:Z.kg({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(be,Ce,Ne){if(!Ce.hasModel())return;const Fe=[],qe=Ce.getSelections(),dt=Ce.getModel();for(const vt of qe)if(vt.isEmpty())Fe.push(new r(vt,!0));else{const fn=new f.L(vt.endLineNumber,vt.endColumn,vt.endLineNumber,vt.endColumn);Fe.push(new x.tA(fn,dt.getValueInRange(vt)))}Ce.pushUndoStop(),Ce.executeCommands(this.id,Fe),Ce.pushUndoStop()}}),(0,w.Fl)(class oe extends Y{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:Z.kg("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:d.R.writable,kbOpts:{kbExpr:d.R.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:te.D8.MenubarSelectionMenu,group:"2_line",title:Z.kg({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),(0,w.Fl)(class z extends Y{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:Z.kg("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:d.R.writable,kbOpts:{kbExpr:d.R.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:te.D8.MenubarSelectionMenu,group:"2_line",title:Z.kg({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),(0,w.Fl)(class Q extends G{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:Z.kg("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:d.R.writable})}}),(0,w.Fl)(class K extends G{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:Z.kg("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:d.R.writable})}}),(0,w.Fl)(class ie extends w.ks{constructor(){super({id:"editor.action.removeDuplicateLines",label:Z.kg("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:d.R.writable})}run(be,Ce){if(!Ce.hasModel())return;const Ne=Ce.getModel();if(1===Ne.getLineCount()&&1===Ne.getLineMaxColumn(1))return;const Fe=[],qe=[];let dt=0,vt=!0,fn=Ce.getSelections();1===fn.length&&fn[0].isEmpty()&&(fn=[new f.L(1,1,Ne.getLineCount(),Ne.getLineMaxColumn(Ne.getLineCount()))],vt=!1);for(const on of fn){const ht=new Set,Je=[];for(let mt=on.startLineNumber;mt<=on.endLineNumber;mt++){const kt=Ne.getLineContent(mt);ht.has(kt)||(Je.push(kt),ht.add(kt))}const ot=new f.L(on.startLineNumber,1,on.endLineNumber,Ne.getLineMaxColumn(on.endLineNumber)),De=on.startLineNumber-dt,Qe=new f.L(De,1,De+Je.length-1,Je[Je.length-1].length);Fe.push(S.k.replace(ot,Je.join("\n"))),qe.push(Qe),dt+=on.endLineNumber-on.startLineNumber+1-Je.length}Ce.pushUndoStop(),Ce.executeEdits(this.id,Fe,vt?qe:void 0),Ce.pushUndoStop()}}),(0,w.Fl)(ae),(0,w.Fl)(class de extends w.ks{constructor(){super({id:"editor.action.deleteLines",label:Z.kg("lines.delete","Delete Line"),alias:"Delete Line",precondition:d.R.writable,kbOpts:{kbExpr:d.R.textInputFocus,primary:3113,weight:100}})}run(be,Ce){if(!Ce.hasModel())return;const Ne=this._getLinesToRemove(Ce),Fe=Ce.getModel();if(1===Fe.getLineCount()&&1===Fe.getLineMaxColumn(1))return;let qe=0;const dt=[],vt=[];for(let fn=0,on=Ne.length;fn<on;fn++){const ht=Ne[fn];let Je=ht.startLineNumber,ot=ht.endLineNumber,De=1,Qe=Fe.getLineMaxColumn(ot);ot<Fe.getLineCount()?(ot+=1,Qe=1):Je>1&&(Je-=1,De=Fe.getLineMaxColumn(Je)),dt.push(S.k.replace(new f.L(Je,De,ot,Qe),"")),vt.push(new f.L(Je-qe,ht.positionColumn,Je-qe,ht.positionColumn)),qe+=ht.endLineNumber-ht.startLineNumber+1}Ce.pushUndoStop(),Ce.executeEdits(this.id,dt,vt),Ce.pushUndoStop()}_getLinesToRemove(be){const Ce=be.getSelections().map(qe=>{let dt=qe.endLineNumber;return qe.startLineNumber<qe.endLineNumber&&1===qe.endColumn&&(dt-=1),{startLineNumber:qe.startLineNumber,selectionStartColumn:qe.selectionStartColumn,endLineNumber:dt,positionColumn:qe.positionColumn}});Ce.sort((qe,dt)=>qe.startLineNumber===dt.startLineNumber?qe.endLineNumber-dt.endLineNumber:qe.startLineNumber-dt.startLineNumber);const Ne=[];let Fe=Ce[0];for(let qe=1;qe<Ce.length;qe++)Fe.endLineNumber+1>=Ce[qe].startLineNumber?Fe.endLineNumber=Ce[qe].endLineNumber:(Ne.push(Fe),Fe=Ce[qe]);return Ne.push(Fe),Ne}}),(0,w.Fl)(class se extends w.ks{constructor(){super({id:"editor.action.indentLines",label:Z.kg("lines.indent","Indent Line"),alias:"Indent Line",precondition:d.R.writable,kbOpts:{kbExpr:d.R.editorTextFocus,primary:2142,weight:100}})}run(be,Ce){const Ne=Ce._getViewModel();Ne&&(Ce.pushUndoStop(),Ce.executeCommands(this.id,v.TK.indent(Ne.cursorConfig,Ce.getModel(),Ce.getSelections())),Ce.pushUndoStop())}}),(0,w.Fl)(class ge extends w.ks{constructor(){super({id:"editor.action.outdentLines",label:Z.kg("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:d.R.writable,kbOpts:{kbExpr:d.R.editorTextFocus,primary:2140,weight:100}})}run(be,Ce){F.Yh.Outdent.runEditorCommand(be,Ce,null)}}),(0,w.Fl)(class _e extends w.ks{constructor(){super({id:"editor.action.insertLineBefore",label:Z.kg("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:d.R.writable,kbOpts:{kbExpr:d.R.editorTextFocus,primary:3075,weight:100}})}run(be,Ce){const Ne=Ce._getViewModel();Ne&&(Ce.pushUndoStop(),Ce.executeCommands(this.id,v.TK.lineInsertBefore(Ne.cursorConfig,Ce.getModel(),Ce.getSelections())))}}),(0,w.Fl)(class ye extends w.ks{constructor(){super({id:"editor.action.insertLineAfter",label:Z.kg("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:d.R.writable,kbOpts:{kbExpr:d.R.editorTextFocus,primary:2051,weight:100}})}run(be,Ce){const Ne=Ce._getViewModel();Ne&&(Ce.pushUndoStop(),Ce.executeCommands(this.id,v.TK.lineInsertAfter(Ne.cursorConfig,Ce.getModel(),Ce.getSelections())))}}),(0,w.Fl)(class ce extends M{constructor(){super({id:"deleteAllLeft",label:Z.kg("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:d.R.writable,kbOpts:{kbExpr:d.R.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(be,Ce){let Ne=null;const Fe=[];let qe=0;return Ce.forEach(dt=>{let vt;if(1===dt.endColumn&&qe>0){const fn=dt.startLineNumber-qe;vt=new f.L(fn,dt.startColumn,fn,dt.startColumn)}else vt=new f.L(dt.startLineNumber,dt.startColumn,dt.startLineNumber,dt.startColumn);qe+=dt.endLineNumber-dt.startLineNumber,dt.intersectRanges(be)?Ne=vt:Fe.push(vt)}),Ne&&Fe.unshift(Ne),Fe}_getRangesToDelete(be){const Ce=be.getSelections();if(null===Ce)return[];let Ne=Ce;const Fe=be.getModel();return null===Fe?[]:(Ne.sort(b.Q.compareRangesUsingStarts),Ne=Ne.map(qe=>{if(qe.isEmpty()){if(1===qe.startColumn){const dt=Math.max(1,qe.startLineNumber-1),vt=1===qe.startLineNumber?1:Fe.getLineLength(dt)+1;return new b.Q(dt,vt,qe.startLineNumber,1)}return new b.Q(qe.startLineNumber,1,qe.startLineNumber,qe.startColumn)}return new b.Q(qe.startLineNumber,1,qe.endLineNumber,qe.endColumn)}),Ne)}}),(0,w.Fl)(class Se extends M{constructor(){super({id:"deleteAllRight",label:Z.kg("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:d.R.writable,kbOpts:{kbExpr:d.R.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(be,Ce){let Ne=null;const Fe=[];for(let qe=0,dt=Ce.length,vt=0;qe<dt;qe++){const fn=Ce[qe],on=new f.L(fn.startLineNumber-vt,fn.startColumn,fn.startLineNumber-vt,fn.startColumn);fn.intersectRanges(be)?Ne=on:Fe.push(on)}return Ne&&Fe.unshift(Ne),Fe}_getRangesToDelete(be){const Ce=be.getModel();if(null===Ce)return[];const Ne=be.getSelections();if(null===Ne)return[];const Fe=Ne.map(qe=>{if(qe.isEmpty()){const dt=Ce.getLineMaxColumn(qe.startLineNumber);return qe.startColumn===dt?new b.Q(qe.startLineNumber,qe.startColumn,qe.startLineNumber+1,1):new b.Q(qe.startLineNumber,qe.startColumn,qe.startLineNumber,dt)}return qe});return Fe.sort(b.Q.compareRangesUsingStarts),Fe}}),(0,w.Fl)(class Ie extends w.ks{constructor(){super({id:"editor.action.joinLines",label:Z.kg("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:d.R.writable,kbOpts:{kbExpr:d.R.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(be,Ce){const Ne=Ce.getSelections();if(null===Ne)return;let Fe=Ce.getSelection();if(null===Fe)return;Ne.sort(b.Q.compareRangesUsingStarts);const qe=[],dt=Ne.reduce((ot,De)=>ot.isEmpty()?ot.endLineNumber===De.startLineNumber?(Fe.equalsSelection(ot)&&(Fe=De),De):De.startLineNumber>ot.endLineNumber+1?(qe.push(ot),De):new f.L(ot.startLineNumber,ot.startColumn,De.endLineNumber,De.endColumn):De.startLineNumber>ot.endLineNumber?(qe.push(ot),De):new f.L(ot.startLineNumber,ot.startColumn,De.endLineNumber,De.endColumn));qe.push(dt);const vt=Ce.getModel();if(null===vt)return;const fn=[],on=[];let ht=Fe,Je=0;for(let ot=0,De=qe.length;ot<De;ot++){const Qe=qe[ot],mt=Qe.startLineNumber,kt=1;let Ft,Bt,Ht=0;const rt=vt.getLineLength(Qe.endLineNumber)-Qe.endColumn;if(Qe.isEmpty()||Qe.startLineNumber===Qe.endLineNumber){const ke=Qe.getStartPosition();ke.lineNumber<vt.getLineCount()?(Ft=mt+1,Bt=vt.getLineMaxColumn(Ft)):(Ft=ke.lineNumber,Bt=vt.getLineMaxColumn(ke.lineNumber))}else Ft=Qe.endLineNumber,Bt=vt.getLineMaxColumn(Ft);let Ut=vt.getLineContent(mt);for(let ke=mt+1;ke<=Ft;ke++){const Ze=vt.getLineContent(ke),Ye=vt.getLineFirstNonWhitespaceColumn(ke);if(Ye>=1){let st=!0;""===Ut&&(st=!1),st&&(" "===Ut.charAt(Ut.length-1)||"\t"===Ut.charAt(Ut.length-1))&&(st=!1,Ut=Ut.replace(/[\s\uFEFF\xA0]+$/g," "));const Ke=Ze.substr(Ye-1);Ut+=(st?" ":"")+Ke,Ht=st?Ke.length+1:Ke.length}else Ht=0}const St=new b.Q(mt,kt,Ft,Bt);if(!St.isEmpty()){let ke;Qe.isEmpty()?(fn.push(S.k.replace(St,Ut)),ke=new f.L(St.startLineNumber-Je,Ut.length-Ht+1,mt-Je,Ut.length-Ht+1)):Qe.startLineNumber===Qe.endLineNumber?(fn.push(S.k.replace(St,Ut)),ke=new f.L(Qe.startLineNumber-Je,Qe.startColumn,Qe.endLineNumber-Je,Qe.endColumn)):(fn.push(S.k.replace(St,Ut)),ke=new f.L(Qe.startLineNumber-Je,Qe.startColumn,Qe.startLineNumber-Je,Ut.length-rt)),null!==b.Q.intersectRanges(St,Fe)?ht=ke:on.push(ke)}Je+=St.endLineNumber-St.startLineNumber}on.unshift(ht),Ce.pushUndoStop(),Ce.executeEdits(this.id,fn,on),Ce.pushUndoStop()}}),(0,w.Fl)(class ne extends w.ks{constructor(){super({id:"editor.action.transpose",label:Z.kg("editor.transpose","Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:d.R.writable})}run(be,Ce){const Ne=Ce.getSelections();if(null===Ne)return;const Fe=Ce.getModel();if(null===Fe)return;const qe=[];for(let dt=0,vt=Ne.length;dt<vt;dt++){const fn=Ne[dt];if(!fn.isEmpty())continue;const on=fn.getStartPosition(),ht=Fe.getLineMaxColumn(on.lineNumber);if(on.column>=ht){if(on.lineNumber===Fe.getLineCount())continue;const Je=new b.Q(on.lineNumber,Math.max(1,on.column-1),on.lineNumber+1,1),ot=Fe.getValueInRange(Je).split("").reverse().join("");qe.push(new x.iu(new f.L(on.lineNumber,Math.max(1,on.column-1),on.lineNumber+1,1),ot))}else{const Je=new b.Q(on.lineNumber,Math.max(1,on.column-1),on.lineNumber,on.column+1),ot=Fe.getValueInRange(Je).split("").reverse().join("");qe.push(new x.ui(Je,ot,new f.L(on.lineNumber,on.column+1,on.lineNumber,on.column+1)))}}Ce.pushUndoStop(),Ce.executeCommands(this.id,qe),Ce.pushUndoStop()}}),(0,w.Fl)(class we extends ue{constructor(){super({id:"editor.action.transformToUppercase",label:Z.kg("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:d.R.writable})}_modifyText(be,Ce){return be.toLocaleUpperCase()}}),(0,w.Fl)(class Me extends ue{constructor(){super({id:"editor.action.transformToLowercase",label:Z.kg("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:d.R.writable})}_modifyText(be,Ce){return be.toLocaleLowerCase()}}),it.caseBoundary.isSupported()&&it.singleLetters.isSupported()&&(0,w.Fl)(it),He.wordBoundary.isSupported()&&(0,w.Fl)(He),me.wordBoundary.isSupported()&&(0,w.Fl)(me),$e.titleBoundary.isSupported()&&(0,w.Fl)($e),le.isSupported()&&(0,w.Fl)(le)},69533:(tt,xe,t)=>{var a=t(10467),F=t(30833),w=t(86671),x=t(21468),C=t(84072),S=t(25680),b=t(5643),P=t(99031),D=t(6653),v=t(32417),_=t(47639),f=t(31212),d=t(13632),r=t(73678),l=t(69995),g=t(80753),p=t(70416),m=t(81644),T=t(50168),A=t(15307),k=t(85478),O=t(67539),N=t(42588),H=t(85072),L=t.n(H),j=t(97825),Z=t.n(j),te=t(77659),X=t.n(te),U=t(55056),q=t.n(U),R=t(10540),W=t.n(R),Y=t(41113),oe=t.n(Y),z=t(13293),G={};G.styleTagTransform=oe(),G.setAttributes=q(),G.insert=X().bind(null,"head"),G.domAPI=Z(),G.insertStyleElement=W(),L()(z.A,G);var de,ae=function(Ie,ne){return function(ue,we){ne(ue,we,Ie)}};const se=new T.N1("LinkedEditingInputVisible",!1);let _e=de=class extends P.jG{static get(ne){return ne.getContribution(de.ID)}constructor(ne,ue,we,Me,Ve){super(),this.languageConfigurationService=Me,this._syncRangesToken=0,this._localToDispose=this._register(new P.Cm),this._editor=ne,this._providers=we.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=se.bindTo(ue),this._debounceInformation=Ve.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new P.Cm),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration($e=>{($e.hasChanged(70)||$e.hasChanged(93))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(ne){const ue=this._editor.getModel(),we=null!==ue&&(this._editor.getOption(70)||this._editor.getOption(93))&&this._providers.has(ue);if(we===this._enabled&&!ne||(this._enabled=we,this.clearRanges(),this._localToDispose.clear(),!we||null===ue))return;this._localToDispose.add(b.Jh.runAndSubscribe(ue.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(ue.getLanguageId()).getWordDefinition()}));const Me=new w.ve(this._debounceInformation.get(ue)),Ve=()=>{var He;this._rangeUpdateTriggerPromise=Me.trigger(()=>this.updateRanges(),null!==(He=this._debounceDuration)&&void 0!==He?He:this._debounceInformation.get(ue))},$e=new w.ve(0),it=He=>{this._rangeSyncTriggerPromise=$e.trigger(()=>this._syncRanges(He))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{Ve()})),this._localToDispose.add(this._editor.onDidChangeModelContent(He=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const me=this._currentDecorations.getRange(0);if(me&&He.changes.every(le=>me.intersectRanges(le.range)))return void it(this._syncRangesToken)}Ve()})),this._localToDispose.add({dispose:()=>{Me.dispose(),$e.dispose()}}),this.updateRanges()}_syncRanges(ne){if(!this._editor.hasModel()||ne!==this._syncRangesToken||0===this._currentDecorations.length)return;const ue=this._editor.getModel(),we=this._currentDecorations.getRange(0);if(!we||we.startLineNumber!==we.endLineNumber)return this.clearRanges();const Me=ue.getValueInRange(we);if(this._currentWordPattern){const $e=Me.match(this._currentWordPattern);if(($e?$e[0].length:0)!==Me.length)return this.clearRanges()}const Ve=[];for(let $e=1,it=this._currentDecorations.length;$e<it;$e++){const He=this._currentDecorations.getRange($e);if(He)if(He.startLineNumber!==He.endLineNumber)Ve.push({range:He,text:Me});else{let me=ue.getValueInRange(He),le=Me,Ee=He.startColumn,be=He.endColumn;const Ce=D.Qp(me,le);Ee+=Ce,me=me.substr(Ce),le=le.substr(Ce);const Ne=D.Vi(me,le);be-=Ne,me=me.substr(0,me.length-Ne),le=le.substr(0,le.length-Ne),(Ee!==be||0!==le.length)&&Ve.push({range:new r.Q(He.startLineNumber,Ee,He.endLineNumber,be),text:le})}}if(0!==Ve.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const $e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",Ve),this._editor._getViewModel().setPrevEditOperationType($e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}updateRanges(ne=!1){var ue=this;return(0,a.A)(function*(){if(!ue._editor.hasModel())return void ue.clearRanges();const we=ue._editor.getPosition();if(!ue._enabled&&!ne||ue._editor.getSelections().length>1)return void ue.clearRanges();const Me=ue._editor.getModel(),Ve=Me.getVersionId();if(ue._currentRequestPosition&&ue._currentRequestModelVersion===Ve){if(we.equals(ue._currentRequestPosition))return;if(ue._currentDecorations.length>0){const it=ue._currentDecorations.getRange(0);if(it&&it.containsPosition(we))return}}ue.clearRanges(),ue._currentRequestPosition=we,ue._currentRequestModelVersion=Ve;const $e=ue._currentRequestCts=new x.Qi;try{const it=new N.W(!1),He=yield ce(ue._providers,Me,we,$e.token);if(ue._debounceInformation.update(Me,it.elapsed()),$e!==ue._currentRequestCts||(ue._currentRequestCts=null,Ve!==Me.getVersionId()))return;let me=[];He?.ranges&&(me=He.ranges),ue._currentWordPattern=He?.wordPattern||ue._languageWordPattern;let le=!1;for(let be=0,Ce=me.length;be<Ce;be++)if(r.Q.containsPosition(me[be],we)){if(le=!0,0!==be){const Ne=me[be];me.splice(be,1),me.unshift(Ne)}break}if(!le)return void ue.clearRanges();const Ee=me.map(be=>({range:be,options:de.DECORATION}));ue._visibleContextKey.set(!0),ue._currentDecorations.set(Ee),ue._syncRangesToken++}catch(it){(0,S.MB)(it)||(0,S.dz)(it),(ue._currentRequestCts===$e||!ue._currentRequestCts)&&ue.clearRanges()}})()}};_e.ID="editor.contrib.linkedEditing",_e.DECORATION=g.kI.register({description:"linked-editing",stickiness:0,className:"linked-editing-decoration"}),_e=de=function(Ie,ne,ue,we){var $e,Me=arguments.length,Ve=Me<3?ne:null===we?we=Object.getOwnPropertyDescriptor(ne,ue):we;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ve=Reflect.decorate(Ie,ne,ue,we);else for(var it=Ie.length-1;it>=0;it--)($e=Ie[it])&&(Ve=(Me<3?$e(Ve):Me>3?$e(ne,ue,Ve):$e(ne,ue))||Ve);return Me>3&&Ve&&Object.defineProperty(ne,ue,Ve),Ve}([ae(1,T.fN),ae(2,A.u),ae(3,p.JZ),ae(4,O.U)],_e);const M=_.DX.bindToContribution(_e.get);function ce(Ie,ne,ue,we){const Me=Ie.ordered(ne);return(0,w.$1)(Me.map(Ve=>(0,a.A)(function*(){try{return yield Ve.provideLinkedEditingRanges(ne,ue,we)}catch($e){return void(0,S.M_)($e)}})),Ve=>!!Ve&&F.EI(Ve?.ranges))}(0,_.E_)(new M({id:"cancelLinkedEditingInput",precondition:se,handler:Ie=>Ie.clearRanges(),kbOpts:{kbExpr:l.R.editorTextFocus,weight:199,primary:9,secondary:[1033]}})),(0,k.x1A)("editor.linkedEditingBackground",{dark:C.Q1.fromHex("#f00").transparent(.3),light:C.Q1.fromHex("#f00").transparent(.3),hcDark:C.Q1.fromHex("#f00").transparent(.3),hcLight:C.Q1.white},m.kg("editorLinkedEditingBackground","Background color when the editor auto renames on type.")),(0,_.ke)("_executeLinkedEditingProvider",(Ie,ne,ue)=>{const{linkedEditingRangeProvider:we}=Ie.get(A.u);return ce(we,ne,ue,x.XO.None)}),(0,_.HW)(_e.ID,_e,1),(0,_.Fl)(class ye extends _.ks{constructor(){super({id:"editor.action.linkedEditing",label:m.kg("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:T.M$.and(l.R.writable,l.R.hasRenameProvider),kbOpts:{kbExpr:l.R.editorTextFocus,primary:3132,weight:100}})}runCommand(ne,ue){const we=ne.get(f.T),[Me,Ve]=Array.isArray(ue)&&ue||[void 0,void 0];return v.r.isUri(Me)&&d.y.isIPosition(Ve)?we.openCodeEditor({resource:Me},we.getActiveCodeEditor()).then($e=>{$e&&($e.setPosition(Ve),$e.invokeWithinContext(it=>(this.reportTelemetry(it,$e),this.run(it,$e))))},S.dz):super.runCommand(ne,ue)}run(ne,ue){const we=_e.get(ue);return we?Promise.resolve(we.updateRanges(!0)):Promise.resolve()}})},9426:(tt,xe,t)=>{var a=t(10467),F=t(86671),w=t(21468),x=t(25680),C=t(13225),S=t(99031),b=t(75109),P=t(21828),D=t(76698),v=t(42588),_=t(32417),f=t(85072),d=t.n(f),r=t(97825),l=t.n(r),g=t(77659),p=t.n(g),m=t(55056),T=t.n(m),A=t(10540),k=t.n(A),O=t(41113),N=t.n(O),H=t(1177),L={};L.styleTagTransform=N(),L.setAttributes=T(),L.insert=p().bind(null,"head"),L.domAPI=l(),L.insertStyleElement=k(),d()(H.A,L);var te=t(47639),X=t(80753),U=t(67539),q=t(15307),R=t(31006),W=t(30833),Y=t(66702),oe=t(73678),z=t(31925),G=t(51126);class Q{constructor(we,Me){this._link=we,this._provider=Me}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(we){var Me=this;return(0,a.A)(function*(){return Me._link.url?Me._link.url:"function"==typeof Me._provider.resolveLink?Promise.resolve(Me._provider.resolveLink(Me._link,we)).then(Ve=>(Me._link=Ve||Me._link,Me._link.url?Me.resolve(we):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})()}}class K{constructor(we){this._disposables=new S.Cm;let Me=[];for(const[Ve,$e]of we){const it=Ve.links.map(He=>new Q(He,$e));Me=K._union(Me,it),(0,S.Xm)(Ve)&&this._disposables.add(Ve)}this.links=Me}dispose(){this._disposables.dispose(),this.links.length=0}static _union(we,Me){const Ve=[];let $e,it,He,me;for($e=0,He=0,it=we.length,me=Me.length;$e<it&&He<me;){const le=we[$e],Ee=Me[He];oe.Q.areIntersectingOrTouching(le.range,Ee.range)?$e++:oe.Q.compareRangesUsingStarts(le.range,Ee.range)<0?(Ve.push(le),$e++):(Ve.push(Ee),He++)}for(;$e<it;$e++)Ve.push(we[$e]);for(;He<me;He++)Ve.push(Me[He]);return Ve}}function ie(ue,we,Me){const Ve=[],$e=ue.ordered(we).reverse().map((it,He)=>Promise.resolve(it.provideLinks(we,Me)).then(me=>{me&&(Ve[He]=[me,it])},x.M_));return Promise.all($e).then(()=>{const it=new K((0,W.Yc)(Ve));return Me.isCancellationRequested?(it.dispose(),new K([])):it})}G.w.registerCommand("_executeLinkProvider",function(){var ue=(0,a.A)(function*(we,...Me){let[Ve,$e]=Me;(0,Y.j)(Ve instanceof _.r),"number"!=typeof $e&&($e=0);const{linkProvider:it}=we.get(q.u),He=we.get(z.S).getModel(Ve);if(!He)return[];const me=yield ie(it,He,w.XO.None);if(!me)return[];for(let Ee=0;Ee<Math.min($e,me.links.length);Ee++)yield me.links[Ee].resolve(w.XO.None);const le=me.links.slice(0);return me.dispose(),le});return function(we){return ue.apply(this,arguments)}}());var ye,ae=t(81644),de=t(16362),se=t(19438),_e=function(ue,we){return function(Me,Ve){we(Me,Ve,ue)}};let M=ye=class extends S.jG{static get(we){return we.getContribution(ye.ID)}constructor(we,Me,Ve,$e,it){super(),this.editor=we,this.openerService=Me,this.notificationService=Ve,this.languageFeaturesService=$e,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=it.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new F.uC(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const He=this._register(new R.gi(we));this._register(He.onMouseMoveOrRelevantKeyDown(([me,le])=>{this._onEditorMouseMove(me,le)})),this._register(He.onExecute(me=>{this.onEditorMouseUp(me)})),this._register(He.onCancel(me=>{this.cleanUpActiveLinkDecoration()})),this._register(we.onDidChangeConfiguration(me=>{me.hasChanged(71)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(we.onDidChangeModelContent(me=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(we.onDidChangeModel(me=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(we.onDidChangeModelLanguage(me=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(me=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){var we=this;return(0,a.A)(function*(){if(!we.editor.hasModel()||!we.editor.getOption(71))return;const Me=we.editor.getModel();if(!Me.isTooLargeForSyncing()&&we.providers.has(Me)){we.activeLinksList&&(we.activeLinksList.dispose(),we.activeLinksList=null),we.computePromise=(0,F.SS)(Ve=>ie(we.providers,Me,Ve));try{const Ve=new v.W(!1);if(we.activeLinksList=yield we.computePromise,we.debounceInformation.update(Me,Ve.elapsed()),Me.isDisposed())return;we.updateDecorations(we.activeLinksList.links)}catch(Ve){(0,x.dz)(Ve)}finally{we.computePromise=null}}})()}updateDecorations(we){const Me="altKey"===this.editor.getOption(78),Ve=[],$e=Object.keys(this.currentOccurrences);for(const He of $e)Ve.push(this.currentOccurrences[He].decorationId);const it=[];if(we)for(const He of we)it.push(Se.decoration(He,Me));this.editor.changeDecorations(He=>{const me=He.deltaDecorations(Ve,it);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let le=0,Ee=me.length;le<Ee;le++){const be=new Se(we[le],me[le]);this.currentOccurrences[be.decorationId]=be}})}_onEditorMouseMove(we,Me){const Ve="altKey"===this.editor.getOption(78);if(this.isEnabled(we,Me)){this.cleanUpActiveLinkDecoration();const $e=this.getLinkOccurrence(we.target.position);$e&&this.editor.changeDecorations(it=>{$e.activate(it,Ve),this.activeLinkDecorationId=$e.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const we="altKey"===this.editor.getOption(78);if(this.activeLinkDecorationId){const Me=this.currentOccurrences[this.activeLinkDecorationId];Me&&this.editor.changeDecorations(Ve=>{Me.deactivate(Ve,we)}),this.activeLinkDecorationId=null}}onEditorMouseUp(we){if(!this.isEnabled(we))return;const Me=this.getLinkOccurrence(we.target.position);Me&&this.openLinkOccurrence(Me,we.hasSideBySideModifier,!0)}openLinkOccurrence(we,Me,Ve=!1){if(!this.openerService)return;const{link:$e}=we;$e.resolve(w.XO.None).then(it=>{if("string"==typeof it&&this.editor.hasModel()){const He=this.editor.getModel().uri;if(He.scheme===b.ny.file&&it.startsWith(`${b.ny.file}:`)){const me=_.r.parse(it);if(me.scheme===b.ny.file){const le=D.su(me);let Ee=null;le.startsWith("/./")||le.startsWith("\\.\\")?Ee=`.${le.substr(1)}`:(le.startsWith("//./")||le.startsWith("\\\\.\\"))&&(Ee=`.${le.substr(2)}`),Ee&&(it=D.uJ(He,Ee))}}}return this.openerService.open(it,{openToSide:Me,fromUserGesture:Ve,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},it=>{const He=it instanceof Error?it.message:it;"invalid"===He?this.notificationService.warn(ae.kg("invalid.url","Failed to open this link because it is not well-formed: {0}",$e.url.toString())):"missing"===He?this.notificationService.warn(ae.kg("missing.url","Failed to open this link because its target is missing.")):(0,x.dz)(it)})}getLinkOccurrence(we){if(!this.editor.hasModel()||!we)return null;const Me=this.editor.getModel().getDecorationsInRange({startLineNumber:we.lineNumber,startColumn:we.column,endLineNumber:we.lineNumber,endColumn:we.column},0,!0);for(const Ve of Me){const $e=this.currentOccurrences[Ve.id];if($e)return $e}return null}isEnabled(we,Me){return!(6!==we.target.type||!(we.hasTriggerModifier||Me&&Me.keyCodeIsTriggerKey))}stop(){var we;this.computeLinks.cancel(),this.activeLinksList&&(null===(we=this.activeLinksList)||void 0===we||we.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};M.ID="editor.linkDetector",M=ye=function(ue,we,Me,Ve){var He,$e=arguments.length,it=$e<3?we:null===Ve?Ve=Object.getOwnPropertyDescriptor(we,Me):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)it=Reflect.decorate(ue,we,Me,Ve);else for(var me=ue.length-1;me>=0;me--)(He=ue[me])&&(it=($e<3?He(it):$e>3?He(we,Me,it):He(we,Me))||it);return $e>3&&it&&Object.defineProperty(we,Me,it),it}([_e(1,se.C),_e(2,de.Ot),_e(3,q.u),_e(4,U.U)],M);const ce_general=X.kI.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),ce_active=X.kI.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"});class Se{static decoration(we,Me){return{range:we.range,options:Se._getOptions(we,Me,!1)}}static _getOptions(we,Me,Ve){const $e={...Ve?ce_active:ce_general};return $e.hoverMessage=function Ie(ue,we){const Me=ue.url&&/^command:/i.test(ue.url.toString()),Ve=ue.tooltip?ue.tooltip:Me?ae.kg("links.navigate.executeCmd","Execute command"):ae.kg("links.navigate.follow","Follow link"),$e=we?P.zx?ae.kg("links.navigate.kb.meta.mac","cmd + click"):ae.kg("links.navigate.kb.meta","ctrl + click"):P.zx?ae.kg("links.navigate.kb.alt.mac","option + click"):ae.kg("links.navigate.kb.alt","alt + click");if(ue.url){let it="";if(/^command:/i.test(ue.url.toString())){const me=ue.url.toString().match(/^command:([^?#]+)/);me&&(it=ae.kg("tooltip.explanation","Execute command {0}",me[1]))}return new C.Bc("",!0).appendLink(ue.url.toString(!0).replace(/ /g,"%20"),Ve,it).appendMarkdown(` (${$e})`)}return(new C.Bc).appendText(`${Ve} (${$e})`)}(we,Me),$e}constructor(we,Me){this.link=we,this.decorationId=Me}activate(we,Me){we.changeDecorationOptions(this.decorationId,Se._getOptions(this.link,Me,!0))}deactivate(we,Me){we.changeDecorationOptions(this.decorationId,Se._getOptions(this.link,Me,!1))}}(0,te.HW)(M.ID,M,1),(0,te.Fl)(class ne extends te.ks{constructor(){super({id:"editor.action.openLink",label:ae.kg("label","Open Link"),alias:"Open Link",precondition:void 0})}run(we,Me){const Ve=M.get(Me);if(!Ve||!Me.hasModel())return;const $e=Me.getSelections();for(const it of $e){const He=Ve.getLinkOccurrence(it.getEndPosition());He&&Ve.openLinkOccurrence(He,!1)}}})},64275:(tt,xe,t)=>{var a=t(99031),F=t(47639);let w=(()=>{class x extends a.jG{constructor(S){super(),this._editor=S,this._register(this._editor.onMouseDown(b=>{const P=this._editor.getOption(117);P>=0&&6===b.target.type&&b.target.position.column>=P&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}return x.ID="editor.contrib.longLinesHelper",x})();(0,F.HW)(w.ID,w,2)},22900:(tt,xe,t)=>{t.d(xe,{k:()=>R});var a=t(56555),F=t(39679),w=t(5643),x=t(13225),C=t(99031),S=t(85072),b=t.n(S),P=t(97825),D=t.n(P),v=t(77659),_=t.n(v),f=t(55056),d=t.n(f),r=t(10540),l=t.n(r),g=t(41113),p=t.n(g),m=t(7201),T={};T.styleTagTransform=p(),T.setAttributes=d(),T.insert=_().bind(null,"head"),T.domAPI=D(),T.insertStyleElement=l(),b()(m.A,T);var q,O=t(47639),N=t(73678),H=t(13157),L=t(81644),j=t(50168),Z=t(19438),te=t(91874),U=function(oe,z){return function(G,Q){z(G,Q,oe)}};let R=q=class{static get(z){return z.getContribution(q.ID)}constructor(z,G,Q){this._openerService=Q,this._messageWidget=new C.HE,this._messageListeners=new C.Cm,this._mouseOverMessage=!1,this._editor=z,this._visible=q.MESSAGE_VISIBLE.bindTo(G)}dispose(){var z;null===(z=this._message)||void 0===z||z.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(z,G){let Q;(0,F.xE)((0,x.VS)(z)?z.value:z),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,x.VS)(z)?(0,a.Gc)(z,{actionHandler:{callback:K=>{this.closeMessage(),(0,H.i)(this._openerService,K,(0,x.VS)(z)?z.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new Y(this._editor,G,"string"==typeof z?z:this._message.element),this._messageListeners.add(w.Jh.debounce(this._editor.onDidBlurEditorText,(K,ie)=>ie,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&te.QX(te.bq(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(te.ko(this._messageWidget.value.getDomNode(),te.Bx.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(te.ko(this._messageWidget.value.getDomNode(),te.Bx.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0)),this._messageListeners.add(this._editor.onMouseMove(K=>{K.target.position&&(Q?Q.containsPosition(K.target.position)||this.closeMessage():Q=new N.Q(G.lineNumber-3,1,K.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Y.fadeOut(this._messageWidget.value))}};R.ID="editor.contrib.messageController",R.MESSAGE_VISIBLE=new j.N1("messageVisible",!1,L.kg("messageVisible","Whether the editor is currently showing an inline message")),R=q=function(oe,z,G,Q){var ae,K=arguments.length,ie=K<3?z:null===Q?Q=Object.getOwnPropertyDescriptor(z,G):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ie=Reflect.decorate(oe,z,G,Q);else for(var de=oe.length-1;de>=0;de--)(ae=oe[de])&&(ie=(K<3?ae(ie):K>3?ae(z,G,ie):ae(z,G))||ie);return K>3&&ie&&Object.defineProperty(z,G,ie),ie}([U(1,j.fN),U(2,Z.C)],R);const W=O.DX.bindToContribution(R.get);(0,O.E_)(new W({id:"leaveEditorMessage",precondition:R.MESSAGE_VISIBLE,handler:oe=>oe.closeMessage(),kbOpts:{weight:130,primary:9}}));class Y{static fadeOut(z){const G=()=>{z.dispose(),clearTimeout(Q),z.getDomNode().removeEventListener("animationend",G)},Q=setTimeout(G,110);return z.getDomNode().addEventListener("animationend",G),z.getDomNode().classList.add("fadeOut"),{dispose:G}}constructor(z,{lineNumber:G,column:Q},K){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=z,this._editor.revealLinesInCenterIfOutsideViewport(G,G,0),this._position={lineNumber:G,column:Q},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const ie=document.createElement("div");ie.classList.add("anchor","top"),this._domNode.appendChild(ie);const ae=document.createElement("div");"string"==typeof K?(ae.classList.add("message"),ae.textContent=K):(K.classList.add("message"),ae.appendChild(K)),this._domNode.appendChild(ae);const de=document.createElement("div");de.classList.add("anchor","below"),this._domNode.appendChild(de),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(z){this._domNode.classList.toggle("below",2===z)}}(0,O.HW)(R.ID,R,4)},69395:(tt,xe,t)=>{var T,a=t(39679),F=t(86671),w=t(79624),x=t(99031),C=t(47639),S=t(46813),b=t(73678),P=t(14105),D=t(69995),v=t(30284),_=t(81644),f=t(79134),d=t(50168),r=t(15307),l=t(2489),g=t(598);function A(de,se){const ge=se.filter(_e=>!de.find(ye=>ye.equals(_e)));if(ge.length>=1){const _e=ge.map(M=>`line ${M.viewState.position.lineNumber} column ${M.viewState.position.column}`).join(", "),ye=1===ge.length?_.kg("cursorAdded","Cursor added: {0}",_e):_.kg("cursorsAdded","Cursors added: {0}",_e);(0,a.h5)(ye)}}class j{constructor(se,ge,_e){this.selections=se,this.revealRange=ge,this.revealScrollType=_e}}class Z{static create(se,ge){if(!se.hasModel())return null;const _e=ge.getState();if(!se.hasTextFocus()&&_e.isRevealed&&_e.searchString.length>0)return new Z(se,ge,!1,_e.searchString,_e.wholeWord,_e.matchCase,null);let M,ce,ye=!1;const Se=se.getSelections();1===Se.length&&Se[0].isEmpty()?(ye=!0,M=!0,ce=!0):(M=_e.wholeWord,ce=_e.matchCase);const Ie=se.getSelection();let ne,ue=null;if(Ie.isEmpty()){const we=se.getConfiguredWordAtPosition(Ie.getStartPosition());if(!we)return null;ne=we.word,ue=new P.L(Ie.startLineNumber,we.startColumn,Ie.startLineNumber,we.endColumn)}else ne=se.getModel().getValueInRange(Ie).replace(/\r\n/g,"\n");return new Z(se,ge,ye,ne,M,ce,ue)}constructor(se,ge,_e,ye,M,ce,Se){this._editor=se,this.findController=ge,this.isDisconnectedFromFindController=_e,this.searchText=ye,this.wholeWord=M,this.matchCase=ce,this.currentMatch=Se}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const se=this._getNextMatch();if(!se)return null;const ge=this._editor.getSelections();return new j(ge.concat(se),se,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const se=this._getNextMatch();if(!se)return null;const ge=this._editor.getSelections();return new j(ge.slice(0,ge.length-1).concat(se),se,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ye=this.currentMatch;return this.currentMatch=null,ye}this.findController.highlightFindOptions();const se=this._editor.getSelections(),ge=se[se.length-1],_e=this._editor.getModel().findNextMatch(this.searchText,ge.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1);return _e?new P.L(_e.range.startLineNumber,_e.range.startColumn,_e.range.endLineNumber,_e.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const se=this._getPreviousMatch();if(!se)return null;const ge=this._editor.getSelections();return new j(ge.concat(se),se,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const se=this._getPreviousMatch();if(!se)return null;const ge=this._editor.getSelections();return new j(ge.slice(0,ge.length-1).concat(se),se,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ye=this.currentMatch;return this.currentMatch=null,ye}this.findController.highlightFindOptions();const se=this._editor.getSelections(),ge=se[se.length-1],_e=this._editor.getModel().findPreviousMatch(this.searchText,ge.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1);return _e?new P.L(_e.range.startLineNumber,_e.range.startColumn,_e.range.endLineNumber,_e.range.endColumn):null}selectAll(se){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();return this._editor.getModel().findMatches(this.searchText,se||!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1,1073741824)}}let te=(()=>{class de extends x.jG{static get(ge){return ge.getContribution(de.ID)}constructor(ge){super(),this._sessionDispose=this._register(new x.Cm),this._editor=ge,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(ge){if(!this._session){const _e=Z.create(this._editor,ge);if(!_e)return;this._session=_e;const ye={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(ye.wholeWordOverride=1,ye.matchCaseOverride=1,ye.isRegexOverride=2),ge.getState().change(ye,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(M=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(ge.getState().onFindReplaceStateChange(M=>{(M.matchCase||M.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const ge={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(ge,!1)}this._session=null}_setSelections(ge){this._ignoreSelectionChange=!0,this._editor.setSelections(ge),this._ignoreSelectionChange=!1}_expandEmptyToWord(ge,_e){if(!_e.isEmpty())return _e;const ye=this._editor.getConfiguredWordAtPosition(_e.getStartPosition());return ye?new P.L(_e.startLineNumber,ye.startColumn,_e.startLineNumber,ye.endColumn):_e}_applySessionResult(ge){ge&&(this._setSelections(ge.selections),ge.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(ge.revealRange,ge.revealScrollType))}getSession(ge){return this._session}addSelectionToNextFindMatch(ge){if(this._editor.hasModel()){if(!this._session){const _e=this._editor.getSelections();if(_e.length>1){const M=ge.getState().matchCase;if(!Q(this._editor.getModel(),_e,M)){const Se=this._editor.getModel(),Ie=[];for(let ne=0,ue=_e.length;ne<ue;ne++)Ie[ne]=this._expandEmptyToWord(Se,_e[ne]);return void this._editor.setSelections(Ie)}}}this._beginSessionIfNeeded(ge),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(ge){this._beginSessionIfNeeded(ge),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(ge){this._beginSessionIfNeeded(ge),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(ge){this._beginSessionIfNeeded(ge),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(ge){if(!this._editor.hasModel())return;let _e=null;const ye=ge.getState();if(ye.isRevealed&&ye.searchString.length>0&&ye.isRegex){_e=this._editor.getModel().findMatches(ye.searchString,!ye.searchScope||ye.searchScope,ye.isRegex,ye.matchCase,ye.wholeWord?this._editor.getOption(131):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(ge),!this._session)return;_e=this._session.selectAll(ye.searchScope)}if(_e.length>0){const M=this._editor.getSelection();for(let ce=0,Se=_e.length;ce<Se;ce++){const Ie=_e[ce];if(Ie.range.intersectRanges(M)){_e[ce]=_e[0],_e[0]=Ie;break}}this._setSelections(_e.map(ce=>new P.L(ce.range.startLineNumber,ce.range.startColumn,ce.range.endLineNumber,ce.range.endColumn)))}}}return de.ID="editor.contrib.multiCursorController",de})();class X extends C.ks{run(se,ge){const _e=te.get(ge);if(!_e)return;const ye=ge._getViewModel();if(ye){const M=ye.getCursorStates(),ce=v.z0.get(ge);if(ce)this._run(_e,ce);else{const Se=se.get(g._Y).createInstance(v.z0,ge);this._run(_e,Se),Se.dispose()}A(M,ye.getCursorStates())}}}class z{constructor(se,ge,_e,ye,M){this._model=se,this._searchText=ge,this._matchCase=_e,this._wordSeparators=ye,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,M&&this._model===M._model&&this._searchText===M._searchText&&this._matchCase===M._matchCase&&this._wordSeparators===M._wordSeparators&&this._modelVersionId===M._modelVersionId&&(this._cachedFindMatches=M._cachedFindMatches)}findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(se=>se.range),this._cachedFindMatches.sort(b.Q.compareRangesUsingStarts)),this._cachedFindMatches}}let G=T=class extends x.jG{constructor(se,ge){super(),this._languageFeaturesService=ge,this.editor=se,this._isEnabled=se.getOption(108),this._decorations=se.createDecorationsCollection(),this.updateSoon=this._register(new F.uC(()=>this._update(),300)),this.state=null,this._register(se.onDidChangeConfiguration(ye=>{this._isEnabled=se.getOption(108)})),this._register(se.onDidChangeCursorSelection(ye=>{this._isEnabled&&(ye.selection.isEmpty()?3===ye.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(se.onDidChangeModel(ye=>{this._setState(null)})),this._register(se.onDidChangeModelContent(ye=>{this._isEnabled&&this.updateSoon.schedule()}));const _e=v.z0.get(se);_e&&this._register(_e.getState().onFindReplaceStateChange(ye=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(T._createState(this.state,this._isEnabled,this.editor))}static _createState(se,ge,_e){if(!ge||!_e.hasModel())return null;const ye=_e.getSelection();if(ye.startLineNumber!==ye.endLineNumber)return null;const M=te.get(_e);if(!M)return null;const ce=v.z0.get(_e);if(!ce)return null;let Se=M.getSession(ce);if(!Se){const ue=_e.getSelections();if(ue.length>1){const Me=ce.getState().matchCase;if(!Q(_e.getModel(),ue,Me))return null}Se=Z.create(_e,ce)}if(!Se||Se.currentMatch||/^[ \t]+$/.test(Se.searchText)||Se.searchText.length>200)return null;const Ie=ce.getState(),ne=Ie.matchCase;if(Ie.isRevealed){let ue=Ie.searchString;ne||(ue=ue.toLowerCase());let we=Se.searchText;if(ne||(we=we.toLowerCase()),ue===we&&Se.matchCase===Ie.matchCase&&Se.wholeWord===Ie.wholeWord&&!Ie.isRegex)return null}return new z(_e.getModel(),Se.searchText,Se.matchCase,Se.wholeWord?_e.getOption(131):null,se)}_setState(se){if(this.state=se,!this.state)return void this._decorations.clear();if(!this.editor.hasModel())return;const ge=this.editor.getModel();if(ge.isTooLargeForTokenization())return;const _e=this.state.findMatches(),ye=this.editor.getSelections();ye.sort(b.Q.compareRangesUsingStarts);const M=[];for(let ne=0,ue=0,we=_e.length,Me=ye.length;ne<we;){const Ve=_e[ne];if(ue>=Me)M.push(Ve),ne++;else{const $e=b.Q.compareRangesUsingStarts(Ve,ye[ue]);$e<0?((ye[ue].isEmpty()||!b.Q.areIntersecting(Ve,ye[ue]))&&M.push(Ve),ne++):($e>0||ne++,ue++)}}const ce="off"!==this.editor.getOption(81),Se=this._languageFeaturesService.documentHighlightProvider.has(ge)&&ce,Ie=M.map(ne=>({range:ne,options:(0,l.v)(Se)}));this._decorations.set(Ie)}dispose(){this._setState(null),super.dispose()}};var se;function Q(de,se,ge){const _e=K(de,se[0],!ge);for(let ye=1,M=se.length;ye<M;ye++){const ce=se[ye];if(ce.isEmpty())return!1;if(_e!==K(de,ce,!ge))return!1}return!0}function K(de,se,ge){const _e=de.getValueInRange(se);return ge?_e.toLowerCase():_e}G.ID="editor.contrib.selectionHighlighter",G=T=function(de,se,ge,_e){var ce,ye=arguments.length,M=ye<3?se:null===_e?_e=Object.getOwnPropertyDescriptor(se,ge):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(de,se,ge,_e);else for(var Se=de.length-1;Se>=0;Se--)(ce=de[Se])&&(M=(ye<3?ce(M):ye>3?ce(se,ge,M):ce(se,ge))||M);return ye>3&&M&&Object.defineProperty(se,ge,M),M}([(1,se=r.u,function(ge,_e){se(ge,_e,1)})],G),(0,C.HW)(te.ID,te,4),(0,C.HW)(G.ID,G,1),(0,C.Fl)(class k extends C.ks{constructor(){super({id:"editor.action.insertCursorAbove",label:_.kg("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:D.R.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:f.D8.MenubarSelectionMenu,group:"3_multi",title:_.kg({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(se,ge,_e){if(!ge.hasModel())return;let ye=!0;_e&&!1===_e.logicalLine&&(ye=!1);const M=ge._getViewModel();if(M.cursorConfig.readOnly)return;M.model.pushStackElement();const ce=M.getCursorStates();M.setCursorStates(_e.source,3,S.c.addCursorUp(M,ce,ye)),M.revealTopMostCursor(_e.source),A(ce,M.getCursorStates())}}),(0,C.Fl)(class O extends C.ks{constructor(){super({id:"editor.action.insertCursorBelow",label:_.kg("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:D.R.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:f.D8.MenubarSelectionMenu,group:"3_multi",title:_.kg({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(se,ge,_e){if(!ge.hasModel())return;let ye=!0;_e&&!1===_e.logicalLine&&(ye=!1);const M=ge._getViewModel();if(M.cursorConfig.readOnly)return;M.model.pushStackElement();const ce=M.getCursorStates();M.setCursorStates(_e.source,3,S.c.addCursorDown(M,ce,ye)),M.revealBottomMostCursor(_e.source),A(ce,M.getCursorStates())}}),(0,C.Fl)(class N extends C.ks{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:_.kg("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:D.R.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:f.D8.MenubarSelectionMenu,group:"3_multi",title:_.kg({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(se,ge,_e){if(!se.isEmpty()){for(let ye=se.startLineNumber;ye<se.endLineNumber;ye++){const M=ge.getLineMaxColumn(ye);_e.push(new P.L(ye,M,ye,M))}se.endColumn>1&&_e.push(new P.L(se.endLineNumber,se.endColumn,se.endLineNumber,se.endColumn))}}run(se,ge){if(!ge.hasModel())return;const _e=ge.getModel(),ye=ge.getSelections(),M=ge._getViewModel(),ce=M.getCursorStates(),Se=[];ye.forEach(Ie=>this.getCursorsForSelection(Ie,_e,Se)),Se.length>0&&ge.setSelections(Se),A(ce,M.getCursorStates())}}),(0,C.Fl)(class U extends X{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:_.kg("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:D.R.focus,primary:2082,weight:100},menuOpts:{menuId:f.D8.MenubarSelectionMenu,group:"3_multi",title:_.kg({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(se,ge){se.addSelectionToNextFindMatch(ge)}}),(0,C.Fl)(class q extends X{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:_.kg("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:f.D8.MenubarSelectionMenu,group:"3_multi",title:_.kg({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(se,ge){se.addSelectionToPreviousFindMatch(ge)}}),(0,C.Fl)(class R extends X{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:_.kg("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:D.R.focus,primary:(0,w.m5)(2089,2082),weight:100}})}_run(se,ge){se.moveSelectionToNextFindMatch(ge)}}),(0,C.Fl)(class W extends X{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:_.kg("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(se,ge){se.moveSelectionToPreviousFindMatch(ge)}}),(0,C.Fl)(class Y extends X{constructor(){super({id:"editor.action.selectHighlights",label:_.kg("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:D.R.focus,primary:3114,weight:100},menuOpts:{menuId:f.D8.MenubarSelectionMenu,group:"3_multi",title:_.kg({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(se,ge){se.selectAll(ge)}}),(0,C.Fl)(class oe extends X{constructor(){super({id:"editor.action.changeAll",label:_.kg("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:d.M$.and(D.R.writable,D.R.editorTextFocus),kbOpts:{kbExpr:D.R.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(se,ge){se.selectAll(ge)}}),(0,C.Fl)(class H extends C.ks{constructor(){super({id:"editor.action.addCursorsToBottom",label:_.kg("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(se,ge){if(!ge.hasModel())return;const _e=ge.getSelections(),ye=ge.getModel().getLineCount(),M=[];for(let Ie=_e[0].startLineNumber;Ie<=ye;Ie++)M.push(new P.L(Ie,_e[0].startColumn,Ie,_e[0].endColumn));const ce=ge._getViewModel(),Se=ce.getCursorStates();M.length>0&&ge.setSelections(M),A(Se,ce.getCursorStates())}}),(0,C.Fl)(class L extends C.ks{constructor(){super({id:"editor.action.addCursorsToTop",label:_.kg("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(se,ge){if(!ge.hasModel())return;const _e=ge.getSelections(),ye=[];for(let Se=_e[0].startLineNumber;Se>=1;Se--)ye.push(new P.L(Se,_e[0].startColumn,Se,_e[0].endColumn));const M=ge._getViewModel(),ce=M.getCursorStates();ye.length>0&&ge.setSelections(ye),A(ce,M.getCursorStates())}}),(0,C.Fl)(class ie extends C.ks{constructor(){super({id:"editor.action.focusNextCursor",label:_.kg("mutlicursor.focusNextCursor","Focus Next Cursor"),metadata:{description:_.kg("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(se,ge,_e){if(!ge.hasModel())return;const ye=ge._getViewModel();if(ye.cursorConfig.readOnly)return;ye.model.pushStackElement();const M=Array.from(ye.getCursorStates()),ce=M.shift();ce&&(M.push(ce),ye.setCursorStates(_e.source,3,M),ye.revealPrimaryCursor(_e.source,!0),A(M,ye.getCursorStates()))}}),(0,C.Fl)(class ae extends C.ks{constructor(){super({id:"editor.action.focusPreviousCursor",label:_.kg("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),metadata:{description:_.kg("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(se,ge,_e){if(!ge.hasModel())return;const ye=ge._getViewModel();if(ye.cursorConfig.readOnly)return;ye.model.pushStackElement();const M=Array.from(ye.getCursorStates()),ce=M.pop();ce&&(M.unshift(ce),ye.setCursorStates(_e.source,3,M),ye.revealPrimaryCursor(_e.source,!0),A(M,ye.getCursorStates()))}})},64091:(tt,xe,t)=>{var a=t(97081),F=t(99031),w=t(47639),x=t(69995),C=t(41489),S=t(15307),b=t(10467),P=t(86671),D=t(25680),v=t(5643),_=t(72493),f=t(21468),d=t(66702),r=t(32417),l=t(13632),g=t(35425),p=t(51126),m=t(50168);const T={Visible:new m.N1("parameterHintsVisible",!1),MultipleSignatures:new m.N1("parameterHintsMultipleSignatures",!1)};function A(on,ht,Je,ot,De){return k.apply(this,arguments)}function k(){return(k=(0,b.A)(function*(on,ht,Je,ot,De){const Qe=on.ordered(ht);for(const mt of Qe)try{const kt=yield mt.provideSignatureHelp(ht,Je,De,ot);if(kt)return kt}catch(kt){(0,D.M_)(kt)}})).apply(this,arguments)}var O,on;p.w.registerCommand("_executeSignatureHelpProvider",function(){var on=(0,b.A)(function*(ht,...Je){const[ot,De,Qe]=Je;(0,d.j)(r.r.isUri(ot)),(0,d.j)(l.y.isIPosition(De)),(0,d.j)("string"==typeof Qe||!Qe);const mt=ht.get(S.u),kt=yield ht.get(g.b).createModelReference(ot);try{const Ht=yield A(mt.signatureHelpProvider,kt.object.textEditorModel,l.y.lift(De),{triggerKind:C.WA.Invoke,isRetrigger:!1,triggerCharacter:Qe},f.XO.None);return Ht?(setTimeout(()=>Ht.dispose(),0),Ht.value):void 0}finally{kt.dispose()}});return function(ht){return on.apply(this,arguments)}}()),(on=O||(O={})).Default={type:0},on.Pending=class ht{constructor(De,Qe){this.request=De,this.previouslyActiveHints=Qe,this.type=2}},on.Active=class Je{constructor(De){this.hints=De,this.type=1}};let N=(()=>{class on extends F.jG{constructor(Je,ot,De=on.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new v.vl),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=O.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new F.HE),this.triggerChars=new _.y,this.retriggerChars=new _.y,this.triggerId=0,this.editor=Je,this.providers=ot,this.throttledDelayer=new P.ve(De),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(Qe=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(Qe=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(Qe=>this.onCursorChange(Qe))),this._register(this.editor.onDidChangeModelContent(Qe=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(Qe=>this.onDidType(Qe))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(Je){2===this._state.type&&this._state.request.cancel(),this._state=Je}cancel(Je=!1){this.state=O.Default,this.throttledDelayer.cancel(),Je||this._onChangedHints.fire(void 0)}trigger(Je,ot){const De=this.editor.getModel();if(!De||!this.providers.has(De))return;const Qe=++this.triggerId;this._pendingTriggers.push(Je),this.throttledDelayer.trigger(()=>this.doTrigger(Qe),ot).catch(D.dz)}next(){if(1!==this.state.type)return;const Je=this.state.hints.signatures.length,ot=this.state.hints.activeSignature,De=ot%Je==Je-1,Qe=this.editor.getOption(86).cycle;!(Je<2||De)||Qe?this.updateActiveSignature(De&&Qe?0:ot+1):this.cancel()}previous(){if(1!==this.state.type)return;const Je=this.state.hints.signatures.length,ot=this.state.hints.activeSignature,De=0===ot,Qe=this.editor.getOption(86).cycle;!(Je<2||De)||Qe?this.updateActiveSignature(De&&Qe?Je-1:ot-1):this.cancel()}updateActiveSignature(Je){1===this.state.type&&(this.state=new O.Active({...this.state.hints,activeSignature:Je}),this._onChangedHints.fire(this.state.hints))}doTrigger(Je){var ot=this;return(0,b.A)(function*(){const De=1===ot.state.type||2===ot.state.type,Qe=ot.getLastActiveHints();if(ot.cancel(!0),0===ot._pendingTriggers.length)return!1;const mt=ot._pendingTriggers.reduce(H);ot._pendingTriggers=[];const kt={triggerKind:mt.triggerKind,triggerCharacter:mt.triggerCharacter,isRetrigger:De,activeSignatureHelp:Qe};if(!ot.editor.hasModel())return!1;const Ht=ot.editor.getModel(),Ft=ot.editor.getPosition();ot.state=new O.Pending((0,P.SS)(Bt=>A(ot.providers,Ht,Ft,kt,Bt)),Qe);try{const Bt=yield ot.state.request;return Je!==ot.triggerId?(Bt?.dispose(),!1):Bt&&Bt.value.signatures&&0!==Bt.value.signatures.length?(ot.state=new O.Active(Bt.value),ot._lastSignatureHelpResult.value=Bt,ot._onChangedHints.fire(ot.state.hints),!0):(Bt?.dispose(),ot._lastSignatureHelpResult.clear(),ot.cancel(),!1)}catch(Bt){return Je===ot.triggerId&&(ot.state=O.Default),(0,D.dz)(Bt),!1}})()}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const Je=this.editor.getModel();if(Je)for(const ot of this.providers.ordered(Je)){for(const De of ot.signatureHelpTriggerCharacters||[])if(De.length){const Qe=De.charCodeAt(0);this.triggerChars.add(Qe),this.retriggerChars.add(Qe)}for(const De of ot.signatureHelpRetriggerCharacters||[])De.length&&this.retriggerChars.add(De.charCodeAt(0))}}onDidType(Je){if(!this.triggerOnType)return;const ot=Je.length-1,De=Je.charCodeAt(ot);(this.triggerChars.has(De)||this.isTriggered&&this.retriggerChars.has(De))&&this.trigger({triggerKind:C.WA.TriggerCharacter,triggerCharacter:Je.charAt(ot)})}onCursorChange(Je){"mouse"===Je.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:C.WA.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:C.WA.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(86).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return on.DEFAULT_DELAY=120,on})();function H(on,ht){switch(ht.triggerKind){case C.WA.Invoke:return ht;case C.WA.ContentChange:return on;default:return ht}}var L=t(81644),j=t(598),Z=t(91874),te=t(39679),X=t(23702),U=t(15320),q=t(6653),R=t(85072),W=t.n(R),Y=t(97825),oe=t.n(Y),z=t(77659),G=t.n(z),Q=t(55056),K=t.n(Q),ie=t(10540),ae=t.n(ie),de=t(41113),se=t.n(de),ge=t(20991),_e={};_e.styleTagTransform=se(),_e.setAttributes=K(),_e.insert=G().bind(null,"head"),_e.domAPI=oe(),_e.insertStyleElement=ae(),W()(ge.A,_e);var He,ce=t(385),Se=t(13157),Ie=t(19438),ne=t(85478),ue=t(24453),we=t(81072),Me=t(42588),Ve=t(55922),it=function(on,ht){return function(Je,ot){ht(Je,ot,on)}};const me=Z.$,le=(0,ue.pU)("parameter-hints-next",U.W.chevronDown,L.kg("parameterHintsNextIcon","Icon for show next parameter hint.")),Ee=(0,ue.pU)("parameter-hints-previous",U.W.chevronUp,L.kg("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let be=He=class extends F.jG{constructor(ht,Je,ot,De,Qe,mt){super(),this.editor=ht,this.model=Je,this.telemetryService=mt,this.renderDisposeables=this._register(new F.Cm),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Se.T({editor:ht},Qe,De)),this.keyVisible=T.Visible.bindTo(ot),this.keyMultipleSignatures=T.MultipleSignatures.bindTo(ot)}createParameterHintDOMNodes(){const ht=me(".editor-widget.parameter-hints-widget"),Je=Z.BC(ht,me(".phwrapper"));Je.tabIndex=-1;const ot=Z.BC(Je,me(".controls")),De=Z.BC(ot,me(".button"+we.L.asCSSSelector(Ee))),Qe=Z.BC(ot,me(".overloads")),mt=Z.BC(ot,me(".button"+we.L.asCSSSelector(le)));this._register(Z.ko(De,"click",Ut=>{Z.fs.stop(Ut),this.previous()})),this._register(Z.ko(mt,"click",Ut=>{Z.fs.stop(Ut),this.next()}));const kt=me(".body"),Ht=new X.MU(kt,{alwaysConsumeMouseWheel:!0});this._register(Ht),Je.appendChild(Ht.getDomNode());const Ft=Z.BC(kt,me(".signature")),Bt=Z.BC(kt,me(".docs"));ht.style.userSelect="text",this.domNodes={element:ht,signature:Ft,overloads:Qe,docs:Bt,scrollbar:Ht},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(Ut=>{this.visible&&this.editor.layoutContentWidget(this)}));const rt=()=>{if(!this.domNodes)return;const Ut=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${Ut.fontSize}px`,this.domNodes.element.style.lineHeight=""+Ut.lineHeight/Ut.fontSize};rt(),this._register(v.Jh.chain(this.editor.onDidChangeConfiguration.bind(this.editor),Ut=>Ut.filter(St=>St.hasChanged(50)))(rt)),this._register(this.editor.onDidLayoutChange(Ut=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var ht;null===(ht=this.domNodes)||void 0===ht||ht.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var ht;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,null===(ht=this.domNodes)||void 0===ht||ht.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(ht){var Je;if(this.renderDisposeables.clear(),!this.domNodes)return;const ot=ht.signatures.length>1;this.domNodes.element.classList.toggle("multiple",ot),this.keyMultipleSignatures.set(ot),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const De=ht.signatures[ht.activeSignature];if(!De)return;const Qe=Z.BC(this.domNodes.signature,me(".code")),mt=this.editor.getOption(50);Qe.style.fontSize=`${mt.fontSize}px`,Qe.style.fontFamily=mt.fontFamily;const Ht=null!==(Je=De.activeParameter)&&void 0!==Je?Je:ht.activeParameter;De.parameters.length>0?this.renderParameters(Qe,De,Ht):Z.BC(Qe,me("span")).textContent=De.label;const Ft=De.parameters[Ht];if(Ft?.documentation){const rt=me("span.documentation");if("string"==typeof Ft.documentation)rt.textContent=Ft.documentation;else{const Ut=this.renderMarkdownDocs(Ft.documentation);rt.appendChild(Ut.element)}Z.BC(this.domNodes.docs,me("p",{},rt))}if(void 0!==De.documentation)if("string"==typeof De.documentation)Z.BC(this.domNodes.docs,me("p",{},De.documentation));else{const rt=this.renderMarkdownDocs(De.documentation);Z.BC(this.domNodes.docs,rt.element)}const Bt=this.hasDocs(De,Ft);if(this.domNodes.signature.classList.toggle("has-docs",Bt),this.domNodes.docs.classList.toggle("empty",!Bt),this.domNodes.overloads.textContent=String(ht.activeSignature+1).padStart(ht.signatures.length.toString().length,"0")+"/"+ht.signatures.length,Ft){let rt="";const Ut=De.parameters[Ht];rt=Array.isArray(Ut.label)?De.label.substring(Ut.label[0],Ut.label[1]):Ut.label,Ut.documentation&&(rt+="string"==typeof Ut.documentation?`, ${Ut.documentation}`:`, ${Ut.documentation.value}`),De.documentation&&(rt+="string"==typeof De.documentation?`, ${De.documentation}`:`, ${De.documentation.value}`),this.announcedLabel!==rt&&(te.xE(L.kg("hint","{0}, hint",rt)),this.announcedLabel=rt)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(ht){const Je=new Me.W,ot=this.renderDisposeables.add(this.markdownRenderer.render(ht,{asyncRenderCallback:()=>{var Qe;null===(Qe=this.domNodes)||void 0===Qe||Qe.scrollbar.scanDomNode()}}));ot.element.classList.add("markdown-docs");const De=Je.elapsed();return De>300&&this.telemetryService.publicLog2("parameterHints.parseMarkdown",{renderDuration:De}),ot}hasDocs(ht,Je){return!!(Je&&"string"==typeof Je.documentation&&(0,d.eU)(Je.documentation).length>0||Je&&"object"==typeof Je.documentation&&(0,d.eU)(Je.documentation).value.length>0||ht.documentation&&"string"==typeof ht.documentation&&(0,d.eU)(ht.documentation).length>0||ht.documentation&&"object"==typeof ht.documentation&&(0,d.eU)(ht.documentation.value).length>0)}renderParameters(ht,Je,ot){const[De,Qe]=this.getParameterLabelOffsets(Je,ot),mt=document.createElement("span");mt.textContent=Je.label.substring(0,De);const kt=document.createElement("span");kt.textContent=Je.label.substring(De,Qe),kt.className="parameter active";const Ht=document.createElement("span");Ht.textContent=Je.label.substring(Qe),Z.BC(ht,mt,kt,Ht)}getParameterLabelOffsets(ht,Je){const ot=ht.parameters[Je];if(ot){if(Array.isArray(ot.label))return ot.label;if(ot.label.length){const De=new RegExp(`(\\W|^)${(0,q.bm)(ot.label)}(?=\\W|$)`,"g");De.test(ht.label);const Qe=De.lastIndex-ot.label.length;return Qe>=0?[Qe,De.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return He.ID}updateMaxHeight(){if(!this.domNodes)return;const Je=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=Je;const ot=this.domNodes.element.getElementsByClassName("phwrapper");ot.length&&(ot[0].style.maxHeight=Je)}};be.ID="editor.widget.parameterHintsWidget",be=He=function(on,ht,Je,ot){var mt,De=arguments.length,Qe=De<3?ht:null===ot?ot=Object.getOwnPropertyDescriptor(ht,Je):ot;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Qe=Reflect.decorate(on,ht,Je,ot);else for(var kt=on.length-1;kt>=0;kt--)(mt=on[kt])&&(Qe=(De<3?mt(Qe):De>3?mt(ht,Je,Qe):mt(ht,Je))||Qe);return De>3&&Qe&&Object.defineProperty(ht,Je,Qe),Qe}([it(2,m.fN),it(3,Ie.C),it(4,ce.L),it(5,Ve.k)],be),(0,ne.x1A)("editorHoverWidget.highlightForeground",{dark:ne.QI5,light:ne.QI5,hcDark:ne.QI5,hcLight:ne.QI5},L.kg("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var Fe,Ne=function(on,ht){return function(Je,ot){ht(Je,ot,on)}};let qe=Fe=class extends F.jG{static get(ht){return ht.getContribution(Fe.ID)}constructor(ht,Je,ot){super(),this.editor=ht,this.model=this._register(new N(ht,ot.signatureHelpProvider)),this._register(this.model.onChangedHints(De=>{var Qe;De?(this.widget.value.show(),this.widget.value.render(De)):null===(Qe=this.widget.rawValue)||void 0===Qe||Qe.hide()})),this.widget=new a.d(()=>this._register(Je.createInstance(be,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var ht;null===(ht=this.widget.rawValue)||void 0===ht||ht.previous()}next(){var ht;null===(ht=this.widget.rawValue)||void 0===ht||ht.next()}trigger(ht){this.model.trigger(ht,0)}};qe.ID="editor.controller.parameterHints",qe=Fe=function(on,ht,Je,ot){var mt,De=arguments.length,Qe=De<3?ht:null===ot?ot=Object.getOwnPropertyDescriptor(ht,Je):ot;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Qe=Reflect.decorate(on,ht,Je,ot);else for(var kt=on.length-1;kt>=0;kt--)(mt=on[kt])&&(Qe=(De<3?mt(Qe):De>3?mt(ht,Je,Qe):mt(ht,Je))||Qe);return De>3&&Qe&&Object.defineProperty(ht,Je,Qe),Qe}([Ne(1,j._Y),Ne(2,S.u)],qe),(0,w.HW)(qe.ID,qe,2),(0,w.Fl)(class dt extends w.ks{constructor(){super({id:"editor.action.triggerParameterHints",label:L.kg("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:x.R.hasSignatureHelpProvider,kbOpts:{kbExpr:x.R.editorTextFocus,primary:3082,weight:100}})}run(ht,Je){const ot=qe.get(Je);ot?.trigger({triggerKind:C.WA.Invoke})}});const fn=w.DX.bindToContribution(qe.get);(0,w.E_)(new fn({id:"closeParameterHints",precondition:T.Visible,handler:on=>on.cancel(),kbOpts:{weight:175,kbExpr:x.R.focus,primary:9,secondary:[1033]}})),(0,w.E_)(new fn({id:"showPrevParameterHint",precondition:m.M$.and(T.Visible,T.MultipleSignatures),handler:on=>on.previous(),kbOpts:{weight:175,kbExpr:x.R.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,w.E_)(new fn({id:"showNextParameterHint",precondition:m.M$.and(T.Visible,T.MultipleSignatures),handler:on=>on.next(),kbOpts:{weight:175,kbExpr:x.R.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},13140:(tt,xe,t)=>{t.d(xe,{zn:()=>ue,x2:()=>we,j6:()=>it,RL:()=>Ve,zl:()=>Ee,n6:()=>be,z0:()=>He,_X:()=>me,e3:()=>le});var a=t(91874),F=t(44906),w=t(64948),x=t(15320),C=t(81072),S=t(84072),b=t(5643),P=t(24311),D=t(85072),v=t.n(D),_=t(97825),f=t.n(_),d=t(77659),r=t.n(d),l=t(55056),g=t.n(l),p=t(10540),m=t.n(p),T=t(41113),A=t.n(T),k=t(69734),O={};O.styleTagTransform=A(),O.setAttributes=g(),O.insert=r().bind(null,"head"),O.domAPI=f(),O.insertStyleElement=m(),v()(k.A,O);var L=t(47639),j=t(31212),Z=t(90908),te=t(59702),X=t(65441),U=t(99031),q=t(12889),R={};R.styleTagTransform=A(),R.setAttributes=g(),R.insert=r().bind(null,"head"),R.domAPI=f(),R.insertStyleElement=m(),v()(q.A,R);var oe=t(73678),z=t(80753);const G=new S.Q1(new S.bU(0,122,204)),Q={showArrow:!0,showFrame:!0,className:"",frameColor:G,arrowColor:G,keepEditorSelection:!1};class ie{constructor(De,Qe,mt,kt,Ht,Ft,Bt,rt){this.id="",this.domNode=De,this.afterLineNumber=Qe,this.afterColumn=mt,this.heightInLines=kt,this.showInHiddenAreas=Bt,this.ordinal=rt,this._onDomNodeTop=Ht,this._onComputedHeight=Ft}onDomNodeTop(De){this._onDomNodeTop(De)}onComputedHeight(De){this._onComputedHeight(De)}}class ae{constructor(De,Qe){this._id=De,this._domNode=Qe}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class de{constructor(De){this._editor=De,this._ruleName=de._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),a.U2(this._ruleName)}set color(De){this._color!==De&&(this._color=De,this._updateStyle())}set height(De){this._height!==De&&(this._height=De,this._updateStyle())}_updateStyle(){a.U2(this._ruleName),a.Wt(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px !important; margin-left: -${this._height}px; `)}show(De){1===De.column&&(De={lineNumber:De.lineNumber,column:2}),this._decorations.set([{range:oe.Q.fromPositions(De),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}de._IdGenerator=new X.n(".arrow-decoration-");class se{constructor(De,Qe={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new U.Cm,this.container=null,this._isShowing=!1,this.editor=De,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=P.Go(Qe),P.co(this.options,Q,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(mt=>{const kt=this._getWidth(mt);this.domNode.style.width=kt+"px",this.domNode.style.left=this._getLeft(mt)+"px",this._onWidth(kt)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(De=>{this._viewZone&&De.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new de(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(De){De.frameColor&&(this.options.frameColor=De.frameColor),De.arrowColor&&(this.options.arrowColor=De.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const De=this.options.frameColor.toString();this.container.style.borderTopColor=De,this.container.style.borderBottomColor=De}if(this._arrow&&this.options.arrowColor){const De=this.options.arrowColor.toString();this._arrow.color=De}}_getWidth(De){return De.width-De.minimap.minimapWidth-De.verticalScrollbarWidth}_getLeft(De){return De.minimap.minimapWidth>0&&0===De.minimap.minimapLeft?De.minimap.minimapWidth:0}_onViewZoneTop(De){this.domNode.style.top=De+"px"}_onViewZoneHeight(De){var Qe;if(this.domNode.style.height=`${De}px`,this.container){const mt=De-this._decoratingElementsHeight();this.container.style.height=`${mt}px`;const kt=this.editor.getLayoutInfo();this._doLayout(mt,this._getWidth(kt))}null===(Qe=this._resizeSash)||void 0===Qe||Qe.layout()}get position(){const De=this._positionMarkerId.getRange(0);if(De)return De.getStartPosition()}show(De,Qe){const mt=oe.Q.isIRange(De)?oe.Q.lift(De):oe.Q.fromPositions(De);this._isShowing=!0,this._showImpl(mt,Qe),this._isShowing=!1,this._positionMarkerId.set([{range:mt,options:z.kI.EMPTY}])}hide(){var De;this._viewZone&&(this.editor.changeViewZones(Qe=>{this._viewZone&&Qe.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),null===(De=this._arrow)||void 0===De||De.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const De=this.editor.getOption(67);let Qe=0;return this.options.showArrow&&(Qe+=2*Math.round(De/3)),this.options.showFrame&&(Qe+=2*Math.round(De/9)),Qe}_showImpl(De,Qe){const mt=De.getStartPosition(),kt=this.editor.getLayoutInfo(),Ht=this._getWidth(kt);this.domNode.style.width=`${Ht}px`,this.domNode.style.left=this._getLeft(kt)+"px";const Ft=document.createElement("div");Ft.style.overflow="hidden";const Bt=this.editor.getOption(67);if(!this.options.allowUnlimitedHeight){const Ze=Math.max(12,this.editor.getLayoutInfo().height/Bt*.8);Qe=Math.min(Qe,Ze)}let rt=0,Ut=0;if(this._arrow&&this.options.showArrow&&(rt=Math.round(Bt/3),this._arrow.height=rt,this._arrow.show(mt)),this.options.showFrame&&(Ut=Math.round(Bt/9)),this.editor.changeViewZones(Ze=>{this._viewZone&&Ze.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new ie(Ft,mt.lineNumber,mt.column,Qe,Ye=>this._onViewZoneTop(Ye),Ye=>this._onViewZoneHeight(Ye),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=Ze.addZone(this._viewZone),this._overlayWidget=new ae("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const Ze=this.options.frameWidth?this.options.frameWidth:Ut;this.container.style.borderTopWidth=Ze+"px",this.container.style.borderBottomWidth=Ze+"px"}const St=Qe*Bt-this._decoratingElementsHeight();this.container&&(this.container.style.top=rt+"px",this.container.style.height=St+"px",this.container.style.overflow="hidden"),this._doLayout(St,Ht),this.options.keepEditorSelection||this.editor.setSelection(De);const ke=this.editor.getModel();if(ke){const Ze=ke.validateRange(new oe.Q(De.startLineNumber,1,De.endLineNumber+1,1));this.revealRange(Ze,Ze.startLineNumber===ke.getLineCount())}}revealRange(De,Qe){Qe?this.editor.revealLineNearTop(De.endLineNumber,0):this.editor.revealRange(De,0)}setCssClass(De,Qe){this.container&&(Qe&&this.container.classList.remove(Qe),this.container.classList.add(De))}_onWidth(De){}_doLayout(De,Qe){}_relayout(De){this._viewZone&&this._viewZone.heightInLines!==De&&this.editor.changeViewZones(Qe=>{this._viewZone&&(this._viewZone.heightInLines=De,Qe.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;let De;this._resizeSash=this._disposables.add(new te.m(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart(Qe=>{this._viewZone&&(De={startY:Qe.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{De=void 0})),this._disposables.add(this._resizeSash.onDidChange(Qe=>{if(De){const mt=(Qe.currentY-De.startY)/this.editor.getOption(67),kt=mt<0?Math.ceil(mt):Math.floor(mt),Ht=De.heightInLines+kt;Ht>5&&Ht<35&&this._relayout(Ht)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const De=this.editor.getLayoutInfo();return De.width-De.minimap.minimapWidth}}var ge=t(81644),_e=t(54335),ye=t(50168),M=t(56789),ce=t(598),Se=t(85478),Ie=function(ot,De,Qe,mt){var Ft,kt=arguments.length,Ht=kt<3?De:null===mt?mt=Object.getOwnPropertyDescriptor(De,Qe):mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ht=Reflect.decorate(ot,De,Qe,mt);else for(var Bt=ot.length-1;Bt>=0;Bt--)(Ft=ot[Bt])&&(Ht=(kt<3?Ft(Ht):kt>3?Ft(De,Qe,Ht):Ft(De,Qe))||Ht);return kt>3&&Ht&&Object.defineProperty(De,Qe,Ht),Ht},ne=function(ot,De){return function(Qe,mt){De(Qe,mt,ot)}};const ue=(0,ce.u1)("IPeekViewService");var we,ot;(0,M.v)(ue,class{constructor(){this._widgets=new Map}addExclusiveWidget(ot,De){const Qe=this._widgets.get(ot);Qe&&(Qe.listener.dispose(),Qe.widget.dispose()),this._widgets.set(ot,{widget:De,listener:De.onDidClose(()=>{const kt=this._widgets.get(ot);kt&&kt.widget===De&&(kt.listener.dispose(),this._widgets.delete(ot))})})}},1),(ot=we||(we={})).inPeekEditor=new ye.N1("inReferenceSearchEditor",!0,ge.kg("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),ot.notInPeekEditor=ot.inPeekEditor.toNegated();let Me=class{constructor(De,Qe){De instanceof Z.t&&we.inPeekEditor.bindTo(Qe)}dispose(){}};function Ve(ot){const De=ot.get(j.T).getFocusedCodeEditor();return De instanceof Z.t?De.getParentEditor():De}Me.ID="editor.contrib.referenceController",Me=Ie([ne(1,ye.fN)],Me),(0,L.HW)(Me.ID,Me,0);const $e={headerBackgroundColor:S.Q1.white,primaryHeadingColor:S.Q1.fromHex("#333333"),secondaryHeadingColor:S.Q1.fromHex("#6c6c6cb3")};let it=class extends se{constructor(De,Qe,mt){super(De,Qe),this.instantiationService=mt,this._onDidClose=new b.vl,this.onDidClose=this._onDidClose.event,P.co(this.options,$e,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(De){const Qe=this.options;De.headerBackgroundColor&&(Qe.headerBackgroundColor=De.headerBackgroundColor),De.primaryHeadingColor&&(Qe.primaryHeadingColor=De.primaryHeadingColor),De.secondaryHeadingColor&&(Qe.secondaryHeadingColor=De.secondaryHeadingColor),super.style(De)}_applyStyles(){super._applyStyles();const De=this.options;this._headElement&&De.headerBackgroundColor&&(this._headElement.style.backgroundColor=De.headerBackgroundColor.toString()),this._primaryHeading&&De.primaryHeadingColor&&(this._primaryHeading.style.color=De.primaryHeadingColor.toString()),this._secondaryHeading&&De.secondaryHeadingColor&&(this._secondaryHeading.style.color=De.secondaryHeadingColor.toString()),this._bodyElement&&De.frameColor&&(this._bodyElement.style.borderColor=De.frameColor.toString())}_fillContainer(De){this.setCssClass("peekview-widget"),this._headElement=a.$(".head"),this._bodyElement=a.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),De.appendChild(this._headElement),De.appendChild(this._bodyElement)}_fillHead(De,Qe){this._titleElement=a.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),a.b2(this._titleElement,"click",Ht=>this._onTitleClick(Ht))),a.BC(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=a.$("span.filename"),this._secondaryHeading=a.$("span.dirname"),this._metaHeading=a.$("span.meta"),a.BC(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const mt=a.$(".peekview-actions");a.BC(this._headElement,mt);const kt=this._getActionBarOptions();this._actionbarWidget=new F.E(mt,kt),this._disposables.add(this._actionbarWidget),Qe||this._actionbarWidget.push(new w.rc("peekview.close",ge.kg("label.close","Close"),C.L.asClassName(x.W.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(De){}_getActionBarOptions(){return{actionViewItemProvider:_e.rN.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(De){}setTitle(De,Qe){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=De,this._primaryHeading.setAttribute("title",De),Qe?this._secondaryHeading.innerText=Qe:a.w_(this._secondaryHeading))}setMetaTitle(De){this._metaHeading&&(De?(this._metaHeading.innerText=De,a.WU(this._metaHeading)):a.jD(this._metaHeading))}_doLayout(De,Qe){if(!this._isShowing&&De<0)return void this.dispose();const mt=Math.ceil(1.2*this.editor.getOption(67)),kt=Math.round(De-(mt+2));this._doLayoutHead(mt,Qe),this._doLayoutBody(kt,Qe)}_doLayoutHead(De,Qe){this._headElement&&(this._headElement.style.height=`${De}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(De,Qe){this._bodyElement&&(this._bodyElement.style.height=`${De}px`)}};it=Ie([ne(2,ce._Y)],it);const He=(0,Se.x1A)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:S.Q1.black,hcLight:S.Q1.white},ge.kg("peekViewTitleBackground","Background color of the peek view title area.")),me=(0,Se.x1A)("peekViewTitleLabel.foreground",{dark:S.Q1.white,light:S.Q1.black,hcDark:S.Q1.white,hcLight:Se.By2},ge.kg("peekViewTitleForeground","Color of the peek view title.")),le=(0,Se.x1A)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},ge.kg("peekViewTitleInfoForeground","Color of the peek view title info.")),Ee=(0,Se.x1A)("peekView.border",{dark:Se.pOz,light:Se.pOz,hcDark:Se.b1q,hcLight:Se.b1q},ge.kg("peekViewBorder","Color of the peek view borders and arrow.")),be=(0,Se.x1A)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:S.Q1.black,hcLight:S.Q1.white},ge.kg("peekViewResultsBackground","Background color of the peek view result list.")),dt=((0,Se.x1A)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:S.Q1.white,hcLight:Se.By2},ge.kg("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),(0,Se.x1A)("peekViewResult.fileForeground",{dark:S.Q1.white,light:"#1E1E1E",hcDark:S.Q1.white,hcLight:Se.By2},ge.kg("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),(0,Se.x1A)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},ge.kg("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),(0,Se.x1A)("peekViewResult.selectionForeground",{dark:S.Q1.white,light:"#6C6C6C",hcDark:S.Q1.white,hcLight:Se.By2},ge.kg("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),(0,Se.x1A)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:S.Q1.black,hcLight:S.Q1.white},ge.kg("peekViewEditorBackground","Background color of the peek view editor.")));(0,Se.x1A)("peekViewEditorGutter.background",{dark:dt,light:dt,hcDark:dt,hcLight:dt},ge.kg("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),(0,Se.x1A)("peekViewEditorStickyScroll.background",{dark:dt,light:dt,hcDark:dt,hcLight:dt},ge.kg("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),(0,Se.x1A)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},ge.kg("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),(0,Se.x1A)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},ge.kg("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),(0,Se.x1A)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Se.buw,hcLight:Se.buw},ge.kg("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},56490:(tt,xe,t)=>{t.d(xe,{o:()=>P});var a=t(15018),F=t(99031),w=t(26713),x=t(63782),C=t(30976),S=t(48187),b=t(39679);class P{constructor(v){this.options=v,this.rangeHighlightDecorationId=void 0}provide(v,_,f){var d;const r=new F.Cm;v.canAcceptInBackground=!(null===(d=this.options)||void 0===d||!d.canAcceptInBackground),v.matchOnLabel=v.matchOnDescription=v.matchOnDetail=v.sortByLabel=!1;const l=r.add(new F.HE);return l.value=this.doProvide(v,_,f),r.add(this.onDidActiveTextEditorControlChange(()=>{l.value=void 0,l.value=this.doProvide(v,_)})),r}doProvide(v,_,f){var d;const r=new F.Cm,l=this.activeTextEditorControl;if(l&&this.canProvideWithTextEditor(l)){const g={editor:l},p=(0,w.jA)(l);if(p){let m=null!==(d=l.saveViewState())&&void 0!==d?d:void 0;r.add(p.onDidChangeCursorPosition(()=>{var T;m=null!==(T=l.saveViewState())&&void 0!==T?T:void 0})),g.restoreViewState=()=>{m&&l===this.activeTextEditorControl&&l.restoreViewState(m)},r.add((0,a.P)(_.onCancellationRequested)(()=>{var T;return null===(T=g.restoreViewState)||void 0===T?void 0:T.call(g)}))}r.add((0,F.s)(()=>this.clearDecorations(l))),r.add(this.provideWithTextEditor(g,v,_,f))}else r.add(this.provideWithoutTextEditor(v,_));return r}canProvideWithTextEditor(v){return!0}gotoLocation({editor:v},_){v.setSelection(_.range,"code.jump"),v.revealRangeInCenter(_.range,0),_.preserveFocus||v.focus();const f=v.getModel();f&&"getLineContent"in f&&(0,b.h5)(`${f.getLineContent(_.range.startLineNumber)}`)}getModel(v){var _;return(0,w.Np)(v)?null===(_=v.getModel())||void 0===_?void 0:_.modified:v.getModel()}addDecorations(v,_){v.changeDecorations(f=>{const d=[];this.rangeHighlightDecorationId&&(d.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),d.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const r=[{range:_,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:_,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,S.Yf)(C.vp),position:x.A5.Full}}}],[l,g]=f.deltaDecorations(d,r);this.rangeHighlightDecorationId={rangeHighlightId:l,overviewRulerDecorationId:g}})}clearDecorations(v){const _=this.rangeHighlightDecorationId;_&&(v.changeDecorations(f=>{f.deltaDecorations([_.overviewRulerDecorationId,_.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},65962:(tt,xe,t)=>{var a=t(13225),F=t(99031),w=t(47639),x=t(22900),C=t(81644);let S=(()=>{class b extends F.jG{constructor(D){super(),this.editor=D,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const D=x.k.get(this.editor);if(D&&this.editor.hasModel()){let v=this.editor.getOptions().get(92);v||(v=new a.Bc(this.editor.isSimpleWidget?C.kg("editor.simple.readonly","Cannot edit in read-only input"):C.kg("editor.readonly","Cannot edit in read-only editor"))),D.showMessage(v,this.editor.getPosition())}}}return b.ID="editor.contrib.readOnlyMessageController",b})();(0,w.HW)(S.ID,S,2)},14113:(tt,xe,t)=>{var a=t(10467),F=t(39679),w=t(86671),x=t(21468),C=t(25680),S=t(13225),b=t(99031),P=t(66702),D=t(32417),v=t(47639),_=t(876),f=t(31212),d=t(13632),r=t(73678),l=t(69995),g=t(41489),p=t(15307),m=t(51355),T=t(89774),A=t(22900),k=t(81644),O=t(79134),N=t(70987),H=t(50168),L=t(598),j=t(52152),Z=t(16362),te=t(47690),X=t(97018),U=t(55922),q=t(91874),R=t(92873),W=t(42371),Y=t(96479),oe=t(51817),z=t(87291),G=t(30833),Q=t(15320),K=t(5643),ie=t(42588),ae=t(85072),de=t.n(ae),se=t(97825),ge=t.n(se),_e=t(77659),ye=t.n(_e),M=t(55056),ce=t.n(M),Se=t(10540),Ie=t.n(Se),ne=t(41113),ue=t.n(ne),we=t(38033),Me={};Me.styleTagTransform=ue(),Me.setAttributes=ce(),Me.insert=ye().bind(null,"head"),Me.domAPI=ge(),Me.insertStyleElement=Ie(),de()(we.A,Me);var it=t(93988),He=t(59002),me=t(41525),le=t(85478),Ee=t(48187),Ce=function(Bt,rt){return function(Ut,St){rt(Ut,St,Bt)}};const Fe=new H.N1("renameInputVisible",!1,(0,k.kg)("renameInputVisible","Whether the rename input widget is visible"));new H.N1("renameInputFocused",!1,(0,k.kg)("renameInputFocused","Whether the rename input widget is focused"));let dt=class{constructor(rt,Ut,St,ke,Ze,Ye){this._editor=rt,this._acceptKeybindings=Ut,this._themeService=St,this._keybindingService=ke,this._logService=Ye,this.allowEditorOverflow=!0,this._disposables=new b.Cm,this._visibleContextKey=Fe.bindTo(Ze),this._isEditingRenameCandidate=!1,this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,this._candidates=new Set,this._beforeFirstInputFieldEditSW=new ie.W,this._inputWithButton=new fn,this._disposables.add(this._inputWithButton),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(st=>{st.hasChanged(50)&&this._updateFont()})),this._disposables.add(St.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputWithButton.domNode),this._renameCandidateListView=this._disposables.add(new vt(this._domNode,{fontInfo:this._editor.getOption(50),onFocusChange:rt=>{this._inputWithButton.input.value=rt,this._isEditingRenameCandidate=!1},onSelectionChange:()=>{this._isEditingRenameCandidate=!1,this.acceptInput(!1)}})),this._disposables.add(this._inputWithButton.onDidInputChange(()=>{var rt,Ut,St,ke;void 0!==(null===(rt=this._renameCandidateListView)||void 0===rt?void 0:rt.focusedCandidate)&&(this._isEditingRenameCandidate=!0),null!==(Ut=this._timeBeforeFirstInputFieldEdit)&&void 0!==Ut||(this._timeBeforeFirstInputFieldEdit=this._beforeFirstInputFieldEditSW.elapsed()),!1===(null===(St=this._renameCandidateProvidersCts)||void 0===St?void 0:St.token.isCancellationRequested)&&this._renameCandidateProvidersCts.cancel(),null===(ke=this._renameCandidateListView)||void 0===ke||ke.clearFocus()})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(rt){var Ut,St,ke,Ze,Ye;if(!this._domNode)return;const st=rt.getColor(le.f9l),Ke=rt.getColor(le.DSL);this._domNode.style.backgroundColor=String(null!==(Ut=rt.getColor(le.CgL))&&void 0!==Ut?Ut:""),this._domNode.style.boxShadow=st?` 0 0 8px 2px ${st}`:"",this._domNode.style.border=Ke?`1px solid ${Ke}`:"",this._domNode.style.color=String(null!==(St=rt.getColor(le.cws))&&void 0!==St?St:"");const ft=rt.getColor(le.Zgs);this._inputWithButton.domNode.style.backgroundColor=String(null!==(ke=rt.getColor(le.L4c))&&void 0!==ke?ke:""),this._inputWithButton.input.style.backgroundColor=String(null!==(Ze=rt.getColor(le.L4c))&&void 0!==Ze?Ze:""),this._inputWithButton.domNode.style.borderWidth=ft?"1px":"0px",this._inputWithButton.domNode.style.borderStyle=ft?"solid":"none",this._inputWithButton.domNode.style.borderColor=null!==(Ye=ft?.toString())&&void 0!==Ye?Ye:"none"}_updateFont(){if(void 0===this._domNode)return;(0,P.j)(void 0!==this._label,"RenameWidget#_updateFont: _label must not be undefined given _domNode is defined"),this._editor.applyFontInfo(this._inputWithButton.input);const rt=this._editor.getOption(50);this._label.style.fontSize=`${this._computeLabelFontSize(rt.fontSize)}px`}_computeLabelFontSize(rt){return.8*rt}getPosition(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;const rt=q.tG(this.getDomNode().ownerDocument.body),Ut=q.BK(this._editor.getDomNode()),St=this._getTopForPosition();this._nPxAvailableAbove=St+Ut.top,this._nPxAvailableBelow=rt.height-this._nPxAvailableAbove;const ke=this._editor.getOption(67),{totalHeight:Ze}=on.getLayoutInfo({lineHeight:ke});return{position:this._position,preference:this._nPxAvailableBelow>6*Ze?[2,1]:[1,2]}}beforeRender(){var rt,Ut;const[St,ke]=this._acceptKeybindings;return this._label.innerText=(0,k.kg)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(rt=this._keybindingService.lookupKeybinding(St))||void 0===rt?void 0:rt.getLabel(),null===(Ut=this._keybindingService.lookupKeybinding(ke))||void 0===Ut?void 0:Ut.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(rt){if(this._trace("invoking afterRender, position: ",rt?"not null":"null"),null===rt)return void this.cancelInput(!0,"afterRender (because position is null)");if(!this._editor.hasModel()||!this._editor.getDomNode())return;(0,P.j)(this._renameCandidateListView),(0,P.j)(void 0!==this._nPxAvailableAbove),(0,P.j)(void 0!==this._nPxAvailableBelow);const Ut=q.OK(this._inputWithButton.domNode),St=q.OK(this._label);let ke;ke=2===rt?this._nPxAvailableBelow:this._nPxAvailableAbove,this._renameCandidateListView.layout({height:ke-St-Ut,width:q.Tr(this._inputWithButton.domNode)})}acceptInput(rt){var Ut;this._trace("invoking acceptInput"),null===(Ut=this._currentAcceptInput)||void 0===Ut||Ut.call(this,rt)}cancelInput(rt,Ut){var St;this._trace(`invoking cancelInput, caller: ${Ut}, _currentCancelInput: ${this._currentAcceptInput?"not undefined":"undefined"}`),null===(St=this._currentCancelInput)||void 0===St||St.call(this,rt)}focusNextRenameSuggestion(){var rt;null!==(rt=this._renameCandidateListView)&&void 0!==rt&&rt.focusNext()||(this._inputWithButton.input.value=this._currentName)}focusPreviousRenameSuggestion(){var rt;null!==(rt=this._renameCandidateListView)&&void 0!==rt&&rt.focusPrevious()||(this._inputWithButton.input.value=this._currentName)}getInput(rt,Ut,St,ke,Ze){const{start:Ye,end:st}=this._getSelection(rt,Ut);this._renameCts=Ze;const Ke=new b.Cm;this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,void 0===ke?this._inputWithButton.button.style.display="none":(this._inputWithButton.button.style.display="flex",this._requestRenameCandidatesOnce=ke,this._requestRenameCandidates(Ut,!1),Ke.add(q.ko(this._inputWithButton.button,"click",()=>this._requestRenameCandidates(Ut,!0))),Ke.add(q.ko(this._inputWithButton.button,q.Bx.KEY_DOWN,wt=>{const qt=new R.Z(wt);(qt.equals(3)||qt.equals(10))&&(qt.stopPropagation(),qt.preventDefault(),this._requestRenameCandidates(Ut,!0))}))),this._isEditingRenameCandidate=!1,this._domNode.classList.toggle("preview",St),this._position=new d.y(rt.startLineNumber,rt.startColumn),this._currentName=Ut,this._inputWithButton.input.value=Ut,this._inputWithButton.input.setAttribute("selectionStart",Ye.toString()),this._inputWithButton.input.setAttribute("selectionEnd",st.toString()),this._inputWithButton.input.size=Math.max(1.1*(rt.endColumn-rt.startColumn),20),this._beforeFirstInputFieldEditSW.reset(),Ke.add((0,b.s)(()=>{this._renameCts=void 0,Ze.dispose(!0)})),Ke.add((0,b.s)(()=>{void 0!==this._renameCandidateProvidersCts&&(this._renameCandidateProvidersCts.dispose(!0),this._renameCandidateProvidersCts=void 0)})),Ke.add((0,b.s)(()=>this._candidates.clear()));const ft=new w.Zv;return ft.p.finally(()=>{Ke.dispose(),this._hide()}),this._currentCancelInput=wt=>{var qt;return this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,null===(qt=this._renameCandidateListView)||void 0===qt||qt.clearCandidates(),ft.complete(wt),!0},this._currentAcceptInput=wt=>{this._trace("invoking _currentAcceptInput"),(0,P.j)(void 0!==this._renameCandidateListView);const qt=this._renameCandidateListView.nCandidates;let Yt,en;const an=this._renameCandidateListView.focusedCandidate;void 0!==an?(this._trace("using new name from renameSuggestion"),Yt=an,en={k:"renameSuggestion"}):(this._trace("using new name from inputField"),Yt=this._inputWithButton.input.value,en=this._isEditingRenameCandidate?{k:"userEditedRenameSuggestion"}:{k:"inputField"}),Yt!==Ut&&0!==Yt.trim().length?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView.clearCandidates(),ft.complete({newName:Yt,wantsPreview:St&&wt,stats:{source:en,nRenameSuggestions:qt,timeBeforeFirstInputFieldEdit:this._timeBeforeFirstInputFieldEdit,nRenameSuggestionsInvocations:this._nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:this._hadAutomaticRenameSuggestionsInvocation}})):this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)")},Ke.add(Ze.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),Ke.add(this._editor.onDidBlurEditorWidget(()=>{var wt;return this.cancelInput(!(null!==(wt=this._domNode)&&void 0!==wt&&wt.ownerDocument.hasFocus()),"editor.onDidBlurEditorWidget")})),this._show(),ft.p}_requestRenameCandidates(rt,Ut){if(void 0!==this._requestRenameCandidatesOnce&&(void 0!==this._renameCandidateProvidersCts&&this._renameCandidateProvidersCts.dispose(!0),(0,P.j)(this._renameCts),"stop"!==this._inputWithButton.buttonState)){this._renameCandidateProvidersCts=new x.Qi;const ke=this._requestRenameCandidatesOnce(Ut?g.YT.Invoke:g.YT.Automatic,this._renameCandidateProvidersCts.token);if(0===ke.length)return void this._inputWithButton.setSparkleButton();Ut||(this._hadAutomaticRenameSuggestionsInvocation=!0),this._nRenameSuggestionsInvocations+=1,this._inputWithButton.setStopButton(),this._updateRenameCandidates(ke,rt,this._renameCts.token)}}_getSelection(rt,Ut){(0,P.j)(this._editor.hasModel());const St=this._editor.getSelection();let ke=0,Ze=Ut.length;return!r.Q.isEmpty(St)&&!r.Q.spansMultipleLines(St)&&r.Q.containsRange(rt,St)&&(ke=Math.max(0,St.startColumn-rt.startColumn),Ze=Math.min(rt.endColumn,St.endColumn)-rt.startColumn),{start:ke,end:Ze}}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._inputWithButton.input.focus(),this._inputWithButton.input.setSelectionRange(parseInt(this._inputWithButton.input.getAttribute("selectionStart")),parseInt(this._inputWithButton.input.getAttribute("selectionEnd")))},100)}_updateRenameCandidates(rt,Ut,St){var ke=this;return(0,a.A)(function*(){const Ze=(...wt)=>ke._trace("_updateRenameCandidates",...wt);Ze("start");const Ye=yield(0,w.PK)(Promise.allSettled(rt),St);if(ke._inputWithButton.setSparkleButton(),void 0===Ye)return void Ze("returning early - received updateRenameCandidates results - undefined");const st=Ye.flatMap(wt=>"fulfilled"===wt.status&&(0,P.O9)(wt.value)?wt.value:[]);Ze(`received updateRenameCandidates results - total (unfiltered) ${st.length} candidates.`);const Ke=G.dM(st,wt=>wt.newSymbolName);Ze(`distinct candidates - ${Ke.length} candidates.`);const ft=Ke.filter(({newSymbolName:wt})=>wt.trim().length>0&&wt!==ke._inputWithButton.input.value&&wt!==Ut&&!ke._candidates.has(wt));Ze(`valid distinct candidates - ${st.length} candidates.`),ft.forEach(wt=>ke._candidates.add(wt.newSymbolName)),ft.length<1?Ze("returning early - no valid distinct candidates"):(Ze("setting candidates"),ke._renameCandidateListView.setCandidates(ft),Ze("asking editor to re-layout"),ke._editor.layoutContentWidget(ke))})()}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){const rt=this._editor.getVisibleRanges();let Ut;return rt.length>0?Ut=rt[0].startLineNumber:(this._logService.warn("RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty"),Ut=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(Ut)}_trace(...rt){this._logService.trace("RenameWidget",...rt)}};dt=function(Bt,rt,Ut,St){var Ye,ke=arguments.length,Ze=ke<3?rt:null===St?St=Object.getOwnPropertyDescriptor(rt,Ut):St;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ze=Reflect.decorate(Bt,rt,Ut,St);else for(var st=Bt.length-1;st>=0;st--)(Ye=Bt[st])&&(Ze=(ke<3?Ye(Ze):ke>3?Ye(rt,Ut,Ze):Ye(rt,Ut))||Ze);return ke>3&&Ze&&Object.defineProperty(rt,Ut,Ze),Ze}([Ce(2,Ee.Gy),Ce(3,He.b),Ce(4,H.fN),Ce(5,j.rr)],dt);class vt{constructor(rt,Ut){this._disposables=new b.Cm,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=Ut.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=Ut.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),this._listContainer.className="rename-box rename-candidate-list-container",rt.appendChild(this._listContainer),this._listWidget=vt._createListWidget(this._listContainer,this._candidateViewHeight,Ut.fontInfo),this._listWidget.onDidChangeFocus(St=>{1===St.elements.length&&Ut.onFocusChange(St.elements[0].newSymbolName)},this._disposables),this._listWidget.onDidChangeSelection(St=>{1===St.elements.length&&Ut.onSelectionChange()},this._disposables),this._disposables.add(this._listWidget.onDidBlur(St=>{this._listWidget.setFocus([])})),this._listWidget.style((0,me.t8)({listInactiveFocusForeground:le.nH,listInactiveFocusBackground:le.AlL}))}dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout({height:rt,width:Ut}){this._availableHeight=rt,this._minimumWidth=Ut}setCandidates(rt){this._listWidget.splice(0,0,rt);const Ut=this._pickListHeight(this._listWidget.length),St=this._pickListWidth(rt);this._listWidget.layout(Ut,St),this._listContainer.style.height=`${Ut}px`,this._listContainer.style.width=`${St}px`,F.h5((0,k.kg)("renameSuggestionsReceivedAria","Received {0} rename suggestions",rt.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(0===this._listWidget.length)return;const rt=this._listWidget.getSelectedElements()[0];if(void 0!==rt)return rt.newSymbolName;const Ut=this._listWidget.getFocusedElements()[0];return void 0!==Ut?Ut.newSymbolName:void 0}focusNext(){if(0===this._listWidget.length)return!1;const rt=this._listWidget.getFocus();if(0===rt.length)return this._listWidget.focusFirst(),this._listWidget.reveal(0),!0;if(rt[0]===this._listWidget.length-1)return this._listWidget.setFocus([]),this._listWidget.reveal(0),!1;{this._listWidget.focusNext();const Ut=this._listWidget.getFocus()[0];return this._listWidget.reveal(Ut),!0}}focusPrevious(){if(0===this._listWidget.length)return!1;const rt=this._listWidget.getFocus();if(0===rt.length){this._listWidget.focusLast();const Ut=this._listWidget.getFocus()[0];return this._listWidget.reveal(Ut),!0}if(0===rt[0])return this._listWidget.setFocus([]),!1;{this._listWidget.focusPrevious();const Ut=this._listWidget.getFocus()[0];return this._listWidget.reveal(Ut),!0}}clearFocus(){this._listWidget.setFocus([])}get _candidateViewHeight(){const{totalHeight:rt}=on.getLayoutInfo({lineHeight:this._lineHeight});return rt}_pickListHeight(rt){return Math.min(this._candidateViewHeight*rt,this._availableHeight,7*this._candidateViewHeight)}_pickListWidth(rt){const Ut=Math.ceil(Math.max(...rt.map(ke=>ke.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+Ut+10)}static _createListWidget(rt,Ut,St){const ke=new class{getTemplateId(Ye){return"candidate"}getHeight(Ye){return Ut}},Ze=new class{constructor(){this.templateId="candidate"}renderTemplate(Ye){return new on(Ye,St)}renderElement(Ye,st,Ke){Ke.populate(Ye)}disposeTemplate(Ye){Ye.dispose()}};return new z.B8("NewSymbolNameCandidates",rt,ke,[Ze],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1})}}class fn{constructor(){this._onDidInputChange=new K.vl,this.onDidInputChange=this._onDidInputChange.event,this._disposables=new b.Cm}get domNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="rename-input-with-button",this._domNode.style.display="flex",this._domNode.style.flexDirection="row",this._domNode.style.alignItems="center",this._inputNode=document.createElement("input"),this._inputNode.className="rename-input",this._inputNode.type="text",this._inputNode.style.border="none",this._inputNode.setAttribute("aria-label",(0,k.kg)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._inputNode),this._buttonNode=document.createElement("div"),this._buttonNode.className="rename-suggestions-button",this._buttonNode.setAttribute("tabindex","0"),this._buttonGenHoverText=k.kg("generateRenameSuggestionsButton","Generate new name suggestions"),this._buttonCancelHoverText=k.kg("cancelRenameSuggestionsButton","Cancel"),this._buttonHover=(0,W.i)().setupUpdatableHover((0,Y.nZ)("element"),this._buttonNode,this._buttonGenHoverText),this._disposables.add(this._buttonHover),this._domNode.appendChild(this._buttonNode),this._disposables.add(q.ko(this.input,q.Bx.INPUT,()=>this._onDidInputChange.fire())),this._disposables.add(q.ko(this.input,q.Bx.KEY_DOWN,rt=>{const Ut=new R.Z(rt);(15===Ut.keyCode||17===Ut.keyCode)&&this._onDidInputChange.fire()})),this._disposables.add(q.ko(this.input,q.Bx.CLICK,()=>this._onDidInputChange.fire())),this._disposables.add(q.ko(this.input,q.Bx.FOCUS,()=>{this.domNode.style.outlineWidth="1px",this.domNode.style.outlineStyle="solid",this.domNode.style.outlineOffset="-1px",this.domNode.style.outlineColor="var(--vscode-focusBorder)"})),this._disposables.add(q.ko(this.input,q.Bx.BLUR,()=>{this.domNode.style.outline="none"}))),this._domNode}get input(){return(0,P.j)(this._inputNode),this._inputNode}get button(){return(0,P.j)(this._buttonNode),this._buttonNode}get buttonState(){return this._buttonState}setSparkleButton(){var rt,Ut;this._buttonState="sparkle",null!==(rt=this._sparkleIcon)&&void 0!==rt||(this._sparkleIcon=(0,oe.s)(Q.W.sparkle)),q.w_(this.button),this.button.appendChild(this._sparkleIcon),this.button.setAttribute("aria-label","Generating new name suggestions"),null===(Ut=this._buttonHover)||void 0===Ut||Ut.update(this._buttonGenHoverText),this.input.focus()}setStopButton(){var rt,Ut;this._buttonState="stop",null!==(rt=this._stopIcon)&&void 0!==rt||(this._stopIcon=(0,oe.s)(Q.W.primitiveSquare)),q.w_(this.button),this.button.appendChild(this._stopIcon),this.button.setAttribute("aria-label","Cancel generating new name suggestions"),null===(Ut=this._buttonHover)||void 0===Ut||Ut.update(this._buttonCancelHoverText),this.input.focus()}dispose(){this._disposables.dispose()}}let on=(()=>{class Bt{constructor(Ut,St){this._domNode=document.createElement("div"),this._domNode.className="rename-box rename-candidate",this._domNode.style.display="flex",this._domNode.style.columnGap="5px",this._domNode.style.alignItems="center",this._domNode.style.height=`${St.lineHeight}px`,this._domNode.style.padding=`${Bt._PADDING}px`;const ke=document.createElement("div");ke.style.display="flex",ke.style.alignItems="center",ke.style.width=ke.style.height=.8*St.lineHeight+"px",this._domNode.appendChild(ke),this._icon=(0,oe.s)(Q.W.sparkle),this._icon.style.display="none",ke.appendChild(this._icon),this._label=document.createElement("div"),it.M(this._label,St),this._domNode.appendChild(this._label),Ut.appendChild(this._domNode)}populate(Ut){this._updateIcon(Ut),this._updateLabel(Ut)}_updateIcon(Ut){var St;const ke=!(null===(St=Ut.tags)||void 0===St||!St.includes(g.OV.AIGenerated));this._icon.style.display=ke?"inherit":"none"}_updateLabel(Ut){this._label.innerText=Ut.newSymbolName}static getLayoutInfo({lineHeight:Ut}){return{totalHeight:Ut+2*Bt._PADDING}}dispose(){}}return Bt._PADDING=2,Bt})();var ot,Je=function(Bt,rt){return function(Ut,St){rt(Ut,St,Bt)}};class De{constructor(rt,Ut,St){this.model=rt,this.position=Ut,this._providerRenameIdx=0,this._providers=St.ordered(rt)}hasProvider(){return this._providers.length>0}resolveRenameLocation(rt){var Ut=this;return(0,a.A)(function*(){const St=[];for(Ut._providerRenameIdx=0;Ut._providerRenameIdx<Ut._providers.length;Ut._providerRenameIdx++){const Ze=Ut._providers[Ut._providerRenameIdx];if(!Ze.resolveRenameLocation)break;const Ye=yield Ze.resolveRenameLocation(Ut.model,Ut.position,rt);if(Ye){if(Ye.rejectReason){St.push(Ye.rejectReason);continue}return Ye}}Ut._providerRenameIdx=0;const ke=Ut.model.getWordAtPosition(Ut.position);return ke?{range:new r.Q(Ut.position.lineNumber,ke.startColumn,Ut.position.lineNumber,ke.endColumn),text:ke.word,rejectReason:St.length>0?St.join("\n"):void 0}:{range:r.Q.fromPositions(Ut.position),text:"",rejectReason:St.length>0?St.join("\n"):void 0}})()}provideRenameEdits(rt,Ut){var St=this;return(0,a.A)(function*(){return St._provideRenameEdits(rt,St._providerRenameIdx,[],Ut)})()}_provideRenameEdits(rt,Ut,St,ke){var Ze=this;return(0,a.A)(function*(){const Ye=Ze._providers[Ut];if(!Ye)return{edits:[],rejectReason:St.join("\n")};const st=yield Ye.provideRenameEdits(Ze.model,Ze.position,rt,ke);return st?st.rejectReason?Ze._provideRenameEdits(rt,Ut+1,St.concat(st.rejectReason),ke):st:Ze._provideRenameEdits(rt,Ut+1,St.concat(k.kg("no result","No result.")),ke)})()}}function mt(){return(mt=(0,a.A)(function*(Bt,rt,Ut,St){const ke=new De(rt,Ut,Bt),Ze=yield ke.resolveRenameLocation(x.XO.None);return Ze?.rejectReason?{edits:[],rejectReason:Ze.rejectReason}:ke.provideRenameEdits(St,x.XO.None)})).apply(this,arguments)}let kt=ot=class{static get(rt){return rt.getContribution(ot.ID)}constructor(rt,Ut,St,ke,Ze,Ye,st,Ke,ft){this.editor=rt,this._instaService=Ut,this._notificationService=St,this._bulkEditService=ke,this._progressService=Ze,this._logService=Ye,this._configService=st,this._languageFeaturesService=Ke,this._telemetryService=ft,this._disposableStore=new b.Cm,this._cts=new x.Qi,this._renameWidget=this._disposableStore.add(this._instaService.createInstance(dt,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var rt=this;return(0,a.A)(function*(){var Ut,St;const ke=rt._logService.trace.bind(rt._logService,"[rename]");if(rt._cts.dispose(!0),rt._cts=new x.Qi,!rt.editor.hasModel())return void ke("editor has no model");const Ze=rt.editor.getPosition(),Ye=new De(rt.editor.getModel(),Ze,rt._languageFeaturesService.renameProvider);if(!Ye.hasProvider())return void ke("skeleton has no provider");const st=new T.gI(rt.editor,5,void 0,rt._cts.token);let Ke;try{ke("resolving rename location");const tn=Ye.resolveRenameLocation(st.token);rt._progressService.showWhile(tn,250),Ke=yield tn,ke("resolved rename location")}catch(tn){return void(tn instanceof C.AL?ke("resolve rename location cancelled",JSON.stringify(tn,null,"\t")):(ke("resolve rename location failed",tn instanceof Error?tn:JSON.stringify(tn,null,"\t")),("string"==typeof tn||(0,S.VS)(tn))&&(null===(Ut=A.k.get(rt.editor))||void 0===Ut||Ut.showMessage(tn||k.kg("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),Ze))))}finally{st.dispose()}if(!Ke)return void ke("returning early - no loc");if(Ke.rejectReason)return ke(`returning early - rejected with reason: ${Ke.rejectReason}`,Ke.rejectReason),void(null===(St=A.k.get(rt.editor))||void 0===St||St.showMessage(Ke.rejectReason,Ze));if(st.token.isCancellationRequested)return void ke("returning early - cts1 cancelled");const ft=new T.gI(rt.editor,5,Ke.range,rt._cts.token),wt=rt.editor.getModel(),qt=rt._languageFeaturesService.newSymbolNamesProvider.all(wt),Yt=yield Promise.all(qt.map(function(){var tn=(0,a.A)(function*(bn){var Bn;return[bn,null!==(Bn=yield bn.supportsAutomaticNewSymbolNamesTriggerKind)&&void 0!==Bn&&Bn]});return function(bn){return tn.apply(this,arguments)}}()));ke("creating rename input field and awaiting its result");const an=rt._bulkEditService.hasPreviewHandler()&&rt._configService.getValue(rt.editor.getModel().uri,"editor.rename.enablePreview"),lt=yield rt._renameWidget.getInput(Ke.range,Ke.text,an,qt.length>0?(tn,bn)=>{let Bn=Yt.slice();return tn===g.YT.Automatic&&(Bn=Bn.filter(([zn,Zn])=>Zn)),Bn.map(([zn])=>zn.provideNewSymbolNames(wt,Ke.range,tn,bn))}:void 0,ft);if(ke("received response from rename input field"),qt.length>0&&rt._reportTelemetry(qt.length,wt.getLanguageId(),lt),"boolean"==typeof lt)return ke(`returning early - rename input field response - ${lt}`),lt&&rt.editor.focus(),void ft.dispose();rt.editor.focus(),ke("requesting rename edits");const Nt=(0,w.PK)(Ye.provideRenameEdits(lt.newName,ft.token),ft.token).then(function(){var tn=(0,a.A)(function*(bn){if(bn){if(rt.editor.hasModel())return bn.rejectReason?(ke(`returning early - rejected with reason: ${bn.rejectReason}`),void rt._notificationService.info(bn.rejectReason)):(rt.editor.setSelection(r.Q.fromPositions(rt.editor.getSelection().getPosition())),ke("applying edits"),void rt._bulkEditService.apply(bn,{editor:rt.editor,showPreview:lt.wantsPreview,label:k.kg("label","Renaming '{0}' to '{1}'",Ke?.text,lt.newName),code:"undoredo.rename",quotableLabel:k.kg("quotableLabel","Renaming {0} to {1}",Ke?.text,lt.newName),respectAutoSaveConfig:!0}).then(Bn=>{ke("edits applied"),Bn.ariaSummary&&(0,F.xE)(k.kg("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",Ke.text,lt.newName,Bn.ariaSummary))}).catch(Bn=>{ke(`error when applying edits ${JSON.stringify(Bn,null,"\t")}`),rt._notificationService.error(k.kg("rename.failedApply","Rename failed to apply edits")),rt._logService.error(Bn)}));ke("returning early - no model after rename edits are provided")}else ke("returning early - no rename edits result")});return function(bn){return tn.apply(this,arguments)}}(),tn=>{ke("error when providing rename edits",JSON.stringify(tn,null,"\t")),rt._notificationService.error(k.kg("rename.failed","Rename failed to compute edits")),rt._logService.error(tn)}).finally(()=>{ft.dispose()});return ke("returning rename operation"),rt._progressService.showWhile(Nt,250),Nt})()}acceptRenameInput(rt){this._renameWidget.acceptInput(rt)}cancelRenameInput(){this._renameWidget.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameWidget.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameWidget.focusPreviousRenameSuggestion()}_reportTelemetry(rt,Ut,St){this._telemetryService.publicLog2("renameInvokedEvent","boolean"==typeof St?{kind:"cancelled",languageId:Ut,nRenameSuggestionProviders:rt}:{kind:"accepted",languageId:Ut,nRenameSuggestionProviders:rt,source:St.stats.source.k,nRenameSuggestions:St.stats.nRenameSuggestions,timeBeforeFirstInputFieldEdit:St.stats.timeBeforeFirstInputFieldEdit,wantsPreview:St.wantsPreview,nRenameSuggestionsInvocations:St.stats.nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:St.stats.hadAutomaticRenameSuggestionsInvocation})}};kt.ID="editor.contrib.renameController",kt=ot=function(Bt,rt,Ut,St){var Ye,ke=arguments.length,Ze=ke<3?rt:null===St?St=Object.getOwnPropertyDescriptor(rt,Ut):St;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ze=Reflect.decorate(Bt,rt,Ut,St);else for(var st=Bt.length-1;st>=0;st--)(Ye=Bt[st])&&(Ze=(ke<3?Ye(Ze):ke>3?Ye(rt,Ut,Ze):Ye(rt,Ut))||Ze);return ke>3&&Ze&&Object.defineProperty(rt,Ut,Ze),Ze}([Je(1,L._Y),Je(2,Z.Ot),Je(3,_.nu),Je(4,te.N8),Je(5,j.rr),Je(6,m.U),Je(7,p.u),Je(8,U.k)],kt),(0,v.HW)(kt.ID,kt,4),(0,v.Fl)(class Ht extends v.ks{constructor(){super({id:"editor.action.rename",label:k.kg("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:H.M$.and(l.R.writable,l.R.hasRenameProvider),kbOpts:{kbExpr:l.R.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(rt,Ut){const St=rt.get(f.T),[ke,Ze]=Array.isArray(Ut)&&Ut||[void 0,void 0];return D.r.isUri(ke)&&d.y.isIPosition(Ze)?St.openCodeEditor({resource:ke},St.getActiveCodeEditor()).then(Ye=>{Ye&&(Ye.setPosition(Ze),Ye.invokeWithinContext(st=>(this.reportTelemetry(st,Ye),this.run(st,Ye))))},C.dz):super.runCommand(rt,Ut)}run(rt,Ut){const St=rt.get(j.rr),ke=kt.get(Ut);return ke?(St.trace("[RenameAction] got controller, running..."),ke.run()):(St.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}});const Ft=v.DX.bindToContribution(kt.get);(0,v.E_)(new Ft({id:"acceptRenameInput",precondition:Fe,handler:Bt=>Bt.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:H.M$.and(l.R.focus,H.M$.not("isComposing")),primary:3}})),(0,v.E_)(new Ft({id:"acceptRenameInputWithPreview",precondition:H.M$.and(Fe,H.M$.has("config.editor.rename.enablePreview")),handler:Bt=>Bt.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:H.M$.and(l.R.focus,H.M$.not("isComposing")),primary:2051}})),(0,v.E_)(new Ft({id:"cancelRenameInput",precondition:Fe,handler:Bt=>Bt.cancelRenameInput(),kbOpts:{weight:199,kbExpr:l.R.focus,primary:9,secondary:[1033]}})),(0,O.ug)(class extends O.L{constructor(){super({id:"focusNextRenameSuggestion",title:{...k.aS("focusNextRenameSuggestion","Focus Next Rename Suggestion")},precondition:Fe,keybinding:[{primary:18,weight:199}]})}run(rt){const Ut=rt.get(f.T).getFocusedCodeEditor();if(!Ut)return;const St=kt.get(Ut);St&&St.focusNextRenameSuggestion()}}),(0,O.ug)(class extends O.L{constructor(){super({id:"focusPreviousRenameSuggestion",title:{...k.aS("focusPreviousRenameSuggestion","Focus Previous Rename Suggestion")},precondition:Fe,keybinding:[{primary:16,weight:199}]})}run(rt){const Ut=rt.get(f.T).getFocusedCodeEditor();if(!Ut)return;const St=kt.get(Ut);St&&St.focusPreviousRenameSuggestion()}}),(0,v.ke)("_executeDocumentRenameProvider",function(Bt,rt,Ut,...St){const[ke]=St;(0,P.j)("string"==typeof ke);const{renameProvider:Ze}=Bt.get(p.u);return function Qe(Bt,rt,Ut,St){return mt.apply(this,arguments)}(Ze,rt,Ut,ke)}),(0,v.ke)("_executePrepareRename",function(){var Bt=(0,a.A)(function*(rt,Ut,St){const{renameProvider:ke}=rt.get(p.u),Ye=yield new De(Ut,St,ke).resolveRenameLocation(x.XO.None);if(Ye?.rejectReason)throw new Error(Ye.rejectReason);return Ye});return function(rt,Ut,St){return Bt.apply(this,arguments)}}()),X.O.as(N.Fd.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:k.kg("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},10837:(tt,xe,t)=>{var a=t(86671),F=t(99031),w=t(47639),x=t(70416),C=t(80753),S=t(34225),P=function(_,f){return function(d,r){f(d,r,_)}};let D=class extends F.jG{constructor(f,d,r){super(),this.editor=f,this.languageConfigurationService=d,this.editorWorkerService=r,this.decorations=this.editor.createDecorationsCollection(),this.options=this.createOptions(f.getOption(73)),this.computePromise=null,this.currentOccurrences={},this._register(f.onDidChangeModel(l=>{this.currentOccurrences={},this.options=this.createOptions(f.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(f.onDidChangeModelLanguage(l=>{this.currentOccurrences={},this.options=this.createOptions(f.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(d.onDidChange(l=>{var g;const p=null===(g=this.editor.getModel())||void 0===g?void 0:g.getLanguageId();p&&l.affects(p)&&(this.currentOccurrences={},this.options=this.createOptions(f.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(f.onDidChangeConfiguration(l=>{this.options&&!l.hasChanged(73)||(this.options=this.createOptions(f.getOption(73)),this.updateDecorations([]),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(this.editor.onDidChangeModelContent(l=>{this.computeSectionHeaders.schedule()})),this._register(f.onDidChangeModelTokens(l=>{this.computeSectionHeaders.isScheduled()||this.computeSectionHeaders.schedule(1e3)})),this.computeSectionHeaders=this._register(new a.uC(()=>{this.findSectionHeaders()},250)),this.computeSectionHeaders.schedule(0)}createOptions(f){if(!f||!this.editor.hasModel())return;const d=this.editor.getModel().getLanguageId();if(!d)return;const r=this.languageConfigurationService.getLanguageConfiguration(d).comments,l=this.languageConfigurationService.getLanguageConfiguration(d).foldingRules;return r||l?.markers?{foldingRules:l,findMarkSectionHeaders:f.showMarkSectionHeaders,findRegionSectionHeaders:f.showRegionSectionHeaders}:void 0}findSectionHeaders(){var f,d;if(!this.editor.hasModel()||!(null!==(f=this.options)&&void 0!==f&&f.findMarkSectionHeaders||null!==(d=this.options)&&void 0!==d&&d.findRegionSectionHeaders))return;const r=this.editor.getModel();if(r.isDisposed()||r.isTooLargeForSyncing())return;const l=r.getVersionId();this.editorWorkerService.findSectionHeaders(r.uri,this.options).then(g=>{r.isDisposed()||r.getVersionId()!==l||this.updateDecorations(g)})}updateDecorations(f){const d=this.editor.getModel();d&&(f=f.filter(g=>{if(!g.shouldBeInComments)return!0;const p=d.validateRange(g.range),m=d.tokenization.getLineTokens(p.startLineNumber),T=m.findTokenIndexAtOffset(p.startColumn-1),A=m.getStandardTokenType(T);return m.getLanguageId(T)===d.getLanguageId()&&1===A}));const r=Object.values(this.currentOccurrences).map(g=>g.decorationId),l=f.map(g=>function v(_){return{range:_.range,options:C.kI.createDynamic({description:"section-header",stickiness:3,collapseOnReplaceEdit:!0,minimap:{color:void 0,position:1,sectionHeaderStyle:_.hasSeparatorLine?2:1,sectionHeaderText:_.text}})}}(g));this.editor.changeDecorations(g=>{const p=g.deltaDecorations(r,l);this.currentOccurrences={};for(let m=0,T=p.length;m<T;m++){const A={sectionHeader:f[m],decorationId:p[m]};this.currentOccurrences[A.decorationId]=A}})}stop(){this.computeSectionHeaders.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop(),this.decorations.clear()}};D.ID="editor.sectionHeaderDetector",D=function(_,f,d,r){var p,l=arguments.length,g=l<3?f:null===r?r=Object.getOwnPropertyDescriptor(f,d):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(_,f,d,r);else for(var m=_.length-1;m>=0;m--)(p=_[m])&&(g=(l<3?p(g):l>3?p(f,d,g):p(f,d))||g);return l>3&&g&&Object.defineProperty(f,d,g),g}([P(1,x.JZ),P(2,S.w)],D),(0,w.HW)(D.ID,D,1)},56770:(tt,xe,t)=>{var m,a=t(99031),F=t(25680),w=t(31925),x=t(35072),C=t(86671),S=t(21468),b=t(48187),P=t(7088),D=t(5053),v=t(67539),_=t(42588),f=t(15307),d=t(35424),r=t(1153),l=t(69752),g=function(O,N,H,L){var te,j=arguments.length,Z=j<3?N:null===L?L=Object.getOwnPropertyDescriptor(N,H):L;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(O,N,H,L);else for(var X=O.length-1;X>=0;X--)(te=O[X])&&(Z=(j<3?te(Z):j>3?te(N,H,Z):te(N,H))||Z);return j>3&&Z&&Object.defineProperty(N,H,Z),Z},p=function(O,N){return function(H,L){N(H,L,O)}};let T=class extends a.jG{constructor(N,H,L,j,Z,te){super(),this._watchers=Object.create(null);const X=R=>{this._watchers[R.uri.toString()]=new A(R,N,L,Z,te)},U=(R,W)=>{W.dispose(),delete this._watchers[R.uri.toString()]},q=()=>{for(const R of H.getModels()){const W=this._watchers[R.uri.toString()];(0,l.K)(R,L,j)?W||X(R):W&&U(R,W)}};H.getModels().forEach(R=>{(0,l.K)(R,L,j)&&X(R)}),this._register(H.onModelAdded(R=>{(0,l.K)(R,L,j)&&X(R)})),this._register(H.onModelRemoved(R=>{const W=this._watchers[R.uri.toString()];W&&U(R,W)})),this._register(j.onDidChangeConfiguration(R=>{R.affectsConfiguration(l.r)&&q()})),this._register(L.onDidColorThemeChange(q))}dispose(){for(const N of Object.values(this._watchers))N.dispose();super.dispose()}};T=g([p(0,d.F),p(1,w.S),p(2,b.Gy),p(3,x.pG),p(4,v.U),p(5,f.u)],T);let A=m=class extends a.jG{constructor(N,H,L,j,Z){super(),this._semanticTokensStylingService=H,this._isDisposed=!1,this._model=N,this._provider=Z.documentSemanticTokensProvider,this._debounceInformation=j.for(this._provider,"DocumentSemanticTokens",{min:m.REQUEST_MIN_DELAY,max:m.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new C.uC(()=>this._fetchDocumentSemanticTokensNow(),m.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const te=()=>{(0,a.AS)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const X of this._provider.all(N))"function"==typeof X.onDidChange&&this._documentProvidersChangeListeners.push(X.onDidChange(()=>{this._currentDocumentRequestCancellationTokenSource?this._providersChangedDuringRequest=!0:this._fetchDocumentSemanticTokens.schedule(0)}))};te(),this._register(this._provider.onDidChange(()=>{te(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(L.onDidColorThemeChange(X=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,a.AS)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,D.br)(this._provider,this._model))return void(this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1));if(!this._model.isAttachedToEditor())return;const N=new S.Qi,j=(0,D.aw)(this._provider,this._model,this._currentDocumentResponse?this._currentDocumentResponse.provider:null,this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,N.token);this._currentDocumentRequestCancellationTokenSource=N,this._providersChangedDuringRequest=!1;const Z=[],te=this._model.onDidChangeContent(U=>{Z.push(U)}),X=new _.W(!1);j.then(U=>{if(this._debounceInformation.update(this._model,X.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,te.dispose(),U){const{provider:q,tokens:R}=U,W=this._semanticTokensStylingService.getStyling(q);this._setDocumentSemanticTokens(q,R||null,W,Z)}else this._setDocumentSemanticTokens(null,null,null,Z)},U=>{U&&(F.MB(U)||"string"==typeof U.message&&-1!==U.message.indexOf("busy"))||F.dz(U),this._currentDocumentRequestCancellationTokenSource=null,te.dispose(),(Z.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(N,H,L,j,Z){Z=Math.min(Z,L.length-j,N.length-H);for(let te=0;te<Z;te++)L[j+te]=N[H+te]}_setDocumentSemanticTokens(N,H,L,j){const Z=this._currentDocumentResponse,te=()=>{(j.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)N&&H&&N.releaseDocumentSemanticTokens(H.resultId);else if(N&&L){if(!H)return this._model.tokenization.setSemanticTokens(null,!0),void te();if((0,D.yS)(H)){if(!Z)return void this._model.tokenization.setSemanticTokens(null,!0);if(0===H.edits.length)H={resultId:H.resultId,data:Z.data};else{let X=0;for(const Y of H.edits)X+=(Y.data?Y.data.length:0)-Y.deleteCount;const U=Z.data,q=new Uint32Array(U.length+X);let R=U.length,W=q.length;for(let Y=H.edits.length-1;Y>=0;Y--){const oe=H.edits[Y];if(oe.start>U.length)return L.warnInvalidEditStart(Z.resultId,H.resultId,Y,oe.start,U.length),void this._model.tokenization.setSemanticTokens(null,!0);const z=R-(oe.start+oe.deleteCount);z>0&&(m._copy(U,R-z,q,W-z,z),W-=z),oe.data&&(m._copy(oe.data,0,q,W-oe.data.length,oe.data.length),W-=oe.data.length),R=oe.start}R>0&&m._copy(U,0,q,0,R),H={resultId:H.resultId,data:q}}}if((0,D.BB)(H)){this._currentDocumentResponse=new k(N,H.resultId,H.data);const X=(0,P.b)(H,L,this._model.getLanguageId());if(j.length>0)for(const U of j)for(const q of X)for(const R of U.changes)q.applyEdit(R.range,R.text);this._model.tokenization.setSemanticTokens(X,!0)}else this._model.tokenization.setSemanticTokens(null,!0);te()}else this._model.tokenization.setSemanticTokens(null,!1)}};A.REQUEST_MIN_DELAY=300,A.REQUEST_MAX_DELAY=2e3,A=m=g([p(1,d.F),p(2,b.Gy),p(3,v.U),p(4,f.u)],A);class k{constructor(N,H,L){this.provider=N,this.resultId=H,this.data=L}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,r.x)(T)},4681:(tt,xe,t)=>{var a=t(86671),F=t(99031),w=t(47639),x=t(5053),C=t(69752),S=t(7088),b=t(35072),P=t(48187),D=t(67539),v=t(42588),_=t(15307),f=t(35424),r=function(g,p){return function(m,T){p(m,T,g)}};let l=class extends F.jG{constructor(p,m,T,A,k,O){super(),this._semanticTokensStylingService=m,this._themeService=T,this._configurationService=A,this._editor=p,this._provider=O.documentRangeSemanticTokensProvider,this._debounceInformation=k.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new a.uC(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const N=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{N()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),N()})),this._register(this._editor.onDidChangeModelContent(H=>{this._cancelAll(),N()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),N()})),this._register(this._configurationService.onDidChangeConfiguration(H=>{H.affectsConfiguration(C.r)&&(this._cancelAll(),N())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),N()})),N()}_cancelAll(){for(const p of this._outstandingRequests)p.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(p){for(let m=0,T=this._outstandingRequests.length;m<T;m++)if(this._outstandingRequests[m]===p)return void this._outstandingRequests.splice(m,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const p=this._editor.getModel();if(p.tokenization.hasCompleteSemanticTokens())return;if(!(0,C.K)(p,this._themeService,this._configurationService))return void(p.tokenization.hasSomeSemanticTokens()&&p.tokenization.setSemanticTokens(null,!1));if(!(0,x.WG)(this._provider,p))return void(p.tokenization.hasSomeSemanticTokens()&&p.tokenization.setSemanticTokens(null,!1));const m=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(m.map(T=>this._requestRange(p,T)))}_requestRange(p,m){const T=p.getVersionId(),A=(0,a.SS)(O=>Promise.resolve((0,x.nZ)(this._provider,p,m,O))),k=new v.W(!1);return A.then(O=>{if(this._debounceInformation.update(p,k.elapsed()),!O||!O.tokens||p.isDisposed()||p.getVersionId()!==T)return;const{provider:N,tokens:H}=O,L=this._semanticTokensStylingService.getStyling(N);p.tokenization.setPartialSemanticTokens(m,(0,S.b)(H,L,p.getLanguageId()))}).then(()=>this._removeOutstandingRequest(A),()=>this._removeOutstandingRequest(A)),A}};l.ID="editor.contrib.viewportSemanticTokens",l=function(g,p,m,T){var O,A=arguments.length,k=A<3?p:null===T?T=Object.getOwnPropertyDescriptor(p,m):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(g,p,m,T);else for(var N=g.length-1;N>=0;N--)(O=g[N])&&(k=(A<3?O(k):A>3?O(p,m,k):O(p,m))||k);return A>3&&k&&Object.defineProperty(p,m,k),k}([r(1,f.F),r(2,P.Gy),r(3,b.pG),r(4,D.U),r(5,_.u)],l),(0,w.HW)(l.ID,l,1)},5053:(tt,xe,t)=>{t.d(xe,{nZ:()=>Z,aw:()=>k,WG:()=>L,br:()=>T,BB:()=>g,yS:()=>p});var a=t(10467),F=t(21468),w=t(25680),x=t(32417),C=t(31925),S=t(51126),b=t(66702),P=t(93233),D=t(21828);function f(X){const U=new Uint32Array(function d(X){let U=0;if(U+=2,"full"===X.type)U+=1+X.data.length;else{U+=1,U+=3*X.deltas.length;for(const q of X.deltas)q.data&&(U+=q.data.length)}return U}(X));let q=0;if(U[q++]=X.id,"full"===X.type)U[q++]=1,U[q++]=X.data.length,U.set(X.data,q),q+=X.data.length;else{U[q++]=2,U[q++]=X.deltas.length;for(const R of X.deltas)U[q++]=R.start,U[q++]=R.deleteCount,R.data?(U[q++]=R.data.length,U.set(R.data,q),q+=R.data.length):U[q++]=0}return function _(X){const U=new Uint8Array(X.buffer,X.byteOffset,4*X.length);return D.cm()||function v(X){for(let U=0,q=X.length;U<q;U+=4){const R=X[U+0],W=X[U+1],Y=X[U+2];X[U+0]=X[U+3],X[U+1]=Y,X[U+2]=W,X[U+3]=R}}(U),P.MB.wrap(U)}(U)}var r=t(73678),l=t(15307);function g(X){return X&&!!X.data}function p(X){return X&&Array.isArray(X.edits)}class m{constructor(U,q,R){this.provider=U,this.tokens=q,this.error=R}}function T(X,U){return X.has(U)}function k(X,U,q,R,W){return O.apply(this,arguments)}function O(){return O=(0,a.A)(function*(X,U,q,R,W){const Y=function A(X,U){const q=X.orderedGroups(U);return q.length>0?q[0]:[]}(X,U),oe=yield Promise.all(Y.map(function(){var z=(0,a.A)(function*(G){let Q,K=null;try{Q=yield G.provideDocumentSemanticTokens(U,G===q?R:null,W)}catch(ie){K=ie,Q=null}return(!Q||!g(Q)&&!p(Q))&&(Q=null),new m(G,Q,K)});return function(G){return z.apply(this,arguments)}}()));for(const z of oe){if(z.error)throw z.error;if(z.tokens)return z}return oe.length>0?oe[0]:null}),O.apply(this,arguments)}class H{constructor(U,q){this.provider=U,this.tokens=q}}function L(X,U){return X.has(U)}function j(X,U){const q=X.orderedGroups(U);return q.length>0?q[0]:[]}function Z(X,U,q,R){return te.apply(this,arguments)}function te(){return te=(0,a.A)(function*(X,U,q,R){const W=j(X,U),Y=yield Promise.all(W.map(function(){var oe=(0,a.A)(function*(z){let G;try{G=yield z.provideDocumentRangeSemanticTokens(U,q,R)}catch(Q){(0,w.M_)(Q),G=null}return(!G||!g(G))&&(G=null),new H(z,G)});return function(z){return oe.apply(this,arguments)}}()));for(const oe of Y)if(oe.tokens)return oe;return Y.length>0?Y[0]:null}),te.apply(this,arguments)}S.w.registerCommand("_provideDocumentSemanticTokensLegend",function(){var X=(0,a.A)(function*(U,...q){const[R]=q;(0,b.j)(R instanceof x.r);const W=U.get(C.S).getModel(R);if(!W)return;const{documentSemanticTokensProvider:Y}=U.get(l.u),oe=function N(X,U){const q=X.orderedGroups(U);return q.length>0?q[0]:null}(Y,W);return oe?oe[0].getLegend():U.get(S.d).executeCommand("_provideDocumentRangeSemanticTokensLegend",R)});return function(U){return X.apply(this,arguments)}}()),S.w.registerCommand("_provideDocumentSemanticTokens",function(){var X=(0,a.A)(function*(U,...q){const[R]=q;(0,b.j)(R instanceof x.r);const W=U.get(C.S).getModel(R);if(!W)return;const{documentSemanticTokensProvider:Y}=U.get(l.u);if(!T(Y,W))return U.get(S.d).executeCommand("_provideDocumentRangeSemanticTokens",R,W.getFullModelRange());const oe=yield k(Y,W,null,null,F.XO.None);if(!oe)return;const{provider:z,tokens:G}=oe;if(!G||!g(G))return;const Q=f({id:0,type:"full",data:G.data});return G.resultId&&z.releaseDocumentSemanticTokens(G.resultId),Q});return function(U){return X.apply(this,arguments)}}()),S.w.registerCommand("_provideDocumentRangeSemanticTokensLegend",function(){var X=(0,a.A)(function*(U,...q){const[R,W]=q;(0,b.j)(R instanceof x.r);const Y=U.get(C.S).getModel(R);if(!Y)return;const{documentRangeSemanticTokensProvider:oe}=U.get(l.u),z=j(oe,Y);if(0===z.length)return;if(1===z.length)return z[0].getLegend();if(!W||!r.Q.isIRange(W))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),z[0].getLegend();const G=yield Z(oe,Y,r.Q.lift(W),F.XO.None);return G?G.provider.getLegend():void 0});return function(U){return X.apply(this,arguments)}}()),S.w.registerCommand("_provideDocumentRangeSemanticTokens",function(){var X=(0,a.A)(function*(U,...q){const[R,W]=q;(0,b.j)(R instanceof x.r),(0,b.j)(r.Q.isIRange(W));const Y=U.get(C.S).getModel(R);if(!Y)return;const{documentRangeSemanticTokensProvider:oe}=U.get(l.u),z=yield Z(oe,Y,r.Q.lift(W),F.XO.None);return z&&z.tokens?f({id:0,type:"full",data:z.tokens.data}):void 0});return function(U){return X.apply(this,arguments)}}())},69752:(tt,xe,t)=>{t.d(xe,{K:()=>F,r:()=>a});const a="editor.semanticHighlighting";function F(w,x,C){var S;const b=null===(S=C.getValue(a,{overrideIdentifier:w.getLanguageId(),resource:w.uri}))||void 0===S?void 0:S.enabled;return"boolean"==typeof b?b:x.getColorTheme().semanticHighlighting}},60041:(tt,xe,t)=>{t.d(xe,{n:()=>C});var a=t(10467),F=t(18002),w=t(13632),x=t(73678);let C=(()=>{class S{provideSelectionRanges(P,D){return(0,a.A)(function*(){const v=[];for(const _ of D){const f=[];v.push(f);const d=new Map;yield new Promise(r=>S._bracketsRightYield(r,0,P,_,d)),yield new Promise(r=>S._bracketsLeftYield(r,0,P,_,d,f))}return v})()}static _bracketsRightYield(P,D,v,_,f){const d=new Map,r=Date.now();for(;;){if(D>=S._maxRounds){P();break}if(!_){P();break}const l=v.bracketPairs.findNextBracket(_);if(!l){P();break}if(Date.now()-r>S._maxDuration){setTimeout(()=>S._bracketsRightYield(P,D+1,v,_,f));break}if(l.bracketInfo.isOpeningBracket){const p=l.bracketInfo.bracketText,m=d.has(p)?d.get(p):0;d.set(p,m+1)}else{const p=l.bracketInfo.getOpeningBrackets()[0].bracketText;let m=d.has(p)?d.get(p):0;if(m-=1,d.set(p,Math.max(0,m)),m<0){let T=f.get(p);T||(T=new F.w,f.set(p,T)),T.push(l.range)}}_=l.range.getEndPosition()}}static _bracketsLeftYield(P,D,v,_,f,d){const r=new Map,l=Date.now();for(;;){if(D>=S._maxRounds&&0===f.size){P();break}if(!_){P();break}const g=v.bracketPairs.findPrevBracket(_);if(!g){P();break}if(Date.now()-l>S._maxDuration){setTimeout(()=>S._bracketsLeftYield(P,D+1,v,_,f,d));break}if(g.bracketInfo.isOpeningBracket){const m=g.bracketInfo.bracketText;let T=r.has(m)?r.get(m):0;if(T-=1,r.set(m,Math.max(0,T)),T<0){const A=f.get(m);if(A){const k=A.shift();0===A.size&&f.delete(m);const O=x.Q.fromPositions(g.range.getEndPosition(),k.getStartPosition()),N=x.Q.fromPositions(g.range.getStartPosition(),k.getEndPosition());d.push({range:O}),d.push({range:N}),S._addBracketLeading(v,N,d)}}}else{const m=g.bracketInfo.getOpeningBrackets()[0].bracketText,T=r.has(m)?r.get(m):0;r.set(m,T+1)}_=g.range.getStartPosition()}}static _addBracketLeading(P,D,v){if(D.startLineNumber===D.endLineNumber)return;const _=D.startLineNumber,f=P.getLineFirstNonWhitespaceColumn(_);0!==f&&f!==D.startColumn&&(v.push({range:x.Q.fromPositions(new w.y(_,f),D.getEndPosition())}),v.push({range:x.Q.fromPositions(new w.y(_,1),D.getEndPosition())}));const d=_-1;if(d>0){const r=P.getLineFirstNonWhitespaceColumn(d);r===D.startColumn&&r!==P.getLineLastNonWhitespaceColumn(d)&&(v.push({range:x.Q.fromPositions(new w.y(d,r),D.getEndPosition())}),v.push({range:x.Q.fromPositions(new w.y(d,1),D.getEndPosition())}))}}}return S._maxDuration=30,S._maxRounds=2,S})()},87211:(tt,xe,t)=>{var a=t(10467),F=t(30833),w=t(21468),x=t(25680),C=t(47639),S=t(13632),b=t(73678),P=t(14105),D=t(69995),v=t(60041),_=t(6653);class f{constructor(q=!0){this.selectSubwords=q}provideSelectionRanges(q,R){const W=[];for(const Y of R){const oe=[];W.push(oe),this.selectSubwords&&this._addInWordRanges(oe,q,Y),this._addWordRanges(oe,q,Y),this._addWhitespaceLine(oe,q,Y),oe.push({range:q.getFullModelRange()})}return W}_addInWordRanges(q,R,W){const Y=R.getWordAtPosition(W);if(!Y)return;const{word:oe,startColumn:z}=Y,G=W.column-z;let Q=G,K=G,ie=0;for(;Q>=0;Q--){const ae=oe.charCodeAt(Q);if(Q!==G&&(95===ae||45===ae))break;if((0,_.Lv)(ae)&&(0,_.Wv)(ie))break;ie=ae}for(Q+=1;K<oe.length;K++){const ae=oe.charCodeAt(K);if((0,_.Wv)(ae)&&(0,_.Lv)(ie))break;if(95===ae||45===ae)break;ie=ae}Q<K&&q.push({range:new b.Q(W.lineNumber,z+Q,W.lineNumber,z+K)})}_addWordRanges(q,R,W){const Y=R.getWordAtPosition(W);Y&&q.push({range:new b.Q(W.lineNumber,Y.startColumn,W.lineNumber,Y.endColumn)})}_addWhitespaceLine(q,R,W){R.getLineLength(W.lineNumber)>0&&0===R.getLineFirstNonWhitespaceColumn(W.lineNumber)&&0===R.getLineLastNonWhitespaceColumn(W.lineNumber)&&q.push({range:new b.Q(W.lineNumber,1,W.lineNumber,R.getLineMaxColumn(W.lineNumber))})}}var O,d=t(81644),r=t(79134),l=t(51126),g=t(15307),p=t(35425),m=t(66702),T=t(32417);class N{constructor(q,R){this.index=q,this.ranges=R}mov(q){const R=this.index+(q?1:-1);if(R<0||R>=this.ranges.length)return this;const W=new N(R,this.ranges);return W.ranges[R].equalsRange(this.ranges[this.index])?W.mov(q):W}}let H=O=class{static get(q){return q.getContribution(O.ID)}constructor(q,R){this._editor=q,this._languageFeaturesService=R,this._ignoreSelection=!1}dispose(){var q;null===(q=this._selectionListener)||void 0===q||q.dispose()}run(q){var R=this;return(0,a.A)(function*(){if(!R._editor.hasModel())return;const W=R._editor.getSelections(),Y=R._editor.getModel();if(R._state||(yield te(R._languageFeaturesService.selectionRangeProvider,Y,W.map(z=>z.getPosition()),R._editor.getOption(113),w.XO.None).then(z=>{var G;if(F.EI(z)&&z.length===W.length&&R._editor.hasModel()&&F.aI(R._editor.getSelections(),W,(Q,K)=>Q.equalsSelection(K))){for(let Q=0;Q<z.length;Q++)z[Q]=z[Q].filter(K=>K.containsPosition(W[Q].getStartPosition())&&K.containsPosition(W[Q].getEndPosition())),z[Q].unshift(W[Q]);R._state=z.map(Q=>new N(0,Q)),null===(G=R._selectionListener)||void 0===G||G.dispose(),R._selectionListener=R._editor.onDidChangeCursorPosition(()=>{var Q;R._ignoreSelection||(null===(Q=R._selectionListener)||void 0===Q||Q.dispose(),R._state=void 0)})}})),!R._state)return;R._state=R._state.map(z=>z.mov(q));const oe=R._state.map(z=>P.L.fromPositions(z.ranges[z.index].getStartPosition(),z.ranges[z.index].getEndPosition()));R._ignoreSelection=!0;try{R._editor.setSelections(oe)}finally{R._ignoreSelection=!1}})()}};var q;H.ID="editor.contrib.smartSelectController",H=O=function(U,q,R,W){var z,Y=arguments.length,oe=Y<3?q:null===W?W=Object.getOwnPropertyDescriptor(q,R):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(U,q,R,W);else for(var G=U.length-1;G>=0;G--)(z=U[G])&&(oe=(Y<3?z(oe):Y>3?z(q,R,oe):z(q,R))||oe);return Y>3&&oe&&Object.defineProperty(q,R,oe),oe}([(1,q=g.u,function(R,W){q(R,W,1)})],H);class L extends C.ks{constructor(q,R){super(R),this._forward=q}run(q,R){var W=this;return(0,a.A)(function*(){const Y=H.get(R);Y&&(yield Y.run(W._forward))})()}}function te(U,q,R,W,Y){return X.apply(this,arguments)}function X(){return X=(0,a.A)(function*(U,q,R,W,Y){const oe=U.all(q).concat(new f(W.selectSubwords));1===oe.length&&oe.unshift(new v.n);const z=[],G=[];for(const Q of oe)z.push(Promise.resolve(Q.provideSelectionRanges(q,R,Y)).then(K=>{if(F.EI(K)&&K.length===R.length)for(let ie=0;ie<R.length;ie++){G[ie]||(G[ie]=[]);for(const ae of K[ie])b.Q.isIRange(ae.range)&&b.Q.containsPosition(ae.range,R[ie])&&G[ie].push(b.Q.lift(ae.range))}},x.M_));return yield Promise.all(z),G.map(Q=>{if(0===Q.length)return[];Q.sort((de,se)=>S.y.isBefore(de.getStartPosition(),se.getStartPosition())?1:S.y.isBefore(se.getStartPosition(),de.getStartPosition())||S.y.isBefore(de.getEndPosition(),se.getEndPosition())?-1:S.y.isBefore(se.getEndPosition(),de.getEndPosition())?1:0);const K=[];let ie;for(const de of Q)(!ie||b.Q.containsRange(de,ie)&&!b.Q.equalsRange(de,ie))&&(K.push(de),ie=de);if(!W.selectLeadingAndTrailingWhitespace)return K;const ae=[K[0]];for(let de=1;de<K.length;de++){const se=K[de-1],ge=K[de];if(ge.startLineNumber!==se.startLineNumber||ge.endLineNumber!==se.endLineNumber){const _e=new b.Q(se.startLineNumber,q.getLineFirstNonWhitespaceColumn(se.startLineNumber),se.endLineNumber,q.getLineLastNonWhitespaceColumn(se.endLineNumber));_e.containsRange(se)&&!_e.equalsRange(se)&&ge.containsRange(_e)&&!ge.equalsRange(_e)&&ae.push(_e);const ye=new b.Q(se.startLineNumber,1,se.endLineNumber,q.getLineMaxColumn(se.endLineNumber));ye.containsRange(se)&&!ye.equalsRange(_e)&&ge.containsRange(ye)&&!ge.equalsRange(ye)&&ae.push(ye)}ae.push(ge)}return ae})}),X.apply(this,arguments)}l.w.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),(0,C.HW)(H.ID,H,4),(0,C.Fl)(class j extends L{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:d.kg("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:D.R.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:r.D8.MenubarSelectionMenu,group:"1_basic",title:d.kg({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),(0,C.Fl)(class Z extends L{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:d.kg("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:D.R.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:r.D8.MenubarSelectionMenu,group:"1_basic",title:d.kg({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),l.w.registerCommand("_executeSelectionRangeProvider",function(){var U=(0,a.A)(function*(q,...R){const[W,Y]=R;(0,m.j)(T.r.isUri(W));const oe=q.get(g.u).selectionRangeProvider,z=yield q.get(p.b).createModelReference(W);try{return te(oe,z.object.textEditorModel,Y,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},w.XO.None)}finally{z.dispose()}});return function(q){return U.apply(this,arguments)}}())},3089:(tt,xe,t)=>{t.d(xe,{O:()=>p});var l,a=t(99031),F=t(66702),w=t(47639),x=t(13632),C=t(69995),S=t(70416),b=t(15307),P=t(84031),D=t(81644),v=t(50168),_=t(52152),f=t(51762),r=function(T,A){return function(k,O){A(k,O,T)}};const g={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let p=l=class{static get(A){return A.getContribution(l.ID)}constructor(A,k,O,N,H){this._editor=A,this._logService=k,this._languageFeaturesService=O,this._languageConfigurationService=H,this._snippetListener=new a.Cm,this._modelVersionId=-1,this._inSnippet=l.InSnippetMode.bindTo(N),this._hasNextTabstop=l.HasNextTabstop.bindTo(N),this._hasPrevTabstop=l.HasPrevTabstop.bindTo(N)}dispose(){var A;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(A=this._session)||void 0===A||A.dispose(),this._snippetListener.dispose()}insert(A,k){try{this._doInsert(A,typeof k>"u"?g:{...g,...k})}catch(O){this.cancel(),this._logService.error(O),this._logService.error("snippet_error"),this._logService.error("insert_template=",A),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(A,k){var O;if(this._editor.hasModel()){if(this._snippetListener.clear(),k.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&"string"!=typeof A&&this.cancel(),this._session?((0,F.j)("string"==typeof A),this._session.merge(A,k)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new f.O(this._editor,A,k,this._languageConfigurationService),this._session.insert()),k.undoStopAfter&&this._editor.getModel().pushStackElement(),null!==(O=this._session)&&void 0!==O&&O.hasChoice){const N={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(X,U)=>{if(!this._session||X!==this._editor.getModel()||!x.y.equals(this._editor.getPosition(),U))return;const{activeChoice:q}=this._session;if(!q||0===q.choice.options.length)return;const R=X.getValueInRange(q.range),W=!!q.choice.options.find(oe=>oe.value===R),Y=[];for(let oe=0;oe<q.choice.options.length;oe++){const z=q.choice.options[oe];Y.push({kind:13,label:z.value,insertText:z.value,sortText:"a".repeat(oe+1),range:q.range,filterText:W?`${R}_${z.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,D.kg)("next","Go to next placeholder...")}})}return{suggestions:Y}}},H=this._editor.getModel();let L,j=!1;this._choiceCompletions={provider:N,enable:()=>{j||(L=this._languageFeaturesService.completionProvider.register({language:H.getLanguageId(),pattern:H.uri.fsPath,scheme:H.uri.scheme,exclusive:!0},N),this._snippetListener.add(L),j=!0)},disable:()=>{L?.dispose(),j=!1}}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(N=>N.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var A;if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{activeChoice:k}=this._session;if(!k||!this._choiceCompletions)return null===(A=this._choiceCompletions)||void 0===A||A.disable(),void(this._currentChoice=void 0);this._currentChoice!==k.choice&&(this._currentChoice=k.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,P.p3)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(A=!1){var k;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,null===(k=this._session)||void 0===k||k.dispose(),this._session=void 0,this._modelVersionId=-1,A&&this._editor.setSelections([this._editor.getSelection()])}prev(){var A;null===(A=this._session)||void 0===A||A.prev(),this._updateState()}next(){var A;null===(A=this._session)||void 0===A||A.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};p.ID="snippetController2",p.InSnippetMode=new v.N1("inSnippetMode",!1,(0,D.kg)("inSnippetMode","Whether the editor in current in snippet mode")),p.HasNextTabstop=new v.N1("hasNextTabstop",!1,(0,D.kg)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),p.HasPrevTabstop=new v.N1("hasPrevTabstop",!1,(0,D.kg)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),p=l=function(T,A,k,O){var L,N=arguments.length,H=N<3?A:null===O?O=Object.getOwnPropertyDescriptor(A,k):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(T,A,k,O);else for(var j=T.length-1;j>=0;j--)(L=T[j])&&(H=(N<3?L(H):N>3?L(A,k,H):L(A,k))||H);return N>3&&H&&Object.defineProperty(A,k,H),H}([r(1,_.rr),r(2,b.u),r(3,v.fN),r(4,S.JZ)],p),(0,w.HW)(p.ID,p,4);const m=w.DX.bindToContribution(p.get);(0,w.E_)(new m({id:"jumpToNextSnippetPlaceholder",precondition:v.M$.and(p.InSnippetMode,p.HasNextTabstop),handler:T=>T.next(),kbOpts:{weight:130,kbExpr:C.R.textInputFocus,primary:2}})),(0,w.E_)(new m({id:"jumpToPrevSnippetPlaceholder",precondition:v.M$.and(p.InSnippetMode,p.HasPrevTabstop),handler:T=>T.prev(),kbOpts:{weight:130,kbExpr:C.R.textInputFocus,primary:1026}})),(0,w.E_)(new m({id:"leaveSnippet",precondition:p.InSnippetMode,handler:T=>T.cancel(!0),kbOpts:{weight:130,kbExpr:C.R.textInputFocus,primary:9,secondary:[1033]}})),(0,w.E_)(new m({id:"acceptSnippet",precondition:p.InSnippetMode,handler:T=>T.finish()}))},7716:(tt,xe,t)=>{t.d(xe,{EY:()=>w,GR:()=>S,Or:()=>C,fr:()=>f,mQ:()=>_});let a=(()=>{class d{constructor(){this.value="",this.pos=0}static isDigitCharacter(l){return l>=48&&l<=57}static isVariableCharacter(l){return 95===l||l>=97&&l<=122||l>=65&&l<=90}text(l){this.value=l,this.pos=0}tokenText(l){return this.value.substr(l.pos,l.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const l=this.pos;let m,g=0,p=this.value.charCodeAt(l);if(m=d._table[p],"number"==typeof m)return this.pos+=1,{type:m,pos:l,len:1};if(d.isDigitCharacter(p)){m=8;do{g+=1,p=this.value.charCodeAt(l+g)}while(d.isDigitCharacter(p));return this.pos+=g,{type:m,pos:l,len:g}}if(d.isVariableCharacter(p)){m=9;do{p=this.value.charCodeAt(l+ ++g)}while(d.isVariableCharacter(p)||d.isDigitCharacter(p));return this.pos+=g,{type:m,pos:l,len:g}}m=10;do{g+=1,p=this.value.charCodeAt(l+g)}while(!isNaN(p)&&typeof d._table[p]>"u"&&!d.isDigitCharacter(p)&&!d.isVariableCharacter(p));return this.pos+=g,{type:m,pos:l,len:g}}}return d._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13},d})();class F{constructor(){this._children=[]}appendChild(r){return r instanceof w&&this._children[this._children.length-1]instanceof w?this._children[this._children.length-1].value+=r.value:(r.parent=this,this._children.push(r)),this}replace(r,l){const{parent:g}=r,p=g.children.indexOf(r),m=g.children.slice(0);m.splice(p,1,...l),g._children=m,function T(A,k){for(const O of A)O.parent=k,T(O.children,O)}(l,g)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let r=this;for(;;){if(!r)return;if(r instanceof _)return r;r=r.parent}}toString(){return this.children.reduce((r,l)=>r+l.toString(),"")}len(){return 0}}class w extends F{constructor(r){super(),this.value=r}toString(){return this.value}len(){return this.value.length}clone(){return new w(this.value)}}class x extends F{}class C extends x{static compareByIndex(r,l){return r.index===l.index?0:r.isFinalTabstop?1:l.isFinalTabstop||r.index<l.index?-1:r.index>l.index?1:0}constructor(r){super(),this.index=r}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof S?this._children[0]:void 0}clone(){const r=new C(this.index);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(l=>l.clone()),r}}class S extends F{constructor(){super(...arguments),this.options=[]}appendChild(r){return r instanceof w&&(r.parent=this,this.options.push(r)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const r=new S;return this.options.forEach(r.appendChild,r),r}}class b extends F{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(r){const l=this;let g=!1,p=r.replace(this.regexp,function(){return g=!0,l._replace(Array.prototype.slice.call(arguments,0,-2))});return!g&&this._children.some(m=>m instanceof P&&!!m.elseValue)&&(p=this._replace([])),p}_replace(r){let l="";for(const g of this._children)if(g instanceof P){let p=r[g.index]||"";p=g.resolve(p),l+=p}else l+=g.toString();return l}toString(){return""}clone(){const r=new b;return r.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),r._children=this.children.map(l=>l.clone()),r}}class P extends F{constructor(r,l,g,p){super(),this.index=r,this.shorthandName=l,this.ifValue=g,this.elseValue=p}resolve(r){return"upcase"===this.shorthandName?r?r.toLocaleUpperCase():"":"downcase"===this.shorthandName?r?r.toLocaleLowerCase():"":"capitalize"===this.shorthandName?r?r[0].toLocaleUpperCase()+r.substr(1):"":"pascalcase"===this.shorthandName?r?this._toPascalCase(r):"":"camelcase"===this.shorthandName?r?this._toCamelCase(r):"":r&&"string"==typeof this.ifValue?this.ifValue:r||"string"!=typeof this.elseValue?r||"":this.elseValue}_toPascalCase(r){const l=r.match(/[a-z0-9]+/gi);return l?l.map(g=>g.charAt(0).toUpperCase()+g.substr(1)).join(""):r}_toCamelCase(r){const l=r.match(/[a-z0-9]+/gi);return l?l.map((g,p)=>0===p?g.charAt(0).toLowerCase()+g.substr(1):g.charAt(0).toUpperCase()+g.substr(1)).join(""):r}clone(){return new P(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class D extends x{constructor(r){super(),this.name=r}resolve(r){let l=r.resolve(this);return this.transform&&(l=this.transform.resolve(l||"")),void 0!==l&&(this._children=[new w(l)],!0)}clone(){const r=new D(this.name);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(l=>l.clone()),r}}function v(d,r){const l=[...d];for(;l.length>0;){const g=l.shift();if(!r(g))break;l.unshift(...g.children)}}class _ extends F{get placeholderInfo(){if(!this._placeholders){const r=[];let l;this.walk(function(g){return g instanceof C&&(r.push(g),l=!l||l.index<g.index?g:l),!0}),this._placeholders={all:r,last:l}}return this._placeholders}get placeholders(){const{all:r}=this.placeholderInfo;return r}offset(r){let l=0,g=!1;return this.walk(p=>p===r?(g=!0,!1):(l+=p.len(),!0)),g?l:-1}fullLen(r){let l=0;return v([r],g=>(l+=g.len(),!0)),l}enclosingPlaceholders(r){const l=[];let{parent:g}=r;for(;g;)g instanceof C&&l.push(g),g=g.parent;return l}resolveVariables(r){return this.walk(l=>(l instanceof D&&l.resolve(r)&&(this._placeholders=void 0),!0)),this}appendChild(r){return this._placeholders=void 0,super.appendChild(r)}replace(r,l){return this._placeholders=void 0,super.replace(r,l)}clone(){const r=new _;return this._children=this.children.map(l=>l.clone()),r}walk(r){v(this.children,r)}}class f{constructor(){this._scanner=new a,this._token={type:14,pos:0,len:0}}static escape(r){return r.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(r){return/\${?CLIPBOARD/.test(r)}parse(r,l,g){const p=new _;return this.parseFragment(r,p),this.ensureFinalTabstop(p,g??!1,l??!1),p}parseFragment(r,l){const g=l.children.length;for(this._scanner.text(r),this._token=this._scanner.next();this._parse(l););const p=new Map,m=[];l.walk(k=>(k instanceof C&&(k.isFinalTabstop?p.set(0,void 0):!p.has(k.index)&&k.children.length>0?p.set(k.index,k.children):m.push(k)),!0));const T=(k,O)=>{const N=p.get(k.index);if(!N)return;const H=new C(k.index);H.transform=k.transform;for(const L of N){const j=L.clone();H.appendChild(j),j instanceof C&&p.has(j.index)&&!O.has(j.index)&&(O.add(j.index),T(j,O),O.delete(j.index))}l.replace(k,[H])},A=new Set;for(const k of m)T(k,A);return l.children.slice(g)}ensureFinalTabstop(r,l,g){(l||g&&r.placeholders.length>0)&&(r.placeholders.find(m=>0===m.index)||r.appendChild(new C(0)))}_accept(r,l){if(void 0===r||this._token.type===r){const g=!l||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),g}return!1}_backTo(r){return this._scanner.pos=r.pos+r.len,this._token=r,!1}_until(r){const l=this._token;for(;this._token.type!==r;){if(14===this._token.type)return!1;if(5===this._token.type){const p=this._scanner.next();if(0!==p.type&&4!==p.type&&5!==p.type)return!1}this._token=this._scanner.next()}const g=this._scanner.value.substring(l.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),g}_parse(r){return this._parseEscaped(r)||this._parseTabstopOrVariableName(r)||this._parseComplexPlaceholder(r)||this._parseComplexVariable(r)||this._parseAnything(r)}_parseEscaped(r){let l;return!!(l=this._accept(5,!0))&&(l=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||l,r.appendChild(new w(l)),!0)}_parseTabstopOrVariableName(r){let l;const g=this._token;return this._accept(0)&&(l=this._accept(9,!0)||this._accept(8,!0))?(r.appendChild(/^\d+$/.test(l)?new C(Number(l)):new D(l)),!0):this._backTo(g)}_parseComplexPlaceholder(r){let l;const g=this._token;if(!(this._accept(0)&&this._accept(3)&&(l=this._accept(8,!0))))return this._backTo(g);const m=new C(Number(l));if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(m),!0;if(!this._parse(m))return r.appendChild(new w("${"+l+":")),m.children.forEach(r.appendChild,r),!0}else{if(!(m.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(m)?(r.appendChild(m),!0):(this._backTo(g),!1):this._accept(4)?(r.appendChild(m),!0):this._backTo(g);{const T=new S;for(;;){if(this._parseChoiceElement(T)){if(this._accept(2))continue;if(this._accept(7)&&(m.appendChild(T),this._accept(4)))return r.appendChild(m),!0}return this._backTo(g),!1}}}}_parseChoiceElement(r){const l=this._token,g=[];for(;2!==this._token.type&&7!==this._token.type;){let p;if(p=(p=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||p:this._accept(void 0,!0),!p)return this._backTo(l),!1;g.push(p)}return 0===g.length?(this._backTo(l),!1):(r.appendChild(new w(g.join(""))),!0)}_parseComplexVariable(r){let l;const g=this._token;if(!(this._accept(0)&&this._accept(3)&&(l=this._accept(9,!0))))return this._backTo(g);const m=new D(l);if(!this._accept(1))return this._accept(6)?this._parseTransform(m)?(r.appendChild(m),!0):(this._backTo(g),!1):this._accept(4)?(r.appendChild(m),!0):this._backTo(g);for(;;){if(this._accept(4))return r.appendChild(m),!0;if(!this._parse(m))return r.appendChild(new w("${"+l+":")),m.children.forEach(r.appendChild,r),!0}}_parseTransform(r){const l=new b;let g="",p="";for(;!this._accept(6);){let m;if(m=this._accept(5,!0))m=this._accept(6,!0)||m,g+=m;else{if(14===this._token.type)return!1;g+=this._accept(void 0,!0)}}for(;!this._accept(6);){let m;if(m=this._accept(5,!0))m=this._accept(5,!0)||this._accept(6,!0)||m,l.appendChild(new w(m));else if(!this._parseFormatString(l)&&!this._parseAnything(l))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;p+=this._accept(void 0,!0)}try{l.regexp=new RegExp(g,p)}catch{return!1}return r.transform=l,!0}_parseFormatString(r){const l=this._token;if(!this._accept(0))return!1;let g=!1;this._accept(3)&&(g=!0);const p=this._accept(8,!0);if(!p)return this._backTo(l),!1;if(!g)return r.appendChild(new P(Number(p))),!0;if(this._accept(4))return r.appendChild(new P(Number(p))),!0;if(!this._accept(1))return this._backTo(l),!1;if(this._accept(6)){const m=this._accept(9,!0);return m&&this._accept(4)?(r.appendChild(new P(Number(p),m)),!0):(this._backTo(l),!1)}if(this._accept(11)){const m=this._until(4);if(m)return r.appendChild(new P(Number(p),void 0,m,void 0)),!0}else if(this._accept(12)){const m=this._until(4);if(m)return r.appendChild(new P(Number(p),void 0,void 0,m)),!0}else if(this._accept(13)){const m=this._until(1);if(m){const T=this._until(4);if(T)return r.appendChild(new P(Number(p),void 0,m,T)),!0}}else{const m=this._until(4);if(m)return r.appendChild(new P(Number(p),void 0,void 0,m)),!0}return this._backTo(l),!1}_parseAnything(r){return 14!==this._token.type&&(r.appendChild(new w(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}},51762:(tt,xe,t)=>{t.d(xe,{O:()=>ue});var a=t(30833),F=t(99031),w=t(6653),x=t(85072),C=t.n(x),S=t(97825),b=t.n(S),P=t(77659),D=t.n(P),v=t(55056),_=t.n(v),f=t(10540),d=t.n(f),r=t(41113),l=t.n(r),g=t(90069),p={};p.styleTagTransform=l(),p.setAttributes=_(),p.insert=D().bind(null,"head"),p.domAPI=b(),p.insertStyleElement=d(),C()(g.A,p);var A=t(5214),k=t(73678),O=t(14105),N=t(70416),H=t(80753),L=t(7964),j=t(97014),Z=t(7716),te=t(49007),X=t(21828);function U(we,Me=X.uF){return(0,te.No)(we,Me)?we.charAt(0).toUpperCase()+we.slice(1):we}var R=t(68200),W=t(76698),Y=t(90316),oe=t(81644);Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class K{constructor(Me){this._delegates=Me}resolve(Me){for(const Ve of this._delegates){const $e=Ve.resolve(Me);if(void 0!==$e)return $e}}}class ie{constructor(Me,Ve,$e,it){this._model=Me,this._selection=Ve,this._selectionIdx=$e,this._overtypingCapturer=it}resolve(Me){const{name:Ve}=Me;if("SELECTION"===Ve||"TM_SELECTED_TEXT"===Ve){let $e=this._model.getValueInRange(this._selection)||void 0,it=this._selection.startLineNumber!==this._selection.endLineNumber;if(!$e&&this._overtypingCapturer){const He=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);He&&($e=He.value,it=He.multiline)}if($e&&it&&Me.snippet){const He=this._model.getLineContent(this._selection.startLineNumber),me=(0,w.UU)(He,0,this._selection.startColumn-1);let le=me;Me.snippet.walk(be=>be!==Me&&(be instanceof Z.EY&&(le=(0,w.UU)((0,w.uz)(be.value).pop())),!0));const Ee=(0,w.Qp)(le,me);$e=$e.replace(/(\r\n|\r|\n)(.*)/g,(be,Ce,Ne)=>`${Ce}${le.substr(Ee)}${Ne}`)}return $e}if("TM_CURRENT_LINE"===Ve)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===Ve){const $e=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return $e&&$e.word||void 0}return"TM_LINE_INDEX"===Ve?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===Ve?String(this._selection.positionLineNumber):"CURSOR_INDEX"===Ve?String(this._selectionIdx):"CURSOR_NUMBER"===Ve?String(this._selectionIdx+1):void 0}}class ae{constructor(Me,Ve){this._labelService=Me,this._model=Ve}resolve(Me){const{name:Ve}=Me;if("TM_FILENAME"===Ve)return R.P8(this._model.uri.fsPath);if("TM_FILENAME_BASE"===Ve){const $e=R.P8(this._model.uri.fsPath),it=$e.lastIndexOf(".");return it<=0?$e:$e.slice(0,it)}return"TM_DIRECTORY"===Ve?"."===R.pD(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,W.pD)(this._model.uri)):"TM_FILEPATH"===Ve?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===Ve?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class de{constructor(Me,Ve,$e,it){this._readClipboardText=Me,this._selectionIdx=Ve,this._selectionCount=$e,this._spread=it}resolve(Me){if("CLIPBOARD"!==Me.name)return;const Ve=this._readClipboardText();if(Ve){if(this._spread){const $e=Ve.split(/\r\n|\n|\r/).filter(it=>!(0,w.AV)(it));if($e.length===this._selectionCount)return $e[this._selectionIdx]}return Ve}}}let se=class{constructor(Me,Ve,$e){this._model=Me,this._selection=Ve,this._languageConfigurationService=$e}resolve(Me){const{name:Ve}=Me,$e=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),it=this._languageConfigurationService.getLanguageConfiguration($e).comments;if(it){if("LINE_COMMENT"===Ve)return it.lineCommentToken||void 0;if("BLOCK_COMMENT_START"===Ve)return it.blockCommentStartToken||void 0;if("BLOCK_COMMENT_END"===Ve)return it.blockCommentEndToken||void 0}}};var Me,Se;se=function(we,Me,Ve,$e){var me,it=arguments.length,He=it<3?Me:null===$e?$e=Object.getOwnPropertyDescriptor(Me,Ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)He=Reflect.decorate(we,Me,Ve,$e);else for(var le=we.length-1;le>=0;le--)(me=we[le])&&(He=(it<3?me(He):it>3?me(Me,Ve,He):me(Me,Ve))||He);return it>3&&He&&Object.defineProperty(Me,Ve,He),He}([(2,Me=N.JZ,function(Ve,$e){Me(Ve,$e,2)})],se);class ge{constructor(){this._date=new Date}resolve(Me){const{name:Ve}=Me;if("CURRENT_YEAR"===Ve)return String(this._date.getFullYear());if("CURRENT_YEAR_SHORT"===Ve)return String(this._date.getFullYear()).slice(-2);if("CURRENT_MONTH"===Ve)return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if("CURRENT_DATE"===Ve)return String(this._date.getDate().valueOf()).padStart(2,"0");if("CURRENT_HOUR"===Ve)return String(this._date.getHours().valueOf()).padStart(2,"0");if("CURRENT_MINUTE"===Ve)return String(this._date.getMinutes().valueOf()).padStart(2,"0");if("CURRENT_SECOND"===Ve)return String(this._date.getSeconds().valueOf()).padStart(2,"0");if("CURRENT_DAY_NAME"===Ve)return ge.dayNames[this._date.getDay()];if("CURRENT_DAY_NAME_SHORT"===Ve)return ge.dayNamesShort[this._date.getDay()];if("CURRENT_MONTH_NAME"===Ve)return ge.monthNames[this._date.getMonth()];if("CURRENT_MONTH_NAME_SHORT"===Ve)return ge.monthNamesShort[this._date.getMonth()];if("CURRENT_SECONDS_UNIX"===Ve)return String(Math.floor(this._date.getTime()/1e3));if("CURRENT_TIMEZONE_OFFSET"===Ve){const $e=this._date.getTimezoneOffset(),it=$e>0?"-":"+",He=Math.trunc(Math.abs($e/60)),me=He<10?"0"+He:He,le=Math.abs($e)-60*He;return it+me+":"+(le<10?"0"+le:le)}}}ge.dayNames=[oe.kg("Sunday","Sunday"),oe.kg("Monday","Monday"),oe.kg("Tuesday","Tuesday"),oe.kg("Wednesday","Wednesday"),oe.kg("Thursday","Thursday"),oe.kg("Friday","Friday"),oe.kg("Saturday","Saturday")],ge.dayNamesShort=[oe.kg("SundayShort","Sun"),oe.kg("MondayShort","Mon"),oe.kg("TuesdayShort","Tue"),oe.kg("WednesdayShort","Wed"),oe.kg("ThursdayShort","Thu"),oe.kg("FridayShort","Fri"),oe.kg("SaturdayShort","Sat")],ge.monthNames=[oe.kg("January","January"),oe.kg("February","February"),oe.kg("March","March"),oe.kg("April","April"),oe.kg("May","May"),oe.kg("June","June"),oe.kg("July","July"),oe.kg("August","August"),oe.kg("September","September"),oe.kg("October","October"),oe.kg("November","November"),oe.kg("December","December")],ge.monthNamesShort=[oe.kg("JanuaryShort","Jan"),oe.kg("FebruaryShort","Feb"),oe.kg("MarchShort","Mar"),oe.kg("AprilShort","Apr"),oe.kg("MayShort","May"),oe.kg("JuneShort","Jun"),oe.kg("JulyShort","Jul"),oe.kg("AugustShort","Aug"),oe.kg("SeptemberShort","Sep"),oe.kg("OctoberShort","Oct"),oe.kg("NovemberShort","Nov"),oe.kg("DecemberShort","Dec")];class _e{constructor(Me){this._workspaceService=Me}resolve(Me){if(!this._workspaceService)return;const Ve=(0,j.Q_)(this._workspaceService.getWorkspace());if(!(0,j.A7)(Ve)){if("WORKSPACE_NAME"===Me.name)return this._resolveWorkspaceName(Ve);if("WORKSPACE_FOLDER"===Me.name)return this._resoveWorkspacePath(Ve)}}_resolveWorkspaceName(Me){if((0,j.jB)(Me))return R.P8(Me.uri.path);let Ve=R.P8(Me.configPath.path);return Ve.endsWith(j.kF)&&(Ve=Ve.substr(0,Ve.length-j.kF.length-1)),Ve}_resoveWorkspacePath(Me){if((0,j.jB)(Me))return U(Me.uri.fsPath);const Ve=R.P8(Me.configPath.path);let $e=Me.configPath.fsPath;return $e.endsWith(Ve)&&($e=$e.substr(0,$e.length-Ve.length-1)),$e?U($e):"/"}}class ye{resolve(Me){const{name:Ve}=Me;return"RANDOM"===Ve?Math.random().toString().slice(-6):"RANDOM_HEX"===Ve?Math.random().toString(16).slice(-6):"UUID"===Ve?(0,Y.b)():void 0}}class Ie{constructor(Me,Ve,$e){this._editor=Me,this._snippet=Ve,this._snippetLineLeadingWhitespace=$e,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,a.$z)(Ve.placeholders,Z.Or.compareByIndex),this._placeholderGroupsIdx=-1}initialize(Me){this._offset=Me.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(-1===this._offset)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const Me=this._editor.getModel();this._editor.changeDecorations(Ve=>{for(const $e of this._snippet.placeholders){const it=this._snippet.offset($e),He=this._snippet.fullLen($e),me=k.Q.fromPositions(Me.getPositionAt(this._offset+it),Me.getPositionAt(this._offset+it+He)),Ee=Ve.addDecoration(me,$e.isFinalTabstop?Ie._decor.inactiveFinal:Ie._decor.inactive);this._placeholderDecorations.set($e,Ee)}})}move(Me){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const it=[];for(const He of this._placeholderGroups[this._placeholderGroupsIdx])if(He.transform){const me=this._placeholderDecorations.get(He),le=this._editor.getModel().getDecorationRange(me),Ee=this._editor.getModel().getValueInRange(le),be=He.transform.resolve(Ee).split(/\r\n|\r|\n/);for(let Ce=1;Ce<be.length;Ce++)be[Ce]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+be[Ce]);it.push(A.k.replace(le,be.join(this._editor.getModel().getEOL())))}it.length>0&&this._editor.executeEdits("snippet.placeholderTransform",it)}let Ve=!1;!0===Me&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,Ve=!0):!1===Me&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,Ve=!0);const $e=this._editor.getModel().changeDecorations(it=>{const He=new Set,me=[];for(const le of this._placeholderGroups[this._placeholderGroupsIdx]){const Ee=this._placeholderDecorations.get(le),be=this._editor.getModel().getDecorationRange(Ee);me.push(new O.L(be.startLineNumber,be.startColumn,be.endLineNumber,be.endColumn)),Ve=Ve&&this._hasPlaceholderBeenCollapsed(le),it.changeDecorationOptions(Ee,le.isFinalTabstop?Ie._decor.activeFinal:Ie._decor.active),He.add(le);for(const Ce of this._snippet.enclosingPlaceholders(le)){const Ne=this._placeholderDecorations.get(Ce);it.changeDecorationOptions(Ne,Ce.isFinalTabstop?Ie._decor.activeFinal:Ie._decor.active),He.add(Ce)}}for(const[le,Ee]of this._placeholderDecorations)He.has(le)||it.changeDecorationOptions(Ee,le.isFinalTabstop?Ie._decor.inactiveFinal:Ie._decor.inactive);return me});return Ve?this.move(Me):$e??[]}_hasPlaceholderBeenCollapsed(Me){let Ve=Me;for(;Ve;){if(Ve instanceof Z.Or){const $e=this._placeholderDecorations.get(Ve);if(this._editor.getModel().getDecorationRange($e).isEmpty()&&Ve.toString().length>0)return!0}Ve=Ve.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(0===this._snippet.placeholders.length)return!0;if(1===this._snippet.placeholders.length){const[Me]=this._snippet.placeholders;if(Me.isFinalTabstop&&this._snippet.rightMostDescendant===Me)return!0}return!1}computePossibleSelections(){const Me=new Map;for(const Ve of this._placeholderGroups){let $e;for(const it of Ve){if(it.isFinalTabstop)break;$e||($e=[],Me.set(it.index,$e));const He=this._placeholderDecorations.get(it),me=this._editor.getModel().getDecorationRange(He);if(!me){Me.delete(it.index);break}$e.push(me)}}return Me}get activeChoice(){if(!this._placeholderDecorations)return;const Me=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!Me?.choice)return;const Ve=this._placeholderDecorations.get(Me);if(!Ve)return;const $e=this._editor.getModel().getDecorationRange(Ve);return $e?{range:$e,choice:Me.choice}:void 0}get hasChoice(){let Me=!1;return this._snippet.walk(Ve=>(Me=Ve instanceof Z.GR,!Me)),Me}merge(Me){const Ve=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations($e=>{for(const it of this._placeholderGroups[this._placeholderGroupsIdx]){const He=Me.shift();console.assert(-1!==He._offset),console.assert(!He._placeholderDecorations);const me=He._snippet.placeholderInfo.last.index;for(const Ee of He._snippet.placeholderInfo.all)Ee.index=Ee.isFinalTabstop?it.index+(me+1)/this._nestingLevel:it.index+Ee.index/this._nestingLevel;this._snippet.replace(it,He._snippet.children);const le=this._placeholderDecorations.get(it);$e.removeDecoration(le),this._placeholderDecorations.delete(it);for(const Ee of He._snippet.placeholders){const be=He._snippet.offset(Ee),Ce=He._snippet.fullLen(Ee),Ne=k.Q.fromPositions(Ve.getPositionAt(He._offset+be),Ve.getPositionAt(He._offset+be+Ce)),Fe=$e.addDecoration(Ne,Ie._decor.inactive);this._placeholderDecorations.set(Ee,Fe)}}this._placeholderGroups=(0,a.$z)(this._snippet.placeholders,Z.Or.compareByIndex)})}}Ie._decor={active:H.kI.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:H.kI.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:H.kI.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:H.kI.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const ne={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let ue=Se=class{static adjustWhitespace(Me,Ve,$e,it,He){const me=Me.getLineContent(Ve.lineNumber),le=(0,w.UU)(me,0,Ve.column-1);let Ee;return it.walk(be=>{if(!(be instanceof Z.EY)||be.parent instanceof Z.GR||He&&!He.has(be))return!0;const Ce=be.value.split(/\r\n|\r|\n/);if($e){const Fe=it.offset(be);if(0===Fe)Ce[0]=Me.normalizeIndentation(Ce[0]);else{Ee=Ee??it.toString();const qe=Ee.charCodeAt(Fe-1);(10===qe||13===qe)&&(Ce[0]=Me.normalizeIndentation(le+Ce[0]))}for(let qe=1;qe<Ce.length;qe++)Ce[qe]=Me.normalizeIndentation(le+Ce[qe])}const Ne=Ce.join(Me.getEOL());return Ne!==be.value&&(be.parent.replace(be,[new Z.EY(Ne)]),Ee=void 0),!0}),le}static adjustSelection(Me,Ve,$e,it){if(0!==$e||0!==it){const{positionLineNumber:He,positionColumn:me}=Ve,be=Me.validateRange({startLineNumber:He,startColumn:me-$e,endLineNumber:He,endColumn:me+it});Ve=O.L.createWithDirection(be.startLineNumber,be.startColumn,be.endLineNumber,be.endColumn,Ve.getDirection())}return Ve}static createEditsAndSnippetsFromSelections(Me,Ve,$e,it,He,me,le,Ee,be){const Ce=[],Ne=[];if(!Me.hasModel())return{edits:Ce,snippets:Ne};const Fe=Me.getModel(),qe=Me.invokeWithinContext(ot=>ot.get(j.VR)),dt=Me.invokeWithinContext(ot=>new ae(ot.get(L.L),Fe)),vt=()=>le,fn=Fe.getValueInRange(Se.adjustSelection(Fe,Me.getSelection(),$e,0)),on=Fe.getValueInRange(Se.adjustSelection(Fe,Me.getSelection(),0,it)),ht=Fe.getLineFirstNonWhitespaceColumn(Me.getSelection().positionLineNumber),Je=Me.getSelections().map((ot,De)=>({selection:ot,idx:De})).sort((ot,De)=>k.Q.compareRangesUsingStarts(ot.selection,De.selection));for(const{selection:ot,idx:De}of Je){let Qe=Se.adjustSelection(Fe,ot,$e,0),mt=Se.adjustSelection(Fe,ot,0,it);fn!==Fe.getValueInRange(Qe)&&(Qe=ot),on!==Fe.getValueInRange(mt)&&(mt=ot);const kt=ot.setStartPosition(Qe.startLineNumber,Qe.startColumn).setEndPosition(mt.endLineNumber,mt.endColumn),Ht=(new Z.fr).parse(Ve,!0,He),Ft=kt.getStartPosition(),Bt=Se.adjustWhitespace(Fe,Ft,me||De>0&&ht!==Fe.getLineFirstNonWhitespaceColumn(ot.positionLineNumber),Ht);Ht.resolveVariables(new K([dt,new de(vt,De,Je.length,"spread"===Me.getOption(79)),new ie(Fe,ot,De,Ee),new se(Fe,ot,be),new ge,new _e(qe),new ye])),Ce[De]=A.k.replace(kt,Ht.toString()),Ce[De].identifier={major:De,minor:0},Ce[De]._isTracked=!0,Ne[De]=new Ie(Me,Ht,Bt)}return{edits:Ce,snippets:Ne}}static createEditsAndSnippetsFromEdits(Me,Ve,$e,it,He,me,le){if(!Me.hasModel()||0===Ve.length)return{edits:[],snippets:[]};const Ee=[],be=Me.getModel(),Ce=new Z.fr,Ne=new Z.mQ,Fe=new K([Me.invokeWithinContext(dt=>new ae(dt.get(L.L),be)),new de(()=>He,0,Me.getSelections().length,"spread"===Me.getOption(79)),new ie(be,Me.getSelection(),0,me),new se(be,Me.getSelection(),le),new ge,new _e(Me.invokeWithinContext(dt=>dt.get(j.VR))),new ye]);Ve=Ve.sort((dt,vt)=>k.Q.compareRangesUsingStarts(dt.range,vt.range));let qe=0;for(let dt=0;dt<Ve.length;dt++){const{range:vt,template:fn}=Ve[dt];if(dt>0){const Qe=k.Q.fromPositions(Ve[dt-1].range.getEndPosition(),vt.getStartPosition()),mt=new Z.EY(be.getValueInRange(Qe));Ne.appendChild(mt),qe+=mt.value.length}const on=Ce.parseFragment(fn,Ne);Se.adjustWhitespace(be,vt.getStartPosition(),!0,Ne,new Set(on)),Ne.resolveVariables(Fe);const ht=Ne.toString(),Je=ht.slice(qe);qe=ht.length;const ot=A.k.replace(vt,Je);ot.identifier={major:dt,minor:0},ot._isTracked=!0,Ee.push(ot)}return Ce.ensureFinalTabstop(Ne,$e,!0),{edits:Ee,snippets:[new Ie(Me,Ne,"")]}}constructor(Me,Ve,$e=ne,it){this._editor=Me,this._template=Ve,this._options=$e,this._languageConfigurationService=it,this._templateMerges=[],this._snippets=[]}dispose(){(0,F.AS)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:Me,snippets:Ve}="string"==typeof this._template?Se.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):Se.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=Ve,this._editor.executeEdits("snippet",Me,$e=>{const it=$e.filter(He=>!!He.identifier);for(let He=0;He<Ve.length;He++)Ve[He].initialize(it[He].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):it.map(He=>O.L.fromPositions(He.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(Me,Ve=ne){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,Me]);const{edits:$e,snippets:it}=Se.createEditsAndSnippetsFromSelections(this._editor,Me,Ve.overwriteBefore,Ve.overwriteAfter,!0,Ve.adjustWhitespace,Ve.clipboardText,Ve.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",$e,He=>{const me=He.filter(Ee=>!!Ee.identifier);for(let Ee=0;Ee<it.length;Ee++)it[Ee].initialize(me[Ee].textChange);const le=it[0].isTrivialSnippet;if(!le){for(const Ee of this._snippets)Ee.merge(it);console.assert(0===it.length)}return this._snippets[0].hasPlaceholder&&!le?this._move(void 0):me.map(Ee=>O.L.fromPositions(Ee.range.getEndPosition()))})}next(){const Me=this._move(!0);this._editor.setSelections(Me),this._editor.revealPositionInCenterIfOutsideViewport(Me[0].getPosition())}prev(){const Me=this._move(!1);this._editor.setSelections(Me),this._editor.revealPositionInCenterIfOutsideViewport(Me[0].getPosition())}_move(Me){const Ve=[];for(const $e of this._snippets){const it=$e.move(Me);Ve.push(...it)}return Ve}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const Me=this._editor.getSelections();if(Me.length<this._snippets.length)return!1;const Ve=new Map;for(const $e of this._snippets){const it=$e.computePossibleSelections();if(0===Ve.size)for(const[He,me]of it){me.sort(k.Q.compareRangesUsingStarts);for(const le of Me)if(me[0].containsRange(le)){Ve.set(He,[]);break}}if(0===Ve.size)return!1;Ve.forEach((He,me)=>{He.push(...it.get(me))})}Me.sort(k.Q.compareRangesUsingStarts);for(const[$e,it]of Ve)if(it.length===Me.length){it.sort(k.Q.compareRangesUsingStarts);for(let He=0;He<it.length;He++)if(!it[He].containsRange(Me[He])){Ve.delete($e);continue}}else Ve.delete($e);return Ve.size>0}};ue=Se=function(we,Me,Ve,$e){var me,it=arguments.length,He=it<3?Me:null===$e?$e=Object.getOwnPropertyDescriptor(Me,Ve):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)He=Reflect.decorate(we,Me,Ve,$e);else for(var le=we.length-1;le>=0;le--)(me=we[le])&&(He=(it<3?me(He):it>3?me(Me,Ve,He):me(Me,Ve))||He);return it>3&&He&&Object.defineProperty(Me,Ve,He),He}([function(we,Me){return function(Ve,$e){Me(Ve,$e,3)}}(0,N.JZ)],ue)},6259:(tt,xe,t)=>{var a=t(47639),F=t(10467),w=t(81644);const x=Object.freeze({View:(0,w.aS)("view","View"),Help:(0,w.aS)("help","Help"),Test:(0,w.aS)("test","Test"),File:(0,w.aS)("file","File"),Preferences:(0,w.aS)("preferences","Preferences"),Developer:(0,w.aS)({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});var C=t(79134),S=t(35072),b=t(50168),P=t(69995),D=t(99031),v=t(15307),_=t(91874),f=t(87892),d=t(30833),r=t(81072),l=t(85072),g=t.n(l),p=t(97825),m=t.n(p),T=t(77659),A=t.n(T),k=t(55056),O=t.n(k),N=t(10540),H=t.n(N),L=t(41113),j=t.n(L),Z=t(17689),te={};te.styleTagTransform=j(),te.setAttributes=O(),te.insert=A().bind(null,"head"),te.domAPI=m(),te.insertStyleElement=H(),g()(Z.A,te);var q=t(5342),R=t(90908),W=t(13632),Y=t(10139),oe=t(86162),z=t(38993),G=t(86776);class Q{constructor(lt,Nt,tn,bn=null){this.startLineNumbers=lt,this.endLineNumbers=Nt,this.lastLineRelativePosition=tn,this.showEndForLine=bn}equals(lt){return!!lt&&this.lastLineRelativePosition===lt.lastLineRelativePosition&&this.showEndForLine===lt.showEndForLine&&(0,d.aI)(this.startLineNumbers,lt.startLineNumbers)&&(0,d.aI)(this.endLineNumbers,lt.endLineNumbers)}}const K=(0,f.H)("stickyScrollViewLayer",{createHTML:an=>an}),ie="data-sticky-line-index",ae="data-sticky-is-line",se="data-sticky-is-folding-icon";class ge extends D.jG{constructor(lt){super(),this._editor=lt,this._foldingIconStore=new D.Cm,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(67),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",lt instanceof R.t),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const Nt=()=>{this._linesDomNode.style.left=this._editor.getOption(115).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(tn=>{tn.hasChanged(115)&&Nt(),tn.hasChanged(67)&&(this._lineHeight=this._editor.getOption(67))})),this._register(this._editor.onDidScrollChange(tn=>{tn.scrollLeftChanged&&Nt(),tn.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{Nt(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),Nt(),this._register(this._editor.onDidLayoutChange(tn=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(lt){return this._renderedStickyLines.find(Nt=>Nt.lineNumber===lt)}getCurrentLines(){return this._lineNumbers}setState(lt,Nt,tn){if(void 0===tn&&(!this._previousState&&!lt||this._previousState&&this._previousState.equals(lt)))return;const bn=this._isWidgetHeightZero(lt),Bn=bn?void 0:lt,zn=bn?0:this._findLineToRebuildWidgetFrom(lt,tn);this._renderRootNode(Bn,Nt,zn),this._previousState=lt}_isWidgetHeightZero(lt){if(!lt)return!0;const Nt=lt.startLineNumbers.length*this._lineHeight+lt.lastLineRelativePosition;if(Nt>0){this._lastLineRelativePosition=lt.lastLineRelativePosition;const tn=[...lt.startLineNumbers];null!==lt.showEndForLine&&(tn[lt.showEndForLine]=lt.endLineNumbers[lt.showEndForLine]),this._lineNumbers=tn}else this._lastLineRelativePosition=0,this._lineNumbers=[];return 0===Nt}_findLineToRebuildWidgetFrom(lt,Nt){if(!lt||!this._previousState)return 0;if(void 0!==Nt)return Nt;const tn=this._previousState,bn=lt.startLineNumbers.findIndex(Bn=>!tn.startLineNumbers.includes(Bn));return-1===bn?0:bn}_updateWidgetWidth(){const lt=this._editor.getLayoutInfo();this._lineNumbersDomNode.style.width=`${lt.contentLeft}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",this._editor.getScrollWidth()-lt.verticalScrollbarWidth+"px"),this._rootDomNode.style.width=lt.width-lt.verticalScrollbarWidth+"px"}_clearStickyLinesFromLine(lt){this._foldingIconStore.clear();for(let Nt=lt;Nt<this._renderedStickyLines.length;Nt++){const tn=this._renderedStickyLines[Nt];tn.lineNumberDomNode.remove(),tn.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,lt),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(lt){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${lt?.5:0}s`)}_setFoldingIconsVisibility(lt){for(const Nt of this._renderedStickyLines){const tn=Nt.foldingIcon;tn&&tn.setVisible(!!lt||tn.isCollapsed)}}_renderRootNode(lt,Nt,tn){var bn=this;return(0,F.A)(function*(){if(bn._clearStickyLinesFromLine(tn),!lt)return;for(const ei of bn._renderedStickyLines)bn._updateTopAndZIndexOfStickyLine(ei);const Bn=bn._editor.getLayoutInfo(),zn=bn._lineNumbers.slice(tn);for(const[ei,wi]of zn.entries()){const hi=bn._renderChildNode(ei+tn,wi,Nt,Bn);hi&&(bn._linesDomNode.appendChild(hi.lineDomNode),bn._lineNumbersDomNode.appendChild(hi.lineNumberDomNode),bn._renderedStickyLines.push(hi))}Nt&&(bn._setFoldingHoverListeners(),bn._useFoldingOpacityTransition(!bn._isOnGlyphMargin));const Zn=bn._lineNumbers.length*bn._lineHeight+bn._lastLineRelativePosition;bn._rootDomNode.style.display="block",bn._lineNumbersDomNode.style.height=`${Zn}px`,bn._linesDomNodeScrollable.style.height=`${Zn}px`,bn._rootDomNode.style.height=`${Zn}px`,bn._rootDomNode.style.marginLeft="0px",bn._minContentWidthInPx=Math.max(...bn._renderedStickyLines.map(ei=>ei.scrollWidth))+Bn.verticalScrollbarWidth,bn._editor.layoutOverlayWidget(bn)})()}_setFoldingHoverListeners(){"mouseover"===this._editor.getOption(110)&&(this._foldingIconStore.add(_.ko(this._lineNumbersDomNode,_.Bx.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(_.ko(this._lineNumbersDomNode,_.Bx.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(lt,Nt,tn,bn){const Bn=this._editor._getViewModel();if(!Bn)return;const zn=Bn.coordinatesConverter.convertModelPositionToViewPosition(new W.y(Nt,1)).lineNumber,Zn=Bn.getViewLineRenderingData(zn),ei=this._editor.getOption(68);let wi;try{wi=oe.d.filter(Zn.inlineDecorations,zn,Zn.minColumn,Zn.maxColumn)}catch{wi=[]}const hi=new z.zL(!0,!0,Zn.content,Zn.continuesWithWrappedLine,Zn.isBasicASCII,Zn.containsRTL,0,Zn.tokens,wi,Zn.tabSize,Zn.startVisibleColumn,1,1,1,500,"none",!0,!0,null),yi=new Y.fe(2e3),Vi=(0,z.UW)(hi,yi);let Wi;Wi=K?K.createHTML(yi.build()):yi.build();const Pn=document.createElement("span");Pn.setAttribute(ie,String(lt)),Pn.setAttribute(ae,""),Pn.setAttribute("role","listitem"),Pn.tabIndex=0,Pn.className="sticky-line-content",Pn.classList.add(`stickyLine${Nt}`),Pn.style.lineHeight=`${this._lineHeight}px`,Pn.innerHTML=Wi;const pt=document.createElement("span");pt.setAttribute(ie,String(lt)),pt.setAttribute("data-sticky-is-line-number",""),pt.className="sticky-line-number",pt.style.lineHeight=`${this._lineHeight}px`,pt.style.width=`${bn.contentLeft}px`;const Tt=document.createElement("span");1===ei.renderType||3===ei.renderType&&Nt%10==0?Tt.innerText=Nt.toString():2===ei.renderType&&(Tt.innerText=Math.abs(Nt-this._editor.getPosition().lineNumber).toString()),Tt.className="sticky-line-number-inner",Tt.style.lineHeight=`${this._lineHeight}px`,Tt.style.width=`${bn.lineNumbersWidth}px`,Tt.style.paddingLeft=`${bn.lineNumbersLeft}px`,pt.appendChild(Tt);const ut=this._renderFoldingIconForLine(tn,Nt);ut&&pt.appendChild(ut.domNode),this._editor.applyFontInfo(Pn),this._editor.applyFontInfo(Tt),pt.style.lineHeight=`${this._lineHeight}px`,Pn.style.lineHeight=`${this._lineHeight}px`,pt.style.height=`${this._lineHeight}px`,Pn.style.height=`${this._lineHeight}px`;const Ct=new _e(lt,Nt,Pn,pt,ut,Vi.characterMapping,Pn.scrollWidth);return this._updateTopAndZIndexOfStickyLine(Ct)}_updateTopAndZIndexOfStickyLine(lt){var Nt;const tn=lt.index,bn=lt.lineDomNode,Bn=lt.lineNumberDomNode,zn=tn===this._lineNumbers.length-1;bn.style.zIndex=zn?"0":"1",Bn.style.zIndex=zn?"0":"1";const wi=`${tn*this._lineHeight+this._lastLineRelativePosition+(null!==(Nt=lt.foldingIcon)&&void 0!==Nt&&Nt.isCollapsed?1:0)}px`,hi=tn*this._lineHeight+"px";return bn.style.top=zn?wi:hi,Bn.style.top=zn?wi:hi,lt}_renderFoldingIconForLine(lt,Nt){const tn=this._editor.getOption(110);if(!lt||"never"===tn)return;const bn=lt.regions,Bn=bn.findRange(Nt),zn=bn.getStartLineNumber(Bn);if(Nt!==zn)return;const ei=bn.isCollapsed(Bn),wi=new ye(ei,zn,bn.getEndLineNumber(Bn),this._lineHeight);return wi.setVisible(!!this._isOnGlyphMargin||ei||"always"===tn),wi.domNode.setAttribute(se,""),wi}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:2,stackOridinal:10}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(lt){0<=lt&&lt<this._renderedStickyLines.length&&this._renderedStickyLines[lt].lineDomNode.focus()}getEditorPositionFromNode(lt){if(!lt||lt.children.length>0)return null;const Nt=this._getRenderedStickyLineFromChildDomNode(lt);if(!Nt)return null;const tn=(0,q.rk)(Nt.characterMapping,lt,0);return new W.y(Nt.lineNumber,tn)}getLineNumberFromChildDomNode(lt){var Nt,tn;return null!==(tn=null===(Nt=this._getRenderedStickyLineFromChildDomNode(lt))||void 0===Nt?void 0:Nt.lineNumber)&&void 0!==tn?tn:null}_getRenderedStickyLineFromChildDomNode(lt){const Nt=this.getLineIndexFromChildDomNode(lt);return null===Nt||Nt<0||Nt>=this._renderedStickyLines.length?null:this._renderedStickyLines[Nt]}getLineIndexFromChildDomNode(lt){const Nt=this._getAttributeValue(lt,ie);return Nt?parseInt(Nt,10):null}isInStickyLine(lt){return void 0!==this._getAttributeValue(lt,ae)}isInFoldingIconDomNode(lt){return void 0!==this._getAttributeValue(lt,se)}_getAttributeValue(lt,Nt){for(;lt&&lt!==this._rootDomNode;){const tn=lt.getAttribute(Nt);if(null!==tn)return tn;lt=lt.parentElement}}}class _e{constructor(lt,Nt,tn,bn,Bn,zn,Zn){this.index=lt,this.lineNumber=Nt,this.lineDomNode=tn,this.lineNumberDomNode=bn,this.foldingIcon=Bn,this.characterMapping=zn,this.scrollWidth=Zn}}class ye{constructor(lt,Nt,tn,bn){this.isCollapsed=lt,this.foldingStartLine=Nt,this.foldingEndLine=tn,this.dimension=bn,this.domNode=document.createElement("div"),this.domNode.style.width=`${bn}px`,this.domNode.style.height=`${bn}px`,this.domNode.className=r.L.asClassName(lt?G.k0:G.E0)}setVisible(lt){this.domNode.style.cursor=lt?"pointer":"default",this.domNode.style.opacity=lt?"1":"0"}}var M=t(21468),ce=t(86671),Se=t(5643),Ie=t(70416),ne=t(51250),ue=t(62170),we=t(43159),Me=t(84652),Ve=t(25680);class $e{constructor(lt,Nt){this.startLineNumber=lt,this.endLineNumber=Nt}}class it{constructor(lt,Nt,tn){this.range=lt,this.children=Nt,this.parent=tn}}class He{constructor(lt,Nt,tn,bn){this.uri=lt,this.version=Nt,this.element=tn,this.outlineProviderId=bn}}var me=t(28481),le=t(598),Ee=function(an,lt,Nt,tn){var zn,bn=arguments.length,Bn=bn<3?lt:null===tn?tn=Object.getOwnPropertyDescriptor(lt,Nt):tn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Bn=Reflect.decorate(an,lt,Nt,tn);else for(var Zn=an.length-1;Zn>=0;Zn--)(zn=an[Zn])&&(Bn=(bn<3?zn(Bn):bn>3?zn(lt,Nt,Bn):zn(lt,Nt))||Bn);return bn>3&&Bn&&Object.defineProperty(lt,Nt,Bn),Bn},be=function(an,lt){return function(Nt,tn){lt(Nt,tn,an)}},Ce=function(an){return an.OUTLINE_MODEL="outlineModel",an.FOLDING_PROVIDER_MODEL="foldingProviderModel",an.INDENTATION_MODEL="indentationModel",an}(Ce||{}),Ne=function(an){return an[an.VALID=0]="VALID",an[an.INVALID=1]="INVALID",an[an.CANCELED=2]="CANCELED",an}(Ne||{});let Fe=class extends D.jG{constructor(lt,Nt,tn,bn){switch(super(),this._editor=lt,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new ce.ve(300)),this._updateOperation=this._register(new D.Cm),this._editor.getOption(115).defaultModel){case Ce.OUTLINE_MODEL:this._modelProviders.push(new dt(this._editor,bn));case Ce.FOLDING_PROVIDER_MODEL:this._modelProviders.push(new on(this._editor,Nt,bn));case Ce.INDENTATION_MODEL:this._modelProviders.push(new fn(this._editor,tn))}}dispose(){this._modelProviders.forEach(lt=>lt.dispose()),this._updateOperation.clear(),this._cancelModelPromise(),super.dispose()}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(lt){var Nt=this;return(0,F.A)(function*(){return Nt._updateOperation.clear(),Nt._updateOperation.add({dispose:()=>{Nt._cancelModelPromise(),Nt._updateScheduler.cancel()}}),Nt._cancelModelPromise(),yield Nt._updateScheduler.trigger((0,F.A)(function*(){for(const tn of Nt._modelProviders){const{statusPromise:bn,modelPromise:Bn}=tn.computeStickyModel(lt);Nt._modelPromise=Bn;const zn=yield bn;if(Nt._modelPromise!==Bn)return null;switch(zn){case Ne.CANCELED:return Nt._updateOperation.clear(),null;case Ne.VALID:return tn.stickyModel}}return null})).catch(tn=>((0,Ve.dz)(tn),null))})()}};Fe=Ee([be(2,le._Y),be(3,v.u)],Fe);class qe extends D.jG{constructor(lt){super(),this._editor=lt,this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,Ne.INVALID}computeStickyModel(lt){if(lt.isCancellationRequested||!this.isProviderValid())return{statusPromise:this._invalid(),modelPromise:null};const Nt=(0,ce.SS)(tn=>this.createModelFromProvider(tn));return{statusPromise:Nt.then(tn=>this.isModelValid(tn)?lt.isCancellationRequested?Ne.CANCELED:(this._stickyModel=this.createStickyModel(lt,tn),Ne.VALID):this._invalid()).then(void 0,tn=>((0,Ve.dz)(tn),Ne.CANCELED)),modelPromise:Nt}}isModelValid(lt){return!0}isProviderValid(){return!0}}let dt=class extends qe{constructor(lt,Nt){super(lt),this._languageFeaturesService=Nt}createModelFromProvider(lt){return ne.i9.create(this._languageFeaturesService.documentSymbolProvider,this._editor.getModel(),lt)}createStickyModel(lt,Nt){var tn;const{stickyOutlineElement:bn,providerID:Bn}=this._stickyModelFromOutlineModel(Nt,null===(tn=this._stickyModel)||void 0===tn?void 0:tn.outlineProviderId),zn=this._editor.getModel();return new He(zn.uri,zn.getVersionId(),bn,Bn)}isModelValid(lt){return lt&&lt.children.size>0}_stickyModelFromOutlineModel(lt,Nt){let tn;if(me.f.first(lt.children.values())instanceof ne.e0){const Zn=me.f.find(lt.children.values(),ei=>ei.id===Nt);if(Zn)tn=Zn.children;else{let hi,ei="",wi=-1;for(const[yi,Vi]of lt.children.entries()){const Wi=this._findSumOfRangesOfGroup(Vi);Wi>wi&&(hi=Vi,wi=Wi,ei=Vi.id)}Nt=ei,tn=hi.children}}else tn=lt.children;const bn=[],Bn=Array.from(tn.values()).sort((Zn,ei)=>{const wi=new $e(Zn.symbol.range.startLineNumber,Zn.symbol.range.endLineNumber),hi=new $e(ei.symbol.range.startLineNumber,ei.symbol.range.endLineNumber);return this._comparator(wi,hi)});for(const Zn of Bn)bn.push(this._stickyModelFromOutlineElement(Zn,Zn.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new it(void 0,bn,void 0),providerID:Nt}}_stickyModelFromOutlineElement(lt,Nt){const tn=[];for(const Bn of lt.children.values())if(Bn.symbol.selectionRange.startLineNumber!==Bn.symbol.range.endLineNumber)if(Bn.symbol.selectionRange.startLineNumber!==Nt)tn.push(this._stickyModelFromOutlineElement(Bn,Bn.symbol.selectionRange.startLineNumber));else for(const zn of Bn.children.values())tn.push(this._stickyModelFromOutlineElement(zn,Bn.symbol.selectionRange.startLineNumber));tn.sort((Bn,zn)=>this._comparator(Bn.range,zn.range));const bn=new $e(lt.symbol.selectionRange.startLineNumber,lt.symbol.range.endLineNumber);return new it(bn,tn,void 0)}_comparator(lt,Nt){return lt.startLineNumber!==Nt.startLineNumber?lt.startLineNumber-Nt.startLineNumber:Nt.endLineNumber-lt.endLineNumber}_findSumOfRangesOfGroup(lt){let Nt=0;for(const tn of lt.children.values())Nt+=this._findSumOfRangesOfGroup(tn);return lt instanceof ne.LC?Nt+lt.symbol.range.endLineNumber-lt.symbol.selectionRange.startLineNumber:Nt}};dt=Ee([be(1,v.u)],dt);class vt extends qe{constructor(lt){super(lt),this._foldingLimitReporter=new ue.B(lt)}createStickyModel(lt,Nt){const tn=this._fromFoldingRegions(Nt),bn=this._editor.getModel();return new He(bn.uri,bn.getVersionId(),tn,void 0)}isModelValid(lt){return null!==lt}_fromFoldingRegions(lt){const Nt=lt.length,tn=[],bn=new it(void 0,[],void 0);for(let Bn=0;Bn<Nt;Bn++){const zn=lt.getParentIndex(Bn);let Zn;Zn=-1!==zn?tn[zn]:bn;const ei=new it(new $e(lt.getStartLineNumber(Bn),lt.getEndLineNumber(Bn)+1),[],Zn);Zn.children.push(ei),tn.push(ei)}return bn}}let fn=class extends vt{constructor(lt,Nt){super(lt),this._languageConfigurationService=Nt,this.provider=this._register(new Me.hW(lt.getModel(),this._languageConfigurationService,this._foldingLimitReporter))}createModelFromProvider(lt){var Nt=this;return(0,F.A)(function*(){return Nt.provider.compute(lt)})()}};fn=Ee([be(1,Ie.JZ)],fn);let on=class extends vt{constructor(lt,Nt,tn){super(lt),this._languageFeaturesService=tn;const bn=ue.W.getFoldingRangeProviders(this._languageFeaturesService,lt.getModel());bn.length>0&&(this.provider=this._register(new we.M(lt.getModel(),bn,Nt,this._foldingLimitReporter,void 0)))}isProviderValid(){return void 0!==this.provider}createModelFromProvider(lt){var Nt=this;return(0,F.A)(function*(){var tn,bn;return null!==(bn=null===(tn=Nt.provider)||void 0===tn?void 0:tn.compute(lt))&&void 0!==bn?bn:null})()}};on=Ee([be(2,v.u)],on);var Je=function(an,lt){return function(Nt,tn){lt(Nt,tn,an)}};class ot{constructor(lt,Nt,tn){this.startLineNumber=lt,this.endLineNumber=Nt,this.nestingDepth=tn}}let De=class extends D.jG{constructor(lt,Nt,tn){super(),this._languageFeaturesService=Nt,this._languageConfigurationService=tn,this._onDidChangeStickyScroll=this._register(new Se.vl),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=lt,this._sessionStore=this._register(new D.Cm),this._updateSoon=this._register(new ce.uC(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(bn=>{bn.hasChanged(115)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._sessionStore.clear(),this._editor.getOption(115).enabled&&(this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this.updateStickyModelProvider(),this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this._sessionStore.add((0,D.s)(()=>{var Nt;null===(Nt=this._stickyModelProvider)||void 0===Nt||Nt.dispose(),this._stickyModelProvider=null})),this.updateStickyModelProvider(),this.update())}getVersionId(){var lt;return null===(lt=this._model)||void 0===lt?void 0:lt.version}updateStickyModelProvider(){var lt;null===(lt=this._stickyModelProvider)||void 0===lt||lt.dispose(),this._stickyModelProvider=null;const Nt=this._editor;Nt.hasModel()&&(this._stickyModelProvider=new Fe(Nt,()=>this._updateSoon.schedule(),this._languageConfigurationService,this._languageFeaturesService))}update(){var lt=this;return(0,F.A)(function*(){var Nt;null===(Nt=lt._cts)||void 0===Nt||Nt.dispose(!0),lt._cts=new M.Qi,yield lt.updateStickyModel(lt._cts.token),lt._onDidChangeStickyScroll.fire()})()}updateStickyModel(lt){var Nt=this;return(0,F.A)(function*(){if(!Nt._editor.hasModel()||!Nt._stickyModelProvider||Nt._editor.getModel().isTooLargeForTokenization())return void(Nt._model=null);const tn=yield Nt._stickyModelProvider.update(lt);lt.isCancellationRequested||(Nt._model=tn)})()}updateIndex(lt){return-1===lt?lt=0:lt<0&&(lt=-lt-2),lt}getCandidateStickyLinesIntersectingFromStickyModel(lt,Nt,tn,bn,Bn){if(0===Nt.children.length)return;let zn=Bn;const Zn=[];for(let hi=0;hi<Nt.children.length;hi++){const yi=Nt.children[hi];yi.range&&Zn.push(yi.range.startLineNumber)}const ei=this.updateIndex((0,d.El)(Zn,lt.startLineNumber,(hi,yi)=>hi-yi)),wi=this.updateIndex((0,d.El)(Zn,lt.startLineNumber+bn,(hi,yi)=>hi-yi));for(let hi=ei;hi<=wi;hi++){const yi=Nt.children[hi];if(!yi)return;if(yi.range){const Vi=yi.range.startLineNumber,Wi=yi.range.endLineNumber;lt.startLineNumber<=Wi+1&&Vi-1<=lt.endLineNumber&&Vi!==zn&&(zn=Vi,tn.push(new ot(Vi,Wi-1,bn+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(lt,yi,tn,bn+1,Vi))}else this.getCandidateStickyLinesIntersectingFromStickyModel(lt,yi,tn,bn,Bn)}}getCandidateStickyLinesIntersecting(lt){var Nt,tn;if(null===(Nt=this._model)||void 0===Nt||!Nt.element)return[];let bn=[];this.getCandidateStickyLinesIntersectingFromStickyModel(lt,this._model.element,bn,0,-1);const Bn=null===(tn=this._editor._getViewModel())||void 0===tn?void 0:tn.getHiddenAreas();if(Bn)for(const zn of Bn)bn=bn.filter(Zn=>!(Zn.startLineNumber>=zn.startLineNumber&&Zn.endLineNumber<=zn.endLineNumber+1));return bn}};De=function(an,lt,Nt,tn){var zn,bn=arguments.length,Bn=bn<3?lt:null===tn?tn=Object.getOwnPropertyDescriptor(lt,Nt):tn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Bn=Reflect.decorate(an,lt,Nt,tn);else for(var Zn=an.length-1;Zn>=0;Zn--)(zn=an[Zn])&&(Bn=(bn<3?zn(Bn):bn>3?zn(lt,Nt,Bn):zn(lt,Nt))||Bn);return bn>3&&Bn&&Object.defineProperty(lt,Nt,Bn),Bn}([Je(1,v.u),Je(2,Ie.JZ)],De);var Ze,Qe=t(71887),mt=t(31006),kt=t(73678),Ht=t(66801),Ft=t(6617),Bt=t(67539),rt=t(18163),Ut=t(1970),ke=function(an,lt){return function(Nt,tn){lt(Nt,tn,an)}};let Ye=Ze=class extends D.jG{constructor(lt,Nt,tn,bn,Bn,zn,Zn){var ei;super(),ei=this,this._editor=lt,this._contextMenuService=Nt,this._languageFeaturesService=tn,this._instaService=bn,this._contextKeyService=Zn,this._sessionStore=new D.Cm,this._foldingModel=null,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new ge(this._editor),this._stickyLineCandidateProvider=new De(this._editor,tn,Bn),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new Q([],[],0),this._onDidResize(),this._readConfiguration();const wi=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(yi=>{this._readConfigurationChange(yi)})),this._register(_.ko(wi,_.Bx.CONTEXT_MENU,function(){var yi=(0,F.A)(function*(Vi){ei._onContextMenu(_.zk(wi),Vi)});return function(Vi){return yi.apply(this,arguments)}}())),this._stickyScrollFocusedContextKey=P.R.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=P.R.stickyScrollVisible.bindTo(this._contextKeyService);const hi=this._register(_.w5(wi));this._register(hi.onDidBlur(yi=>{!1===this._positionRevealed&&0===wi.clientHeight?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(hi.onDidFocus(yi=>{this.focus()})),this._registerMouseListeners(),this._register(_.ko(wi,_.Bx.MOUSE_DOWN,yi=>{this._onMouseDown=!0}))}static get(lt){return lt.getContribution(Ze.ID)}_disposeFocusStickyScrollStore(){var lt;this._stickyScrollFocusedContextKey.set(!1),null===(lt=this._focusDisposableStore)||void 0===lt||lt.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown)return this._onMouseDown=!1,void this._editor.focus();!0!==this._stickyScrollFocusedContextKey.get()&&(this._focused=!0,this._focusDisposableStore=new D.Cm,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(lt){this._focusedStickyElementIndex=lt?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const lt=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:lt[this._focusedStickyElementIndex],column:1})}_revealPosition(lt){this._reveaInEditor(lt,()=>this._editor.revealPosition(lt))}_revealLineInCenterIfOutsideViewport(lt){this._reveaInEditor(lt,()=>this._editor.revealLineInCenterIfOutsideViewport(lt.lineNumber,0))}_reveaInEditor(lt,Nt){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,Nt(),this._editor.setSelection(kt.Q.fromPositions(lt)),this._editor.focus()}_registerMouseListeners(){var lt=this;const Nt=this._register(new D.Cm),tn=this._register(new mt.gi(this._editor,{extractLineNumberFromMouseEvent:zn=>{const Zn=this._stickyScrollWidget.getEditorPositionFromNode(zn.target.element);return Zn?Zn.lineNumber:0}})),bn=zn=>{if(!this._editor.hasModel()||12!==zn.target.type||zn.target.detail!==this._stickyScrollWidget.getId())return null;const Zn=zn.target.element;if(!Zn||Zn.innerText!==Zn.innerHTML)return null;const ei=this._stickyScrollWidget.getEditorPositionFromNode(Zn);return ei?{range:new kt.Q(ei.lineNumber,ei.column,ei.lineNumber,ei.column+Zn.innerText.length),textElement:Zn}:null},Bn=this._stickyScrollWidget.getDomNode();this._register(_.b2(Bn,_.Bx.CLICK,zn=>{if(zn.ctrlKey||zn.altKey||zn.metaKey||!zn.leftButton)return;if(zn.shiftKey){const hi=this._stickyScrollWidget.getLineIndexFromChildDomNode(zn.target);if(null===hi)return;const yi=new W.y(this._endLineNumbers[hi],1);return void this._revealLineInCenterIfOutsideViewport(yi)}if(this._stickyScrollWidget.isInFoldingIconDomNode(zn.target)){const hi=this._stickyScrollWidget.getLineNumberFromChildDomNode(zn.target);return void this._toggleFoldingRegionForLine(hi)}if(!this._stickyScrollWidget.isInStickyLine(zn.target))return;let wi=this._stickyScrollWidget.getEditorPositionFromNode(zn.target);if(!wi){const hi=this._stickyScrollWidget.getLineNumberFromChildDomNode(zn.target);if(null===hi)return;wi=new W.y(hi,1)}this._revealPosition(wi)})),this._register(_.b2(Bn,_.Bx.MOUSE_MOVE,zn=>{if(zn.shiftKey){const Zn=this._stickyScrollWidget.getLineIndexFromChildDomNode(zn.target);if(null===Zn||null!==this._showEndForLine&&this._showEndForLine===Zn)return;return this._showEndForLine=Zn,void this._renderStickyScroll()}null!==this._showEndForLine&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(_.ko(Bn,_.Bx.MOUSE_LEAVE,zn=>{null!==this._showEndForLine&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(tn.onMouseMoveOrRelevantKeyDown(([zn,Zn])=>{const ei=bn(zn);if(!ei||!zn.hasTriggerModifier||!this._editor.hasModel())return void Nt.clear();const{range:wi,textElement:hi}=ei;if(wi.equalsRange(this._stickyRangeProjectedOnEditor)){if("underline"===hi.style.textDecoration)return}else this._stickyRangeProjectedOnEditor=wi,Nt.clear();const yi=new M.Qi;let Vi;Nt.add((0,D.s)(()=>yi.dispose(!0))),(0,Ht.hE)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new W.y(wi.startLineNumber,wi.startColumn+1),yi.token).then(Wi=>{if(!yi.token.isCancellationRequested)if(0!==Wi.length){this._candidateDefinitionsLength=Wi.length;const Pn=hi;Vi!==Pn?(Nt.clear(),Vi=Pn,Vi.style.textDecoration="underline",Nt.add((0,D.s)(()=>{Vi.style.textDecoration="none"}))):Vi||(Vi=Pn,Vi.style.textDecoration="underline",Nt.add((0,D.s)(()=>{Vi.style.textDecoration="none"})))}else Nt.clear()})})),this._register(tn.onCancel(()=>{Nt.clear()})),this._register(tn.onExecute(function(){var zn=(0,F.A)(function*(Zn){if(12!==Zn.target.type||Zn.target.detail!==lt._stickyScrollWidget.getId())return;const ei=lt._stickyScrollWidget.getEditorPositionFromNode(Zn.target.element);ei&&(!lt._editor.hasModel()||!lt._stickyRangeProjectedOnEditor||(lt._candidateDefinitionsLength>1&&(lt._focused&&lt._disposeFocusStickyScrollStore(),lt._revealPosition({lineNumber:ei.lineNumber,column:1})),lt._instaService.invokeFunction(Ft.U,Zn,lt._editor,{uri:lt._editor.getModel().uri,range:lt._stickyRangeProjectedOnEditor})))});return function(Zn){return zn.apply(this,arguments)}}()))}_onContextMenu(lt,Nt){const tn=new rt.P(lt,Nt);this._contextMenuService.showContextMenu({menuId:C.D8.StickyScrollContext,getAnchor:()=>tn})}_toggleFoldingRegionForLine(lt){if(!this._foldingModel||null===lt)return;const Nt=this._stickyScrollWidget.getRenderedStickyLine(lt),tn=Nt?.foldingIcon;if(!tn)return;(0,Ut.bC)(this._foldingModel,Number.MAX_VALUE,[lt]),tn.isCollapsed=!tn.isCollapsed;const bn=this._editor.getTopForLineNumber(tn.isCollapsed?tn.foldingEndLine:tn.foldingStartLine)-this._editor.getOption(67)*Nt.index+1;this._editor.setScrollTop(bn),this._renderStickyScroll(lt)}_readConfiguration(){const lt=this._editor.getOption(115);if(!1===lt.enabled)return this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),void(this._enabled=!1);lt.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(tn=>{tn.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(tn=>this._onTokensChange(tn))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0),2===this._editor.getOption(68).renderType&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll(0)}))}_readConfigurationChange(lt){(lt.hasChanged(115)||lt.hasChanged(73)||lt.hasChanged(67)||lt.hasChanged(110)||lt.hasChanged(68))&&this._readConfiguration(),lt.hasChanged(68)&&this._renderStickyScroll(0)}_needsUpdate(lt){const Nt=this._stickyScrollWidget.getCurrentLines();for(const tn of Nt)for(const bn of lt.ranges)if(tn>=bn.fromLineNumber&&tn<=bn.toLineNumber)return!0;return!1}_onTokensChange(lt){this._needsUpdate(lt)&&this._renderStickyScroll(0)}_onDidResize(){const Nt=this._editor.getLayoutInfo().height/this._editor.getOption(67);this._maxStickyLines=Math.round(.25*Nt)}_renderStickyScroll(lt){var Nt=this;return(0,F.A)(function*(){var tn,bn;const Bn=Nt._editor.getModel();if(!Bn||Bn.isTooLargeForTokenization())return Nt._foldingModel=null,void Nt._stickyScrollWidget.setState(void 0,null);const zn=Nt._stickyLineCandidateProvider.getVersionId();if(void 0===zn||zn===Bn.getVersionId())if(Nt._foldingModel=null!==(bn=yield null===(tn=ue.W.get(Nt._editor))||void 0===tn?void 0:tn.getFoldingModel())&&void 0!==bn?bn:null,Nt._widgetState=Nt.findScrollWidgetState(),Nt._stickyScrollVisibleContextKey.set(0!==Nt._widgetState.startLineNumbers.length),Nt._focused)if(-1===Nt._focusedStickyElementIndex)Nt._stickyScrollWidget.setState(Nt._widgetState,Nt._foldingModel,lt),Nt._focusedStickyElementIndex=Nt._stickyScrollWidget.lineNumberCount-1,-1!==Nt._focusedStickyElementIndex&&Nt._stickyScrollWidget.focusLineWithIndex(Nt._focusedStickyElementIndex);else{const Zn=Nt._stickyScrollWidget.lineNumbers[Nt._focusedStickyElementIndex];Nt._stickyScrollWidget.setState(Nt._widgetState,Nt._foldingModel,lt),0===Nt._stickyScrollWidget.lineNumberCount?Nt._focusedStickyElementIndex=-1:(Nt._stickyScrollWidget.lineNumbers.includes(Zn)||(Nt._focusedStickyElementIndex=Nt._stickyScrollWidget.lineNumberCount-1),Nt._stickyScrollWidget.focusLineWithIndex(Nt._focusedStickyElementIndex))}else Nt._stickyScrollWidget.setState(Nt._widgetState,Nt._foldingModel,lt)})()}findScrollWidgetState(){const lt=this._editor.getOption(67),Nt=Math.min(this._maxStickyLines,this._editor.getOption(115).maxLineCount),tn=this._editor.getScrollTop();let bn=0;const Bn=[],zn=[],Zn=this._editor.getVisibleRanges();if(0!==Zn.length){const ei=new $e(Zn[0].startLineNumber,Zn[Zn.length-1].endLineNumber),wi=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(ei);for(const hi of wi){const yi=hi.startLineNumber,Vi=hi.endLineNumber,Wi=hi.nestingDepth;if(Vi-yi>0){const Pn=(Wi-1)*lt,pt=Wi*lt,ct=this._editor.getBottomForLineNumber(yi)-tn,Tt=this._editor.getTopForLineNumber(Vi)-tn,ut=this._editor.getBottomForLineNumber(Vi)-tn;if(Pn>Tt&&Pn<=ut){Bn.push(yi),zn.push(Vi+1),bn=ut-pt;break}if(pt>ct&&pt<=ut&&(Bn.push(yi),zn.push(Vi+1)),Bn.length===Nt)break}}}return this._endLineNumbers=zn,new Q(Bn,zn,bn,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};Ye.ID="store.contrib.stickyScrollController",Ye=Ze=function(an,lt,Nt,tn){var zn,bn=arguments.length,Bn=bn<3?lt:null===tn?tn=Object.getOwnPropertyDescriptor(lt,Nt):tn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Bn=Reflect.decorate(an,lt,Nt,tn);else for(var Zn=an.length-1;Zn>=0;Zn--)(zn=an[Zn])&&(Bn=(bn<3?zn(Bn):bn>3?zn(lt,Nt,Bn):zn(lt,Nt))||Bn);return bn>3&&Bn&&Object.defineProperty(lt,Nt,Bn),Bn}([ke(1,Qe.Z),ke(2,v.u),ke(3,le._Y),ke(4,Ie.JZ),ke(5,Bt.U),ke(6,b.fN)],Ye),(0,a.HW)(Ye.ID,Ye,1),(0,C.ug)(class st extends C.L{constructor(){super({id:"editor.action.toggleStickyScroll",title:{...(0,w.aS)("toggleEditorStickyScroll","Toggle Editor Sticky Scroll"),mnemonicTitle:(0,w.kg)({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Editor Sticky Scroll")},metadata:{description:(0,w.aS)("toggleEditorStickyScroll.description","Toggle/enable the editor sticky scroll which shows the nested scopes at the top of the viewport")},category:x.View,toggled:{condition:b.M$.equals("config.editor.stickyScroll.enabled",!0),title:(0,w.kg)("stickyScroll","Sticky Scroll"),mnemonicTitle:(0,w.kg)({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:C.D8.CommandPalette},{id:C.D8.MenubarAppearanceMenu,group:"4_editor",order:3},{id:C.D8.StickyScrollContext}]})}run(lt){return(0,F.A)(function*(){const Nt=lt.get(S.pG),tn=!Nt.getValue("editor.stickyScroll.enabled");return Nt.updateValue("editor.stickyScroll.enabled",tn)})()}}),(0,C.ug)(class ft extends a.qO{constructor(){super({id:"editor.action.focusStickyScroll",title:{...(0,w.aS)("focusStickyScroll","Focus on the editor sticky scroll"),mnemonicTitle:(0,w.kg)({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll")},precondition:b.M$.and(b.M$.has("config.editor.stickyScroll.enabled"),P.R.stickyScrollVisible),menu:[{id:C.D8.CommandPalette}]})}runEditorCommand(lt,Nt){var tn;null===(tn=Ye.get(Nt))||void 0===tn||tn.focus()}}),(0,C.ug)(class qt extends a.qO{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:(0,w.aS)("selectPreviousStickyScrollLine.title","Select the previous sticky scroll line"),precondition:P.R.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:100,primary:16}})}runEditorCommand(lt,Nt){var tn;null===(tn=Ye.get(Nt))||void 0===tn||tn.focusPrevious()}}),(0,C.ug)(class wt extends a.qO{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:(0,w.aS)("selectNextStickyScrollLine.title","Select the next editor sticky scroll line"),precondition:P.R.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:100,primary:18}})}runEditorCommand(lt,Nt){var tn;null===(tn=Ye.get(Nt))||void 0===tn||tn.focusNext()}}),(0,C.ug)(class Yt extends a.qO{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:(0,w.aS)("goToFocusedStickyScrollLine.title","Go to the focused sticky scroll line"),precondition:P.R.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:100,primary:3}})}runEditorCommand(lt,Nt){var tn;null===(tn=Ye.get(Nt))||void 0===tn||tn.goToFocused()}}),(0,C.ug)(class en extends a.qO{constructor(){super({id:"editor.action.selectEditor",title:(0,w.aS)("selectEditor.title","Select Editor"),precondition:P.R.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:100,primary:9}})}runEditorCommand(lt,Nt){var tn;null===(tn=Ye.get(Nt))||void 0===tn||tn.selectEditor()}})},27398:(tt,xe,t)=>{t.d(xe,{C:()=>C,O:()=>x});var a=t(30833),F=t(28467),w=t(6653);class x{constructor(b,P){this.leadingLineContent=b,this.characterCountDelta=P}}class C{constructor(b,P,D,v,_,f,d=F.Nd.default,r=void 0){this.clipboardText=r,this._snippetCompareFn=C._compareCompletionItems,this._items=b,this._column=P,this._wordDistance=v,this._options=_,this._refilterKind=1,this._lineContext=D,this._fuzzyScoreOptions=d,"top"===f?this._snippetCompareFn=C._compareCompletionItemsSnippetsUp:"bottom"===f&&(this._snippetCompareFn=C._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(b){(this._lineContext.leadingLineContent!==b.leadingLineContent||this._lineContext.characterCountDelta!==b.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<b.characterCountDelta&&this._filteredItems?2:1,this._lineContext=b)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const b=new Set;for(const[P,D]of this.getItemsByProvider())D.length>0&&D[0].container.incomplete&&b.add(P);return b}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const b=[],{leadingLineContent:P,characterCountDelta:D}=this._lineContext;let v="",_="";const f=1===this._refilterKind?this._items:this._filteredItems,d=[],r=!this._options.filterGraceful||f.length>2e3?F.dt:F.uU;for(let l=0;l<f.length;l++){const g=f[l];if(g.isInvalid)continue;const p=this._itemsByProvider.get(g.provider);p?p.push(g):this._itemsByProvider.set(g.provider,[g]);const m=g.position.column-g.editStart.column,T=m+D-(g.position.column-this._column);if(v.length!==T&&(v=0===T?"":P.slice(-T),_=v.toLowerCase()),g.word=v,0===T)g.score=F.ne.Default;else{let A=0;for(;A<m;){const k=v.charCodeAt(A);if(32!==k&&9!==k)break;A+=1}if(A>=T)g.score=F.ne.Default;else if("string"==typeof g.completion.filterText){const k=r(v,_,A,g.completion.filterText,g.filterTextLow,0,this._fuzzyScoreOptions);if(!k)continue;0===(0,w.W1)(g.completion.filterText,g.textLabel)?g.score=k:(g.score=(0,F.Jo)(v,_,A,g.textLabel,g.labelLow,0),g.score[0]=k[0])}else{const k=r(v,_,A,g.textLabel,g.labelLow,0,this._fuzzyScoreOptions);if(!k)continue;g.score=k}}g.idx=l,g.distance=this._wordDistance.distance(g.position,g.completion),d.push(g),b.push(g.textLabel.length)}this._filteredItems=d.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:b.length?(0,a.SO)(b.length-.85,b,(l,g)=>l-g):0}}static _compareCompletionItems(b,P){return b.score[0]>P.score[0]?-1:b.score[0]<P.score[0]?1:b.distance<P.distance?-1:b.distance>P.distance?1:b.idx<P.idx?-1:b.idx>P.idx?1:0}static _compareCompletionItemsSnippetsDown(b,P){if(b.completion.kind!==P.completion.kind){if(27===b.completion.kind)return 1;if(27===P.completion.kind)return-1}return C._compareCompletionItems(b,P)}static _compareCompletionItemsSnippetsUp(b,P){if(b.completion.kind!==P.completion.kind){if(27===b.completion.kind)return-1;if(27===P.completion.kind)return 1}return C._compareCompletionItems(b,P)}}},84031:(tt,xe,t)=>{t.d(xe,{aR:()=>j,dt:()=>A,f3:()=>H,l1:()=>O,ob:()=>T,p3:()=>W,r3:()=>Y});var a=t(10467),F=t(21468),w=t(25680),x=t(28467),C=t(99031),S=t(42588),b=t(66702),P=t(32417),D=t(13632),v=t(73678),_=t(35425),f=t(7716),d=t(81644),r=t(79134),l=t(51126),g=t(50168),p=t(15307);const T={Visible:t(18342).dg,HasFocusedSuggestion:new g.N1("suggestWidgetHasFocusedSuggestion",!1,(0,d.kg)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new g.N1("suggestWidgetDetailsVisible",!1,(0,d.kg)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new g.N1("suggestWidgetMultipleSuggestions",!1,(0,d.kg)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new g.N1("suggestionMakesTextEdit",!0,(0,d.kg)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new g.N1("acceptSuggestionOnEnter",!0,(0,d.kg)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new g.N1("suggestionHasInsertAndReplaceRange",!1,(0,d.kg)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new g.N1("suggestionInsertMode",void 0,{type:"string",description:(0,d.kg)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new g.N1("suggestionCanResolve",!1,(0,d.kg)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},A=new r.D8("suggestWidgetStatusBar");class k{constructor(z,G,Q,K){var ie;this.position=z,this.completion=G,this.container=Q,this.provider=K,this.isInvalid=!1,this.score=x.ne.Default,this.distance=0,this.textLabel="string"==typeof G.label?G.label:null===(ie=G.label)||void 0===ie?void 0:ie.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=G.sortText&&G.sortText.toLowerCase(),this.filterTextLow=G.filterText&&G.filterText.toLowerCase(),this.extensionId=G.extensionId,v.Q.isIRange(G.range)?(this.editStart=new D.y(G.range.startLineNumber,G.range.startColumn),this.editInsertEnd=new D.y(G.range.endLineNumber,G.range.endColumn),this.editReplaceEnd=new D.y(G.range.endLineNumber,G.range.endColumn),this.isInvalid=this.isInvalid||v.Q.spansMultipleLines(G.range)||G.range.startLineNumber!==z.lineNumber):(this.editStart=new D.y(G.range.insert.startLineNumber,G.range.insert.startColumn),this.editInsertEnd=new D.y(G.range.insert.endLineNumber,G.range.insert.endColumn),this.editReplaceEnd=new D.y(G.range.replace.endLineNumber,G.range.replace.endColumn),this.isInvalid=this.isInvalid||v.Q.spansMultipleLines(G.range.insert)||v.Q.spansMultipleLines(G.range.replace)||G.range.insert.startLineNumber!==z.lineNumber||G.range.replace.startLineNumber!==z.lineNumber||G.range.insert.startColumn!==G.range.replace.startColumn),"function"!=typeof K.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return void 0!==this._resolveDuration}get resolveDuration(){return void 0!==this._resolveDuration?this._resolveDuration:-1}resolve(z){var G=this;return(0,a.A)(function*(){if(!G._resolveCache){const Q=z.onCancellationRequested(()=>{G._resolveCache=void 0,G._resolveDuration=void 0}),K=new S.W(!0);G._resolveCache=Promise.resolve(G.provider.resolveCompletionItem(G.completion,z)).then(ie=>{Object.assign(G.completion,ie),G._resolveDuration=K.elapsed()},ie=>{(0,w.MB)(ie)&&(G._resolveCache=void 0,G._resolveDuration=void 0)}).finally(()=>{Q.dispose()})}return G._resolveCache})()}}class O{constructor(z=2,G=new Set,Q=new Set,K=new Map,ie=!0){this.snippetSortOrder=z,this.kindFilter=G,this.providerFilter=Q,this.providerItemsToReuse=K,this.showDeprecated=ie}}let N;function H(){return N}O.default=new O;class L{constructor(z,G,Q,K){this.items=z,this.needsClipboard=G,this.durations=Q,this.disposable=K}}function j(oe,z,G){return Z.apply(this,arguments)}function Z(){return Z=(0,a.A)(function*(oe,z,G,Q=O.default,K={triggerKind:0},ie=F.XO.None){const ae=new S.W;G=G.clone();const de=z.getWordAtPosition(G),se=de?new v.Q(G.lineNumber,de.startColumn,G.lineNumber,de.endColumn):v.Q.fromPositions(G),ge={replace:se,insert:se.setEndPosition(G.lineNumber,G.column)},_e=[],ye=new C.Cm,M=[];let ce=!1;const Se=(ne,ue,we)=>{var Me,Ve,$e;let it=!1;if(!ue)return it;for(const He of ue.suggestions)if(!Q.kindFilter.has(He.kind)){if(!Q.showDeprecated&&null!==(Me=He?.tags)&&void 0!==Me&&Me.includes(1))continue;He.range||(He.range=ge),He.sortText||(He.sortText="string"==typeof He.label?He.label:He.label.label),!ce&&He.insertTextRules&&4&He.insertTextRules&&(ce=f.fr.guessNeedsClipboard(He.insertText)),_e.push(new k(G,He,ue,ne)),it=!0}return(0,C.Xm)(ue)&&ye.add(ue),M.push({providerName:null!==(Ve=ne._debugDisplayName)&&void 0!==Ve?Ve:"unknown_provider",elapsedProvider:null!==($e=ue.duration)&&void 0!==$e?$e:-1,elapsedOverall:we.elapsed()}),it},Ie=(0,a.A)(function*(){if(!N||Q.kindFilter.has(27))return;const ne=Q.providerItemsToReuse.get(N);if(ne)return void ne.forEach(Me=>_e.push(Me));if(Q.providerFilter.size>0&&!Q.providerFilter.has(N))return;const ue=new S.W,we=yield N.provideCompletionItems(z,G,K,ie);Se(N,we,ue)})();for(const ne of oe.orderedGroups(z)){let ue=!1;if(yield Promise.all(ne.map(function(){var we=(0,a.A)(function*(Me){if(Q.providerItemsToReuse.has(Me)){const Ve=Q.providerItemsToReuse.get(Me);return Ve.forEach($e=>_e.push($e)),void(ue=ue||Ve.length>0)}if(!(Q.providerFilter.size>0)||Q.providerFilter.has(Me))try{const Ve=new S.W,$e=yield Me.provideCompletionItems(z,G,K,ie);ue=Se(Me,$e,Ve)||ue}catch(Ve){(0,w.M_)(Ve)}});return function(Me){return we.apply(this,arguments)}}())),ue||ie.isCancellationRequested)break}return yield Ie,ie.isCancellationRequested?(ye.dispose(),Promise.reject(new w.AL)):new L(_e.sort(function R(oe){return q.get(oe)}(Q.snippetSortOrder)),ce,{entries:M,elapsed:ae.elapsed()},ye)}),Z.apply(this,arguments)}function te(oe,z){if(oe.sortTextLow&&z.sortTextLow){if(oe.sortTextLow<z.sortTextLow)return-1;if(oe.sortTextLow>z.sortTextLow)return 1}return oe.textLabel<z.textLabel?-1:oe.textLabel>z.textLabel?1:oe.completion.kind-z.completion.kind}const q=new Map;function W(oe,z){var G;null===(G=oe.getContribution("editor.contrib.suggestController"))||void 0===G||G.triggerSuggest((new Set).add(z),void 0,!0)}q.set(0,function X(oe,z){if(oe.completion.kind!==z.completion.kind){if(27===oe.completion.kind)return-1;if(27===z.completion.kind)return 1}return te(oe,z)}),q.set(2,function U(oe,z){if(oe.completion.kind!==z.completion.kind){if(27===oe.completion.kind)return 1;if(27===z.completion.kind)return-1}return te(oe,z)}),q.set(1,te),l.w.registerCommand("_executeCompletionItemProvider",function(){var oe=(0,a.A)(function*(z,...G){const[Q,K,ie,ae]=G;(0,b.j)(P.r.isUri(Q)),(0,b.j)(D.y.isIPosition(K)),(0,b.j)("string"==typeof ie||!ie),(0,b.j)("number"==typeof ae||!ae);const{completionProvider:de}=z.get(p.u),se=yield z.get(_.b).createModelReference(Q);try{const ge={incomplete:!1,suggestions:[]},_e=[],ye=se.object.textEditorModel.validatePosition(K),M=yield j(de,se.object.textEditorModel,ye,void 0,{triggerCharacter:ie??void 0,triggerKind:ie?1:0});for(const ce of M.items)_e.length<(ae??0)&&_e.push(ce.resolve(F.XO.None)),ge.incomplete=ge.incomplete||ce.container.incomplete,ge.suggestions.push(ce.completion);try{return yield Promise.all(_e),ge}finally{setTimeout(()=>M.disposable.dispose(),100)}}finally{se.dispose()}});return function(z){return oe.apply(this,arguments)}}());class Y{static isAllOff(z){return"off"===z.other&&"off"===z.comments&&"off"===z.strings}static isAllOn(z){return"on"===z.other&&"on"===z.comments&&"on"===z.strings}static valueFor(z,G){switch(G){case 1:return z.comments;case 2:return z.strings;default:return z.other}}}},61555:(tt,xe,t)=>{t.d(xe,{D:()=>Rn});var N,a=t(39679),F=t(30833),w=t(21468),x=t(25680),C=t(5643),S=t(89430),b=t(99031),P=t(21828),D=t(42588),v=t(66702),_=t(44583),f=t(47639),d=t(5214),r=t(13632),l=t(73678),g=t(69995),p=t(3089),m=t(7716),T=t(48312),A=t(50168);let H=N=class{constructor(je,at){this._editor=je,this._enabled=!1,this._ckAtEnd=N.AtEnd.bindTo(at),this._configListener=this._editor.onDidChangeConfiguration(Mt=>Mt.hasChanged(123)&&this._update()),this._update()}dispose(){var je;this._configListener.dispose(),null===(je=this._selectionListener)||void 0===je||je.dispose(),this._ckAtEnd.reset()}_update(){const je="on"===this._editor.getOption(123);if(this._enabled!==je)if(this._enabled=je,this._enabled){const at=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const Mt=this._editor.getModel(),Et=this._editor.getSelection(),Vt=Mt.getWordAtPosition(Et.getStartPosition());this._ckAtEnd.set(!!Vt&&Vt.endColumn===Et.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(at),at()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};var je;H.AtEnd=new A.N1("atEndOfWord",!1),H=N=function(Xt,je,at,Mt){var zt,Et=arguments.length,Vt=Et<3?je:null===Mt?Mt=Object.getOwnPropertyDescriptor(je,at):Mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Vt=Reflect.decorate(Xt,je,at,Mt);else for(var sn=Xt.length-1;sn>=0;sn--)(zt=Xt[sn])&&(Vt=(Et<3?zt(Vt):Et>3?zt(je,at,Vt):zt(je,at))||Vt);return Et>3&&Vt&&Object.defineProperty(je,at,Vt),Vt}([(1,je=A.fN,function(at,Mt){je(at,Mt,1)})],H);var R,L=t(81644),j=t(51126),Z=t(598),te=t(52152),X=t(84031);let W=R=class{constructor(je,at){this._editor=je,this._index=0,this._ckOtherSuggestions=R.OtherSuggestions.bindTo(at)}dispose(){this.reset()}reset(){var je;this._ckOtherSuggestions.reset(),null===(je=this._listener)||void 0===je||je.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:je,index:at},Mt){0!==je.items.length&&R._moveIndex(!0,je,at)!==at?(this._acceptNext=Mt,this._model=je,this._index=at,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(je,at,Mt){let Et=Mt;for(let Vt=at.items.length;Vt>0&&(Et=(Et+at.items.length+(je?1:-1))%at.items.length,Et!==Mt&&at.items[Et].completion.additionalTextEdits);Vt--);return Et}next(){this._move(!0)}prev(){this._move(!1)}_move(je){if(this._model)try{this._ignore=!0,this._index=R._moveIndex(je,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};W.OtherSuggestions=new A.N1("hasOtherSuggestions",!1),W=R=function(Xt,je,at,Mt){var zt,Et=arguments.length,Vt=Et<3?je:null===Mt?Mt=Object.getOwnPropertyDescriptor(je,at):Mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Vt=Reflect.decorate(Xt,je,at,Mt);else for(var sn=Xt.length-1;sn>=0;sn--)(zt=Xt[sn])&&(Vt=(Et<3?zt(Vt):Et>3?zt(je,at,Vt):zt(je,at))||Vt);return Et>3&&Vt&&Object.defineProperty(je,at,Vt),Vt}([function(Xt,je){return function(at,Mt){je(at,Mt,1)}}(0,A.fN)],W);var Y=t(72493);class oe{constructor(je,at,Mt,Et){this._disposables=new b.Cm,this._disposables.add(Mt.onDidSuggest(Vt=>{0===Vt.completionModel.items.length&&this.reset()})),this._disposables.add(Mt.onDidCancel(Vt=>{this.reset()})),this._disposables.add(at.onDidShow(()=>this._onItem(at.getFocusedItem()))),this._disposables.add(at.onDidFocus(this._onItem,this)),this._disposables.add(at.onDidHide(this.reset,this)),this._disposables.add(je.onWillType(Vt=>{if(this._active&&!at.isFrozen()&&0!==Mt.state){const zt=Vt.charCodeAt(Vt.length-1);this._active.acceptCharacters.has(zt)&&je.getOption(0)&&Et(this._active.item)}}))}_onItem(je){if(!je||!(0,F.EI)(je.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===je.item)return;const at=new Y.y;for(const Mt of je.item.completion.commitCharacters)Mt.length>0&&at.add(Mt.charCodeAt(0));this._active={acceptCharacters:at,item:je}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var z=t(42206);let G=(()=>{class Xt{constructor(at,Mt){this._disposables=new b.Cm,this._lastOvertyped=[],this._locked=!1,this._disposables.add(at.onWillType(()=>{if(this._locked||!at.hasModel())return;const Et=at.getSelections(),Vt=Et.length;let zt=!1;for(let kn=0;kn<Vt;kn++)if(!Et[kn].isEmpty()){zt=!0;break}if(!zt)return void(0!==this._lastOvertyped.length&&(this._lastOvertyped.length=0));this._lastOvertyped=[];const sn=at.getModel();for(let kn=0;kn<Vt;kn++){const oi=Et[kn];if(sn.getValueLengthInRange(oi)>Xt._maxSelectionLength)return;this._lastOvertyped[kn]={value:sn.getValueInRange(oi),multiline:oi.startLineNumber!==oi.endLineNumber}}})),this._disposables.add(Mt.onDidTrigger(Et=>{this._locked=!0})),this._disposables.add(Mt.onDidCancel(Et=>{this._locked=!1}))}getLastOvertypedInfo(at){if(at>=0&&at<this._lastOvertyped.length)return this._lastOvertyped[at]}dispose(){this._disposables.dispose()}}return Xt._maxSelectionLength=51200,Xt})();var Q=t(10467),K=t(91874),ae=(t(59496),t(87291)),de=t(86671),se=t(45045),ge=t(6653),_e=t(85072),ye=t.n(_e),M=t(97825),ce=t.n(M),Se=t(77659),Ie=t.n(Se),ne=t(55056),ue=t.n(ne),we=t(10540),Me=t.n(we),Ve=t(41113),$e=t.n(Ve),it=t(87160),He={};He.styleTagTransform=$e(),He.setAttributes=ue(),He.insert=Ie().bind(null,"head"),He.domAPI=ce(),He.insertStyleElement=Me(),ye()(it.A,He);var Ee=t(90908),be=t(44906),Ce=t(54335),Ne=t(79134),qe=function(Xt,je){return function(at,Mt){je(at,Mt,Xt)}};class dt extends Ce.oq{updateLabel(){const je=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!je)return super.updateLabel();this.label&&(this.label.textContent=(0,L.kg)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,dt.symbolPrintEnter(je)))}static symbolPrintEnter(je){var at;return null===(at=je.getLabel())||void 0===at?void 0:at.replace(/\benter\b/gi,"\u23ce")}}let vt=class{constructor(je,at,Mt,Et,Vt){this._menuId=at,this._menuService=Et,this._contextKeyService=Vt,this._menuDisposables=new b.Cm,this.element=K.BC(je,K.$(".suggest-status-bar"));const zt=sn=>sn instanceof Ne.Xe?Mt.createInstance(dt,sn,void 0):void 0;this._leftActions=new be.E(this.element,{actionViewItemProvider:zt}),this._rightActions=new be.E(this.element,{actionViewItemProvider:zt}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const je=this._menuService.createMenu(this._menuId,this._contextKeyService),at=()=>{const Mt=[],Et=[];for(const[Vt,zt]of je.getActions())"left"===Vt?Mt.push(...zt):Et.push(...zt);this._leftActions.clear(),this._leftActions.push(Mt),this._rightActions.clear(),this._rightActions.push(Et)};this._menuDisposables.add(je.onDidChange(()=>at())),this._menuDisposables.add(je)}hide(){this._menuDisposables.clear()}};vt=function(Xt,je,at,Mt){var zt,Et=arguments.length,Vt=Et<3?je:null===Mt?Mt=Object.getOwnPropertyDescriptor(je,at):Mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Vt=Reflect.decorate(Xt,je,at,Mt);else for(var sn=Xt.length-1;sn>=0;sn--)(zt=Xt[sn])&&(Vt=(Et<3?zt(Vt):Et>3?zt(je,at,Vt):zt(je,at))||Vt);return Et>3&&Vt&&Object.defineProperty(je,at,Vt),Vt}([qe(2,Z._Y),qe(3,Ne.ez),qe(4,A.fN)],vt),t(93981);var on=t(16815),ht=t(85478),Je=t(8374),ot=t(48187),De=t(30218),Qe=t(23702),mt=t(15320),kt=t(81072),Ht=t(13225),Ft=t(13157);function Ut(Xt){return!!Xt&&!!(Xt.completion.documentation||Xt.completion.detail&&Xt.completion.detail!==Xt.completion.label)}let St=class{constructor(je,at){this._editor=je,this._onDidClose=new C.vl,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new C.vl,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new b.Cm,this._renderDisposeable=new b.Cm,this._borderWidth=1,this._size=new K.fg(330,0),this.domNode=K.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=at.createInstance(Ft.T,{editor:je}),this._body=K.$(".body"),this._scrollbar=new Qe.MU(this._body,{alwaysConsumeMouseWheel:!0}),K.BC(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=K.BC(this._body,K.$(".header")),this._close=K.BC(this._header,K.$("span"+kt.L.asCSSSelector(mt.W.close))),this._close.title=L.kg("details.close","Close"),this._type=K.BC(this._header,K.$("p.type")),this._docs=K.BC(this._body,K.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(Mt=>{Mt.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const je=this._editor.getOptions(),at=je.get(50),Mt=at.getMassagedFontFamily(),Et=je.get(119)||at.fontSize,Vt=je.get(120)||at.lineHeight,zt=at.fontWeight,kn=`${Vt}px`;this.domNode.style.fontSize=`${Et}px`,this.domNode.style.lineHeight=""+Vt/Et,this.domNode.style.fontWeight=zt,this.domNode.style.fontFeatureSettings=at.fontFeatureSettings,this._type.style.fontFamily=Mt,this._close.style.height=kn,this._close.style.width=kn}getLayoutInfo(){const je=this._editor.getOption(120)||this._editor.getOption(50).lineHeight,at=this._borderWidth;return{lineHeight:je,borderWidth:at,borderHeight:2*at,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=L.kg("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(je,at){var Mt,Et;this._renderDisposeable.clear();let{detail:Vt,documentation:zt}=je.completion;if(at){let sn="";sn+=`score: ${je.score[0]}\n`,sn+=`prefix: ${null!==(Mt=je.word)&&void 0!==Mt?Mt:"(no prefix)"}\n`,sn+=`word: ${je.completion.filterText?je.completion.filterText+" (filterText)":je.textLabel}\n`,sn+=`distance: ${je.distance} (localityBonus-setting)\n`,sn+=`index: ${je.idx}, based on ${je.completion.sortText&&`sortText: "${je.completion.sortText}"`||"label"}\n`,sn+=`commit_chars: ${null===(Et=je.completion.commitCharacters)||void 0===Et?void 0:Et.join("")}\n`,zt=(new Ht.Bc).appendCodeblock("empty",sn),Vt=`Provider: ${je.provider._debugDisplayName}`}if(at||Ut(je)){if(this.domNode.classList.remove("no-docs","no-type"),Vt){const sn=Vt.length>1e5?`${Vt.substr(0,1e5)}\u2026`:Vt;this._type.textContent=sn,this._type.title=sn,K.WU(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(sn))}else K.w_(this._type),this._type.title="",K.jD(this._type),this.domNode.classList.add("no-type");if(K.w_(this._docs),"string"==typeof zt)this._docs.classList.remove("markdown-docs"),this._docs.textContent=zt;else if(zt){this._docs.classList.add("markdown-docs"),K.w_(this._docs);const sn=this._markdownRenderer.render(zt);this._docs.appendChild(sn.element),this._renderDisposeable.add(sn),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=sn=>{sn.preventDefault(),sn.stopPropagation()},this._close.onclick=sn=>{sn.preventDefault(),sn.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout(je,at){const Mt=new K.fg(je,at);K.fg.equals(Mt,this._size)||(this._size=Mt,K.Ej(this.domNode,je,at)),this._scrollbar.scanDomNode()}scrollDown(je=8){this._body.scrollTop+=je}scrollUp(je=8){this._body.scrollTop-=je}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(je){this._borderWidth=je}get borderWidth(){return this._borderWidth}};St=function(Xt,je,at,Mt){var zt,Et=arguments.length,Vt=Et<3?je:null===Mt?Mt=Object.getOwnPropertyDescriptor(je,at):Mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Vt=Reflect.decorate(Xt,je,at,Mt);else for(var sn=Xt.length-1;sn>=0;sn--)(zt=Xt[sn])&&(Vt=(Et<3?zt(Vt):Et>3?zt(je,at,Vt):zt(je,at))||Vt);return Et>3&&Vt&&Object.defineProperty(je,at,Vt),Vt}([function(Xt,je){return function(at,Mt){je(at,Mt,1)}}(0,Z._Y)],St);class ke{constructor(je,at){this.widget=je,this._editor=at,this.allowEditorOverflow=!0,this._disposables=new b.Cm,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new De.v,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(je.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let Mt,Et,Vt=0,zt=0;this._disposables.add(this._resizable.onDidWillResize(()=>{Mt=this._topLeft,Et=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(sn=>{if(Mt&&Et){this.widget.layout(sn.dimension.width,sn.dimension.height);let kn=!1;sn.west&&(zt=Et.width-sn.dimension.width,kn=!0),sn.north&&(Vt=Et.height-sn.dimension.height,kn=!0),kn&&this._applyTopLeft({top:Mt.top+Vt,left:Mt.left+zt})}sn.done&&(Mt=void 0,Et=void 0,Vt=0,zt=0,this._userSize=sn.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var sn;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(sn=this._userSize)&&void 0!==sn?sn:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)}hide(je=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),je&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(je,at){var Mt;const Et=je.getBoundingClientRect();this._anchorBox=Et,this._preferAlignAtTop=at,this._placeAtAnchor(this._anchorBox,null!==(Mt=this._userSize)&&void 0!==Mt?Mt:this.widget.size,at)}_placeAtAnchor(je,at,Mt){var Et;const Vt=K.tG(this.getDomNode().ownerDocument.body),zt=this.widget.getLayoutInfo(),sn=new K.fg(220,2*zt.lineHeight),kn=je.top,oi=function(){const Hn=Vt.width-(je.left+je.width+zt.borderWidth+zt.horizontalPadding),ni=-zt.borderWidth+je.left+je.width,$n=new K.fg(Hn,Vt.height-je.top-zt.borderHeight-zt.verticalPadding),Ri=$n.with(void 0,je.top+je.height-zt.borderHeight-zt.verticalPadding);return{top:kn,left:ni,fit:Hn-at.width,maxSizeTop:$n,maxSizeBottom:Ri,minSize:sn.with(Math.min(Hn,sn.width))}}(),ai=[oi,function(){const Hn=je.left-zt.borderWidth-zt.horizontalPadding,ni=Math.max(zt.horizontalPadding,je.left-at.width-zt.borderWidth),$n=new K.fg(Hn,Vt.height-je.top-zt.borderHeight-zt.verticalPadding),Ri=$n.with(void 0,je.top+je.height-zt.borderHeight-zt.verticalPadding);return{top:kn,left:ni,fit:Hn-at.width,maxSizeTop:$n,maxSizeBottom:Ri,minSize:sn.with(Math.min(Hn,sn.width))}}(),function(){const Hn=je.left,ni=-zt.borderWidth+je.top+je.height,$n=new K.fg(je.width-zt.borderHeight,Vt.height-je.top-je.height-zt.verticalPadding);return{top:ni,left:Hn,fit:$n.height-at.height,maxSizeBottom:$n,maxSizeTop:$n,minSize:sn.with($n.width)}}()],li=null!==(Et=ai.find(Hn=>Hn.fit>=0))&&void 0!==Et?Et:ai.sort((Hn,ni)=>ni.fit-Hn.fit)[0],$i=je.top+je.height-zt.borderHeight;let Zi,Pi=at.height;const At=Math.max(li.maxSizeTop.height,li.maxSizeBottom.height);let Rt;Pi>At&&(Pi=At),Mt?Pi<=li.maxSizeTop.height?(Zi=!0,Rt=li.maxSizeTop):(Zi=!1,Rt=li.maxSizeBottom):Pi<=li.maxSizeBottom.height?(Zi=!1,Rt=li.maxSizeBottom):(Zi=!0,Rt=li.maxSizeTop);let{top:Pt,left:hn}=li;!Zi&&Pi>je.height&&(Pt=$i-Pi);const An=this._editor.getDomNode();if(An){const Hn=An.getBoundingClientRect();Pt-=Hn.top,hn-=Hn.left}this._applyTopLeft({left:hn,top:Pt}),this._resizable.enableSashes(!Zi,li===oi,Zi,li!==oi),this._resizable.minSize=li.minSize,this._resizable.maxSize=Rt,this._resizable.layout(Pi,Math.min(Rt.width,at.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(je){this._topLeft=je,this._editor.layoutOverlayWidget(this)}}var Ze=t(31297),Ye=t(28467),st=t(32417),Ke=t(41489),ft=t(75109),wt=t(76698),qt=t(37864),Yt=function(Xt){return Xt[Xt.FILE=0]="FILE",Xt[Xt.FOLDER=1]="FOLDER",Xt[Xt.ROOT_FOLDER=2]="ROOT_FOLDER",Xt}(Yt||{});const en=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function an(Xt,je,at,Mt,Et){if(kt.L.isThemeIcon(Et))return[`codicon-${Et.id}`,"predefined-file-icon"];if(st.r.isUri(Et))return[];const Vt=Mt===Yt.ROOT_FOLDER?["rootfolder-icon"]:Mt===Yt.FOLDER?["folder-icon"]:["file-icon"];if(at){let zt;if(at.scheme===ft.ny.data)zt=wt.B6.parseMetaData(at).get(wt.B6.META_DATA_LABEL);else{const sn=at.path.match(en);sn?(zt=Nt(sn[2].toLowerCase()),sn[1]&&Vt.push(`${Nt(sn[1].toLowerCase())}-name-dir-icon`)):zt=Nt(at.authority.toLowerCase())}if(Mt===Yt.ROOT_FOLDER)Vt.push(`${zt}-root-name-folder-icon`);else if(Mt===Yt.FOLDER)Vt.push(`${zt}-name-folder-icon`);else{if(zt){if(Vt.push(`${zt}-name-file-icon`),Vt.push("name-file-icon"),zt.length<=255){const kn=zt.split(".");for(let oi=1;oi<kn.length;oi++)Vt.push(`${kn.slice(oi).join(".")}-ext-file-icon`)}Vt.push("ext-file-icon")}const sn=function lt(Xt,je,at){if(!at)return null;let Mt=null;if(at.scheme===ft.ny.data){const Vt=wt.B6.parseMetaData(at).get(wt.B6.META_DATA_MIME);Vt&&(Mt=je.getLanguageIdByMimeType(Vt))}else{const Et=Xt.getModel(at);Et&&(Mt=Et.getLanguageId())}return Mt&&Mt!==qt.vH?Mt:je.guessLanguageIdByFilepathOrFirstLine(at)}(Xt,je,at);sn&&Vt.push(`${Nt(sn)}-lang-file-icon`)}}return Vt}function Nt(Xt){return Xt.replace(/[\11\12\14\15\40]/g,"/")}var ei,tn=t(31925),bn=t(385),Zn=function(Xt,je){return function(at,Mt){je(at,Mt,Xt)}};function wi(Xt){return`suggest-aria-id:${Xt}`}const hi=(0,t(24453).pU)("suggest-more-info",mt.W.chevronRight,L.kg("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),yi=new(ei=class{extract(je,at){if(je.textLabel.match(ei._regexStrict))return at[0]=je.textLabel,!0;if(je.completion.detail&&je.completion.detail.match(ei._regexStrict))return at[0]=je.completion.detail,!0;if(je.completion.documentation){const Mt="string"==typeof je.completion.documentation?je.completion.documentation:je.completion.documentation.value,Et=ei._regexRelaxed.exec(Mt);if(Et&&(0===Et.index||Et.index+Et[0].length===Mt.length))return at[0]=Et[0],!0}return!1}},ei._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,ei._regexStrict=new RegExp(`^${ei._regexRelaxed.source}$`,"i"),ei);let Vi=class{constructor(je,at,Mt,Et){this._editor=je,this._modelService=at,this._languageService=Mt,this._themeService=Et,this._onDidToggleDetails=new C.vl,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(je){const at=new b.Cm,Mt=je;Mt.classList.add("show-file-icons");const Et=(0,K.BC)(je,(0,K.$)(".icon")),Vt=(0,K.BC)(Et,(0,K.$)("span.colorspan")),zt=(0,K.BC)(je,(0,K.$)(".contents")),sn=(0,K.BC)(zt,(0,K.$)(".main")),kn=(0,K.BC)(sn,(0,K.$)(".icon-label.codicon")),oi=(0,K.BC)(sn,(0,K.$)("span.left")),mi=(0,K.BC)(sn,(0,K.$)("span.right")),gi=new Ze.s(oi,{supportHighlights:!0,supportIcons:!0});at.add(gi);const ai=(0,K.BC)(oi,(0,K.$)("span.signature-label")),li=(0,K.BC)(oi,(0,K.$)("span.qualifier-label")),$i=(0,K.BC)(mi,(0,K.$)("span.details-label")),Zi=(0,K.BC)(mi,(0,K.$)("span.readMore"+kt.L.asCSSSelector(hi)));return Zi.title=L.kg("readMore","Read More"),{root:Mt,left:oi,right:mi,icon:Et,colorspan:Vt,iconLabel:gi,iconContainer:kn,parametersLabel:ai,qualifierLabel:li,detailsLabel:$i,readMore:Zi,disposables:at,configureFont:()=>{const At=this._editor.getOptions(),Rt=At.get(50),Pt=Rt.getMassagedFontFamily(),hn=Rt.fontFeatureSettings,An=At.get(119)||Rt.fontSize,Hn=At.get(120)||Rt.lineHeight,ni=Rt.fontWeight,Ii=`${Hn}px`,yn=`${Rt.letterSpacing}px`;Mt.style.fontSize=`${An}px`,Mt.style.fontWeight=ni,Mt.style.letterSpacing=yn,sn.style.fontFamily=Pt,sn.style.fontFeatureSettings=hn,sn.style.lineHeight=Ii,Et.style.height=Ii,Et.style.width=Ii,Zi.style.height=Ii,Zi.style.width=Ii}}}renderElement(je,at,Mt){Mt.configureFont();const{completion:Et}=je;Mt.root.id=wi(at),Mt.colorspan.style.backgroundColor="";const Vt={labelEscapeNewLines:!0,matches:(0,Ye.WJ)(je.score)},zt=[];if(19===Et.kind&&yi.extract(je,zt))Mt.icon.className="icon customcolor",Mt.iconContainer.className="icon hide",Mt.colorspan.style.backgroundColor=zt[0];else if(20===Et.kind&&this._themeService.getFileIconTheme().hasFileIcons){Mt.icon.className="icon hide",Mt.iconContainer.className="icon hide";const sn=an(this._modelService,this._languageService,st.r.from({scheme:"fake",path:je.textLabel}),Yt.FILE),kn=an(this._modelService,this._languageService,st.r.from({scheme:"fake",path:Et.detail}),Yt.FILE);Vt.extraClasses=sn.length>kn.length?sn:kn}else 23===Et.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(Mt.icon.className="icon hide",Mt.iconContainer.className="icon hide",Vt.extraClasses=[an(this._modelService,this._languageService,st.r.from({scheme:"fake",path:je.textLabel}),Yt.FOLDER),an(this._modelService,this._languageService,st.r.from({scheme:"fake",path:Et.detail}),Yt.FOLDER)].flat()):(Mt.icon.className="icon hide",Mt.iconContainer.className="",Mt.iconContainer.classList.add("suggest-icon",...kt.L.asClassNameArray(Ke.HC.toIcon(Et.kind))));Et.tags&&Et.tags.indexOf(1)>=0&&(Vt.extraClasses=(Vt.extraClasses||[]).concat(["deprecated"]),Vt.matches=[]),Mt.iconLabel.setLabel(je.textLabel,void 0,Vt),"string"==typeof Et.label?(Mt.parametersLabel.textContent="",Mt.detailsLabel.textContent=Wi(Et.detail||""),Mt.root.classList.add("string-label")):(Mt.parametersLabel.textContent=Wi(Et.label.detail||""),Mt.detailsLabel.textContent=Wi(Et.label.description||""),Mt.root.classList.remove("string-label")),this._editor.getOption(118).showInlineDetails?(0,K.WU)(Mt.detailsLabel):(0,K.jD)(Mt.detailsLabel),Ut(je)?(Mt.right.classList.add("can-expand-details"),(0,K.WU)(Mt.readMore),Mt.readMore.onmousedown=sn=>{sn.stopPropagation(),sn.preventDefault()},Mt.readMore.onclick=sn=>{sn.stopPropagation(),sn.preventDefault(),this._onDidToggleDetails.fire()}):(Mt.right.classList.remove("can-expand-details"),(0,K.jD)(Mt.readMore),Mt.readMore.onmousedown=null,Mt.readMore.onclick=null)}disposeTemplate(je){je.disposables.dispose()}};function Wi(Xt){return Xt.replace(/\r\n|\r|\n/g,"")}Vi=function(Xt,je,at,Mt){var zt,Et=arguments.length,Vt=Et<3?je:null===Mt?Mt=Object.getOwnPropertyDescriptor(je,at):Mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Vt=Reflect.decorate(Xt,je,at,Mt);else for(var sn=Xt.length-1;sn>=0;sn--)(zt=Xt[sn])&&(Vt=(Et<3?zt(Vt):Et>3?zt(je,at,Vt):zt(je,at))||Vt);return Et>3&&Vt&&Object.defineProperty(je,at,Vt),Vt}([Zn(1,tn.S),Zn(2,bn.L),Zn(3,ot.Gy)],Vi);var Tt,Pn=t(41525),ct=function(Xt,je){return function(at,Mt){je(at,Mt,Xt)}};(0,ht.x1A)("editorSuggestWidget.background",{dark:ht.CgL,light:ht.CgL,hcDark:ht.CgL,hcLight:ht.CgL},L.kg("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,ht.x1A)("editorSuggestWidget.border",{dark:ht.sIe,light:ht.sIe,hcDark:ht.sIe,hcLight:ht.sIe},L.kg("editorSuggestWidgetBorder","Border color of the suggest widget."));const ut=(0,ht.x1A)("editorSuggestWidget.foreground",{dark:ht.By2,light:ht.By2,hcDark:ht.By2,hcLight:ht.By2},L.kg("editorSuggestWidgetForeground","Foreground color of the suggest widget."));(0,ht.x1A)("editorSuggestWidget.selectedForeground",{dark:ht.nH,light:ht.nH,hcDark:ht.nH,hcLight:ht.nH},L.kg("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,ht.x1A)("editorSuggestWidget.selectedIconForeground",{dark:ht.c7i,light:ht.c7i,hcDark:ht.c7i,hcLight:ht.c7i},L.kg("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const Ct=(0,ht.x1A)("editorSuggestWidget.selectedBackground",{dark:ht.AlL,light:ht.AlL,hcDark:ht.AlL,hcLight:ht.AlL},L.kg("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));(0,ht.x1A)("editorSuggestWidget.highlightForeground",{dark:ht.QI5,light:ht.QI5,hcDark:ht.QI5,hcLight:ht.QI5},L.kg("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,ht.x1A)("editorSuggestWidget.focusHighlightForeground",{dark:ht.eMz,light:ht.eMz,hcDark:ht.eMz,hcLight:ht.eMz},L.kg("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,ht.x1A)("editorSuggestWidgetStatus.foreground",{dark:(0,ht.JO0)(ut,.5),light:(0,ht.JO0)(ut,.5),hcDark:(0,ht.JO0)(ut,.5),hcLight:(0,ht.JO0)(ut,.5)},L.kg("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class Jt{constructor(je,at){this._service=je,this._key=`suggestWidget.size/${at.getEditorType()}/${at instanceof Ee.t}`}restore(){var je;const at=null!==(je=this._service.get(this._key,0))&&void 0!==je?je:"";try{const Mt=JSON.parse(at);if(K.fg.is(Mt))return K.fg.lift(Mt)}catch{}}store(je){this._service.store(this._key,JSON.stringify(je),0,1)}reset(){this._service.remove(this._key,0)}}let un=Tt=class{constructor(je,at,Mt,Et,Vt){this.editor=je,this._storageService=at,this._state=0,this._isAuto=!1,this._pendingLayout=new b.HE,this._pendingShowDetails=new b.HE,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new de.pc,this._disposables=new b.Cm,this._onDidSelect=new C.fV,this._onDidFocus=new C.fV,this._onDidHide=new C.vl,this._onDidShow=new C.vl,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new C.vl,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new De.v,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Wn(this,je),this._persistedSize=new Jt(at,je);class zt{constructor(li,$i,Zi=!1,Pi=!1){this.persistedSize=li,this.currentSize=$i,this.persistHeight=Zi,this.persistWidth=Pi}}let sn;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),sn=new zt(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(ai=>{var li,$i,Zi,Pi;if(this._resize(ai.dimension.width,ai.dimension.height),sn&&(sn.persistHeight=sn.persistHeight||!!ai.north||!!ai.south,sn.persistWidth=sn.persistWidth||!!ai.east||!!ai.west),ai.done){if(sn){const{itemHeight:At,defaultSize:Rt}=this.getLayoutInfo(),Pt=Math.round(At/2);let{width:hn,height:An}=this.element.size;(!sn.persistHeight||Math.abs(sn.currentSize.height-An)<=Pt)&&(An=null!==($i=null===(li=sn.persistedSize)||void 0===li?void 0:li.height)&&void 0!==$i?$i:Rt.height),(!sn.persistWidth||Math.abs(sn.currentSize.width-hn)<=Pt)&&(hn=null!==(Pi=null===(Zi=sn.persistedSize)||void 0===Zi?void 0:Zi.width)&&void 0!==Pi?Pi:Rt.width),this._persistedSize.store(new K.fg(hn,An))}this._contentWidget.unlockPreference(),sn=void 0}})),this._messageElement=K.BC(this.element.domNode,K.$(".message")),this._listElement=K.BC(this.element.domNode,K.$(".tree"));const kn=this._disposables.add(Vt.createInstance(St,this.editor));kn.onDidClose(this.toggleDetails,this,this._disposables),this._details=new ke(kn,this.editor);const oi=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(118).showIcons);oi();const mi=Vt.createInstance(Vi,this.editor);this._disposables.add(mi),this._disposables.add(mi.onDidToggleDetails(()=>this.toggleDetails())),this._list=new ae.B8("SuggestWidget",this._listElement,{getHeight:ai=>this.getLayoutInfo().itemHeight,getTemplateId:ai=>"suggestion"},[mi],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>L.kg("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:ai=>{let li=ai.textLabel;if("string"!=typeof ai.completion.label){const{detail:At,description:Rt}=ai.completion.label;At&&Rt?li=L.kg("label.full","{0} {1}, {2}",li,At,Rt):At?li=L.kg("label.detail","{0} {1}",li,At):Rt&&(li=L.kg("label.desc","{0}, {1}",li,Rt))}if(!ai.isResolved||!this._isDetailsVisible())return li;const{documentation:$i,detail:Zi}=ai.completion,Pi=ge.GP("{0}{1}",Zi||"",$i?"string"==typeof $i?$i:$i.value:"");return L.kg("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",li,Pi)}}}),this._list.style((0,Pn.t8)({listInactiveFocusBackground:Ct,listInactiveFocusOutline:ht.buw})),this._status=Vt.createInstance(vt,this.element.domNode,X.dt);const gi=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(118).showStatusBar);gi(),this._disposables.add(Et.onDidColorThemeChange(ai=>this._onThemeChange(ai))),this._onThemeChange(Et.getColorTheme()),this._disposables.add(this._list.onMouseDown(ai=>this._onListMouseDownOrTap(ai))),this._disposables.add(this._list.onTap(ai=>this._onListMouseDownOrTap(ai))),this._disposables.add(this._list.onDidChangeSelection(ai=>this._onListSelection(ai))),this._disposables.add(this._list.onDidChangeFocus(ai=>this._onListFocus(ai))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(ai=>{ai.hasChanged(118)&&(gi(),oi()),this._completionModel&&(ai.hasChanged(50)||ai.hasChanged(119)||ai.hasChanged(120))&&this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=X.ob.Visible.bindTo(Mt),this._ctxSuggestWidgetDetailsVisible=X.ob.DetailsVisible.bindTo(Mt),this._ctxSuggestWidgetMultipleSuggestions=X.ob.MultipleSuggestions.bindTo(Mt),this._ctxSuggestWidgetHasFocusedSuggestion=X.ob.HasFocusedSuggestion.bindTo(Mt),this._disposables.add(K.b2(this._details.widget.domNode,"keydown",ai=>{this._onDetailsKeydown.fire(ai)})),this._disposables.add(this.editor.onMouseDown(ai=>this._onEditorMouseDown(ai)))}dispose(){var je;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(je=this._loadingTimeout)||void 0===je||je.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(je){this._details.widget.domNode.contains(je.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(je.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(je){typeof je.element>"u"||typeof je.index>"u"||(je.browserEvent.preventDefault(),je.browserEvent.stopPropagation(),this._select(je.element,je.index))}_onListSelection(je){je.elements.length&&this._select(je.elements[0],je.indexes[0])}_select(je,at){const Mt=this._completionModel;Mt&&(this._onDidSelect.fire({item:je,index:at,model:Mt}),this.editor.focus())}_onThemeChange(je){this._details.widget.borderWidth=(0,Je.Bb)(je.type)?2:1}_onListFocus(je){var Mt,at=this;if(this._ignoreFocusEvents)return;if(!je.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),void this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const Et=je.elements[0],Vt=je.indexes[0];Et!==this._focusedItem&&(null===(Mt=this._currentSuggestionDetails)||void 0===Mt||Mt.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=Et,this._list.reveal(Vt),this._currentSuggestionDetails=(0,de.SS)(function(){var zt=(0,Q.A)(function*(sn){const kn=(0,de.EQ)(()=>{at._isDetailsVisible()&&at.showDetails(!0)},250),oi=sn.onCancellationRequested(()=>kn.dispose());try{return yield Et.resolve(sn)}finally{kn.dispose(),oi.dispose()}});return function(sn){return zt.apply(this,arguments)}}()),this._currentSuggestionDetails.then(()=>{Vt>=this._list.length||Et!==this._list.element(Vt)||(this._ignoreFocusEvents=!0,this._list.splice(Vt,1,[Et]),this._list.setFocus([Vt]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:wi(Vt)}))}).catch(x.dz)),this._onDidFocus.fire({item:Et,index:Vt,model:this._completionModel})}_setState(je){if(this._state!==je)switch(this._state=je,this.element.domNode.classList.toggle("frozen",4===je),this.element.domNode.classList.remove("message"),je){case 0:K.jD(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Tt.LOADING_MESSAGE,K.jD(this._listElement,this._status.element),K.WU(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,a.h5)(Tt.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Tt.NO_SUGGESTIONS_MESSAGE,K.jD(this._listElement,this._status.element),K.WU(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,a.h5)(Tt.NO_SUGGESTIONS_MESSAGE);break;case 3:case 4:K.jD(this._messageElement),K.WU(this._listElement,this._status.element),this._show();break;case 5:K.jD(this._messageElement),K.WU(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(je,at){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!je,this._isAuto||(this._loadingTimeout=(0,de.EQ)(()=>this._setState(1),at)))}showSuggestions(je,at,Mt,Et,Vt){var zt,sn;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(zt=this._loadingTimeout)||void 0===zt||zt.dispose(),null===(sn=this._currentSuggestionDetails)||void 0===sn||sn.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==je&&(this._completionModel=je),Mt&&2!==this._state&&0!==this._state)return void this._setState(4);const kn=this._completionModel.items.length,oi=0===kn;if(this._ctxSuggestWidgetMultipleSuggestions.set(kn>1),oi)return this._setState(Et?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(Mt?4:3),this._list.reveal(at,0),this._list.setFocus(Vt?[]:[at])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=K.Oq(K.zk(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Ut(this._list.getFocusedElements()[0])||this._explainMode)&&(3===this._state||5===this._state||4===this._state)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(je){this._pendingShowDetails.value=K.Oq(K.zk(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),je?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._details.widget.isEmpty?this._details.hide():(this._positionDetails(),this.element.domNode.classList.add("shows-details")),this.editor.focus()})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var je;this._pendingLayout.clear(),this._pendingShowDetails.clear(),null===(je=this._loadingTimeout)||void 0===je||je.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const at=this._persistedSize.restore(),Mt=Math.ceil(4.3*this.getLayoutInfo().itemHeight);at&&at.height<Mt&&this._persistedSize.store(at.with(void 0,Mt))}isFrozen(){return 4===this._state}_afterRender(je){null!==je?2===this._state||1===this._state||(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(je){var at,Mt,Et;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const Vt=K.tG(this.element.domNode.ownerDocument.body),zt=this.getLayoutInfo();je||(je=zt.defaultSize);let sn=je.height,kn=je.width;if(this._status.element.style.height=`${zt.itemHeight}px`,2===this._state||1===this._state)sn=zt.itemHeight+zt.borderHeight,kn=zt.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new K.fg(kn,sn),this._contentWidget.setPreference(2);else{const oi=Vt.width-zt.borderHeight-2*zt.horizontalPadding;kn>oi&&(kn=oi);const mi=this._completionModel?this._completionModel.stats.pLabelLen*zt.typicalHalfwidthCharacterWidth:kn,gi=zt.statusBarHeight+this._list.contentHeight+zt.borderHeight,ai=zt.itemHeight+zt.statusBarHeight,li=K.BK(this.editor.getDomNode()),$i=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),Pi=Math.min(Vt.height-(li.top+$i.top+$i.height)-zt.verticalPadding,gi),At=li.top+$i.top-zt.verticalPadding,Rt=Math.min(At,gi);let Pt=Math.min(Math.max(Rt,Pi)+zt.borderHeight,gi);sn===(null===(at=this._cappedHeight)||void 0===at?void 0:at.capped)&&(sn=this._cappedHeight.wanted),sn<ai&&(sn=ai),sn>Pt&&(sn=Pt),sn>Pi||this._forceRenderingAbove&&At>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),Pt=Rt):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),Pt=Pi),this.element.preferredSize=new K.fg(mi,zt.defaultSize.height),this.element.maxSize=new K.fg(oi,Pt),this.element.minSize=new K.fg(220,ai),this._cappedHeight=sn===gi?{wanted:null!==(Et=null===(Mt=this._cappedHeight)||void 0===Mt?void 0:Mt.wanted)&&void 0!==Et?Et:je.height,capped:sn}:void 0}this._resize(kn,sn)}_resize(je,at){const{width:Mt,height:Et}=this.element.maxSize;je=Math.min(Mt,je),at=Math.min(Et,at);const{statusBarHeight:Vt}=this.getLayoutInfo();this._list.layout(at-Vt,je),this._listElement.style.height=at-Vt+"px",this.element.layout(at,je),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var je;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(je=this._contentWidget.getPosition())||void 0===je?void 0:je.preference[0]))}getLayoutInfo(){const je=this.editor.getOption(50),at=(0,se.qE)(this.editor.getOption(120)||je.lineHeight,8,1e3),Mt=this.editor.getOption(118).showStatusBar&&2!==this._state&&1!==this._state?at:0,Et=this._details.widget.borderWidth,Vt=2*Et;return{itemHeight:at,statusBarHeight:Mt,borderWidth:Et,borderHeight:Vt,typicalHalfwidthCharacterWidth:je.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new K.fg(430,Mt+12*at+Vt)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(je){this._storageService.store("expandSuggestionDocs",je,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};un.LOADING_MESSAGE=L.kg("suggestWidget.loading","Loading..."),un.NO_SUGGESTIONS_MESSAGE=L.kg("suggestWidget.noSuggestions","No suggestions."),un=Tt=function(Xt,je,at,Mt){var zt,Et=arguments.length,Vt=Et<3?je:null===Mt?Mt=Object.getOwnPropertyDescriptor(je,at):Mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Vt=Reflect.decorate(Xt,je,at,Mt);else for(var sn=Xt.length-1;sn>=0;sn--)(zt=Xt[sn])&&(Vt=(Et<3?zt(Vt):Et>3?zt(je,at,Vt):zt(je,at))||Vt);return Et>3&&Vt&&Object.defineProperty(je,at,Vt),Vt}([ct(1,on.CS),ct(2,A.fN),ct(3,ot.Gy),ct(4,Z._Y)],un);class Wn{constructor(je,at){this._widget=je,this._editor=at,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:je,width:at}=this._widget.element.size,{borderWidth:Mt,horizontalPadding:Et}=this._widget.getLayoutInfo();return new K.fg(at+2*Mt+Et,je+2*Mt)}afterRender(je){this._widget._afterRender(je)}setPreference(je){this._preferenceLocked||(this._preference=je)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(je){this._position=je}}var mn,Kn=t(55922),jn=t(55763),Nn=t(80753),Wt=function(Xt,je){return function(at,Mt){je(at,Mt,Xt)}};class On{constructor(je,at){if(this._model=je,this._position=at,this._decorationOptions=Nn.kI.register({description:"suggest-line-suffix",stickiness:1}),je.getLineMaxColumn(at.lineNumber)!==at.column){const Et=je.getOffsetAt(at),Vt=je.getPositionAt(Et+1);je.changeDecorations(zt=>{this._marker&&zt.removeDecoration(this._marker),this._marker=zt.addDecoration(l.Q.fromPositions(at,Vt),this._decorationOptions)})}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.changeDecorations(je=>{je.removeDecoration(this._marker),this._marker=void 0})}delta(je){if(this._model.isDisposed()||this._position.lineNumber!==je.lineNumber)return 0;if(this._marker){const at=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(at.getStartPosition())-this._model.getOffsetAt(je)}return this._model.getLineMaxColumn(je.lineNumber)-je.column}}let Rn=mn=class{static get(je){return je.getContribution(mn.ID)}constructor(je,at,Mt,Et,Vt,zt,sn){this._memoryService=at,this._commandService=Mt,this._contextKeyService=Et,this._instantiationService=Vt,this._logService=zt,this._telemetryService=sn,this._lineSuffix=new b.HE,this._toDispose=new b.Cm,this._selectors=new Qn(gi=>gi.priority),this._onWillInsertSuggestItem=new C.vl,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=je,this.model=Vt.createInstance(z.Y,this.editor),this._selectors.register({priority:0,select:(gi,ai,li)=>this._memoryService.select(gi,ai,li)});const kn=X.ob.InsertMode.bindTo(Et);kn.set(je.getOption(118).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>kn.set(je.getOption(118).insertMode))),this.widget=this._toDispose.add(new K.Ij((0,K.zk)(je.getDomNode()),()=>{const gi=this._instantiationService.createInstance(un,this.editor);this._toDispose.add(gi),this._toDispose.add(gi.onDidSelect(Pi=>this._insertSuggestion(Pi,0),this));const ai=new oe(this.editor,gi,this.model,Pi=>this._insertSuggestion(Pi,2));this._toDispose.add(ai);const li=X.ob.MakesTextEdit.bindTo(this._contextKeyService),$i=X.ob.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Zi=X.ob.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,b.s)(()=>{li.reset(),$i.reset(),Zi.reset()})),this._toDispose.add(gi.onDidFocus(({item:Pi})=>{const At=this.editor.getPosition(),Rt=Pi.editStart.column,Pt=At.column;let hn=!0;"smart"===this.editor.getOption(1)&&2===this.model.state&&!Pi.completion.additionalTextEdits&&!(4&Pi.completion.insertTextRules)&&Pt-Rt===Pi.completion.insertText.length&&(hn=this.editor.getModel().getValueInRange({startLineNumber:At.lineNumber,startColumn:Rt,endLineNumber:At.lineNumber,endColumn:Pt})!==Pi.completion.insertText),li.set(hn),$i.set(!r.y.equals(Pi.editInsertEnd,Pi.editReplaceEnd)),Zi.set(!!Pi.provider.resolveCompletionItem||!!Pi.completion.documentation||Pi.completion.detail!==Pi.completion.label)})),this._toDispose.add(gi.onDetailsKeyDown(Pi=>{Pi.toKeyCodeChord().equals(new S.dG(!0,!1,!1,!1,33))||P.zx&&Pi.toKeyCodeChord().equals(new S.dG(!1,!1,!1,!0,33))?Pi.stopPropagation():Pi.toKeyCodeChord().isModifierKey()||this.editor.focus()})),gi})),this._overtypingCapturer=this._toDispose.add(new K.Ij((0,K.zk)(je.getDomNode()),()=>this._toDispose.add(new G(this.editor,this.model)))),this._alternatives=this._toDispose.add(new K.Ij((0,K.zk)(je.getDomNode()),()=>this._toDispose.add(new W(this.editor,this._contextKeyService)))),this._toDispose.add(Vt.createInstance(H,je)),this._toDispose.add(this.model.onDidTrigger(gi=>{this.widget.value.showTriggered(gi.auto,gi.shy?250:50),this._lineSuffix.value=new On(this.editor.getModel(),gi.position)})),this._toDispose.add(this.model.onDidSuggest(gi=>{if(gi.triggerOptions.shy)return;let ai=-1;for(const $i of this._selectors.itemsOrderedByPriorityDesc)if(ai=$i.select(this.editor.getModel(),this.editor.getPosition(),gi.completionModel.items),-1!==ai)break;if(-1===ai&&(ai=0),0===this.model.state)return;let li=!1;if(gi.triggerOptions.auto){const $i=this.editor.getOption(118);"never"===$i.selectionMode||"always"===$i.selectionMode?li="never"===$i.selectionMode:"whenTriggerCharacter"===$i.selectionMode?li=1!==gi.triggerOptions.triggerKind:"whenQuickSuggestion"===$i.selectionMode&&(li=1===gi.triggerOptions.triggerKind&&!gi.triggerOptions.refilter)}this.widget.value.showSuggestions(gi.completionModel,ai,gi.isFrozen,gi.triggerOptions.auto,li)})),this._toDispose.add(this.model.onDidCancel(gi=>{gi.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));const oi=X.ob.AcceptSuggestionsOnEnter.bindTo(Et),mi=()=>{const gi=this.editor.getOption(1);oi.set("on"===gi||"smart"===gi)};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>mi())),mi()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(je,at){if(!je||!je.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const Mt=p.O.get(this.editor);if(!Mt)return;this._onWillInsertSuggestItem.fire({item:je.item});const Et=this.editor.getModel(),Vt=Et.getAlternativeVersionId(),{item:zt}=je,sn=[],kn=new w.Qi;1&at||this.editor.pushUndoStop();const oi=this.getOverwriteInfo(zt,!!(8&at));this._memoryService.memorize(Et,this.editor.getPosition(),zt);const mi=zt.isResolved;let gi=-1,ai=-1;if(Array.isArray(zt.completion.additionalTextEdits)){this.model.cancel();const $i=_.D.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",zt.completion.additionalTextEdits.map(Zi=>{let Pi=l.Q.lift(Zi.range);if(Pi.startLineNumber===zt.position.lineNumber&&Pi.startColumn>zt.position.column){const At=this.editor.getPosition().column-zt.position.column,Rt=At,Pt=l.Q.spansMultipleLines(Pi)?0:At;Pi=new l.Q(Pi.startLineNumber,Pi.startColumn+Rt,Pi.endLineNumber,Pi.endColumn+Pt)}return d.k.replaceMove(Pi,Zi.text)})),$i.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!mi){const $i=new D.W;let Zi;const Pi=Et.onDidChangeContent(hn=>{if(hn.isFlush)return kn.cancel(),void Pi.dispose();for(const An of hn.changes){const Hn=l.Q.getEndPosition(An.range);(!Zi||r.y.isBefore(Hn,Zi))&&(Zi=Hn)}}),At=at;at|=2;let Rt=!1;const Pt=this.editor.onWillType(()=>{Pt.dispose(),Rt=!0,2&At||this.editor.pushUndoStop()});sn.push(zt.resolve(kn.token).then(()=>{if(!zt.completion.additionalTextEdits||kn.token.isCancellationRequested)return;if(Zi&&zt.completion.additionalTextEdits.some(An=>r.y.isBefore(Zi,l.Q.getStartPosition(An.range))))return!1;Rt&&this.editor.pushUndoStop();const hn=_.D.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",zt.completion.additionalTextEdits.map(An=>d.k.replaceMove(l.Q.lift(An.range),An.text))),hn.restoreRelativeVerticalPositionOfCursor(this.editor),(Rt||!(2&At))&&this.editor.pushUndoStop(),!0}).then(hn=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",$i.elapsed(),hn),ai=!0===hn?1:!1===hn?0:-2}).finally(()=>{Pi.dispose(),Pt.dispose()}))}let{insertText:li}=zt.completion;if(4&zt.completion.insertTextRules||(li=m.fr.escape(li)),this.model.cancel(),Mt.insert(li,{overwriteBefore:oi.overwriteBefore,overwriteAfter:oi.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&zt.completion.insertTextRules),clipboardText:je.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&at||this.editor.pushUndoStop(),zt.completion.command)if(zt.completion.command.id===fi.id)this.model.trigger({auto:!0,retrigger:!0});else{const $i=new D.W;sn.push(this._commandService.executeCommand(zt.completion.command.id,...zt.completion.command.arguments?[...zt.completion.command.arguments]:[]).catch(Zi=>{zt.completion.extensionId?(0,x.M_)(Zi):(0,x.dz)(Zi)}).finally(()=>{gi=$i.elapsed()}))}4&at&&this._alternatives.value.set(je,$i=>{for(kn.cancel();Et.canUndo();){Vt!==Et.getAlternativeVersionId()&&Et.undo(),this._insertSuggestion($i,3|(8&at?8:0));break}}),this._alertCompletionItem(zt),Promise.all(sn).finally(()=>{this._reportSuggestionAcceptedTelemetry(zt,Et,mi,gi,ai),this.model.clear(),kn.dispose()})}_reportSuggestionAcceptedTelemetry(je,at,Mt,Et,Vt){var zt,sn,kn;0!==Math.floor(100*Math.random())&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:null!==(sn=null===(zt=je.extensionId)||void 0===zt?void 0:zt.value)&&void 0!==sn?sn:"unknown",providerId:null!==(kn=je.provider._debugDisplayName)&&void 0!==kn?kn:"unknown",kind:je.completion.kind,basenameHash:(0,jn.tW)((0,wt.P8)(at.uri)).toString(16),languageId:at.getLanguageId(),fileExtension:(0,wt.LC)(at.uri),resolveInfo:je.provider.resolveCompletionItem?Mt?1:0:-1,resolveDuration:je.resolveDuration,commandDuration:Et,additionalEditsAsync:Vt})}getOverwriteInfo(je,at){(0,v.j)(this.editor.hasModel());let Mt="replace"===this.editor.getOption(118).insertMode;at&&(Mt=!Mt);const Vt=(Mt?je.editReplaceEnd.column:je.editInsertEnd.column)-je.position.column;return{overwriteBefore:je.position.column-je.editStart.column+(this.editor.getPosition().column-je.position.column),overwriteAfter:Vt+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(je){if((0,F.EI)(je.completion.additionalTextEdits)){const at=L.kg("aria.alert.snippet","Accepting '{0}' made {1} additional edits",je.textLabel,je.completion.additionalTextEdits.length);(0,a.xE)(at)}}triggerSuggest(je,at,Mt){this.editor.hasModel()&&(this.model.trigger({auto:at??!1,completionOptions:{providerFilter:je,kindFilter:Mt?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(je){if(!this.editor.hasModel())return;const at=this.editor.getPosition(),Mt=()=>{at.equals(this.editor.getPosition())&&this._commandService.executeCommand(je.fallback)},Et=Vt=>{if(4&Vt.completion.insertTextRules||Vt.completion.additionalTextEdits)return!0;const zt=this.editor.getPosition(),sn=Vt.editStart.column,kn=zt.column;return kn-sn!==Vt.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:zt.lineNumber,startColumn:sn,endLineNumber:zt.lineNumber,endColumn:kn})!==Vt.completion.insertText};C.Jh.once(this.model.onDidTrigger)(Vt=>{const zt=[];C.Jh.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,b.AS)(zt),Mt()},void 0,zt),this.model.onDidSuggest(({completionModel:sn})=>{if((0,b.AS)(zt),0===sn.items.length)return void Mt();const kn=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),sn.items),oi=sn.items[kn];Et(oi)?(this.editor.pushUndoStop(),this._insertSuggestion({index:kn,item:oi,model:sn},7)):Mt()},void 0,zt)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(at,0),this.editor.focus()}acceptSelectedSuggestion(je,at){const Mt=this.widget.value.getFocusedItem();let Et=0;je&&(Et|=4),at&&(Et|=8),this._insertSuggestion(Mt,Et)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(je){return this._selectors.register(je)}};Rn.ID="editor.contrib.suggestController",Rn=mn=function(Xt,je,at,Mt){var zt,Et=arguments.length,Vt=Et<3?je:null===Mt?Mt=Object.getOwnPropertyDescriptor(je,at):Mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Vt=Reflect.decorate(Xt,je,at,Mt);else for(var sn=Xt.length-1;sn>=0;sn--)(zt=Xt[sn])&&(Vt=(Et<3?zt(Vt):Et>3?zt(je,at,Vt):zt(je,at))||Vt);return Et>3&&Vt&&Object.defineProperty(je,at,Vt),Vt}([Wt(1,T.GS),Wt(2,j.d),Wt(3,A.fN),Wt(4,Z._Y),Wt(5,te.rr),Wt(6,Kn.k)],Rn);class Qn{constructor(je){this.prioritySelector=je,this._items=new Array}register(je){if(-1!==this._items.indexOf(je))throw new Error("Value is already registered");return this._items.push(je),this._items.sort((at,Mt)=>this.prioritySelector(Mt)-this.prioritySelector(at)),{dispose:()=>{const at=this._items.indexOf(je);at>=0&&this._items.splice(at,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}let fi=(()=>{class Xt extends f.ks{constructor(){super({id:Xt.id,label:L.kg("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:A.M$.and(g.R.writable,g.R.hasCompletionItemProvider,X.ob.Visible.toNegated()),kbOpts:{kbExpr:g.R.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(at,Mt,Et){const Vt=Rn.get(Mt);if(!Vt)return;let zt;Et&&"object"==typeof Et&&!0===Et.auto&&(zt=!0),Vt.triggerSuggest(void 0,zt,void 0)}}return Xt.id="editor.action.triggerSuggest",Xt})();(0,f.HW)(Rn.ID,Rn,2),(0,f.Fl)(fi);const Mn=190,Sn=f.DX.bindToContribution(Rn.get);(0,f.E_)(new Sn({id:"acceptSelectedSuggestion",precondition:A.M$.and(X.ob.Visible,X.ob.HasFocusedSuggestion),handler(Xt){Xt.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:A.M$.and(X.ob.Visible,g.R.textInputFocus),weight:Mn},{primary:3,kbExpr:A.M$.and(X.ob.Visible,g.R.textInputFocus,X.ob.AcceptSuggestionsOnEnter,X.ob.MakesTextEdit),weight:Mn}],menuOpts:[{menuId:X.dt,title:L.kg("accept.insert","Insert"),group:"left",order:1,when:X.ob.HasInsertAndReplaceRange.toNegated()},{menuId:X.dt,title:L.kg("accept.insert","Insert"),group:"left",order:1,when:A.M$.and(X.ob.HasInsertAndReplaceRange,X.ob.InsertMode.isEqualTo("insert"))},{menuId:X.dt,title:L.kg("accept.replace","Replace"),group:"left",order:1,when:A.M$.and(X.ob.HasInsertAndReplaceRange,X.ob.InsertMode.isEqualTo("replace"))}]})),(0,f.E_)(new Sn({id:"acceptAlternativeSelectedSuggestion",precondition:A.M$.and(X.ob.Visible,g.R.textInputFocus,X.ob.HasFocusedSuggestion),kbOpts:{weight:Mn,kbExpr:g.R.textInputFocus,primary:1027,secondary:[1026]},handler(Xt){Xt.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:X.dt,group:"left",order:2,when:A.M$.and(X.ob.HasInsertAndReplaceRange,X.ob.InsertMode.isEqualTo("insert")),title:L.kg("accept.replace","Replace")},{menuId:X.dt,group:"left",order:2,when:A.M$.and(X.ob.HasInsertAndReplaceRange,X.ob.InsertMode.isEqualTo("replace")),title:L.kg("accept.insert","Insert")}]})),j.w.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,f.E_)(new Sn({id:"hideSuggestWidget",precondition:X.ob.Visible,handler:Xt=>Xt.cancelSuggestWidget(),kbOpts:{weight:Mn,kbExpr:g.R.textInputFocus,primary:9,secondary:[1033]}})),(0,f.E_)(new Sn({id:"selectNextSuggestion",precondition:A.M$.and(X.ob.Visible,A.M$.or(X.ob.MultipleSuggestions,X.ob.HasFocusedSuggestion.negate())),handler:Xt=>Xt.selectNextSuggestion(),kbOpts:{weight:Mn,kbExpr:g.R.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,f.E_)(new Sn({id:"selectNextPageSuggestion",precondition:A.M$.and(X.ob.Visible,A.M$.or(X.ob.MultipleSuggestions,X.ob.HasFocusedSuggestion.negate())),handler:Xt=>Xt.selectNextPageSuggestion(),kbOpts:{weight:Mn,kbExpr:g.R.textInputFocus,primary:12,secondary:[2060]}})),(0,f.E_)(new Sn({id:"selectLastSuggestion",precondition:A.M$.and(X.ob.Visible,A.M$.or(X.ob.MultipleSuggestions,X.ob.HasFocusedSuggestion.negate())),handler:Xt=>Xt.selectLastSuggestion()})),(0,f.E_)(new Sn({id:"selectPrevSuggestion",precondition:A.M$.and(X.ob.Visible,A.M$.or(X.ob.MultipleSuggestions,X.ob.HasFocusedSuggestion.negate())),handler:Xt=>Xt.selectPrevSuggestion(),kbOpts:{weight:Mn,kbExpr:g.R.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,f.E_)(new Sn({id:"selectPrevPageSuggestion",precondition:A.M$.and(X.ob.Visible,A.M$.or(X.ob.MultipleSuggestions,X.ob.HasFocusedSuggestion.negate())),handler:Xt=>Xt.selectPrevPageSuggestion(),kbOpts:{weight:Mn,kbExpr:g.R.textInputFocus,primary:11,secondary:[2059]}})),(0,f.E_)(new Sn({id:"selectFirstSuggestion",precondition:A.M$.and(X.ob.Visible,A.M$.or(X.ob.MultipleSuggestions,X.ob.HasFocusedSuggestion.negate())),handler:Xt=>Xt.selectFirstSuggestion()})),(0,f.E_)(new Sn({id:"focusSuggestion",precondition:A.M$.and(X.ob.Visible,X.ob.HasFocusedSuggestion.negate()),handler:Xt=>Xt.focusSuggestion(),kbOpts:{weight:Mn,kbExpr:g.R.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,f.E_)(new Sn({id:"focusAndAcceptSuggestion",precondition:A.M$.and(X.ob.Visible,X.ob.HasFocusedSuggestion.negate()),handler:Xt=>{Xt.focusSuggestion(),Xt.acceptSelectedSuggestion(!0,!1)}})),(0,f.E_)(new Sn({id:"toggleSuggestionDetails",precondition:A.M$.and(X.ob.Visible,X.ob.HasFocusedSuggestion),handler:Xt=>Xt.toggleSuggestionDetails(),kbOpts:{weight:Mn,kbExpr:g.R.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:X.dt,group:"right",order:1,when:A.M$.and(X.ob.DetailsVisible,X.ob.CanResolve),title:L.kg("detail.more","show less")},{menuId:X.dt,group:"right",order:1,when:A.M$.and(X.ob.DetailsVisible.toNegated(),X.ob.CanResolve),title:L.kg("detail.less","show more")}]})),(0,f.E_)(new Sn({id:"toggleExplainMode",precondition:X.ob.Visible,handler:Xt=>Xt.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,f.E_)(new Sn({id:"toggleSuggestionFocus",precondition:X.ob.Visible,handler:Xt=>Xt.toggleSuggestionFocus(),kbOpts:{weight:Mn,kbExpr:g.R.textInputFocus,primary:2570,mac:{primary:778}}})),(0,f.E_)(new Sn({id:"insertBestCompletion",precondition:A.M$.and(g.R.textInputFocus,A.M$.equals("config.editor.tabCompletion","on"),H.AtEnd,X.ob.Visible.toNegated(),W.OtherSuggestions.toNegated(),p.O.InSnippetMode.toNegated()),handler:(Xt,je)=>{Xt.triggerSuggestAndAcceptBest((0,v.Gv)(je)?{fallback:"tab",...je}:{fallback:"tab"})},kbOpts:{weight:Mn,primary:2}})),(0,f.E_)(new Sn({id:"insertNextSuggestion",precondition:A.M$.and(g.R.textInputFocus,A.M$.equals("config.editor.tabCompletion","on"),W.OtherSuggestions,X.ob.Visible.toNegated(),p.O.InSnippetMode.toNegated()),handler:Xt=>Xt.acceptNextSuggestion(),kbOpts:{weight:Mn,kbExpr:g.R.textInputFocus,primary:2}})),(0,f.E_)(new Sn({id:"insertPrevSuggestion",precondition:A.M$.and(g.R.textInputFocus,A.M$.equals("config.editor.tabCompletion","on"),W.OtherSuggestions,X.ob.Visible.toNegated(),p.O.InSnippetMode.toNegated()),handler:Xt=>Xt.acceptPrevSuggestion(),kbOpts:{weight:Mn,kbExpr:g.R.textInputFocus,primary:1026}})),(0,f.Fl)(class extends f.ks{constructor(){super({id:"editor.action.resetSuggestSize",label:L.kg("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(Xt,je){var at;null===(at=Rn.get(je))||void 0===at||at.resetWidgetSize()}})},47899:(tt,xe,t)=>{var a=t(10467),F=t(21468),w=t(28467),x=t(28481),C=t(99031),S=t(31212),b=t(73678),P=t(1153),D=t(15307),v=t(27398),_=t(84031),f=t(48312),d=t(42206),r=t(74126),l=t(66229),g=function(k,O,N,H){var Z,L=arguments.length,j=L<3?O:null===H?H=Object.getOwnPropertyDescriptor(O,N):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(k,O,N,H);else for(var te=k.length-1;te>=0;te--)(Z=k[te])&&(j=(L<3?Z(j):L>3?Z(O,N,j):Z(O,N))||j);return L>3&&j&&Object.defineProperty(O,N,j),j},p=function(k,O){return function(N,H){O(N,H,k)}};class m{constructor(O,N,H,L,j,Z){this.range=O,this.insertText=N,this.filterText=H,this.additionalTextEdits=L,this.command=j,this.completion=Z}}let T=class extends C.mp{constructor(O,N,H,L,j,Z){super(j.disposable),this.model=O,this.line=N,this.word=H,this.completionModel=L,this._suggestMemoryService=Z}canBeReused(O,N,H){return this.model===O&&this.line===N&&this.word.word.length>0&&this.word.startColumn===H.startColumn&&this.word.endColumn<H.endColumn&&0===this.completionModel.getIncompleteProvider().size}get items(){var O;const N=[],{items:H}=this.completionModel,L=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},H),j=x.f.slice(H,L),Z=x.f.slice(H,0,L);let te=5;for(const X of x.f.concat(j,Z)){if(X.score===w.ne.Default)continue;const U=new b.Q(X.editStart.lineNumber,X.editStart.column,X.editInsertEnd.lineNumber,X.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta);N.push(new m(U,X.completion.insertTextRules&&4&X.completion.insertTextRules?{snippet:X.completion.insertText}:X.completion.insertText,null!==(O=X.filterTextLow)&&void 0!==O?O:X.labelLow,X.completion.additionalTextEdits,X.completion.command,X)),te-- >=0&&X.resolve(F.XO.None)}return N}};T=g([p(5,f.GS)],T);let A=class extends C.jG{constructor(O,N,H,L){super(),this._languageFeatureService=O,this._clipboardService=N,this._suggestMemoryService=H,this._editorService=L,this._store.add(O.inlineCompletionsProvider.register("*",this))}provideInlineCompletions(O,N,H,L){var j=this;return(0,a.A)(function*(){var Z;if(H.selectedSuggestionInfo)return;let te;for(const z of j._editorService.listCodeEditors())if(z.getModel()===O){te=z;break}if(!te)return;const X=te.getOption(89);if(_.r3.isAllOff(X))return;O.tokenization.tokenizeIfCheap(N.lineNumber);const U=O.tokenization.getLineTokens(N.lineNumber),q=U.getStandardTokenType(U.findTokenIndexAtOffset(Math.max(N.column-1-1,0)));if("inline"!==_.r3.valueFor(X,q))return;let W,Y,R=O.getWordAtPosition(N);if(R?.word||(W=j._getTriggerCharacterInfo(O,N)),!R?.word&&!W||(R||(R=O.getWordUntilPosition(N)),R.endColumn!==N.column))return;const oe=O.getValueInRange(new b.Q(N.lineNumber,1,N.lineNumber,N.column));if(!W&&null!==(Z=j._lastResult)&&void 0!==Z&&Z.canBeReused(O,N.lineNumber,R)){const z=new v.O(oe,N.column-j._lastResult.word.endColumn);j._lastResult.completionModel.lineContext=z,j._lastResult.acquire(),Y=j._lastResult}else{const z=yield(0,_.aR)(j._languageFeatureService.completionProvider,O,N,new _.l1(void 0,d.Y.createSuggestFilter(te).itemKind,W?.providers),W&&{triggerKind:1,triggerCharacter:W.ch},L);let G;z.needsClipboard&&(G=yield j._clipboardService.readText());const Q=new v.C(z.items,N.column,new v.O(oe,0),r.S.None,te.getOption(118),te.getOption(112),{boostFullMatch:!1,firstMatchCanBeWeak:!1},G);Y=new T(O,N.lineNumber,R,Q,z,j._suggestMemoryService)}return j._lastResult=Y,Y})()}handleItemDidShow(O,N){N.completion.resolve(F.XO.None)}freeInlineCompletions(O){O.release()}_getTriggerCharacterInfo(O,N){var H;const L=O.getValueInRange(b.Q.fromPositions({lineNumber:N.lineNumber,column:N.column-1},N)),j=new Set;for(const Z of this._languageFeatureService.completionProvider.all(O))null!==(H=Z.triggerCharacters)&&void 0!==H&&H.includes(L)&&j.add(Z);if(0!==j.size)return{providers:j,ch:L}}};A=g([p(0,D.u),p(1,l.h),p(2,f.GS),p(3,S.T)],A),(0,P.x)(A)},48312:(tt,xe,t)=>{t.d(xe,{GS:()=>m});var f,a=t(86671),F=t(99031),w=t(20053),x=t(98360),C=t(41489),S=t(35072),b=t(56789),P=t(598),D=t(16815),_=function(T,A){return function(k,O){A(k,O,T)}};class d{constructor(A){this.name=A}select(A,k,O){if(0===O.length)return 0;const N=O[0].score[0];for(let H=0;H<O.length;H++){const{score:L,completion:j}=O[H];if(L[0]!==N)break;if(j.preselect)return H}return 0}}class r extends d{constructor(){super("first")}memorize(A,k,O){}toJSON(){}fromJSON(){}}let p=f=class{constructor(A,k){this._storageService=A,this._configService=k,this._disposables=new F.Cm,this._persistSoon=new a.uC(()=>this._saveState(),500),this._disposables.add(A.onWillSaveState(O=>{O.reason===D.LP.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(A,k,O){this._withStrategy(A,k).memorize(A,k,O),this._persistSoon.schedule()}select(A,k,O){return this._withStrategy(A,k).select(A,k,O)}_withStrategy(A,k){var O;const N=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:A.getLanguageIdAtPosition(k.lineNumber,k.column),resource:A.uri});if((null===(O=this._strategy)||void 0===O?void 0:O.name)!==N){this._saveState();const H=f._strategyCtors.get(N)||r;this._strategy=new H;try{const j=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,Z=this._storageService.get(`${f._storagePrefix}/${N}`,j);Z&&this._strategy.fromJSON(JSON.parse(Z))}catch{}}return this._strategy}_saveState(){if(this._strategy){const k=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,O=JSON.stringify(this._strategy);this._storageService.store(`${f._storagePrefix}/${this._strategy.name}`,O,k,1)}}};p._strategyCtors=new Map([["recentlyUsedByPrefix",class g extends d{constructor(){super("recentlyUsedByPrefix"),this._trie=x.cB.forStrings(),this._seq=0}memorize(A,k,O){const{word:N}=A.getWordUntilPosition(k),H=`${A.getLanguageId()}/${N}`;this._trie.set(H,{type:O.completion.kind,insertText:O.completion.insertText,touch:this._seq++})}select(A,k,O){const{word:N}=A.getWordUntilPosition(k);if(!N)return super.select(A,k,O);const H=`${A.getLanguageId()}/${N}`;let L=this._trie.get(H);if(L||(L=this._trie.findSubstr(H)),L)for(let j=0;j<O.length;j++){const{kind:Z,insertText:te}=O[j].completion;if(Z===L.type&&te===L.insertText)return j}return super.select(A,k,O)}toJSON(){const A=[];return this._trie.forEach((k,O)=>A.push([O,k])),A.sort((k,O)=>-(k[1].touch-O[1].touch)).forEach((k,O)=>k[1].touch=O),A.slice(0,200)}fromJSON(A){if(this._trie.clear(),A.length>0){this._seq=A[0][1].touch+1;for(const[k,O]of A)O.type="number"==typeof O.type?O.type:C.HC.fromString(O.type),this._trie.set(k,O)}}}],["recentlyUsed",class l extends d{constructor(){super("recentlyUsed"),this._cache=new w.qK(300,.66),this._seq=0}memorize(A,k,O){const N=`${A.getLanguageId()}/${O.textLabel}`;this._cache.set(N,{touch:this._seq++,type:O.completion.kind,insertText:O.completion.insertText})}select(A,k,O){if(0===O.length)return 0;const N=A.getLineContent(k.lineNumber).substr(k.column-10,k.column-1);if(/\s$/.test(N))return super.select(A,k,O);const H=O[0].score[0];let j=-1,Z=-1;for(let te=0;te<O.length&&O[te].score[0]===H;te++){const X=`${A.getLanguageId()}/${O[te].textLabel}`,U=this._cache.peek(X);if(U&&U.touch>Z&&U.type===O[te].completion.kind&&U.insertText===O[te].completion.insertText&&(Z=U.touch,j=te),O[te].completion.preselect)return te}return-1!==j?j:0}toJSON(){return this._cache.toJSON()}fromJSON(A){this._cache.clear();for(const[O,N]of A)N.touch=0,N.type="number"==typeof N.type?N.type:C.HC.fromString(N.type),this._cache.set(O,N);this._seq=this._cache.size}}],["first",r]]),p._storagePrefix="suggest/memories",p=f=function(T,A,k,O){var L,N=arguments.length,H=N<3?A:null===O?O=Object.getOwnPropertyDescriptor(A,k):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(T,A,k,O);else for(var j=T.length-1;j>=0;j--)(L=T[j])&&(H=(N<3?L(H):N>3?L(A,k,H):L(A,k))||H);return N>3&&H&&Object.defineProperty(A,k,H),H}([_(0,D.CS),_(1,S.pG)],p);const m=(0,P.u1)("ISuggestMemories");(0,b.v)(m,p,1)},42206:(tt,xe,t)=>{t.d(xe,{Y:()=>U});var j,a=t(10467),F=t(86671),w=t(21468),x=t(25680),C=t(5643),S=t(99031),b=t(6653),P=t(14105),D=t(34225),v=t(74126),_=t(66229),f=t(35072),d=t(50168),r=t(52152),l=t(55922),g=t(27398),p=t(84031),m=t(15307),T=t(28467),A=t(66702),k=t(93797),O=t(3089),N=t(57558),L=function(q,R){return function(W,Y){R(W,Y,q)}};class Z{static shouldAutoTrigger(R){if(!R.hasModel())return!1;const W=R.getModel(),Y=R.getPosition();W.tokenization.tokenizeIfCheap(Y.lineNumber);const oe=W.getWordAtPosition(Y);return!(!oe||oe.endColumn!==Y.column&&oe.startColumn+1!==Y.column||!isNaN(Number(oe.word)))}constructor(R,W,Y){this.leadingLineContent=R.getLineContent(W.lineNumber).substr(0,W.column-1),this.leadingWord=R.getWordUntilPosition(W),this.lineNumber=W.lineNumber,this.column=W.column,this.triggerOptions=Y}}let U=j=class{constructor(R,W,Y,oe,z,G,Q,K,ie){this._editor=R,this._editorWorkerService=W,this._clipboardService=Y,this._telemetryService=oe,this._logService=z,this._contextKeyService=G,this._configurationService=Q,this._languageFeaturesService=K,this._envService=ie,this._toDispose=new S.Cm,this._triggerCharacterListener=new S.Cm,this._triggerQuickSuggest=new F.pc,this._triggerState=void 0,this._completionDisposables=new S.Cm,this._onDidCancel=new C.vl,this._onDidTrigger=new C.vl,this._onDidSuggest=new C.vl,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new P.L(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let ae=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{ae=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{ae=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(de=>{ae||this._onCursorChange(de)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!ae&&void 0!==this._triggerState&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,S.AS)(this._triggerCharacterListener),(0,S.AS)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(91)||!this._editor.hasModel()||!this._editor.getOption(121))return;const R=new Map;for(const Y of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const oe of Y.triggerCharacters||[]){let z=R.get(oe);z||(z=new Set,z.add((0,p.f3)()),R.set(oe,z)),z.add(Y)}const W=Y=>{var oe;if(!function X(q,R,W){if(!R.getContextKeyValue("inlineSuggestionVisible"))return!0;const Y=R.getContextKeyValue(k.p.suppressSuggestions.key);return void 0!==Y?!Y:!q.getOption(62).suppressSuggestions}(this._editor,this._contextKeyService)||Z.shouldAutoTrigger(this._editor))return;if(!Y){const Q=this._editor.getPosition();Y=this._editor.getModel().getLineContent(Q.lineNumber).substr(0,Q.column-1)}let z="";(0,b.LJ)(Y.charCodeAt(Y.length-1))?(0,b.pc)(Y.charCodeAt(Y.length-2))&&(z=Y.substr(Y.length-2)):z=Y.charAt(Y.length-1);const G=R.get(z);if(G){const Q=new Map;if(this._completionModel)for(const[K,ie]of this._completionModel.getItemsByProvider())G.has(K)||Q.set(K,ie);this.trigger({auto:!0,triggerKind:1,triggerCharacter:z,retrigger:!!this._completionModel,clipboardText:null===(oe=this._completionModel)||void 0===oe?void 0:oe.clipboardText,completionOptions:{providerFilter:G,providerItemsToReuse:Q}})}};this._triggerCharacterListener.add(this._editor.onDidType(W)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>W()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(R=!1){var W;void 0!==this._triggerState&&(this._triggerQuickSuggest.cancel(),null===(W=this._requestToken)||void 0===W||W.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:R}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){void 0!==this._triggerState&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:this._triggerState.auto,retrigger:!0}):this.cancel())}_onCursorChange(R){if(!this._editor.hasModel())return;const W=this._currentSelection;this._currentSelection=this._editor.getSelection(),!R.selection.isEmpty()||0!==R.reason&&3!==R.reason||"keyboard"!==R.source&&"deleteLeft"!==R.source?this.cancel():void 0===this._triggerState&&0===R.reason?(W.containsRange(this._currentSelection)||W.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():void 0!==this._triggerState&&3===R.reason&&this._refilterCompletionItems()}_onCompositionEnd(){void 0===this._triggerState?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var R;p.r3.isAllOff(this._editor.getOption(89))||this._editor.getOption(118).snippetsPreventQuickSuggestions&&null!==(R=O.O.get(this._editor))&&void 0!==R&&R.isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(void 0!==this._triggerState||!Z.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const W=this._editor.getModel(),Y=this._editor.getPosition(),oe=this._editor.getOption(89);if(!p.r3.isAllOff(oe)){if(!p.r3.isAllOn(oe)){W.tokenization.tokenizeIfCheap(Y.lineNumber);const z=W.tokenization.getLineTokens(Y.lineNumber),G=z.getStandardTokenType(z.findTokenIndexAtOffset(Math.max(Y.column-1-1,0)));if("on"!==p.r3.valueFor(oe,G))return}(function te(q,R,W){if(!R.getContextKeyValue(k.p.inlineSuggestionVisible.key))return!0;const Y=R.getContextKeyValue(k.p.suppressSuggestions.key);return void 0!==Y?!Y:!q.getOption(62).suppressSuggestions})(this._editor,this._contextKeyService)&&this._languageFeaturesService.completionProvider.has(W)&&this.trigger({auto:!0})}},this._editor.getOption(90)))}_refilterCompletionItems(){(0,A.j)(this._editor.hasModel()),(0,A.j)(void 0!==this._triggerState);const R=this._editor.getModel(),W=this._editor.getPosition(),Y=new Z(R,W,{...this._triggerState,refilter:!0});this._onNewContext(Y)}trigger(R){var Y,oe,z,G,Q,K,W=this;if(!this._editor.hasModel())return;const ie=this._editor.getModel(),ae=new Z(ie,this._editor.getPosition(),R);this.cancel(R.retrigger),this._triggerState=R,this._onDidTrigger.fire({auto:R.auto,shy:null!==(Y=R.shy)&&void 0!==Y&&Y,position:this._editor.getPosition()}),this._context=ae;let de={triggerKind:null!==(oe=R.triggerKind)&&void 0!==oe?oe:0};R.triggerCharacter&&(de={triggerKind:1,triggerCharacter:R.triggerCharacter}),this._requestToken=new w.Qi;let ge=1;switch(this._editor.getOption(112)){case"top":ge=0;break;case"bottom":ge=2}const{itemKind:_e,showDeprecated:ye}=j.createSuggestFilter(this._editor),M=new p.l1(ge,null!==(G=null===(z=R.completionOptions)||void 0===z?void 0:z.kindFilter)&&void 0!==G?G:_e,null===(Q=R.completionOptions)||void 0===Q?void 0:Q.providerFilter,null===(K=R.completionOptions)||void 0===K?void 0:K.providerItemsToReuse,ye),ce=v.S.create(this._editorWorkerService,this._editor),Se=(0,p.aR)(this._languageFeaturesService.completionProvider,ie,this._editor.getPosition(),M,de,this._requestToken.token);Promise.all([Se,ce]).then(function(){var Ie=(0,a.A)(function*([ne,ue]){var we;if(null===(we=W._requestToken)||void 0===we||we.dispose(),!W._editor.hasModel())return;let Me=R?.clipboardText;if(!Me&&ne.needsClipboard&&(Me=yield W._clipboardService.readText()),void 0===W._triggerState)return;const Ve=W._editor.getModel(),$e=new Z(Ve,W._editor.getPosition(),R),it={...T.Nd.default,firstMatchCanBeWeak:!W._editor.getOption(118).matchOnWordStartOnly};if(W._completionModel=new g.C(ne.items,W._context.column,{leadingLineContent:$e.leadingLineContent,characterCountDelta:$e.column-W._context.column},ue,W._editor.getOption(118),W._editor.getOption(112),it,Me),W._completionDisposables.add(ne.disposable),W._onNewContext($e),W._reportDurationsTelemetry(ne.durations),!W._envService.isBuilt||W._envService.isExtensionDevelopment)for(const He of ne.items)He.isInvalid&&W._logService.warn(`[suggest] did IGNORE invalid completion item from ${He.provider._debugDisplayName}`,He.completion)});return function(ne){return Ie.apply(this,arguments)}}()).catch(x.dz)}_reportDurationsTelemetry(R){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(R)}),this._logService.debug("suggest.durations.json",R)})}static createSuggestFilter(R){const W=new Set;"none"===R.getOption(112)&&W.add(27);const oe=R.getOption(118);return oe.showMethods||W.add(0),oe.showFunctions||W.add(1),oe.showConstructors||W.add(2),oe.showFields||W.add(3),oe.showVariables||W.add(4),oe.showClasses||W.add(5),oe.showStructs||W.add(6),oe.showInterfaces||W.add(7),oe.showModules||W.add(8),oe.showProperties||W.add(9),oe.showEvents||W.add(10),oe.showOperators||W.add(11),oe.showUnits||W.add(12),oe.showValues||W.add(13),oe.showConstants||W.add(14),oe.showEnums||W.add(15),oe.showEnumMembers||W.add(16),oe.showKeywords||W.add(17),oe.showWords||W.add(18),oe.showColors||W.add(19),oe.showFiles||W.add(20),oe.showReferences||W.add(21),oe.showColors||W.add(22),oe.showFolders||W.add(23),oe.showTypeParameters||W.add(24),oe.showSnippets||W.add(27),oe.showUsers||W.add(25),oe.showIssues||W.add(26),{itemKind:W,showDeprecated:oe.showDeprecated}}_onNewContext(R){if(this._context){if(R.lineNumber!==this._context.lineNumber)return void this.cancel();if((0,b.UU)(R.leadingLineContent)!==(0,b.UU)(this._context.leadingLineContent))return void this.cancel();if(R.column<this._context.column)return void(R.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel());if(this._completionModel){if(0!==R.leadingWord.word.length&&R.leadingWord.startColumn>this._context.leadingWord.startColumn){if(Z.shouldAutoTrigger(this._editor)&&this._context){const Y=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:Y}})}return}if(R.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&0!==R.leadingWord.word.length){const W=new Map,Y=new Set;for(const[oe,z]of this._completionModel.getItemsByProvider())z.length>0&&z[0].container.incomplete?Y.add(oe):W.set(oe,z);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:Y,providerItemsToReuse:W}})}else{const W=this._completionModel.lineContext;let Y=!1;if(this._completionModel.lineContext={leadingLineContent:R.leadingLineContent,characterCountDelta:R.column-this._context.column},0===this._completionModel.items.length){const oe=Z.shouldAutoTrigger(this._editor);if(!this._context)return void this.cancel();if(oe&&this._context.leadingWord.endColumn<R.leadingWord.startColumn)return void this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});if(this._context.triggerOptions.auto)return void this.cancel();if(this._completionModel.lineContext=W,Y=this._completionModel.items.length>0,Y&&0===R.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:R.triggerOptions,isFrozen:Y})}}}}};U=j=function(q,R,W,Y){var G,oe=arguments.length,z=oe<3?R:null===Y?Y=Object.getOwnPropertyDescriptor(R,W):Y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(q,R,W,Y);else for(var Q=q.length-1;Q>=0;Q--)(G=q[Q])&&(z=(oe<3?G(z):oe>3?G(R,W,z):G(R,W))||z);return oe>3&&z&&Object.defineProperty(R,W,z),z}([L(1,D.w),L(2,_.h),L(3,l.k),L(4,r.rr),L(5,d.fN),L(6,f.pG),L(7,m.u),L(8,N.k)],U)},74126:(tt,xe,t)=>{t.d(xe,{S:()=>C});var a=t(10467),F=t(30833),w=t(73678),x=t(60041);class C{static create(b,P){return(0,a.A)(function*(){if(!P.getOption(118).localityBonus||!P.hasModel())return C.None;const D=P.getModel(),v=P.getPosition();if(!b.canComputeWordRanges(D.uri))return C.None;const[_]=yield(new x.n).provideSelectionRanges(D,[v]);if(0===_.length)return C.None;const f=yield b.computeWordRanges(D.uri,_[0].range);if(!f)return C.None;const d=D.getWordUntilPosition(v);return delete f[d.word],new class extends C{distance(r,l){if(!v.equals(P.getPosition()))return 0;if(17===l.kind)return 2<<20;const p=f["string"==typeof l.label?l.label:l.label.label];if((0,F.Ct)(p))return 2<<20;const m=(0,F.El)(p,w.Q.fromPositions(r),w.Q.compareRangesUsingStarts),T=m>=0?p[m]:p[Math.max(0,~m-1)];let A=_.length;for(const k of _){if(!w.Q.containsRange(k.range,T))break;A-=1}return A}}})()}}C.None=new class extends C{distance(){return 0}}},93981:(tt,xe,t)=>{var a=t(85072),F=t.n(a),w=t(97825),x=t.n(w),C=t(77659),S=t.n(C),b=t(55056),P=t.n(b),D=t(10540),v=t.n(D),_=t(41113),f=t.n(_),d=t(51029),r={};r.styleTagTransform=f(),r.setAttributes=P(),r.insert=S().bind(null,"head"),r.domAPI=x(),r.insertStyleElement=v(),F()(d.A,r);var p=t(81644),m=t(85478);(0,m.x1A)("symbolIcon.arrayForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.booleanForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,p.kg)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.colorForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.constantForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,p.kg)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,p.kg)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,p.kg)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,p.kg)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,p.kg)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.fileForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.folderForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,p.kg)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,p.kg)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.keyForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.keywordForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,p.kg)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.moduleForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.namespaceForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.nullForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.numberForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.objectForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.operatorForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.packageForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.propertyForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.referenceForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.snippetForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.stringForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.structForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.textForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.typeParameterForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.unitForeground",{dark:m.CU6,light:m.CU6,hcDark:m.CU6,hcLight:m.CU6},(0,p.kg)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,m.x1A)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,p.kg)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."))},44615:(tt,xe,t)=>{var a=t(39679),F=t(78608),w=t(81644),x=t(79134);(0,x.ug)((()=>{class S extends x.L{constructor(){super({id:S.ID,title:w.aS({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},metadata:{description:w.aS("tabMovesFocusDescriptions","Determines whether the tab key moves focus around the workbench or inserts the tab character in the current editor. This is also called tab trapping, tab navigation, or tab focus mode.")},f1:!0})}run(){const D=!F.M.getTabFocusMode();F.M.setTabFocusMode(D),(0,a.xE)(D?w.kg("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):w.kg("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return S.ID="editor.action.toggleTabFocusMode",S})())},56509:(tt,xe,t)=>{var a=t(42588),F=t(47639),w=t(81644);(0,F.Fl)(class x extends F.ks{constructor(){super({id:"editor.action.forceRetokenize",label:w.kg("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(S,b){if(!b.hasModel())return;const P=b.getModel();P.tokenization.resetTokenization();const D=new a.W;P.tokenization.forceTokenization(P.getLineCount()),D.stop(),console.log(`tokenization took ${D.elapsed()}`)}})},85322:(tt,xe,t)=>{var a=t(10467),F=t(86671),w=t(15320),x=t(13225),C=t(99031),S=t(21828),b=t(6653),P=t(85072),D=t.n(P),v=t(97825),_=t.n(v),f=t(77659),d=t.n(f),r=t(55056),l=t.n(r),g=t(10540),p=t.n(g),m=t(41113),T=t.n(m),A=t(18245),k={};k.styleTagTransform=T(),k.setAttributes=l(),k.insert=d().bind(null,"head"),k.domAPI=_(),k.insertStyleElement=p(),D()(A.A,k);var H=t(47639),L=t(99207),j=t(80753),Z=t(48752),te=t(34225),X=t(385),U=t(11589),q=t(85190),R=t(77487),W=t(6065),Y={};Y.styleTagTransform=T(),Y.setAttributes=l(),Y.insert=d().bind(null,"head"),Y.domAPI=_(),Y.insertStyleElement=p(),D()(W.A,Y);var G=t(91874),Q=t(44906),K=t(64948),ie=t(13157),ae=t(598),de=t(27354),se=t(92873),ge=t(28541),_e=t(5643),ye=t(19438),M=t(4646),ce={};ce.styleTagTransform=T(),ce.setAttributes=l(),ce.insert=d().bind(null,"head"),ce.domAPI=_(),ce.insertStyleElement=p(),D()(M.A,ce);var ne=t(96479),ue=t(79759),Me=function(Yt,en){return function(an,lt){en(an,lt,Yt)}};let Ve=class extends C.jG{get enabled(){return this._enabled}set enabled(en){en?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=en}constructor(en,an,lt={},Nt,tn){var bn,Bn;super(),this._link=an,this._hoverService=Nt,this._enabled=!0,this.el=(0,G.BC)(en,(0,G.$)("a.monaco-link",{tabIndex:null!==(bn=an.tabIndex)&&void 0!==bn?bn:0,href:an.href},an.label)),this.hoverDelegate=null!==(Bn=lt.hoverDelegate)&&void 0!==Bn?Bn:(0,ne.nZ)("mouse"),this.setTooltip(an.title),this.el.setAttribute("role","button");const zn=this._register(new de.f(this.el,"click")),Zn=this._register(new de.f(this.el,"keypress")),ei=_e.Jh.chain(Zn.event,yi=>yi.map(Vi=>new se.Z(Vi)).filter(Vi=>3===Vi.keyCode)),wi=this._register(new de.f(this.el,ge.B.Tap)).event;this._register(ge.q.addTarget(this.el));const hi=_e.Jh.any(zn.event,ei,wi);this._register(hi(yi=>{this.enabled&&(G.fs.stop(yi,!0),lt?.opener?lt.opener(this._link.href):tn.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}setTooltip(en){this.hoverDelegate.showNativeHover?this.el.title=en??"":!this.hover&&en?this.hover=this._register(this._hoverService.setupUpdatableHover(this.hoverDelegate,this.el,en)):this.hover&&this.hover.update(en)}};Ve=function(Yt,en,an,lt){var bn,Nt=arguments.length,tn=Nt<3?en:null===lt?lt=Object.getOwnPropertyDescriptor(en,an):lt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)tn=Reflect.decorate(Yt,en,an,lt);else for(var Bn=Yt.length-1;Bn>=0;Bn--)(bn=Yt[Bn])&&(tn=(Nt<3?bn(tn):Nt>3?bn(en,an,tn):bn(en,an))||tn);return Nt>3&&tn&&Object.defineProperty(en,an,tn),tn}([Me(3,ue.TN),Me(4,ye.C)],Ve);var $e=t(24453),it=t(81072),He=function(Yt,en,an,lt){var bn,Nt=arguments.length,tn=Nt<3?en:null===lt?lt=Object.getOwnPropertyDescriptor(en,an):lt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)tn=Reflect.decorate(Yt,en,an,lt);else for(var Bn=Yt.length-1;Bn>=0;Bn--)(bn=Yt[Bn])&&(tn=(Nt<3?bn(tn):Nt>3?bn(en,an,tn):bn(en,an))||tn);return Nt>3&&tn&&Object.defineProperty(en,an,tn),tn},me=function(Yt,en){return function(an,lt){en(an,lt,Yt)}};let Ee=class extends C.jG{constructor(en,an){super(),this._editor=en,this.instantiationService=an,this.banner=this._register(this.instantiationService.createInstance(be))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(en){this.banner.show({...en,onClose:()=>{var an;this.hide(),null===(an=en.onClose)||void 0===an||an.call(en)}}),this._editor.setBanner(this.banner.element,26)}};Ee=He([me(1,ae._Y)],Ee);let be=class extends C.jG{constructor(en){super(),this.instantiationService=en,this.markdownRenderer=this.instantiationService.createInstance(ie.T,{}),this.element=(0,G.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(en){return en.ariaLabel?en.ariaLabel:"string"==typeof en.message?en.message:void 0}getBannerMessage(en){if("string"==typeof en){const an=(0,G.$)("span");return an.innerText=en,an}return this.markdownRenderer.render(en).element}clear(){(0,G.w_)(this.element)}show(en){(0,G.w_)(this.element);const an=this.getAriaLabel(en);an&&this.element.setAttribute("aria-label",an);const lt=(0,G.BC)(this.element,(0,G.$)("div.icon-container"));lt.setAttribute("aria-hidden","true"),en.icon&&lt.appendChild((0,G.$)(`div${it.L.asCSSSelector(en.icon)}`));const Nt=(0,G.BC)(this.element,(0,G.$)("div.message-container"));if(Nt.setAttribute("aria-hidden","true"),Nt.appendChild(this.getBannerMessage(en.message)),this.messageActionsContainer=(0,G.BC)(this.element,(0,G.$)("div.message-actions-container")),en.actions)for(const bn of en.actions)this._register(this.instantiationService.createInstance(Ve,this.messageActionsContainer,{...bn,tabIndex:-1},{}));const tn=(0,G.BC)(this.element,(0,G.$)("div.action-container"));this.actionBar=this._register(new Q.E(tn)),this.actionBar.push(this._register(new K.rc("banner.close","Close Banner",it.L.asClassName($e.$_),!0,()=>{"function"==typeof en.onClose&&en.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};be=He([me(0,ae._Y)],be);var Ce=t(81644),Ne=t(35072),Fe=t(8086),qe=t(18278),dt=function(Yt,en,an,lt){var bn,Nt=arguments.length,tn=Nt<3?en:null===lt?lt=Object.getOwnPropertyDescriptor(en,an):lt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)tn=Reflect.decorate(Yt,en,an,lt);else for(var Bn=Yt.length-1;Bn>=0;Bn--)(bn=Yt[Bn])&&(tn=(Nt<3?bn(tn):Nt>3?bn(en,an,tn):bn(en,an))||tn);return Nt>3&&tn&&Object.defineProperty(en,an,tn),tn},vt=function(Yt,en){return function(an,lt){en(an,lt,Yt)}};const fn=(0,$e.pU)("extensions-warning-message",w.W.warning,Ce.kg("warningIcon","Icon shown with a warning message in the extensions editor."));let on=class extends C.jG{constructor(en,an,lt,Nt){super(),this._editor=en,this._editorWorkerService=an,this._workspaceTrustService=lt,this._highlighter=null,this._bannerClosed=!1,this._updateState=tn=>{if(tn&&tn.hasMore){if(this._bannerClosed)return;const bn=Math.max(tn.ambiguousCharacterCount,tn.nonBasicAsciiCharacterCount,tn.invisibleCharacterCount);let Bn;if(tn.nonBasicAsciiCharacterCount>=bn)Bn={message:Ce.kg("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new Ze};else if(tn.ambiguousCharacterCount>=bn)Bn={message:Ce.kg("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new St};else{if(!(tn.invisibleCharacterCount>=bn))throw new Error("Unreachable");Bn={message:Ce.kg("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new ke}}this._bannerController.show({id:"unicodeHighlightBanner",message:Bn.message,icon:fn,actions:[{label:Bn.command.shortLabel,href:`command:${Bn.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(Nt.createInstance(Ee,en)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=en.getOption(125),this._register(lt.onDidChangeTrust(tn=>{this._updateHighlighter()})),this._register(en.onDidChangeConfiguration(tn=>{tn.hasChanged(125)&&(this._options=en.getOption(125),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const en=function ht(Yt,en){return{nonBasicASCII:en.nonBasicASCII===L.XR?!Yt:en.nonBasicASCII,ambiguousCharacters:en.ambiguousCharacters,invisibleCharacters:en.invisibleCharacters,includeComments:en.includeComments===L.XR?!Yt:en.includeComments,includeStrings:en.includeStrings===L.XR?!Yt:en.includeStrings,allowedCharacters:en.allowedCharacters,allowedLocales:en.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([en.nonBasicASCII,en.ambiguousCharacters,en.invisibleCharacters].every(lt=>!1===lt))return;const an={nonBasicASCII:en.nonBasicASCII,ambiguousCharacters:en.ambiguousCharacters,invisibleCharacters:en.invisibleCharacters,includeComments:en.includeComments,includeStrings:en.includeStrings,allowedCodePoints:Object.keys(en.allowedCharacters).map(lt=>lt.codePointAt(0)),allowedLocales:Object.keys(en.allowedLocales).map(lt=>"_os"===lt?(new Intl.NumberFormat).resolvedOptions().locale:"_vscode"===lt?S.BH:lt)};this._highlighter=this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?new Je(this._editor,an,this._updateState,this._editorWorkerService):new ot(this._editor,an,this._updateState)}getDecorationInfo(en){return this._highlighter?this._highlighter.getDecorationInfo(en):null}};on.ID="editor.contrib.unicodeHighlighter",on=dt([vt(1,te.w),vt(2,qe.L),vt(3,ae._Y)],on);let Je=class extends C.jG{constructor(en,an,lt,Nt){super(),this._editor=en,this._options=an,this._updateState=lt,this._editorWorkerService=Nt,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new F.uC(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const en=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(an=>{if(this._model.isDisposed()||this._model.getVersionId()!==en)return;this._updateState(an);const lt=[];if(!an.hasMore)for(const Nt of an.ranges)lt.push({range:Nt,options:Bt.instance.getDecorationFromOptions(this._options)});this._decorations.set(lt)})}getDecorationInfo(en){if(!this._decorations.has(en))return null;const an=this._editor.getModel();return(0,U.GN)(an,en)?{reason:Ft(an.getValueInRange(en.range),this._options),inComment:(0,U.a6)(an,en),inString:(0,U.wc)(an,en)}:null}};Je=dt([vt(3,te.w)],Je);class ot extends C.jG{constructor(en,an,lt){super(),this._editor=en,this._options=an,this._updateState=lt,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new F.uC(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const en=this._editor.getVisibleRanges(),an=[],lt={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const Nt of en){const tn=Z.P.computeUnicodeHighlights(this._model,this._options,Nt);for(const bn of tn.ranges)lt.ranges.push(bn);lt.ambiguousCharacterCount+=lt.ambiguousCharacterCount,lt.invisibleCharacterCount+=lt.invisibleCharacterCount,lt.nonBasicAsciiCharacterCount+=lt.nonBasicAsciiCharacterCount,lt.hasMore=lt.hasMore||tn.hasMore}if(!lt.hasMore)for(const Nt of lt.ranges)an.push({range:Nt,options:Bt.instance.getDecorationFromOptions(this._options)});this._updateState(lt),this._decorations.set(an)}getDecorationInfo(en){if(!this._decorations.has(en))return null;const an=this._editor.getModel(),lt=an.getValueInRange(en.range);return(0,U.GN)(an,en)?{reason:Ft(lt,this._options),inComment:(0,U.a6)(an,en),inString:(0,U.wc)(an,en)}:null}}const De=Ce.kg("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options");let Qe=class{constructor(en,an,lt){this._editor=en,this._languageService=an,this._openerService=lt,this.hoverOrdinal=5}computeSync(en,an){if(!this._editor.hasModel()||1!==en.type)return[];const lt=this._editor.getModel(),Nt=this._editor.getContribution(on.ID);if(!Nt)return[];const tn=[],bn=new Set;let Bn=300;for(const zn of an){const Zn=Nt.getDecorationInfo(zn);if(!Zn)continue;const wi=lt.getValueInRange(zn.range).codePointAt(0),hi=kt(wi);let yi;switch(Zn.reason.kind){case 0:yi=(0,b.aC)(Zn.reason.confusableWith)?Ce.kg("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",hi,kt(Zn.reason.confusableWith.codePointAt(0))):Ce.kg("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",hi,kt(Zn.reason.confusableWith.codePointAt(0)));break;case 1:yi=Ce.kg("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",hi);break;case 2:yi=Ce.kg("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",hi)}if(bn.has(yi))continue;bn.add(yi);const Vi={codePoint:wi,reason:Zn.reason,inComment:Zn.inComment,inString:Zn.inString},Wi=Ce.kg("unicodeHighlight.adjustSettings","Adjust settings"),Pn=`command:${Ye.ID}?${encodeURIComponent(JSON.stringify(Vi))}`,pt=new x.Bc("",!0).appendMarkdown(yi).appendText(" ").appendLink(Pn,Wi,De);tn.push(new R.eH(this,zn.range,[pt],!1,Bn++))}return tn}renderHoverParts(en,an){return(0,R.fm)(en,an,this._editor,this._languageService,this._openerService)}};function mt(Yt){return`U+${Yt.toString(16).padStart(4,"0")}`}function kt(Yt){let en=`\`${mt(Yt)}\``;return b.y_.isInvisibleCharacter(Yt)||(en+=` "${function Ht(Yt){return 96===Yt?"`` ` ``":"`"+String.fromCodePoint(Yt)+"`"}(Yt)}"`),en}function Ft(Yt,en){return Z.P.computeUnicodeHighlightReason(Yt,en)}Qe=dt([vt(1,X.L),vt(2,ye.C)],Qe);class Bt{constructor(){this.map=new Map}getDecorationFromOptions(en){return this.getDecoration(!en.includeComments,!en.includeStrings)}getDecoration(en,an){const lt=`${en}${an}`;let Nt=this.map.get(lt);return Nt||(Nt=j.kI.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:en,hideInStringTokens:an}),this.map.set(lt,Nt)),Nt}}Bt.instance=new Bt;class rt extends H.ks{constructor(){super({id:St.ID,label:Ce.kg("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=Ce.kg("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(en,an,lt){var Nt=this;return(0,a.A)(function*(){const tn=en?.get(Ne.pG);tn&&Nt.runAction(tn)})()}runAction(en){return(0,a.A)(function*(){yield en.updateValue(L.Of.includeComments,!1,2)})()}}class Ut extends H.ks{constructor(){super({id:St.ID,label:Ce.kg("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=Ce.kg("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(en,an,lt){var Nt=this;return(0,a.A)(function*(){const tn=en?.get(Ne.pG);tn&&Nt.runAction(tn)})()}runAction(en){return(0,a.A)(function*(){yield en.updateValue(L.Of.includeStrings,!1,2)})()}}let St=(()=>{class Yt extends H.ks{constructor(){super({id:Yt.ID,label:Ce.kg("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=Ce.kg("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(an,lt,Nt){var tn=this;return(0,a.A)(function*(){const bn=an?.get(Ne.pG);bn&&tn.runAction(bn)})()}runAction(an){return(0,a.A)(function*(){yield an.updateValue(L.Of.ambiguousCharacters,!1,2)})()}}return Yt.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters",Yt})(),ke=(()=>{class Yt extends H.ks{constructor(){super({id:Yt.ID,label:Ce.kg("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=Ce.kg("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(an,lt,Nt){var tn=this;return(0,a.A)(function*(){const bn=an?.get(Ne.pG);bn&&tn.runAction(bn)})()}runAction(an){return(0,a.A)(function*(){yield an.updateValue(L.Of.invisibleCharacters,!1,2)})()}}return Yt.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters",Yt})(),Ze=(()=>{class Yt extends H.ks{constructor(){super({id:Yt.ID,label:Ce.kg("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=Ce.kg("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(an,lt,Nt){var tn=this;return(0,a.A)(function*(){const bn=an?.get(Ne.pG);bn&&tn.runAction(bn)})()}runAction(an){return(0,a.A)(function*(){yield an.updateValue(L.Of.nonBasicASCII,!1,2)})()}}return Yt.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters",Yt})(),Ye=(()=>{class Yt extends H.ks{constructor(){super({id:Yt.ID,label:Ce.kg("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(an,lt,Nt){return(0,a.A)(function*(){const{codePoint:tn,reason:bn,inString:Bn,inComment:zn}=Nt,Zn=String.fromCodePoint(tn),ei=an.get(Fe.GK),wi=an.get(Ne.pG),yi=[];if(0===bn.kind)for(const Wi of bn.notAmbiguousInLocales)yi.push({label:Ce.kg("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',Wi),run:function(){var Pn=(0,a.A)(function*(){ft(wi,[Wi])});return function(){return Pn.apply(this,arguments)}}()});if(yi.push({label:function hi(Wi){return b.y_.isInvisibleCharacter(Wi)?Ce.kg("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",mt(Wi)):Ce.kg("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${mt(Wi)} "${Zn}"`)}(tn),run:()=>function st(Yt,en){return Ke.apply(this,arguments)}(wi,[tn])}),zn){const Wi=new rt;yi.push({label:Wi.label,run:(Pn=(0,a.A)(function*(){return Wi.runAction(wi)}),function(){return Pn.apply(this,arguments)})})}else if(Bn){const Wi=new Ut;yi.push({label:Wi.label,run:function(){var Pn=(0,a.A)(function*(){return Wi.runAction(wi)});return function(){return Pn.apply(this,arguments)}}()})}var Pn;if(0===bn.kind){const Wi=new St;yi.push({label:Wi.label,run:function(){var Pn=(0,a.A)(function*(){return Wi.runAction(wi)});return function(){return Pn.apply(this,arguments)}}()})}else if(1===bn.kind){const Wi=new ke;yi.push({label:Wi.label,run:function(){var Pn=(0,a.A)(function*(){return Wi.runAction(wi)});return function(){return Pn.apply(this,arguments)}}()})}else if(2===bn.kind){const Wi=new Ze;yi.push({label:Wi.label,run:function(){var Pn=(0,a.A)(function*(){return Wi.runAction(wi)});return function(){return Pn.apply(this,arguments)}}()})}else!function qt(Yt){throw new Error(`Unexpected value: ${Yt}`)}(bn);const Vi=yield ei.pick(yi,{title:De});Vi&&(yield Vi.run())})()}}return Yt.ID="editor.action.unicodeHighlight.showExcludeOptions",Yt})();function Ke(){return(Ke=(0,a.A)(function*(Yt,en){const an=Yt.getValue(L.Of.allowedCharacters);let lt;lt="object"==typeof an&&an?an:{};for(const Nt of en)lt[String.fromCodePoint(Nt)]=!0;yield Yt.updateValue(L.Of.allowedCharacters,lt,2)})).apply(this,arguments)}function ft(Yt,en){return wt.apply(this,arguments)}function wt(){return(wt=(0,a.A)(function*(Yt,en){var an;const lt=null===(an=Yt.inspect(L.Of.allowedLocales).user)||void 0===an?void 0:an.value;let Nt;Nt="object"==typeof lt&&lt?Object.assign({},lt):{};for(const tn of en)Nt[tn]=!0;yield Yt.updateValue(L.Of.allowedLocales,Nt,2)})).apply(this,arguments)}(0,H.Fl)(St),(0,H.Fl)(ke),(0,H.Fl)(Ze),(0,H.Fl)(Ye),(0,H.HW)(on.ID,on,1),q.B2.register(Qe)},57185:(tt,xe,t)=>{var a=t(10467),F=t(99031),w=t(76698),x=t(47639),C=t(31212),S=t(81644),b=t(42638),D=function(r,l){return function(g,p){l(g,p,r)}};const v="ignoreUnusualLineTerminators";let d=class extends F.jG{constructor(l,g,p){super(),this._editor=l,this._dialogService=g,this._codeEditorService=p,this._isPresentingDialog=!1,this._config=this._editor.getOption(126),this._register(this._editor.onDidChangeConfiguration(m=>{m.hasChanged(126)&&(this._config=this._editor.getOption(126),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(m=>{m.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){var l=this;return(0,a.A)(function*(){if("off"===l._config||!l._editor.hasModel())return;const g=l._editor.getModel();if(!g.mightContainUnusualLineTerminators()||!0===function f(r,l){return r.getModelProperty(l.uri,v)}(l._codeEditorService,g)||l._editor.getOption(91))return;if("auto"===l._config)return void g.removeUnusualLineTerminators(l._editor.getSelections());if(l._isPresentingDialog)return;let m;try{l._isPresentingDialog=!0,m=yield l._dialogService.confirm({title:S.kg("unusualLineTerminators.title","Unusual Line Terminators"),message:S.kg("unusualLineTerminators.message","Detected unusual line terminators"),detail:S.kg("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,w.P8)(g.uri)),primaryButton:S.kg({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:S.kg("unusualLineTerminators.ignore","Ignore")})}finally{l._isPresentingDialog=!1}m.confirmed?g.removeUnusualLineTerminators(l._editor.getSelections()):function _(r,l,g){r.setModelProperty(l.uri,v,g)}(l._codeEditorService,g,!0)})()}};d.ID="editor.contrib.unusualLineTerminatorsDetector",d=function(r,l,g,p){var A,m=arguments.length,T=m<3?l:null===p?p=Object.getOwnPropertyDescriptor(l,g):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(r,l,g,p);else for(var k=r.length-1;k>=0;k--)(A=r[k])&&(T=(m<3?A(T):m>3?A(l,g,T):A(l,g))||T);return m>3&&T&&Object.defineProperty(l,g,T),T}([D(1,b.X),D(2,C.T)],d),(0,x.HW)(d.ID,d,1)},2489:(tt,xe,t)=>{t.d(xe,{P:()=>W,v:()=>Y});var a=t(85072),F=t.n(a),w=t(97825),x=t.n(w),C=t(77659),S=t.n(C),b=t(55056),P=t.n(b),D=t(10540),v=t.n(D),_=t(41113),f=t.n(_),d=t(19803),r={};r.styleTagTransform=f(),r.setAttributes=P(),r.insert=S().bind(null,"head"),r.domAPI=x(),r.insertStyleElement=v(),F()(d.A,r);var p=t(63782),m=t(80753),T=t(41489),A=t(81644),k=t(85478),O=t(48187);const N=(0,k.x1A)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},A.kg("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);(0,k.x1A)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},A.kg("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),(0,k.x1A)("editor.wordHighlightTextBackground",{light:N,dark:N,hcDark:N,hcLight:N},A.kg("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const H=(0,k.x1A)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:k.buw,hcLight:k.buw},A.kg("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));(0,k.x1A)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:k.buw,hcLight:k.buw},A.kg("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),(0,k.x1A)("editor.wordHighlightTextBorder",{light:H,dark:H,hcDark:H,hcLight:H},A.kg("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const L=(0,k.x1A)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},A.kg("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),j=(0,k.x1A)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},A.kg("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Z=(0,k.x1A)("editorOverviewRuler.wordHighlightTextForeground",{dark:k.z5H,light:k.z5H,hcDark:k.z5H,hcLight:k.z5H},A.kg("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),te=m.kI.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,O.Yf)(j),position:p.A5.Center},minimap:{color:(0,O.Yf)(k.Xp1),position:1}}),X=m.kI.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,O.Yf)(Z),position:p.A5.Center},minimap:{color:(0,O.Yf)(k.Xp1),position:1}}),U=m.kI.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,O.Yf)(k.z5H),position:p.A5.Center},minimap:{color:(0,O.Yf)(k.Xp1),position:1}}),q=m.kI.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),R=m.kI.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,O.Yf)(L),position:p.A5.Center},minimap:{color:(0,O.Yf)(k.Xp1),position:1}});function W(oe){return oe===T.Kb.Write?te:oe===T.Kb.Text?X:R}function Y(oe){return oe?q:U}(0,O.zy)((oe,z)=>{const G=oe.getColor(k.QwA);G&&z.addRule(`.monaco-editor .selectionHighlight { background-color: ${G.transparent(.5)}; }`)})},86295:(tt,xe,t)=>{var H,L,a=t(10467),F=t(81644),w=t(30833),x=t(39679),C=t(86671),S=t(21468),b=t(25680),P=t(99031),D=t(26713),v=t(47639),_=t(31212),f=t(73678),d=t(69995),r=t(41489),l=t(63782),g=t(15307),p=t(2489),m=t(50168),T=t(75109),A=t(20053),k=t(28252),O=function(ae,de,se,ge){var M,_e=arguments.length,ye=_e<3?de:null===ge?ge=Object.getOwnPropertyDescriptor(de,se):ge;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ye=Reflect.decorate(ae,de,se,ge);else for(var ce=ae.length-1;ce>=0;ce--)(M=ae[ce])&&(ye=(_e<3?M(ye):_e>3?M(de,se,ye):M(de,se))||ye);return _e>3&&ye&&Object.defineProperty(de,se,ye),ye},N=function(ae,de){return function(se,ge){de(se,ge,ae)}};const j=new m.N1("hasWordHighlights",!1);function Z(ae,de,se,ge){const _e=ae.ordered(de);return(0,C.$1)(_e.map(ye=>()=>Promise.resolve(ye.provideDocumentHighlights(de,se,ge)).then(void 0,b.M_)),w.EI).then(ye=>{if(ye){const M=new A.fT;return M.set(de.uri,ye),M}return new A.fT})}class X{constructor(de,se,ge){this._model=de,this._selection=se,this._wordSeparators=ge,this._wordRange=this._getCurrentWordRange(de,se),this._result=null}get result(){return this._result||(this._result=(0,C.SS)(de=>this._compute(this._model,this._selection,this._wordSeparators,de))),this._result}_getCurrentWordRange(de,se){const ge=de.getWordAtPosition(se.getPosition());return ge?new f.Q(se.startLineNumber,ge.startColumn,se.startLineNumber,ge.endColumn):null}isValid(de,se,ge){const _e=se.startLineNumber,ye=se.startColumn,M=se.endColumn,ce=this._getCurrentWordRange(de,se);let Se=!(!this._wordRange||!this._wordRange.equalsRange(ce));for(let Ie=0,ne=ge.length;!Se&&Ie<ne;Ie++){const ue=ge.getRange(Ie);ue&&ue.startLineNumber===_e&&ue.startColumn<=ye&&ue.endColumn>=M&&(Se=!0)}return Se}cancel(){this.result.cancel()}}class U extends X{constructor(de,se,ge,_e){super(de,se,ge),this._providers=_e}_compute(de,se,ge,_e){return Z(this._providers,de,se.getPosition(),_e).then(ye=>ye||new A.fT)}}class q extends X{constructor(de,se,ge,_e,ye){super(de,se,ge),this._providers=_e,this._otherModels=ye}_compute(de,se,ge,_e){return function te(ae,de,se,ge,_e,ye){const M=ae.ordered(de);return(0,C.$1)(M.map(ce=>()=>{const Se=ye.filter(Ie=>(0,l.vd)(Ie)).filter(Ie=>(0,k.f)(ce.selector,Ie.uri,Ie.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(ce.provideMultiDocumentHighlights(de,se,Se,_e)).then(void 0,b.M_)}),ce=>ce instanceof A.fT&&ce.size>0)}(this._providers,de,se.getPosition(),0,_e,this._otherModels).then(ye=>ye||new A.fT)}}class R extends X{constructor(de,se,ge,_e,ye){super(de,se,_e),this._otherModels=ye,this._selectionIsEmpty=se.isEmpty(),this._word=ge}_compute(de,se,ge,_e){return(0,C.wR)(250,_e).then(()=>{const ye=new A.fT;let M;if(M=this._word?this._word:de.getWordAtPosition(se.getPosition()),!M)return new A.fT;const ce=[de,...this._otherModels];for(const Se of ce){if(Se.isDisposed())continue;const ne=Se.findMatches(M.word,!0,!1,!0,ge,!1).map(ue=>({range:ue.range,kind:r.Kb.Text}));ne&&ye.set(Se.uri,ne)}return ye})}isValid(de,se,ge){const _e=se.isEmpty();return this._selectionIsEmpty===_e&&super.isValid(de,se,ge)}}(0,v.ke)("_executeDocumentHighlights",function(){var ae=(0,a.A)(function*(de,se,ge){const _e=de.get(g.u),ye=yield Z(_e.documentHighlightProvider,se,ge,S.XO.None);return ye?.get(se.uri)});return function(de,se,ge){return ae.apply(this,arguments)}}());let oe=H=class{constructor(de,se,ge,_e,ye){this.toUnhook=new P.Cm,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new A.fT,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=de,this.providers=se,this.multiDocumentProviders=ge,this.codeEditorService=ye,this._hasWordHighlights=j.bindTo(_e),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(81),this.model=this.editor.getModel(),this.toUnhook.add(de.onDidChangeCursorPosition(M=>{this._ignorePositionChangeEvent||"off"!==this.occurrencesHighlight&&this._onPositionChanged(M)})),this.toUnhook.add(de.onDidFocusEditorText(M=>{"off"!==this.occurrencesHighlight&&(this.workerRequest||this._run())})),this.toUnhook.add(de.onDidChangeModelContent(M=>{this._stopAll()})),this.toUnhook.add(de.onDidChangeModel(M=>{!M.newModelUrl&&M.oldModelUrl?this._stopSingular():H.query&&this._run()})),this.toUnhook.add(de.onDidChangeConfiguration(M=>{const ce=this.editor.getOption(81);this.occurrencesHighlight!==ce&&(this.occurrencesHighlight=ce,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,H.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){"off"!==this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(f.Q.compareRangesUsingStarts)}moveNext(){const de=this._getSortedHighlights(),ge=(de.findIndex(ye=>ye.containsPosition(this.editor.getPosition()))+1)%de.length,_e=de[ge];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(_e.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(_e);const ye=this._getWord();if(ye){const M=this.editor.getModel().getLineContent(_e.startLineNumber);(0,x.xE)(`${M}, ${ge+1} of ${de.length} for '${ye.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const de=this._getSortedHighlights(),ge=(de.findIndex(ye=>ye.containsPosition(this.editor.getPosition()))-1+de.length)%de.length,_e=de[ge];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(_e.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(_e);const ye=this._getWord();if(ye){const M=this.editor.getModel().getLineContent(_e.startLineNumber);(0,x.xE)(`${M}, ${ge+1} of ${de.length} for '${ye.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const de=H.storedDecorations.get(this.editor.getModel().uri);de&&(this.editor.removeDecorations(de),H.storedDecorations.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(){const de=this.codeEditorService.listCodeEditors(),se=[];for(const ge of de){if(!ge.hasModel())continue;const _e=H.storedDecorations.get(ge.getModel().uri);if(!_e)continue;ge.removeDecorations(_e),se.push(ge.getModel().uri);const ye=z.get(ge);ye?.wordHighlighter&&ye.wordHighlighter.decorations.length>0&&(ye.wordHighlighter.decorations.clear(),ye.wordHighlighter.workerRequest=null,ye.wordHighlighter._hasWordHighlights.set(!1))}for(const ge of se)H.storedDecorations.delete(ge)}_stopSingular(){var de,se,ge,_e;this._removeSingleDecorations(),this.editor.hasTextFocus()&&((null===(de=this.editor.getModel())||void 0===de?void 0:de.uri.scheme)!==T.ny.vscodeNotebookCell&&(null===(ge=null===(se=H.query)||void 0===se?void 0:se.modelInfo)||void 0===ge?void 0:ge.model.uri.scheme)!==T.ny.vscodeNotebookCell?(H.query=null,this._run()):!(null===(_e=H.query)||void 0===_e)&&_e.modelInfo&&(H.query.modelInfo=null)),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(){this._removeAllDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(de){var se;"off"===this.occurrencesHighlight||3!==de.reason&&(null===(se=this.editor.getModel())||void 0===se?void 0:se.uri.scheme)!==T.ny.vscodeNotebookCell?this._stopAll():this._run()}_getWord(){const de=this.editor.getSelection(),se=de.startLineNumber,ge=de.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:se,column:ge})}getOtherModelsToHighlight(de){if(!de)return[];if(de.uri.scheme===T.ny.vscodeNotebookCell){const ye=[],M=this.codeEditorService.listCodeEditors();for(const ce of M){const Se=ce.getModel();Se&&Se!==de&&Se.uri.scheme===T.ny.vscodeNotebookCell&&ye.push(Se)}return ye}const ge=[],_e=this.codeEditorService.listCodeEditors();for(const ye of _e){if(!(0,D.Np)(ye))continue;const M=ye.getModel();M&&de===M.modified&&ge.push(M.modified)}if(ge.length)return ge;if("singleFile"===this.occurrencesHighlight)return[];for(const ye of _e){const M=ye.getModel();M&&M!==de&&ge.push(M)}return ge}_run(){var de;let se;if(this.editor.hasTextFocus()){const _e=this.editor.getSelection();if(!_e||_e.startLineNumber!==_e.endLineNumber)return H.query=null,void this._stopAll();const ye=_e.startColumn,M=_e.endColumn,ce=this._getWord();if(!ce||ce.startColumn>ye||ce.endColumn<M)return H.query=null,void this._stopAll();se=this.workerRequest&&this.workerRequest.isValid(this.model,_e,this.decorations),H.query={modelInfo:{model:this.model,selection:_e},word:ce}}else if(!H.query)return;if(this.lastCursorPositionChangeTime=(new Date).getTime(),se)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const _e=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const ye=this.getOtherModelsToHighlight(this.editor.getModel());if(!H.query.modelInfo||H.query.modelInfo.model.isDisposed())return;this.workerRequest=this.computeWithModel(H.query.modelInfo.model,H.query.modelInfo.selection,H.query.word,ye),null===(de=this.workerRequest)||void 0===de||de.result.then(M=>{_e===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=M||[],this._beginRenderDecorations())},b.dz)}}computeWithModel(de,se,ge,_e){return _e.length?function Y(ae,de,se,ge,_e,ye){return ae.has(de)?new q(de,se,_e,ae,ye):new R(de,se,ge,_e,ye)}(this.multiDocumentProviders,de,se,ge,this.editor.getOption(131),_e):function W(ae,de,se,ge,_e){return ae.has(de)?new U(de,se,_e,ae):new R(de,se,ge,_e,[])}(this.providers,de,se,ge,this.editor.getOption(131))}_beginRenderDecorations(){const de=(new Date).getTime(),se=this.lastCursorPositionChangeTime+250;de>=se?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},se-de)}renderDecorations(){var de,se,ge;this.renderDecorationsTimer=-1;const _e=this.codeEditorService.listCodeEditors();for(const ye of _e){const M=z.get(ye);if(!M)continue;const ce=[],Se=null===(de=ye.getModel())||void 0===de?void 0:de.uri;if(Se&&this.workerRequestValue.has(Se)){const Ie=H.storedDecorations.get(Se),ne=this.workerRequestValue.get(Se);if(ne)for(const we of ne)we.range&&ce.push({range:we.range,options:(0,p.P)(we.kind)});let ue=[];ye.changeDecorations(we=>{ue=we.deltaDecorations(Ie??[],ce)}),H.storedDecorations=H.storedDecorations.set(Se,ue),ce.length>0&&(null===(se=M.wordHighlighter)||void 0===se||se.decorations.set(ce),null===(ge=M.wordHighlighter)||void 0===ge||ge._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};oe.storedDecorations=new A.fT,oe.query=null,oe=H=O([N(4,_.T)],oe);let z=L=class extends P.jG{static get(de){return de.getContribution(L.ID)}constructor(de,se,ge,_e){super(),this._wordHighlighter=null;const ye=()=>{de.hasModel()&&!de.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new oe(de,ge.documentHighlightProvider,ge.multiDocumentHighlightProvider,se,_e))};this._register(de.onDidChangeModel(M=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),ye()})),ye()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!(!this._wordHighlighter||!this._wordHighlighter.hasDecorations())}moveNext(){var de;null===(de=this._wordHighlighter)||void 0===de||de.moveNext()}moveBack(){var de;null===(de=this._wordHighlighter)||void 0===de||de.moveBack()}restoreViewState(de){this._wordHighlighter&&de&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};z.ID="editor.contrib.wordHighlighter",z=L=O([N(1,m.fN),N(2,g.u),N(3,_.T)],z);class G extends v.ks{constructor(de,se){super(se),this._isNext=de}run(de,se){const ge=z.get(se);ge&&(this._isNext?ge.moveNext():ge.moveBack())}}(0,v.HW)(z.ID,z,0),(0,v.Fl)(class Q extends G{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:F.kg("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:j,kbOpts:{kbExpr:d.R.editorTextFocus,primary:65,weight:100}})}}),(0,v.Fl)(class K extends G{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:F.kg("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:j,kbOpts:{kbExpr:d.R.editorTextFocus,primary:1089,weight:100}})}}),(0,v.Fl)(class ie extends v.ks{constructor(){super({id:"editor.action.wordHighlight.trigger",label:F.kg("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:j.toNegated(),kbOpts:{kbExpr:d.R.editorTextFocus,primary:0,weight:100}})}run(de,se,ge){const _e=z.get(se);_e&&_e.restoreViewState(!0)}})},15499:(tt,xe,t)=>{t.d(xe,{Jk:()=>g,R7:()=>oe});var a=t(47639),F=t(19533),w=t(99207),x=t(31360),C=t(27948),S=t(34181),b=t(13632),P=t(73678),D=t(14105),v=t(69995),_=t(70416),f=t(81644),d=t(69912),r=t(50168),l=t(81297);class g extends a.DX{constructor(ye){super(ye),this._inSelectionMode=ye.inSelectionMode,this._wordNavigationType=ye.wordNavigationType}runEditorCommand(ye,M,ce){if(!M.hasModel())return;const Se=(0,S.i)(M.getOption(131),M.getOption(130)),Ie=M.getModel(),ue=M.getSelections().map(we=>{const Me=new b.y(we.positionLineNumber,we.positionColumn),Ve=this._move(Se,Ie,Me,this._wordNavigationType);return this._moveTo(we,Ve,this._inSelectionMode)});if(Ie.pushStackElement(),M._getViewModel().setCursorStates("moveWordCommand",3,ue.map(we=>x.MF.fromModelSelection(we))),1===ue.length){const we=new b.y(ue[0].positionLineNumber,ue[0].positionColumn);M.revealPosition(we,0)}}_moveTo(ye,M,ce){return ce?new D.L(ye.selectionStartLineNumber,ye.selectionStartColumn,M.lineNumber,M.column):new D.L(M.lineNumber,M.column,M.lineNumber,M.column)}}class p extends g{_move(ye,M,ce,Se){return C.z.moveWordLeft(ye,M,ce,Se)}}class m extends g{_move(ye,M,ce,Se){return C.z.moveWordRight(ye,M,ce,Se)}}class oe extends a.DX{constructor(ye){super(ye),this._whitespaceHeuristics=ye.whitespaceHeuristics,this._wordNavigationType=ye.wordNavigationType}runEditorCommand(ye,M,ce){const Se=ye.get(_.JZ);if(!M.hasModel())return;const Ie=(0,S.i)(M.getOption(131),M.getOption(130)),ne=M.getModel(),ue=M.getSelections(),we=M.getOption(6),Me=M.getOption(11),Ve=Se.getLanguageConfiguration(ne.getLanguageId()).getAutoClosingPairs(),$e=M._getViewModel(),it=ue.map(He=>{const me=this._delete({wordSeparators:Ie,model:ne,selection:He,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:M.getOption(9),autoClosingBrackets:we,autoClosingQuotes:Me,autoClosingPairs:Ve,autoClosedCharacters:$e.getCursorAutoClosedCharacters()},this._wordNavigationType);return new F.iu(me,"")});M.pushUndoStop(),M.executeCommands(this.id,it),M.pushUndoStop()}}class z extends oe{_delete(ye,M){return C.z.deleteWordLeft(ye,M)||new P.Q(1,1,1,1)}}class G extends oe{_delete(ye,M){const ce=C.z.deleteWordRight(ye,M);if(ce)return ce;const Se=ye.model.getLineCount(),Ie=ye.model.getLineMaxColumn(Se);return new P.Q(Se,Ie,Se,Ie)}}(0,a.E_)(new class T extends p{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}),(0,a.E_)(new class A extends p{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}),(0,a.E_)(new class k extends p{constructor(){var ye;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:r.M$.and(v.R.textInputFocus,null===(ye=r.M$.and(d.f,l.nd))||void 0===ye?void 0:ye.negate()),primary:2063,mac:{primary:527},weight:100}})}}),(0,a.E_)(new class O extends p{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}),(0,a.E_)(new class N extends p{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}),(0,a.E_)(new class H extends p{constructor(){var ye;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:r.M$.and(v.R.textInputFocus,null===(ye=r.M$.and(d.f,l.nd))||void 0===ye?void 0:ye.negate()),primary:3087,mac:{primary:1551},weight:100}})}}),(0,a.E_)(new class Z extends m{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}),(0,a.E_)(new class te extends m{constructor(){var ye;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:r.M$.and(v.R.textInputFocus,null===(ye=r.M$.and(d.f,l.nd))||void 0===ye?void 0:ye.negate()),primary:2065,mac:{primary:529},weight:100}})}}),(0,a.E_)(new class X extends m{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}),(0,a.E_)(new class U extends m{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}),(0,a.E_)(new class q extends m{constructor(){var ye;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:r.M$.and(v.R.textInputFocus,null===(ye=r.M$.and(d.f,l.nd))||void 0===ye?void 0:ye.negate()),primary:3089,mac:{primary:1553},weight:100}})}}),(0,a.E_)(new class R extends m{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}),(0,a.E_)(new class L extends p{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(ye,M,ce,Se){return super._move((0,S.i)(w.qB.wordSeparators.defaultValue,ye.intlSegmenterLocales),M,ce,Se)}}),(0,a.E_)(new class j extends p{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(ye,M,ce,Se){return super._move((0,S.i)(w.qB.wordSeparators.defaultValue,ye.intlSegmenterLocales),M,ce,Se)}}),(0,a.E_)(new class W extends m{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(ye,M,ce,Se){return super._move((0,S.i)(w.qB.wordSeparators.defaultValue,ye.intlSegmenterLocales),M,ce,Se)}}),(0,a.E_)(new class Y extends m{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(ye,M,ce,Se){return super._move((0,S.i)(w.qB.wordSeparators.defaultValue,ye.intlSegmenterLocales),M,ce,Se)}}),(0,a.E_)(new class Q extends z{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:v.R.writable})}}),(0,a.E_)(new class K extends z{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:v.R.writable})}}),(0,a.E_)(new class ie extends z{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:v.R.writable,kbOpts:{kbExpr:v.R.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}),(0,a.E_)(new class ae extends G{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:v.R.writable})}}),(0,a.E_)(new class de extends G{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:v.R.writable})}}),(0,a.E_)(new class se extends G{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:v.R.writable,kbOpts:{kbExpr:v.R.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}),(0,a.Fl)(class ge extends a.ks{constructor(){super({id:"deleteInsideWord",precondition:v.R.writable,label:f.kg("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(ye,M,ce){if(!M.hasModel())return;const Se=(0,S.i)(M.getOption(131),M.getOption(130)),Ie=M.getModel(),ue=M.getSelections().map(we=>{const Me=C.z.deleteInsideWord(Se,Ie,we);return new F.iu(Me,"")});M.pushUndoStop(),M.executeCommands(this.id,ue),M.pushUndoStop()}})},41561:(tt,xe,t)=>{var a=t(47639),F=t(27948),w=t(73678),x=t(69995),C=t(15499),S=t(51126);class D extends C.Jk{_move(g,p,m,T){return F.c.moveWordPartLeft(g,p,m)}}S.w.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft"),S.w.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class f extends C.Jk{_move(g,p,m,T){return F.c.moveWordPartRight(g,p,m)}}(0,a.E_)(new class b extends C.R7{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:x.R.writable,kbOpts:{kbExpr:x.R.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(g,p){return F.c.deleteWordPartLeft(g)||new w.Q(1,1,1,1)}}),(0,a.E_)(new class P extends C.R7{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:x.R.writable,kbOpts:{kbExpr:x.R.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(g,p){const m=F.c.deleteWordPartRight(g);if(m)return m;const T=g.model.getLineCount(),A=g.model.getLineMaxColumn(T);return new w.Q(T,A,T,A)}}),(0,a.E_)(new class v extends D{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:x.R.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}),(0,a.E_)(new class _ extends D{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:x.R.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}),(0,a.E_)(new class d extends f{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:x.R.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}),(0,a.E_)(new class r extends f{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:x.R.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}})},27655:(tt,xe,t)=>{var a=t(85072),F=t.n(a),w=t(97825),x=t.n(w),C=t(77659),S=t.n(C),b=t(55056),P=t.n(b),D=t(10540),v=t.n(D),_=t(41113),f=t.n(_),d=t(59337),r={};r.styleTagTransform=f(),r.setAttributes=P(),r.insert=S().bind(null,"head"),r.domAPI=x(),r.insertStyleElement=v(),F()(d.A,r);var p=t(91874),m=t(99031),T=t(47639),A=t(21828);let k=(()=>{class N extends m.jG{constructor(L){super(),this.editor=L,this.widget=null,A.un&&(this._register(L.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const L=!this.editor.getOption(91);!this.widget&&L?this.widget=new O(this.editor):this.widget&&!L&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return N.ID="editor.contrib.iPadShowKeyboard",N})(),O=(()=>{class N extends m.jG{constructor(L){super(),this.editor=L,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(p.ko(this._domNode,"touchstart",j=>{this.editor.focus()})),this._register(p.ko(this._domNode,"focus",j=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return N.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return N.ID="editor.contrib.ShowKeyboardWidget",N})();(0,T.HW)(k.ID,k,3)},69599:(tt,xe,t)=>{var a=t(85072),F=t.n(a),w=t(97825),x=t.n(w),C=t(77659),S=t.n(C),b=t(55056),P=t.n(b),D=t(10540),v=t.n(D),_=t(41113),f=t.n(_),d=t(72931),r={};r.styleTagTransform=f(),r.setAttributes=P(),r.insert=S().bind(null,"head"),r.domAPI=x(),r.insertStyleElement=v(),F()(d.A,r);var X,p=t(91874),m=t(84072),T=t(99031),A=t(47639),k=t(41489),O=t(21861),N=t(82879),H=t(385),L=t(48687),j=t(60264),te=function(oe,z){return function(G,Q){z(G,Q,oe)}};let U=X=class extends T.jG{static get(z){return z.getContribution(X.ID)}constructor(z,G,Q){super(),this._editor=z,this._languageService=Q,this._widget=null,this._register(this._editor.onDidChangeModel(K=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(K=>this.stop())),this._register(k.dG.onDidChange(K=>this.stop())),this._register(this._editor.onKeyUp(K=>9===K.keyCode&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new Y(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};U.ID="editor.contrib.inspectTokens",U=X=function(oe,z,G,Q){var ae,K=arguments.length,ie=K<3?z:null===Q?Q=Object.getOwnPropertyDescriptor(z,G):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ie=Reflect.decorate(oe,z,G,Q);else for(var de=oe.length-1;de>=0;de--)(ae=oe[de])&&(ie=(K<3?ae(ie):K>3?ae(z,G,ie):ae(z,G))||ie);return K>3&&ie&&Object.defineProperty(z,G,ie),ie}([te(1,L.L),te(2,H.L)],U);let Y=(()=>{class oe extends T.jG{constructor(G,Q){super(),this.allowEditorOverflow=!0,this._editor=G,this._languageService=Q,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function W(oe,z){const G=k.dG.get(z);if(G)return G;const Q=oe.encodeLanguageId(z);return{getInitialState:()=>N.r3,tokenize:(K,ie,ae)=>(0,N.$H)(z,ae),tokenizeEncoded:(K,ie,ae)=>(0,N.Lh)(Q,ae)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(K=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return oe._ID}_compute(G){const Q=this._getTokensAtLine(G.lineNumber);let K=0;for(let ge=Q.tokens1.length-1;ge>=0;ge--)if(G.column-1>=Q.tokens1[ge].offset){K=ge;break}let ie=0;for(let ge=Q.tokens2.length>>>1;ge>=0;ge--)if(G.column-1>=Q.tokens2[ge<<1]){ie=ge;break}const ae=this._model.getLineContent(G.lineNumber);let de="";K<Q.tokens1.length&&(de=ae.substring(Q.tokens1[K].offset,K+1<Q.tokens1.length?Q.tokens1[K+1].offset:ae.length)),(0,p.Ln)(this._domNode,(0,p.$)("h2.tm-token",void 0,function R(oe){let z="";for(let G=0,Q=oe.length;G<Q;G++){const K=oe.charCodeAt(G);switch(K){case 9:z+="\u2192";break;case 32:z+="\xb7";break;default:z+=String.fromCharCode(K)}}return z}(de),(0,p.$)("span.tm-token-length",void 0,`${de.length} ${1===de.length?"char":"chars"}`))),(0,p.BC)(this._domNode,(0,p.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const se=1+(ie<<1)<Q.tokens2.length?this._decodeMetadata(Q.tokens2[1+(ie<<1)]):null;(0,p.BC)(this._domNode,(0,p.$)("table.tm-metadata-table",void 0,(0,p.$)("tbody",void 0,(0,p.$)("tr",void 0,(0,p.$)("td.tm-metadata-key",void 0,"language"),(0,p.$)("td.tm-metadata-value",void 0,`${se?se.languageId:"-?-"}`)),(0,p.$)("tr",void 0,(0,p.$)("td.tm-metadata-key",void 0,"token type"),(0,p.$)("td.tm-metadata-value",void 0,`${se?this._tokenTypeToString(se.tokenType):"-?-"}`)),(0,p.$)("tr",void 0,(0,p.$)("td.tm-metadata-key",void 0,"font style"),(0,p.$)("td.tm-metadata-value",void 0,`${se?this._fontStyleToString(se.fontStyle):"-?-"}`)),(0,p.$)("tr",void 0,(0,p.$)("td.tm-metadata-key",void 0,"foreground"),(0,p.$)("td.tm-metadata-value",void 0,`${se?m.Q1.Format.CSS.formatHex(se.foreground):"-?-"}`)),(0,p.$)("tr",void 0,(0,p.$)("td.tm-metadata-key",void 0,"background"),(0,p.$)("td.tm-metadata-value",void 0,`${se?m.Q1.Format.CSS.formatHex(se.background):"-?-"}`))))),(0,p.BC)(this._domNode,(0,p.$)("hr.tokens-inspect-separator")),K<Q.tokens1.length&&(0,p.BC)(this._domNode,(0,p.$)("span.tm-token-type",void 0,Q.tokens1[K].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(G){const Q=k.dG.getColorMap(),K=O.x.getLanguageId(G),ie=O.x.getTokenType(G),ae=O.x.getFontStyle(G),de=O.x.getForeground(G),se=O.x.getBackground(G);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(K),tokenType:ie,fontStyle:ae,foreground:Q[de],background:Q[se]}}_tokenTypeToString(G){switch(G){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(G){let Q="";return 1&G&&(Q+="italic "),2&G&&(Q+="bold "),4&G&&(Q+="underline "),8&G&&(Q+="strikethrough "),0===Q.length&&(Q="---"),Q}_getTokensAtLine(G){const Q=this._getStateBeforeLine(G),K=this._tokenizationSupport.tokenize(this._model.getLineContent(G),!0,Q),ie=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(G),!0,Q);return{startState:Q,tokens1:K.tokens,tokens2:ie.tokens,endState:K.endState}}_getStateBeforeLine(G){let Q=this._tokenizationSupport.getInitialState();for(let K=1;K<G;K++)Q=this._tokenizationSupport.tokenize(this._model.getLineContent(K),!0,Q).endState;return Q}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return oe._ID="editor.contrib.inspectTokensWidget",oe})();(0,A.HW)(U.ID,U,4),(0,A.Fl)(class q extends A.ks{constructor(){super({id:"editor.action.inspectTokens",label:j.YN.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(z,G){const Q=U.get(G);Q?.launch()}})},7106:(tt,xe,t)=>{var a=t(10467),F=t(97018),w=t(64558),x=t(60264),C=t(31212),S=t(605),b=t(69186),P=t(66010),D=t(25680),v=t(28467),_=t(15018),f=t(99031),d=t(20053);class l{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(ce,Se){const Ie=this.computeEmbedding(ce),ne=new Map,ue=[];for(const[we,Me]of this.documents){if(Se.isCancellationRequested)return[];for(const Ve of Me.chunks){const $e=this.computeSimilarityScore(Ve,Ie,ne);$e>0&&ue.push({key:we,score:$e})}}return ue}static termFrequencies(ce){return function r(M){var ce;const Se=new Map;for(const Ie of M)Se.set(Ie,(null!==(ce=Se.get(Ie))&&void 0!==ce?ce:0)+1);return Se}(l.splitTerms(ce))}static*splitTerms(ce){const Se=Ie=>Ie.toLowerCase();for(const[Ie]of ce.matchAll(new RegExp("\\b\\p{Letter}[\\p{Letter}\\d]{2,}\\b","gu"))){yield Se(Ie);const ne=Ie.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(ne.length>1)for(const ue of ne)ue.length>2&&new RegExp("\\p{Letter}{3,}","gu").test(ue)&&(yield Se(ue))}}updateDocuments(ce){var Se;for(const{key:Ie}of ce)this.deleteDocument(Ie);for(const Ie of ce){const ne=[];for(const ue of Ie.textChunks){const we=l.termFrequencies(ue);for(const Me of we.keys())this.chunkOccurrences.set(Me,(null!==(Se=this.chunkOccurrences.get(Me))&&void 0!==Se?Se:0)+1);ne.push({text:ue,tf:we})}this.chunkCount+=ne.length,this.documents.set(Ie.key,{chunks:ne})}return this}deleteDocument(ce){const Se=this.documents.get(ce);if(Se){this.documents.delete(ce),this.chunkCount-=Se.chunks.length;for(const Ie of Se.chunks)for(const ne of Ie.tf.keys()){const ue=this.chunkOccurrences.get(ne);if("number"==typeof ue){const we=ue-1;we<=0?this.chunkOccurrences.delete(ne):this.chunkOccurrences.set(ne,we)}}}}computeSimilarityScore(ce,Se,Ie){let ne=0;for(const[ue,we]of Object.entries(Se)){const Me=ce.tf.get(ue);if(!Me)continue;let Ve=Ie.get(ue);"number"!=typeof Ve&&(Ve=this.computeIdf(ue),Ie.set(ue,Ve)),ne+=Me*Ve*we}return ne}computeEmbedding(ce){const Se=l.termFrequencies(ce);return this.computeTfidf(Se)}computeIdf(ce){var Se;const Ie=null!==(Se=this.chunkOccurrences.get(ce))&&void 0!==Se?Se:0;return Ie>0?Math.log((this.chunkCount+1)/Ie):0}computeTfidf(ce){const Se=Object.create(null);for(const[Ie,ne]of ce){const ue=this.computeIdf(Ie);ue>0&&(Se[Ie]=ne*ue)}return Se}}var p=t(81644),m=t(51126),T=t(35072),A=t(42638),k=t(598),O=t(59002),N=t(52152),H=t(86671),L=t(21468),j=t(66702),Z=function(M){return M[M.NO_ACTION=0]="NO_ACTION",M[M.CLOSE_PICKER=1]="CLOSE_PICKER",M[M.REFRESH_PICKER=2]="REFRESH_PICKER",M[M.REMOVE_ITEM=3]="REMOVE_ITEM",M}(Z||{});function te(M){return Array.isArray(M.items)}function X(M){return!!M.picks&&M.additionalPicks instanceof Promise}class U extends f.jG{constructor(ce,Se){super(),this.prefix=ce,this.options=Se}provide(ce,Se,Ie){var ue,ne=this;const we=new f.Cm;let Me;ce.canAcceptInBackground=!(null===(ue=this.options)||void 0===ue||!ue.canAcceptInBackground),ce.matchOnLabel=ce.matchOnDescription=ce.matchOnDetail=ce.sortByLabel=!1;const Ve=we.add(new f.HE),$e=function(){var He=(0,a.A)(function*(){var me;const le=Ve.value=new f.Cm;Me?.dispose(!0),ce.busy=!1,Me=new L.Qi(Se);const Ee=Me.token;let be=ce.value.substring(ne.prefix.length);null!==(me=ne.options)&&void 0!==me&&me.shouldSkipTrimPickFilter||(be=be.trim());const Ce=ne._getPicks(be,le,Ee,Ie),Ne=(qe,dt)=>{var vt;let fn,on;if(te(qe)?(fn=qe.items,on=qe.active):fn=qe,0===fn.length){if(dt)return!1;(be.length>0||ce.hideInput)&&null!==(vt=ne.options)&&void 0!==vt&&vt.noResultsPick&&(fn=(0,j.Tn)(ne.options.noResultsPick)?[ne.options.noResultsPick(be)]:[ne.options.noResultsPick])}return ce.items=fn,on&&(ce.activeItems=[on]),!0},Fe=function(){var qe=(0,a.A)(function*(dt){let vt=!1,fn=!1;yield Promise.all([(0,a.A)(function*(){"number"==typeof dt.mergeDelay&&(yield(0,H.wR)(dt.mergeDelay),Ee.isCancellationRequested)||fn||(vt=Ne(dt.picks,!0))})(),(0,a.A)(function*(){ce.busy=!0;try{const on=yield dt.additionalPicks;if(Ee.isCancellationRequested)return;let ht,Je,ot,De;if(te(dt.picks)?(ht=dt.picks.items,Je=dt.picks.active):ht=dt.picks,te(on)?(ot=on.items,De=on.active):ot=on,ot.length>0||!vt){let Qe;if(!Je&&!De){const mt=ce.activeItems[0];mt&&-1!==ht.indexOf(mt)&&(Qe=mt)}Ne({items:[...ht,...ot],active:Je||De||Qe})}}finally{Ee.isCancellationRequested||(ce.busy=!1),fn=!0}})()])});return function(vt){return qe.apply(this,arguments)}}();if(null!==Ce)if(X(Ce))yield Fe(Ce);else if(Ce instanceof Promise){ce.busy=!0;try{const qe=yield Ce;if(Ee.isCancellationRequested)return;X(qe)?yield Fe(qe):Ne(qe)}finally{Ee.isCancellationRequested||(ce.busy=!1)}}else Ne(Ce)});return function(){return He.apply(this,arguments)}}();we.add(ce.onDidChangeValue(()=>$e())),$e(),we.add(ce.onDidAccept(He=>{var me;if(Ie?.handleAccept)return He.inBackground||ce.hide(),void(null===(me=Ie.handleAccept)||void 0===me||me.call(Ie,ce.activeItems[0]));const[le]=ce.selectedItems;"function"==typeof le?.accept&&(He.inBackground||ce.hide(),le.accept(ce.keyMods,He))}));const it=function(){var He=(0,a.A)(function*(me,le){var Ee,be;if("function"!=typeof le.trigger)return;const Ce=null!==(be=null===(Ee=le.buttons)||void 0===Ee?void 0:Ee.indexOf(me))&&void 0!==be?be:-1;if(Ce>=0){const Ne=le.trigger(Ce,ce.keyMods),Fe="number"==typeof Ne?Ne:yield Ne;if(Se.isCancellationRequested)return;switch(Fe){case Z.NO_ACTION:break;case Z.CLOSE_PICKER:ce.hide();break;case Z.REFRESH_PICKER:$e();break;case Z.REMOVE_ITEM:{const qe=ce.items.indexOf(le);if(-1!==qe){const dt=ce.items.slice(),vt=dt.splice(qe,1),fn=ce.activeItems.filter(ht=>ht!==vt[0]),on=ce.keepScrollPosition;ce.keepScrollPosition=!0,ce.items=dt,fn&&(ce.activeItems=fn),ce.keepScrollPosition=on}break}}}});return function(le,Ee){return He.apply(this,arguments)}}();return we.add(ce.onDidTriggerItemButton(({button:He,item:me})=>it(He,me))),we.add(ce.onDidTriggerSeparatorButton(({button:He,separator:me})=>it(He,me))),we}}var oe,z,q=t(16815),R=t(55922),W=function(M,ce,Se,Ie){var we,ne=arguments.length,ue=ne<3?ce:null===Ie?Ie=Object.getOwnPropertyDescriptor(ce,Se):Ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(M,ce,Se,Ie);else for(var Me=M.length-1;Me>=0;Me--)(we=M[Me])&&(ue=(ne<3?we(ue):ne>3?we(ce,Se,ue):we(ce,Se))||ue);return ne>3&&ue&&Object.defineProperty(ce,Se,ue),ue},Y=function(M,ce){return function(Se,Ie){ce(Se,Ie,M)}};let G=oe=class extends U{constructor(ce,Se,Ie,ne,ue,we){super(oe.PREFIX,ce),this.instantiationService=Se,this.keybindingService=Ie,this.commandService=ne,this.telemetryService=ue,this.dialogService=we,this.commandsHistory=this._register(this.instantiationService.createInstance(Q)),this.options=ce}_getPicks(ce,Se,Ie,ne){var ue=this;return(0,a.A)(function*(){var we,Me,Ve,$e;const it=yield ue.getCommandPicks(Ie);if(Ie.isCancellationRequested)return[];const He=(0,_.P)(()=>{const Fe=new l;return Fe.updateDocuments(it.map(dt=>({key:dt.commandId,textChunks:[ue.getTfIdfChunk(dt)]}))),function g(M){var ce,Se;const Ie=M.slice(0);Ie.sort((ue,we)=>we.score-ue.score);const ne=null!==(Se=null===(ce=Ie[0])||void 0===ce?void 0:ce.score)&&void 0!==Se?Se:0;if(ne>0)for(const ue of Ie)ue.score/=ne;return Ie}(Fe.calculateScores(ce,Ie)).filter(dt=>dt.score>oe.TFIDF_THRESHOLD).slice(0,oe.TFIDF_MAX_RESULTS)}),me=[];for(const Fe of it){const qe=null!==(we=oe.WORD_FILTER(ce,Fe.label))&&void 0!==we?we:void 0,dt=Fe.commandAlias&&null!==(Me=oe.WORD_FILTER(ce,Fe.commandAlias))&&void 0!==Me?Me:void 0;if(qe||dt)Fe.highlights={label:qe,detail:ue.options.showAlias?dt:void 0},me.push(Fe);else if(ce===Fe.commandId)me.push(Fe);else if(ce.length>=3){const vt=He();if(Ie.isCancellationRequested)return[];const fn=vt.find(on=>on.key===Fe.commandId);fn&&(Fe.tfIdfScore=fn.score,me.push(Fe))}}const le=new Map;for(const Fe of me){const qe=le.get(Fe.label);qe?(Fe.description=Fe.commandId,qe.description=qe.commandId):le.set(Fe.label,Fe)}me.sort((Fe,qe)=>{if(Fe.tfIdfScore&&qe.tfIdfScore)return Fe.tfIdfScore===qe.tfIdfScore?Fe.label.localeCompare(qe.label):qe.tfIdfScore-Fe.tfIdfScore;if(Fe.tfIdfScore)return 1;if(qe.tfIdfScore)return-1;const dt=ue.commandsHistory.peek(Fe.commandId),vt=ue.commandsHistory.peek(qe.commandId);if(dt&&vt)return dt>vt?-1:1;if(dt)return-1;if(vt)return 1;if(ue.options.suggestedCommandIds){const fn=ue.options.suggestedCommandIds.has(Fe.commandId),on=ue.options.suggestedCommandIds.has(qe.commandId);if(fn&&on)return 0;if(fn)return-1;if(on)return 1}return Fe.label.localeCompare(qe.label)});const Ee=[];let be=!1,Ce=!0,Ne=!!ue.options.suggestedCommandIds;for(let Fe=0;Fe<me.length;Fe++){const qe=me[Fe];0===Fe&&ue.commandsHistory.peek(qe.commandId)&&(Ee.push({type:"separator",label:(0,p.kg)("recentlyUsed","recently used")}),be=!0),Ce&&void 0!==qe.tfIdfScore&&(Ee.push({type:"separator",label:(0,p.kg)("suggested","similar commands")}),Ce=!1),Ne&&void 0===qe.tfIdfScore&&!ue.commandsHistory.peek(qe.commandId)&&!(null===(Ve=ue.options.suggestedCommandIds)||void 0===Ve)&&Ve.has(qe.commandId)&&(Ee.push({type:"separator",label:(0,p.kg)("commonlyUsed","commonly used")}),be=!0,Ne=!1),be&&void 0===qe.tfIdfScore&&!ue.commandsHistory.peek(qe.commandId)&&!(null!==($e=ue.options.suggestedCommandIds)&&void 0!==$e&&$e.has(qe.commandId))&&(Ee.push({type:"separator",label:(0,p.kg)("morecCommands","other commands")}),be=!1),Ee.push(ue.toCommandPick(qe,ne))}return ue.hasAdditionalCommandPicks(ce,Ie)?{picks:Ee,additionalPicks:(0,a.A)(function*(){var Fe;const qe=yield ue.getAdditionalCommandPicks(it,me,ce,Ie);if(Ie.isCancellationRequested)return[];const dt=qe.map(vt=>ue.toCommandPick(vt,ne));return Ce&&"separator"!==(null===(Fe=dt[0])||void 0===Fe?void 0:Fe.type)&&dt.unshift({type:"separator",label:(0,p.kg)("suggested","similar commands")}),dt})()}:Ee})()}toCommandPick(ce,Se){var Ie=this;if("separator"===ce.type)return ce;const ne=this.keybindingService.lookupKeybinding(ce.commandId),ue=ne?(0,p.kg)("commandPickAriaLabelWithKeybinding","{0}, {1}",ce.label,ne.getAriaLabel()):ce.label;return{...ce,ariaLabel:ue,detail:this.options.showAlias&&ce.commandAlias!==ce.label?ce.commandAlias:void 0,keybinding:ne,accept:(we=(0,a.A)(function*(){var Me,Ve;Ie.commandsHistory.push(ce.commandId),Ie.telemetryService.publicLog2("workbenchActionExecuted",{id:ce.commandId,from:null!==(Me=Se?.from)&&void 0!==Me?Me:"quick open"});try{null!==(Ve=ce.args)&&void 0!==Ve&&Ve.length?yield Ie.commandService.executeCommand(ce.commandId,...ce.args):yield Ie.commandService.executeCommand(ce.commandId)}catch($e){(0,D.MB)($e)||Ie.dialogService.error((0,p.kg)("canNotRun","Command '{0}' resulted in an error",ce.label),(0,P.r)($e))}}),function(){return we.apply(this,arguments)})};var we}getTfIdfChunk({label:ce,commandAlias:Se,commandDescription:Ie}){let ne=ce;return Se&&Se!==ce&&(ne+=` - ${Se}`),Ie&&Ie.value!==ce&&(ne+=` - ${Ie.value===Ie.original?Ie.value:`${Ie.value} (${Ie.original})`}`),ne}};G.PREFIX=">",G.TFIDF_THRESHOLD=.5,G.TFIDF_MAX_RESULTS=5,G.WORD_FILTER=(0,v.or)(v.WP,v.J1,v.Tt),G=oe=W([Y(1,k._Y),Y(2,O.b),Y(3,m.d),Y(4,R.k),Y(5,A.X)],G);let Q=z=class extends f.jG{constructor(ce,Se,Ie){super(),this.storageService=ce,this.configurationService=Se,this.logService=Ie,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(ce=>this.updateConfiguration(ce))),this._register(this.storageService.onWillSaveState(ce=>{ce.reason===q.LP.SHUTDOWN&&this.saveState()}))}updateConfiguration(ce){ce&&!ce.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=z.getConfiguredCommandHistoryLength(this.configurationService),z.cache&&z.cache.limit!==this.configuredCommandsHistoryLength&&(z.cache.limit=this.configuredCommandsHistoryLength,z.hasChanges=!0))}load(){const ce=this.storageService.get(z.PREF_KEY_CACHE,0);let Se;if(ce)try{Se=JSON.parse(ce)}catch(ne){this.logService.error(`[CommandsHistory] invalid data: ${ne}`)}const Ie=z.cache=new d.qK(this.configuredCommandsHistoryLength,1);if(Se){let ne;ne=Se.usesLRU?Se.entries:Se.entries.sort((ue,we)=>ue.value-we.value),ne.forEach(ue=>Ie.set(ue.key,ue.value))}z.counter=this.storageService.getNumber(z.PREF_KEY_COUNTER,0,z.counter)}push(ce){z.cache&&(z.cache.set(ce,z.counter++),z.hasChanges=!0)}peek(ce){var Se;return null===(Se=z.cache)||void 0===Se?void 0:Se.peek(ce)}saveState(){if(!z.cache||!z.hasChanges)return;const ce={usesLRU:!0,entries:[]};z.cache.forEach((Se,Ie)=>ce.entries.push({key:Ie,value:Se})),this.storageService.store(z.PREF_KEY_CACHE,JSON.stringify(ce),0,0),this.storageService.store(z.PREF_KEY_COUNTER,z.counter,0,0),z.hasChanges=!1}static getConfiguredCommandHistoryLength(ce){var Se,Ie;const ue=null===(Ie=null===(Se=ce.getValue().workbench)||void 0===Se?void 0:Se.commandPalette)||void 0===Ie?void 0:Ie.history;return"number"==typeof ue?ue:z.DEFAULT_COMMANDS_HISTORY_LENGTH}};Q.DEFAULT_COMMANDS_HISTORY_LENGTH=50,Q.PREF_KEY_CACHE="commandPalette.mru.cache",Q.PREF_KEY_COUNTER="commandPalette.mru.counter",Q.counter=1,Q.hasChanges=!1,Q=z=W([Y(0,q.CS),Y(1,T.pG),Y(2,N.rr)],Q);class K extends G{constructor(ce,Se,Ie,ne,ue,we){super(ce,Se,Ie,ne,ue,we)}getCodeEditorCommandPicks(){var ce;const Se=this.activeTextEditorControl;if(!Se)return[];const Ie=[];for(const ne of Se.getSupportedActions()){let ue;!(null===(ce=ne.metadata)||void 0===ce)&&ce.description&&(ue=(0,b.f)(ne.metadata.description)?ne.metadata.description:{original:ne.metadata.description,value:ne.metadata.description}),Ie.push({commandId:ne.id,commandAlias:ne.alias,commandDescription:ue,label:(0,S.pS)(ne.label)||ne.id})}return Ie}}var ie=t(47639),ae=t(69995),de=t(8086),ge=function(M,ce){return function(Se,Ie){ce(Se,Ie,M)}};let _e=class extends K{get activeTextEditorControl(){var ce;return null!==(ce=this.codeEditorService.getFocusedCodeEditor())&&void 0!==ce?ce:void 0}constructor(ce,Se,Ie,ne,ue,we){super({showAlias:!1},ce,Ie,ne,ue,we),this.codeEditorService=Se}getCommandPicks(){var ce=this;return(0,a.A)(function*(){return ce.getCodeEditorCommandPicks()})()}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return(0,a.A)(function*(){return[]})()}};_e=function(M,ce,Se,Ie){var we,ne=arguments.length,ue=ne<3?ce:null===Ie?Ie=Object.getOwnPropertyDescriptor(ce,Se):Ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(M,ce,Se,Ie);else for(var Me=M.length-1;Me>=0;Me--)(we=M[Me])&&(ue=(ne<3?we(ue):ne>3?we(ce,Se,ue):we(ce,Se))||ue);return ne>3&&ue&&Object.defineProperty(ce,Se,ue),ue}([ge(0,k._Y),ge(1,C.T),ge(2,O.b),ge(3,m.d),ge(4,R.k),ge(5,A.X)],_e);let ye=(()=>{class M extends ie.ks{constructor(){super({id:M.ID,label:x.gf.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:ae.R.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(Se){Se.get(de.GK).quickAccess.show(_e.PREFIX)}}return M.ID="editor.action.quickCommand",M})();(0,ie.Fl)(ye),F.O.as(w.Fd.Quickaccess).registerQuickAccessProvider({ctor:_e,prefix:_e.PREFIX,helpEntries:[{description:x.gf.quickCommandHelp,commandId:ye.ID}]})},7809:(tt,xe,t)=>{var a=t(99031),F=t(26713),w=t(56490),x=t(81644);let C=(()=>{class m extends w.o{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(A){const k=(0,x.kg)("cannotRunGotoLine","Open a text editor first to go to a line.");return A.items=[{label:k}],A.ariaLabel=k,a.jG.None}provideWithTextEditor(A,k,O){const N=A.editor,H=new a.Cm;H.add(k.onDidAccept(Z=>{const[te]=k.selectedItems;if(te){if(!this.isValidLineNumber(N,te.lineNumber))return;this.gotoLocation(A,{range:this.toRange(te.lineNumber,te.column),keyMods:k.keyMods,preserveFocus:Z.inBackground}),Z.inBackground||k.hide()}}));const L=()=>{const Z=this.parsePosition(N,k.value.trim().substr(m.PREFIX.length)),te=this.getPickLabel(N,Z.lineNumber,Z.column);if(k.items=[{lineNumber:Z.lineNumber,column:Z.column,label:te}],k.ariaLabel=te,!this.isValidLineNumber(N,Z.lineNumber))return void this.clearDecorations(N);const X=this.toRange(Z.lineNumber,Z.column);N.revealRangeInCenter(X,0),this.addDecorations(N,X)};L(),H.add(k.onDidChangeValue(()=>L()));const j=(0,F.jA)(N);return j&&2===j.getOptions().get(68).renderType&&(j.updateOptions({lineNumbers:"on"}),H.add((0,a.s)(()=>j.updateOptions({lineNumbers:"relative"})))),H}toRange(A=1,k=1){return{startLineNumber:A,startColumn:k,endLineNumber:A,endColumn:k}}parsePosition(A,k){const O=k.split(/,|:|#/).map(H=>parseInt(H,10)).filter(H=>!isNaN(H)),N=this.lineCount(A)+1;return{lineNumber:O[0]>0?O[0]:N+O[0],column:O[1]}}getPickLabel(A,k,O){if(this.isValidLineNumber(A,k))return this.isValidColumn(A,k,O)?(0,x.kg)("gotoLineColumnLabel","Go to line {0} and character {1}.",k,O):(0,x.kg)("gotoLineLabel","Go to line {0}.",k);const N=A.getPosition()||{lineNumber:1,column:1},H=this.lineCount(A);return H>1?(0,x.kg)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",N.lineNumber,N.column,H):(0,x.kg)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",N.lineNumber,N.column)}isValidLineNumber(A,k){return!(!k||"number"!=typeof k)&&k>0&&k<=this.lineCount(A)}isValidColumn(A,k,O){if(!O||"number"!=typeof O)return!1;const N=this.getModel(A);if(!N)return!1;const H={lineNumber:k,column:O};return N.validatePosition(H).equals(H)}lineCount(A){var k,O;return null!==(O=null===(k=this.getModel(A))||void 0===k?void 0:k.getLineCount())&&void 0!==O?O:0}}return m.PREFIX=":",m})();var S=t(97018),b=t(64558),P=t(31212),D=t(60264),v=t(5643),_=t(47639),f=t(69995),d=t(8086);let g=class extends C{constructor(T){super(),this.editorService=T,this.onDidActiveTextEditorControlChange=v.Jh.None}get activeTextEditorControl(){var T;return null!==(T=this.editorService.getFocusedCodeEditor())&&void 0!==T?T:void 0}};var T;g=function(m,T,A,k){var H,O=arguments.length,N=O<3?T:null===k?k=Object.getOwnPropertyDescriptor(T,A):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(m,T,A,k);else for(var L=m.length-1;L>=0;L--)(H=m[L])&&(N=(O<3?H(N):O>3?H(T,A,N):H(T,A))||N);return O>3&&N&&Object.defineProperty(T,A,N),N}([(0,T=P.T,function(A,k){T(A,k,0)})],g);let p=(()=>{class m extends _.ks{constructor(){super({id:m.ID,label:D.Hw.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:f.R.focus,primary:2085,mac:{primary:293},weight:100}})}run(A){A.get(d.GK).quickAccess.show(g.PREFIX)}}return m.ID="editor.action.gotoLine",m})();(0,_.Fl)(p),S.O.as(b.Fd.Quickaccess).registerQuickAccessProvider({ctor:g,prefix:g.PREFIX,helpEntries:[{description:D.Hw.gotoLineActionLabel,commandId:p.ID}]})},83194:(tt,xe,t)=>{t(59496),t(93981);var w=t(10467),x=t(86671),C=t(21468),S=t(15320),b=t(81072),P=t(28467),D=t(68200),v=t(21828),_=t(6653);const f=[void 0,[]];function d(Ie,ne,ue=0,we=0){return ne.values&&ne.values.length>1?function r(Ie,ne,ue,we){let Me=0;const Ve=[];for(const $e of ne){const[it,He]=l(Ie,$e,ue,we);if("number"!=typeof it)return f;Me+=it,Ve.push(...He)}return[Me,p(Ve)]}(Ie,ne.values,ue,we):l(Ie,ne,ue,we)}function l(Ie,ne,ue,we){const Me=(0,P.dt)(ne.original,ne.originalLowercase,ue,Ie,Ie.toLowerCase(),we,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return Me?[Me[0],(0,P.WJ)(Me)]:f}function p(Ie){const ne=Ie.sort((Me,Ve)=>Me.start-Ve.start),ue=[];let we;for(const Me of ne)we&&m(we,Me)?(we.start=Math.min(we.start,Me.start),we.end=Math.max(we.end,Me.end)):(we=Me,ue.push(Me));return ue}function m(Ie,ne){return!(Ie.end<ne.start||ne.end<Ie.start)}function T(Ie){return Ie.startsWith('"')&&Ie.endsWith('"')}Object.freeze({score:0});const A=" ";function k(Ie){"string"!=typeof Ie&&(Ie="");const ne=Ie.toLowerCase(),{pathNormalized:ue,normalized:we,normalizedLowercase:Me}=O(Ie),Ve=ue.indexOf(D.Vn)>=0,$e=T(Ie);let it;const He=Ie.split(A);if(He.length>1)for(const me of He){const le=T(me),{pathNormalized:Ee,normalized:be,normalizedLowercase:Ce}=O(me);be&&(it||(it=[]),it.push({original:me,originalLowercase:me.toLowerCase(),pathNormalized:Ee,normalized:be,normalizedLowercase:Ce,expectContiguousMatch:le}))}return{original:Ie,originalLowercase:ne,pathNormalized:ue,normalized:we,normalizedLowercase:Me,values:it,containsPathSeparator:Ve,expectContiguousMatch:$e}}function O(Ie){let ne;ne=Ie.replace(v.uF?/\//g:/\\/g,D.Vn);const ue=(0,_.wB)(ne).replace(/\s|"/g,"");return{pathNormalized:ne,normalized:ue,normalizedLowercase:ue.toLowerCase()}}function N(Ie){return Array.isArray(Ie)?k(Ie.map(ne=>ne.original).join(A)):k(Ie.original)}var Y,H=t(99031),L=t(73678),j=t(41489),Z=t(51250),te=t(56490),X=t(81644),U=t(15307),q=t(92210),W=function(Ie,ne){return function(ue,we){ne(ue,we,Ie)}};let oe=Y=class extends te.o{constructor(ne,ue,we=Object.create(null)){super(we),this._languageFeaturesService=ne,this._outlineModelService=ue,this.options=we,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(ne){return this.provideLabelPick(ne,(0,X.kg)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),H.jG.None}provideWithTextEditor(ne,ue,we,Me){const $e=this.getModel(ne.editor);return $e?this._languageFeaturesService.documentSymbolProvider.has($e)?this.doProvideWithEditorSymbols(ne,$e,ue,we,Me):this.doProvideWithoutEditorSymbols(ne,$e,ue,we):H.jG.None}doProvideWithoutEditorSymbols(ne,ue,we,Me){var Ve=this;const $e=new H.Cm;return this.provideLabelPick(we,(0,X.kg)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(0,w.A)(function*(){!(yield Ve.waitForLanguageSymbolRegistry(ue,$e))||Me.isCancellationRequested||$e.add(Ve.doProvideWithEditorSymbols(ne,ue,we,Me))})(),$e}provideLabelPick(ne,ue){ne.items=[{label:ue,index:0,kind:14}],ne.ariaLabel=ue}waitForLanguageSymbolRegistry(ne,ue){var we=this;return(0,w.A)(function*(){if(we._languageFeaturesService.documentSymbolProvider.has(ne))return!0;const Me=new x.Zv,Ve=ue.add(we._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{we._languageFeaturesService.documentSymbolProvider.has(ne)&&(Ve.dispose(),Me.complete(!0))}));return ue.add((0,H.s)(()=>Me.complete(!1))),Me.p})()}doProvideWithEditorSymbols(ne,ue,we,Me,Ve){var it,$e=this;const He=ne.editor,me=new H.Cm;me.add(we.onDidAccept(Ce=>{var Ne;const[Fe]=we.selectedItems;Fe&&Fe.range&&(this.gotoLocation(ne,{range:Fe.range.selection,keyMods:we.keyMods,preserveFocus:Ce.inBackground}),null===(Ne=Ve?.handleAccept)||void 0===Ne||Ne.call(Ve,Fe),Ce.inBackground||we.hide())})),me.add(we.onDidTriggerItemButton(({item:Ce})=>{Ce&&Ce.range&&(this.gotoLocation(ne,{range:Ce.range.selection,keyMods:we.keyMods,forceSideBySide:!0}),we.hide())}));const le=this.getDocumentSymbols(ue,Me);let Ee;const be=function(){var Ce=(0,w.A)(function*(Ne){Ee?.dispose(!0),we.busy=!1,Ee=new C.Qi(Me),we.busy=!0;try{const Fe=k(we.value.substr(Y.PREFIX.length).trim()),qe=yield $e.doGetSymbolPicks(le,Fe,void 0,Ee.token,ue);if(Me.isCancellationRequested)return;if(qe.length>0){if(we.items=qe,Ne&&0===Fe.original.length){const dt=(0,q.Uk)(qe,vt=>!("separator"===vt.type||!vt.range||!L.Q.containsPosition(vt.range.decoration,Ne)));dt&&(we.activeItems=[dt])}}else $e.provideLabelPick(we,Fe.original.length>0?(0,X.kg)("noMatchingSymbolResults","No matching editor symbols"):(0,X.kg)("noSymbolResults","No editor symbols"))}finally{Me.isCancellationRequested||(we.busy=!1)}});return function(Fe){return Ce.apply(this,arguments)}}();return me.add(we.onDidChangeValue(()=>be(void 0))),be(null===(it=He.getSelection())||void 0===it?void 0:it.getPosition()),me.add(we.onDidChangeActive(()=>{const[Ce]=we.activeItems;Ce&&Ce.range&&(He.revealRangeInCenter(Ce.range.selection,0),this.addDecorations(He,Ce.range.decoration))})),me}doGetSymbolPicks(ne,ue,we,Me,Ve){var $e=this;return(0,w.A)(function*(){var it,He;const me=yield ne;if(Me.isCancellationRequested)return[];const le=0===ue.original.indexOf(Y.SCOPE_PREFIX),Ee=le?1:0;let be,Ce,Ne;ue.values&&ue.values.length>1?(be=N(ue.values[0]),Ce=N(ue.values.slice(1))):be=ue;const Fe=null===(He=null===(it=$e.options)||void 0===it?void 0:it.openSideBySideDirection)||void 0===He?void 0:He.call(it);Fe&&(Ne=[{iconClass:b.L.asClassName("right"===Fe?S.W.splitHorizontal:S.W.splitVertical),tooltip:"right"===Fe?(0,X.kg)("openToSide","Open to the Side"):(0,X.kg)("openToBottom","Open to the Bottom")}]);const qe=[];for(let fn=0;fn<me.length;fn++){const on=me[fn],ht=(0,_.Bq)(on.name),Je=`$(${j.gP.toIcon(on.kind).id}) ${ht}`,ot=Je.length-ht.length;let Qe,mt,kt,Ht,De=on.containerName;if(we?.extraContainerLabel&&(De=De?`${we.extraContainerLabel} \u2022 ${De}`:we.extraContainerLabel),ue.original.length>Ee){let Bt=!1;if(be!==ue&&([Qe,mt]=d(Je,{...ue,values:void 0},Ee,ot),"number"==typeof Qe&&(Bt=!0)),"number"!=typeof Qe&&([Qe,mt]=d(Je,be,Ee,ot),"number"!=typeof Qe))continue;if(!Bt&&Ce){if(De&&Ce.original.length>0&&([kt,Ht]=d(De,Ce)),"number"!=typeof kt)continue;"number"==typeof Qe&&(Qe+=kt)}}const Ft=on.tags&&on.tags.indexOf(1)>=0;qe.push({index:fn,kind:on.kind,score:Qe,label:Je,ariaLabel:(0,j.PK)(on.name,on.kind),description:De,highlights:Ft?void 0:{label:mt,description:Ht},range:{selection:L.Q.collapseToStart(on.selectionRange),decoration:on.range},uri:Ve.uri,symbolName:ht,strikethrough:Ft,buttons:Ne})}const dt=qe.sort((fn,on)=>le?$e.compareByKindAndScore(fn,on):$e.compareByScore(fn,on));let vt=[];if(le){let fn,on,Je=function(){on&&"number"==typeof fn&&ht>0&&(on.label=(0,_.GP)(G[fn]||z,ht))},ht=0;for(const ot of dt)fn!==ot.kind?(Je(),fn=ot.kind,ht=1,on={type:"separator"},vt.push(on)):ht++,vt.push(ot);Je()}else dt.length>0&&(vt=[{label:(0,X.kg)("symbols","symbols ({0})",qe.length),type:"separator"},...dt]);return vt})()}compareByScore(ne,ue){if("number"!=typeof ne.score&&"number"==typeof ue.score)return 1;if("number"==typeof ne.score&&"number"!=typeof ue.score)return-1;if("number"==typeof ne.score&&"number"==typeof ue.score){if(ne.score>ue.score)return-1;if(ne.score<ue.score)return 1}return ne.index<ue.index?-1:ne.index>ue.index?1:0}compareByKindAndScore(ne,ue){const Ve=(G[ne.kind]||z).localeCompare(G[ue.kind]||z);return 0===Ve?this.compareByScore(ne,ue):Ve}getDocumentSymbols(ne,ue){var we=this;return(0,w.A)(function*(){const Me=yield we._outlineModelService.getOrCreate(ne,ue);return ue.isCancellationRequested?[]:Me.asListOfDocumentSymbols()})()}};oe.PREFIX="@",oe.SCOPE_PREFIX=":",oe.PREFIX_BY_CATEGORY=`${Y.PREFIX}${Y.SCOPE_PREFIX}`,oe=Y=function(Ie,ne,ue,we){var $e,Me=arguments.length,Ve=Me<3?ne:null===we?we=Object.getOwnPropertyDescriptor(ne,ue):we;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ve=Reflect.decorate(Ie,ne,ue,we);else for(var it=Ie.length-1;it>=0;it--)($e=Ie[it])&&(Ve=(Me<3?$e(Ve):Me>3?$e(ne,ue,Ve):$e(ne,ue))||Ve);return Me>3&&Ve&&Object.defineProperty(ne,ue,Ve),Ve}([W(0,U.u),W(1,Z.gW)],oe);const z=(0,X.kg)("property","properties ({0})"),G={5:(0,X.kg)("method","methods ({0})"),11:(0,X.kg)("function","functions ({0})"),8:(0,X.kg)("_constructor","constructors ({0})"),12:(0,X.kg)("variable","variables ({0})"),4:(0,X.kg)("class","classes ({0})"),22:(0,X.kg)("struct","structs ({0})"),23:(0,X.kg)("event","events ({0})"),24:(0,X.kg)("operator","operators ({0})"),10:(0,X.kg)("interface","interfaces ({0})"),2:(0,X.kg)("namespace","namespaces ({0})"),3:(0,X.kg)("package","packages ({0})"),25:(0,X.kg)("typeParameter","type parameters ({0})"),1:(0,X.kg)("modules","modules ({0})"),6:(0,X.kg)("property","properties ({0})"),9:(0,X.kg)("enum","enumerations ({0})"),21:(0,X.kg)("enumMember","enumeration members ({0})"),14:(0,X.kg)("string","strings ({0})"),0:(0,X.kg)("file","files ({0})"),17:(0,X.kg)("array","arrays ({0})"),15:(0,X.kg)("number","numbers ({0})"),16:(0,X.kg)("boolean","booleans ({0})"),18:(0,X.kg)("object","objects ({0})"),19:(0,X.kg)("key","keys ({0})"),7:(0,X.kg)("field","fields ({0})"),13:(0,X.kg)("constant","constants ({0})")};var Q=t(97018),K=t(64558),ie=t(31212),ae=t(60264),de=t(5643),se=t(47639),ge=t(69995),_e=t(8086),M=function(Ie,ne){return function(ue,we){ne(ue,we,Ie)}};let ce=class extends oe{constructor(ne,ue,we){super(ue,we),this.editorService=ne,this.onDidActiveTextEditorControlChange=de.Jh.None}get activeTextEditorControl(){var ne;return null!==(ne=this.editorService.getFocusedCodeEditor())&&void 0!==ne?ne:void 0}};ce=function(Ie,ne,ue,we){var $e,Me=arguments.length,Ve=Me<3?ne:null===we?we=Object.getOwnPropertyDescriptor(ne,ue):we;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ve=Reflect.decorate(Ie,ne,ue,we);else for(var it=Ie.length-1;it>=0;it--)($e=Ie[it])&&(Ve=(Me<3?$e(Ve):Me>3?$e(ne,ue,Ve):$e(ne,ue))||Ve);return Me>3&&Ve&&Object.defineProperty(ne,ue,Ve),Ve}([M(0,ie.T),M(1,U.u),M(2,Z.gW)],ce);let Se=(()=>{class Ie extends se.ks{constructor(){super({id:Ie.ID,label:ae.n9.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:ge.R.hasDocumentSymbolProvider,kbOpts:{kbExpr:ge.R.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(ue){ue.get(_e.GK).quickAccess.show(oe.PREFIX,{itemActivation:_e.C1.NONE})}}return Ie.ID="editor.action.quickOutline",Ie})();(0,se.Fl)(Se),Q.O.as(K.Fd.Quickaccess).registerQuickAccessProvider({ctor:ce,prefix:oe.PREFIX,helpEntries:[{description:ae.n9.quickOutlineActionLabel,prefix:oe.PREFIX,commandId:Se.ID},{description:ae.n9.quickOutlineByCategoryActionLabel,prefix:oe.PREFIX_BY_CATEGORY}]})},33760:(tt,xe,t)=>{var v,a=t(97018),F=t(64558),w=t(60264),x=t(81644),C=t(99031),S=t(59002),b=t(8086),D=function(f,d){return function(r,l){d(r,l,f)}};let _=v=class{constructor(d,r){this.quickInputService=d,this.keybindingService=r,this.registry=a.O.as(F.Fd.Quickaccess)}provide(d){const r=new C.Cm;return r.add(d.onDidAccept(()=>{const[l]=d.selectedItems;l&&this.quickInputService.quickAccess.show(l.prefix,{preserveValue:!0})})),r.add(d.onDidChangeValue(l=>{const g=this.registry.getQuickAccessProvider(l.substr(v.PREFIX.length));g&&g.prefix&&g.prefix!==v.PREFIX&&this.quickInputService.quickAccess.show(g.prefix,{preserveValue:!0})})),d.items=this.getQuickAccessProviders().filter(l=>l.prefix!==v.PREFIX),r}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((r,l)=>r.prefix.localeCompare(l.prefix)).flatMap(r=>this.createPicks(r))}createPicks(d){return d.helpEntries.map(r=>{const l=r.prefix||d.prefix,g=l||"\u2026";return{prefix:l,label:g,keybinding:r.commandId?this.keybindingService.lookupKeybinding(r.commandId):void 0,ariaLabel:(0,x.kg)("helpPickAriaLabel","{0}, {1}",g,r.description),description:r.description}})}};_.PREFIX="?",_=v=function(f,d,r,l){var m,g=arguments.length,p=g<3?d:null===l?l=Object.getOwnPropertyDescriptor(d,r):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(f,d,r,l);else for(var T=f.length-1;T>=0;T--)(m=f[T])&&(p=(g<3?m(p):g>3?m(d,r,p):m(d,r))||p);return g>3&&p&&Object.defineProperty(d,r,p),p}([D(0,b.GK),D(1,S.b)],_),a.O.as(F.Fd.Quickaccess).registerQuickAccessProvider({ctor:_,prefix:"",helpEntries:[{description:w.oq.helpQuickAccessActionLabel}]})},36568:(tt,xe,t)=>{var a=t(47639),F=t(31212),w=t(28868),x=t(35072),C=t(50168),S=t(598),b=t(16362),P=t(16815),v=function(f,d){return function(r,l){d(r,l,f)}};let _=class extends w.X{constructor(d,r,l,g,p,m,T){super(!0,d,r,l,g,p,m,T)}};_=function(f,d,r,l){var m,g=arguments.length,p=g<3?d:null===l?l=Object.getOwnPropertyDescriptor(d,r):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(f,d,r,l);else for(var T=f.length-1;T>=0;T--)(m=f[T])&&(p=(g<3?m(p):g>3?m(d,r,p):m(d,r))||p);return g>3&&p&&Object.defineProperty(d,r,p),p}([v(1,C.fN),v(2,F.T),v(3,b.Ot),v(4,S._Y),v(5,P.CS),v(6,x.pG)],_),(0,a.HW)(w.X.ID,_,4)},20762:(tt,xe,t)=>{t.d(xe,{aQ:()=>z,nr:()=>G,Sx:()=>ge,po:()=>oe,tj:()=>Y});var a=t(91874),F=t(53378),w=t(84072),x=t(5643),C=t(41489),S=t(21861);class b{constructor(ye,M,ce,Se,Ie){this._parsedThemeRuleBrand=void 0,this.token=ye,this.index=M,this.fontStyle=ce,this.foreground=Se,this.background=Ie}}const v=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class _{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(ye){if(null===ye)return 0;const M=ye.match(v);if(!M)throw new Error("Illegal value for token color: "+ye);ye=M[1].toUpperCase();let ce=this._color2id.get(ye);return ce||(ce=++this._lastColorId,this._color2id.set(ye,ce),this._id2color[ce]=w.Q1.fromHex("#"+ye),ce)}getColorMap(){return this._id2color.slice(0)}}class f{static createFromRawTokenTheme(ye,M){return this.createFromParsedTokenTheme(function P(_e){if(!_e||!Array.isArray(_e))return[];const ye=[];let M=0;for(let ce=0,Se=_e.length;ce<Se;ce++){const Ie=_e[ce];let ne=-1;if("string"==typeof Ie.fontStyle){ne=0;const Me=Ie.fontStyle.split(" ");for(let Ve=0,$e=Me.length;Ve<$e;Ve++)switch(Me[Ve]){case"italic":ne|=1;break;case"bold":ne|=2;break;case"underline":ne|=4;break;case"strikethrough":ne|=8}}let ue=null;"string"==typeof Ie.foreground&&(ue=Ie.foreground);let we=null;"string"==typeof Ie.background&&(we=Ie.background),ye[M++]=new b(Ie.token||"",ce,ne,ue,we)}return ye}(ye),M)}static createFromParsedTokenTheme(ye,M){return function D(_e,ye){_e.sort((Ve,$e)=>{const it=function l(_e,ye){return _e<ye?-1:_e>ye?1:0}(Ve.token,$e.token);return 0!==it?it:Ve.index-$e.index});let M=0,ce="000000",Se="ffffff";for(;_e.length>=1&&""===_e[0].token;){const Ve=_e.shift();-1!==Ve.fontStyle&&(M=Ve.fontStyle),null!==Ve.foreground&&(ce=Ve.foreground),null!==Ve.background&&(Se=Ve.background)}const Ie=new _;for(const Ve of ye)Ie.getId(Ve);const ne=Ie.getId(ce),ue=Ie.getId(Se),we=new g(M,ne,ue),Me=new p(we);for(let Ve=0,$e=_e.length;Ve<$e;Ve++){const it=_e[Ve];Me.insert(it.token,it.fontStyle,Ie.getId(it.foreground),Ie.getId(it.background))}return new f(Ie,Me)}(ye,M)}constructor(ye,M){this._colorMap=ye,this._root=M,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(ye){return this._root.match(ye)}match(ye,M){let ce=this._cache.get(M);if(typeof ce>"u"){const Se=this._match(M),Ie=function r(_e){const ye=_e.match(d);if(!ye)return 0;switch(ye[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(M);ce=(Se.metadata|Ie<<8)>>>0,this._cache.set(M,ce)}return(ce|ye)>>>0}}const d=/\b(comment|string|regex|regexp)\b/;class g{constructor(ye,M,ce){this._themeTrieElementRuleBrand=void 0,this._fontStyle=ye,this._foreground=M,this._background=ce,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new g(this._fontStyle,this._foreground,this._background)}acceptOverwrite(ye,M,ce){-1!==ye&&(this._fontStyle=ye),0!==M&&(this._foreground=M),0!==ce&&(this._background=ce),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class p{constructor(ye){this._themeTrieElementBrand=void 0,this._mainRule=ye,this._children=new Map}match(ye){if(""===ye)return this._mainRule;const M=ye.indexOf(".");let ce,Se;-1===M?(ce=ye,Se=""):(ce=ye.substring(0,M),Se=ye.substring(M+1));const Ie=this._children.get(ce);return typeof Ie<"u"?Ie.match(Se):this._mainRule}insert(ye,M,ce,Se){if(""===ye)return void this._mainRule.acceptOverwrite(M,ce,Se);const Ie=ye.indexOf(".");let ne,ue;-1===Ie?(ne=ye,ue=""):(ne=ye.substring(0,Ie),ue=ye.substring(Ie+1));let we=this._children.get(ne);typeof we>"u"&&(we=new p(this._mainRule.clone()),this._children.set(ne,we)),we.insert(ue,M,ce,Se)}}var T=t(30976),A=t(85478);const k={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[A.YtV]:"#FFFFFE",[A.By2]:"#000000",[A.tan]:"#E5EBF1",[T.vV]:"#D3D3D3",[T.H0]:"#939393",[A.QwA]:"#ADD6FF4D"}},O={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[A.YtV]:"#1E1E1E",[A.By2]:"#D4D4D4",[A.tan]:"#3A3D41",[T.vV]:"#404040",[T.H0]:"#707070",[A.QwA]:"#ADD6FF26"}},N={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[A.YtV]:"#000000",[A.By2]:"#FFFFFF",[T.vV]:"#FFFFFF",[T.H0]:"#FFFFFF"}},H={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[A.YtV]:"#FFFFFF",[A.By2]:"#292929",[T.vV]:"#292929",[T.H0]:"#292929"}};var L=t(97018),j=t(48187),Z=t(99031),te=t(8374),X=t(81072),U=t(24453);class R{getIcon(ye){const M=(0,U.HT)();let ce=ye.defaults;for(;X.L.isThemeIcon(ce);){const Se=M.getIcon(ce.id);if(!Se)return;ce=Se.defaults}return ce}}var W=t(63096);const Y="vs",oe="vs-dark",z="hc-black",G="hc-light",Q=L.O.as(A.FdG.ColorContribution),K=L.O.as(j.Fd.ThemingContribution);class ie{constructor(ye,M){this.semanticHighlighting=!1,this.themeData=M;const ce=M.base;ye.length>0?(this.id=ae(ye)?ye:ce+" "+ye,this.themeName=ye):(this.id=ce,this.themeName=ce),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const ye=new Map;for(const M in this.themeData.colors)ye.set(M,w.Q1.fromHex(this.themeData.colors[M]));if(this.themeData.inherit){const M=de(this.themeData.base);for(const ce in M.colors)ye.has(ce)||ye.set(ce,w.Q1.fromHex(M.colors[ce]))}this.colors=ye}return this.colors}getColor(ye,M){return this.getColors().get(ye)||(!1!==M?this.getDefault(ye):void 0)}getDefault(ye){let M=this.defaultColors[ye];return M||(M=Q.resolveDefaultColor(ye,this),this.defaultColors[ye]=M,M)}defines(ye){return this.getColors().has(ye)}get type(){switch(this.base){case Y:return te.zM.LIGHT;case z:return te.zM.HIGH_CONTRAST_DARK;case G:return te.zM.HIGH_CONTRAST_LIGHT;default:return te.zM.DARK}}get tokenTheme(){if(!this._tokenTheme){let ye=[],M=[];if(this.themeData.inherit){const Ie=de(this.themeData.base);ye=Ie.rules,Ie.encodedTokensColors&&(M=Ie.encodedTokensColors)}const ce=this.themeData.colors["editor.foreground"],Se=this.themeData.colors["editor.background"];if(ce||Se){const Ie={token:""};ce&&(Ie.foreground=ce),Se&&(Ie.background=Se),ye.push(Ie)}ye=ye.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(M=this.themeData.encodedTokensColors),this._tokenTheme=f.createFromRawTokenTheme(ye,M)}return this._tokenTheme}getTokenStyleMetadata(ye,M,ce){const Ie=this.tokenTheme._match([ye].concat(M).join(".")).metadata,ne=S.x.getForeground(Ie),ue=S.x.getFontStyle(Ie);return{foreground:ne,italic:!!(1&ue),bold:!!(2&ue),underline:!!(4&ue),strikethrough:!!(8&ue)}}}function ae(_e){return _e===Y||_e===oe||_e===z||_e===G}function de(_e){switch(_e){case Y:return k;case oe:return O;case z:return N;case G:return H}}function se(_e){const ye=de(_e);return new ie(_e,ye)}class ge extends Z.jG{constructor(){super(),this._onColorThemeChange=this._register(new x.vl),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new x.vl),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new R,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Y,se(Y)),this._knownThemes.set(oe,se(oe)),this._knownThemes.set(z,se(z)),this._knownThemes.set(G,se(G));const ye=this._register(function q(_e){const ye=new Z.Cm,M=ye.add(new x.vl),ce=(0,U.HT)();return ye.add(ce.onDidChange(()=>M.fire())),_e&&ye.add(_e.onDidProductIconThemeChange(()=>M.fire())),{dispose:()=>ye.dispose(),onDidChange:M.event,getCSS(){const Se=_e?_e.getProductIconTheme():new R,Ie={},ne=[],ue=[];for(const we of ce.getIcons()){const Me=Se.getIcon(we);if(!Me)continue;const Ve=Me.font,$e=`--vscode-icon-${we.id}-font-family`,it=`--vscode-icon-${we.id}-content`;Ve?(Ie[Ve.id]=Ve.definition,ue.push(`${$e}: ${(0,a.yt)(Ve.id)};`,`${it}: '${Me.fontCharacter}';`),ne.push(`.codicon-${we.id}:before { content: '${Me.fontCharacter}'; font-family: ${(0,a.yt)(Ve.id)}; }`)):(ue.push(`${it}: '${Me.fontCharacter}'; ${$e}: 'codicon';`),ne.push(`.codicon-${we.id}:before { content: '${Me.fontCharacter}'; }`))}for(const we in Ie){const Me=Ie[we],Ve=Me.weight?`font-weight: ${Me.weight};`:"",$e=Me.style?`font-style: ${Me.style};`:"",it=Me.src.map(He=>`${(0,a.Tf)(He.location)} format('${He.format}')`).join(", ");ne.push(`@font-face { src: ${it}; font-family: ${(0,a.yt)(we)};${Ve}${$e} font-display: block; }`)}return ne.push(`:root { ${ue.join(" ")} }`),ne.join("\n")}}}(this));this._codiconCSS=ye.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Y),this._onOSSchemeChanged(),this._register(ye.onDidChange(()=>{this._codiconCSS=ye.getCSS(),this._updateCSS()})),(0,F.Dy)(W.G,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(ye){return a.Cl(ye)?this._registerShadowDomContainer(ye):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=a.li(void 0,ye=>{ye.className="monaco-colors",ye.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),Z.jG.None}_registerShadowDomContainer(ye){const M=a.li(ye,ce=>{ce.className="monaco-colors",ce.textContent=this._allCSS});return this._styleElements.push(M),{dispose:()=>{for(let ce=0;ce<this._styleElements.length;ce++)if(this._styleElements[ce]===M)return void this._styleElements.splice(ce,1)}}}defineTheme(ye,M){if(!/^[a-z0-9\-]+$/i.test(ye))throw new Error("Illegal theme name!");if(!ae(M.base)&&!ae(ye))throw new Error("Illegal theme base!");this._knownThemes.set(ye,new ie(ye,M)),ae(ye)&&this._knownThemes.forEach(ce=>{ce.base===ye&&ce.notifyBaseUpdated()}),this._theme.themeName===ye&&this.setTheme(ye)}getColorTheme(){return this._theme}setColorMapOverride(ye){this._colorMapOverride=ye,this._updateThemeOrColorMap()}setTheme(ye){let M;M=this._knownThemes.has(ye)?this._knownThemes.get(ye):this._knownThemes.get(Y),this._updateActualTheme(M)}_updateActualTheme(ye){!ye||this._theme===ye||(this._theme=ye,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const ye=W.G.matchMedia("(forced-colors: active)").matches;if(ye!==(0,te.Bb)(this._theme.type)){let M;M=(0,te.HD)(this._theme.type)?ye?z:oe:ye?G:Y,this._updateActualTheme(this._knownThemes.get(M))}}}setAutoDetectHighContrast(ye){this._autoDetectHighContrast=ye,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const ye=[],M={},ce={addRule:ne=>{M[ne]||(ye.push(ne),M[ne]=!0)}};K.getThemingParticipants().forEach(ne=>ne(this._theme,ce,this._environment));const Se=[];for(const ne of Q.getColors()){const ue=this._theme.getColor(ne.id,!0);ue&&Se.push(`${(0,A.Bbc)(ne.id)}: ${ue.toString()};`)}ce.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${Se.join("\n")} }`);const Ie=this._colorMapOverride||this._theme.tokenTheme.getColorMap();ce.addRule(function m(_e){const ye=[];for(let M=1,ce=_e.length;M<ce;M++)ye[M]=`.mtk${M} { color: ${_e[M]}; }`;return ye.push(".mtki { font-style: italic; }"),ye.push(".mtkb { font-weight: bold; }"),ye.push(".mtku { text-decoration: underline; text-underline-position: under; }"),ye.push(".mtks { text-decoration: line-through; }"),ye.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),ye.join("\n")}(Ie)),this._themeCSS=ye.join("\n"),this._updateCSS(),C.dG.setColorMap(Ie),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(ye=>ye.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},84439:(tt,xe,t)=>{var a=t(47639),F=t(48687),w=t(60264),x=t(8374),C=t(20762);(0,a.Fl)(class S extends a.ks{constructor(){super({id:"editor.action.toggleHighContrast",label:w.E6.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(P,D){const v=P.get(F.L),_=v.getColorTheme();(0,x.Bb)(_.type)?(v.setTheme(this._originalThemeName||((0,x.HD)(_.type)?C.po:C.tj)),this._originalThemeName=null):(v.setTheme((0,x.HD)(_.type)?C.aQ:C.nr),this._originalThemeName=_.themeName)}})},48687:(tt,xe,t)=>{t.d(xe,{L:()=>F});const F=(0,t(598).u1)("themeService")},4255:(tt,xe,t)=>{var a=t(48169),F=Object.defineProperty,w=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,C=Object.prototype.hasOwnProperty,S=(g,p,m,T)=>{if(p&&"object"==typeof p||"function"==typeof p)for(let A of x(p))!C.call(g,A)&&A!==m&&F(g,A,{get:()=>p[A],enumerable:!(T=w(p,A))||T.enumerable});return g},P={};S(P,a,"default");var D=class{constructor(g,p,m){this._onDidChange=new P.Emitter,this._languageId=g,this.setOptions(p),this.setModeConfiguration(m)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(g){this._options=g||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(g){this.setOptions(g)}setModeConfiguration(g){this._modeConfiguration=g||Object.create(null),this._onDidChange.fire(this)}},v={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},_={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},f=new D("css",v,_),d=new D("scss",v,_),r=new D("less",v,_);function l(){return t.e(4334).then(t.bind(t,54334))}P.languages.css={cssDefaults:f,lessDefaults:r,scssDefaults:d},P.languages.onLanguage("less",()=>{l().then(g=>g.setupMode(r))}),P.languages.onLanguage("scss",()=>{l().then(g=>g.setupMode(d))}),P.languages.onLanguage("css",()=>{l().then(g=>g.setupMode(f))})},55071:(tt,xe,t)=>{var a=t(10467),F=t(48169),w=Object.defineProperty,x=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,b=(L,j,Z,te)=>{if(j&&"object"==typeof j||"function"==typeof j)for(let X of C(j))!S.call(L,X)&&X!==Z&&w(L,X,{get:()=>j[X],enumerable:!(te=x(j,X))||te.enumerable});return L},D={};b(D,F,"default");var v=class{constructor(L,j,Z){this._onDidChange=new D.Emitter,this._languageId=L,this.setOptions(j),this.setModeConfiguration(Z)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(L){this._options=L||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(L){this._modeConfiguration=L||Object.create(null),this._onDidChange.fire(this)}},f={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function d(L){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:L===r,documentFormattingEdits:L===r,documentRangeFormattingEdits:L===r}}var r="html",l="handlebars",g="razor",p=H(r,f,d(r)),m=p.defaults,T=H(l,f,d(l)),A=T.defaults,k=H(g,f,d(g));function H(L,j=f,Z=d(L)){const te=new v(L,j,Z);let X;const U=D.languages.onLanguage(L,(0,a.A)(function*(){X=(yield function N(){return t.e(5166).then(t.bind(t,75166))}()).setupMode(te)}));return{defaults:te,dispose(){U.dispose(),X?.dispose(),X=void 0}}}D.languages.html={htmlDefaults:m,razorDefaults:k.defaults,handlebarDefaults:A,htmlLanguageService:p,handlebarLanguageService:T,razorLanguageService:k,registerHTMLLanguageService:H}},6576:(tt,xe,t)=>{var a=t(48169),F=Object.defineProperty,w=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,C=Object.prototype.hasOwnProperty,S=(l,g,p,m)=>{if(g&&"object"==typeof g||"function"==typeof g)for(let T of x(g))!C.call(l,T)&&T!==p&&F(l,T,{get:()=>g[T],enumerable:!(m=w(g,T))||m.enumerable});return l},P={};S(P,a,"default");var f=new class{constructor(l,g,p){this._onDidChange=new P.Emitter,this._languageId=l,this.setDiagnosticsOptions(g),this.setModeConfiguration(p)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(l){this._diagnosticsOptions=l||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(l){this._modeConfiguration=l||Object.create(null),this._onDidChange.fire(this)}}("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});function r(){return t.e(5372).then(t.bind(t,35372))}P.languages.json={jsonDefaults:f,getWorker:()=>r().then(l=>l.getWorker())},P.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),P.languages.onLanguage("json",()=>{r().then(l=>l.setupMode(f))})},34789:(tt,xe,t)=>{t.d(xe,{IF:()=>m});var a=t(48169),F=Object.defineProperty,w=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,C=Object.prototype.hasOwnProperty,S=(N,H,L,j)=>{if(H&&"object"==typeof H||"function"==typeof H)for(let Z of x(H))!C.call(N,Z)&&Z!==L&&F(N,Z,{get:()=>H[Z],enumerable:!(j=w(H,Z))||j.enumerable});return N},D={};S(D,a,"default");var v=(N=>(N[N.None=0]="None",N[N.CommonJS=1]="CommonJS",N[N.AMD=2]="AMD",N[N.UMD=3]="UMD",N[N.System=4]="System",N[N.ES2015=5]="ES2015",N[N.ESNext=99]="ESNext",N))(v||{}),_=(N=>(N[N.None=0]="None",N[N.Preserve=1]="Preserve",N[N.React=2]="React",N[N.ReactNative=3]="ReactNative",N[N.ReactJSX=4]="ReactJSX",N[N.ReactJSXDev=5]="ReactJSXDev",N))(_||{}),f=(N=>(N[N.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",N[N.LineFeed=1]="LineFeed",N))(f||{}),d=(N=>(N[N.ES3=0]="ES3",N[N.ES5=1]="ES5",N[N.ES2015=2]="ES2015",N[N.ES2016=3]="ES2016",N[N.ES2017=4]="ES2017",N[N.ES2018=5]="ES2018",N[N.ES2019=6]="ES2019",N[N.ES2020=7]="ES2020",N[N.ESNext=99]="ESNext",N[N.JSON=100]="JSON",N[N.Latest=99]="Latest",N))(d||{}),r=(N=>(N[N.Classic=1]="Classic",N[N.NodeJs=2]="NodeJs",N))(r||{}),l=class{constructor(N,H,L,j,Z){this._onDidChange=new D.Emitter,this._onDidExtraLibsChange=new D.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(N),this.setDiagnosticsOptions(H),this.setWorkerOptions(L),this.setInlayHintsOptions(j),this.setModeConfiguration(Z),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(N,H){let L;if(L=typeof H>"u"?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:H,this._extraLibs[L]&&this._extraLibs[L].content===N)return{dispose:()=>{}};let j=1;return this._removedExtraLibs[L]&&(j=this._removedExtraLibs[L]+1),this._extraLibs[L]&&(j=this._extraLibs[L].version+1),this._extraLibs[L]={content:N,version:j},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let Z=this._extraLibs[L];Z&&Z.version===j&&(delete this._extraLibs[L],this._removedExtraLibs[L]=j,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(N){for(const H in this._extraLibs)this._removedExtraLibs[H]=this._extraLibs[H].version;if(this._extraLibs=Object.create(null),N&&N.length>0)for(const H of N){const L=H.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`;let Z=1;this._removedExtraLibs[L]&&(Z=this._removedExtraLibs[L]+1),this._extraLibs[L]={content:H.content,version:Z}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(N){this._compilerOptions=N||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(N){this._diagnosticsOptions=N||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(N){this._workerOptions=N||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(N){this._inlayHintsOptions=N||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(N){}setEagerModelSync(N){this._eagerModelSync=N}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(N){this._modeConfiguration=N||Object.create(null),this._onDidChange.fire(void 0)}},p={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},m=new l({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},p),T=new l({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},p);function O(){return t.e(3700).then(t.bind(t,33700))}D.languages.typescript={ModuleKind:v,JsxEmit:_,NewLineKind:f,ScriptTarget:d,ModuleResolutionKind:r,typescriptVersion:"5.4.5",typescriptDefaults:m,javascriptDefaults:T,getTypeScriptWorker:()=>O().then(N=>N.getTypeScriptWorker()),getJavaScriptWorker:()=>O().then(N=>N.getJavaScriptWorker())},D.languages.onLanguage("typescript",()=>O().then(N=>N.setupTypeScript(m))),D.languages.onLanguage("javascript",()=>O().then(N=>N.setupJavaScript(T)))},81644:(tt,xe,t)=>{t.d(xe,{AM:()=>f,aS:()=>_,kg:()=>v});let a=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function w(g,p){let m;return m=0===p.length?g:g.replace(/\{(\d+)\}/g,(T,A)=>{const O=p[A[0]];let N=T;return"string"==typeof O?N=O:("number"==typeof O||"boolean"==typeof O||null==O)&&(N=String(O)),N}),a&&(m="\uff3b"+m.replace(/[aouei]/g,"$&$&")+"\uff3d"),m}function v(g,p,...m){return w(p,m)}function _(g,p,...m){const T=w(p,m);return{value:T,original:T}}function f(g){}},13144:(tt,xe,t)=>{t.d(xe,{Nt:()=>w,Rh:()=>b});var a=t(81644);const w=(0,t(598).u1)("accessibilitySignalService");Symbol("AcknowledgeDocCommentsToken");class C{static register(D){return new C(D.fileName)}constructor(D){this.fileName=D}}C.error=C.register({fileName:"error.mp3"}),C.warning=C.register({fileName:"warning.mp3"}),C.success=C.register({fileName:"success.mp3"}),C.foldedArea=C.register({fileName:"foldedAreas.mp3"}),C.break=C.register({fileName:"break.mp3"}),C.quickFixes=C.register({fileName:"quickFixes.mp3"}),C.taskCompleted=C.register({fileName:"taskCompleted.mp3"}),C.taskFailed=C.register({fileName:"taskFailed.mp3"}),C.terminalBell=C.register({fileName:"terminalBell.mp3"}),C.diffLineInserted=C.register({fileName:"diffLineInserted.mp3"}),C.diffLineDeleted=C.register({fileName:"diffLineDeleted.mp3"}),C.diffLineModified=C.register({fileName:"diffLineModified.mp3"}),C.chatRequestSent=C.register({fileName:"chatRequestSent.mp3"}),C.chatResponseReceived1=C.register({fileName:"chatResponseReceived1.mp3"}),C.chatResponseReceived2=C.register({fileName:"chatResponseReceived2.mp3"}),C.chatResponseReceived3=C.register({fileName:"chatResponseReceived3.mp3"}),C.chatResponseReceived4=C.register({fileName:"chatResponseReceived4.mp3"}),C.clear=C.register({fileName:"clear.mp3"}),C.save=C.register({fileName:"save.mp3"}),C.format=C.register({fileName:"format.mp3"}),C.voiceRecordingStarted=C.register({fileName:"voiceRecordingStarted.mp3"}),C.voiceRecordingStopped=C.register({fileName:"voiceRecordingStopped.mp3"}),C.progress=C.register({fileName:"progress.mp3"});class S{constructor(D){this.randomOneOf=D}}class b{constructor(D,v,_,f,d,r,l){this.sound=D,this.name=v,this.legacySoundSettingsKey=_,this.settingsKey=f,this.legacyAnnouncementSettingsKey=d,this.announcementMessage=r,this.delaySettingsKey=l}static register(D){const v=new S("randomOneOf"in D.sound?D.sound.randomOneOf:[D.sound]),_=new b(v,D.name,D.legacySoundSettingsKey,D.settingsKey,D.legacyAnnouncementSettingsKey,D.announcementMessage,D.delaySettingsKey);return b._signals.add(_),_}}b._signals=new Set,b.errorAtPosition=b.register({name:(0,a.kg)("accessibilitySignals.positionHasError.name","Error at Position"),sound:C.error,announcementMessage:(0,a.kg)("accessibility.signals.positionHasError","Error"),settingsKey:"accessibility.signals.positionHasError",delaySettingsKey:"accessibility.signalOptions.delays.errorAtPosition"}),b.warningAtPosition=b.register({name:(0,a.kg)("accessibilitySignals.positionHasWarning.name","Warning at Position"),sound:C.warning,announcementMessage:(0,a.kg)("accessibility.signals.positionHasWarning","Warning"),settingsKey:"accessibility.signals.positionHasWarning",delaySettingsKey:"accessibility.signalOptions.delays.warningAtPosition"}),b.errorOnLine=b.register({name:(0,a.kg)("accessibilitySignals.lineHasError.name","Error on Line"),sound:C.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:(0,a.kg)("accessibility.signals.lineHasError","Error on Line"),settingsKey:"accessibility.signals.lineHasError"}),b.warningOnLine=b.register({name:(0,a.kg)("accessibilitySignals.lineHasWarning.name","Warning on Line"),sound:C.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:(0,a.kg)("accessibility.signals.lineHasWarning","Warning on Line"),settingsKey:"accessibility.signals.lineHasWarning"}),b.foldedArea=b.register({name:(0,a.kg)("accessibilitySignals.lineHasFoldedArea.name","Folded Area on Line"),sound:C.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:(0,a.kg)("accessibility.signals.lineHasFoldedArea","Folded"),settingsKey:"accessibility.signals.lineHasFoldedArea"}),b.break=b.register({name:(0,a.kg)("accessibilitySignals.lineHasBreakpoint.name","Breakpoint on Line"),sound:C.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:(0,a.kg)("accessibility.signals.lineHasBreakpoint","Breakpoint"),settingsKey:"accessibility.signals.lineHasBreakpoint"}),b.inlineSuggestion=b.register({name:(0,a.kg)("accessibilitySignals.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:C.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"}),b.terminalQuickFix=b.register({name:(0,a.kg)("accessibilitySignals.terminalQuickFix.name","Terminal Quick Fix"),sound:C.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:(0,a.kg)("accessibility.signals.terminalQuickFix","Quick Fix"),settingsKey:"accessibility.signals.terminalQuickFix"}),b.onDebugBreak=b.register({name:(0,a.kg)("accessibilitySignals.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:C.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:(0,a.kg)("accessibility.signals.onDebugBreak","Breakpoint"),settingsKey:"accessibility.signals.onDebugBreak"}),b.noInlayHints=b.register({name:(0,a.kg)("accessibilitySignals.noInlayHints","No Inlay Hints on Line"),sound:C.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:(0,a.kg)("accessibility.signals.noInlayHints","No Inlay Hints"),settingsKey:"accessibility.signals.noInlayHints"}),b.taskCompleted=b.register({name:(0,a.kg)("accessibilitySignals.taskCompleted","Task Completed"),sound:C.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:(0,a.kg)("accessibility.signals.taskCompleted","Task Completed"),settingsKey:"accessibility.signals.taskCompleted"}),b.taskFailed=b.register({name:(0,a.kg)("accessibilitySignals.taskFailed","Task Failed"),sound:C.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:(0,a.kg)("accessibility.signals.taskFailed","Task Failed"),settingsKey:"accessibility.signals.taskFailed"}),b.terminalCommandFailed=b.register({name:(0,a.kg)("accessibilitySignals.terminalCommandFailed","Terminal Command Failed"),sound:C.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:(0,a.kg)("accessibility.signals.terminalCommandFailed","Command Failed"),settingsKey:"accessibility.signals.terminalCommandFailed"}),b.terminalCommandSucceeded=b.register({name:(0,a.kg)("accessibilitySignals.terminalCommandSucceeded","Terminal Command Succeeded"),sound:C.success,announcementMessage:(0,a.kg)("accessibility.signals.terminalCommandSucceeded","Command Succeeded"),settingsKey:"accessibility.signals.terminalCommandSucceeded"}),b.terminalBell=b.register({name:(0,a.kg)("accessibilitySignals.terminalBell","Terminal Bell"),sound:C.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:(0,a.kg)("accessibility.signals.terminalBell","Terminal Bell"),settingsKey:"accessibility.signals.terminalBell"}),b.notebookCellCompleted=b.register({name:(0,a.kg)("accessibilitySignals.notebookCellCompleted","Notebook Cell Completed"),sound:C.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:(0,a.kg)("accessibility.signals.notebookCellCompleted","Notebook Cell Completed"),settingsKey:"accessibility.signals.notebookCellCompleted"}),b.notebookCellFailed=b.register({name:(0,a.kg)("accessibilitySignals.notebookCellFailed","Notebook Cell Failed"),sound:C.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:(0,a.kg)("accessibility.signals.notebookCellFailed","Notebook Cell Failed"),settingsKey:"accessibility.signals.notebookCellFailed"}),b.diffLineInserted=b.register({name:(0,a.kg)("accessibilitySignals.diffLineInserted","Diff Line Inserted"),sound:C.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"}),b.diffLineDeleted=b.register({name:(0,a.kg)("accessibilitySignals.diffLineDeleted","Diff Line Deleted"),sound:C.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"}),b.diffLineModified=b.register({name:(0,a.kg)("accessibilitySignals.diffLineModified","Diff Line Modified"),sound:C.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"}),b.chatRequestSent=b.register({name:(0,a.kg)("accessibilitySignals.chatRequestSent","Chat Request Sent"),sound:C.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:(0,a.kg)("accessibility.signals.chatRequestSent","Chat Request Sent"),settingsKey:"accessibility.signals.chatRequestSent"}),b.chatResponseReceived=b.register({name:(0,a.kg)("accessibilitySignals.chatResponseReceived","Chat Response Received"),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[C.chatResponseReceived1,C.chatResponseReceived2,C.chatResponseReceived3,C.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"}),b.progress=b.register({name:(0,a.kg)("accessibilitySignals.progress","Progress"),sound:C.progress,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.progress",announcementMessage:(0,a.kg)("accessibility.signals.progress","Progress"),settingsKey:"accessibility.signals.progress"}),b.clear=b.register({name:(0,a.kg)("accessibilitySignals.clear","Clear"),sound:C.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:(0,a.kg)("accessibility.signals.clear","Clear"),settingsKey:"accessibility.signals.clear"}),b.save=b.register({name:(0,a.kg)("accessibilitySignals.save","Save"),sound:C.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:(0,a.kg)("accessibility.signals.save","Save"),settingsKey:"accessibility.signals.save"}),b.format=b.register({name:(0,a.kg)("accessibilitySignals.format","Format"),sound:C.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:(0,a.kg)("accessibility.signals.format","Format"),settingsKey:"accessibility.signals.format"}),b.voiceRecordingStarted=b.register({name:(0,a.kg)("accessibilitySignals.voiceRecordingStarted","Voice Recording Started"),sound:C.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"}),b.voiceRecordingStopped=b.register({name:(0,a.kg)("accessibilitySignals.voiceRecordingStopped","Voice Recording Stopped"),sound:C.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"})},73871:(tt,xe,t)=>{t.d(xe,{Z:()=>a});const a=new class{constructor(){this._implementations=[]}register(w){return this._implementations.push(w),{dispose:()=>{const x=this._implementations.indexOf(w);-1!==x&&this._implementations.splice(x,1),w.dispose()}}}getImplementations(){return this._implementations}}},69912:(tt,xe,t)=>{t.d(xe,{f:()=>x,j:()=>w});var a=t(50168);const w=(0,t(598).u1)("accessibilityService"),x=new a.N1("accessibilityModeEnabled",!1)},69186:(tt,xe,t)=>{function a(w){return w&&"object"==typeof w&&"string"==typeof w.original&&"string"==typeof w.value}function F(w){return!!w&&void 0!==w.condition}t.d(xe,{N:()=>F,f:()=>a})},54335:(tt,xe,t)=>{t.d(xe,{oq:()=>M,rN:()=>ne,Ot:()=>_e,$u:()=>ge});var a=t(10467),F=t(91874),w=t(92873),x=t(62686),C=t(32461),S=t(64948),b=t(13752),P=t(99031),D=t(21828),v=t(85072),_=t.n(v),f=t(97825),d=t.n(f),r=t(77659),l=t.n(r),g=t(55056),p=t.n(g),m=t(10540),T=t.n(m),A=t(41113),k=t.n(A),O=t(19055),N={};N.styleTagTransform=k(),N.setAttributes=p(),N.insert=l().bind(null,"head"),N.domAPI=d(),N.insertStyleElement=T(),_()(O.A,N);var j=t(81644),Z=t(79134),te=t(69186),X=t(50168),U=t(71887),q=t(598),R=t(59002),W=t(16362),Y=t(16815),oe=t(48187),z=t(81072),G=t(8374),Q=t(66702),K=t(85478),ie=t(41525),ae=t(69912),de=function(ue,we,Me,Ve){var He,$e=arguments.length,it=$e<3?we:null===Ve?Ve=Object.getOwnPropertyDescriptor(we,Me):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)it=Reflect.decorate(ue,we,Me,Ve);else for(var me=ue.length-1;me>=0;me--)(He=ue[me])&&(it=($e<3?He(it):$e>3?He(we,Me,it):He(we,Me))||it);return $e>3&&it&&Object.defineProperty(we,Me,it),it},se=function(ue,we){return function(Me,Ve){we(Me,Ve,ue)}};function ge(ue,we,Me,Ve){const $e=ue.getActions(we),it=F.Di.getInstance();ye($e,Me,it.keyStatus.altKey||(D.uF||D.j9)&&it.keyStatus.shiftKey,Ve?me=>me===Ve:me=>"navigation"===me)}function _e(ue,we,Me,Ve,$e,it){ye(ue.getActions(we),Me,!1,"string"==typeof Ve?le=>le===Ve:Ve,$e,it)}function ye(ue,we,Me,Ve=(He=>"navigation"===He),$e=(()=>!1),it=!1){let He,me;Array.isArray(we)?(He=we,me=we):(He=we.primary,me=we.secondary);const le=new Set;for(const[Ee,be]of ue){let Ce;Ve(Ee)?(Ce=He,Ce.length>0&&it&&Ce.push(new S.wv)):(Ce=me,Ce.length>0&&Ce.push(new S.wv));for(let Ne of be){Me&&(Ne=Ne instanceof Z.Xe&&Ne.alt?Ne.alt:Ne);const Fe=Ce.push(Ne);Ne instanceof S.YH&&le.add({group:Ee,action:Ne,index:Fe-1})}}for(const{group:Ee,action:be,index:Ce}of le){const Ne=Ve(Ee)?He:me,Fe=be.actions;$e(be,Ee,Ne.length)&&Ne.splice(Ce,1,...Fe)}}let M=class extends x.Z4{constructor(we,Me,Ve,$e,it,He,me,le){super(void 0,we,{icon:!(!we.class&&!we.item.icon),label:!we.class&&!we.item.icon,draggable:Me?.draggable,keybinding:Me?.keybinding,hoverDelegate:Me?.hoverDelegate}),this._keybindingService=Ve,this._notificationService=$e,this._contextKeyService=it,this._themeService=He,this._contextMenuService=me,this._accessibilityService=le,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new P.HE),this._altKey=F.Di.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(we){var Me=this;return(0,a.A)(function*(){we.preventDefault(),we.stopPropagation();try{yield Me.actionRunner.run(Me._commandAction,Me._context)}catch(Ve){Me._notificationService.error(Ve)}})()}render(we){if(super.render(we),we.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let Me=!1;const Ve=()=>{var $e;const it=!(null===($e=this._menuItemAction.alt)||void 0===$e||!$e.enabled)&&(!this._accessibilityService.isMotionReduced()||Me)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&Me);it!==this._wantsAltCommand&&(this._wantsAltCommand=it,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(Ve)),this._register((0,F.ko)(we,"mouseleave",$e=>{Me=!1,Ve()})),this._register((0,F.ko)(we,"mouseenter",$e=>{Me=!0,Ve()})),Ve()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var we;const Me=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),Ve=Me&&Me.getLabel(),$e=this._commandAction.tooltip||this._commandAction.label;let it=Ve?(0,j.kg)("titleAndKb","{0} ({1})",$e,Ve):$e;if(!this._wantsAltCommand&&null!==(we=this._menuItemAction.alt)&&void 0!==we&&we.enabled){const He=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,me=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),le=me&&me.getLabel(),Ee=le?(0,j.kg)("titleAndKb","{0} ({1})",He,le):He;it=(0,j.kg)("titleAndKbAndAlt","{0}\n[{1}] {2}",it,b.Of.modifierLabels[D.OS].altKey,Ee)}return it}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(we){this._itemClassDispose.value=void 0;const{element:Me,label:Ve}=this;if(!Me||!Ve)return;const $e=this._commandAction.checked&&(0,te.N)(we.toggled)&&we.toggled.icon?we.toggled.icon:we.icon;if($e)if(z.L.isThemeIcon($e)){const it=z.L.asClassNameArray($e);Ve.classList.add(...it),this._itemClassDispose.value=(0,P.s)(()=>{Ve.classList.remove(...it)})}else Ve.style.backgroundImage=(0,G.HD)(this._themeService.getColorTheme().type)?(0,F.Tf)($e.dark):(0,F.Tf)($e.light),Ve.classList.add("icon"),this._itemClassDispose.value=(0,P.qE)((0,P.s)(()=>{Ve.style.backgroundImage="",Ve.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};M=de([se(2,R.b),se(3,W.Ot),se(4,X.fN),se(5,oe.Gy),se(6,U.Z),se(7,ae.j)],M);let ce=class extends C.d{constructor(we,Me,Ve,$e,it){var He,me,le;const Ee={...Me,menuAsChild:null!==(He=Me?.menuAsChild)&&void 0!==He&&He,classNames:null!==(me=Me?.classNames)&&void 0!==me?me:z.L.isThemeIcon(we.item.icon)?z.L.asClassName(we.item.icon):void 0,keybindingProvider:null!==(le=Me?.keybindingProvider)&&void 0!==le?le:be=>Ve.lookupKeybinding(be.id)};super(we,{getActions:()=>we.actions},$e,Ee),this._keybindingService=Ve,this._contextMenuService=$e,this._themeService=it}render(we){super.render(we),(0,Q.j)(this.element),we.classList.add("menu-entry");const Me=this._action,{icon:Ve}=Me.item;if(Ve&&!z.L.isThemeIcon(Ve)){this.element.classList.add("icon");const $e=()=>{this.element&&(this.element.style.backgroundImage=(0,G.HD)(this._themeService.getColorTheme().type)?(0,F.Tf)(Ve.dark):(0,F.Tf)(Ve.light))};$e(),this._register(this._themeService.onDidColorThemeChange(()=>{$e()}))}}};ce=de([se(2,R.b),se(3,U.Z),se(4,oe.Gy)],ce);let Se=class extends x.EH{constructor(we,Me,Ve,$e,it,He,me,le){var Ee,be,Ce;let Ne;super(null,we),this._keybindingService=Ve,this._notificationService=$e,this._contextMenuService=it,this._menuService=He,this._instaService=me,this._storageService=le,this._container=null,this._options=Me,this._storageKey=`${we.item.submenu.id}_lastActionId`;const Fe=Me?.persistLastActionId?le.get(this._storageKey,1):void 0;Fe&&(Ne=we.actions.find(dt=>Fe===dt.id)),Ne||(Ne=we.actions[0]),this._defaultAction=this._instaService.createInstance(M,Ne,{keybinding:this._getDefaultActionKeybindingLabel(Ne)});const qe={keybindingProvider:dt=>this._keybindingService.lookupKeybinding(dt.id),...Me,menuAsChild:null===(Ee=Me?.menuAsChild)||void 0===Ee||Ee,classNames:null!==(be=Me?.classNames)&&void 0!==be?be:["codicon","codicon-chevron-down"],actionRunner:null!==(Ce=Me?.actionRunner)&&void 0!==Ce?Ce:new S.LN};this._dropdown=new C.d(we,we.actions,this._contextMenuService,qe),this._register(this._dropdown.actionRunner.onDidRun(dt=>{dt.action instanceof Z.Xe&&this.update(dt.action)}))}update(we){var Me;!(null===(Me=this._options)||void 0===Me)&&Me.persistLastActionId&&this._storageService.store(this._storageKey,we.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(M,we,{keybinding:this._getDefaultActionKeybindingLabel(we)}),this._defaultAction.actionRunner=new class extends S.LN{runAction(Ve,$e){return(0,a.A)(function*(){yield Ve.run(void 0)})()}},this._container&&this._defaultAction.render((0,F.Hs)(this._container,(0,F.$)(".action-container")))}_getDefaultActionKeybindingLabel(we){var Me;let Ve;if(null!==(Me=this._options)&&void 0!==Me&&Me.renderKeybindingWithDefaultActionLabel){const $e=this._keybindingService.lookupKeybinding(we.id);$e&&(Ve=`(${$e.getLabel()})`)}return Ve}setActionContext(we){super.setActionContext(we),this._defaultAction.setActionContext(we),this._dropdown.setActionContext(we)}render(we){this._container=we,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const Me=(0,F.$)(".action-container");this._defaultAction.render((0,F.BC)(this._container,Me)),this._register((0,F.ko)(Me,F.Bx.KEY_DOWN,$e=>{const it=new w.Z($e);it.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),it.stopPropagation())}));const Ve=(0,F.$)(".dropdown-action-container");this._dropdown.render((0,F.BC)(this._container,Ve)),this._register((0,F.ko)(Ve,F.Bx.KEY_DOWN,$e=>{var it;const He=new w.Z($e);He.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(it=this._defaultAction.element)||void 0===it||it.focus(),He.stopPropagation())}))}focus(we){we?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(we){we?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};Se=de([se(2,R.b),se(3,W.Ot),se(4,U.Z),se(5,Z.ez),se(6,q._Y),se(7,Y.CS)],Se);let Ie=class extends x.XF{constructor(we,Me){super(null,we,we.actions.map(Ve=>({text:Ve.id===S.wv.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":Ve.label,isDisabled:!Ve.enabled})),0,Me,ie.RE,{ariaLabel:we.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,we.actions.findIndex(Ve=>Ve.checked)))}render(we){super.render(we),we.style.borderColor=(0,K.GuP)(K.HcB)}runAction(we,Me){const Ve=this.action.actions[Me];Ve&&this.actionRunner.run(Ve)}};function ne(ue,we,Me){return we instanceof Z.Xe?ue.createInstance(M,we,Me):we instanceof Z.nI?we.item.isSelection?ue.createInstance(Ie,we):we.item.rememberDefaultAction?ue.createInstance(Se,we,{...Me,persistLastActionId:!0}):ue.createInstance(ce,we,Me):void 0}Ie=de([se(1,U.l)],Ie)},62291:(tt,xe,t)=>{t.d(xe,{m:()=>ye,p:()=>_e});var a=t(91874),F=t(18163),w=t(10467),x=t(44906),C=t(32461),S=t(64948),b=t(15320),P=t(81072),D=t(5643),v=t(99031),_=t(85072),f=t.n(_),d=t(97825),r=t.n(d),l=t(77659),g=t.n(l),p=t(55056),m=t.n(p),T=t(10540),A=t.n(T),k=t(41113),O=t.n(k),N=t(87982),H={};H.styleTagTransform=O(),H.setAttributes=m(),H.insert=g().bind(null,"head"),H.domAPI=r(),H.insertStyleElement=A(),f()(N.A,H);var Z=t(81644),te=t(96479);class X extends v.jG{constructor(ce,Se,Ie={orientation:0}){var ne;super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new D._B),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new v.Cm),Ie.hoverDelegate=null!==(ne=Ie.hoverDelegate)&&void 0!==ne?ne:this._register((0,te.bW)()),this.options=Ie,this.lookupKeybindings="function"==typeof this.options.getKeyBinding,this.toggleMenuAction=this._register(new U(()=>{var ue;return null===(ue=this.toggleMenuActionViewItem)||void 0===ue?void 0:ue.show()},Ie.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",ce.appendChild(this.element),this.actionBar=this._register(new x.E(this.element,{orientation:Ie.orientation,ariaLabel:Ie.ariaLabel,actionRunner:Ie.actionRunner,allowContextMenu:Ie.allowContextMenu,highlightToggledItems:Ie.highlightToggledItems,hoverDelegate:Ie.hoverDelegate,actionViewItemProvider:(ue,we)=>{var Me;if(ue.id===U.ID)return this.toggleMenuActionViewItem=new C.d(ue,ue.menuActions,Se,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:P.L.asClassNameArray(null!==(Me=Ie.moreIcon)&&void 0!==Me?Me:b.W.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(Ie.actionViewItemProvider){const Ve=Ie.actionViewItemProvider(ue,we);if(Ve)return Ve}if(ue instanceof S.YH){const Ve=new C.d(ue,ue.actions,Se,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:ue.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return Ve.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(Ve),this.disposables.add(this._onDidChangeDropdownVisibility.add(Ve.onDidChangeVisibility)),Ve}}}))}set actionRunner(ce){this.actionBar.actionRunner=ce}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(ce){return this.actionBar.getAction(ce)}setActions(ce,Se){this.clear();const Ie=ce?ce.slice(0):[];this.hasSecondaryActions=!!(Se&&Se.length>0),this.hasSecondaryActions&&Se&&(this.toggleMenuAction.menuActions=Se.slice(0),Ie.push(this.toggleMenuAction)),Ie.forEach(ne=>{this.actionBar.push(ne,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(ne)})})}getKeybindingLabel(ce){var Se,Ie,ne;const ue=this.lookupKeybindings?null===(Ie=(Se=this.options).getKeyBinding)||void 0===Ie?void 0:Ie.call(Se,ce):void 0;return null!==(ne=ue?.getLabel())&&void 0!==ne?ne:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}let U=(()=>{class M extends S.rc{constructor(Se,Ie){Ie=Ie||Z.kg("moreActions","More Actions..."),super(M.ID,Ie,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=Se}run(){var Se=this;return(0,w.A)(function*(){Se.toggleDropdownMenu()})()}get menuActions(){return this._menuActions}set menuActions(Se){this._menuActions=Se}}return M.ID="toolbar.toggle.more",M})();var q=t(30833),R=t(58370),W=t(25680),Y=t(28481),oe=t(54335),z=t(79134),G=t(99639),Q=t(51126),K=t(50168),ie=t(71887),ae=t(59002),de=t(55922),se=function(M,ce,Se,Ie){var we,ne=arguments.length,ue=ne<3?ce:null===Ie?Ie=Object.getOwnPropertyDescriptor(ce,Se):Ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(M,ce,Se,Ie);else for(var Me=M.length-1;Me>=0;Me--)(we=M[Me])&&(ue=(ne<3?we(ue):ne>3?we(ce,Se,ue):we(ce,Se))||ue);return ne>3&&ue&&Object.defineProperty(ce,Se,ue),ue},ge=function(M,ce){return function(Se,Ie){ce(Se,Ie,M)}};let _e=class extends X{constructor(ce,Se,Ie,ne,ue,we,Me,Ve){super(ce,ue,{getKeyBinding:it=>{var He;return null!==(He=we.lookupKeybinding(it.id))&&void 0!==He?He:void 0},...Se,allowContextMenu:!0,skipTelemetry:"string"==typeof Se?.telemetrySource}),this._options=Se,this._menuService=Ie,this._contextKeyService=ne,this._contextMenuService=ue,this._keybindingService=we,this._commandService=Me,this._sessionDisposables=this._store.add(new v.Cm);const $e=Se?.telemetrySource;$e&&this._store.add(this.actionBar.onDidRun(it=>Ve.publicLog2("workbenchActionExecuted",{id:it.action.id,from:$e})))}setActions(ce,Se=[],Ie){var ne,ue,we;this._sessionDisposables.clear();const Me=ce.slice(),Ve=Se.slice(),$e=[];let it=0;const He=[];let me=!1;if(-1!==(null===(ne=this._options)||void 0===ne?void 0:ne.hiddenItemStrategy))for(let le=0;le<Me.length;le++){const Ee=Me[le];!(Ee instanceof z.Xe)&&!(Ee instanceof z.nI)||Ee.hideActions&&($e.push(Ee.hideActions.toggle),Ee.hideActions.toggle.checked&&it++,Ee.hideActions.isHidden&&(me=!0,Me[le]=void 0,0!==(null===(ue=this._options)||void 0===ue?void 0:ue.hiddenItemStrategy)&&(He[le]=Ee)))}if(void 0!==(null===(we=this._options)||void 0===we?void 0:we.overflowBehavior)){const le=(0,R.E)(new Set(this._options.overflowBehavior.exempted),Y.f.map(Me,Ce=>Ce?.id)),Ee=this._options.overflowBehavior.maxItems-le.size;let be=0;for(let Ce=0;Ce<Me.length;Ce++){const Ne=Me[Ce];Ne&&(be++,!le.has(Ne.id)&&be>=Ee&&(Me[Ce]=void 0,He[Ce]=Ne))}}(0,q.SK)(Me),(0,q.SK)(He),super.setActions(Me,S.wv.join(He,Ve)),($e.length>0||Me.length>0)&&this._sessionDisposables.add((0,a.ko)(this.getElement(),"contextmenu",le=>{var Ee,be,Ce,Ne,Fe;const qe=new F.P((0,a.zk)(this.getElement()),le),dt=this.getItemAction(qe.target);if(!dt)return;qe.preventDefault(),qe.stopPropagation();const vt=[];if(dt instanceof z.Xe&&dt.menuKeybinding?vt.push(dt.menuKeybinding):dt instanceof z.nI||dt instanceof U||vt.push((0,G.D)(dt.id,void 0,this._commandService,this._keybindingService)),$e.length>0){let on=!1;if(1===it&&0===(null===(Ee=this._options)||void 0===Ee?void 0:Ee.hiddenItemStrategy)){on=!0;for(let ht=0;ht<$e.length;ht++)if($e[ht].checked){$e[ht]=(0,S.ih)({id:dt.id,label:dt.label,checked:!0,enabled:!1,run(){}});break}}if(!on&&(dt instanceof z.Xe||dt instanceof z.nI)){if(!dt.hideActions)return;vt.push(dt.hideActions.hide)}else vt.push((0,S.ih)({id:"label",label:(0,Z.kg)("hide","Hide"),enabled:!1,run(){}}))}const fn=S.wv.join(vt,$e);!(null===(be=this._options)||void 0===be)&&be.resetMenu&&!Ie&&(Ie=[this._options.resetMenu]),me&&Ie&&(fn.push(new S.wv),fn.push((0,S.ih)({id:"resetThisMenu",label:(0,Z.kg)("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(Ie)}))),0!==fn.length&&this._contextMenuService.showContextMenu({getAnchor:()=>qe,getActions:()=>fn,menuId:null===(Ce=this._options)||void 0===Ce?void 0:Ce.contextMenu,menuActionOptions:{renderShortTitle:!0,...null===(Ne=this._options)||void 0===Ne?void 0:Ne.menuOptions},skipTelemetry:"string"==typeof(null===(Fe=this._options)||void 0===Fe?void 0:Fe.telemetrySource),contextKeyService:this._contextKeyService})}))}};_e=se([ge(2,z.ez),ge(3,K.fN),ge(4,ie.Z),ge(5,ae.b),ge(6,Q.d),ge(7,de.k)],_e);let ye=class extends _e{constructor(ce,Se,Ie,ne,ue,we,Me,Ve,$e){super(ce,{resetMenu:Se,...Ie},ne,ue,we,Me,Ve,$e),this._onDidChangeMenuItems=this._store.add(new D.vl),this.onDidChangeMenuItems=this._onDidChangeMenuItems.event;const it=this._store.add(ne.createMenu(Se,ue,{emitEventsForSubmenuChanges:!0})),He=()=>{var me,le,Ee;const be=[],Ce=[];(0,oe.Ot)(it,Ie?.menuOptions,{primary:be,secondary:Ce},null===(me=Ie?.toolbarOptions)||void 0===me?void 0:me.primaryGroup,null===(le=Ie?.toolbarOptions)||void 0===le?void 0:le.shouldInlineSubmenu,null===(Ee=Ie?.toolbarOptions)||void 0===Ee?void 0:Ee.useSeparatorsInPrimaryActions),ce.classList.toggle("has-no-actions",0===be.length&&0===Ce.length),super.setActions(be,Ce)};this._store.add(it.onDidChange(()=>{He(),this._onDidChangeMenuItems.fire(this)})),He()}setActions(){throw new W.D7("This toolbar is populated from a menu.")}};ye=se([ge(3,z.ez),ge(4,K.fN),ge(5,ie.Z),ge(6,ae.b),ge(7,Q.d),ge(8,de.k)],ye)},79134:(tt,xe,t)=>{t.d(xe,{D8:()=>l,L:()=>k,Xe:()=>A,ZG:()=>m,ez:()=>g,i1:()=>r,is:()=>d,nI:()=>T,ug:()=>O});var f,a=t(64948),F=t(81072),w=t(5643),x=t(99031),C=t(18002),S=t(51126),b=t(50168),P=t(598),D=t(36246),_=function(N,H){return function(L,j){H(L,j,N)}};function d(N){return void 0!==N.command}function r(N){return void 0!==N.submenu}class l{constructor(H){if(l._instances.has(H))throw new TypeError(`MenuId with identifier '${H}' already exists. Use MenuId.for(ident) or a unique identifier`);l._instances.set(H,this),this.id=H}}l._instances=new Map,l.CommandPalette=new l("CommandPalette"),l.DebugBreakpointsContext=new l("DebugBreakpointsContext"),l.DebugCallStackContext=new l("DebugCallStackContext"),l.DebugConsoleContext=new l("DebugConsoleContext"),l.DebugVariablesContext=new l("DebugVariablesContext"),l.NotebookVariablesContext=new l("NotebookVariablesContext"),l.DebugHoverContext=new l("DebugHoverContext"),l.DebugWatchContext=new l("DebugWatchContext"),l.DebugToolBar=new l("DebugToolBar"),l.DebugToolBarStop=new l("DebugToolBarStop"),l.EditorContext=new l("EditorContext"),l.SimpleEditorContext=new l("SimpleEditorContext"),l.EditorContent=new l("EditorContent"),l.EditorLineNumberContext=new l("EditorLineNumberContext"),l.EditorContextCopy=new l("EditorContextCopy"),l.EditorContextPeek=new l("EditorContextPeek"),l.EditorContextShare=new l("EditorContextShare"),l.EditorTitle=new l("EditorTitle"),l.EditorTitleRun=new l("EditorTitleRun"),l.EditorTitleContext=new l("EditorTitleContext"),l.EditorTitleContextShare=new l("EditorTitleContextShare"),l.EmptyEditorGroup=new l("EmptyEditorGroup"),l.EmptyEditorGroupContext=new l("EmptyEditorGroupContext"),l.EditorTabsBarContext=new l("EditorTabsBarContext"),l.EditorTabsBarShowTabsSubmenu=new l("EditorTabsBarShowTabsSubmenu"),l.EditorTabsBarShowTabsZenModeSubmenu=new l("EditorTabsBarShowTabsZenModeSubmenu"),l.EditorActionsPositionSubmenu=new l("EditorActionsPositionSubmenu"),l.ExplorerContext=new l("ExplorerContext"),l.ExplorerContextShare=new l("ExplorerContextShare"),l.ExtensionContext=new l("ExtensionContext"),l.GlobalActivity=new l("GlobalActivity"),l.CommandCenter=new l("CommandCenter"),l.CommandCenterCenter=new l("CommandCenterCenter"),l.LayoutControlMenuSubmenu=new l("LayoutControlMenuSubmenu"),l.LayoutControlMenu=new l("LayoutControlMenu"),l.MenubarMainMenu=new l("MenubarMainMenu"),l.MenubarAppearanceMenu=new l("MenubarAppearanceMenu"),l.MenubarDebugMenu=new l("MenubarDebugMenu"),l.MenubarEditMenu=new l("MenubarEditMenu"),l.MenubarCopy=new l("MenubarCopy"),l.MenubarFileMenu=new l("MenubarFileMenu"),l.MenubarGoMenu=new l("MenubarGoMenu"),l.MenubarHelpMenu=new l("MenubarHelpMenu"),l.MenubarLayoutMenu=new l("MenubarLayoutMenu"),l.MenubarNewBreakpointMenu=new l("MenubarNewBreakpointMenu"),l.PanelAlignmentMenu=new l("PanelAlignmentMenu"),l.PanelPositionMenu=new l("PanelPositionMenu"),l.ActivityBarPositionMenu=new l("ActivityBarPositionMenu"),l.MenubarPreferencesMenu=new l("MenubarPreferencesMenu"),l.MenubarRecentMenu=new l("MenubarRecentMenu"),l.MenubarSelectionMenu=new l("MenubarSelectionMenu"),l.MenubarShare=new l("MenubarShare"),l.MenubarSwitchEditorMenu=new l("MenubarSwitchEditorMenu"),l.MenubarSwitchGroupMenu=new l("MenubarSwitchGroupMenu"),l.MenubarTerminalMenu=new l("MenubarTerminalMenu"),l.MenubarViewMenu=new l("MenubarViewMenu"),l.MenubarHomeMenu=new l("MenubarHomeMenu"),l.OpenEditorsContext=new l("OpenEditorsContext"),l.OpenEditorsContextShare=new l("OpenEditorsContextShare"),l.ProblemsPanelContext=new l("ProblemsPanelContext"),l.SCMInputBox=new l("SCMInputBox"),l.SCMChangesSeparator=new l("SCMChangesSeparator"),l.SCMIncomingChanges=new l("SCMIncomingChanges"),l.SCMIncomingChangesContext=new l("SCMIncomingChangesContext"),l.SCMIncomingChangesSetting=new l("SCMIncomingChangesSetting"),l.SCMOutgoingChanges=new l("SCMOutgoingChanges"),l.SCMOutgoingChangesContext=new l("SCMOutgoingChangesContext"),l.SCMOutgoingChangesSetting=new l("SCMOutgoingChangesSetting"),l.SCMIncomingChangesAllChangesContext=new l("SCMIncomingChangesAllChangesContext"),l.SCMIncomingChangesHistoryItemContext=new l("SCMIncomingChangesHistoryItemContext"),l.SCMOutgoingChangesAllChangesContext=new l("SCMOutgoingChangesAllChangesContext"),l.SCMOutgoingChangesHistoryItemContext=new l("SCMOutgoingChangesHistoryItemContext"),l.SCMChangeContext=new l("SCMChangeContext"),l.SCMResourceContext=new l("SCMResourceContext"),l.SCMResourceContextShare=new l("SCMResourceContextShare"),l.SCMResourceFolderContext=new l("SCMResourceFolderContext"),l.SCMResourceGroupContext=new l("SCMResourceGroupContext"),l.SCMSourceControl=new l("SCMSourceControl"),l.SCMSourceControlInline=new l("SCMSourceControlInline"),l.SCMSourceControlTitle=new l("SCMSourceControlTitle"),l.SCMTitle=new l("SCMTitle"),l.SearchContext=new l("SearchContext"),l.SearchActionMenu=new l("SearchActionContext"),l.StatusBarWindowIndicatorMenu=new l("StatusBarWindowIndicatorMenu"),l.StatusBarRemoteIndicatorMenu=new l("StatusBarRemoteIndicatorMenu"),l.StickyScrollContext=new l("StickyScrollContext"),l.TestItem=new l("TestItem"),l.TestItemGutter=new l("TestItemGutter"),l.TestMessageContext=new l("TestMessageContext"),l.TestMessageContent=new l("TestMessageContent"),l.TestPeekElement=new l("TestPeekElement"),l.TestPeekTitle=new l("TestPeekTitle"),l.TouchBarContext=new l("TouchBarContext"),l.TitleBarContext=new l("TitleBarContext"),l.TitleBarTitleContext=new l("TitleBarTitleContext"),l.TunnelContext=new l("TunnelContext"),l.TunnelPrivacy=new l("TunnelPrivacy"),l.TunnelProtocol=new l("TunnelProtocol"),l.TunnelPortInline=new l("TunnelInline"),l.TunnelTitle=new l("TunnelTitle"),l.TunnelLocalAddressInline=new l("TunnelLocalAddressInline"),l.TunnelOriginInline=new l("TunnelOriginInline"),l.ViewItemContext=new l("ViewItemContext"),l.ViewContainerTitle=new l("ViewContainerTitle"),l.ViewContainerTitleContext=new l("ViewContainerTitleContext"),l.ViewTitle=new l("ViewTitle"),l.ViewTitleContext=new l("ViewTitleContext"),l.CommentEditorActions=new l("CommentEditorActions"),l.CommentThreadTitle=new l("CommentThreadTitle"),l.CommentThreadActions=new l("CommentThreadActions"),l.CommentThreadAdditionalActions=new l("CommentThreadAdditionalActions"),l.CommentThreadTitleContext=new l("CommentThreadTitleContext"),l.CommentThreadCommentContext=new l("CommentThreadCommentContext"),l.CommentTitle=new l("CommentTitle"),l.CommentActions=new l("CommentActions"),l.CommentsViewThreadActions=new l("CommentsViewThreadActions"),l.InteractiveToolbar=new l("InteractiveToolbar"),l.InteractiveCellTitle=new l("InteractiveCellTitle"),l.InteractiveCellDelete=new l("InteractiveCellDelete"),l.InteractiveCellExecute=new l("InteractiveCellExecute"),l.InteractiveInputExecute=new l("InteractiveInputExecute"),l.IssueReporter=new l("IssueReporter"),l.NotebookToolbar=new l("NotebookToolbar"),l.NotebookStickyScrollContext=new l("NotebookStickyScrollContext"),l.NotebookCellTitle=new l("NotebookCellTitle"),l.NotebookCellDelete=new l("NotebookCellDelete"),l.NotebookCellInsert=new l("NotebookCellInsert"),l.NotebookCellBetween=new l("NotebookCellBetween"),l.NotebookCellListTop=new l("NotebookCellTop"),l.NotebookCellExecute=new l("NotebookCellExecute"),l.NotebookCellExecuteGoTo=new l("NotebookCellExecuteGoTo"),l.NotebookCellExecutePrimary=new l("NotebookCellExecutePrimary"),l.NotebookDiffCellInputTitle=new l("NotebookDiffCellInputTitle"),l.NotebookDiffCellMetadataTitle=new l("NotebookDiffCellMetadataTitle"),l.NotebookDiffCellOutputsTitle=new l("NotebookDiffCellOutputsTitle"),l.NotebookOutputToolbar=new l("NotebookOutputToolbar"),l.NotebookOutlineFilter=new l("NotebookOutlineFilter"),l.NotebookOutlineActionMenu=new l("NotebookOutlineActionMenu"),l.NotebookEditorLayoutConfigure=new l("NotebookEditorLayoutConfigure"),l.NotebookKernelSource=new l("NotebookKernelSource"),l.BulkEditTitle=new l("BulkEditTitle"),l.BulkEditContext=new l("BulkEditContext"),l.TimelineItemContext=new l("TimelineItemContext"),l.TimelineTitle=new l("TimelineTitle"),l.TimelineTitleContext=new l("TimelineTitleContext"),l.TimelineFilterSubMenu=new l("TimelineFilterSubMenu"),l.AccountsContext=new l("AccountsContext"),l.SidebarTitle=new l("SidebarTitle"),l.PanelTitle=new l("PanelTitle"),l.AuxiliaryBarTitle=new l("AuxiliaryBarTitle"),l.AuxiliaryBarHeader=new l("AuxiliaryBarHeader"),l.TerminalInstanceContext=new l("TerminalInstanceContext"),l.TerminalEditorInstanceContext=new l("TerminalEditorInstanceContext"),l.TerminalNewDropdownContext=new l("TerminalNewDropdownContext"),l.TerminalTabContext=new l("TerminalTabContext"),l.TerminalTabEmptyAreaContext=new l("TerminalTabEmptyAreaContext"),l.TerminalStickyScrollContext=new l("TerminalStickyScrollContext"),l.WebviewContext=new l("WebviewContext"),l.InlineCompletionsActions=new l("InlineCompletionsActions"),l.InlineEditActions=new l("InlineEditActions"),l.NewFile=new l("NewFile"),l.MergeInput1Toolbar=new l("MergeToolbar1Toolbar"),l.MergeInput2Toolbar=new l("MergeToolbar2Toolbar"),l.MergeBaseToolbar=new l("MergeBaseToolbar"),l.MergeInputResultToolbar=new l("MergeToolbarResultToolbar"),l.InlineSuggestionToolbar=new l("InlineSuggestionToolbar"),l.InlineEditToolbar=new l("InlineEditToolbar"),l.ChatContext=new l("ChatContext"),l.ChatCodeBlock=new l("ChatCodeblock"),l.ChatCompareBlock=new l("ChatCompareBlock"),l.ChatMessageTitle=new l("ChatMessageTitle"),l.ChatExecute=new l("ChatExecute"),l.ChatExecuteSecondary=new l("ChatExecuteSecondary"),l.ChatInputSide=new l("ChatInputSide"),l.AccessibleView=new l("AccessibleView"),l.MultiDiffEditorFileToolbar=new l("MultiDiffEditorFileToolbar"),l.DiffEditorHunkToolbar=new l("DiffEditorHunkToolbar"),l.DiffEditorSelectionToolbar=new l("DiffEditorSelectionToolbar");const g=(0,P.u1)("menuService");class p{static for(H){let L=this._all.get(H);return L||(L=new p(H),this._all.set(H,L)),L}static merge(H){const L=new Set;for(const j of H)j instanceof p&&L.add(j.id);return L}constructor(H){this.id=H,this.has=L=>L===H}}p._all=new Map;const m=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new w.QT({merge:p.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(N){return this._commands.set(N.id,N),this._onDidChangeMenu.fire(p.for(l.CommandPalette)),(0,x.s)(()=>{this._commands.delete(N.id)&&this._onDidChangeMenu.fire(p.for(l.CommandPalette))})}getCommand(N){return this._commands.get(N)}getCommands(){const N=new Map;return this._commands.forEach((H,L)=>N.set(L,H)),N}appendMenuItem(N,H){let L=this._menuItems.get(N);L||(L=new C.w,this._menuItems.set(N,L));const j=L.push(H);return this._onDidChangeMenu.fire(p.for(N)),(0,x.s)(()=>{j(),this._onDidChangeMenu.fire(p.for(N))})}appendMenuItems(N){const H=new x.Cm;for(const{id:L,item:j}of N)H.add(this.appendMenuItem(L,j));return H}getMenuItems(N){let H;return H=this._menuItems.has(N)?[...this._menuItems.get(N)]:[],N===l.CommandPalette&&this._appendImplicitItems(H),H}_appendImplicitItems(N){const H=new Set;for(const L of N)d(L)&&(H.add(L.command.id),L.alt&&H.add(L.alt.id));this._commands.forEach((L,j)=>{H.has(j)||N.push({command:L})})}};class T extends a.YH{constructor(H,L,j){super(`submenuitem.${H.submenu.id}`,"string"==typeof H.title?H.title:H.title.value,j,"submenu"),this.item=H,this.hideActions=L}}let A=f=class{static label(H,L){return L?.renderShortTitle&&H.shortTitle?"string"==typeof H.shortTitle?H.shortTitle:H.shortTitle.value:"string"==typeof H.title?H.title:H.title.value}constructor(H,L,j,Z,te,X,U){var q,R;let W;if(this.hideActions=Z,this.menuKeybinding=te,this._commandService=U,this.id=H.id,this.label=f.label(H,j),this.tooltip=null!==(R="string"==typeof H.tooltip?H.tooltip:null===(q=H.tooltip)||void 0===q?void 0:q.value)&&void 0!==R?R:"",this.enabled=!H.precondition||X.contextMatchesRules(H.precondition),this.checked=void 0,H.toggled){const Y=H.toggled.condition?H.toggled:{condition:H.toggled};this.checked=X.contextMatchesRules(Y.condition),this.checked&&Y.tooltip&&(this.tooltip="string"==typeof Y.tooltip?Y.tooltip:Y.tooltip.value),this.checked&&F.L.isThemeIcon(Y.icon)&&(W=Y.icon),this.checked&&Y.title&&(this.label="string"==typeof Y.title?Y.title:Y.title.value)}W||(W=F.L.isThemeIcon(H.icon)?H.icon:void 0),this.item=H,this.alt=L?new f(L,void 0,j,Z,void 0,X,U):void 0,this._options=j,this.class=W&&F.L.asClassName(W)}run(...H){var L,j;let Z=[];return!(null===(L=this._options)||void 0===L)&&L.arg&&(Z=[...Z,this._options.arg]),!(null===(j=this._options)||void 0===j)&&j.shouldForwardArgs&&(Z=[...Z,...H]),this._commandService.executeCommand(this.id,...Z)}};A=f=function(N,H,L,j){var X,Z=arguments.length,te=Z<3?H:null===j?j=Object.getOwnPropertyDescriptor(H,L):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(N,H,L,j);else for(var U=N.length-1;U>=0;U--)(X=N[U])&&(te=(Z<3?X(te):Z>3?X(H,L,te):X(H,L))||te);return Z>3&&te&&Object.defineProperty(H,L,te),te}([_(5,b.fN),_(6,S.d)],A);class k{constructor(H){this.desc=H}}function O(N){const H=[],L=new N,{f1:j,menu:Z,keybinding:te,...X}=L.desc;if(S.w.getCommand(X.id))throw new Error(`Cannot register two commands with the same id: ${X.id}`);if(H.push(S.w.registerCommand({id:X.id,handler:(U,...q)=>L.run(U,...q),metadata:X.metadata})),Array.isArray(Z))for(const U of Z)H.push(m.appendMenuItem(U.id,{command:{...X,precondition:null===U.precondition?void 0:X.precondition},...U}));else Z&&H.push(m.appendMenuItem(Z.id,{command:{...X,precondition:null===Z.precondition?void 0:X.precondition},...Z}));if(j&&(H.push(m.appendMenuItem(l.CommandPalette,{command:X,when:X.precondition})),H.push(m.addCommand(X))),Array.isArray(te))for(const U of te)H.push(D.f.registerKeybindingRule({...U,id:X.id,when:X.precondition?b.M$.and(X.precondition,U.when):U.when}));else te&&H.push(D.f.registerKeybindingRule({...te,id:X.id,when:X.precondition?b.M$.and(X.precondition,te.when):te.when}));return{dispose(){(0,x.AS)(H)}}}},99639:(tt,xe,t)=>{t.d(xe,{$:()=>g,D:()=>k});var r,l,a=t(86671),F=t(5643),w=t(99031),x=t(79134),C=t(51126),S=t(50168),b=t(64948),P=t(16815),D=t(30833),v=t(81644),_=t(59002),f=function(O,N,H,L){var te,j=arguments.length,Z=j<3?N:null===L?L=Object.getOwnPropertyDescriptor(N,H):L;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(O,N,H,L);else for(var X=O.length-1;X>=0;X--)(te=O[X])&&(Z=(j<3?te(Z):j>3?te(N,H,Z):te(N,H))||Z);return j>3&&Z&&Object.defineProperty(N,H,Z),Z},d=function(O,N){return function(H,L){N(H,L,O)}};let g=class{constructor(N,H,L){this._commandService=N,this._keybindingService=H,this._hiddenStates=new p(L)}createMenu(N,H,L){return new T(N,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...L},this._commandService,this._keybindingService,H)}resetHiddenStates(N){this._hiddenStates.reset(N)}};g=f([d(0,C.d),d(1,_.b),d(2,P.CS)],g);let p=r=class{constructor(N){this._storageService=N,this._disposables=new w.Cm,this._onDidChange=new F.vl,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const H=N.get(r._key,0,"{}");this._data=JSON.parse(H)}catch{this._data=Object.create(null)}this._disposables.add(N.onDidChangeValue(0,r._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const H=N.get(r._key,0,"{}");this._data=JSON.parse(H)}catch(H){console.log("FAILED to read storage after UPDATE",H)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(N,H){var L;return null!==(L=this._hiddenByDefaultCache.get(`${N.id}/${H}`))&&void 0!==L&&L}setDefaultState(N,H,L){this._hiddenByDefaultCache.set(`${N.id}/${H}`,L)}isHidden(N,H){var L,j;const Z=this._isHiddenByDefault(N,H),te=null!==(j=null===(L=this._data[N.id])||void 0===L?void 0:L.includes(H))&&void 0!==j&&j;return Z?!te:te}updateHidden(N,H,L){this._isHiddenByDefault(N,H)&&(L=!L);const Z=this._data[N.id];if(L)Z?Z.indexOf(H)<0&&Z.push(H):this._data[N.id]=[H];else if(Z){const te=Z.indexOf(H);te>=0&&(0,D.UH)(Z,te),0===Z.length&&delete this._data[N.id]}this._persist()}reset(N){if(void 0===N)this._data=Object.create(null),this._persist();else{for(const{id:H}of N)this._data[H]&&delete this._data[H];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const N=JSON.stringify(this._data);this._storageService.store(r._key,N,0,0)}finally{this._ignoreChangeEvent=!1}}};p._key="menu.hiddenCommands",p=r=f([d(0,P.CS)],p);let m=l=class{constructor(N,H,L,j,Z,te){this._id=N,this._hiddenStates=H,this._collectContextKeysForSubmenus=L,this._commandService=j,this._keybindingService=Z,this._contextKeyService=te,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const N=x.ZG.getMenuItems(this._id);let H;N.sort(l._compareMenuItems);for(const L of N){const j=L.group||"";(!H||H[0]!==j)&&(H=[j,[]],this._menuGroups.push(H)),H[1].push(L),this._collectContextKeys(L)}}_collectContextKeys(N){l._fillInKbExprKeys(N.when,this._structureContextKeys),(0,x.is)(N)?(N.command.precondition&&l._fillInKbExprKeys(N.command.precondition,this._preconditionContextKeys),N.command.toggled&&l._fillInKbExprKeys(N.command.toggled.condition||N.command.toggled,this._toggledContextKeys)):this._collectContextKeysForSubmenus&&x.ZG.getMenuItems(N.submenu).forEach(this._collectContextKeys,this)}createActionGroups(N){const H=[];for(const L of this._menuGroups){const[j,Z]=L;let te;for(const X of Z)if(this._contextKeyService.contextMatchesRules(X.when)){const U=(0,x.is)(X);U&&this._hiddenStates.setDefaultState(this._id,X.command.id,!!X.isHiddenByDefault);const q=A(this._id,U?X.command:X,this._hiddenStates);if(U){const R=k(X.command.id,X.when,this._commandService,this._keybindingService);(te??(te=[])).push(new x.Xe(X.command,X.alt,N,q,R,this._contextKeyService,this._commandService))}else{const R=new l(X.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._keybindingService,this._contextKeyService).createActionGroups(N),W=b.wv.join(...R.map(Y=>Y[1]));W.length>0&&(te??(te=[])).push(new x.nI(X,q,W))}}te&&te.length>0&&H.push([j,te])}return H}static _fillInKbExprKeys(N,H){if(N)for(const L of N.keys())H.add(L)}static _compareMenuItems(N,H){const L=N.group,j=H.group;if(L!==j){if(!L)return 1;if(!j)return-1;if("navigation"===L)return-1;if("navigation"===j)return 1;const X=L.localeCompare(j);if(0!==X)return X}const Z=N.order||0,te=H.order||0;return Z<te?-1:Z>te?1:l._compareTitles((0,x.is)(N)?N.command.title:N.title,(0,x.is)(H)?H.command.title:H.title)}static _compareTitles(N,H){return("string"==typeof N?N:N.original).localeCompare("string"==typeof H?H:H.original)}};m=l=f([d(3,C.d),d(4,_.b),d(5,S.fN)],m);let T=class{constructor(N,H,L,j,Z,te){this._disposables=new w.Cm,this._menuInfo=new m(N,H,L.emitEventsForSubmenuChanges,j,Z,te);const X=new a.uC(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},L.eventDebounceDelay);this._disposables.add(X),this._disposables.add(x.ZG.onDidChangeMenu(W=>{W.has(N)&&X.schedule()}));const U=this._disposables.add(new w.Cm);this._onDidChange=new F.uI({onWillAddFirstListener:()=>{U.add(te.onDidChangeContext(W=>{const Y=W.affectsSome(this._menuInfo.structureContextKeys),oe=W.affectsSome(this._menuInfo.preconditionContextKeys),z=W.affectsSome(this._menuInfo.toggledContextKeys);(Y||oe||z)&&this._onDidChange.fire({menu:this,isStructuralChange:Y,isEnablementChange:oe,isToggleChange:z})})),U.add(H.onDidChange(W=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))},onDidRemoveLastListener:U.clear.bind(U),delay:L.eventDebounceDelay,merge:W=>{let Y=!1,oe=!1,z=!1;for(const G of W)if(Y=Y||G.isStructuralChange,oe=oe||G.isEnablementChange,z=z||G.isToggleChange,Y&&oe&&z)break;return{menu:this,isStructuralChange:Y,isEnablementChange:oe,isToggleChange:z}}}),this.onDidChange=this._onDidChange.event}getActions(N){return this._menuInfo.createActionGroups(N)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};function A(O,N,H){const L=(0,x.i1)(N)?N.submenu.id:N.id,j="string"==typeof N.title?N.title:N.title.value,Z=(0,b.ih)({id:`hide/${O.id}/${L}`,label:(0,v.kg)("hide.label","Hide '{0}'",j),run(){H.updateHidden(O,L,!0)}}),te=(0,b.ih)({id:`toggle/${O.id}/${L}`,label:j,get checked(){return!H.isHidden(O,L)},run(){H.updateHidden(O,L,!!this.checked)}});return{hide:Z,toggle:te,get isHidden(){return!te.checked}}}function k(O,N=void 0,H,L){return(0,b.ih)({id:`configureKeybinding/${O}`,label:(0,v.kg)("configure keybinding","Configure Keybinding"),run(){const Z=!L.lookupKeybinding(O)&&N?N.serialize():void 0;H.executeCommand("workbench.action.openGlobalKeybindings",`@command:${O}`+(Z?` +when:${Z}`:""))}})}T=f([d(3,C.d),d(4,_.b),d(5,S.fN)],T)},66229:(tt,xe,t)=>{t.d(xe,{h:()=>F});const F=(0,t(598).u1)("clipboardService")},51126:(tt,xe,t)=>{t.d(xe,{d:()=>b,w:()=>P});var a=t(5643),F=t(28481),w=t(99031),x=t(18002),C=t(66702);const b=(0,t(598).u1)("commandService"),P=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new a.vl,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(D,v){if(!D)throw new Error("invalid command");if("string"==typeof D){if(!v)throw new Error("invalid command");return this.registerCommand({id:D,handler:v})}if(D.metadata&&Array.isArray(D.metadata.args)){const l=[];for(const p of D.metadata.args)l.push(p.constraint);const g=D.handler;D.handler=function(p,...m){return(0,C.jx)(m,l),g(p,...m)}}const{id:_}=D;let f=this._commands.get(_);f||(f=new x.w,this._commands.set(_,f));const d=f.unshift(D),r=(0,w.s)(()=>{d();const l=this._commands.get(_);l?.isEmpty()&&this._commands.delete(_)});return this._onDidRegisterCommand.fire(_),r}registerCommandAlias(D,v){return P.registerCommand(D,(_,...f)=>_.get(b).executeCommand(v,...f))}getCommand(D){const v=this._commands.get(D);if(v&&!v.isEmpty())return F.f.first(v)}getCommands(){const D=new Map;for(const v of this._commands.keys()){const _=this.getCommand(v);_&&D.set(v,_)}return D}};P.registerCommand("noop",()=>{})},35072:(tt,xe,t)=>{t.d(xe,{Mo:()=>P,ad:()=>w,gD:()=>b,iB:()=>C,kW:()=>x,pG:()=>F});const F=(0,t(598).u1)("configurationService");function w(D,v){const _=Object.create(null);for(const f in D)x(_,f,D[f],v);return _}function x(D,v,_,f){const d=v.split("."),r=d.pop();let l=D;for(let g=0;g<d.length;g++){const p=d[g];let m=l[p];switch(typeof m){case"undefined":m=l[p]=Object.create(null);break;case"object":if(null===m)return void f(`Ignoring ${v} as ${d.slice(0,g+1).join(".")} is null`);break;default:return void f(`Ignoring ${v} as ${d.slice(0,g+1).join(".")} is ${JSON.stringify(m)}`)}l=m}if("object"==typeof l&&null!==l)try{l[r]=_}catch{f(`Ignoring ${v} as ${d.join(".")} is ${JSON.stringify(l)}`)}else f(`Ignoring ${v} as ${d.join(".")} is ${JSON.stringify(l)}`)}function C(D,v){S(D,v.split("."))}function S(D,v){const _=v.shift();if(0!==v.length){if(-1!==Object.keys(D).indexOf(_)){const f=D[_];"object"==typeof f&&!Array.isArray(f)&&(S(f,v),0===Object.keys(f).length&&delete D[_])}}else delete D[_]}function b(D,v,_){const r=function f(l,g){let p=l;for(const m of g){if("object"!=typeof p||null===p)return;p=p[m]}return p}(D,v.split("."));return typeof r>"u"?_:r}function P(D){return D.replace(/[\[\]]/g,"")}},70987:(tt,xe,t)=>{t.d(xe,{Fd:()=>P,Gv:()=>O,rC:()=>k});var a=t(30833),F=t(5643),w=t(66702),x=t(81644),C=t(35072),S=t(54027),b=t(97018);const P={Configuration:"base.contributions.configuration"},D={properties:{},patternProperties:{}},v={properties:{},patternProperties:{}},_={properties:{},patternProperties:{}},f={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},r={properties:{},patternProperties:{}},l="vscode://schemas/settings/resourceLanguage",g=b.O.as(S.F.JSONContribution),m="\\[([^\\]]+)\\]",T=new RegExp(m,"g"),A=`^(${m})+$`,k=new RegExp(A);function O(j){const Z=[];if(k.test(j)){let te=T.exec(j);for(;te?.length;){const X=te[1].trim();X&&Z.push(X),te=T.exec(j)}}return(0,a.dM)(Z)}const H=new class p{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new F.vl,this._onDidUpdateConfiguration=new F.vl,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:x.kg("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},g.registerSchema(l,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(Z,te=!0){this.registerConfigurations([Z],te)}registerConfigurations(Z,te=!0){const X=new Set;this.doRegisterConfigurations(Z,te,X),g.registerSchema(l,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:X})}registerDefaultConfigurations(Z){const te=new Set;this.doRegisterDefaultConfigurations(Z,te),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:te,defaultsOverrides:!0})}doRegisterDefaultConfigurations(Z,te){var X;const U=[];for(const{overrides:q,source:R}of Z)for(const W in q)if(te.add(W),k.test(W)){const Y=this.configurationDefaultsOverrides.get(W),oe=null!==(X=Y?.valuesSources)&&void 0!==X?X:new Map;if(R)for(const K of Object.keys(q[W]))oe.set(K,R);const z={...Y?.value||{},...q[W]};this.configurationDefaultsOverrides.set(W,{source:R,value:z,valuesSources:oe});const G=(0,C.Mo)(W),Q={type:"object",default:z,description:x.kg("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",G),$ref:l,defaultDefaultValue:z,source:w.Kg(R)?void 0:R,defaultValueSource:R};U.push(...O(W)),this.configurationProperties[W]=Q,this.defaultLanguageConfigurationOverridesNode.properties[W]=Q}else{this.configurationDefaultsOverrides.set(W,{value:q[W],source:R});const Y=this.configurationProperties[W];Y&&(this.updatePropertyDefaultValue(W,Y),this.updateSchema(W,Y))}this.doRegisterOverrideIdentifiers(U)}registerOverrideIdentifiers(Z){this.doRegisterOverrideIdentifiers(Z),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(Z){for(const te of Z)this.overrideIdentifiers.add(te);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(Z,te,X){Z.forEach(U=>{this.validateAndRegisterProperties(U,te,U.extensionInfo,U.restrictedProperties,void 0,X),this.configurationContributors.push(U),this.registerJSONConfiguration(U)})}validateAndRegisterProperties(Z,te=!0,X,U,q=3,R){var W;q=w.z(Z.scope)?q:Z.scope;const Y=Z.properties;if(Y)for(const z in Y){const G=Y[z];te&&L(z,G)?delete Y[z]:(G.source=X,G.defaultDefaultValue=Y[z].default,this.updatePropertyDefaultValue(z,G),k.test(z)?G.scope=void 0:(G.scope=w.z(G.scope)?q:G.scope,G.restricted=w.z(G.restricted)?!!U?.includes(z):G.restricted),!Y[z].hasOwnProperty("included")||Y[z].included?(this.configurationProperties[z]=Y[z],null!==(W=Y[z].policy)&&void 0!==W&&W.name&&this.policyConfigurations.set(Y[z].policy.name,z),!Y[z].deprecationMessage&&Y[z].markdownDeprecationMessage&&(Y[z].deprecationMessage=Y[z].markdownDeprecationMessage),R.add(z)):(this.excludedConfigurationProperties[z]=Y[z],delete Y[z]))}const oe=Z.allOf;if(oe)for(const z of oe)this.validateAndRegisterProperties(z,te,X,U,q,R)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(Z){const te=X=>{const U=X.properties;if(U)for(const R in U)this.updateSchema(R,U[R]);const q=X.allOf;q?.forEach(te)};te(Z)}updateSchema(Z,te){switch(D.properties[Z]=te,te.scope){case 1:v.properties[Z]=te;break;case 2:_.properties[Z]=te;break;case 6:f.properties[Z]=te;break;case 3:d.properties[Z]=te;break;case 4:r.properties[Z]=te;break;case 5:r.properties[Z]=te,this.resourceLanguageSettingsSchema.properties[Z]=te}}updateOverridePropertyPatternKey(){for(const Z of this.overrideIdentifiers.values()){const te=`[${Z}]`,X={type:"object",description:x.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:x.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:l};this.updatePropertyDefaultValue(te,X),D.properties[te]=X,v.properties[te]=X,_.properties[te]=X,f.properties[te]=X,d.properties[te]=X,r.properties[te]=X}}registerOverridePropertyPatternKey(){const Z={type:"object",description:x.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:x.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:l};D.patternProperties[A]=Z,v.patternProperties[A]=Z,_.patternProperties[A]=Z,f.patternProperties[A]=Z,d.patternProperties[A]=Z,r.patternProperties[A]=Z,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(Z,te){const X=this.configurationDefaultsOverrides.get(Z);let U=X?.value,q=X?.source;w.b0(U)&&(U=te.defaultDefaultValue,q=void 0),w.b0(U)&&(U=function N(j){switch(Array.isArray(j)?j[0]:j){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(te.type)),te.default=U,te.defaultValueSource=q}};function L(j,Z){var te,X,U,q;return j.trim()?k.test(j)?x.kg("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",j):void 0!==H.getConfigurationProperties()[j]?x.kg("config.property.duplicate","Cannot register '{0}'. This property is already registered.",j):null!==(te=Z.policy)&&void 0!==te&&te.name&&void 0!==H.getPolicyConfigurations().get(null===(X=Z.policy)||void 0===X?void 0:X.name)?x.kg("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",j,null===(U=Z.policy)||void 0===U?void 0:U.name,H.getPolicyConfigurations().get(null===(q=Z.policy)||void 0===q?void 0:q.name)):null:x.kg("config.property.empty","Cannot register an empty property")}b.O.add(P.Configuration,H)},50168:(tt,xe,t)=>{t.d(xe,{f1:()=>te,M$:()=>O,fN:()=>ge,N1:()=>se,jQ:()=>N,M0:()=>M});var a=t(21828),F=t(6653),w=t(25680),x=t(81644);function C(...Ie){switch(Ie.length){case 1:return(0,x.kg)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",Ie[0]);case 2:return(0,x.kg)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",Ie[0],Ie[1]);case 3:return(0,x.kg)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",Ie[0],Ie[1],Ie[2]);default:return}}const S=(0,x.kg)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),b=(0,x.kg)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class P{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(ne){switch(ne.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return ne.isTripleEq?"===":"==";case 4:return ne.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:case 8:return">=";case 9:return"=~";case 10:case 17:case 18:case 19:return ne.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 20:return"EOF";default:throw(0,w.iH)(`unhandled token type: ${JSON.stringify(ne)}; have you forgotten to add a case?`)}}reset(ne){return this._input=ne,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const ue=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:ue})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const ue=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:ue})}else this._match(126)?this._addToken(9):this._error(C("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(C("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(C("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(ne){return!this._isAtEnd()&&this._input.charCodeAt(this._current)===ne&&(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(ne){this._tokens.push({type:ne,offset:this._start})}_error(ne){const ue=this._start,we=this._input.substring(this._start,this._current),Me={type:19,offset:this._start,lexeme:we};this._errors.push({offset:ue,lexeme:we,additionalInfo:ne}),this._tokens.push(Me)}_string(){this.stringRe.lastIndex=this._start;const ne=this.stringRe.exec(this._input);if(ne){this._current=this._start+ne[0].length;const ue=this._input.substring(this._start,this._current),we=P._keywords.get(ue);we?this._addToken(we):this._tokens.push({type:17,lexeme:ue,offset:this._start})}}_quotedString(){for(;39!==this._peek()&&!this._isAtEnd();)this._advance();this._isAtEnd()?this._error(S):(this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1}))}_regex(){let ne=this._current,ue=!1,we=!1;for(;;){if(ne>=this._input.length)return this._current=ne,void this._error(b);const Ve=this._input.charCodeAt(ne);if(ue)ue=!1;else{if(47===Ve&&!we){ne++;break}91===Ve?we=!0:92===Ve?ue=!0:93===Ve&&(we=!1)}ne++}for(;ne<this._input.length&&P._regexFlags.has(this._input.charCodeAt(ne));)ne++;this._current=ne;const Me=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:Me,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}P._regexFlags=new Set(["i","g","s","m","y","u"].map(Ie=>Ie.charCodeAt(0))),P._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);var D=t(598);const v=new Map;v.set("false",!1),v.set("true",!0),v.set("isMac",a.zx),v.set("isLinux",a.j9),v.set("isWindows",a.uF),v.set("isWeb",a.HZ),v.set("isMacNative",a.zx&&!a.HZ),v.set("isEdge",a.UP),v.set("isFirefox",a.gm),v.set("isChrome",a.H8),v.set("isSafari",a.nr);const _=Object.prototype.hasOwnProperty,f={regexParsingWithErrorRecovery:!0},d=(0,x.kg)("contextkey.parser.error.emptyString","Empty context key expression"),r=(0,x.kg)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),l=(0,x.kg)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),g=(0,x.kg)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),p=(0,x.kg)("contextkey.parser.error.unexpectedToken","Unexpected token"),m=(0,x.kg)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),T=(0,x.kg)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),A=(0,x.kg)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class k{constructor(ne=f){this._config=ne,this._scanner=new P,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(ne){if(""!==ne){this._tokens=this._scanner.reset(ne).scan(),this._current=0,this._parsingErrors=[];try{const ue=this._expr();if(!this._isAtEnd()){const we=this._peek(),Me=17===we.type?m:void 0;throw this._parsingErrors.push({message:p,offset:we.offset,lexeme:P.getLexeme(we),additionalInfo:Me}),k._parseError}return ue}catch(ue){if(ue!==k._parseError)throw ue;return}}else this._parsingErrors.push({message:d,offset:0,lexeme:"",additionalInfo:r})}_expr(){return this._or()}_or(){const ne=[this._and()];for(;this._matchOne(16);){const ue=this._and();ne.push(ue)}return 1===ne.length?ne[0]:O.or(...ne)}_and(){const ne=[this._term()];for(;this._matchOne(15);){const ue=this._term();ne.push(ue)}return 1===ne.length?ne[0]:O.and(...ne)}_term(){if(this._matchOne(2)){const ne=this._peek();switch(ne.type){case 11:return this._advance(),L.INSTANCE;case 12:return this._advance(),j.INSTANCE;case 0:{this._advance();const ue=this._expr();return this._consume(1,g),ue?.negate()}case 17:return this._advance(),R.create(ne.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",ne)}}return this._primary()}_primary(){const ne=this._peek();switch(ne.type){case 11:return this._advance(),O.true();case 12:return this._advance(),O.false();case 0:{this._advance();const ue=this._expr();return this._consume(1,g),ue}case 17:{const ue=ne.lexeme;if(this._advance(),this._matchOne(9)){const Me=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),10!==Me.type)throw this._errExpectedButGot("REGEX",Me);const Ve=Me.lexeme,$e=Ve.lastIndexOf("/"),it=$e===Ve.length-1?void 0:this._removeFlagsGY(Ve.substring($e+1));let He;try{He=new RegExp(Ve.substring(1,$e),it)}catch{throw this._errExpectedButGot("REGEX",Me)}return Q.create(ue,He)}switch(Me.type){case 10:case 19:{const Ve=[Me.lexeme];this._advance();let $e=this._peek(),it=0;for(let be=0;be<Me.lexeme.length;be++)40===Me.lexeme.charCodeAt(be)?it++:41===Me.lexeme.charCodeAt(be)&&it--;for(;!this._isAtEnd()&&15!==$e.type&&16!==$e.type;){switch($e.type){case 0:it++;break;case 1:it--;break;case 10:case 18:for(let be=0;be<$e.lexeme.length;be++)40===$e.lexeme.charCodeAt(be)?it++:41===Me.lexeme.charCodeAt(be)&&it--}if(it<0)break;Ve.push(P.getLexeme($e)),this._advance(),$e=this._peek()}const He=Ve.join(""),me=He.lastIndexOf("/"),le=me===He.length-1?void 0:this._removeFlagsGY(He.substring(me+1));let Ee;try{Ee=new RegExp(He.substring(1,me),le)}catch{throw this._errExpectedButGot("REGEX",Me)}return O.regex(ue,Ee)}case 18:{const Ve=Me.lexeme;this._advance();let $e=null;if(!(0,F.AV)(Ve)){const it=Ve.indexOf("/"),He=Ve.lastIndexOf("/");if(it!==He&&it>=0){const me=Ve.slice(it+1,He),le="i"===Ve[He+1]?"i":"";try{$e=new RegExp(me,le)}catch{throw this._errExpectedButGot("REGEX",Me)}}}if(null===$e)throw this._errExpectedButGot("REGEX",Me);return Q.create(ue,$e)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,l);const Me=this._value();return O.notIn(ue,Me)}switch(this._peek().type){case 3:{this._advance();const Me=this._value();if(18===this._previous().type)return O.equals(ue,Me);switch(Me){case"true":return O.has(ue);case"false":return O.not(ue);default:return O.equals(ue,Me)}}case 4:{this._advance();const Me=this._value();if(18===this._previous().type)return O.notEquals(ue,Me);switch(Me){case"true":return O.not(ue);case"false":return O.has(ue);default:return O.notEquals(ue,Me)}}case 5:return this._advance(),z.create(ue,this._value());case 6:return this._advance(),G.create(ue,this._value());case 7:return this._advance(),Y.create(ue,this._value());case 8:return this._advance(),oe.create(ue,this._value());case 13:return this._advance(),O.in(ue,this._value());default:return O.has(ue)}}case 20:throw this._parsingErrors.push({message:T,offset:ne.offset,lexeme:"",additionalInfo:A}),k._parseError;default:throw this._errExpectedButGot("true | false | KEY \n\t| KEY '=~' REGEX \n\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value",this._peek())}}_value(){const ne=this._peek();switch(ne.type){case 17:case 18:return this._advance(),ne.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(ne){return ne.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(ne){return!!this._check(ne)&&(this._advance(),!0)}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(ne,ue){if(this._check(ne))return this._advance();throw this._errExpectedButGot(ue,this._peek())}_errExpectedButGot(ne,ue,we){const Me=(0,x.kg)("contextkey.parser.error.expectedButGot","Expected: {0}\nReceived: '{1}'.",ne,P.getLexeme(ue)),Ve=ue.offset,$e=P.getLexeme(ue);return this._parsingErrors.push({message:Me,offset:Ve,lexeme:$e,additionalInfo:we}),k._parseError}_check(ne){return this._peek().type===ne}_peek(){return this._tokens[this._current]}_isAtEnd(){return 20===this._peek().type}}k._parseError=new Error;class O{static false(){return L.INSTANCE}static true(){return j.INSTANCE}static has(ne){return Z.create(ne)}static equals(ne,ue){return te.create(ne,ue)}static notEquals(ne,ue){return q.create(ne,ue)}static regex(ne,ue){return Q.create(ne,ue)}static in(ne,ue){return X.create(ne,ue)}static notIn(ne,ue){return U.create(ne,ue)}static not(ne){return R.create(ne)}static and(...ne){return ae.create(ne,null,!0)}static or(...ne){return de.create(ne,null,!0)}static deserialize(ne){return null==ne?void 0:this._parser.parse(ne)}}function N(Ie,ne){const ue=Ie?Ie.substituteConstants():void 0,we=ne?ne.substituteConstants():void 0;return!ue&&!we||!(!ue||!we)&&ue.equals(we)}function H(Ie,ne){return Ie.cmp(ne)}O._parser=new k({regexParsingWithErrorRecovery:!1});class L{constructor(){this.type=0}cmp(ne){return this.type-ne.type}equals(ne){return ne.type===this.type}substituteConstants(){return this}evaluate(ne){return!1}serialize(){return"false"}keys(){return[]}negate(){return j.INSTANCE}}L.INSTANCE=new L;class j{constructor(){this.type=1}cmp(ne){return this.type-ne.type}equals(ne){return ne.type===this.type}substituteConstants(){return this}evaluate(ne){return!0}serialize(){return"true"}keys(){return[]}negate(){return L.INSTANCE}}j.INSTANCE=new j;class Z{static create(ne,ue=null){const we=v.get(ne);return"boolean"==typeof we?we?j.INSTANCE:L.INSTANCE:new Z(ne,ue)}constructor(ne,ue){this.key=ne,this.negated=ue,this.type=2}cmp(ne){return ne.type!==this.type?this.type-ne.type:_e(this.key,ne.key)}equals(ne){return ne.type===this.type&&this.key===ne.key}substituteConstants(){const ne=v.get(this.key);return"boolean"==typeof ne?ne?j.INSTANCE:L.INSTANCE:this}evaluate(ne){return!!ne.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=R.create(this.key,this)),this.negated}}class te{static create(ne,ue,we=null){if("boolean"==typeof ue)return ue?Z.create(ne,we):R.create(ne,we);const Me=v.get(ne);return"boolean"==typeof Me?ue===(Me?"true":"false")?j.INSTANCE:L.INSTANCE:new te(ne,ue,we)}constructor(ne,ue,we){this.key=ne,this.value=ue,this.negated=we,this.type=4}cmp(ne){return ne.type!==this.type?this.type-ne.type:ye(this.key,this.value,ne.key,ne.value)}equals(ne){return ne.type===this.type&&this.key===ne.key&&this.value===ne.value}substituteConstants(){const ne=v.get(this.key);return"boolean"==typeof ne?this.value===(ne?"true":"false")?j.INSTANCE:L.INSTANCE:this}evaluate(ne){return ne.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=q.create(this.key,this.value,this)),this.negated}}class X{static create(ne,ue){return new X(ne,ue)}constructor(ne,ue){this.key=ne,this.valueKey=ue,this.type=10,this.negated=null}cmp(ne){return ne.type!==this.type?this.type-ne.type:ye(this.key,this.valueKey,ne.key,ne.valueKey)}equals(ne){return ne.type===this.type&&this.key===ne.key&&this.valueKey===ne.valueKey}substituteConstants(){return this}evaluate(ne){const ue=ne.getValue(this.valueKey),we=ne.getValue(this.key);return Array.isArray(ue)?ue.includes(we):"string"==typeof we&&"object"==typeof ue&&null!==ue&&_.call(ue,we)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=U.create(this.key,this.valueKey)),this.negated}}class U{static create(ne,ue){return new U(ne,ue)}constructor(ne,ue){this.key=ne,this.valueKey=ue,this.type=11,this._negated=X.create(ne,ue)}cmp(ne){return ne.type!==this.type?this.type-ne.type:this._negated.cmp(ne._negated)}equals(ne){return ne.type===this.type&&this._negated.equals(ne._negated)}substituteConstants(){return this}evaluate(ne){return!this._negated.evaluate(ne)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class q{static create(ne,ue,we=null){if("boolean"==typeof ue)return ue?R.create(ne,we):Z.create(ne,we);const Me=v.get(ne);return"boolean"==typeof Me?ue===(Me?"true":"false")?L.INSTANCE:j.INSTANCE:new q(ne,ue,we)}constructor(ne,ue,we){this.key=ne,this.value=ue,this.negated=we,this.type=5}cmp(ne){return ne.type!==this.type?this.type-ne.type:ye(this.key,this.value,ne.key,ne.value)}equals(ne){return ne.type===this.type&&this.key===ne.key&&this.value===ne.value}substituteConstants(){const ne=v.get(this.key);return"boolean"==typeof ne?this.value===(ne?"true":"false")?L.INSTANCE:j.INSTANCE:this}evaluate(ne){return ne.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=te.create(this.key,this.value,this)),this.negated}}class R{static create(ne,ue=null){const we=v.get(ne);return"boolean"==typeof we?we?L.INSTANCE:j.INSTANCE:new R(ne,ue)}constructor(ne,ue){this.key=ne,this.negated=ue,this.type=3}cmp(ne){return ne.type!==this.type?this.type-ne.type:_e(this.key,ne.key)}equals(ne){return ne.type===this.type&&this.key===ne.key}substituteConstants(){const ne=v.get(this.key);return"boolean"==typeof ne?ne?L.INSTANCE:j.INSTANCE:this}evaluate(ne){return!ne.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Z.create(this.key,this)),this.negated}}function W(Ie,ne){if("string"==typeof Ie){const ue=parseFloat(Ie);isNaN(ue)||(Ie=ue)}return"string"==typeof Ie||"number"==typeof Ie?ne(Ie):L.INSTANCE}class Y{static create(ne,ue,we=null){return W(ue,Me=>new Y(ne,Me,we))}constructor(ne,ue,we){this.key=ne,this.value=ue,this.negated=we,this.type=12}cmp(ne){return ne.type!==this.type?this.type-ne.type:ye(this.key,this.value,ne.key,ne.value)}equals(ne){return ne.type===this.type&&this.key===ne.key&&this.value===ne.value}substituteConstants(){return this}evaluate(ne){return"string"!=typeof this.value&&parseFloat(ne.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=G.create(this.key,this.value,this)),this.negated}}class oe{static create(ne,ue,we=null){return W(ue,Me=>new oe(ne,Me,we))}constructor(ne,ue,we){this.key=ne,this.value=ue,this.negated=we,this.type=13}cmp(ne){return ne.type!==this.type?this.type-ne.type:ye(this.key,this.value,ne.key,ne.value)}equals(ne){return ne.type===this.type&&this.key===ne.key&&this.value===ne.value}substituteConstants(){return this}evaluate(ne){return"string"!=typeof this.value&&parseFloat(ne.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=z.create(this.key,this.value,this)),this.negated}}class z{static create(ne,ue,we=null){return W(ue,Me=>new z(ne,Me,we))}constructor(ne,ue,we){this.key=ne,this.value=ue,this.negated=we,this.type=14}cmp(ne){return ne.type!==this.type?this.type-ne.type:ye(this.key,this.value,ne.key,ne.value)}equals(ne){return ne.type===this.type&&this.key===ne.key&&this.value===ne.value}substituteConstants(){return this}evaluate(ne){return"string"!=typeof this.value&&parseFloat(ne.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=oe.create(this.key,this.value,this)),this.negated}}class G{static create(ne,ue,we=null){return W(ue,Me=>new G(ne,Me,we))}constructor(ne,ue,we){this.key=ne,this.value=ue,this.negated=we,this.type=15}cmp(ne){return ne.type!==this.type?this.type-ne.type:ye(this.key,this.value,ne.key,ne.value)}equals(ne){return ne.type===this.type&&this.key===ne.key&&this.value===ne.value}substituteConstants(){return this}evaluate(ne){return"string"!=typeof this.value&&parseFloat(ne.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Y.create(this.key,this.value,this)),this.negated}}class Q{static create(ne,ue){return new Q(ne,ue)}constructor(ne,ue){this.key=ne,this.regexp=ue,this.type=7,this.negated=null}cmp(ne){if(ne.type!==this.type)return this.type-ne.type;if(this.key<ne.key)return-1;if(this.key>ne.key)return 1;const ue=this.regexp?this.regexp.source:"",we=ne.regexp?ne.regexp.source:"";return ue<we?-1:ue>we?1:0}equals(ne){return ne.type===this.type&&(this.key===ne.key&&(this.regexp?this.regexp.source:"")===(ne.regexp?ne.regexp.source:""))}substituteConstants(){return this}evaluate(ne){const ue=ne.getValue(this.key);return!!this.regexp&&this.regexp.test(ue)}serialize(){return`${this.key} =~ ${this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/"}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=K.create(this)),this.negated}}class K{static create(ne){return new K(ne)}constructor(ne){this._actual=ne,this.type=8}cmp(ne){return ne.type!==this.type?this.type-ne.type:this._actual.cmp(ne._actual)}equals(ne){return ne.type===this.type&&this._actual.equals(ne._actual)}substituteConstants(){return this}evaluate(ne){return!this._actual.evaluate(ne)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function ie(Ie){let ne=null;for(let ue=0,we=Ie.length;ue<we;ue++){const Me=Ie[ue].substituteConstants();if(Ie[ue]!==Me&&null===ne){ne=[];for(let Ve=0;Ve<ue;Ve++)ne[Ve]=Ie[Ve]}null!==ne&&(ne[ue]=Me)}return null===ne?Ie:ne}class ae{static create(ne,ue,we){return ae._normalizeArr(ne,ue,we)}constructor(ne,ue){this.expr=ne,this.negated=ue,this.type=6}cmp(ne){if(ne.type!==this.type)return this.type-ne.type;if(this.expr.length<ne.expr.length)return-1;if(this.expr.length>ne.expr.length)return 1;for(let ue=0,we=this.expr.length;ue<we;ue++){const Me=H(this.expr[ue],ne.expr[ue]);if(0!==Me)return Me}return 0}equals(ne){if(ne.type===this.type){if(this.expr.length!==ne.expr.length)return!1;for(let ue=0,we=this.expr.length;ue<we;ue++)if(!this.expr[ue].equals(ne.expr[ue]))return!1;return!0}return!1}substituteConstants(){const ne=ie(this.expr);return ne===this.expr?this:ae.create(ne,this.negated,!1)}evaluate(ne){for(let ue=0,we=this.expr.length;ue<we;ue++)if(!this.expr[ue].evaluate(ne))return!1;return!0}static _normalizeArr(ne,ue,we){const Me=[];let Ve=!1;for(const $e of ne)if($e){if(1===$e.type){Ve=!0;continue}if(0===$e.type)return L.INSTANCE;if(6===$e.type){Me.push(...$e.expr);continue}Me.push($e)}if(0===Me.length&&Ve)return j.INSTANCE;if(0!==Me.length){if(1===Me.length)return Me[0];Me.sort(H);for(let $e=1;$e<Me.length;$e++)Me[$e-1].equals(Me[$e])&&(Me.splice($e,1),$e--);if(1===Me.length)return Me[0];for(;Me.length>1;){const $e=Me[Me.length-1];if(9!==$e.type)break;Me.pop();const it=Me.pop(),He=0===Me.length,me=de.create($e.expr.map(le=>ae.create([le,it],null,we)),null,He);me&&(Me.push(me),Me.sort(H))}if(1===Me.length)return Me[0];if(we){for(let $e=0;$e<Me.length;$e++)for(let it=$e+1;it<Me.length;it++)if(Me[$e].negate().equals(Me[it]))return L.INSTANCE;if(1===Me.length)return Me[0]}return new ae(Me,ue)}}serialize(){return this.expr.map(ne=>ne.serialize()).join(" && ")}keys(){const ne=[];for(const ue of this.expr)ne.push(...ue.keys());return ne}negate(){if(!this.negated){const ne=[];for(const ue of this.expr)ne.push(ue.negate());this.negated=de.create(ne,this,!0)}return this.negated}}class de{static create(ne,ue,we){return de._normalizeArr(ne,ue,we)}constructor(ne,ue){this.expr=ne,this.negated=ue,this.type=9}cmp(ne){if(ne.type!==this.type)return this.type-ne.type;if(this.expr.length<ne.expr.length)return-1;if(this.expr.length>ne.expr.length)return 1;for(let ue=0,we=this.expr.length;ue<we;ue++){const Me=H(this.expr[ue],ne.expr[ue]);if(0!==Me)return Me}return 0}equals(ne){if(ne.type===this.type){if(this.expr.length!==ne.expr.length)return!1;for(let ue=0,we=this.expr.length;ue<we;ue++)if(!this.expr[ue].equals(ne.expr[ue]))return!1;return!0}return!1}substituteConstants(){const ne=ie(this.expr);return ne===this.expr?this:de.create(ne,this.negated,!1)}evaluate(ne){for(let ue=0,we=this.expr.length;ue<we;ue++)if(this.expr[ue].evaluate(ne))return!0;return!1}static _normalizeArr(ne,ue,we){let Me=[],Ve=!1;if(ne){for(let $e=0,it=ne.length;$e<it;$e++){const He=ne[$e];if(He){if(0===He.type){Ve=!0;continue}if(1===He.type)return j.INSTANCE;if(9===He.type){Me=Me.concat(He.expr);continue}Me.push(He)}}if(0===Me.length&&Ve)return L.INSTANCE;Me.sort(H)}if(0!==Me.length){if(1===Me.length)return Me[0];for(let $e=1;$e<Me.length;$e++)Me[$e-1].equals(Me[$e])&&(Me.splice($e,1),$e--);if(1===Me.length)return Me[0];if(we){for(let $e=0;$e<Me.length;$e++)for(let it=$e+1;it<Me.length;it++)if(Me[$e].negate().equals(Me[it]))return j.INSTANCE;if(1===Me.length)return Me[0]}return new de(Me,ue)}}serialize(){return this.expr.map(ne=>ne.serialize()).join(" || ")}keys(){const ne=[];for(const ue of this.expr)ne.push(...ue.keys());return ne}negate(){if(!this.negated){const ne=[];for(const ue of this.expr)ne.push(ue.negate());for(;ne.length>1;){const ue=ne.shift(),we=ne.shift(),Me=[];for(const Ve of Se(ue))for(const $e of Se(we))Me.push(ae.create([Ve,$e],null,!1));ne.unshift(de.create(Me,null,!1))}this.negated=de.create(ne,this,!0)}return this.negated}}let se=(()=>{class Ie extends Z{static all(){return Ie._info.values()}constructor(ue,we,Me){super(ue,null),this._defaultValue=we,"object"==typeof Me?Ie._info.push({...Me,key:ue}):!0!==Me&&Ie._info.push({key:ue,description:Me,type:null!=we?typeof we:void 0})}bindTo(ue){return ue.createKey(this.key,this._defaultValue)}getValue(ue){return ue.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(ue){return te.create(this.key,ue)}}return Ie._info=[],Ie})();const ge=(0,D.u1)("contextKeyService");function _e(Ie,ne){return Ie<ne?-1:Ie>ne?1:0}function ye(Ie,ne,ue,we){return Ie<ue?-1:Ie>ue?1:ne<we?-1:ne>we?1:0}function M(Ie,ne){if(0===Ie.type||1===ne.type)return!0;if(9===Ie.type)return 9===ne.type&&ce(Ie.expr,ne.expr);if(9===ne.type){for(const ue of ne.expr)if(M(Ie,ue))return!0;return!1}if(6===Ie.type){if(6===ne.type)return ce(ne.expr,Ie.expr);for(const ue of Ie.expr)if(M(ue,ne))return!0;return!1}return Ie.equals(ne)}function ce(Ie,ne){let ue=0,we=0;for(;ue<Ie.length&&we<ne.length;){const Me=Ie[ue].cmp(ne[we]);if(Me<0)return!1;0===Me&&ue++,we++}return ue===Ie.length}function Se(Ie){return 9===Ie.type?Ie.expr:[Ie]}},81297:(tt,xe,t)=>{t.d(xe,{J7:()=>r,W0:()=>b,aV:()=>d,nd:()=>S});var a=t(21828),F=t(81644),w=t(50168);new w.N1("isMac",a.zx,(0,F.kg)("isMac","Whether the operating system is macOS")),new w.N1("isLinux",a.j9,(0,F.kg)("isLinux","Whether the operating system is Linux"));const S=new w.N1("isWindows",a.uF,(0,F.kg)("isWindows","Whether the operating system is Windows")),b=new w.N1("isWeb",a.HZ,(0,F.kg)("isWeb","Whether the platform is a web browser")),d=(new w.N1("isMacNative",a.zx&&!a.HZ,(0,F.kg)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new w.N1("isIOS",a.un,(0,F.kg)("isIOS","Whether the operating system is iOS")),new w.N1("isMobile",a.Fr,(0,F.kg)("isMobile","Whether the platform is a mobile web browser")),new w.N1("isDevelopment",!1,!0),new w.N1("productQualityType","",(0,F.kg)("productQualityType","Quality type of VS Code")),"inputFocus"),r=new w.N1(d,!1,(0,F.kg)("inputFocus","Whether keyboard focus is inside an input box"))},71887:(tt,xe,t)=>{t.d(xe,{Z:()=>w,l:()=>F});var a=t(598);const F=(0,a.u1)("contextViewService"),w=(0,a.u1)("contextMenuService")},42638:(tt,xe,t)=>{t.d(xe,{X:()=>F});const F=(0,t(598).u1)("dialogService")},27487:(tt,xe,t)=>{t.d(xe,{PD:()=>C,sV:()=>F});var a=t(97018);const F={EDITORS:"CodeEditors",FILES:"CodeFiles"};a.O.add("workbench.contributions.dragAndDrop",new class w{});class C{constructor(){}static getInstance(){return C.INSTANCE}hasData(b){return b&&b===this.proto}getData(b){if(this.hasData(b))return this.data}}C.INSTANCE=new C},57558:(tt,xe,t)=>{t.d(xe,{k:()=>F});const F=(0,t(598).u1)("environmentService")},18342:(tt,xe,t)=>{t.d(xe,{pG:()=>Z,_Q:()=>te,dg:()=>A});var a=t(26878),F=t(91874),w=t(48469),x=t(34593),C=t(2673),S=t(15320),b=t(5643),D=(t(37905),t(81644)),v=t(96479);const _=D.kg("defaultLabel","input"),f=D.kg("label.preserveCaseToggle","Preserve Case");class d extends w.l{constructor(U){var q;super({icon:S.W.preserveCase,title:f+U.appendTitle,isChecked:U.isChecked,hoverDelegate:null!==(q=U.hoverDelegate)&&void 0!==q?q:(0,v.nZ)("element"),inputActiveOptionBorder:U.inputActiveOptionBorder,inputActiveOptionForeground:U.inputActiveOptionForeground,inputActiveOptionBackground:U.inputActiveOptionBackground})}}class r extends C.x{constructor(U,q,R,W){super(),this._showOptionButtons=R,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new b.vl),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new b.vl),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new b.vl),this._onInput=this._register(new b.vl),this._onKeyUp=this._register(new b.vl),this._onPreserveCaseKeyDown=this._register(new b.vl),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=q,this.placeholder=W.placeholder||"",this.validation=W.validation,this.label=W.label||_;const Y=W.appendPreserveCaseLabel||"",oe=W.history||[],z=!!W.flexibleHeight,G=!!W.flexibleWidth,Q=W.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new x.mJ(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:oe,showHistoryHint:W.showHistoryHint,flexibleHeight:z,flexibleWidth:G,flexibleMaxHeight:Q,inputBoxStyles:W.inputBoxStyles})),this.preserveCase=this._register(new d({appendTitle:Y,isChecked:!1,...W.toggleStyles})),this._register(this.preserveCase.onChange(ae=>{this._onDidOptionChange.fire(ae),!ae&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(ae=>{this._onPreserveCaseKeyDown.fire(ae)})),this.cachedOptionsWidth=this._showOptionButtons?this.preserveCase.width():0;const K=[this.preserveCase.domNode];this.onkeydown(this.domNode,ae=>{if(ae.equals(15)||ae.equals(17)||ae.equals(9)){const de=K.indexOf(this.domNode.ownerDocument.activeElement);if(de>=0){let se=-1;ae.equals(17)?se=(de+1)%K.length:ae.equals(15)&&(se=0===de?K.length-1:de-1),ae.equals(9)?(K[de].blur(),this.inputBox.focus()):se>=0&&K[se].focus(),F.fs.stop(ae,!0)}}});const ie=document.createElement("div");ie.className="controls",ie.style.display=this._showOptionButtons?"block":"none",ie.appendChild(this.preserveCase.domNode),this.domNode.appendChild(ie),U?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,ae=>this._onKeyDown.fire(ae)),this.onkeyup(this.inputBox.inputElement,ae=>this._onKeyUp.fire(ae)),this.oninput(this.inputBox.inputElement,ae=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,ae=>this._onMouseDown.fire(ae))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(U){U?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(U){this.preserveCase.checked=U}focusOnPreserve(){this.preserveCase.focus()}validate(){var U;null===(U=this.inputBox)||void 0===U||U.validate()}set width(U){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=U+"px"}dispose(){super.dispose()}}var l=t(50168),g=t(36246),p=t(99031),m=function(X,U,q,R){var oe,W=arguments.length,Y=W<3?U:null===R?R=Object.getOwnPropertyDescriptor(U,q):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(X,U,q,R);else for(var z=X.length-1;z>=0;z--)(oe=X[z])&&(Y=(W<3?oe(Y):W>3?oe(U,q,Y):oe(U,q))||Y);return W>3&&Y&&Object.defineProperty(U,q,Y),Y},T=function(X,U){return function(q,R){U(q,R,X)}};const A=new l.N1("suggestWidgetVisible",!1,(0,D.kg)("suggestWidgetVisible","Whether suggestion are visible")),k="historyNavigationWidgetFocus",O="historyNavigationForwardsEnabled",N="historyNavigationBackwardsEnabled";let H;const L=[];function j(X,U){if(L.includes(U))throw new Error("Cannot register the same widget multiple times");L.push(U);const q=new p.Cm,R=new l.N1(k,!1).bindTo(X),W=new l.N1(O,!0).bindTo(X),Y=new l.N1(N,!0).bindTo(X),oe=()=>{R.set(!0),H=U},z=()=>{R.set(!1),H===U&&(H=void 0)};return(0,F.X7)(U.element)&&oe(),q.add(U.onDidFocus(()=>oe())),q.add(U.onDidBlur(()=>z())),q.add((0,p.s)(()=>{L.splice(L.indexOf(U),1),z()})),{historyNavigationForwardsEnablement:W,historyNavigationBackwardsEnablement:Y,dispose(){q.dispose()}}}let Z=class extends a.c{constructor(U,q,R,W){super(U,q,R);const Y=this._register(W.createScoped(this.inputBox.element));this._register(j(Y,this.inputBox))}};Z=m([T(3,l.fN)],Z);let te=class extends r{constructor(U,q,R,W,Y=!1){super(U,q,Y,R);const oe=this._register(W.createScoped(this.inputBox.element));this._register(j(oe,this.inputBox))}};te=m([T(3,l.fN)],te),g.f.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:l.M$.and(l.M$.has(k),l.M$.equals(N,!0),l.M$.not("isComposing"),A.isEqualTo(!1)),primary:16,secondary:[528],handler:X=>{H?.showPreviousValue()}}),g.f.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:l.M$.and(l.M$.has(k),l.M$.equals(O,!0),l.M$.not("isComposing"),A.isEqualTo(!1)),primary:18,secondary:[530],handler:X=>{H?.showNextValue()}})},79759:(tt,xe,t)=>{t.d(xe,{TN:()=>b,fO:()=>P});var a=t(598),F=t(99031),w=t(35072),x=t(91874),S=function(v,_){return function(f,d){_(f,d,v)}};const b=(0,a.u1)("hoverService");let P=class extends F.jG{get delay(){return this.isInstantlyHovering()?0:this._delay}constructor(_,f,d={},r,l){super(),this.placement=_,this.instantHover=f,this.overrideOptions=d,this.configurationService=r,this.hoverService=l,this.lastHoverHideTime=0,this.timeLimit=200,this.hoverDisposables=this._register(new F.Cm),this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(g=>{g.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}showHover(_,f){const d="function"==typeof this.overrideOptions?this.overrideOptions(_,f):this.overrideOptions;this.hoverDisposables.clear();const r=(0,x.sb)(_.target)?[_.target]:_.target.targetElements;for(const g of r)this.hoverDisposables.add((0,x.b2)(g,"keydown",p=>{p.equals(9)&&this.hoverService.hideHover()}));const l=(0,x.sb)(_.content)?void 0:_.content.toString();return this.hoverService.showHover({..._,...d,persistence:{hideOnKeyDown:!0,...d.persistence},id:l,appearance:{..._.appearance,compact:!0,skipFadeInAnimation:this.isInstantlyHovering(),...d.appearance}},f)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};P=function(v,_,f,d){var g,r=arguments.length,l=r<3?_:null===d?d=Object.getOwnPropertyDescriptor(_,f):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(v,_,f,d);else for(var p=v.length-1;p>=0;p--)(g=v[p])&&(l=(r<3?g(l):r>3?g(_,f,l):g(_,f))||l);return r>3&&l&&Object.defineProperty(_,f,l),l}([S(3,w.pG),S(4,b)],P)},54865:(tt,xe,t)=>{t.d(xe,{d:()=>a});class a{constructor(w,x=[],C=!1){this.ctor=w,this.staticArguments=x,this.supportsDelayedInstantiation=C}}},56789:(tt,xe,t)=>{t.d(xe,{N:()=>x,v:()=>w});var a=t(54865);const F=[];function w(C,S,b){S instanceof a.d||(S=new a.d(S,[],!!b)),F.push([C,S])}function x(){return F}},598:(tt,xe,t)=>{var a,C;t.d(xe,{_$:()=>a,_Y:()=>F,u1:()=>x}),(C=a||(a={})).serviceIds=new Map,C.DI_TARGET="$di$target",C.DI_DEPENDENCIES="$di$dependencies",C.getServiceDependencies=function S(b){return b[C.DI_DEPENDENCIES]||[]};const F=x("instantiationService");function x(C){if(a.serviceIds.has(C))return a.serviceIds.get(C);const S=function(b,P,D){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function w(C,S,b){S[a.DI_TARGET]===S?S[a.DI_DEPENDENCIES].push({id:C,index:b}):(S[a.DI_DEPENDENCIES]=[{id:C,index:b}],S[a.DI_TARGET]=S)}(S,b,D)};return S.toString=()=>C,a.serviceIds.set(C,S),S}},41424:(tt,xe,t)=>{t.d(xe,{a:()=>a});class a{constructor(...w){this._entries=new Map;for(const[x,C]of w)this.set(x,C)}set(w,x){const C=this._entries.get(w);return this._entries.set(w,x),C}get(w){return this._entries.get(w)}}},54027:(tt,xe,t)=>{t.d(xe,{F:()=>w});var a=t(5643),F=t(97018);const w={JSONContribution:"base.contributions.json"},S=new class C{constructor(){this._onDidChangeSchema=new a.vl,this.schemasById={}}registerSchema(P,D){this.schemasById[function x(b){return b.length>0&&"#"===b.charAt(b.length-1)?b.substring(0,b.length-1):b}(P)]=D,this._onDidChangeSchema.fire(P)}notifySchemaChanged(P){this._onDidChangeSchema.fire(P)}};F.O.add(w.JSONContribution,S)},59002:(tt,xe,t)=>{t.d(xe,{b:()=>F});const F=(0,t(598).u1)("keybindingService")},36246:(tt,xe,t)=>{t.d(xe,{f:()=>P});var a=t(89430),F=t(21828),w=t(51126),x=t(97018),C=t(99031),S=t(18002);class b{constructor(){this._coreKeybindings=new S.w,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(f){if(1===F.OS){if(f&&f.win)return f.win}else if(2===F.OS){if(f&&f.mac)return f.mac}else if(f&&f.linux)return f.linux;return f}registerKeybindingRule(f){const d=b.bindToCurrentPlatform(f),r=new C.Cm;if(d&&d.primary){const l=(0,a.Zv)(d.primary,F.OS);l&&r.add(this._registerDefaultKeybinding(l,f.id,f.args,f.weight,0,f.when))}if(d&&Array.isArray(d.secondary))for(let l=0,g=d.secondary.length;l<g;l++){const m=(0,a.Zv)(d.secondary[l],F.OS);m&&r.add(this._registerDefaultKeybinding(m,f.id,f.args,f.weight,-l-1,f.when))}return r}registerCommandAndKeybindingRule(f){return(0,C.qE)(this.registerKeybindingRule(f),w.w.registerCommand(f))}_registerDefaultKeybinding(f,d,r,l,g,p){const m=this._coreKeybindings.push({keybinding:f,command:d,commandArgs:r,when:p,weight1:l,weight2:g,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,C.s)(()=>{m(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(v)),this._cachedMergedKeybindings.slice(0)}}const P=new b;function v(_,f){if(_.weight1!==f.weight1)return _.weight1-f.weight1;if(_.command&&f.command){if(_.command<f.command)return-1;if(_.command>f.command)return 1}return _.weight2-f.weight2}x.O.add("platform.keybindingsRegistry",P)},7964:(tt,xe,t)=>{t.d(xe,{L:()=>F});const F=(0,t(598).u1)("labelService")},78153:(tt,xe,t)=>{t.d(xe,{PE:()=>tn,aG:()=>bn,er:()=>hn,YD:()=>yi,zL:()=>At,Nf:()=>Tt,cH:()=>Ct});var a=t(91874),F=t(30833),w=t(21468),x=t(5643),C=t(99031),b=(t(67119),t(87291));class P{get templateId(){return this.renderer.templateId}constructor(Ue,Dt){this.renderer=Ue,this.modelProvider=Dt}renderTemplate(Ue){return{data:this.renderer.renderTemplate(Ue),disposable:C.jG.None}}renderElement(Ue,Dt,nn,pn){var Zt;if(null===(Zt=nn.disposable)||void 0===Zt||Zt.dispose(),!nn.data)return;const xn=this.modelProvider();if(xn.isResolved(Ue))return this.renderer.renderElement(xn.get(Ue),Ue,nn.data,pn);const Jn=new w.Qi,pi=xn.resolve(Ue,Jn.token);nn.disposable={dispose:()=>Jn.cancel()},this.renderer.renderPlaceholder(Ue,nn.data),pi.then(Ti=>this.renderer.renderElement(Ti,Ue,nn.data,pn))}disposeTemplate(Ue){Ue.disposable&&(Ue.disposable.dispose(),Ue.disposable=void 0),Ue.data&&(this.renderer.disposeTemplate(Ue.data),Ue.data=void 0)}}class D{constructor(Ue,Dt){this.modelProvider=Ue,this.accessibilityProvider=Dt}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(Ue){const Dt=this.modelProvider();return Dt.isResolved(Ue)?this.accessibilityProvider.getAriaLabel(Dt.get(Ue)):null}}class _{constructor(Ue,Dt,nn,pn,Zt={}){const xn=()=>this.model,Jn=pn.map(pi=>new P(pi,xn));this.list=new b.B8(Ue,Dt,nn,Jn,function v(yn,Ue){return{...Ue,accessibilityProvider:Ue.accessibilityProvider&&new D(yn,Ue.accessibilityProvider)}}(xn,Zt))}updateOptions(Ue){this.list.updateOptions(Ue)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return x.Jh.map(this.list.onMouseDblClick,({element:Ue,index:Dt,browserEvent:nn})=>({element:void 0===Ue?void 0:this._model.get(Ue),index:Dt,browserEvent:nn}))}get onPointer(){return x.Jh.map(this.list.onPointer,({element:Ue,index:Dt,browserEvent:nn})=>({element:void 0===Ue?void 0:this._model.get(Ue),index:Dt,browserEvent:nn}))}get onDidChangeSelection(){return x.Jh.map(this.list.onDidChangeSelection,({elements:Ue,indexes:Dt,browserEvent:nn})=>({elements:Ue.map(pn=>this._model.get(pn)),indexes:Dt,browserEvent:nn}))}get model(){return this._model}set model(Ue){this._model=Ue,this.list.splice(0,this.list.length,(0,F.y1)(Ue.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(Ue=>this.model.get(Ue))}style(Ue){this.list.style(Ue)}dispose(){this.list.dispose()}}var f=t(42371),d=t(96479),r=t(72683),l=t(85072),g=t.n(l),p=t(97825),m=t.n(p),T=t(77659),A=t.n(T),k=t(55056),O=t.n(k),N=t(10540),H=t.n(N),L=t(41113),j=t.n(L),Z=t(94234),te={};te.styleTagTransform=j(),te.setAttributes=O(),te.insert=A().bind(null,"head"),te.domAPI=m(),te.insertStyleElement=H(),g()(Z.A,te);let q=(()=>{class yn{constructor(Dt,nn,pn){this.columns=Dt,this.getColumnSize=pn,this.templateId=yn.TemplateId,this.renderedTemplates=new Set;const Zt=new Map(nn.map(xn=>[xn.templateId,xn]));this.renderers=[];for(const xn of Dt){const Jn=Zt.get(xn.templateId);if(!Jn)throw new Error(`Table cell renderer for template id ${xn.templateId} not found.`);this.renderers.push(Jn)}}renderTemplate(Dt){const nn=(0,a.BC)(Dt,(0,a.$)(".monaco-table-tr")),pn=[],Zt=[];for(let Jn=0;Jn<this.columns.length;Jn++){const pi=this.renderers[Jn],Ti=(0,a.BC)(nn,(0,a.$)(".monaco-table-td",{"data-col-index":Jn}));Ti.style.width=`${this.getColumnSize(Jn)}px`,pn.push(Ti),Zt.push(pi.renderTemplate(Ti))}const xn={container:Dt,cellContainers:pn,cellTemplateData:Zt};return this.renderedTemplates.add(xn),xn}renderElement(Dt,nn,pn,Zt){for(let xn=0;xn<this.columns.length;xn++){const pi=this.columns[xn].project(Dt);this.renderers[xn].renderElement(pi,nn,pn.cellTemplateData[xn],Zt)}}disposeElement(Dt,nn,pn,Zt){for(let xn=0;xn<this.columns.length;xn++){const Jn=this.renderers[xn];if(Jn.disposeElement){const Ti=this.columns[xn].project(Dt);Jn.disposeElement(Ti,nn,pn.cellTemplateData[xn],Zt)}}}disposeTemplate(Dt){for(let nn=0;nn<this.columns.length;nn++)this.renderers[nn].disposeTemplate(Dt.cellTemplateData[nn]);(0,a.w_)(Dt.container),this.renderedTemplates.delete(Dt)}layoutColumn(Dt,nn){for(const{cellContainers:pn}of this.renderedTemplates)pn[Dt].style.width=`${nn}px`}}return yn.TemplateId="row",yn})();class W extends C.jG{get minimumSize(){var Ue;return null!==(Ue=this.column.minimumWidth)&&void 0!==Ue?Ue:120}get maximumSize(){var Ue;return null!==(Ue=this.column.maximumWidth)&&void 0!==Ue?Ue:Number.POSITIVE_INFINITY}get onDidChange(){var Ue;return null!==(Ue=this.column.onDidChangeWidthConstraints)&&void 0!==Ue?Ue:x.Jh.None}constructor(Ue,Dt){super(),this.column=Ue,this.index=Dt,this._onDidLayout=new x.vl,this.onDidLayout=this._onDidLayout.event,this.element=(0,a.$)(".monaco-table-th",{"data-col-index":Dt},Ue.label),Ue.tooltip&&this._register((0,f.i)().setupUpdatableHover((0,d.nZ)("mouse"),this.element,Ue.tooltip))}layout(Ue){this._onDidLayout.fire([this.index,Ue])}}let Y=(()=>{class yn{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(Dt){this.list.scrollTop=Dt}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(Dt,nn,pn,Zt,xn,Jn){this.virtualDelegate=pn,this.domId="table_id_"+ ++yn.InstanceCount,this.disposables=new C.Cm,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,a.BC)(nn,(0,a.$)(`.monaco-table.${this.domId}`));const pi=Zt.map((Li,Fi)=>this.disposables.add(new W(Li,Fi))),Ti={size:pi.reduce((Li,Fi)=>Li+Fi.column.weight,0),views:pi.map(Li=>({size:Li.column.weight,view:Li}))};this.splitview=this.disposables.add(new r.U(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:Ti})),this.splitview.el.style.height=`${pn.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${pn.headerRowHeight}px`;const Ni=new q(Zt,xn,Li=>this.splitview.getViewSize(Li));this.list=this.disposables.add(new b.B8(Dt,this.domNode,function R(yn){return{getHeight:Ue=>yn.getHeight(Ue),getTemplateId:()=>q.TemplateId}}(pn),[Ni],Jn)),x.Jh.any(...pi.map(Li=>Li.onDidLayout))(([Li,Fi])=>Ni.layoutColumn(Li,Fi),null,this.disposables),this.splitview.onDidSashReset(Li=>{const Fi=Zt.reduce((Gi,Ui)=>Gi+Ui.weight,0);this.splitview.resizeView(Li,Zt[Li].weight/Fi*this.cachedWidth)},null,this.disposables),this.styleElement=(0,a.li)(this.domNode),this.style(b.bG)}updateOptions(Dt){this.list.updateOptions(Dt)}splice(Dt,nn,pn=[]){this.list.splice(Dt,nn,pn)}getHTMLElement(){return this.domNode}style(Dt){const nn=[];nn.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=nn.join("\n"),this.list.style(Dt)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}return yn.InstanceCount=0,yn})();var oe=t(35481),z=t(10467),G=t(83565),Q=t(99953),K=t(12028),ie=t(28481);class ae{constructor(Ue,Dt,nn={}){this.user=Ue,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new Q.G6(Ue,Dt,null,nn),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,nn.sorter&&(this.sorter={compare:(pn,Zt)=>nn.sorter.compare(pn.element,Zt.element)}),this.identityProvider=nn.identityProvider}setChildren(Ue,Dt=ie.f.empty(),nn={}){const pn=this.getElementLocation(Ue);this._setChildren(pn,this.preserveCollapseState(Dt),nn)}_setChildren(Ue,Dt=ie.f.empty(),nn){const pn=new Set,Zt=new Set;this.model.splice([...Ue,0],Number.MAX_VALUE,Dt,{...nn,onDidCreateNode:pi=>{var Ti;if(null===pi.element)return;const Ni=pi;if(pn.add(Ni.element),this.nodes.set(Ni.element,Ni),this.identityProvider){const Li=this.identityProvider.getId(Ni.element).toString();Zt.add(Li),this.nodesByIdentity.set(Li,Ni)}null===(Ti=nn.onDidCreateNode)||void 0===Ti||Ti.call(nn,Ni)},onDidDeleteNode:pi=>{var Ti;if(null===pi.element)return;const Ni=pi;if(pn.has(Ni.element)||this.nodes.delete(Ni.element),this.identityProvider){const Li=this.identityProvider.getId(Ni.element).toString();Zt.has(Li)||this.nodesByIdentity.delete(Li)}null===(Ti=nn.onDidDeleteNode)||void 0===Ti||Ti.call(nn,Ni)}})}preserveCollapseState(Ue=ie.f.empty()){return this.sorter&&(Ue=[...Ue].sort(this.sorter.compare.bind(this.sorter))),ie.f.map(Ue,Dt=>{let nn=this.nodes.get(Dt.element);if(!nn&&this.identityProvider){const xn=this.identityProvider.getId(Dt.element).toString();nn=this.nodesByIdentity.get(xn)}if(!nn){let xn;return xn=typeof Dt.collapsed>"u"?void 0:Dt.collapsed===K.Yo.Collapsed||Dt.collapsed===K.Yo.PreserveOrCollapsed||Dt.collapsed!==K.Yo.Expanded&&Dt.collapsed!==K.Yo.PreserveOrExpanded&&!!Dt.collapsed,{...Dt,children:this.preserveCollapseState(Dt.children),collapsed:xn}}const pn="boolean"==typeof Dt.collapsible?Dt.collapsible:nn.collapsible;let Zt;return Zt=typeof Dt.collapsed>"u"||Dt.collapsed===K.Yo.PreserveOrCollapsed||Dt.collapsed===K.Yo.PreserveOrExpanded?nn.collapsed:Dt.collapsed===K.Yo.Collapsed||Dt.collapsed!==K.Yo.Expanded&&!!Dt.collapsed,{...Dt,collapsible:pn,collapsed:Zt,children:this.preserveCollapseState(Dt.children)}})}rerender(Ue){const Dt=this.getElementLocation(Ue);this.model.rerender(Dt)}getFirstElementChild(Ue=null){const Dt=this.getElementLocation(Ue);return this.model.getFirstElementChild(Dt)}has(Ue){return this.nodes.has(Ue)}getListIndex(Ue){const Dt=this.getElementLocation(Ue);return this.model.getListIndex(Dt)}getListRenderCount(Ue){const Dt=this.getElementLocation(Ue);return this.model.getListRenderCount(Dt)}isCollapsible(Ue){const Dt=this.getElementLocation(Ue);return this.model.isCollapsible(Dt)}setCollapsible(Ue,Dt){const nn=this.getElementLocation(Ue);return this.model.setCollapsible(nn,Dt)}isCollapsed(Ue){const Dt=this.getElementLocation(Ue);return this.model.isCollapsed(Dt)}setCollapsed(Ue,Dt,nn){const pn=this.getElementLocation(Ue);return this.model.setCollapsed(pn,Dt,nn)}expandTo(Ue){const Dt=this.getElementLocation(Ue);this.model.expandTo(Dt)}refilter(){this.model.refilter()}getNode(Ue=null){if(null===Ue)return this.model.getNode(this.model.rootRef);const Dt=this.nodes.get(Ue);if(!Dt)throw new K.jh(this.user,`Tree element not found: ${Ue}`);return Dt}getNodeLocation(Ue){return Ue.element}getParentNodeLocation(Ue){if(null===Ue)throw new K.jh(this.user,"Invalid getParentNodeLocation call");const Dt=this.nodes.get(Ue);if(!Dt)throw new K.jh(this.user,`Tree element not found: ${Ue}`);const nn=this.model.getNodeLocation(Dt),pn=this.model.getParentNodeLocation(nn);return this.model.getNode(pn).element}getElementLocation(Ue){if(null===Ue)return[];const Dt=this.nodes.get(Ue);if(!Dt)throw new K.jh(this.user,`Tree element not found: ${Ue}`);return this.model.getNodeLocation(Dt)}}function de(yn){return{element:{elements:[yn.element],incompressible:yn.incompressible||!1},children:ie.f.map(ie.f.from(yn.children),de),collapsible:yn.collapsible,collapsed:yn.collapsed}}function se(yn){const Ue=[yn.element],Dt=yn.incompressible||!1;let nn,pn;for(;[pn,nn]=ie.f.consume(ie.f.from(yn.children),2),1===pn.length&&!pn[0].incompressible;)Ue.push((yn=pn[0]).element);return{element:{elements:Ue,incompressible:Dt},children:ie.f.map(ie.f.concat(pn,nn),se),collapsible:yn.collapsible,collapsed:yn.collapsed}}function ge(yn,Ue=0){let Dt;return Dt=Ue<yn.element.elements.length-1?[ge(yn,Ue+1)]:ie.f.map(ie.f.from(yn.children),nn=>ge(nn,0)),0===Ue&&yn.element.incompressible?{element:yn.element.elements[Ue],children:Dt,incompressible:!0,collapsible:yn.collapsible,collapsed:yn.collapsed}:{element:yn.element.elements[Ue],children:Dt,collapsible:yn.collapsible,collapsed:yn.collapsed}}function _e(yn){return ge(yn,0)}function ye(yn,Ue,Dt){return yn.element===Ue?{...yn,children:Dt}:{...yn,children:ie.f.map(ie.f.from(yn.children),nn=>ye(nn,Ue,Dt))}}class ce{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(Ue,Dt,nn={}){this.user=Ue,this.rootRef=null,this.nodes=new Map,this.model=new ae(Ue,Dt,nn),this.enabled=typeof nn.compressionEnabled>"u"||nn.compressionEnabled,this.identityProvider=nn.identityProvider}setChildren(Ue,Dt=ie.f.empty(),nn){const pn=nn.diffIdentityProvider&&(yn=nn.diffIdentityProvider,{getId:Ue=>Ue.elements.map(Dt=>yn.getId(Dt).toString()).join("\0")});var yn;if(null===Ue){const Gi=ie.f.map(Dt,this.enabled?se:de);return void this._setChildren(null,Gi,{diffIdentityProvider:pn,diffDepth:1/0})}const Zt=this.nodes.get(Ue);if(!Zt)throw new K.jh(this.user,"Unknown compressed tree node");const xn=this.model.getNode(Zt),Jn=this.model.getParentNodeLocation(Zt),pi=this.model.getNode(Jn),Ni=ye(_e(xn),Ue,Dt),Li=(this.enabled?se:de)(Ni);if((0,F.aI)(Li.element.elements,xn.element.elements,nn.diffIdentityProvider?(Gi,Ui)=>nn.diffIdentityProvider.getId(Gi)===nn.diffIdentityProvider.getId(Ui):void 0))return void this._setChildren(Zt,Li.children||ie.f.empty(),{diffIdentityProvider:pn,diffDepth:1});const vi=pi.children.map(Gi=>Gi===xn?Li:Gi);this._setChildren(pi.element,vi,{diffIdentityProvider:pn,diffDepth:xn.depth-pi.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(Ue){if(Ue===this.enabled)return;this.enabled=Ue;const nn=this.model.getNode().children,pn=ie.f.map(nn,_e),Zt=ie.f.map(pn,Ue?se:de);this._setChildren(null,Zt,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(Ue,Dt,nn){const pn=new Set;this.model.setChildren(Ue,Dt,{...nn,onDidCreateNode:Jn=>{for(const pi of Jn.element.elements)pn.add(pi),this.nodes.set(pi,Jn.element)},onDidDeleteNode:Jn=>{for(const pi of Jn.element.elements)pn.has(pi)||this.nodes.delete(pi)}})}has(Ue){return this.nodes.has(Ue)}getListIndex(Ue){const Dt=this.getCompressedNode(Ue);return this.model.getListIndex(Dt)}getListRenderCount(Ue){const Dt=this.getCompressedNode(Ue);return this.model.getListRenderCount(Dt)}getNode(Ue){if(typeof Ue>"u")return this.model.getNode();const Dt=this.getCompressedNode(Ue);return this.model.getNode(Dt)}getNodeLocation(Ue){const Dt=this.model.getNodeLocation(Ue);return null===Dt?null:Dt.elements[Dt.elements.length-1]}getParentNodeLocation(Ue){const Dt=this.getCompressedNode(Ue),nn=this.model.getParentNodeLocation(Dt);return null===nn?null:nn.elements[nn.elements.length-1]}getFirstElementChild(Ue){const Dt=this.getCompressedNode(Ue);return this.model.getFirstElementChild(Dt)}isCollapsible(Ue){const Dt=this.getCompressedNode(Ue);return this.model.isCollapsible(Dt)}setCollapsible(Ue,Dt){const nn=this.getCompressedNode(Ue);return this.model.setCollapsible(nn,Dt)}isCollapsed(Ue){const Dt=this.getCompressedNode(Ue);return this.model.isCollapsed(Dt)}setCollapsed(Ue,Dt,nn){const pn=this.getCompressedNode(Ue);return this.model.setCollapsed(pn,Dt,nn)}expandTo(Ue){const Dt=this.getCompressedNode(Ue);this.model.expandTo(Dt)}rerender(Ue){const Dt=this.getCompressedNode(Ue);this.model.rerender(Dt)}refilter(){this.model.refilter()}getCompressedNode(Ue){if(null===Ue)return null;const Dt=this.nodes.get(Ue);if(!Dt)throw new K.jh(this.user,`Tree element not found: ${Ue}`);return Dt}}const Se=yn=>yn[yn.length-1];class Ie{get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(Ue=>new Ie(this.unwrapper,Ue))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(Ue,Dt){this.unwrapper=Ue,this.node=Dt}}class we{get onDidSplice(){return x.Jh.map(this.model.onDidSplice,({insertedNodes:Ue,deletedNodes:Dt})=>({insertedNodes:Ue.map(nn=>this.nodeMapper.map(nn)),deletedNodes:Dt.map(nn=>this.nodeMapper.map(nn))}))}get onDidChangeCollapseState(){return x.Jh.map(this.model.onDidChangeCollapseState,({node:Ue,deep:Dt})=>({node:this.nodeMapper.map(Ue),deep:Dt}))}get onDidChangeRenderNodeCount(){return x.Jh.map(this.model.onDidChangeRenderNodeCount,Ue=>this.nodeMapper.map(Ue))}constructor(Ue,Dt,nn={}){this.rootRef=null,this.elementMapper=nn.elementMapper||Se;const pn=Zt=>this.elementMapper(Zt.elements);this.nodeMapper=new K.y2(Zt=>new Ie(pn,Zt)),this.model=new ce(Ue,function ne(yn,Ue){return{splice(Dt,nn,pn){Ue.splice(Dt,nn,pn.map(Zt=>yn.map(Zt)))},updateElementHeight(Dt,nn){Ue.updateElementHeight(Dt,nn)}}}(this.nodeMapper,Dt),function ue(yn,Ue){return{...Ue,identityProvider:Ue.identityProvider&&{getId:Dt=>Ue.identityProvider.getId(yn(Dt))},sorter:Ue.sorter&&{compare:(Dt,nn)=>Ue.sorter.compare(Dt.elements[0],nn.elements[0])},filter:Ue.filter&&{filter:(Dt,nn)=>Ue.filter.filter(yn(Dt),nn)}}}(pn,nn))}setChildren(Ue,Dt=ie.f.empty(),nn={}){this.model.setChildren(Ue,Dt,nn)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(Ue){this.model.setCompressionEnabled(Ue)}has(Ue){return this.model.has(Ue)}getListIndex(Ue){return this.model.getListIndex(Ue)}getListRenderCount(Ue){return this.model.getListRenderCount(Ue)}getNode(Ue){return this.nodeMapper.map(this.model.getNode(Ue))}getNodeLocation(Ue){return Ue.element}getParentNodeLocation(Ue){return this.model.getParentNodeLocation(Ue)}getFirstElementChild(Ue){const Dt=this.model.getFirstElementChild(Ue);return null===Dt||typeof Dt>"u"?Dt:this.elementMapper(Dt.elements)}isCollapsible(Ue){return this.model.isCollapsible(Ue)}setCollapsible(Ue,Dt){return this.model.setCollapsible(Ue,Dt)}isCollapsed(Ue){return this.model.isCollapsed(Ue)}setCollapsed(Ue,Dt,nn){return this.model.setCollapsed(Ue,Dt,nn)}expandTo(Ue){return this.model.expandTo(Ue)}rerender(Ue){return this.model.rerender(Ue)}refilter(){return this.model.refilter()}getCompressedTreeNode(Ue=null){return this.model.getNode(Ue)}}var Me=t(17353);class $e extends oe.DO{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(Ue,Dt,nn,pn,Zt={}){super(Ue,Dt,nn,pn,Zt),this.user=Ue}setChildren(Ue,Dt=ie.f.empty(),nn){this.model.setChildren(Ue,Dt,nn)}rerender(Ue){void 0!==Ue?this.model.rerender(Ue):this.view.rerender()}hasElement(Ue){return this.model.has(Ue)}createModel(Ue,Dt,nn){return new ae(Ue,Dt,nn)}}class it{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(Ue,Dt,nn){this._compressedTreeNodeProvider=Ue,this.stickyScrollDelegate=Dt,this.renderer=nn,this.templateId=nn.templateId,nn.onDidChangeTwistieState&&(this.onDidChangeTwistieState=nn.onDidChangeTwistieState)}renderTemplate(Ue){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(Ue)}}renderElement(Ue,Dt,nn,pn){let Zt=this.stickyScrollDelegate.getCompressedNode(Ue);Zt||(Zt=this.compressedTreeNodeProvider.getCompressedTreeNode(Ue.element)),1===Zt.element.elements.length?(nn.compressedTreeNode=void 0,this.renderer.renderElement(Ue,Dt,nn.data,pn)):(nn.compressedTreeNode=Zt,this.renderer.renderCompressedElements(Zt,Dt,nn.data,pn))}disposeElement(Ue,Dt,nn,pn){var Zt,xn,Jn,pi;nn.compressedTreeNode?null===(xn=(Zt=this.renderer).disposeCompressedElements)||void 0===xn||xn.call(Zt,nn.compressedTreeNode,Dt,nn.data,pn):null===(pi=(Jn=this.renderer).disposeElement)||void 0===pi||pi.call(Jn,Ue,Dt,nn.data,pn)}disposeTemplate(Ue){this.renderer.disposeTemplate(Ue.data)}renderTwistie(Ue,Dt){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(Ue,Dt)}}!function(yn,Ue,Dt,nn){var xn,pn=arguments.length,Zt=pn<3?Ue:null===nn?nn=Object.getOwnPropertyDescriptor(Ue,Dt):nn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Zt=Reflect.decorate(yn,Ue,Dt,nn);else for(var Jn=yn.length-1;Jn>=0;Jn--)(xn=yn[Jn])&&(Zt=(pn<3?xn(Zt):pn>3?xn(Ue,Dt,Zt):xn(Ue,Dt))||Zt);pn>3&&Zt&&Object.defineProperty(Ue,Dt,Zt)}([Me.B],it.prototype,"compressedTreeNodeProvider",null);class He{constructor(Ue){this.modelProvider=Ue,this.compressedStickyNodes=new Map}getCompressedNode(Ue){return this.compressedStickyNodes.get(Ue)}constrainStickyScrollNodes(Ue,Dt,nn){if(this.compressedStickyNodes.clear(),0===Ue.length)return[];for(let pn=0;pn<Ue.length;pn++){const Zt=Ue[pn];if(pn+1<Ue.length&&Zt.position+Zt.height+Ue[pn+1].height>nn||pn>=Dt-1&&Dt<Ue.length){const pi=Ue.slice(0,pn),Ti=Ue.slice(pn);return[...pi,this.compressStickyNodes(Ti)]}}return Ue}compressStickyNodes(Ue){if(0===Ue.length)throw new Error("Can't compress empty sticky nodes");const Dt=this.modelProvider();if(!Dt.isCompressionEnabled())return Ue[0];const nn=[];for(let Ti=0;Ti<Ue.length;Ti++){const Li=Dt.getCompressedTreeNode(Ue[Ti].node.element);if(Li.element){if(0!==Ti&&Li.element.incompressible)break;nn.push(...Li.element.elements)}}if(nn.length<2)return Ue[0];const pn=Ue[Ue.length-1],xn={...pn.node,children:[],element:{elements:nn,incompressible:!1}},Jn=new Proxy(Ue[0].node,{}),pi={node:Jn,startIndex:Ue[0].startIndex,endIndex:pn.endIndex,position:Ue[0].position,height:Ue[0].height};return this.compressedStickyNodes.set(Jn,xn),pi}}function me(yn,Ue){return Ue&&{...Ue,keyboardNavigationLabelProvider:Ue.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(Dt){let nn;try{nn=yn().getCompressedTreeNode(Dt)}catch{return Ue.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Dt)}return 1===nn.element.elements.length?Ue.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Dt):Ue.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(nn.element.elements)}}}}class le extends $e{constructor(Ue,Dt,nn,pn,Zt={}){const xn=()=>this,Jn=new He(()=>this.model);super(Ue,Dt,nn,pn.map(Ti=>new it(xn,Jn,Ti)),{...me(xn,Zt),stickyScrollDelegate:Jn})}setChildren(Ue,Dt=ie.f.empty(),nn){this.model.setChildren(Ue,Dt,nn)}createModel(Ue,Dt,nn){return new we(Ue,Dt,nn)}updateOptions(Ue={}){super.updateOptions(Ue),typeof Ue.compressionEnabled<"u"&&this.model.setCompressionEnabled(Ue.compressionEnabled)}getCompressedTreeNode(Ue=null){return this.model.getCompressedTreeNode(Ue)}}var Ee=t(86671),be=t(15320),Ce=t(81072),Ne=t(25680),Fe=t(66702);function qe(yn){return{...yn,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function dt(yn,Ue){return!!Ue.parent&&(Ue.parent===yn||dt(yn,Ue.parent))}class fn{get element(){return this.node.element.element}get children(){return this.node.children.map(Ue=>new fn(Ue))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(Ue){this.node=Ue}}class on{constructor(Ue,Dt,nn){this.renderer=Ue,this.nodeMapper=Dt,this.onDidChangeTwistieState=nn,this.renderedNodes=new Map,this.templateId=Ue.templateId}renderTemplate(Ue){return{templateData:this.renderer.renderTemplate(Ue)}}renderElement(Ue,Dt,nn,pn){this.renderer.renderElement(this.nodeMapper.map(Ue),Dt,nn.templateData,pn)}renderTwistie(Ue,Dt){return Ue.slow?(Dt.classList.add(...Ce.L.asClassNameArray(be.W.treeItemLoading)),!0):(Dt.classList.remove(...Ce.L.asClassNameArray(be.W.treeItemLoading)),!1)}disposeElement(Ue,Dt,nn,pn){var Zt,xn;null===(xn=(Zt=this.renderer).disposeElement)||void 0===xn||xn.call(Zt,this.nodeMapper.map(Ue),Dt,nn.templateData,pn)}disposeTemplate(Ue){this.renderer.disposeTemplate(Ue.templateData)}dispose(){this.renderedNodes.clear()}}function ht(yn){return{browserEvent:yn.browserEvent,elements:yn.elements.map(Ue=>Ue.element)}}function Je(yn){return{browserEvent:yn.browserEvent,element:yn.element&&yn.element.element,target:yn.target}}class ot extends G.ur{constructor(Ue){super(Ue.elements.map(Dt=>Dt.element)),this.data=Ue}}function De(yn){return yn instanceof G.ur?new ot(yn):yn}class Qe{constructor(Ue){this.dnd=Ue}getDragURI(Ue){return this.dnd.getDragURI(Ue.element)}getDragLabel(Ue,Dt){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(Ue.map(nn=>nn.element),Dt)}onDragStart(Ue,Dt){var nn,pn;null===(pn=(nn=this.dnd).onDragStart)||void 0===pn||pn.call(nn,De(Ue),Dt)}onDragOver(Ue,Dt,nn,pn,Zt,xn=!0){return this.dnd.onDragOver(De(Ue),Dt&&Dt.element,nn,pn,Zt)}drop(Ue,Dt,nn,pn,Zt){this.dnd.drop(De(Ue),Dt&&Dt.element,nn,pn,Zt)}onDragEnd(Ue){var Dt,nn;null===(nn=(Dt=this.dnd).onDragEnd)||void 0===nn||nn.call(Dt,Ue)}dispose(){this.dnd.dispose()}}function mt(yn){return yn&&{...yn,collapseByDefault:!0,identityProvider:yn.identityProvider&&{getId:Ue=>yn.identityProvider.getId(Ue.element)},dnd:yn.dnd&&new Qe(yn.dnd),multipleSelectionController:yn.multipleSelectionController&&{isSelectionSingleChangeEvent:Ue=>yn.multipleSelectionController.isSelectionSingleChangeEvent({...Ue,element:Ue.element}),isSelectionRangeChangeEvent:Ue=>yn.multipleSelectionController.isSelectionRangeChangeEvent({...Ue,element:Ue.element})},accessibilityProvider:yn.accessibilityProvider&&{...yn.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:yn.accessibilityProvider.getRole?Ue=>yn.accessibilityProvider.getRole(Ue.element):()=>"treeitem",isChecked:yn.accessibilityProvider.isChecked?Ue=>{var Dt;return!(null===(Dt=yn.accessibilityProvider)||void 0===Dt||!Dt.isChecked(Ue.element))}:void 0,getAriaLabel:Ue=>yn.accessibilityProvider.getAriaLabel(Ue.element),getWidgetAriaLabel:()=>yn.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:yn.accessibilityProvider.getWidgetRole?()=>yn.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:yn.accessibilityProvider.getAriaLevel&&(Ue=>yn.accessibilityProvider.getAriaLevel(Ue.element)),getActiveDescendantId:yn.accessibilityProvider.getActiveDescendantId&&(Ue=>yn.accessibilityProvider.getActiveDescendantId(Ue.element))},filter:yn.filter&&{filter:(Ue,Dt)=>yn.filter.filter(Ue.element,Dt)},keyboardNavigationLabelProvider:yn.keyboardNavigationLabelProvider&&{...yn.keyboardNavigationLabelProvider,getKeyboardNavigationLabel:Ue=>yn.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ue.element)},sorter:void 0,expandOnlyOnTwistieClick:typeof yn.expandOnlyOnTwistieClick>"u"?void 0:"function"!=typeof yn.expandOnlyOnTwistieClick?yn.expandOnlyOnTwistieClick:Ue=>yn.expandOnlyOnTwistieClick(Ue.element),defaultFindVisibility:Ue=>Ue.hasChildren&&Ue.stale?1:"number"==typeof yn.defaultFindVisibility?yn.defaultFindVisibility:typeof yn.defaultFindVisibility>"u"?2:yn.defaultFindVisibility(Ue.element)}}function kt(yn,Ue){Ue(yn),yn.children.forEach(Dt=>kt(Dt,Ue))}class Ht{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return x.Jh.map(this.tree.onDidChangeFocus,ht)}get onDidChangeSelection(){return x.Jh.map(this.tree.onDidChangeSelection,ht)}get onMouseDblClick(){return x.Jh.map(this.tree.onMouseDblClick,Je)}get onPointer(){return x.Jh.map(this.tree.onPointer,Je)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(Ue,Dt,nn,pn,Zt,xn={}){this.user=Ue,this.dataSource=Zt,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new x.vl,this._onDidChangeNodeSlowState=new x.vl,this.nodeMapper=new K.y2(Jn=>new fn(Jn)),this.disposables=new C.Cm,this.identityProvider=xn.identityProvider,this.autoExpandSingleChildren=!(typeof xn.autoExpandSingleChildren>"u")&&xn.autoExpandSingleChildren,this.sorter=xn.sorter,this.getDefaultCollapseState=Jn=>xn.collapseByDefault?xn.collapseByDefault(Jn)?K.Yo.PreserveOrCollapsed:K.Yo.PreserveOrExpanded:void 0,this.tree=this.createTree(Ue,Dt,nn,pn,xn),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=qe({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(Ue,Dt,nn,pn,Zt){const xn=new oe.w0(nn),Jn=pn.map(Ti=>new on(Ti,this.nodeMapper,this._onDidChangeNodeSlowState.event)),pi=mt(Zt)||{};return new $e(Ue,Dt,xn,Jn,pi)}updateOptions(Ue={}){this.tree.updateOptions(Ue)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(Ue){this.tree.scrollTop=Ue}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(Ue,Dt){this.tree.layout(Ue,Dt)}style(Ue){this.tree.style(Ue)}getInput(){return this.root.element}setInput(Ue,Dt){var nn=this;return(0,z.A)(function*(){nn.refreshPromises.forEach(Zt=>Zt.cancel()),nn.refreshPromises.clear(),nn.root.element=Ue;const pn=Dt&&{viewState:Dt,focus:[],selection:[]};yield nn._updateChildren(Ue,!0,!1,pn),pn&&(nn.tree.setFocus(pn.focus),nn.tree.setSelection(pn.selection)),Dt&&"number"==typeof Dt.scrollTop&&(nn.scrollTop=Dt.scrollTop)})()}_updateChildren(Ue=this.root.element,Dt=!0,nn=!1,pn,Zt){var xn=this;return(0,z.A)(function*(){if(typeof xn.root.element>"u")throw new K.jh(xn.user,"Tree input not set");xn.root.refreshPromise&&(yield xn.root.refreshPromise,yield x.Jh.toPromise(xn._onDidRender.event));const Jn=xn.getDataNode(Ue);if(yield xn.refreshAndRenderNode(Jn,Dt,pn,Zt),nn)try{xn.tree.rerender(Jn)}catch{}})()}rerender(Ue){if(void 0===Ue||Ue===this.root.element)return void this.tree.rerender();const Dt=this.getDataNode(Ue);this.tree.rerender(Dt)}getNode(Ue=this.root.element){const Dt=this.getDataNode(Ue),nn=this.tree.getNode(Dt===this.root?null:Dt);return this.nodeMapper.map(nn)}collapse(Ue,Dt=!1){const nn=this.getDataNode(Ue);return this.tree.collapse(nn===this.root?null:nn,Dt)}expand(Ue,Dt=!1){var nn=this;return(0,z.A)(function*(){if(typeof nn.root.element>"u")throw new K.jh(nn.user,"Tree input not set");nn.root.refreshPromise&&(yield nn.root.refreshPromise,yield x.Jh.toPromise(nn._onDidRender.event));const pn=nn.getDataNode(Ue);if(nn.tree.hasElement(pn)&&!nn.tree.isCollapsible(pn)||(pn.refreshPromise&&(yield nn.root.refreshPromise,yield x.Jh.toPromise(nn._onDidRender.event)),pn!==nn.root&&!pn.refreshPromise&&!nn.tree.isCollapsed(pn)))return!1;const Zt=nn.tree.expand(pn===nn.root?null:pn,Dt);return pn.refreshPromise&&(yield nn.root.refreshPromise,yield x.Jh.toPromise(nn._onDidRender.event)),Zt})()}setSelection(Ue,Dt){const nn=Ue.map(pn=>this.getDataNode(pn));this.tree.setSelection(nn,Dt)}getSelection(){return this.tree.getSelection().map(Dt=>Dt.element)}setFocus(Ue,Dt){const nn=Ue.map(pn=>this.getDataNode(pn));this.tree.setFocus(nn,Dt)}getFocus(){return this.tree.getFocus().map(Dt=>Dt.element)}reveal(Ue,Dt){this.tree.reveal(this.getDataNode(Ue),Dt)}getParentElement(Ue){const Dt=this.tree.getParentElement(this.getDataNode(Ue));return Dt&&Dt.element}getFirstElementChild(Ue=this.root.element){const Dt=this.getDataNode(Ue),nn=this.tree.getFirstElementChild(Dt===this.root?null:Dt);return nn&&nn.element}getDataNode(Ue){const Dt=this.nodes.get(Ue===this.root.element?null:Ue);if(!Dt)throw new K.jh(this.user,`Data tree node not found: ${Ue}`);return Dt}refreshAndRenderNode(Ue,Dt,nn,pn){var Zt=this;return(0,z.A)(function*(){yield Zt.refreshNode(Ue,Dt,nn),!Zt.disposables.isDisposed&&Zt.render(Ue,nn,pn)})()}refreshNode(Ue,Dt,nn){var pn=this;return(0,z.A)(function*(){let Zt;return pn.subTreeRefreshPromises.forEach((xn,Jn)=>{!Zt&&function vt(yn,Ue){return yn===Ue||dt(yn,Ue)||dt(Ue,yn)}(Jn,Ue)&&(Zt=xn.then(()=>pn.refreshNode(Ue,Dt,nn)))}),Zt||(Ue!==pn.root&&pn.tree.getNode(Ue).collapsed?(Ue.hasChildren=!!pn.dataSource.hasChildren(Ue.element),Ue.stale=!0,void pn.setChildren(Ue,[],Dt,nn)):pn.doRefreshSubTree(Ue,Dt,nn))})()}doRefreshSubTree(Ue,Dt,nn){var pn=this;return(0,z.A)(function*(){let Zt;Ue.refreshPromise=new Promise(xn=>Zt=xn),pn.subTreeRefreshPromises.set(Ue,Ue.refreshPromise),Ue.refreshPromise.finally(()=>{Ue.refreshPromise=void 0,pn.subTreeRefreshPromises.delete(Ue)});try{const xn=yield pn.doRefreshNode(Ue,Dt,nn);Ue.stale=!1,yield Ee.HC.settled(xn.map(Jn=>pn.doRefreshSubTree(Jn,Dt,nn)))}finally{Zt()}})()}doRefreshNode(Ue,Dt,nn){var pn=this;return(0,z.A)(function*(){let Zt;if(Ue.hasChildren=!!pn.dataSource.hasChildren(Ue.element),Ue.hasChildren){const xn=pn.doGetChildren(Ue);if((0,Fe.xZ)(xn))Zt=Promise.resolve(xn);else{const Jn=(0,Ee.wR)(800);Jn.then(()=>{Ue.slow=!0,pn._onDidChangeNodeSlowState.fire(Ue)},pi=>null),Zt=xn.finally(()=>Jn.cancel())}}else Zt=Promise.resolve(ie.f.empty());try{const xn=yield Zt;return pn.setChildren(Ue,xn,Dt,nn)}catch(xn){if(Ue!==pn.root&&pn.tree.hasElement(Ue)&&pn.tree.collapse(Ue),(0,Ne.MB)(xn))return[];throw xn}finally{Ue.slow&&(Ue.slow=!1,pn._onDidChangeNodeSlowState.fire(Ue))}})()}doGetChildren(Ue){var Dt=this;let nn=this.refreshPromises.get(Ue);if(nn)return nn;const pn=this.dataSource.getChildren(Ue.element);return(0,Fe.xZ)(pn)?this.processChildren(pn):(nn=(0,Ee.SS)((0,z.A)(function*(){return Dt.processChildren(yield pn)})),this.refreshPromises.set(Ue,nn),nn.finally(()=>{this.refreshPromises.delete(Ue)}))}_onDidChangeCollapseState({node:Ue,deep:Dt}){null!==Ue.element&&!Ue.collapsed&&Ue.element.stale&&(Dt?this.collapse(Ue.element.element):this.refreshAndRenderNode(Ue.element,!1).catch(Ne.dz))}setChildren(Ue,Dt,nn,pn){const Zt=[...Dt];if(0===Ue.children.length&&0===Zt.length)return[];const xn=new Map,Jn=new Map;for(const Ni of Ue.children)xn.set(Ni.element,Ni),this.identityProvider&&Jn.set(Ni.id,{node:Ni,collapsed:this.tree.hasElement(Ni)&&this.tree.isCollapsed(Ni)});const pi=[],Ti=Zt.map(Ni=>{const Li=!!this.dataSource.hasChildren(Ni);if(!this.identityProvider){const Ui=qe({element:Ni,parent:Ue,hasChildren:Li,defaultCollapseState:this.getDefaultCollapseState(Ni)});return Li&&Ui.defaultCollapseState===K.Yo.PreserveOrExpanded&&pi.push(Ui),Ui}const Fi=this.identityProvider.getId(Ni).toString(),vi=Jn.get(Fi);if(vi){const Ui=vi.node;return xn.delete(Ui.element),this.nodes.delete(Ui.element),this.nodes.set(Ni,Ui),Ui.element=Ni,Ui.hasChildren=Li,nn?vi.collapsed?(Ui.children.forEach(Mi=>kt(Mi,fo=>this.nodes.delete(fo.element))),Ui.children.splice(0,Ui.children.length),Ui.stale=!0):pi.push(Ui):Li&&!vi.collapsed&&pi.push(Ui),Ui}const Gi=qe({element:Ni,parent:Ue,id:Fi,hasChildren:Li,defaultCollapseState:this.getDefaultCollapseState(Ni)});return pn&&pn.viewState.focus&&pn.viewState.focus.indexOf(Fi)>-1&&pn.focus.push(Gi),pn&&pn.viewState.selection&&pn.viewState.selection.indexOf(Fi)>-1&&pn.selection.push(Gi),(pn&&pn.viewState.expanded&&pn.viewState.expanded.indexOf(Fi)>-1||Li&&Gi.defaultCollapseState===K.Yo.PreserveOrExpanded)&&pi.push(Gi),Gi});for(const Ni of xn.values())kt(Ni,Li=>this.nodes.delete(Li.element));for(const Ni of Ti)this.nodes.set(Ni.element,Ni);return Ue.children.splice(0,Ue.children.length,...Ti),Ue!==this.root&&this.autoExpandSingleChildren&&1===Ti.length&&0===pi.length&&(Ti[0].forceExpanded=!0,pi.push(Ti[0])),pi}render(Ue,Dt,nn){const pn=Ue.children.map(xn=>this.asTreeElement(xn,Dt)),Zt=nn&&{...nn,diffIdentityProvider:nn.diffIdentityProvider&&{getId:xn=>nn.diffIdentityProvider.getId(xn.element)}};this.tree.setChildren(Ue===this.root?null:Ue,pn,Zt),Ue!==this.root&&this.tree.setCollapsible(Ue,Ue.hasChildren),this._onDidRender.fire()}asTreeElement(Ue,Dt){if(Ue.stale)return{element:Ue,collapsible:Ue.hasChildren,collapsed:!0};let nn;return Dt&&Dt.viewState.expanded&&Ue.id&&Dt.viewState.expanded.indexOf(Ue.id)>-1?nn=!1:Ue.forceExpanded?(nn=!1,Ue.forceExpanded=!1):nn=Ue.defaultCollapseState,{element:Ue,children:Ue.hasChildren?ie.f.map(Ue.children,pn=>this.asTreeElement(pn,Dt)):[],collapsible:Ue.hasChildren,collapsed:nn}}processChildren(Ue){return this.sorter&&(Ue=[...Ue].sort(this.sorter.compare.bind(this.sorter))),Ue}dispose(){this.disposables.dispose(),this.tree.dispose()}}class Ft{get element(){return{elements:this.node.element.elements.map(Ue=>Ue.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(Ue=>new Ft(Ue))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(Ue){this.node=Ue}}class Bt{constructor(Ue,Dt,nn,pn){this.renderer=Ue,this.nodeMapper=Dt,this.compressibleNodeMapperProvider=nn,this.onDidChangeTwistieState=pn,this.renderedNodes=new Map,this.disposables=[],this.templateId=Ue.templateId}renderTemplate(Ue){return{templateData:this.renderer.renderTemplate(Ue)}}renderElement(Ue,Dt,nn,pn){this.renderer.renderElement(this.nodeMapper.map(Ue),Dt,nn.templateData,pn)}renderCompressedElements(Ue,Dt,nn,pn){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(Ue),Dt,nn.templateData,pn)}renderTwistie(Ue,Dt){return Ue.slow?(Dt.classList.add(...Ce.L.asClassNameArray(be.W.treeItemLoading)),!0):(Dt.classList.remove(...Ce.L.asClassNameArray(be.W.treeItemLoading)),!1)}disposeElement(Ue,Dt,nn,pn){var Zt,xn;null===(xn=(Zt=this.renderer).disposeElement)||void 0===xn||xn.call(Zt,this.nodeMapper.map(Ue),Dt,nn.templateData,pn)}disposeCompressedElements(Ue,Dt,nn,pn){var Zt,xn;null===(xn=(Zt=this.renderer).disposeCompressedElements)||void 0===xn||xn.call(Zt,this.compressibleNodeMapperProvider().map(Ue),Dt,nn.templateData,pn)}disposeTemplate(Ue){this.renderer.disposeTemplate(Ue.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,C.AS)(this.disposables)}}class Ut extends Ht{constructor(Ue,Dt,nn,pn,Zt,xn,Jn={}){super(Ue,Dt,nn,Zt,xn,Jn),this.compressionDelegate=pn,this.compressibleNodeMapper=new K.y2(pi=>new Ft(pi)),this.filter=Jn.filter}createTree(Ue,Dt,nn,pn,Zt){const xn=new oe.w0(nn),Jn=pn.map(Ti=>new Bt(Ti,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),pi=function rt(yn){const Ue=yn&&mt(yn);return Ue&&{...Ue,keyboardNavigationLabelProvider:Ue.keyboardNavigationLabelProvider&&{...Ue.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel:Dt=>yn.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Dt.map(nn=>nn.element))}}}(Zt)||{};return new le(Ue,Dt,xn,Jn,pi)}asTreeElement(Ue,Dt){return{incompressible:this.compressionDelegate.isIncompressible(Ue.element),...super.asTreeElement(Ue,Dt)}}updateOptions(Ue={}){this.tree.updateOptions(Ue)}render(Ue,Dt,nn){if(!this.identityProvider)return super.render(Ue,Dt);const pn=vi=>this.identityProvider.getId(vi).toString(),Zt=vi=>{const Gi=new Set;for(const Ui of vi){const Mi=this.tree.getCompressedTreeNode(Ui===this.root?null:Ui);if(Mi.element)for(const fo of Mi.element.elements)Gi.add(pn(fo.element))}return Gi},xn=Zt(this.tree.getSelection()),Jn=Zt(this.tree.getFocus());super.render(Ue,Dt,nn);const pi=this.getSelection();let Ti=!1;const Ni=this.getFocus();let Li=!1;const Fi=vi=>{const Gi=vi.element;if(Gi)for(let Ui=0;Ui<Gi.elements.length;Ui++){const Mi=pn(Gi.elements[Ui].element),fo=Gi.elements[Gi.elements.length-1].element;xn.has(Mi)&&-1===pi.indexOf(fo)&&(pi.push(fo),Ti=!0),Jn.has(Mi)&&-1===Ni.indexOf(fo)&&(Ni.push(fo),Li=!0)}vi.children.forEach(Fi)};Fi(this.tree.getCompressedTreeNode(Ue===this.root?null:Ue)),Ti&&this.setSelection(pi),Li&&this.setFocus(Ni)}processChildren(Ue){return this.filter&&(Ue=ie.f.filter(Ue,Dt=>{const pn=function St(yn){return"boolean"==typeof yn?yn?1:0:(0,Q.iZ)(yn)?(0,Q.Mn)(yn.visibility):(0,Q.Mn)(yn)}(this.filter.filter(Dt,1));if(2===pn)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===pn})),super.processChildren(Ue)}}class ke extends oe.DO{constructor(Ue,Dt,nn,pn,Zt,xn={}){super(Ue,Dt,nn,pn,xn),this.user=Ue,this.dataSource=Zt,this.identityProvider=xn.identityProvider}createModel(Ue,Dt,nn){return new ae(Ue,Dt,nn)}}var Ze=t(81644),Ye=t(35072),st=t(70987),Ke=t(50168),ft=t(81297),wt=t(71887),qt=t(598),Yt=t(59002),en=t(97018),an=t(41525),lt=function(yn,Ue,Dt,nn){var xn,pn=arguments.length,Zt=pn<3?Ue:null===nn?nn=Object.getOwnPropertyDescriptor(Ue,Dt):nn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Zt=Reflect.decorate(yn,Ue,Dt,nn);else for(var Jn=yn.length-1;Jn>=0;Jn--)(xn=yn[Jn])&&(Zt=(pn<3?xn(Zt):pn>3?xn(Ue,Dt,Zt):xn(Ue,Dt))||Zt);return pn>3&&Zt&&Object.defineProperty(Ue,Dt,Zt),Zt},Nt=function(yn,Ue){return function(Dt,nn){Ue(Dt,nn,yn)}};const tn=(0,qt.u1)("listService");class bn{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new C.Cm,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(Ue){var Dt,nn;Ue!==this._lastFocusedWidget&&(null===(Dt=this._lastFocusedWidget)||void 0===Dt||Dt.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=Ue,null===(nn=this._lastFocusedWidget)||void 0===nn||nn.getHTMLElement().classList.add("last-focused"))}register(Ue,Dt){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new b.hb((0,a.li)(),"").style(an.IN)),this.lists.some(pn=>pn.widget===Ue))throw new Error("Cannot register the same widget multiple times");const nn={widget:Ue,extraContextKeys:Dt};return this.lists.push(nn),(0,a.X7)(Ue.getHTMLElement())&&this.setLastFocusedList(Ue),(0,C.qE)(Ue.onDidFocus(()=>this.setLastFocusedList(Ue)),(0,C.s)(()=>this.lists.splice(this.lists.indexOf(nn),1)),Ue.onDidDispose(()=>{this.lists=this.lists.filter(pn=>pn!==nn),this._lastFocusedWidget===Ue&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const Bn=new Ke.N1("listScrollAtBoundary","none"),ei=(Ke.M$.or(Bn.isEqualTo("top"),Bn.isEqualTo("both")),Ke.M$.or(Bn.isEqualTo("bottom"),Bn.isEqualTo("both")),new Ke.N1("listFocus",!0)),wi=new Ke.N1("treestickyScrollFocused",!1),hi=new Ke.N1("listSupportsMultiselect",!0),yi=Ke.M$.and(ei,Ke.M$.not(ft.aV),wi.negate()),Vi=new Ke.N1("listHasSelectionOrFocus",!1),Wi=new Ke.N1("listDoubleSelection",!1),Pn=new Ke.N1("listMultiSelection",!1),pt=new Ke.N1("listSelectionNavigation",!1),ct=new Ke.N1("listSupportsFind",!0),Tt=new Ke.N1("treeElementCanCollapse",!1),ut=new Ke.N1("treeElementHasParent",!1),Ct=new Ke.N1("treeElementCanExpand",!1),Jt=new Ke.N1("treeElementHasChild",!1),un=new Ke.N1("treeFindOpen",!1),Wn="listTypeNavigationMode",Kn="listAutomaticKeyboardNavigation";function jn(yn,Ue){const Dt=yn.createScoped(Ue.getHTMLElement());return ei.bindTo(Dt),Dt}function Nn(yn,Ue){const Dt=Bn.bindTo(yn),nn=()=>{const pn=0===Ue.scrollTop,Zt=Ue.scrollHeight-Ue.renderHeight-Ue.scrollTop<1;Dt.set(pn&&Zt?"both":pn?"top":Zt?"bottom":"none")};return nn(),Ue.onDidScroll(nn)}const gn="workbench.list.multiSelectModifier",Wt="workbench.list.openMode",mn="workbench.list.horizontalScrolling",En="workbench.list.defaultFindMode",On="workbench.list.typeNavigationMode",Rn="workbench.list.keyboardNavigation",Qn="workbench.list.scrollByPage",fi="workbench.list.defaultFindMatchType",Mn="workbench.tree.indent",Sn="workbench.tree.renderIndentGuides",Xt="workbench.list.smoothScrolling",je="workbench.list.mouseWheelScrollSensitivity",at="workbench.list.fastScrollSensitivity",Mt="workbench.tree.expandMode",Et="workbench.tree.enableStickyScroll",Vt="workbench.tree.stickyScrollMaxItemCount";function zt(yn){return"alt"===yn.getValue(gn)}class sn extends C.jG{constructor(Ue){super(),this.configurationService=Ue,this.useAltAsMultipleSelectionModifier=zt(Ue),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(Ue=>{Ue.affectsConfiguration(gn)&&(this.useAltAsMultipleSelectionModifier=zt(this.configurationService))}))}isSelectionSingleChangeEvent(Ue){return this.useAltAsMultipleSelectionModifier?Ue.browserEvent.altKey:(0,b.tX)(Ue)}isSelectionRangeChangeEvent(Ue){return(0,b.mh)(Ue)}}function kn(yn,Ue){var Dt;const nn=yn.get(Ye.pG),pn=yn.get(Yt.b),Zt=new C.Cm;return[{...Ue,keyboardNavigationDelegate:{mightProducePrintableCharacter:Jn=>pn.mightProducePrintableCharacter(Jn)},smoothScrolling:!!nn.getValue(Xt),mouseWheelScrollSensitivity:nn.getValue(je),fastScrollSensitivity:nn.getValue(at),multipleSelectionController:null!==(Dt=Ue.multipleSelectionController)&&void 0!==Dt?Dt:Zt.add(new sn(nn)),keyboardNavigationEventFilter:Pi(pn),scrollByPage:!!nn.getValue(Qn)},Zt]}let oi=class extends b.B8{constructor(Ue,Dt,nn,pn,Zt,xn,Jn,pi,Ti){const Ni=typeof Zt.horizontalScrolling<"u"?Zt.horizontalScrolling:!!pi.getValue(mn),[Li,Fi]=Ti.invokeFunction(kn,Zt);super(Ue,Dt,nn,pn,{keyboardSupport:!1,...Li,horizontalScrolling:Ni}),this.disposables.add(Fi),this.contextKeyService=jn(xn,this),this.disposables.add(Nn(this.contextKeyService,this)),this.listSupportsMultiSelect=hi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==Zt.multipleSelectionSupport),pt.bindTo(this.contextKeyService).set(!!Zt.selectionNavigation),this.listHasSelectionOrFocus=Vi.bindTo(this.contextKeyService),this.listDoubleSelection=Wi.bindTo(this.contextKeyService),this.listMultiSelection=Pn.bindTo(this.contextKeyService),this.horizontalScrolling=Zt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=zt(pi),this.disposables.add(this.contextKeyService),this.disposables.add(Jn.register(this)),this.updateStyles(Zt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Gi=this.getSelection(),Ui=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Gi.length>0||Ui.length>0),this.listMultiSelection.set(Gi.length>1),this.listDoubleSelection.set(2===Gi.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Gi=this.getSelection(),Ui=this.getFocus();this.listHasSelectionOrFocus.set(Gi.length>0||Ui.length>0)})),this.disposables.add(pi.onDidChangeConfiguration(Gi=>{Gi.affectsConfiguration(gn)&&(this._useAltAsMultipleSelectionModifier=zt(pi));let Ui={};if(Gi.affectsConfiguration(mn)&&void 0===this.horizontalScrolling){const Mi=!!pi.getValue(mn);Ui={...Ui,horizontalScrolling:Mi}}if(Gi.affectsConfiguration(Qn)){const Mi=!!pi.getValue(Qn);Ui={...Ui,scrollByPage:Mi}}if(Gi.affectsConfiguration(Xt)){const Mi=!!pi.getValue(Xt);Ui={...Ui,smoothScrolling:Mi}}if(Gi.affectsConfiguration(je)){const Mi=pi.getValue(je);Ui={...Ui,mouseWheelScrollSensitivity:Mi}}if(Gi.affectsConfiguration(at)){const Mi=pi.getValue(at);Ui={...Ui,fastScrollSensitivity:Mi}}Object.keys(Ui).length>0&&this.updateOptions(Ui)})),this.navigator=new li(this,{configurationService:pi,...Zt}),this.disposables.add(this.navigator)}updateOptions(Ue){super.updateOptions(Ue),void 0!==Ue.overrideStyles&&this.updateStyles(Ue.overrideStyles),void 0!==Ue.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!Ue.multipleSelectionSupport)}updateStyles(Ue){this.style(Ue?(0,an.t8)(Ue):an.IN)}};oi=lt([Nt(5,Ke.fN),Nt(6,tn),Nt(7,Ye.pG),Nt(8,qt._Y)],oi);let mi=class extends _{constructor(Ue,Dt,nn,pn,Zt,xn,Jn,pi,Ti){const Ni=typeof Zt.horizontalScrolling<"u"?Zt.horizontalScrolling:!!pi.getValue(mn),[Li,Fi]=Ti.invokeFunction(kn,Zt);super(Ue,Dt,nn,pn,{keyboardSupport:!1,...Li,horizontalScrolling:Ni}),this.disposables=new C.Cm,this.disposables.add(Fi),this.contextKeyService=jn(xn,this),this.disposables.add(Nn(this.contextKeyService,this.widget)),this.horizontalScrolling=Zt.horizontalScrolling,this.listSupportsMultiSelect=hi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==Zt.multipleSelectionSupport),pt.bindTo(this.contextKeyService).set(!!Zt.selectionNavigation),this._useAltAsMultipleSelectionModifier=zt(pi),this.disposables.add(this.contextKeyService),this.disposables.add(Jn.register(this)),this.updateStyles(Zt.overrideStyles),this.disposables.add(pi.onDidChangeConfiguration(Gi=>{Gi.affectsConfiguration(gn)&&(this._useAltAsMultipleSelectionModifier=zt(pi));let Ui={};if(Gi.affectsConfiguration(mn)&&void 0===this.horizontalScrolling){const Mi=!!pi.getValue(mn);Ui={...Ui,horizontalScrolling:Mi}}if(Gi.affectsConfiguration(Qn)){const Mi=!!pi.getValue(Qn);Ui={...Ui,scrollByPage:Mi}}if(Gi.affectsConfiguration(Xt)){const Mi=!!pi.getValue(Xt);Ui={...Ui,smoothScrolling:Mi}}if(Gi.affectsConfiguration(je)){const Mi=pi.getValue(je);Ui={...Ui,mouseWheelScrollSensitivity:Mi}}if(Gi.affectsConfiguration(at)){const Mi=pi.getValue(at);Ui={...Ui,fastScrollSensitivity:Mi}}Object.keys(Ui).length>0&&this.updateOptions(Ui)})),this.navigator=new li(this,{configurationService:pi,...Zt}),this.disposables.add(this.navigator)}updateOptions(Ue){super.updateOptions(Ue),void 0!==Ue.overrideStyles&&this.updateStyles(Ue.overrideStyles),void 0!==Ue.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!Ue.multipleSelectionSupport)}updateStyles(Ue){this.style(Ue?(0,an.t8)(Ue):an.IN)}dispose(){this.disposables.dispose(),super.dispose()}};mi=lt([Nt(5,Ke.fN),Nt(6,tn),Nt(7,Ye.pG),Nt(8,qt._Y)],mi);let gi=class extends Y{constructor(Ue,Dt,nn,pn,Zt,xn,Jn,pi,Ti,Ni){const Li=typeof xn.horizontalScrolling<"u"?xn.horizontalScrolling:!!Ti.getValue(mn),[Fi,vi]=Ni.invokeFunction(kn,xn);super(Ue,Dt,nn,pn,Zt,{keyboardSupport:!1,...Fi,horizontalScrolling:Li}),this.disposables.add(vi),this.contextKeyService=jn(Jn,this),this.disposables.add(Nn(this.contextKeyService,this)),this.listSupportsMultiSelect=hi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==xn.multipleSelectionSupport),pt.bindTo(this.contextKeyService).set(!!xn.selectionNavigation),this.listHasSelectionOrFocus=Vi.bindTo(this.contextKeyService),this.listDoubleSelection=Wi.bindTo(this.contextKeyService),this.listMultiSelection=Pn.bindTo(this.contextKeyService),this.horizontalScrolling=xn.horizontalScrolling,this._useAltAsMultipleSelectionModifier=zt(Ti),this.disposables.add(this.contextKeyService),this.disposables.add(pi.register(this)),this.updateStyles(xn.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ui=this.getSelection(),Mi=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ui.length>0||Mi.length>0),this.listMultiSelection.set(Ui.length>1),this.listDoubleSelection.set(2===Ui.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ui=this.getSelection(),Mi=this.getFocus();this.listHasSelectionOrFocus.set(Ui.length>0||Mi.length>0)})),this.disposables.add(Ti.onDidChangeConfiguration(Ui=>{Ui.affectsConfiguration(gn)&&(this._useAltAsMultipleSelectionModifier=zt(Ti));let Mi={};if(Ui.affectsConfiguration(mn)&&void 0===this.horizontalScrolling){const fo=!!Ti.getValue(mn);Mi={...Mi,horizontalScrolling:fo}}if(Ui.affectsConfiguration(Qn)){const fo=!!Ti.getValue(Qn);Mi={...Mi,scrollByPage:fo}}if(Ui.affectsConfiguration(Xt)){const fo=!!Ti.getValue(Xt);Mi={...Mi,smoothScrolling:fo}}if(Ui.affectsConfiguration(je)){const fo=Ti.getValue(je);Mi={...Mi,mouseWheelScrollSensitivity:fo}}if(Ui.affectsConfiguration(at)){const fo=Ti.getValue(at);Mi={...Mi,fastScrollSensitivity:fo}}Object.keys(Mi).length>0&&this.updateOptions(Mi)})),this.navigator=new $i(this,{configurationService:Ti,...xn}),this.disposables.add(this.navigator)}updateOptions(Ue){super.updateOptions(Ue),void 0!==Ue.overrideStyles&&this.updateStyles(Ue.overrideStyles),void 0!==Ue.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!Ue.multipleSelectionSupport)}updateStyles(Ue){this.style(Ue?(0,an.t8)(Ue):an.IN)}dispose(){this.disposables.dispose(),super.dispose()}};gi=lt([Nt(6,Ke.fN),Nt(7,tn),Nt(8,Ye.pG),Nt(9,qt._Y)],gi);class ai extends C.jG{constructor(Ue,Dt){var nn;super(),this.widget=Ue,this._onDidOpen=this._register(new x.vl),this.onDidOpen=this._onDidOpen.event,this._register(x.Jh.filter(this.widget.onDidChangeSelection,pn=>(0,a.kx)(pn.browserEvent))(pn=>this.onSelectionFromKeyboard(pn))),this._register(this.widget.onPointer(pn=>this.onPointer(pn.element,pn.browserEvent))),this._register(this.widget.onMouseDblClick(pn=>this.onMouseDblClick(pn.element,pn.browserEvent))),"boolean"!=typeof Dt?.openOnSingleClick&&Dt?.configurationService?(this.openOnSingleClick="doubleClick"!==Dt?.configurationService.getValue(Wt),this._register(Dt?.configurationService.onDidChangeConfiguration(pn=>{pn.affectsConfiguration(Wt)&&(this.openOnSingleClick="doubleClick"!==Dt?.configurationService.getValue(Wt))}))):this.openOnSingleClick=null===(nn=Dt?.openOnSingleClick)||void 0===nn||nn}onSelectionFromKeyboard(Ue){if(1!==Ue.elements.length)return;const Dt=Ue.browserEvent,nn="boolean"!=typeof Dt.preserveFocus||Dt.preserveFocus,pn="boolean"==typeof Dt.pinned?Dt.pinned:!nn;this._open(this.getSelectedElement(),nn,pn,!1,Ue.browserEvent)}onPointer(Ue,Dt){this.openOnSingleClick&&2!==Dt.detail&&this._open(Ue,!0,1===Dt.button,Dt.ctrlKey||Dt.metaKey||Dt.altKey,Dt)}onMouseDblClick(Ue,Dt){if(!Dt)return;const nn=Dt.target;nn.classList.contains("monaco-tl-twistie")||nn.classList.contains("monaco-icon-label")&&nn.classList.contains("folder-icon")&&Dt.offsetX<16||this._open(Ue,!1,!0,Dt.ctrlKey||Dt.metaKey||Dt.altKey,Dt)}_open(Ue,Dt,nn,pn,Zt){Ue&&this._onDidOpen.fire({editorOptions:{preserveFocus:Dt,pinned:nn,revealIfVisible:!0},sideBySide:pn,element:Ue,browserEvent:Zt})}}class li extends ai{constructor(Ue,Dt){super(Ue,Dt),this.widget=Ue}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class $i extends ai{constructor(Ue,Dt){super(Ue,Dt)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Zi extends ai{constructor(Ue,Dt){super(Ue,Dt)}getSelectedElement(){var Ue;return null!==(Ue=this.widget.getSelection()[0])&&void 0!==Ue?Ue:void 0}}function Pi(yn){let Ue=!1;return Dt=>{if(Dt.toKeyCodeChord().isModifierKey())return!1;if(Ue)return Ue=!1,!1;const nn=yn.softDispatch(Dt,Dt.target);return 1===nn.kind?(Ue=!0,!1):(Ue=!1,0===nn.kind)}}let At=class extends $e{constructor(Ue,Dt,nn,pn,Zt,xn,Jn,pi,Ti){const{options:Ni,getTypeNavigationMode:Li,disposable:Fi}=xn.invokeFunction($n,Zt);super(Ue,Dt,nn,pn,Ni),this.disposables.add(Fi),this.internals=new Ri(this,Zt,Li,Zt.overrideStyles,Jn,pi,Ti),this.disposables.add(this.internals)}updateOptions(Ue){super.updateOptions(Ue),this.internals.updateOptions(Ue)}};At=lt([Nt(5,qt._Y),Nt(6,Ke.fN),Nt(7,tn),Nt(8,Ye.pG)],At);let Rt=class extends le{constructor(Ue,Dt,nn,pn,Zt,xn,Jn,pi,Ti){const{options:Ni,getTypeNavigationMode:Li,disposable:Fi}=xn.invokeFunction($n,Zt);super(Ue,Dt,nn,pn,Ni),this.disposables.add(Fi),this.internals=new Ri(this,Zt,Li,Zt.overrideStyles,Jn,pi,Ti),this.disposables.add(this.internals)}updateOptions(Ue={}){super.updateOptions(Ue),Ue.overrideStyles&&this.internals.updateStyleOverrides(Ue.overrideStyles),this.internals.updateOptions(Ue)}};Rt=lt([Nt(5,qt._Y),Nt(6,Ke.fN),Nt(7,tn),Nt(8,Ye.pG)],Rt);let Pt=class extends ke{constructor(Ue,Dt,nn,pn,Zt,xn,Jn,pi,Ti,Ni){const{options:Li,getTypeNavigationMode:Fi,disposable:vi}=Jn.invokeFunction($n,xn);super(Ue,Dt,nn,pn,Zt,Li),this.disposables.add(vi),this.internals=new Ri(this,xn,Fi,xn.overrideStyles,pi,Ti,Ni),this.disposables.add(this.internals)}updateOptions(Ue={}){super.updateOptions(Ue),void 0!==Ue.overrideStyles&&this.internals.updateStyleOverrides(Ue.overrideStyles),this.internals.updateOptions(Ue)}};Pt=lt([Nt(6,qt._Y),Nt(7,Ke.fN),Nt(8,tn),Nt(9,Ye.pG)],Pt);let hn=class extends Ht{get onDidOpen(){return this.internals.onDidOpen}constructor(Ue,Dt,nn,pn,Zt,xn,Jn,pi,Ti,Ni){const{options:Li,getTypeNavigationMode:Fi,disposable:vi}=Jn.invokeFunction($n,xn);super(Ue,Dt,nn,pn,Zt,Li),this.disposables.add(vi),this.internals=new Ri(this,xn,Fi,xn.overrideStyles,pi,Ti,Ni),this.disposables.add(this.internals)}updateOptions(Ue={}){super.updateOptions(Ue),Ue.overrideStyles&&this.internals.updateStyleOverrides(Ue.overrideStyles),this.internals.updateOptions(Ue)}};hn=lt([Nt(6,qt._Y),Nt(7,Ke.fN),Nt(8,tn),Nt(9,Ye.pG)],hn);let An=class extends Ut{constructor(Ue,Dt,nn,pn,Zt,xn,Jn,pi,Ti,Ni,Li){const{options:Fi,getTypeNavigationMode:vi,disposable:Gi}=pi.invokeFunction($n,Jn);super(Ue,Dt,nn,pn,Zt,xn,Fi),this.disposables.add(Gi),this.internals=new Ri(this,Jn,vi,Jn.overrideStyles,Ti,Ni,Li),this.disposables.add(this.internals)}updateOptions(Ue){super.updateOptions(Ue),this.internals.updateOptions(Ue)}};function Hn(yn){const Ue=yn.getValue(En);if("highlight"===Ue)return oe.vD.Highlight;if("filter"===Ue)return oe.vD.Filter;const Dt=yn.getValue(Rn);return"simple"===Dt||"highlight"===Dt?oe.vD.Highlight:"filter"===Dt?oe.vD.Filter:void 0}function ni(yn){const Ue=yn.getValue(fi);return"fuzzy"===Ue?oe.RD.Fuzzy:"contiguous"===Ue?oe.RD.Contiguous:void 0}function $n(yn,Ue){var Dt;const nn=yn.get(Ye.pG),pn=yn.get(wt.l),Zt=yn.get(Ke.fN),xn=yn.get(qt._Y),pi=void 0!==Ue.horizontalScrolling?Ue.horizontalScrolling:!!nn.getValue(mn),[Ti,Ni]=xn.invokeFunction(kn,Ue),Li=Ue.paddingBottom,Fi=void 0!==Ue.renderIndentGuides?Ue.renderIndentGuides:nn.getValue(Sn);return{getTypeNavigationMode:()=>{const vi=Zt.getContextKeyValue(Wn);if("automatic"===vi)return b._C.Automatic;if("trigger"===vi||!1===Zt.getContextKeyValue(Kn))return b._C.Trigger;const Ui=nn.getValue(On);return"automatic"===Ui?b._C.Automatic:"trigger"===Ui?b._C.Trigger:void 0},disposable:Ni,options:{keyboardSupport:!1,...Ti,indent:"number"==typeof nn.getValue(Mn)?nn.getValue(Mn):void 0,renderIndentGuides:Fi,smoothScrolling:!!nn.getValue(Xt),defaultFindMode:Hn(nn),defaultFindMatchType:ni(nn),horizontalScrolling:pi,scrollByPage:!!nn.getValue(Qn),paddingBottom:Li,hideTwistiesOfChildlessElements:Ue.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(Dt=Ue.expandOnlyOnTwistieClick)&&void 0!==Dt?Dt:"doubleClick"===nn.getValue(Mt),contextViewProvider:pn,findWidgetStyles:an.Dk,enableStickyScroll:!!nn.getValue(Et),stickyScrollMaxItemCount:Number(nn.getValue(Vt))}}}An=lt([Nt(7,qt._Y),Nt(8,Ke.fN),Nt(9,tn),Nt(10,Ye.pG)],An);let Ri=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(Ue,Dt,nn,pn,Zt,xn,Jn){var pi;this.tree=Ue,this.disposables=[],this.contextKeyService=jn(Zt,Ue),this.disposables.push(Nn(this.contextKeyService,Ue)),this.listSupportsMultiSelect=hi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==Dt.multipleSelectionSupport),pt.bindTo(this.contextKeyService).set(!!Dt.selectionNavigation),this.listSupportFindWidget=ct.bindTo(this.contextKeyService),this.listSupportFindWidget.set(null===(pi=Dt.findWidgetEnabled)||void 0===pi||pi),this.hasSelectionOrFocus=Vi.bindTo(this.contextKeyService),this.hasDoubleSelection=Wi.bindTo(this.contextKeyService),this.hasMultiSelection=Pn.bindTo(this.contextKeyService),this.treeElementCanCollapse=Tt.bindTo(this.contextKeyService),this.treeElementHasParent=ut.bindTo(this.contextKeyService),this.treeElementCanExpand=Ct.bindTo(this.contextKeyService),this.treeElementHasChild=Jt.bindTo(this.contextKeyService),this.treeFindOpen=un.bindTo(this.contextKeyService),this.treeStickyScrollFocused=wi.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=zt(Jn),this.updateStyleOverrides(pn);const Ni=()=>{const Fi=Ue.getFocus()[0];if(!Fi)return;const vi=Ue.getNode(Fi);this.treeElementCanCollapse.set(vi.collapsible&&!vi.collapsed),this.treeElementHasParent.set(!!Ue.getParentElement(Fi)),this.treeElementCanExpand.set(vi.collapsible&&vi.collapsed),this.treeElementHasChild.set(!!Ue.getFirstElementChild(Fi))},Li=new Set;Li.add(Wn),Li.add(Kn),this.disposables.push(this.contextKeyService,xn.register(Ue),Ue.onDidChangeSelection(()=>{const Fi=Ue.getSelection(),vi=Ue.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Fi.length>0||vi.length>0),this.hasMultiSelection.set(Fi.length>1),this.hasDoubleSelection.set(2===Fi.length)})}),Ue.onDidChangeFocus(()=>{const Fi=Ue.getSelection(),vi=Ue.getFocus();this.hasSelectionOrFocus.set(Fi.length>0||vi.length>0),Ni()}),Ue.onDidChangeCollapseState(Ni),Ue.onDidChangeModel(Ni),Ue.onDidChangeFindOpenState(Fi=>this.treeFindOpen.set(Fi)),Ue.onDidChangeStickyScrollFocused(Fi=>this.treeStickyScrollFocused.set(Fi)),Jn.onDidChangeConfiguration(Fi=>{let vi={};if(Fi.affectsConfiguration(gn)&&(this._useAltAsMultipleSelectionModifier=zt(Jn)),Fi.affectsConfiguration(Mn)){const Gi=Jn.getValue(Mn);vi={...vi,indent:Gi}}if(Fi.affectsConfiguration(Sn)&&void 0===Dt.renderIndentGuides){const Gi=Jn.getValue(Sn);vi={...vi,renderIndentGuides:Gi}}if(Fi.affectsConfiguration(Xt)){const Gi=!!Jn.getValue(Xt);vi={...vi,smoothScrolling:Gi}}if(Fi.affectsConfiguration(En)||Fi.affectsConfiguration(Rn)){const Gi=Hn(Jn);vi={...vi,defaultFindMode:Gi}}if(Fi.affectsConfiguration(On)||Fi.affectsConfiguration(Rn)){const Gi=nn();vi={...vi,typeNavigationMode:Gi}}if(Fi.affectsConfiguration(fi)){const Gi=ni(Jn);vi={...vi,defaultFindMatchType:Gi}}if(Fi.affectsConfiguration(mn)&&void 0===Dt.horizontalScrolling){const Gi=!!Jn.getValue(mn);vi={...vi,horizontalScrolling:Gi}}if(Fi.affectsConfiguration(Qn)){const Gi=!!Jn.getValue(Qn);vi={...vi,scrollByPage:Gi}}if(Fi.affectsConfiguration(Mt)&&void 0===Dt.expandOnlyOnTwistieClick&&(vi={...vi,expandOnlyOnTwistieClick:"doubleClick"===Jn.getValue(Mt)}),Fi.affectsConfiguration(Et)){const Gi=Jn.getValue(Et);vi={...vi,enableStickyScroll:Gi}}if(Fi.affectsConfiguration(Vt)){const Gi=Math.max(1,Jn.getValue(Vt));vi={...vi,stickyScrollMaxItemCount:Gi}}if(Fi.affectsConfiguration(je)){const Gi=Jn.getValue(je);vi={...vi,mouseWheelScrollSensitivity:Gi}}if(Fi.affectsConfiguration(at)){const Gi=Jn.getValue(at);vi={...vi,fastScrollSensitivity:Gi}}Object.keys(vi).length>0&&Ue.updateOptions(vi)}),this.contextKeyService.onDidChangeContext(Fi=>{Fi.affectsSome(Li)&&Ue.updateOptions({typeNavigationMode:nn()})})),this.navigator=new Zi(Ue,{configurationService:Jn,...Dt}),this.disposables.push(this.navigator)}updateOptions(Ue){void 0!==Ue.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!Ue.multipleSelectionSupport)}updateStyleOverrides(Ue){this.tree.style(Ue?(0,an.t8)(Ue):an.IN)}dispose(){this.disposables=(0,C.AS)(this.disposables)}};Ri=lt([Nt(4,Ke.fN),Nt(5,tn),Nt(6,Ye.pG)],Ri),en.O.as(st.Fd.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,Ze.kg)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[gn]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,Ze.kg)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,Ze.kg)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,Ze.kg)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[Wt]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,Ze.kg)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[mn]:{type:"boolean",default:!1,description:(0,Ze.kg)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Qn]:{type:"boolean",default:!1,description:(0,Ze.kg)("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Mn]:{type:"number",default:8,minimum:4,maximum:40,description:(0,Ze.kg)("tree indent setting","Controls tree indentation in pixels.")},[Sn]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,Ze.kg)("render tree indent guides","Controls whether the tree should render indent guides.")},[Xt]:{type:"boolean",default:!1,description:(0,Ze.kg)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[je]:{type:"number",default:1,markdownDescription:(0,Ze.kg)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[at]:{type:"number",default:5,markdownDescription:(0,Ze.kg)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[En]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,Ze.kg)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,Ze.kg)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,Ze.kg)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[Rn]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,Ze.kg)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,Ze.kg)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,Ze.kg)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,Ze.kg)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,Ze.kg)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.")},[fi]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,Ze.kg)("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),(0,Ze.kg)("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:(0,Ze.kg)("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[Mt]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,Ze.kg)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Et]:{type:"boolean",default:!0,description:(0,Ze.kg)("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[Vt]:{type:"number",minimum:1,default:7,markdownDescription:(0,Ze.kg)("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when `#workbench.tree.enableStickyScroll#` is enabled.")},[On]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:(0,Ze.kg)("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}})},52152:(tt,xe,t)=>{t.d(xe,{$b:()=>S,Cr:()=>D,Dk:()=>v,rr:()=>C});var a=t(5643),F=t(99031),w=t(50168);const C=(0,t(598).u1)("logService");var S=function(d){return d[d.Off=0]="Off",d[d.Trace=1]="Trace",d[d.Debug=2]="Debug",d[d.Info=3]="Info",d[d.Warning=4]="Warning",d[d.Error=5]="Error",d}(S||{});const b=S.Info;class P extends F.jG{constructor(){super(...arguments),this.level=b,this._onDidChangeLogLevel=this._register(new a.vl),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(r){this.level!==r&&(this.level=r,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(r){return this.level!==S.Off&&this.level<=r}}class D extends P{constructor(r=b,l=!0){super(),this.useColors=l,this.setLevel(r)}trace(r,...l){this.checkLogLevel(S.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",r,...l):console.log(r,...l))}debug(r,...l){this.checkLogLevel(S.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",r,...l):console.log(r,...l))}info(r,...l){this.checkLogLevel(S.Info)&&(this.useColors?console.log("%c INFO","color: #33f",r,...l):console.log(r,...l))}warn(r,...l){this.checkLogLevel(S.Warning)&&(this.useColors?console.log("%c WARN","color: #993",r,...l):console.log(r,...l))}error(r,...l){this.checkLogLevel(S.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",r,...l):console.error(r,...l))}}class v extends P{constructor(r){super(),this.loggers=r,r.length&&this.setLevel(r[0].getLevel())}setLevel(r){for(const l of this.loggers)l.setLevel(r);super.setLevel(r)}trace(r,...l){for(const g of this.loggers)g.trace(r,...l)}debug(r,...l){for(const g of this.loggers)g.debug(r,...l)}info(r,...l){for(const g of this.loggers)g.info(r,...l)}warn(r,...l){for(const g of this.loggers)g.warn(r,...l)}error(r,...l){for(const g of this.loggers)g.error(r,...l)}dispose(){for(const r of this.loggers)r.dispose();super.dispose()}}new w.N1("logLevel",function _(d){switch(d){case S.Trace:return"trace";case S.Debug:return"debug";case S.Info:return"info";case S.Warning:return"warn";case S.Error:return"error";case S.Off:return"off"}}(S.Info))},24270:(tt,xe,t)=>{t.d(xe,{DR:()=>S,cj:()=>x,oc:()=>C});var C,a=t(63832),F=t(81644),w=t(598),x=function(b){return b[b.Hint=1]="Hint",b[b.Info=2]="Info",b[b.Warning=4]="Warning",b[b.Error=8]="Error",b}(x||{});!function(b){b.compare=function P(d,r){return r-d};const D=Object.create(null);D[b.Error]=(0,F.kg)("sev.error","Error"),D[b.Warning]=(0,F.kg)("sev.warning","Warning"),D[b.Info]=(0,F.kg)("sev.info","Info"),b.toString=function v(d){return D[d]||""},b.fromSeverity=function _(d){switch(d){case a.A.Error:return b.Error;case a.A.Warning:return b.Warning;case a.A.Info:return b.Info;case a.A.Ignore:return b.Hint}},b.toSeverity=function f(d){switch(d){case b.Error:return a.A.Error;case b.Warning:return a.A.Warning;case b.Info:return a.A.Info;case b.Hint:return a.A.Ignore}}}(x||(x={})),function(b){const P="";function v(_,f){const d=[P];return d.push(_.source?_.source.replace("\xa6","\\\xa6"):P),d.push(_.code?"string"==typeof _.code?_.code.replace("\xa6","\\\xa6"):_.code.value.replace("\xa6","\\\xa6"):P),d.push(null!=_.severity?x.toString(_.severity):P),d.push(_.message&&f?_.message.replace("\xa6","\\\xa6"):P),d.push(null!=_.startLineNumber?_.startLineNumber.toString():P),d.push(null!=_.startColumn?_.startColumn.toString():P),d.push(null!=_.endLineNumber?_.endLineNumber.toString():P),d.push(null!=_.endColumn?_.endColumn.toString():P),d.push(P),d.join("\xa6")}b.makeKey=function D(_){return v(_,!0)},b.makeKeyOptionalMessage=v}(C||(C={}));const S=(0,w.u1)("markerService")},16362:(tt,xe,t)=>{t.d(xe,{AI:()=>w,Kz:()=>C,Ot:()=>x});var a=t(63832),F=t(598),w=a.A;const x=(0,F.u1)("notificationService");class C{}},19438:(tt,xe,t)=>{t.d(xe,{C:()=>F,e:()=>w});const F=(0,t(598).u1)("openerService");function w(x){let C;const S=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(x.fragment);return S&&(C={startLineNumber:parseInt(S[1]),startColumn:S[2]?parseInt(S[2]):1,endLineNumber:S[4]?parseInt(S[4]):void 0,endColumn:S[4]?S[5]?parseInt(S[5]):1:void 0},x=x.with({fragment:""})),{selection:C,uri:x}}},47690:(tt,xe,t)=>{t.d(xe,{G5:()=>F,N8:()=>C,ke:()=>x});var a=t(598);const F=(0,a.u1)("progressService");Object.freeze({total(){},worked(){},done(){}});class x{constructor(b){this.callback=b}report(b){this._value=b,this.callback(this._value)}}x.None=Object.freeze({report(){}});const C=(0,a.u1)("editorProgressService")},64558:(tt,xe,t)=>{t.d(xe,{Fd:()=>C,aJ:()=>x});var a=t(30833),F=t(99031),w=t(97018),x=function(b){return b[b.PRESERVE=0]="PRESERVE",b[b.LAST=1]="LAST",b}(x||{});const C={Quickaccess:"workbench.contributions.quickaccess"};w.O.add(C.Quickaccess,new class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(P){return 0===P.prefix.length?this.defaultProvider=P:this.providers.push(P),this.providers.sort((D,v)=>v.prefix.length-D.prefix.length),(0,F.s)(()=>{this.providers.splice(this.providers.indexOf(P),1),this.defaultProvider===P&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,a.Yc)([this.defaultProvider,...this.providers])}getQuickAccessProvider(P){return P&&this.providers.find(v=>P.startsWith(v.prefix))||this.defaultProvider}})},8086:(tt,xe,t)=>{t.d(xe,{C1:()=>x,Fp:()=>C,GK:()=>P,Ym:()=>F,kF:()=>w});var a=t(598);const F={ctrlCmd:!1,alt:!1};var w=function(D){return D[D.Blur=1]="Blur",D[D.Gesture=2]="Gesture",D[D.Other=3]="Other",D}(w||{}),x=function(D){return D[D.NONE=0]="NONE",D[D.FIRST=1]="FIRST",D[D.SECOND=2]="SECOND",D[D.LAST=3]="LAST",D}(x||{}),C=function(D){return D[D.First=1]="First",D[D.Second=2]="Second",D[D.Last=3]="Last",D[D.Next=4]="Next",D[D.Previous=5]="Previous",D[D.NextPage=6]="NextPage",D[D.PreviousPage=7]="PreviousPage",D[D.NextSeparator=8]="NextSeparator",D[D.PreviousSeparator=9]="PreviousSeparator",D}(C||{});new class S{constructor(v){this.options=v}};const P=(0,a.u1)("quickInputService")},97018:(tt,xe,t)=>{t.d(xe,{O:()=>x});var a=t(43929),F=t(66702);const x=new class w{constructor(){this.data=new Map}add(S,b){a.ok(F.Kg(S)),a.ok(F.Gv(b)),a.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,b)}as(S){return this.data.get(S)||null}}},16815:(tt,xe,t)=>{t.d(xe,{CS:()=>d,pc:()=>p,LP:()=>r});var a=t(5643),F=t(99031),w=t(66702),x=t(10467),C=t(86671),S=t(83713),b=function(m){return m[m.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",m[m.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY",m}(b||{}),P=function(m){return m[m.None=0]="None",m[m.Initialized=1]="Initialized",m[m.Closed=2]="Closed",m}(P||{});let D=(()=>{class m extends F.jG{constructor(A,k=Object.create(null)){super(),this.database=A,this.options=k,this._onDidChangeStorage=this._register(new a.fV),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=P.None,this.cache=new Map,this.flushDelayer=this._register(new C.Th(m.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(A=>this.onDidChangeItemsExternal(A)))}onDidChangeItemsExternal(A){var k,O;this._onDidChangeStorage.pause();try{null===(k=A.changed)||void 0===k||k.forEach((N,H)=>this.acceptExternal(H,N)),null===(O=A.deleted)||void 0===O||O.forEach(N=>this.acceptExternal(N,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(A,k){if(this.state===P.Closed)return;let O=!1;(0,w.z)(k)?O=this.cache.delete(A):this.cache.get(A)!==k&&(this.cache.set(A,k),O=!0),O&&this._onDidChangeStorage.fire({key:A,external:!0})}get(A,k){const O=this.cache.get(A);return(0,w.z)(O)?k:O}getBoolean(A,k){const O=this.get(A);return(0,w.z)(O)?k:"true"===O}getNumber(A,k){const O=this.get(A);return(0,w.z)(O)?k:parseInt(O,10)}set(A,k,O=!1){var N=this;return(0,x.A)(function*(){if(N.state===P.Closed)return;if((0,w.z)(k))return N.delete(A,O);const H=(0,w.Gv)(k)||Array.isArray(k)?(0,S.As)(k):String(k);return N.cache.get(A)!==H?(N.cache.set(A,H),N.pendingInserts.set(A,H),N.pendingDeletes.delete(A),N._onDidChangeStorage.fire({key:A,external:O}),N.doFlush()):void 0})()}delete(A,k=!1){var O=this;return(0,x.A)(function*(){if(O.state!==P.Closed&&O.cache.delete(A))return O.pendingDeletes.has(A)||O.pendingDeletes.add(A),O.pendingInserts.delete(A),O._onDidChangeStorage.fire({key:A,external:k}),O.doFlush()})()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){var A=this;return(0,x.A)(function*(){if(!A.hasPending)return;const k={insert:A.pendingInserts,delete:A.pendingDeletes};return A.pendingDeletes=new Set,A.pendingInserts=new Map,A.database.updateItems(k).finally(()=>{var O;if(!A.hasPending)for(;A.whenFlushedCallbacks.length;)null===(O=A.whenFlushedCallbacks.pop())||void 0===O||O()})})()}doFlush(A){var k=this;return(0,x.A)(function*(){return k.options.hint===b.STORAGE_IN_MEMORY?k.flushPending():k.flushDelayer.trigger(()=>k.flushPending(),A)})()}}return m.DEFAULT_FLUSH_DELAY=100,m})();class v{constructor(){this.onDidChangeItemsExternal=a.Jh.None,this.items=new Map}updateItems(T){var A=this;return(0,x.A)(function*(){var k,O;null===(k=T.insert)||void 0===k||k.forEach((N,H)=>A.items.set(H,N)),null===(O=T.delete)||void 0===O||O.forEach(N=>A.items.delete(N))})()}}var _=t(598);const f="__$__targetStorageMarker",d=(0,_.u1)("storageService");var r=function(m){return m[m.NONE=0]="NONE",m[m.SHUTDOWN=1]="SHUTDOWN",m}(r||{});let g=(()=>{class m extends F.jG{constructor(A={flushInterval:m.DEFAULT_FLUSH_INTERVAL}){super(),this.options=A,this._onDidChangeValue=this._register(new a.fV),this._onDidChangeTarget=this._register(new a.fV),this._onWillSaveState=this._register(new a.vl),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(A,k,O){return a.Jh.filter(this._onDidChangeValue.event,N=>N.scope===A&&(void 0===k||N.key===k),O)}emitDidChangeValue(A,k){const{key:O,external:N}=k;if(O===f){switch(A){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0}this._onDidChangeTarget.fire({scope:A})}else this._onDidChangeValue.fire({scope:A,key:O,target:this.getKeyTargets(A)[O],external:N})}get(A,k,O){var N;return null===(N=this.getStorage(k))||void 0===N?void 0:N.get(A,O)}getBoolean(A,k,O){var N;return null===(N=this.getStorage(k))||void 0===N?void 0:N.getBoolean(A,O)}getNumber(A,k,O){var N;return null===(N=this.getStorage(k))||void 0===N?void 0:N.getNumber(A,O)}store(A,k,O,N,H=!1){(0,w.z)(k)?this.remove(A,O,H):this.withPausedEmitters(()=>{var L;this.updateKeyTarget(A,O,N),null===(L=this.getStorage(O))||void 0===L||L.set(A,k,H)})}remove(A,k,O=!1){this.withPausedEmitters(()=>{var N;this.updateKeyTarget(A,k,void 0),null===(N=this.getStorage(k))||void 0===N||N.delete(A,O)})}withPausedEmitters(A){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{A()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(A,k,O,N=!1){var H,L;const j=this.getKeyTargets(k);"number"==typeof O?j[A]!==O&&(j[A]=O,null===(H=this.getStorage(k))||void 0===H||H.set(f,JSON.stringify(j),N)):"number"==typeof j[A]&&(delete j[A],null===(L=this.getStorage(k))||void 0===L||L.set(f,JSON.stringify(j),N))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(A){switch(A){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(A){const k=this.getStorage(A);return k?function l(m){const T=m.get(f);if(T)try{return JSON.parse(T)}catch{}return Object.create(null)}(k):Object.create(null)}}return m.DEFAULT_FLUSH_INTERVAL=6e4,m})();class p extends g{constructor(){super(),this.applicationStorage=this._register(new D(new v,{hint:b.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new D(new v,{hint:b.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new D(new v,{hint:b.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(T=>this.emitDidChangeValue(1,T))),this._register(this.profileStorage.onDidChangeStorage(T=>this.emitDidChangeValue(0,T))),this._register(this.applicationStorage.onDidChangeStorage(T=>this.emitDidChangeValue(-1,T)))}getStorage(T){switch(T){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},55922:(tt,xe,t)=>{t.d(xe,{k:()=>F});const F=(0,t(598).u1)("telemetryService")},41525:(tt,xe,t)=>{t.d(xe,{Dk:()=>_,IN:()=>r,RE:()=>g,XS:()=>p,cv:()=>C,ho:()=>v,ir:()=>x,m$:()=>f,mk:()=>b,oJ:()=>S,t8:()=>l});var a=t(85478),F=t(84072);const x={keybindingLabelBackground:(0,a.GuP)(a.HDX),keybindingLabelForeground:(0,a.GuP)(a.eUu),keybindingLabelBorder:(0,a.GuP)(a.zUX),keybindingLabelBottomBorder:(0,a.GuP)(a.Qfh),keybindingLabelShadow:(0,a.GuP)(a.f9l)},C={buttonForeground:(0,a.GuP)(a.G_h),buttonSeparator:(0,a.GuP)(a.Q1$),buttonBackground:(0,a.GuP)(a.XJc),buttonHoverBackground:(0,a.GuP)(a.T9h),buttonSecondaryForeground:(0,a.GuP)(a.Inn),buttonSecondaryBackground:(0,a.GuP)(a.xOA),buttonSecondaryHoverBackground:(0,a.GuP)(a.nZG),buttonBorder:(0,a.GuP)(a.raQ)},S={progressBarBackground:(0,a.GuP)(a.BTi)},b={inputActiveOptionBorder:(0,a.GuP)(a.uNK),inputActiveOptionForeground:(0,a.GuP)(a.$$0),inputActiveOptionBackground:(0,a.GuP)(a.c1f)},v=((0,a.GuP)(a.OcU),(0,a.GuP)(a.C5U),(0,a.GuP)(a.t0B),(0,a.GuP)(a.CgL),(0,a.GuP)(a.FiB),(0,a.GuP)(a.f9l),(0,a.GuP)(a.b1q),(0,a.GuP)(a.tYX),(0,a.GuP)(a.JPj),(0,a.GuP)(a.bNw),(0,a.GuP)(a.vwp),{inputBackground:(0,a.GuP)(a.L4c),inputForeground:(0,a.GuP)(a.cws),inputBorder:(0,a.GuP)(a.Zgs),inputValidationInfoBorder:(0,a.GuP)(a.YSW),inputValidationInfoBackground:(0,a.GuP)(a.I$A),inputValidationInfoForeground:(0,a.GuP)(a.L9Z),inputValidationWarningBorder:(0,a.GuP)(a.C1n),inputValidationWarningBackground:(0,a.GuP)(a.ULt),inputValidationWarningForeground:(0,a.GuP)(a.T5N),inputValidationErrorBorder:(0,a.GuP)(a.eYZ),inputValidationErrorBackground:(0,a.GuP)(a._$n),inputValidationErrorForeground:(0,a.GuP)(a.h9z)}),_={listFilterWidgetBackground:(0,a.GuP)(a.pnl),listFilterWidgetOutline:(0,a.GuP)(a.fiM),listFilterWidgetNoMatchesOutline:(0,a.GuP)(a.P9Z),listFilterWidgetShadow:(0,a.GuP)(a.H8q),inputBoxStyles:v,toggleStyles:b},f={badgeBackground:(0,a.GuP)(a.WMx),badgeForeground:(0,a.GuP)(a.zRE),badgeBorder:(0,a.GuP)(a.b1q)},r=((0,a.GuP)(a.vV$),(0,a.GuP)(a.mc0),(0,a.GuP)(a.etE),(0,a.GuP)(a.etE),(0,a.GuP)(a.sAS),{listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,a.GuP)(a.VFX),listFocusForeground:(0,a.GuP)(a.efJ),listFocusOutline:(0,a.GuP)(a.p7Y),listActiveSelectionBackground:(0,a.GuP)(a.Rjz),listActiveSelectionForeground:(0,a.GuP)(a.GVV),listActiveSelectionIconForeground:(0,a.GuP)(a.fED),listFocusAndSelectionOutline:(0,a.GuP)(a.gtq),listFocusAndSelectionBackground:(0,a.GuP)(a.Rjz),listFocusAndSelectionForeground:(0,a.GuP)(a.GVV),listInactiveSelectionBackground:(0,a.GuP)(a.uNx),listInactiveSelectionIconForeground:(0,a.GuP)(a.C9U),listInactiveSelectionForeground:(0,a.GuP)(a.f4y),listInactiveFocusBackground:(0,a.GuP)(a.CQ3),listInactiveFocusOutline:(0,a.GuP)(a.ijf),listHoverBackground:(0,a.GuP)(a.lO1),listHoverForeground:(0,a.GuP)(a.QRv),listDropOverBackground:(0,a.GuP)(a.Yoe),listDropBetweenBackground:(0,a.GuP)(a.yIp),listSelectionOutline:(0,a.GuP)(a.buw),listHoverOutline:(0,a.GuP)(a.buw),treeIndentGuidesStroke:(0,a.GuP)(a.U4U),treeInactiveIndentGuidesStroke:(0,a.GuP)(a.pft),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0,tableColumnsBorder:(0,a.GuP)(a.k5u),tableOddRowsBackgroundColor:(0,a.GuP)(a.sbQ)});function l(m){return function w(m,T){const A={...T};for(const k in m){const O=m[k];A[k]=void 0!==O?(0,a.GuP)(O):void 0}return A}(m,r)}const g={selectBackground:(0,a.GuP)(a.rvE),selectListBackground:(0,a.GuP)(a.lWP),selectForeground:(0,a.GuP)(a.yqq),decoratorRightForeground:(0,a.GuP)(a.NBf),selectBorder:(0,a.GuP)(a.HcB),focusBorder:(0,a.GuP)(a.tAP),listFocusBackground:(0,a.GuP)(a.AlL),listInactiveSelectionIconForeground:(0,a.GuP)(a.c7i),listFocusForeground:(0,a.GuP)(a.nH),listFocusOutline:(0,a.HP_)(a.buw,F.Q1.transparent.toString()),listHoverBackground:(0,a.GuP)(a.lO1),listHoverForeground:(0,a.GuP)(a.QRv),listHoverOutline:(0,a.GuP)(a.buw),selectListBorder:(0,a.GuP)(a.sIe),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},p={shadowColor:(0,a.GuP)(a.f9l),borderColor:(0,a.GuP)(a.g$2),foregroundColor:(0,a.GuP)(a.dd_),backgroundColor:(0,a.GuP)(a.c6Y),selectionForegroundColor:(0,a.GuP)(a.pmr),selectionBackgroundColor:(0,a.GuP)(a.Ux$),selectionBorderColor:(0,a.GuP)(a.SNb),separatorColor:(0,a.GuP)(a.D7X),scrollbarShadow:(0,a.GuP)(a.bXl),scrollbarSliderBackground:(0,a.GuP)(a.gnV),scrollbarSliderHoverBackground:(0,a.GuP)(a.cI_),scrollbarSliderActiveBackground:(0,a.GuP)(a.mhZ)}},85478:(tt,xe,t)=>{t.d(xe,{FdG:()=>v,buw:()=>W,GuP:()=>P,Bbc:()=>b,HP_:()=>D,WMx:()=>ge,zRE:()=>_e,sAS:()=>Sn,vV$:()=>fi,etE:()=>Mn,mc0:()=>Qn,XJc:()=>Xn,raQ:()=>Si,G_h:()=>Gn,T9h:()=>_i,xOA:()=>ui,Inn:()=>ji,nZG:()=>xi,Q1$:()=>Yn,OcU:()=>Vn,C5U:()=>go,t0B:()=>ki,b1q:()=>R,EY1:()=>hi,ZEf:()=>yi,Gj6:()=>Vi,ld8:()=>ut,$BZ:()=>Ct,GNm:()=>Wi,Ztu:()=>Je,YtV:()=>ne,AN$:()=>Ce,Rbi:()=>be,f3U:()=>Ft,Ubg:()=>Bt,ECk:()=>ke,p8Y:()=>rt,S5J:()=>Ze,By2:()=>ue,i61:()=>on,WfR:()=>st,oZ8:()=>ft,tan:()=>Qe,IIb:()=>fn,pOz:()=>vt,WL6:()=>Yt,P6i:()=>qt,B2L:()=>Nt,sjA:()=>lt,_pU:()=>an,HwT:()=>en,seu:()=>ot,rm4:()=>De,QwA:()=>mt,whs:()=>Ne,Stt:()=>qe,Hng:()=>Fe,CgL:()=>it,sIe:()=>me,FiB:()=>He,tAP:()=>q,CU6:()=>j,t4B:()=>U,c1f:()=>B,uNK:()=>fo,$$0:()=>re,L4c:()=>Gi,Zgs:()=>Mi,cws:()=>Ui,_$n:()=>It,eYZ:()=>$t,h9z:()=>Ot,I$A:()=>Pe,YSW:()=>Te,L9Z:()=>fe,ULt:()=>ze,C1n:()=>_t,T5N:()=>Xe,HDX:()=>Wo,zUX:()=>Jo,Qfh:()=>ts,eUu:()=>No,Rjz:()=>Vo,GVV:()=>To,fED:()=>co,yIp:()=>ls,Yoe:()=>ns,pnl:()=>Oo,P9Z:()=>ir,fiM:()=>Uo,H8q:()=>Hl,gtq:()=>gs,VFX:()=>vo,efJ:()=>Fo,eMz:()=>Ds,p7Y:()=>ks,QI5:()=>Gs,lO1:()=>js,QRv:()=>Lo,CQ3:()=>$o,ijf:()=>qr,uNx:()=>_s,f4y:()=>Fr,C9U:()=>is,c6Y:()=>ua,g$2:()=>wa,dd_:()=>Bs,Ux$:()=>La,SNb:()=>Br,pmr:()=>ha,D7X:()=>nu,ILr:()=>Ue,yLC:()=>yn,AjU:()=>Hn,K1Z:()=>Dt,KoI:()=>Ri,yr0:()=>$n,Xp1:()=>ni,uMG:()=>Ii,yLr:()=>m,fAP:()=>At,z5H:()=>Rt,iwL:()=>ec,NBf:()=>Kl,tYX:()=>Pt,bNw:()=>An,JPj:()=>hn,BTi:()=>Ie,ELA:()=>qd,HJZ:()=>zs,AlL:()=>$l,nH:()=>Ar,c7i:()=>xa,er1:()=>zl,x1A:()=>d,bXl:()=>ye,mhZ:()=>Se,gnV:()=>M,cI_:()=>ce,rvE:()=>cn,HcB:()=>Cn,yqq:()=>vn,lWP:()=>_n,k5u:()=>Ir,sbQ:()=>ca,vwp:()=>oe,JO0:()=>p,pft:()=>gl,U4U:()=>Ho,DSL:()=>mn,f9l:()=>Wt});var a=t(43929),F=t(86671),w=t(84072),x=t(5643),C=t(54027),S=t(97018);function b(so){return`--vscode-${so.replace(/\./g,"-")}`}function P(so){return`var(${b(so)})`}function D(so,xo){return`var(${b(so)}, ${xo})`}const v={ColorContribution:"base.contributions.colors"},f=new class _{constructor(){this._onDidChangeSchema=new x.vl,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(xo,Ao,ds,Ws=!1,ao){this.colorsById[xo]={id:xo,description:ds,defaults:Ao,needsTransparency:Ws,deprecationMessage:ao};const _o={type:"string",description:ds,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return ao&&(_o.deprecationMessage=ao),Ws&&(_o.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",_o.patternErrorMessage="This color must be transparent or it will obscure content"),this.colorSchema.properties[xo]=_o,this.colorReferenceSchema.enum.push(xo),this.colorReferenceSchema.enumDescriptions.push(ds),this._onDidChangeSchema.fire(),xo}getColors(){return Object.keys(this.colorsById).map(xo=>this.colorsById[xo])}resolveDefaultColor(xo,Ao){const ds=this.colorsById[xo];if(ds&&ds.defaults)return k(ds.defaults[Ao.type],Ao)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((Ao,ds)=>{const Ws=-1===Ao.indexOf(".")?0:1,ao=-1===ds.indexOf(".")?0:1;return Ws!==ao?Ws-ao:Ao.localeCompare(ds)}).map(Ao=>`- \`${Ao}\`: ${this.colorsById[Ao].description}`).join("\n")}};function d(so,xo,Ao,ds,Ws){return f.registerColor(so,xo,Ao,ds,Ws)}function l(so,xo){return{op:0,value:so,factor:xo}}function g(so,xo){return{op:1,value:so,factor:xo}}function p(so,xo){return{op:2,value:so,factor:xo}}function m(...so){return{op:4,values:so}}function A(so,xo,Ao,ds){return{op:5,value:so,background:xo,factor:Ao,transparency:ds}}function k(so,xo){if(null!==so){if("string"==typeof so)return"#"===so[0]?w.Q1.fromHex(so):xo.getColor(so);if(so instanceof w.Q1)return so;if("object"==typeof so)return function r(so,xo){var Ao,ds,Ws,ao;switch(so.op){case 0:return null===(Ao=k(so.value,xo))||void 0===Ao?void 0:Ao.darken(so.factor);case 1:return null===(ds=k(so.value,xo))||void 0===ds?void 0:ds.lighten(so.factor);case 2:return null===(Ws=k(so.value,xo))||void 0===Ws?void 0:Ws.transparent(so.factor);case 3:{const cs=k(so.background,xo);return cs?null===(ao=k(so.value,xo))||void 0===ao?void 0:ao.makeOpaque(cs):k(so.value,xo)}case 4:for(const cs of so.values){const _o=k(cs,xo);if(_o)return _o}return;case 6:return k(xo.defines(so.if)?so.then:so.else,xo);case 5:{const cs=k(so.value,xo);if(!cs)return;const _o=k(so.background,xo);return _o?cs.isDarkerThan(_o)?w.Q1.getLighterColor(cs,_o,so.factor).transparent(so.transparency):w.Q1.getDarkerColor(cs,_o,so.factor).transparent(so.transparency):cs.transparent(so.factor*so.transparency)}default:throw(0,a.xb)(so)}}(so,xo)}}S.O.add(v.ColorContribution,f);const O="vscode://schemas/workbench-colors",N=S.O.as(C.F.JSONContribution);N.registerSchema(O,f.getColorSchema());const H=new F.uC(()=>N.notifySchemaChanged(O),200);f.onDidChangeSchema(()=>{H.isScheduled()||H.schedule()});var L=t(81644);const j=d("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},L.kg("foreground","Overall foreground color. This color is only used if not overridden by a component.")),U=(d("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},L.kg("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),d("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},L.kg("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),d("descriptionForeground",{light:"#717171",dark:p(j,.7),hcDark:p(j,.7),hcLight:p(j,.7)},L.kg("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),d("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},L.kg("iconForeground","The default color for icons in the workbench."))),q=d("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},L.kg("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),R=d("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},L.kg("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),W=d("contrastActiveBorder",{light:null,dark:null,hcDark:q,hcLight:q},L.kg("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),oe=(d("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},L.kg("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),d("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},L.kg("textLinkForeground","Foreground color for links in text."))),ge=(d("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},L.kg("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),d("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:w.Q1.black,hcLight:"#292929"},L.kg("textSeparatorForeground","Color for text separators.")),d("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},L.kg("textPreformatForeground","Foreground color for preformatted text segments.")),d("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},L.kg("textPreformatBackground","Background color for preformatted text segments.")),d("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},L.kg("textBlockQuoteBackground","Background color for block quotes in text.")),d("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:w.Q1.white,hcLight:"#292929"},L.kg("textBlockQuoteBorder","Border color for block quotes in text.")),d("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:w.Q1.black,hcLight:"#F2F2F2"},L.kg("textCodeBlockBackground","Background color for code blocks in text.")),d("sash.hoverBorder",{dark:q,light:q,hcDark:q,hcLight:q},L.kg("sashActiveBorder","Border color of active sashes.")),d("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:w.Q1.black,hcLight:"#0F4A85"},L.kg("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count."))),_e=d("badge.foreground",{dark:w.Q1.white,light:"#333",hcDark:w.Q1.white,hcLight:w.Q1.white},L.kg("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),ye=d("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},L.kg("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),M=d("scrollbarSlider.background",{dark:w.Q1.fromHex("#797979").transparent(.4),light:w.Q1.fromHex("#646464").transparent(.4),hcDark:p(R,.6),hcLight:p(R,.4)},L.kg("scrollbarSliderBackground","Scrollbar slider background color.")),ce=d("scrollbarSlider.hoverBackground",{dark:w.Q1.fromHex("#646464").transparent(.7),light:w.Q1.fromHex("#646464").transparent(.7),hcDark:p(R,.8),hcLight:p(R,.8)},L.kg("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Se=d("scrollbarSlider.activeBackground",{dark:w.Q1.fromHex("#BFBFBF").transparent(.4),light:w.Q1.fromHex("#000000").transparent(.6),hcDark:R,hcLight:R},L.kg("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Ie=d("progressBar.background",{dark:w.Q1.fromHex("#0E70C0"),light:w.Q1.fromHex("#0E70C0"),hcDark:R,hcLight:R},L.kg("progressBarBackground","Background color of the progress bar that can show for long running operations.")),ne=d("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:w.Q1.black,hcLight:w.Q1.white},L.kg("editorBackground","Editor background color.")),ue=d("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:w.Q1.white,hcLight:j},L.kg("editorForeground","Editor default foreground color.")),it=(d("editorStickyScroll.background",{light:ne,dark:ne,hcDark:ne,hcLight:ne},L.kg("editorStickyScrollBackground","Background color of sticky scroll in the editor")),d("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:w.Q1.fromHex("#0F4A85").transparent(.1)},L.kg("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),d("editorStickyScroll.border",{dark:null,light:null,hcDark:R,hcLight:R},L.kg("editorStickyScrollBorder","Border color of sticky scroll in the editor")),d("editorStickyScroll.shadow",{dark:ye,light:ye,hcDark:ye,hcLight:ye},L.kg("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),d("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:w.Q1.white},L.kg("editorWidgetBackground","Background color of editor widgets, such as find/replace."))),He=d("editorWidget.foreground",{dark:j,light:j,hcDark:j,hcLight:j},L.kg("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),me=d("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:R,hcLight:R},L.kg("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),be=(d("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},L.kg("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),d("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),d("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},L.kg("editorError.foreground","Foreground color of error squigglies in the editor."))),Ce=d("editorError.border",{dark:null,light:null,hcDark:w.Q1.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},L.kg("errorBorder","If set, color of double underlines for errors in the editor.")),Ne=d("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Fe=d("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},L.kg("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),qe=d("editorWarning.border",{dark:null,light:null,hcDark:w.Q1.fromHex("#FFCC00").transparent(.8),hcLight:w.Q1.fromHex("#FFCC00").transparent(.8)},L.kg("warningBorder","If set, color of double underlines for warnings in the editor.")),vt=(d("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),d("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},L.kg("editorInfo.foreground","Foreground color of info squigglies in the editor."))),fn=d("editorInfo.border",{dark:null,light:null,hcDark:w.Q1.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},L.kg("infoBorder","If set, color of double underlines for infos in the editor.")),on=d("editorHint.foreground",{dark:w.Q1.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},L.kg("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Je=(d("editorHint.border",{dark:null,light:null,hcDark:w.Q1.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},L.kg("hintBorder","If set, color of double underlines for hints in the editor.")),d("editorLink.activeForeground",{dark:"#4E94CE",light:w.Q1.blue,hcDark:w.Q1.cyan,hcLight:"#292929"},L.kg("activeLinkForeground","Color of active links."))),ot=d("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},L.kg("editorSelectionBackground","Color of the editor selection.")),De=d("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:w.Q1.white},L.kg("editorSelectionForeground","Color of the selected text for high contrast.")),Qe=d("editor.inactiveSelectionBackground",{light:p(ot,.5),dark:p(ot,.5),hcDark:p(ot,.7),hcLight:p(ot,.5)},L.kg("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),mt=d("editor.selectionHighlightBackground",{light:A(ot,ne,.3,.6),dark:A(ot,ne,.3,.6),hcDark:null,hcLight:null},L.kg("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Ft=(d("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:W,hcLight:W},L.kg("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),d("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},L.kg("editorFindMatch","Color of the current search match.")),d("editor.findMatchForeground",{light:null,dark:null,hcDark:null,hcLight:null},L.kg("editorFindMatchForeground","Text color of the current search match."))),Bt=d("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},L.kg("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),rt=d("editor.findMatchHighlightForeground",{light:null,dark:null,hcDark:null,hcLight:null},L.kg("findMatchHighlightForeground","Foreground color of the other search matches."),!0),ke=(d("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},L.kg("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),d("editor.findMatchBorder",{light:null,dark:null,hcDark:W,hcLight:W},L.kg("editorFindMatchBorder","Border color of the current search match.")),d("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:W,hcLight:W},L.kg("findMatchHighlightBorder","Border color of the other search matches."))),Ze=d("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:p(W,.4),hcLight:p(W,.4)},L.kg("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),st=(d("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},L.kg("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),d("editorHoverWidget.background",{light:it,dark:it,hcDark:it,hcLight:it},L.kg("hoverBackground","Background color of the editor hover."))),ft=(d("editorHoverWidget.foreground",{light:He,dark:He,hcDark:He,hcLight:He},L.kg("hoverForeground","Foreground color of the editor hover.")),d("editorHoverWidget.border",{light:me,dark:me,hcDark:me,hcLight:me},L.kg("hoverBorder","Border color of the editor hover."))),qt=(d("editorHoverWidget.statusBarBackground",{dark:g(st,.2),light:l(st,.05),hcDark:it,hcLight:it},L.kg("statusBarBackground","Background color of the editor hover status bar.")),d("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:w.Q1.white,hcLight:w.Q1.black},L.kg("editorInlayHintForeground","Foreground color of inline hints"))),Yt=d("editorInlayHint.background",{dark:p(ge,.1),light:p(ge,.1),hcDark:p(w.Q1.white,.1),hcLight:p(ge,.1)},L.kg("editorInlayHintBackground","Background color of inline hints")),en=d("editorInlayHint.typeForeground",{dark:qt,light:qt,hcDark:qt,hcLight:qt},L.kg("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),an=d("editorInlayHint.typeBackground",{dark:Yt,light:Yt,hcDark:Yt,hcLight:Yt},L.kg("editorInlayHintBackgroundTypes","Background color of inline hints for types")),lt=d("editorInlayHint.parameterForeground",{dark:qt,light:qt,hcDark:qt,hcLight:qt},L.kg("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Nt=d("editorInlayHint.parameterBackground",{dark:Yt,light:Yt,hcDark:Yt,hcLight:Yt},L.kg("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),tn=d("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},L.kg("editorLightBulbForeground","The color used for the lightbulb actions icon.")),hi=(d("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},L.kg("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),d("editorLightBulbAi.foreground",{dark:tn,light:tn,hcDark:tn,hcLight:tn},L.kg("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),d("editor.snippetTabstopHighlightBackground",{dark:new w.Q1(new w.bU(124,124,124,.3)),light:new w.Q1(new w.bU(10,50,100,.2)),hcDark:new w.Q1(new w.bU(124,124,124,.3)),hcLight:new w.Q1(new w.bU(10,50,100,.2))},L.kg("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),d("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),d("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),d("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new w.Q1(new w.bU(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},L.kg("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),new w.Q1(new w.bU(155,185,85,.2))),yi=new w.Q1(new w.bU(255,0,0,.2)),Vi=d("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},L.kg("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Wi=d("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},L.kg("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),ut=(d("diffEditor.insertedLineBackground",{dark:hi,light:hi,hcDark:null,hcLight:null},L.kg("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),d("diffEditor.removedLineBackground",{dark:yi,light:yi,hcDark:null,hcLight:null},L.kg("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),d("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),d("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),d("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content."))),Ct=d("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),Wt=(d("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},L.kg("diffEditorInsertedOutline","Outline color for the text that got inserted.")),d("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},L.kg("diffEditorRemovedOutline","Outline color for text that got removed.")),d("diffEditor.border",{dark:null,light:null,hcDark:R,hcLight:R},L.kg("diffEditorBorder","Border color between the two text editors.")),d("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},L.kg("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),d("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},L.kg("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),d("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},L.kg("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),d("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},L.kg("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),d("widget.shadow",{dark:p(w.Q1.black,.36),light:p(w.Q1.black,.16),hcDark:null,hcLight:null},L.kg("widgetShadow","Shadow color of widgets such as find/replace inside the editor."))),mn=d("widget.border",{dark:null,light:null,hcDark:R,hcLight:R},L.kg("widgetBorder","Border color of widgets such as find/replace inside the editor.")),En=d("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},L.kg("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),Qn=(d("toolbar.hoverOutline",{dark:null,light:null,hcDark:W,hcLight:W},L.kg("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),d("toolbar.activeBackground",{dark:g(En,.1),light:l(En,.1),hcDark:null,hcLight:null},L.kg("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),d("breadcrumb.foreground",{light:p(j,.8),dark:p(j,.8),hcDark:p(j,.8),hcLight:p(j,.8)},L.kg("breadcrumbsFocusForeground","Color of focused breadcrumb items."))),fi=d("breadcrumb.background",{light:ne,dark:ne,hcDark:ne,hcLight:ne},L.kg("breadcrumbsBackground","Background color of breadcrumb items.")),Mn=d("breadcrumb.focusForeground",{light:l(j,.2),dark:g(j,.1),hcDark:g(j,.1),hcLight:g(j,.1)},L.kg("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Sn=d("breadcrumb.activeSelectionForeground",{light:l(j,.2),dark:g(j,.1),hcDark:g(j,.1),hcLight:g(j,.1)},L.kg("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),at=(d("breadcrumbPicker.background",{light:it,dark:it,hcDark:it,hcLight:it},L.kg("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),w.Q1.fromHex("#40C8AE").transparent(.5)),Mt=w.Q1.fromHex("#40A6FF").transparent(.5),Et=w.Q1.fromHex("#606060").transparent(.4),Vt=.4,sn=d("merge.currentHeaderBackground",{dark:at,light:at,hcDark:null,hcLight:null},L.kg("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),oi=(d("merge.currentContentBackground",{dark:p(sn,Vt),light:p(sn,Vt),hcDark:p(sn,Vt),hcLight:p(sn,Vt)},L.kg("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),d("merge.incomingHeaderBackground",{dark:Mt,light:Mt,hcDark:null,hcLight:null},L.kg("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),gi=(d("merge.incomingContentBackground",{dark:p(oi,Vt),light:p(oi,Vt),hcDark:p(oi,Vt),hcLight:p(oi,Vt)},L.kg("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),d("merge.commonHeaderBackground",{dark:Et,light:Et,hcDark:null,hcLight:null},L.kg("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),li=(d("merge.commonContentBackground",{dark:p(gi,Vt),light:p(gi,Vt),hcDark:p(gi,Vt),hcLight:p(gi,Vt)},L.kg("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),d("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},L.kg("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),At=(d("editorOverviewRuler.currentContentForeground",{dark:p(sn,1),light:p(sn,1),hcDark:li,hcLight:li},L.kg("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),d("editorOverviewRuler.incomingContentForeground",{dark:p(oi,1),light:p(oi,1),hcDark:li,hcLight:li},L.kg("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),d("editorOverviewRuler.commonContentForeground",{dark:p(gi,1),light:p(gi,1),hcDark:li,hcLight:li},L.kg("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),d("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},L.kg("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0)),Rt=d("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},L.kg("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Pt=d("problemsErrorIcon.foreground",{dark:be,light:be,hcDark:be,hcLight:be},L.kg("problemsErrorIconForeground","The color used for the problems error icon.")),hn=d("problemsWarningIcon.foreground",{dark:Fe,light:Fe,hcDark:Fe,hcLight:Fe},L.kg("problemsWarningIconForeground","The color used for the problems warning icon.")),An=d("problemsInfoIcon.foreground",{dark:vt,light:vt,hcDark:vt,hcLight:vt},L.kg("problemsInfoIconForeground","The color used for the problems info icon.")),Hn=d("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},L.kg("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),ni=d("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},L.kg("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),$n=d("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},L.kg("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Ri=d("minimap.infoHighlight",{dark:vt,light:vt,hcDark:fn,hcLight:fn},L.kg("minimapInfo","Minimap marker color for infos.")),Ii=d("minimap.warningHighlight",{dark:Fe,light:Fe,hcDark:qe,hcLight:qe},L.kg("overviewRuleWarning","Minimap marker color for warnings.")),yn=d("minimap.errorHighlight",{dark:new w.Q1(new w.bU(255,18,18,.7)),light:new w.Q1(new w.bU(255,18,18,.7)),hcDark:new w.Q1(new w.bU(255,50,50,1)),hcLight:"#B5200D"},L.kg("minimapError","Minimap marker color for errors.")),Ue=d("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("minimapBackground","Minimap background color.")),Dt=d("minimap.foregroundOpacity",{dark:w.Q1.fromHex("#000f"),light:w.Q1.fromHex("#000f"),hcDark:w.Q1.fromHex("#000f"),hcLight:w.Q1.fromHex("#000f")},L.kg("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Gi=(d("minimapSlider.background",{light:p(M,.5),dark:p(M,.5),hcDark:p(M,.5),hcLight:p(M,.5)},L.kg("minimapSliderBackground","Minimap slider background color.")),d("minimapSlider.hoverBackground",{light:p(ce,.5),dark:p(ce,.5),hcDark:p(ce,.5),hcLight:p(ce,.5)},L.kg("minimapSliderHoverBackground","Minimap slider background color when hovering.")),d("minimapSlider.activeBackground",{light:p(Se,.5),dark:p(Se,.5),hcDark:p(Se,.5),hcLight:p(Se,.5)},L.kg("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),d("charts.foreground",{dark:j,light:j,hcDark:j,hcLight:j},L.kg("chartsForeground","The foreground color used in charts.")),d("charts.lines",{dark:p(j,.5),light:p(j,.5),hcDark:p(j,.5),hcLight:p(j,.5)},L.kg("chartsLines","The color used for horizontal lines in charts.")),d("charts.red",{dark:be,light:be,hcDark:be,hcLight:be},L.kg("chartsRed","The red color used in chart visualizations.")),d("charts.blue",{dark:vt,light:vt,hcDark:vt,hcLight:vt},L.kg("chartsBlue","The blue color used in chart visualizations.")),d("charts.yellow",{dark:Fe,light:Fe,hcDark:Fe,hcLight:Fe},L.kg("chartsYellow","The yellow color used in chart visualizations.")),d("charts.orange",{dark:Hn,light:Hn,hcDark:Hn,hcLight:Hn},L.kg("chartsOrange","The orange color used in chart visualizations.")),d("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},L.kg("chartsGreen","The green color used in chart visualizations.")),d("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},L.kg("chartsPurple","The purple color used in chart visualizations.")),d("input.background",{dark:"#3C3C3C",light:w.Q1.white,hcDark:w.Q1.black,hcLight:w.Q1.white},L.kg("inputBoxBackground","Input box background."))),Ui=d("input.foreground",{dark:j,light:j,hcDark:j,hcLight:j},L.kg("inputBoxForeground","Input box foreground.")),Mi=d("input.border",{dark:null,light:null,hcDark:R,hcLight:R},L.kg("inputBoxBorder","Input box border.")),fo=d("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:R,hcLight:R},L.kg("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),B=(d("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},L.kg("inputOption.hoverBackground","Background color of activated options in input fields.")),d("inputOption.activeBackground",{dark:p(q,.4),light:p(q,.2),hcDark:w.Q1.transparent,hcLight:w.Q1.transparent},L.kg("inputOption.activeBackground","Background hover color of options in input fields."))),re=d("inputOption.activeForeground",{dark:w.Q1.white,light:w.Q1.black,hcDark:j,hcLight:j},L.kg("inputOption.activeForeground","Foreground color of activated options in input fields.")),Pe=(d("input.placeholderForeground",{light:p(j,.5),dark:p(j,.5),hcDark:p(j,.7),hcLight:p(j,.7)},L.kg("inputPlaceholderForeground","Input box foreground color for placeholder text.")),d("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:w.Q1.black,hcLight:w.Q1.white},L.kg("inputValidationInfoBackground","Input validation background color for information severity."))),fe=d("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:j},L.kg("inputValidationInfoForeground","Input validation foreground color for information severity.")),Te=d("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:R,hcLight:R},L.kg("inputValidationInfoBorder","Input validation border color for information severity.")),ze=d("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:w.Q1.black,hcLight:w.Q1.white},L.kg("inputValidationWarningBackground","Input validation background color for warning severity.")),Xe=d("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:j},L.kg("inputValidationWarningForeground","Input validation foreground color for warning severity.")),_t=d("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:R,hcLight:R},L.kg("inputValidationWarningBorder","Input validation border color for warning severity.")),It=d("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:w.Q1.black,hcLight:w.Q1.white},L.kg("inputValidationErrorBackground","Input validation background color for error severity.")),Ot=d("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:j},L.kg("inputValidationErrorForeground","Input validation foreground color for error severity.")),$t=d("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:R,hcLight:R},L.kg("inputValidationErrorBorder","Input validation border color for error severity.")),cn=d("dropdown.background",{dark:"#3C3C3C",light:w.Q1.white,hcDark:w.Q1.black,hcLight:w.Q1.white},L.kg("dropdownBackground","Dropdown background.")),_n=d("dropdown.listBackground",{dark:null,light:null,hcDark:w.Q1.black,hcLight:w.Q1.white},L.kg("dropdownListBackground","Dropdown list background.")),vn=d("dropdown.foreground",{dark:"#F0F0F0",light:j,hcDark:w.Q1.white,hcLight:j},L.kg("dropdownForeground","Dropdown foreground.")),Cn=d("dropdown.border",{dark:cn,light:"#CECECE",hcDark:R,hcLight:R},L.kg("dropdownBorder","Dropdown border.")),Gn=d("button.foreground",{dark:w.Q1.white,light:w.Q1.white,hcDark:w.Q1.white,hcLight:w.Q1.white},L.kg("buttonForeground","Button foreground color.")),Yn=d("button.separator",{dark:p(Gn,.4),light:p(Gn,.4),hcDark:p(Gn,.4),hcLight:p(Gn,.4)},L.kg("buttonSeparator","Button separator color.")),Xn=d("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},L.kg("buttonBackground","Button background color.")),_i=d("button.hoverBackground",{dark:g(Xn,.2),light:l(Xn,.2),hcDark:Xn,hcLight:Xn},L.kg("buttonHoverBackground","Button background color when hovering.")),Si=d("button.border",{dark:R,light:R,hcDark:R,hcLight:R},L.kg("buttonBorder","Button border color.")),ji=d("button.secondaryForeground",{dark:w.Q1.white,light:w.Q1.white,hcDark:w.Q1.white,hcLight:j},L.kg("buttonSecondaryForeground","Secondary button foreground color.")),ui=d("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:w.Q1.white},L.kg("buttonSecondaryBackground","Secondary button background color.")),xi=d("button.secondaryHoverBackground",{dark:g(ui,.2),light:l(ui,.2),hcDark:null,hcLight:null},L.kg("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Vn=d("checkbox.background",{dark:cn,light:cn,hcDark:cn,hcLight:cn},L.kg("checkbox.background","Background color of checkbox widget.")),ki=(d("checkbox.selectBackground",{dark:it,light:it,hcDark:it,hcLight:it},L.kg("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),d("checkbox.foreground",{dark:vn,light:vn,hcDark:vn,hcLight:vn},L.kg("checkbox.foreground","Foreground color of checkbox widget."))),go=d("checkbox.border",{dark:Cn,light:Cn,hcDark:Cn,hcLight:Cn},L.kg("checkbox.border","Border color of checkbox widget.")),Wo=(d("checkbox.selectBorder",{dark:U,light:U,hcDark:U,hcLight:U},L.kg("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),d("keybindingLabel.background",{dark:new w.Q1(new w.bU(128,128,128,.17)),light:new w.Q1(new w.bU(221,221,221,.4)),hcDark:w.Q1.transparent,hcLight:w.Q1.transparent},L.kg("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut."))),No=d("keybindingLabel.foreground",{dark:w.Q1.fromHex("#CCCCCC"),light:w.Q1.fromHex("#555555"),hcDark:w.Q1.white,hcLight:j},L.kg("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Jo=d("keybindingLabel.border",{dark:new w.Q1(new w.bU(51,51,51,.6)),light:new w.Q1(new w.bU(204,204,204,.4)),hcDark:new w.Q1(new w.bU(111,195,223)),hcLight:R},L.kg("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),ts=d("keybindingLabel.bottomBorder",{dark:new w.Q1(new w.bU(68,68,68,.6)),light:new w.Q1(new w.bU(187,187,187,.4)),hcDark:new w.Q1(new w.bU(111,195,223)),hcLight:j},L.kg("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),vo=d("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Fo=d("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ks=d("list.focusOutline",{dark:q,light:q,hcDark:W,hcLight:W},L.kg("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),gs=d("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Vo=d("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:w.Q1.fromHex("#0F4A85").transparent(.1)},L.kg("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),To=d("list.activeSelectionForeground",{dark:w.Q1.white,light:w.Q1.white,hcDark:null,hcLight:null},L.kg("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),co=d("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),_s=d("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:w.Q1.fromHex("#0F4A85").transparent(.1)},L.kg("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Fr=d("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),is=d("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),$o=d("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),qr=d("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),js=d("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:w.Q1.white.transparent(.1),hcLight:w.Q1.fromHex("#0F4A85").transparent(.1)},L.kg("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Lo=d("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.kg("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),ns=d("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},L.kg("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),ls=d("list.dropBetweenBackground",{dark:U,light:U,hcDark:null,hcLight:null},L.kg("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),Gs=d("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:q,hcLight:q},L.kg("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Ds=d("list.focusHighlightForeground",{dark:Gs,light:function T(so,xo,Ao){return{op:6,if:so,then:xo,else:Ao}}(Vo,Gs,"#BBE7FF"),hcDark:Gs,hcLight:Gs},L.kg("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),Oo=(d("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},L.kg("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),d("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},L.kg("listErrorForeground","Foreground color of list items containing errors.")),d("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},L.kg("listWarningForeground","Foreground color of list items containing warnings.")),d("listFilterWidget.background",{light:l(it,0),dark:g(it,0),hcDark:it,hcLight:it},L.kg("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."))),Uo=d("listFilterWidget.outline",{dark:w.Q1.transparent,light:w.Q1.transparent,hcDark:"#f38518",hcLight:"#007ACC"},L.kg("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),ir=d("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:R,hcLight:R},L.kg("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Hl=d("listFilterWidget.shadow",{dark:Wt,light:Wt,hcDark:Wt,hcLight:Wt},L.kg("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),Ho=(d("list.filterMatchBackground",{dark:Bt,light:Bt,hcDark:null,hcLight:null},L.kg("listFilterMatchHighlight","Background color of the filtered match.")),d("list.filterMatchBorder",{dark:ke,light:ke,hcDark:R,hcLight:W},L.kg("listFilterMatchHighlightBorder","Border color of the filtered match.")),d("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},L.kg("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized.")),d("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},L.kg("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),gl=d("tree.inactiveIndentGuidesStroke",{dark:p(Ho,.4),light:p(Ho,.4),hcDark:p(Ho,.4),hcLight:p(Ho,.4)},L.kg("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Ir=d("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},L.kg("tableColumnsBorder","Table border color between columns.")),ca=d("tree.tableOddRowsBackground",{dark:p(j,.04),light:p(j,.04),hcDark:null,hcLight:null},L.kg("tableOddRowsBackgroundColor","Background color for odd table rows.")),wa=d("menu.border",{dark:null,light:null,hcDark:R,hcLight:R},L.kg("menuBorder","Border color of menus.")),Bs=d("menu.foreground",{dark:vn,light:vn,hcDark:vn,hcLight:vn},L.kg("menuForeground","Foreground color of menu items.")),ua=d("menu.background",{dark:cn,light:cn,hcDark:cn,hcLight:cn},L.kg("menuBackground","Background color of menu items.")),ha=d("menu.selectionForeground",{dark:To,light:To,hcDark:To,hcLight:To},L.kg("menuSelectionForeground","Foreground color of the selected menu item in menus.")),La=d("menu.selectionBackground",{dark:Vo,light:Vo,hcDark:Vo,hcLight:Vo},L.kg("menuSelectionBackground","Background color of the selected menu item in menus.")),Br=d("menu.selectionBorder",{dark:null,light:null,hcDark:W,hcLight:W},L.kg("menuSelectionBorder","Border color of the selected menu item in menus.")),nu=d("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:R,hcLight:R},L.kg("menuSeparatorBackground","Color of a separator menu item in menus.")),qd=d("quickInput.background",{dark:it,light:it,hcDark:it,hcLight:it},L.kg("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),zs=d("quickInput.foreground",{dark:He,light:He,hcDark:He,hcLight:He},L.kg("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),zl=d("quickInputTitle.background",{dark:new w.Q1(new w.bU(255,255,255,.105)),light:new w.Q1(new w.bU(0,0,0,.06)),hcDark:"#000000",hcLight:w.Q1.white},L.kg("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Kl=d("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:w.Q1.white,hcLight:"#0F4A85"},L.kg("pickerGroupForeground","Quick picker color for grouping labels.")),ec=d("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:w.Q1.white,hcLight:"#0F4A85"},L.kg("pickerGroupBorder","Quick picker color for grouping borders.")),bd=d("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,L.kg("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),Ar=d("quickInputList.focusForeground",{dark:To,light:To,hcDark:To,hcLight:To},L.kg("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),xa=d("quickInputList.focusIconForeground",{dark:co,light:co,hcDark:co,hcLight:co},L.kg("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),$l=d("quickInputList.focusBackground",{dark:m(bd,Vo),light:m(bd,Vo),hcDark:null,hcLight:null},L.kg("quickInput.listFocusBackground","Quick picker background color for the focused item."));d("search.resultsInfoForeground",{light:j,dark:p(j,.65),hcDark:j,hcLight:j},L.kg("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),d("searchEditor.findMatchBackground",{light:p(Bt,.66),dark:p(Bt,.66),hcDark:Bt,hcLight:Bt},L.kg("searchEditor.queryMatch","Color of the Search Editor query matches.")),d("searchEditor.findMatchBorder",{light:p(ke,.66),dark:p(ke,.66),hcDark:ke,hcLight:ke},L.kg("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."))},24453:(tt,xe,t)=>{t.d(xe,{$_:()=>O,HT:()=>p,pU:()=>g});var f,d,Z,a=t(86671),F=t(15320),w=t(66731),x=t(81072),C=t(5643),S=t(66702),b=t(32417),P=t(81644),D=t(54027),v=t(97018);(f||(f={})).getDefinition=function te(X,U){let q=X.defaults;for(;x.L.isThemeIcon(q);){const R=l.getIcon(q.id);if(!R)return;q=R.defaults}return q},(Z=d||(d={})).toJSONObject=function te(U){return{weight:U.weight,style:U.style,src:U.src.map(q=>({format:q.format,location:q.location.toString()}))}},Z.fromJSONObject=function X(U){const q=R=>(0,S.Kg)(R)?R:void 0;if(U&&Array.isArray(U.src)&&U.src.every(R=>(0,S.Kg)(R.format)&&(0,S.Kg)(R.location)))return{weight:q(U.weight),style:q(U.style),src:U.src.map(R=>({format:R.format,location:b.r.parse(R.location)}))}};const l=new class r{constructor(){this._onDidChange=new C.vl,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,P.kg)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,P.kg)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${x.L.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(te,X,U,q){const R=this.iconsById[te];if(R){if(U&&!R.description){R.description=U,this.iconSchema.properties[te].markdownDescription=`${U} $(${te})`;const oe=this.iconReferenceSchema.enum.indexOf(te);-1!==oe&&(this.iconReferenceSchema.enumDescriptions[oe]=U),this._onDidChange.fire()}return R}this.iconsById[te]={id:te,description:U,defaults:X,deprecationMessage:q};const Y={$ref:"#/definitions/icons"};return q&&(Y.deprecationMessage=q),U&&(Y.markdownDescription=`${U}: $(${te})`),this.iconSchema.properties[te]=Y,this.iconReferenceSchema.enum.push(te),this.iconReferenceSchema.enumDescriptions.push(U||""),this._onDidChange.fire(),{id:te}}getIcons(){return Object.keys(this.iconsById).map(te=>this.iconsById[te])}getIcon(te){return this.iconsById[te]}getIconSchema(){return this.iconSchema}toString(){const te=(R,W)=>R.id.localeCompare(W.id),X=R=>{for(;x.L.isThemeIcon(R.defaults);)R=this.iconsById[R.defaults.id];return`codicon codicon-${R?R.id:""}`},U=[];U.push("| preview     | identifier                        | default codicon ID                | description"),U.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const q=Object.keys(this.iconsById).map(R=>this.iconsById[R]);for(const R of q.filter(W=>!!W.description).sort(te))U.push(`|<i class="${X(R)}"></i>|${R.id}|${x.L.isThemeIcon(R.defaults)?R.defaults.id:R.id}|${R.description||""}|`);U.push("| preview     | identifier                        "),U.push("| ----------- | --------------------------------- |");for(const R of q.filter(W=>!x.L.isThemeIcon(W.defaults)).sort(te))U.push(`|<i class="${X(R)}"></i>|${R.id}|`);return U.join("\n")}};function g(Z,te,X,U){return l.registerIcon(Z,te,X,U)}function p(){return l}v.O.add("base.contributions.icons",l),function m(){const Z=(0,w.J)();for(const te in Z){const X="\\"+Z[te].toString(16);l.registerIcon(te,{fontCharacter:X})}}();const T="vscode://schemas/icons",A=v.O.as(D.F.JSONContribution);A.registerSchema(T,l.getIconSchema());const k=new a.uC(()=>A.notifySchemaChanged(T),200);l.onDidChange(()=>{k.isScheduled()||k.schedule()});const O=g("widget-close",F.W.close,(0,P.kg)("widgetClose","Icon for the close action in widgets."));g("goto-previous-location",F.W.arrowUp,(0,P.kg)("previousChangeIcon","Icon for goto previous editor location.")),g("goto-next-location",F.W.arrowDown,(0,P.kg)("nextChangeIcon","Icon for goto next editor location.")),x.L.modify(F.W.sync,"spin"),x.L.modify(F.W.loading,"spin")},8374:(tt,xe,t)=>{t.d(xe,{Bb:()=>F,HD:()=>w,zM:()=>a});var a=function(x){return x.DARK="dark",x.LIGHT="light",x.HIGH_CONTRAST_DARK="hcDark",x.HIGH_CONTRAST_LIGHT="hcLight",x}(a||{});function F(x){return x===a.HIGH_CONTRAST_DARK||x===a.HIGH_CONTRAST_LIGHT}function w(x){return x===a.DARK||x===a.HIGH_CONTRAST_DARK}},48187:(tt,xe,t)=>{t.d(xe,{Fd:()=>D,Gy:()=>S,Pz:()=>P,Yf:()=>b,lR:()=>d,zy:()=>f});var a=t(5643),F=t(99031),w=t(598),x=t(97018),C=t(8374);const S=(0,w.u1)("themeService");function b(r){return{id:r}}function P(r){switch(r){case C.zM.DARK:return"vs-dark";case C.zM.HIGH_CONTRAST_DARK:return"hc-black";case C.zM.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const D={ThemingContribution:"base.contributions.theming"},_=new class v{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new a.vl}onColorThemeChange(l){return this.themingParticipants.push(l),this.onThemingParticipantAddedEmitter.fire(l),(0,F.s)(()=>{const g=this.themingParticipants.indexOf(l);this.themingParticipants.splice(g,1)})}getThemingParticipants(){return this.themingParticipants}};function f(r){return _.onColorThemeChange(r)}x.O.add(D.ThemingContribution,_);class d extends F.jG{constructor(l){super(),this.themeService=l,this.theme=l.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(g=>this.onThemeChange(g)))}onThemeChange(l){this.theme=l,this.updateStyles()}updateStyles(){}}},88270:(tt,xe,t)=>{t.d(xe,{$D:()=>F,I_:()=>x,To:()=>w,Ym:()=>C});const F=(0,t(598).u1)("undoRedoService");class w{constructor(b,P){this.resource=b,this.elements=P}}class x{constructor(){this.id=x._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}x._ID=0,x.None=new x;class C{constructor(){this.id=C._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}C._ID=0,C.None=new C},97014:(tt,xe,t)=>{t.d(xe,{A7:()=>P,Q_:()=>_,VR:()=>S,cn:()=>p,ct:()=>m,jB:()=>b,kF:()=>l,mX:()=>r});var a=t(81644),F=t(68200),x=(t(98360),t(32417));const S=(0,t(598).u1)("contextService");function b(T){const A=T;return"string"==typeof A?.id&&x.r.isUri(A.uri)}function P(T){const A=T;return"string"==typeof A?.id&&!b(T)&&!function f(T){const A=T;return"string"==typeof A?.id&&x.r.isUri(A.configPath)}(T)}const D={id:"ext-dev"},v={id:"empty-window"};function _(T,A){return"string"==typeof T||typeof T>"u"?"string"==typeof T?{id:(0,F.P8)(T)}:A?D:v:T.configuration?{id:T.id,configPath:T.configuration}:1===T.folders.length?{id:T.id,uri:T.folders[0].uri}:{id:T.id}}class r{constructor(A,k){this.raw=k,this.uri=A.uri,this.index=A.index,this.name=A.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const l="code-workspace",p=((0,a.kg)("codeWorkspace","Code Workspace"),"4064f6ec-cb38-4ad0-af64-ee6467e63c82");function m(T){return T.id===p}},18278:(tt,xe,t)=>{t.d(xe,{L:()=>F});const F=(0,t(598).u1)("workspaceTrustManagementService")},94566:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar {\n\twhite-space: nowrap;\n\theight: 100%;\n}\n\n.monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\theight: 100%;\n\twidth: 100%;\n\talign-items: center;\n}\n\n.monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-action-bar .action-item {\n\tdisplay: block;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item .icon,\n.monaco-action-bar .action-item .codicon {\n\tdisplay: block;\n}\n\n.monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 16px;\n\theight: 16px;\n}\n\n.monaco-action-bar .action-label {\n\tdisplay: flex;\n\tfont-size: 11px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-action-bar .action-item.disabled .action-label,\n.monaco-action-bar .action-item.disabled .action-label::before,\n.monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-action-bar .action-item .action-label.separator {\n\twidth: 1px;\n\theight: 16px;\n\tmargin: 5px 4px !important;\n\tcursor: default;\n\tmin-width: 1px;\n\tpadding: 0;\n\tbackground-color: #bbb;\n}\n\n.secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item {\n\tdisplay: flex;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item > .action-dropdown-item-separator {\n\tdisplay: flex;\n\talign-items: center;\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item > .action-dropdown-item-separator > div {\n\twidth: 1px;\n}\n",""]);const S=C},35038:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-aria-container {\n\tposition: absolute; /* try to hide from window but not from screen readers */\n\tleft:-999em;\n}",""]);const S=C},18880:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-text-button {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 4px;\n\tborder-radius: 2px;\n\ttext-align: center;\n\tcursor: pointer;\n\tjustify-content: center;\n\talign-items: center;\n\tborder: 1px solid var(--vscode-button-border, transparent);\n\tline-height: 18px;\n}\n\n.monaco-text-button:focus {\n\toutline-offset: 2px !important;\n}\n\n.monaco-text-button:hover {\n\ttext-decoration: none !important;\n}\n\n.monaco-button.disabled:focus,\n.monaco-button.disabled {\n\topacity: 0.4 !important;\n\tcursor: default;\n}\n\n.monaco-text-button .codicon {\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n\n.monaco-text-button.monaco-text-button-with-short-label {\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tpadding: 0 4px;\n\toverflow: hidden;\n\theight: 28px;\n}\n\n.monaco-text-button.monaco-text-button-with-short-label > .monaco-button-label {\n\tflex-basis: 100%;\n}\n\n.monaco-text-button.monaco-text-button-with-short-label > .monaco-button-label-short {\n\tflex-grow: 1;\n\twidth: 0;\n\toverflow: hidden;\n}\n\n.monaco-text-button.monaco-text-button-with-short-label > .monaco-button-label,\n.monaco-text-button.monaco-text-button-with-short-label > .monaco-button-label-short {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-weight: normal;\n\tfont-style: inherit;\n\tpadding: 4px 0;\n}\n\n.monaco-button-dropdown {\n\tdisplay: flex;\n\tcursor: pointer;\n}\n\n.monaco-button-dropdown.disabled {\n\tcursor: default;\n}\n\n.monaco-button-dropdown > .monaco-button:focus {\n\toutline-offset: -1px !important;\n}\n\n.monaco-button-dropdown.disabled > .monaco-button.disabled,\n.monaco-button-dropdown.disabled > .monaco-button.disabled:focus,\n.monaco-button-dropdown.disabled > .monaco-button-dropdown-separator {\n\topacity: 0.4 !important;\n}\n\n.monaco-button-dropdown > .monaco-button.monaco-text-button {\n\tborder-right-width: 0 !important;\n}\n\n.monaco-button-dropdown .monaco-button-dropdown-separator {\n\tpadding: 4px 0;\n\tcursor: default;\n}\n\n.monaco-button-dropdown .monaco-button-dropdown-separator > div {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-button-dropdown > .monaco-button.monaco-dropdown-button {\n\tborder: 1px solid var(--vscode-button-border, transparent);\n\tborder-left-width: 0 !important;\n\tborder-radius: 0 2px 2px 0;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-button-dropdown > .monaco-button.monaco-text-button {\n\tborder-radius: 2px 0 0 2px;\n}\n\n.monaco-description-button {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tmargin: 4px 5px; /* allows button focus outline to be visible */\n}\n\n.monaco-description-button .monaco-button-description {\n\tfont-style: italic;\n\tfont-size: 11px;\n\tpadding: 4px 20px;\n}\n\n.monaco-description-button .monaco-button-label,\n.monaco-description-button .monaco-button-description {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-description-button .monaco-button-label > .codicon,\n.monaco-description-button .monaco-button-description > .codicon {\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n\n/* default color styles - based on CSS variables */\n\n.monaco-button.default-colors,\n.monaco-button-dropdown.default-colors > .monaco-button{\n\tcolor: var(--vscode-button-foreground);\n\tbackground-color: var(--vscode-button-background);\n}\n\n.monaco-button.default-colors:hover,\n.monaco-button-dropdown.default-colors > .monaco-button:hover {\n\tbackground-color: var(--vscode-button-hoverBackground);\n}\n\n.monaco-button.default-colors.secondary,\n.monaco-button-dropdown.default-colors > .monaco-button.secondary {\n\tcolor: var(--vscode-button-secondaryForeground);\n\tbackground-color: var(--vscode-button-secondaryBackground);\n}\n\n.monaco-button.default-colors.secondary:hover,\n.monaco-button-dropdown.default-colors > .monaco-button.secondary:hover {\n\tbackground-color: var(--vscode-button-secondaryHoverBackground);\n}\n\n.monaco-button-dropdown.default-colors .monaco-button-dropdown-separator {\n\tbackground-color: var(--vscode-button-background);\n\tborder-top: 1px solid var(--vscode-button-border);\n\tborder-bottom: 1px solid var(--vscode-button-border);\n}\n\n.monaco-button-dropdown.default-colors .monaco-button.secondary + .monaco-button-dropdown-separator {\n\tbackground-color: var(--vscode-button-secondaryBackground);\n}\n\n.monaco-button-dropdown.default-colors .monaco-button-dropdown-separator > div {\n\tbackground-color: var(--vscode-button-separator);\n}\n",""]);const S=C},714:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codicon-wrench-subaction {\n\topacity: 0.5;\n}\n\n@keyframes codicon-spin {\n\t100% {\n\t\ttransform:rotate(360deg);\n\t}\n}\n\n.codicon-sync.codicon-modifier-spin,\n.codicon-loading.codicon-modifier-spin,\n.codicon-gear.codicon-modifier-spin,\n.codicon-notebook-state-executing.codicon-modifier-spin {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.5s steps(30) infinite;\n}\n\n.codicon-modifier-disabled {\n\topacity: 0.4;\n}\n\n/* custom speed & easing for loading icon */\n.codicon-loading,\n.codicon-tree-item-loading::before {\n\tanimation-duration: 1s !important;\n\tanimation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;\n}\n",""]);const S=C},12171:(tt,xe,t)=>{t.d(xe,{A:()=>v});var a=t(8564),F=t.n(a),w=t(98557),x=t.n(w),C=t(99560),S=t.n(C),b=new URL("./codicon.ttf","file:///Q:/Repos/AlmMaster/Analysis-Services/AlmToolkit/AlmToolkit/html-resources/node_modules/monaco-editor/esm/vs/base/browser/ui/codicons/codicon/codicon.css"),P=x()(F()),D=S()(b);P.push([tt.id,`/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n@font-face {\n\tfont-family: "codicon";\n\tfont-display: block;\n\tsrc: url(${D}) format("truetype");\n}\n\n.codicon[class*='codicon-'] {\n\tfont: normal normal normal 16px/1 codicon;\n\tdisplay: inline-block;\n\ttext-decoration: none;\n\ttext-rendering: auto;\n\ttext-align: center;\n\ttext-transform: none;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tuser-select: none;\n\t-webkit-user-select: none;\n}\n\n/* icon rules are dynamically created by the platform theme service (see iconsStyleSheet.ts) */\n`,""]);const v=P},8970:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view {\n\tposition: absolute;\n}\n\n.context-view.fixed {\n\tall: initial;\n\tfont-family: inherit;\n\tfont-size: 13px;\n\tposition: fixed;\n\tcolor: inherit;\n}\n",""]);const S=C},81684:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-count-badge {\n\tpadding: 3px 6px;\n\tborder-radius: 11px;\n\tfont-size: 11px;\n\tmin-width: 18px;\n\tmin-height: 18px;\n\tline-height: 11px;\n\tfont-weight: normal;\n\ttext-align: center;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n}\n\n.monaco-count-badge.long {\n\tpadding: 2px 3px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n",""]);const S=C},79862:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-dropdown {\n\theight: 100%;\n\tpadding: 0;\n}\n\n.monaco-dropdown > .dropdown-label {\n\tcursor: pointer;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-dropdown > .dropdown-label > .action-label.disabled {\n\tcursor: default;\n}\n\n.monaco-dropdown-with-primary {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-primary > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n",""]);const S=C},8474:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- Find input ---------- */\n\n.monaco-findInput {\n\tposition: relative;\n}\n\n.monaco-findInput .monaco-inputbox {\n\tfont-size: 13px;\n\twidth: 100%;\n}\n\n.monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n.vs .monaco-findInput.disabled {\n\tbackground-color: #E1E1E1;\n}\n\n/* Theming */\n.vs-dark .monaco-findInput.disabled {\n\tbackground-color: #333;\n}\n\n/* Highlighting */\n.monaco-findInput.highlight-0 .controls,\n.hc-light .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-0 100ms linear 0s;\n}\n\n.monaco-findInput.highlight-1 .controls,\n.hc-light .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-1 100ms linear 0s;\n}\n\n.hc-black .monaco-findInput.highlight-0 .controls,\n.vs-dark  .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-dark-0 100ms linear 0s;\n}\n\n.hc-black .monaco-findInput.highlight-1 .controls,\n.vs-dark  .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-dark-1 100ms linear 0s;\n}\n\n@keyframes monaco-findInput-highlight-0 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-1 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n\n@keyframes monaco-findInput-highlight-dark-0 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-1 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n",""]);const S=C},58694:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-hover {\n\tcursor: default;\n\tposition: absolute;\n\toverflow: hidden;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\tbox-sizing: border-box;\n\tanimation: fadein 100ms linear;\n\tline-height: 1.5em;\n\twhite-space: var(--vscode-hover-whiteSpace, normal);\n}\n\n.monaco-hover.hidden {\n\tdisplay: none;\n}\n\n.monaco-hover a:hover:not(.disabled) {\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-contents:not(.html-hover-contents) {\n\tpadding: 4px 8px;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\n\tmax-width: var(--vscode-hover-maxWidth, 500px);\n\tword-wrap: break-word;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\n\tmin-width: 100%;\n}\n\n.monaco-hover p,\n.monaco-hover .code,\n.monaco-hover ul,\n.monaco-hover h1,\n.monaco-hover h2,\n.monaco-hover h3,\n.monaco-hover h4,\n.monaco-hover h5,\n.monaco-hover h6 {\n\tmargin: 8px 0;\n}\n\n.monaco-hover h1,\n.monaco-hover h2,\n.monaco-hover h3,\n.monaco-hover h4,\n.monaco-hover h5,\n.monaco-hover h6 {\n\tline-height: 1.1;\n}\n\n.monaco-hover code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-hover hr {\n\tbox-sizing: border-box;\n\tborder-left: 0px;\n\tborder-right: 0px;\n\tmargin-top: 4px;\n\tmargin-bottom: -4px;\n\tmargin-left: -8px;\n\tmargin-right: -8px;\n\theight: 1px;\n}\n\n.monaco-hover p:first-child,\n.monaco-hover .code:first-child,\n.monaco-hover ul:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-hover p:last-child,\n.monaco-hover .code:last-child,\n.monaco-hover ul:last-child {\n\tmargin-bottom: 0;\n}\n\n/* MarkupContent Layout */\n.monaco-hover ul {\n\tpadding-left: 20px;\n}\n.monaco-hover ol {\n\tpadding-left: 20px;\n}\n\n.monaco-hover li > p {\n\tmargin-bottom: 0;\n}\n\n.monaco-hover li > ul {\n\tmargin-top: 0;\n}\n\n.monaco-hover code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-hover .monaco-tokenized-source {\n\twhite-space: var(--vscode-hover-sourceWhiteSpace, pre-wrap);\n}\n\n.monaco-hover .hover-row.status-bar {\n\tfont-size: 12px;\n\tline-height: 22px;\n}\n\n.monaco-hover .hover-row.status-bar .info {\n\tfont-style: italic;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions {\n\tdisplay: flex;\n\tpadding: 0px 8px;\n\twidth: 100%;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container {\n\tmargin-right: 16px;\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\n\tpadding-right: 4px;\n}\n\n.monaco-hover .markdown-hover .hover-contents .codicon {\n\tcolor: inherit;\n\tfont-size: inherit;\n\tvertical-align: middle;\n}\n\n.monaco-hover .hover-contents a.code-link:hover,\n.monaco-hover .hover-contents a.code-link {\n\tcolor: inherit;\n}\n\n.monaco-hover .hover-contents a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-hover .hover-contents a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-hover .hover-contents a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-hover .hover-contents a.code-link > span:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {\n\tmargin-bottom: 4px;\n\tdisplay: inline-block;\n}\n\n.monaco-hover-content .action-container a {\n\t-webkit-user-select: none;\n\tuser-select: none;\n}\n\n.monaco-hover-content .action-container.disabled {\n\tpointer-events: none;\n\topacity: 0.4;\n\tcursor: default;\n}\n",""]);const S=C},48134:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* ---------- Icon label ---------- */\n\n.monaco-icon-label {\n\tdisplay: flex; /* required for icons support :before rule */\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-icon-label::before {\n\n\t/* svg icons rendered as background image */\n\tbackground-size: 16px;\n\tbackground-position: left center;\n\tbackground-repeat: no-repeat;\n\tpadding-right: 6px;\n\twidth: 16px;\n\theight: 22px;\n\tline-height: inherit !important;\n\tdisplay: inline-block;\n\n\t/* fonts icons */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tvertical-align: top;\n\n\tflex-shrink: 0; /* fix for https://github.com/microsoft/vscode/issues/13787 */\n}\n\n.monaco-icon-label-iconpath {\n\twidth: 16px;\n\theight: 16px;\n\tpadding-left: 2px;\n\tmargin-top: 2px;\n\tdisplay: flex;\n}\n\n.monaco-icon-label-container.disabled {\n\tcolor: var(--vscode-disabledForeground);\n}\n.monaco-icon-label > .monaco-icon-label-container {\n\tmin-width: 0;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\n\tcolor: inherit;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\n\tmargin: 0 2px;\n\topacity: 0.5;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-suffix-container > .label-suffix {\n\topacity: .7;\n\twhite-space: pre;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .7;\n\tmargin-left: 0.5em;\n\tfont-size: 0.9em;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label.nowrap > .monaco-icon-label-container > .monaco-icon-description-container > .label-description{\n\twhite-space: nowrap\n}\n\n.vs .monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .95;\n}\n\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.deprecated {\n\ttext-decoration: line-through;\n\topacity: 0.66;\n}\n\n/* make sure apply italic font style to decorations as well */\n.monaco-icon-label.italic::after {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\ttext-decoration: line-through;\n}\n\n.monaco-icon-label::after {\n\topacity: 0.75;\n\tfont-size: 90%;\n\tfont-weight: 600;\n\tmargin: auto 16px 0 5px; /* https://github.com/microsoft/vscode/issues/113223 */\n\ttext-align: center;\n}\n\n/* make sure selection color wins when a label is being selected */\n.monaco-list:focus .selected .monaco-icon-label, /* list */\n.monaco-list:focus .selected .monaco-icon-label::after\n{\n\tcolor: inherit !important;\n}\n\n.monaco-list-row.focused.selected .label-description,\n.monaco-list-row.selected .label-description {\n\topacity: .8;\n}\n",""]);const S=C},1366:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-inputbox {\n\tposition: relative;\n\tdisplay: block;\n\tpadding: 0;\n\tbox-sizing:\tborder-box;\n\tborder-radius: 2px;\n\n\t/* Customizable */\n\tfont-size: inherit;\n}\n\n.monaco-inputbox > .ibwrapper > .input,\n.monaco-inputbox > .ibwrapper > .mirror {\n\n\t/* Customizable */\n\tpadding: 4px 6px;\n}\n\n.monaco-inputbox > .ibwrapper {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-inputbox > .ibwrapper > .input {\n\tdisplay: inline-block;\n\tbox-sizing:\tborder-box;\n\twidth: 100%;\n\theight: 100%;\n\tline-height: inherit;\n\tborder: none;\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tresize: none;\n\tcolor: inherit;\n}\n\n.monaco-inputbox > .ibwrapper > input {\n\ttext-overflow: ellipsis;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input {\n\tdisplay: block;\n\tscrollbar-width: none; /* Firefox: hide scrollbars */\n\toutline: none;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input::-webkit-scrollbar {\n\tdisplay: none; /* Chrome + Safari: hide scrollbar */\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input.empty {\n\twhite-space: nowrap;\n}\n\n.monaco-inputbox > .ibwrapper > .mirror {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbox-sizing: border-box;\n\twhite-space: pre-wrap;\n\tvisibility: hidden;\n\tword-wrap: break-word;\n}\n\n/* Context view */\n\n.monaco-inputbox-container {\n\ttext-align: right;\n}\n\n.monaco-inputbox-container .monaco-inputbox-message {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\ttext-align: left;\n\twidth: 100%;\n\tbox-sizing:\tborder-box;\n\tpadding: 0.4em;\n\tfont-size: 12px;\n\tline-height: 17px;\n\tmargin-top: -1px;\n\tword-wrap: break-word;\n}\n\n/* Action bar support */\n.monaco-inputbox .monaco-action-bar {\n\tposition: absolute;\n\tright: 2px;\n\ttop: 4px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item {\n\tmargin-left: 2px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\n\tbackground-repeat: no-repeat;\n\twidth: 16px;\n\theight: 16px;\n}\n",""]);const S=C},95422:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-keybinding {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 10px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tdisplay: inline-block;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-radius: 3px;\n\tvertical-align: middle;\n\tfont-size: 11px;\n\tpadding: 3px 5px;\n\tmargin: 0 2px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:first-child {\n\tmargin-left: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:last-child {\n\tmargin-right: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-separator {\n\tdisplay: inline-block;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\n\twidth: 6px;\n}\n",""]);const S=C},67340:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-list {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-list.mouse-support {\n\tuser-select: none;\n\t-webkit-user-select: none;\n}\n\n.monaco-list > .monaco-scrollable-element {\n\theight: 100%;\n}\n\n.monaco-list-rows {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-list.horizontal-scrolling .monaco-list-rows {\n\twidth: auto;\n\tmin-width: 100%;\n}\n\n.monaco-list-row {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\twidth: 100%;\n}\n\n.monaco-list.mouse-support .monaco-list-row {\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n/* Make sure the scrollbar renders above overlays (sticky scroll) */\n.monaco-list .monaco-scrollable-element > .scrollbar.vertical,\n.monaco-pane-view > .monaco-split-view2.vertical > .monaco-scrollable-element > .scrollbar.vertical {\n\tz-index: 14;\n}\n\n/* for OS X ballistic scrolling */\n.monaco-list-row.scrolling {\n\tdisplay: none !important;\n}\n\n/* Focus */\n.monaco-list.element-focused,\n.monaco-list.selection-single,\n.monaco-list.selection-multiple {\n\toutline: 0 !important;\n}\n\n/* Dnd */\n.monaco-drag-image {\n\tdisplay: inline-block;\n\tpadding: 1px 7px;\n\tborder-radius: 10px;\n\tfont-size: 12px;\n\tposition: absolute;\n\tz-index: 1000;\n}\n\n/* Filter */\n\n.monaco-list-type-filter-message {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tpadding: 40px 1em 1em 1em;\n\ttext-align: center;\n\twhite-space: normal;\n\topacity: 0.7;\n\tpointer-events: none;\n}\n\n.monaco-list-type-filter-message:empty {\n\tdisplay: none;\n}\n",""]);const S=C},266:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-mouse-cursor-text {\n\tcursor: text;\n}\n",""]);const S=C},44978:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-progress-container {\n\twidth: 100%;\n\theight: 2px;\n\toverflow: hidden; /* keep progress bit in bounds */\n}\n\n.monaco-progress-container .progress-bit {\n\twidth: 2%;\n\theight: 2px;\n\tposition: absolute;\n\tleft: 0;\n\tdisplay: none;\n}\n\n.monaco-progress-container.active .progress-bit {\n\tdisplay: inherit;\n}\n\n.monaco-progress-container.discrete .progress-bit {\n\tleft: 0;\n\ttransition: width 100ms linear;\n}\n\n.monaco-progress-container.discrete.done .progress-bit {\n\twidth: 100%;\n}\n\n.monaco-progress-container.infinite .progress-bit {\n\tanimation-name: progress;\n\tanimation-duration: 4s;\n\tanimation-iteration-count: infinite;\n\ttransform: translate3d(0px, 0px, 0px);\n\tanimation-timing-function: linear;\n}\n\n.monaco-progress-container.infinite.infinite-long-running .progress-bit {\n\t/*\n\t\tThe more smooth `linear` timing function can cause\n\t\thigher GPU consumption as indicated in\n\t\thttps://github.com/microsoft/vscode/issues/97900 &\n\t\thttps://github.com/microsoft/vscode/issues/138396\n\t*/\n\tanimation-timing-function: steps(100);\n}\n\n/**\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\n * its relative size to the parent container:\n * parent width: 5000%\n *    bit width: 100%\n * translateX should be as follow:\n *  50%: 5000% * 50% - 50% (set to center) = 2450%\n * 100%: 5000% * 100% - 100% (do not overflow) = 4900%\n */\n@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4900%) scaleX(1) } }\n",""]);const S=C},14166:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n:root {\n\t--vscode-sash-size: 4px;\n\t--vscode-sash-hover-size: 4px;\n}\n\n.monaco-sash {\n\tposition: absolute;\n\tz-index: 35;\n\ttouch-action: none;\n}\n\n.monaco-sash.disabled {\n\tpointer-events: none;\n}\n\n.monaco-sash.mac.vertical {\n\tcursor: col-resize;\n}\n\n.monaco-sash.vertical.minimum {\n\tcursor: e-resize;\n}\n\n.monaco-sash.vertical.maximum {\n\tcursor: w-resize;\n}\n\n.monaco-sash.mac.horizontal {\n\tcursor: row-resize;\n}\n\n.monaco-sash.horizontal.minimum {\n\tcursor: s-resize;\n}\n\n.monaco-sash.horizontal.maximum {\n\tcursor: n-resize;\n}\n\n.monaco-sash.disabled {\n\tcursor: default !important;\n\tpointer-events: none !important;\n}\n\n.monaco-sash.vertical {\n\tcursor: ew-resize;\n\ttop: 0;\n\twidth: var(--vscode-sash-size);\n\theight: 100%;\n}\n\n.monaco-sash.horizontal {\n\tcursor: ns-resize;\n\tleft: 0;\n\twidth: 100%;\n\theight: var(--vscode-sash-size);\n}\n\n.monaco-sash:not(.disabled) > .orthogonal-drag-handle {\n\tcontent: \" \";\n\theight: calc(var(--vscode-sash-size) * 2);\n\twidth: calc(var(--vscode-sash-size) * 2);\n\tz-index: 100;\n\tdisplay: block;\n\tcursor: all-scroll;\n\tposition: absolute;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.start,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.end {\n\tcursor: nwse-resize;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.end,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.start {\n\tcursor: nesw-resize;\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.start {\n\tleft: calc(var(--vscode-sash-size) * -0.5);\n\ttop: calc(var(--vscode-sash-size) * -1);\n}\n.monaco-sash.vertical > .orthogonal-drag-handle.end {\n\tleft: calc(var(--vscode-sash-size) * -0.5);\n\tbottom: calc(var(--vscode-sash-size) * -1);\n}\n.monaco-sash.horizontal > .orthogonal-drag-handle.start {\n\ttop: calc(var(--vscode-sash-size) * -0.5);\n\tleft: calc(var(--vscode-sash-size) * -1);\n}\n.monaco-sash.horizontal > .orthogonal-drag-handle.end {\n\ttop: calc(var(--vscode-sash-size) * -0.5);\n\tright: calc(var(--vscode-sash-size) * -1);\n}\n\n.monaco-sash:before {\n\tcontent: '';\n\tpointer-events: none;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: transparent;\n}\n\n.monaco-workbench:not(.reduce-motion) .monaco-sash:before {\n\ttransition: background-color 0.1s ease-out;\n}\n\n.monaco-sash.hover:before,\n.monaco-sash.active:before {\n\tbackground: var(--vscode-sash-hoverBorder);\n}\n\n.monaco-sash.vertical:before {\n\twidth: var(--vscode-sash-hover-size);\n\tleft: calc(50% - (var(--vscode-sash-hover-size) / 2));\n}\n\n.monaco-sash.horizontal:before {\n\theight: var(--vscode-sash-hover-size);\n\ttop: calc(50% - (var(--vscode-sash-hover-size) / 2));\n}\n\n.pointer-events-disabled {\n\tpointer-events: none !important;\n}\n\n/** Debug **/\n\n.monaco-sash.debug {\n\tbackground: cyan;\n}\n\n.monaco-sash.debug.disabled {\n\tbackground: rgba(0, 255, 255, 0.2);\n}\n\n.monaco-sash.debug:not(.disabled) > .orthogonal-drag-handle {\n\tbackground: red;\n}\n",""]);const S=C},80140:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n\t/* In front of peek view */\n\tz-index: 11;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n\tbox-shadow: var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n\tbox-shadow: var(--vscode-scrollbar-shadow) 6px 0 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top.left {\n\tbox-shadow: var(--vscode-scrollbar-shadow) 6px 0 6px -6px inset;\n}\n\n.monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: var(--vscode-scrollbarSlider-background);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: var(--vscode-scrollbarSlider-hoverBackground);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: var(--vscode-scrollbarSlider-activeBackground);\n}\n",""]);const S=C},95070:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-select-box {\n\twidth: 100%;\n\tcursor: pointer;\n\tborder-radius: 2px;\n}\n\n.monaco-select-box-dropdown-container {\n\tfont-size: 13px;\n\tfont-weight: normal;\n\ttext-transform: none;\n}\n\n/** Actions */\n\n.monaco-action-bar .action-item.select-container {\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item .monaco-select-box {\n\tcursor: pointer;\n\tmin-width: 100px;\n\tmin-height: 18px;\n\tpadding: 2px 23px 2px 8px;\n}\n\n.mac .monaco-action-bar .action-item .monaco-select-box {\n\tfont-size: 11px;\n\tborder-radius: 5px;\n}\n",""]);const S=C},67619:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Use custom CSS vars to expose padding into parent select for padding calculation */\n.monaco-select-box-dropdown-padding {\n\t--dropdown-padding-top: 1px;\n\t--dropdown-padding-bottom: 1px;\n}\n\n.hc-black .monaco-select-box-dropdown-padding,\n.hc-light .monaco-select-box-dropdown-padding {\n\t--dropdown-padding-top: 3px;\n\t--dropdown-padding-bottom: 4px;\n}\n\n.monaco-select-box-dropdown-container {\n\tdisplay: none;\n\tbox-sizing:\tborder-box;\n}\n\n.monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown * {\n\tmargin: 0;\n}\n\n.monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown a:focus {\n\toutline: 1px solid -webkit-focus-ring-color;\n\toutline-offset: -1px;\n}\n\n.monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown code {\n\tline-height: 15px; /** For some reason, this is needed, otherwise <code> will take up 20px height */\n\tfont-family: var(--monaco-monospace-font);\n}\n\n\n.monaco-select-box-dropdown-container.visible {\n\tdisplay: flex;\n\tflex-direction: column;\n\ttext-align: left;\n\twidth: 1px;\n\toverflow: hidden;\n\tborder-bottom-left-radius: 3px;\n\tborder-bottom-right-radius: 3px;\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-list-container {\n\tflex: 0 0 auto;\n\talign-self: flex-start;\n\tpadding-top: var(--dropdown-padding-top);\n\tpadding-bottom: var(--dropdown-padding-bottom);\n\tpadding-left: 1px;\n\tpadding-right: 1px;\n\twidth: 100%;\n\toverflow: hidden;\n\tbox-sizing:\tborder-box;\n}\n\n.monaco-select-box-dropdown-container > .select-box-details-pane {\n\tpadding: 5px;\n}\n\n.hc-black .monaco-select-box-dropdown-container > .select-box-dropdown-list-container {\n\tpadding-top: var(--dropdown-padding-top);\n\tpadding-bottom: var(--dropdown-padding-bottom);\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row {\n\tcursor: pointer;\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row > .option-text {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\tpadding-left: 3.5px;\n\twhite-space: nowrap;\n\tfloat: left;\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row > .option-detail {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\tpadding-left: 3.5px;\n\twhite-space: nowrap;\n\tfloat: left;\n\topacity: 0.7;\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row > .option-decorator-right {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\tpadding-right: 10px;\n\twhite-space: nowrap;\n\tfloat: right;\n}\n\n\n/* Accepted CSS hiding technique for accessibility reader text  */\n/* https://webaim.org/techniques/css/invisiblecontent/ */\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row > .visually-hidden {\n\t\tposition: absolute;\n\t\tleft: -10000px;\n\t\ttop: auto;\n\t\twidth: 1px;\n\t\theight: 1px;\n\t\toverflow: hidden;\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-container-width-control {\n\tflex: 1 1 auto;\n\talign-self: flex-start;\n\topacity: 0;\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-container-width-control > .width-control-div {\n\toverflow: hidden;\n\tmax-height: 0px;\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-container-width-control > .width-control-div > .option-text-width-control {\n\tpadding-left: 4px;\n\tpadding-right: 8px;\n\twhite-space: nowrap;\n}\n",""]);const S=C},3474:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-split-view2 {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .sash-container {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tpointer-events: none;\n}\n\n.monaco-split-view2 > .sash-container > .monaco-sash {\n\tpointer-events: initial;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container {\n\twidth: 100%;\n\theight: 100%;\n\twhite-space: nowrap;\n\tposition: relative;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twhite-space: initial;\n\tposition: absolute;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view:not(.visible) {\n\tdisplay: none;\n}\n\n.monaco-split-view2.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twidth: 100%;\n}\n\n.monaco-split-view2.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\theight: 100%;\n}\n\n.monaco-split-view2.separator-border > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\tcontent: ' ';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 5;\n\tpointer-events: none;\n\tbackground-color: var(--separator-border);\n}\n\n.monaco-split-view2.separator-border.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-split-view2.separator-border.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 1px;\n\twidth: 100%;\n}\n",""]);const S=C},94234:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-table {\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n.monaco-table > .monaco-split-view2 {\n\tborder-bottom: 1px solid transparent;\n}\n\n.monaco-table > .monaco-list {\n\tflex: 1;\n}\n\n.monaco-table-tr {\n\tdisplay: flex;\n\theight: 100%;\n}\n\n.monaco-table-th {\n\twidth: 100%;\n\theight: 100%;\n\tfont-weight: bold;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table-th,\n.monaco-table-td {\n\tbox-sizing: border-box;\n\tflex-shrink: 0;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\tcontent: "";\n\tposition: absolute;\n\tleft: calc(var(--vscode-sash-size) / 2);\n\twidth: 0;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,\n.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\ttransition: border-color 0.2s ease-out;\n}\n',""]);const S=C},62516:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-custom-toggle {\n\tmargin-left: 2px;\n\tfloat: left;\n\tcursor: pointer;\n\toverflow: hidden;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 3px;\n\tborder: 1px solid transparent;\n\tpadding: 1px;\n\tbox-sizing:\tborder-box;\n\tuser-select: none;\n\t-webkit-user-select: none;\n}\n\n.monaco-custom-toggle:hover {\n\tbackground-color: var(--vscode-inputOption-hoverBackground);\n}\n\n.hc-black .monaco-custom-toggle:hover,\n.hc-light .monaco-custom-toggle:hover {\n\tborder: 1px dashed var(--vscode-focusBorder);\n}\n\n.hc-black .monaco-custom-toggle,\n.hc-light .monaco-custom-toggle {\n\tbackground: none;\n}\n\n.hc-black .monaco-custom-toggle:hover,\n.hc-light .monaco-custom-toggle:hover {\n\tbackground: none;\n}\n\n.monaco-custom-toggle.monaco-checkbox {\n\theight: 18px;\n\twidth: 18px;\n\tborder: 1px solid transparent;\n\tborder-radius: 3px;\n\tmargin-right: 9px;\n\tmargin-left: 0px;\n\tpadding: 0px;\n\topacity: 1;\n\tbackground-size: 16px !important;\n}\n\n.monaco-action-bar .checkbox-action-item {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-action-bar .checkbox-action-item > .monaco-custom-toggle.monaco-checkbox {\n\tmargin-right: 4px;\n}\n\n.monaco-action-bar .checkbox-action-item > .checkbox-label {\n\tfont-size: 12px;\n}\n\n/* hide check when unchecked */\n.monaco-custom-toggle.monaco-checkbox:not(.checked)::before {\n\tvisibility: hidden;\n}\n",""]);const S=C},87982:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-toolbar {\n\theight: 100%;\n}\n\n.monaco-toolbar .toolbar-toggle-more {\n\tdisplay: inline-block;\n\tpadding: 0;\n}\n",""]);const S=C},71963:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-tl-row {\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-tl-row.disabled {\n\tcursor: default;\n}\n.monaco-tl-indent {\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 16px;\n\tpointer-events: none;\n}\n\n.hide-arrows .monaco-tl-indent {\n\tleft: 12px;\n}\n\n.monaco-tl-indent > .indent-guide {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\theight: 100%;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-workbench:not(.reduce-motion) .monaco-tl-indent > .indent-guide {\n\ttransition: border-color 0.1s linear;\n}\n\n.monaco-tl-twistie,\n.monaco-tl-contents {\n\theight: 100%;\n}\n\n.monaco-tl-twistie {\n\tfont-size: 10px;\n\ttext-align: right;\n\tpadding-right: 6px;\n\tflex-shrink: 0;\n\twidth: 16px;\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\ttransform: translateX(3px);\n}\n\n.monaco-tl-contents {\n\tflex: 1;\n\toverflow: hidden;\n}\n\n.monaco-tl-twistie::before {\n\tborder-radius: 20px;\n}\n\n.monaco-tl-twistie.collapsed::before {\n\ttransform: rotate(-90deg);\n}\n\n.monaco-tl-twistie.codicon-tree-item-loading::before {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.25s steps(30) infinite;\n}\n\n.monaco-tree-type-filter {\n\tposition: absolute;\n\ttop: 0;\n\tdisplay: flex;\n\tpadding: 3px;\n\tmax-width: 200px;\n\tz-index: 100;\n\tmargin: 0 6px;\n\tborder: 1px solid var(--vscode-widget-border);\n\tborder-bottom-left-radius: 4px;\n\tborder-bottom-right-radius: 4px;\n}\n\n.monaco-workbench:not(.reduce-motion) .monaco-tree-type-filter {\n\ttransition: top 0.3s;\n}\n\n.monaco-tree-type-filter.disabled {\n\ttop: -40px !important;\n}\n\n.monaco-tree-type-filter-grab {\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: grab;\n\tmargin-right: 2px;\n}\n\n.monaco-tree-type-filter-grab.grabbing {\n\tcursor: grabbing;\n}\n\n.monaco-tree-type-filter-input {\n\tflex: 1;\n}\n\n.monaco-tree-type-filter-input .monaco-inputbox {\n\theight: 23px;\n}\n\n.monaco-tree-type-filter-input .monaco-inputbox > .ibwrapper > .input,\n.monaco-tree-type-filter-input .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding: 2px 4px;\n}\n\n.monaco-tree-type-filter-input .monaco-findInput > .controls {\n\ttop: 2px;\n}\n\n.monaco-tree-type-filter-actionbar {\n\tmargin-left: 4px;\n}\n\n.monaco-tree-type-filter-actionbar .monaco-action-bar .action-label {\n\tpadding: 2px;\n}\n\n.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 0;\n\tz-index: 13; /* Settings editor uses z-index: 12 */\n\n\t/* Backup color in case the tree does not provide the background color */\n\tbackground-color: var(--vscode-sideBar-background);\n}\n\n.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row.monaco-list-row{\n\tposition: absolute;\n\twidth: 100%;\n\topacity: 1 !important; /* Settings editor uses opacity < 1 */\n\toverflow: hidden;\n\n\t/* Backup color in case the tree does not provide the background color */\n\tbackground-color: var(--vscode-sideBar-background);\n}\n\n.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row:hover{\n\tbackground-color: var(--vscode-list-hoverBackground) !important;\n\tcursor: pointer;\n}\n\n.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container.empty,\n.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container.empty .monaco-tree-sticky-container-shadow {\n\tdisplay: none;\n}\n\n.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow {\n\tposition: absolute;\n\tbottom: -3px;\n\tleft: 0px;\n\theight: 0px; /* heigt is 3px and only set when there is a treeStickyScrollShadow color */\n\twidth: 100%;\n}\n\n.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container[tabindex="0"]:focus{\n\toutline: none;\n}\n',""]);const S=C},86307:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inputarea {\n\tmin-width: 0;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\toutline: none !important;\n\tresize: none;\n\tborder: none;\n\toverflow: hidden;\n\tcolor: transparent;\n\tbackground-color: transparent;\n\tz-index: -10;\n}\n/*.monaco-editor .inputarea {\n\tposition: fixed !important;\n\twidth: 800px !important;\n\theight: 500px !important;\n\ttop: initial !important;\n\tleft: initial !important;\n\tbottom: 0 !important;\n\tright: 0 !important;\n\tcolor: black !important;\n\tbackground: white !important;\n\tline-height: 15px !important;\n\tfont-size: 14px !important;\n\tz-index: 10 !important;\n}*/\n.monaco-editor .inputarea.ime-input {\n\tz-index: 10;\n\tcaret-color: var(--vscode-editorCursor-foreground);\n\tcolor: var(--vscode-editor-foreground);\n}\n",""]);const S=C},23377:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-workbench .workbench-hover {\n\tposition: relative;\n\tfont-size: 13px;\n\tline-height: 19px;\n\t/* Must be higher than sash's z-index and terminal canvases */\n\tz-index: 40;\n\toverflow: hidden;\n\tmax-width: 700px;\n\tbackground: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n\tborder-radius: 3px;\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbox-shadow: 0 2px 8px var(--vscode-widget-shadow);\n}\n\n.monaco-workbench .workbench-hover hr {\n\tborder-bottom: none;\n}\n\n.monaco-workbench .workbench-hover:not(.skip-fade-in) {\n\tanimation: fadein 100ms linear;\n}\n\n.monaco-workbench .workbench-hover.compact {\n\tfont-size: 12px;\n}\n\n.monaco-workbench .workbench-hover.compact .hover-contents {\n\tpadding: 2px 8px;\n}\n\n.monaco-workbench .workbench-hover-container.locked .workbench-hover {\n\toutline: 1px solid var(--vscode-editorHoverWidget-border);\n}\n.monaco-workbench .workbench-hover-container.locked .workbench-hover:focus,\n.monaco-workbench .workbench-hover-lock:focus {\n\toutline: 1px solid var(--vscode-focusBorder);\n}\n.monaco-workbench .workbench-hover-container.locked .workbench-hover-lock:hover {\n\tbackground: var(--vscode-toolbar-hoverBackground);\n}\n\n.monaco-workbench .workbench-hover-pointer {\n\tposition: absolute;\n\t/* Must be higher than workbench hover z-index */\n\tz-index: 41;\n\tpointer-events: none;\n}\n\n.monaco-workbench .workbench-hover-pointer:after {\n\tcontent: '';\n\tposition: absolute;\n\twidth: 5px;\n\theight: 5px;\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder-right: 1px solid var(--vscode-editorHoverWidget-border);\n\tborder-bottom: 1px solid var(--vscode-editorHoverWidget-border);\n}\n.monaco-workbench .locked .workbench-hover-pointer:after {\n\twidth: 4px;\n\theight: 4px;\n\tborder-right-width: 2px;\n\tborder-bottom-width: 2px;\n}\n\n.monaco-workbench .workbench-hover-pointer.left   { left: -3px; }\n.monaco-workbench .workbench-hover-pointer.right  { right: 3px; }\n.monaco-workbench .workbench-hover-pointer.top    { top: -3px; }\n.monaco-workbench .workbench-hover-pointer.bottom { bottom: 3px; }\n\n.monaco-workbench .workbench-hover-pointer.left:after {\n\ttransform: rotate(135deg);\n}\n\n.monaco-workbench .workbench-hover-pointer.right:after {\n\ttransform: rotate(315deg);\n}\n\n.monaco-workbench .workbench-hover-pointer.top:after {\n\ttransform: rotate(225deg);\n}\n\n.monaco-workbench .workbench-hover-pointer.bottom:after {\n\ttransform: rotate(45deg);\n}\n\n.monaco-workbench .workbench-hover a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-workbench .workbench-hover a:focus {\n\toutline: 1px solid;\n\toutline-offset: -1px;\n\ttext-decoration: underline;\n\toutline-color: var(--vscode-focusBorder);\n}\n\n.monaco-workbench .workbench-hover a:hover,\n.monaco-workbench .workbench-hover a:active {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-workbench .workbench-hover code {\n\tbackground: var(--vscode-textCodeBlock-background);\n}\n\n.monaco-workbench .workbench-hover .hover-row .actions {\n\tbackground: var(--vscode-editorHoverWidget-statusBarBackground);\n}\n\n.monaco-workbench .workbench-hover.right-aligned {\n\t/* The context view service wraps strangely when it's right up against the edge without this */\n\tleft: 1px;\n}\n\n.monaco-workbench .workbench-hover.right-aligned .hover-row.status-bar .actions {\n\tflex-direction: row-reverse;\n}\n\n.monaco-workbench .workbench-hover.right-aligned .hover-row.status-bar .actions .action-container {\n\tmargin-right: 0;\n\tmargin-left: 16px;\n}\n",""]);const S=C},72035:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .blockDecorations-container {\n\tposition: absolute;\n\ttop: 0;\n\tpointer-events: none;\n}\n\n.monaco-editor .blockDecorations-block {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n",""]);const S=C},28405:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n\theight: 100%;\n}\n\n.monaco-editor .margin-view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n\theight: 100%;\n}\n\n.monaco-editor\n\t.margin-view-overlays\n\t.current-line.current-line-margin.current-line-margin-both {\n\tborder-right: 0;\n}\n",""]);const S=C},83093:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcdr = core decorations rendering (div)\n*/\n.monaco-editor .lines-content .cdr {\n\tposition: absolute;\n\theight: 100%;\n}\n",""]);const S=C},98081:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .glyph-margin {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcgmr = core glyph margin rendering (div)\n*/\n.monaco-editor .glyph-margin-widgets .cgmr {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/*\n\tEnsure spinning icons are pixel-perfectly centered and avoid wobble.\n\tThis is only applied to icons that spin to avoid unnecessary\n\tGPU layers and blurry subpixel AA.\n*/\n.monaco-editor .glyph-margin-widgets .cgmr.codicon-modifier-spin::before  {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n}\n",""]);const S=C},93777:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .lines-content .core-guide {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\theight: 100%;\n}\n",""]);const S=C},6953:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .line-numbers {\n\tbottom: 0;\n\tfont-variant-numeric: tabular-nums;\n\tposition: absolute;\n\ttext-align: right;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\tcursor: default;\n}\n\n.monaco-editor .relative-current-line-number {\n\ttext-align: left;\n\tdisplay: inline-block;\n\twidth: 100%;\n}\n\n.monaco-editor .margin-view-overlays .line-numbers.lh-odd {\n\tmargin-top: 1px;\n}\n\n.monaco-editor .line-numbers {\n\tcolor: var(--vscode-editorLineNumber-foreground);\n}\n\n.monaco-editor .line-numbers.active-line-number {\n\tcolor: var(--vscode-editorLineNumber-activeForeground);\n}\n",""]);const S=C},57375:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .lines-decorations {\n\tposition: absolute;\n\ttop: 0;\n\tbackground: white;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcldr = core lines decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cldr {\n\tposition: absolute;\n\theight: 100%;\n}",""]);const S=C},65876:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Uncomment to see lines flashing when they're painted */\n/*.monaco-editor .view-lines > .view-line {\n\tbackground-color: none;\n\tanimation-name: flash-background;\n\tanimation-duration: 800ms;\n}\n@keyframes flash-background {\n\t0%   { background-color: lightgreen; }\n\t100% { background-color: none }\n}*/\n\n.mtkcontrol {\n\tcolor: rgb(255, 255, 255) !important;\n\tbackground: rgb(150, 0, 0) !important;\n}\n\n.mtkoverflow {\n\tbackground-color: var(--vscode-button-background, var(--vscode-editor-background));\n\tcolor: var(--vscode-button-foreground, var(--vscode-editor-foreground));\n\tborder-width: 1px;\n\tborder-style: solid;\n\tborder-color: var(--vscode-contrastBorder);\n\tborder-radius: 2px;\n\tpadding: 4px;\n\tcursor: pointer;\n}\n.mtkoverflow:hover {\n\tbackground-color: var(--vscode-button-hoverBackground);\n}\n\n.monaco-editor.no-user-select .lines-content,\n.monaco-editor.no-user-select .view-line,\n.monaco-editor.no-user-select .view-lines {\n\tuser-select: none;\n\t-webkit-user-select: none;\n}\n/* Use user-select: text for lookup feature on macOS */\n/* https://github.com/microsoft/vscode/issues/85632 */\n.monaco-editor.mac .lines-content:hover,\n.monaco-editor.mac .view-line:hover,\n.monaco-editor.mac .view-lines:hover {\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n}\n\n.monaco-editor.enable-user-select {\n\tuser-select: initial;\n\t-webkit-user-select: initial;\n}\n\n.monaco-editor .view-lines {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .view-line {\n\tposition: absolute;\n\twidth: 100%;\n}\n\n/* There are view-lines in view-zones. We have to make sure this rule does not apply to them, as they don't set a line height */\n.monaco-editor .lines-content > .view-lines > .view-line > span {\n\ttop: 0;\n\tbottom: 0;\n\tposition: absolute;\n}\n\n.monaco-editor .mtkw {\n\tcolor: var(--vscode-editorWhitespace-foreground) !important;\n}\n\n.monaco-editor .mtkz {\n\tdisplay: inline-block;\n\tcolor: var(--vscode-editorWhitespace-foreground) !important;\n}\n\n/* TODO@tokenization bootstrap fix */\n/*.monaco-editor .view-line > span > span {\n\tfloat: none;\n\tmin-height: inherit;\n\tmargin-left: inherit;\n}*/\n",""]);const S=C},73313:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcmdr = core margin decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cmdr {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}",""]);const S=C},58731:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin {\n\tbackground-color: var(--vscode-editorGutter-background);\n}\n",""]);const S=C},36493:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* START cover the case that slider is visible on mouseover */\n.monaco-editor .minimap.slider-mouseover .minimap-slider {\n\topacity: 0;\n\ttransition: opacity 100ms linear;\n}\n.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {\n\topacity: 1;\n}\n.monaco-editor .minimap.slider-mouseover .minimap-slider.active {\n\topacity: 1;\n}\n/* END cover the case that slider is visible on mouseover */\n.monaco-editor .minimap-slider .minimap-slider-horizontal {\n\tbackground: var(--vscode-minimapSlider-background);\n}\n.monaco-editor .minimap-slider:hover .minimap-slider-horizontal {\n\tbackground: var(--vscode-minimapSlider-hoverBackground);\n}\n.monaco-editor .minimap-slider.active .minimap-slider-horizontal {\n\tbackground: var(--vscode-minimapSlider-activeBackground);\n}\n.monaco-editor .minimap-shadow-visible {\n\tbox-shadow: var(--vscode-scrollbar-shadow) -6px 0 6px -6px inset;\n}\n.monaco-editor .minimap-shadow-hidden {\n\tposition: absolute;\n\twidth: 0;\n}\n.monaco-editor .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -6px;\n\twidth: 6px;\n}\n.monaco-editor.no-minimap-shadow .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -1px;\n\twidth: 1px;\n}\n\n/* 0.5s fade in/out for the minimap */\n.minimap.autohide {\n\topacity: 0;\n\ttransition: opacity 0.5s;\n}\n.minimap.autohide:hover {\n\topacity: 1;\n}\n\n.monaco-editor .minimap {\n\tz-index: 5;\n}\n",""]);const S=C},80213:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .overlayWidgets {\n\tposition: absolute;\n\ttop: 0;\n\tleft:0;\n}",""]);const S=C},81637:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-ruler {\n\tposition: absolute;\n\ttop: 0;\n\tbox-shadow: 1px 0 0 0 var(--vscode-editorRuler-foreground) inset;\n}\n",""]);const S=C},29133:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .scroll-decoration {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 6px;\n\tbox-shadow: var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset;\n}\n",""]);const S=C},48829:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcslr = core selections layer rendering (div)\n*/\n.monaco-editor .lines-content .cslr {\n\tposition: absolute;\n}\n\n.monaco-editor .focused .selected-text {\n\tbackground-color: var(--vscode-editor-selectionBackground);\n}\n\n.monaco-editor .selected-text {\n\tbackground-color: var(--vscode-editor-inactiveSelectionBackground);\n}\n\n.monaco-editor\t\t\t.top-left-radius\t\t{ border-top-left-radius: 3px; }\n.monaco-editor\t\t\t.bottom-left-radius\t\t{ border-bottom-left-radius: 3px; }\n.monaco-editor\t\t\t.top-right-radius\t\t{ border-top-right-radius: 3px; }\n.monaco-editor\t\t\t.bottom-right-radius\t{ border-bottom-right-radius: 3px; }\n\n.monaco-editor.hc-black .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-black .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-black .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-black .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n\n.monaco-editor.hc-light .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-light .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-light .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-light .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n",""]);const S=C},2289:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .cursors-layer {\n\tposition: absolute;\n\ttop: 0;\n}\n\n.monaco-editor .cursors-layer > .cursor {\n\tposition: absolute;\n\toverflow: hidden;\n\tbox-sizing: border-box;\n}\n\n/* -- smooth-caret-animation -- */\n.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {\n\ttransition: all 80ms;\n}\n\n/* -- block-outline-style -- */\n.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {\n\tbackground: transparent !important;\n\tborder-style: solid;\n\tborder-width: 1px;\n}\n\n/* -- underline-style -- */\n.monaco-editor .cursors-layer.cursor-underline-style > .cursor {\n\tborder-bottom-width: 2px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n}\n\n/* -- underline-thin-style -- */\n.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {\n\tborder-bottom-width: 1px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n}\n\n@keyframes monaco-cursor-smooth {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t60%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-phase {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t90%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-expand {\n\t0%,\n\t20% {\n\t\ttransform: scaleY(1);\n\t}\n\t80%,\n\t100% {\n\t\ttransform: scaleY(0);\n\t}\n}\n\n.cursor-smooth {\n\tanimation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-phase {\n\tanimation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-expand > .cursor {\n\tanimation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\n}\n",""]);const S=C},98189:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .mwh {\n\tposition: absolute;\n\tcolor: var(--vscode-editorWhitespace-foreground) !important;\n}\n",""]);const S=C},6049:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -------------------- IE10 remove auto clear button -------------------- */\n\n::-ms-clear {\n\tdisplay: none;\n}\n\n/* All widgets */\n/* I am not a big fan of this rule */\n.monaco-editor .editor-widget input {\n\tcolor: inherit;\n}\n\n/* -------------------- Editor -------------------- */\n\n.monaco-editor {\n\tposition: relative;\n\toverflow: visible;\n\t-webkit-text-size-adjust: 100%;\n\tcolor: var(--vscode-editor-foreground);\n\tbackground-color: var(--vscode-editor-background);\n}\n.monaco-editor-background {\n\tbackground-color: var(--vscode-editor-background);\n}\n.monaco-editor .rangeHighlight {\n\tbackground-color: var(--vscode-editor-rangeHighlightBackground);\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-editor-rangeHighlightBorder);\n}\n.monaco-editor.hc-black .rangeHighlight, .monaco-editor.hc-light .rangeHighlight {\n\tborder-style: dotted;\n}\n.monaco-editor .symbolHighlight {\n\tbackground-color: var(--vscode-editor-symbolHighlightBackground);\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-editor-symbolHighlightBorder);\n}\n.monaco-editor.hc-black .symbolHighlight, .monaco-editor.hc-light .symbolHighlight {\n\tborder-style: dotted;\n}\n\n/* -------------------- Misc -------------------- */\n\n.monaco-editor .overflow-guard {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.monaco-editor .view-overlays {\n\tposition: absolute;\n\ttop: 0;\n}\n\n.monaco-editor .view-overlays > div, .monaco-editor .margin-view-overlays > div {\n\tposition: absolute;\n\twidth: 100%;\n}\n\n/*\n.monaco-editor .auto-closed-character {\n\topacity: 0.3;\n}\n*/\n\n\n.monaco-editor .squiggly-error {\n\tborder-bottom: 4px double var(--vscode-editorError-border);\n}\n.monaco-editor .squiggly-error::before {\n\tdisplay: block;\n\tcontent: '';\n\twidth: 100%;\n\theight: 100%;\n\tbackground: var(--vscode-editorError-background);\n}\n.monaco-editor .squiggly-warning {\n\tborder-bottom: 4px double var(--vscode-editorWarning-border);\n}\n.monaco-editor .squiggly-warning::before {\n\tdisplay: block;\n\tcontent: '';\n\twidth: 100%;\n\theight: 100%;\n\tbackground: var(--vscode-editorWarning-background);\n}\n.monaco-editor .squiggly-info {\n\tborder-bottom: 4px double var(--vscode-editorInfo-border);\n}\n.monaco-editor .squiggly-info::before {\n\tdisplay: block;\n\tcontent: '';\n\twidth: 100%;\n\theight: 100%;\n\tbackground: var(--vscode-editorInfo-background);\n}\n.monaco-editor .squiggly-hint {\n\tborder-bottom: 2px dotted var(--vscode-editorHint-border);\n}\n.monaco-editor.showUnused .squiggly-unnecessary {\n\tborder-bottom: 2px dashed var(--vscode-editorUnnecessaryCode-border);\n}\n.monaco-editor.showDeprecated .squiggly-inline-deprecated {\n\ttext-decoration: line-through;\n\ttext-decoration-color: var(--vscode-editor-foreground, inherit);\n}\n",""]);const S=C},52180:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-component.diff-review {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\tz-index: 99;\n}\n\n.monaco-diff-editor .diff-review {\n\tposition: absolute;\n\n}\n\n.monaco-component.diff-review .diff-review-line-number {\n\ttext-align: right;\n\tdisplay: inline-block;\n\tcolor: var(--vscode-editorLineNumber-foreground);\n}\n\n.monaco-component.diff-review .diff-review-summary {\n\tpadding-left: 10px;\n}\n\n.monaco-component.diff-review .diff-review-shadow {\n\tposition: absolute;\n\tbox-shadow: var(--vscode-scrollbar-shadow) 0 -6px 6px -6px inset;\n}\n\n.monaco-component.diff-review .diff-review-row {\n\twhite-space: pre;\n}\n\n.monaco-component.diff-review .diff-review-table {\n\tdisplay: table;\n\tmin-width: 100%;\n}\n\n.monaco-component.diff-review .diff-review-row {\n\tdisplay: table-row;\n\twidth: 100%;\n}\n\n.monaco-component.diff-review .diff-review-spacer {\n\tdisplay: inline-block;\n\twidth: 10px;\n\tvertical-align: middle;\n}\n\n.monaco-component.diff-review .diff-review-spacer > .codicon {\n\tfont-size: 9px !important;\n}\n\n.monaco-component.diff-review .diff-review-actions {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\ttop: 2px;\n\tz-index: 100;\n}\n\n.monaco-component.diff-review .diff-review-actions .action-label {\n\twidth: 16px;\n\theight: 16px;\n\tmargin: 2px 0;\n}\n\n.monaco-component.diff-review .revertButton {\n\tcursor: pointer;\n}\n",""]);const S=C},41921:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .diff-hidden-lines-widget {\n\twidth: 100%;\n}\n\n.monaco-editor .diff-hidden-lines {\n\theight: 0px; /* The children each have a fixed height, the transform confuses the browser */\n\ttransform: translate(0px, -10px);\n\tfont-size: 13px;\n\tline-height: 14px;\n}\n\n.monaco-editor .diff-hidden-lines:not(.dragging) .top:hover,\n.monaco-editor .diff-hidden-lines:not(.dragging) .bottom:hover,\n.monaco-editor .diff-hidden-lines .top.dragging,\n.monaco-editor .diff-hidden-lines .bottom.dragging {\n\tbackground-color: var(--vscode-focusBorder);\n}\n\n.monaco-editor .diff-hidden-lines .top,\n.monaco-editor .diff-hidden-lines .bottom {\n\ttransition: background-color 0.1s ease-out;\n\theight: 4px;\n\tbackground-color: transparent;\n\tbackground-clip: padding-box;\n\tborder-bottom: 2px solid transparent;\n\tborder-top: 4px solid transparent;\n\t/*cursor: n-resize;*/\n}\n\n.monaco-editor.draggingUnchangedRegion.canMoveTop:not(.canMoveBottom) *,\n.monaco-editor .diff-hidden-lines .top.canMoveTop:not(.canMoveBottom),\n.monaco-editor .diff-hidden-lines .bottom.canMoveTop:not(.canMoveBottom) {\n\tcursor: n-resize !important;\n}\n\n.monaco-editor.draggingUnchangedRegion:not(.canMoveTop).canMoveBottom *,\n.monaco-editor .diff-hidden-lines .top:not(.canMoveTop).canMoveBottom,\n.monaco-editor .diff-hidden-lines .bottom:not(.canMoveTop).canMoveBottom {\n\tcursor: s-resize !important;\n}\n\n.monaco-editor.draggingUnchangedRegion.canMoveTop.canMoveBottom *,\n.monaco-editor .diff-hidden-lines .top.canMoveTop.canMoveBottom,\n.monaco-editor .diff-hidden-lines .bottom.canMoveTop.canMoveBottom {\n\tcursor: ns-resize !important;\n}\n\n.monaco-editor .diff-hidden-lines .top {\n\ttransform: translate(0px, 4px);\n}\n\n.monaco-editor .diff-hidden-lines .bottom {\n\ttransform: translate(0px, -6px);\n}\n\n.monaco-editor .diff-unchanged-lines {\n\tbackground: var(--vscode-diffEditor-unchangedCodeBackground);\n}\n\n.monaco-editor .noModificationsOverlay {\n\tz-index: 1;\n\tbackground: var(--vscode-editor-background);\n\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n\n.monaco-editor .diff-hidden-lines .center {\n\tbackground: var(--vscode-diffEditor-unchangedRegionBackground);\n\tcolor: var(--vscode-diffEditor-unchangedRegionForeground);\n\toverflow: hidden;\n\tdisplay: block;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\n\theight: 24px;\n\tbox-shadow: inset 0 -5px 5px -7px var(--vscode-diffEditor-unchangedRegionShadow), inset 0 5px 5px -7px var(--vscode-diffEditor-unchangedRegionShadow);\n}\n\n.monaco-editor .diff-hidden-lines .center span.codicon {\n\tvertical-align: middle;\n}\n\n.monaco-editor .diff-hidden-lines .center a:hover .codicon {\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .diff-hidden-lines div.breadcrumb-item {\n\tcursor: pointer;\n}\n\n.monaco-editor .diff-hidden-lines div.breadcrumb-item:hover {\n\tcolor: var(--vscode-editorLink-activeForeground);\n}\n\n.monaco-editor .movedOriginal {\n\tborder: 2px solid var(--vscode-diffEditor-move-border);\n}\n\n.monaco-editor .movedModified {\n\tborder: 2px solid var(--vscode-diffEditor-move-border);\n}\n\n.monaco-editor .movedOriginal.currentMove, .monaco-editor .movedModified.currentMove {\n\tborder: 2px solid var(--vscode-diffEditor-moveActive-border);\n}\n\n.monaco-diff-editor .moved-blocks-lines path.currentMove {\n\tstroke: var(--vscode-diffEditor-moveActive-border);\n}\n\n.monaco-diff-editor .moved-blocks-lines path {\n\tpointer-events: visiblestroke;\n}\n\n.monaco-diff-editor .moved-blocks-lines .arrow {\n\tfill: var(--vscode-diffEditor-move-border);\n}\n\n.monaco-diff-editor .moved-blocks-lines .arrow.currentMove {\n\tfill: var(--vscode-diffEditor-moveActive-border);\n}\n\n.monaco-diff-editor .moved-blocks-lines .arrow-rectangle {\n\tfill: var(--vscode-editor-background);\n}\n\n.monaco-diff-editor .moved-blocks-lines {\n\tposition: absolute;\n\tpointer-events: none;\n}\n\n.monaco-diff-editor .moved-blocks-lines path {\n\tfill: none;\n\tstroke: var(--vscode-diffEditor-move-border);\n\tstroke-width: 2;\n}\n\n.monaco-editor .char-delete.diff-range-empty {\n\tmargin-left: -1px;\n\tborder-left: solid var(--vscode-diffEditor-removedTextBackground) 3px;\n}\n\n.monaco-editor .char-insert.diff-range-empty {\n\tborder-left: solid var(--vscode-diffEditor-insertedTextBackground) 3px;\n}\n\n.monaco-editor .fold-unchanged {\n\tcursor: pointer;\n}\n\n.monaco-diff-editor .diff-moved-code-block {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tmargin-top: -4px;\n}\n\n.monaco-diff-editor .diff-moved-code-block .action-bar .action-label.codicon {\n\twidth: 12px;\n\theight: 12px;\n\tfont-size: 12px;\n}\n\n/* ---------- DiffEditor ---------- */\n\n.monaco-diff-editor .diffOverview {\n\tz-index: 9;\n}\n\n.monaco-diff-editor .diffOverview .diffViewport {\n\tz-index: 10;\n}\n\n/* colors not externalized: using transparancy on background */\n.monaco-diff-editor.vs\t\t\t.diffOverview { background: rgba(0, 0, 0, 0.03); }\n.monaco-diff-editor.vs-dark\t\t.diffOverview { background: rgba(255, 255, 255, 0.01); }\n\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs\t\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black\t.scrollbar { background: none; }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-light\t.scrollbar { background: none; }\n\n.monaco-scrollable-element.modified-in-monaco-diff-editor .slider {\n\tz-index: 10;\n}\n.modified-in-monaco-diff-editor\t\t\t\t.slider.active { background: rgba(171, 171, 171, .4); }\n.modified-in-monaco-diff-editor.hc-black\t.slider.active { background: none; }\n.modified-in-monaco-diff-editor.hc-light\t.slider.active { background: none; }\n\n/* ---------- Diff ---------- */\n\n.monaco-editor .insert-sign,\n.monaco-diff-editor .insert-sign,\n.monaco-editor .delete-sign,\n.monaco-diff-editor .delete-sign {\n\tfont-size: 11px !important;\n\topacity: 0.7 !important;\n\tdisplay: flex !important;\n\talign-items: center;\n}\n.monaco-editor.hc-black .insert-sign,\n.monaco-diff-editor.hc-black .insert-sign,\n.monaco-editor.hc-black .delete-sign,\n.monaco-diff-editor.hc-black .delete-sign,\n.monaco-editor.hc-light .insert-sign,\n.monaco-diff-editor.hc-light .insert-sign,\n.monaco-editor.hc-light .delete-sign,\n.monaco-diff-editor.hc-light .delete-sign {\n\topacity: 1;\n}\n\n.monaco-editor .inline-deleted-margin-view-zone {\n\ttext-align: right;\n}\n.monaco-editor .inline-added-margin-view-zone {\n\ttext-align: right;\n}\n\n.monaco-editor .arrow-revert-change {\n\tz-index: 10;\n\tposition: absolute;\n}\n\n.monaco-editor .arrow-revert-change:hover {\n\tcursor: pointer;\n}\n\n/* ---------- Inline Diff ---------- */\n\n.monaco-editor .view-zones .view-lines .view-line span {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .margin-view-zones .lightbulb-glyph:hover {\n\tcursor: pointer;\n}\n\n.monaco-editor .char-insert, .monaco-diff-editor .char-insert {\n\tbackground-color: var(--vscode-diffEditor-insertedTextBackground);\n}\n\n.monaco-editor .line-insert, .monaco-diff-editor .line-insert {\n\tbackground-color: var(--vscode-diffEditor-insertedLineBackground, var(--vscode-diffEditor-insertedTextBackground));\n}\n\n.monaco-editor .line-insert,\n.monaco-editor .char-insert {\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-diffEditor-insertedTextBorder);\n}\n.monaco-editor.hc-black .line-insert, .monaco-editor.hc-light .line-insert,\n.monaco-editor.hc-black .char-insert, .monaco-editor.hc-light .char-insert {\n\tborder-style: dashed;\n}\n\n.monaco-editor .line-delete,\n.monaco-editor .char-delete {\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-diffEditor-removedTextBorder);\n}\n.monaco-editor.hc-black .line-delete, .monaco-editor.hc-light .line-delete,\n.monaco-editor.hc-black .char-delete, .monaco-editor.hc-light .char-delete {\n\tborder-style: dashed;\n}\n\n.monaco-editor .inline-added-margin-view-zone,\n.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert {\n\tbackground-color: var(--vscode-diffEditorGutter-insertedLineBackground, var(--vscode-diffEditor-insertedLineBackground), var(--vscode-diffEditor-insertedTextBackground));\n}\n\n.monaco-editor .char-delete, .monaco-diff-editor .char-delete {\n\tbackground-color: var(--vscode-diffEditor-removedTextBackground);\n}\n\n.monaco-editor .line-delete, .monaco-diff-editor .line-delete {\n\tbackground-color: var(--vscode-diffEditor-removedLineBackground, var(--vscode-diffEditor-removedTextBackground));\n}\n\n.monaco-editor .inline-deleted-margin-view-zone,\n.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete {\n\tbackground-color: var(--vscode-diffEditorGutter-removedLineBackground, var(--vscode-diffEditor-removedLineBackground), var(--vscode-diffEditor-removedTextBackground));\n}\n\n.monaco-diff-editor.side-by-side .editor.modified {\n\tbox-shadow: -6px 0 5px -5px var(--vscode-scrollbar-shadow);\n\tborder-left: 1px solid var(--vscode-diffEditor-border);\n}\n\n.monaco-diff-editor.side-by-side .editor.original {\n\tbox-shadow: 6px 0 5px -5px var(--vscode-scrollbar-shadow);\n\tborder-right: 1px solid var(--vscode-diffEditor-border);\n}\n\n.monaco-diff-editor .diffViewport {\n\tbackground: var(--vscode-scrollbarSlider-background);\n}\n\n.monaco-diff-editor .diffViewport:hover {\n\tbackground: var(--vscode-scrollbarSlider-hoverBackground);\n}\n\n.monaco-diff-editor .diffViewport:active {\n\tbackground: var(--vscode-scrollbarSlider-activeBackground);\n}\n\n.monaco-editor .diagonal-fill {\n\tbackground-image: linear-gradient(\n\t\t-45deg,\n\t\tvar(--vscode-diffEditor-diagonalFill) 12.5%,\n\t\t#0000 12.5%, #0000 50%,\n\t\tvar(--vscode-diffEditor-diagonalFill) 50%, var(--vscode-diffEditor-diagonalFill) 62.5%,\n\t\t#0000 62.5%, #0000 100%\n\t);\n\tbackground-size: 8px 8px;\n}\n\n.monaco-diff-editor .gutter {\n\tposition: relative;\n\toverflow: hidden;\n\tflex-shrink: 0;\n\tflex-grow: 0;\n\n\t& > div {\n\t\tposition: absolute;\n\t}\n\n\t.gutterItem {\n\t\topacity: 0;\n\t\ttransition: opacity 0.7s;\n\n\t\t&.showAlways {\n\t\t\topacity: 1;\n\t\t\ttransition: none;\n\t\t}\n\n\t\t&.noTransition {\n\t\t\ttransition: none;\n\t\t}\n\t}\n\n\t&:hover .gutterItem {\n\t\topacity: 1;\n\t\ttransition: opacity 0.1s ease-in-out;\n\t}\n\n\t.gutterItem {\n\t\t.background {\n\t\t\tposition: absolute;\n\t\t\theight: 100%;\n\t\t\tleft: 50%;\n\t\t\twidth: 1px;\n\n\t\t\tborder-left: 2px var(--vscode-menu-border) solid;\n\t\t}\n\n\t\t.buttons {\n\t\t\tposition: absolute;\n\t\t\t/*height: 100%;*/\n\t\t\twidth: 100%;\n\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\n\t\t\t.monaco-toolbar {\n\t\t\t\theight: fit-content;\n\t\t\t\t.monaco-action-bar  {\n\t\t\t\t\tline-height: 1;\n\n\t\t\t\t\t.actions-container {\n\t\t\t\t\t\twidth: fit-content;\n\t\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\t\tbackground: var(--vscode-editorGutter-commentRangeForeground);\n\n\t\t\t\t\t\t.action-item {\n\t\t\t\t\t\t\t&:hover {\n\t\t\t\t\t\t\t\tbackground: var(--vscode-toolbar-hoverBackground);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t.action-label {\n\t\t\t\t\t\t\t\tpadding: 1px 2px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n",""]);const S=C},46835:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .rendered-markdown kbd {\n\tbackground-color: var(--vscode-keybindingLabel-background);\n\tcolor: var(--vscode-keybindingLabel-foreground);\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-radius: 3px;\n\tborder-color: var(--vscode-keybindingLabel-border);\n\tborder-bottom-color: var(--vscode-keybindingLabel-bottomBorder);\n\tbox-shadow: inset 0 -1px 0 var(--vscode-widget-shadow);\n\tvertical-align: middle;\n\tpadding: 1px 3px;\n}\n\n.rendered-markdown li:has(input[type=checkbox]) {\n\tlist-style-type: none;\n}\n",""]);const S=C},46514:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-component.multiDiffEditor {\n\tbackground: var(--vscode-multiDiffEditor-background);\n\n\tposition: relative;\n\n\theight: 100%;\n\twidth: 100%;\n\n\toverflow-y: hidden;\n\n\t> div {\n\t\tposition: absolute;\n\t\ttop: 0px;\n\t\tleft: 0px;\n\n\t\theight: 100%;\n\t\twidth: 100%;\n\n\t\t&.placeholder {\n\t\t\tvisibility: hidden;\n\n\t\t\t&.visible {\n\t\t\t\tvisibility: visible;\n\t\t\t}\n\n\t\t\tdisplay: grid;\n\t\t\tplace-items: center;\n\t\t\tplace-content: center;\n\t\t}\n\t}\n\n\t.active {\n\t\t--vscode-multiDiffEditor-border: var(--vscode-focusBorder);\n\t}\n\n\t.multiDiffEntry {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tflex: 1;\n\t\toverflow: hidden;\n\n\n\t\t.collapse-button {\n\t\t\tmargin: 0 5px;\n\t\t\tcursor: pointer;\n\n\t\t\ta {\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\n\t\t.header {\n\t\t\tz-index: 1000;\n\t\t\tbackground: var(--vscode-editor-background);\n\n\t\t\t&:not(.collapsed) .header-content {\n\t\t\t\tborder-bottom: 1px solid var(--vscode-sideBarSectionHeader-border);\n\t\t\t}\n\n\t\t\t.header-content {\n\t\t\t\tmargin: 8px 0px 0px 0px;\n\t\t\t\tpadding: 4px 5px;\n\n\t\t\t\tborder-top: 1px solid var(--vscode-multiDiffEditor-border);\n\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\n\t\t\t\tcolor: var(--vscode-foreground);\n\t\t\t\tbackground: var(--vscode-multiDiffEditor-headerBackground);\n\n\t\t\t\t&.shadow {\n\t\t\t\t\tbox-shadow: var(--vscode-scrollbar-shadow) 0px 6px 6px -6px;\n\t\t\t\t}\n\n\t\t\t\t.file-path {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tmin-width: 0;\n\n\t\t\t\t\t.title {\n\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\tline-height: 22px;\n\n\t\t\t\t\t\t&.original {\n\t\t\t\t\t\t\tflex: 1;\n\t\t\t\t\t\t\tmin-width: 0;\n\t\t\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t.status {\n\t\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t\topacity: 0.75;\n\t\t\t\t\t\tmargin: 0px 10px;\n\t\t\t\t\t\tline-height: 22px;\n\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tTODO@hediet: move colors from git extension to core!\n\t\t\t\t\t\t&.renamed {\n\t\t\t\t\t\t\tcolor: v ar(--vscode-gitDecoration-renamedResourceForeground);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t&.deleted {\n\t\t\t\t\t\t\tcolor: v ar(--vscode-gitDecoration-deletedResourceForeground);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t&.added {\n\t\t\t\t\t\t\tcolor: v ar(--vscode-gitDecoration-addedResourceForeground);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.actions {\n\t\t\t\t\tpadding: 0 8px;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t}\n\n\t\t.editorParent {\n\t\t\tflex: 1;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\n\t\t\tborder-bottom: 1px solid var(--vscode-multiDiffEditor-border);\n\t\t\toverflow: hidden;\n\t\t}\n\n\t\t.editorContainer {\n\t\t\tflex: 1;\n\t\t}\n\t}\n}\n",""]);const S=C},42755:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .selection-anchor {\n\tbackground-color: #007ACC;\n\twidth: 2px !important;\n}\n",""]);const S=C},7997:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .bracket-match {\n\tbox-sizing: border-box;\n\tbackground-color: var(--vscode-editorBracketMatch-background);\n\tborder: 1px solid var(--vscode-editorBracketMatch-border);\n}\n",""]);const S=C},4169:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .lightBulbWidget {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-editor .lightBulbWidget:hover{\n\tcursor: pointer;\n}\n\n.monaco-editor .lightBulbWidget.codicon-light-bulb,\n.monaco-editor .lightBulbWidget.codicon-lightbulb-sparkle {\n\tcolor: var(--vscode-editorLightBulb-foreground);\n}\n\n.monaco-editor .lightBulbWidget.codicon-lightbulb-autofix,\n.monaco-editor .lightBulbWidget.codicon-lightbulb-sparkle-autofix {\n\tcolor: var(--vscode-editorLightBulbAutoFix-foreground, var(--vscode-editorLightBulb-foreground));\n}\n\n.monaco-editor .lightBulbWidget.codicon-sparkle-filled {\n\tcolor: var(--vscode-editorLightBulbAi-foreground, var(--vscode-icon-foreground));\n}\n\n.monaco-editor .lightBulbWidget:before {\n\tposition: relative;\n\tz-index: 2;\n}\n\n.monaco-editor .lightBulbWidget:after {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcontent: '';\n\tdisplay: block;\n\twidth: 100%;\n\theight: 100%;\n\topacity: 0.3;\n\tbackground-color: var(--vscode-editor-background);\n\tz-index: 1;\n}\n",""]);const S=C},61727:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .codelens-decoration {\n\toverflow: hidden;\n\tdisplay: inline-block;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tcolor: var(--vscode-editorCodeLens-foreground);\n\tline-height: var(--vscode-editorCodeLens-lineHeight);\n\tfont-size: var(--vscode-editorCodeLens-fontSize);\n\tpadding-right: calc(var(--vscode-editorCodeLens-fontSize)*0.5);\n\tfont-feature-settings: var(--vscode-editorCodeLens-fontFeatureSettings);\n\tfont-family: var(--vscode-editorCodeLens-fontFamily), var(--vscode-editorCodeLens-fontFamilyDefault);\n}\n\n.monaco-editor .codelens-decoration > span,\n.monaco-editor .codelens-decoration > a {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\twhite-space: nowrap;\n\tvertical-align: sub;\n}\n\n.monaco-editor .codelens-decoration > a {\n\ttext-decoration: none;\n}\n\n.monaco-editor .codelens-decoration > a:hover {\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration > a:hover .codicon {\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration .codicon {\n\tvertical-align: middle;\n\tcolor: currentColor !important;\n\tcolor: var(--vscode-editorCodeLens-foreground);\n\tline-height: var(--vscode-editorCodeLens-lineHeight);\n\tfont-size: var(--vscode-editorCodeLens-fontSize);\n}\n\n.monaco-editor .codelens-decoration > a:hover .codicon::before {\n\tcursor: pointer;\n}\n\n@keyframes fadein {\n\t0% {\n\t\topacity: 0;\n\t\tvisibility: visible;\n\t}\n\n\t100% {\n\t\topacity: 1;\n\t}\n}\n\n.monaco-editor .codelens-decoration.fadein {\n\tanimation: fadein 0.1s linear;\n}\n",""]);const S=C},53345:(tt,xe,t)=>{t.d(xe,{A:()=>v});var a=t(8564),F=t.n(a),w=t(98557),x=t.n(w),C=t(99560),S=t.n(C),b=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=","file:///Q:/Repos/AlmMaster/Analysis-Services/AlmToolkit/AlmToolkit/html-resources/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPicker.css"),P=x()(F()),D=S()(b);P.push([tt.id,`/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.colorpicker-widget {\n\theight: 190px;\n\tuser-select: none;\n\t-webkit-user-select: none;\n}\n\n/* Decoration */\n\n.colorpicker-color-decoration,\n.hc-light .colorpicker-color-decoration {\n\tborder: solid 0.1em #000;\n\tbox-sizing: border-box;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\twidth: 0.8em;\n\theight: 0.8em;\n\tline-height: 0.8em;\n\tdisplay: inline-block;\n\tcursor: pointer;\n}\n\n.hc-black .colorpicker-color-decoration,\n.vs-dark .colorpicker-color-decoration {\n\tborder: solid 0.1em #eee;\n}\n\n/* Header */\n\n.colorpicker-header {\n\tdisplay: flex;\n\theight: 24px;\n\tposition: relative;\n\tbackground: url(${D});\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-header .picked-color {\n\twidth: 240px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tline-height: 24px;\n\tcursor: pointer;\n\tcolor: white;\n\tflex: 1;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n.colorpicker-header .picked-color .picked-color-presentation {\n\twhite-space: nowrap;\n\tmargin-left: 5px;\n\tmargin-right: 5px;\n}\n\n.colorpicker-header .picked-color .codicon {\n\tcolor: inherit;\n\tfont-size: 14px;\n}\n\n.colorpicker-header .picked-color.light {\n\tcolor: black;\n}\n\n.colorpicker-header .original-color {\n\twidth: 74px;\n\tz-index: inherit;\n\tcursor: pointer;\n}\n\n.standalone-colorpicker {\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.colorpicker-header.standalone-colorpicker {\n\tborder-bottom: none;\n}\n\n.colorpicker-header .close-button {\n\tcursor: pointer;\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder-left: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.colorpicker-header .close-button-inner-div {\n\twidth: 100%;\n\theight: 100%;\n\ttext-align: center;\n}\n\n.colorpicker-header .close-button-inner-div:hover {\n\tbackground-color: var(--vscode-toolbar-hoverBackground);\n}\n\n.colorpicker-header .close-icon {\n\tpadding: 3px;\n}\n\n/* Body */\n\n.colorpicker-body {\n\tdisplay: flex;\n\tpadding: 8px;\n\tposition: relative;\n}\n\n.colorpicker-body .saturation-wrap {\n\toverflow: hidden;\n\theight: 150px;\n\tposition: relative;\n\tmin-width: 220px;\n\tflex: 1;\n}\n\n.colorpicker-body .saturation-box {\n\theight: 150px;\n\tposition: absolute;\n}\n\n.colorpicker-body .saturation-selection {\n\twidth: 9px;\n\theight: 9px;\n\tmargin: -5px 0 0 -5px;\n\tborder: 1px solid rgb(255, 255, 255);\n\tborder-radius: 100%;\n\tbox-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\n\tposition: absolute;\n}\n\n.colorpicker-body .strip {\n\twidth: 25px;\n\theight: 150px;\n}\n\n.colorpicker-body .standalone-strip {\n\twidth: 25px;\n\theight: 122px;\n}\n\n.colorpicker-body .hue-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n}\n\n.colorpicker-body .opacity-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: url(${D});\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-body .strip.grabbing {\n\tcursor: grabbing;\n}\n\n.colorpicker-body .slider {\n\tposition: absolute;\n\ttop: 0;\n\tleft: -2px;\n\twidth: calc(100% + 4px);\n\theight: 4px;\n\tbox-sizing: border-box;\n\tborder: 1px solid rgba(255, 255, 255, 0.71);\n\tbox-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\n}\n\n.colorpicker-body .strip .overlay {\n\theight: 150px;\n\tpointer-events: none;\n}\n\n.colorpicker-body .standalone-strip .standalone-overlay {\n\theight: 122px;\n\tpointer-events: none;\n}\n\n.standalone-colorpicker-body {\n\tdisplay: block;\n\tborder: 1px solid transparent;\n\tborder-bottom: 1px solid var(--vscode-editorHoverWidget-border);\n\toverflow: hidden;\n}\n\n.colorpicker-body .insert-button {\n\tposition: absolute;\n\theight: 20px;\n\twidth: 58px;\n\tpadding: 0px;\n\tright: 8px;\n\tbottom: 8px;\n\tbackground: var(--vscode-button-background);\n\tcolor: var(--vscode-button-foreground);\n\tborder-radius: 2px;\n\tborder: none;\n\tcursor: pointer;\n}\n\n.colorpicker-body .insert-button:hover{\n\tbackground: var(--vscode-button-hoverBackground);\n}\n`,""]);const v=P},88357:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor.vs .dnd-target,\n.monaco-editor.hc-light .dnd-target {\n\tborder-right: 2px dotted black;\n\tcolor: white; /* opposite of black */\n}\n.monaco-editor.vs-dark .dnd-target {\n\tborder-right: 2px dotted #AEAFAD;\n\tcolor: #51504f; /* opposite of #AEAFAD */\n}\n.monaco-editor.hc-black .dnd-target {\n\tborder-right: 2px dotted #fff;\n\tcolor: #000; /* opposite of #fff */\n}\n\n.monaco-editor.mouse-default .view-lines,\n.monaco-editor.vs-dark.mac.mouse-default .view-lines,\n.monaco-editor.hc-black.mac.mouse-default .view-lines,\n.monaco-editor.hc-light.mac.mouse-default .view-lines {\n\tcursor: default;\n}\n.monaco-editor.mouse-copy .view-lines,\n.monaco-editor.vs-dark.mac.mouse-copy .view-lines,\n.monaco-editor.hc-black.mac.mouse-copy .view-lines,\n.monaco-editor.hc-light.mac.mouse-copy .view-lines {\n\tcursor: copy;\n}\n",""]);const S=C},39926:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.post-edit-widget {\n\tbox-shadow: 0 0 8px 2px var(--vscode-widget-shadow);\n\tborder: 1px solid var(--vscode-widget-border, transparent);\n\tborder-radius: 4px;\n\tbackground-color: var(--vscode-editorWidget-background);\n\toverflow: hidden;\n}\n\n.post-edit-widget .monaco-button {\n\tpadding: 2px;\n\tborder: none;\n\tborder-radius: 0;\n}\n\n.post-edit-widget .monaco-button:hover {\n\tbackground-color: var(--vscode-button-secondaryHoverBackground) !important;\n}\n\n.post-edit-widget .monaco-button .codicon {\n\tmargin: 0;\n}\n",""]);const S=C},15669:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .findOptionsWidget {\n\tbackground-color: var(--vscode-editorWidget-background);\n\tcolor: var(--vscode-editorWidget-foreground);\n\tbox-shadow: 0 0 8px 2px var(--vscode-widget-shadow);\n\tborder: 2px solid var(--vscode-contrastBorder);\n}\n",""]);const S=C},45395:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Find widget */\n.monaco-editor .find-widget {\n\tposition: absolute;\n\tz-index: 35;\n\theight: 33px;\n\toverflow: hidden;\n\tline-height: 19px;\n\ttransition: transform 200ms linear;\n\tpadding: 0 4px;\n\tbox-sizing: border-box;\n\ttransform: translateY(calc(-100% - 10px)); /* shadow (10px) */\n\tbox-shadow: 0 0 8px 2px var(--vscode-widget-shadow);\n\tcolor: var(--vscode-editorWidget-foreground);\n\tborder-left: 1px solid var(--vscode-widget-border);\n\tborder-right: 1px solid var(--vscode-widget-border);\n\tborder-bottom: 1px solid var(--vscode-widget-border);\n\tborder-bottom-left-radius: 4px;\n\tborder-bottom-right-radius: 4px;\n\tbackground-color: var(--vscode-editorWidget-background);\n}\n\n.monaco-workbench.reduce-motion .monaco-editor .find-widget {\n\ttransition: transform 0ms linear;\n}\n\n.monaco-editor .find-widget textarea {\n\tmargin: 0px;\n}\n\n.monaco-editor .find-widget.hiddenEditor {\n\tdisplay: none;\n}\n\n/* Find widget when replace is toggled on */\n.monaco-editor .find-widget.replaceToggled > .replace-part {\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget.visible  {\n\ttransform: translateY(0);\n}\n\n/* This outline-color rule is used to override the outline color for synthetic-focus find input. */\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\n\toutline: 1px solid -webkit-focus-ring-color;\n\toutline-offset: -1px;\n\toutline-color: var(--vscode-focusBorder);\n}\n\n.monaco-editor .find-widget .monaco-inputbox .input {\n\tbackground-color: transparent;\n\tmin-height: 0;\n}\n\n.monaco-editor .find-widget .monaco-findInput .input {\n\tfont-size: 13px;\n}\n\n.monaco-editor .find-widget > .find-part,\n.monaco-editor .find-widget > .replace-part {\n\tmargin: 3px 25px 0 17px;\n\tfont-size: 12px;\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\n\tmin-height: 25px;\n}\n\n\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-right: 22px;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .mirror,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-top: 2px;\n\tpadding-bottom: 2px;\n}\n\n.monaco-editor .find-widget > .find-part .find-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget > .replace-part .replace-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget .monaco-findInput {\n\tvertical-align: middle;\n\tdisplay: flex;\n\tflex:1;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\n\t/* Make sure textarea inherits the width correctly */\n\twidth: 100%;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\n\t/* Hide vertical scrollbar */\n\topacity: 0;\n}\n\n.monaco-editor .find-widget .matchesCount {\n\tdisplay: flex;\n\tflex: initial;\n\tmargin: 0 0 0 3px;\n\tpadding: 2px 0 0 2px;\n\theight: 25px;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\ttext-align: center;\n\tline-height: 23px;\n}\n\n.monaco-editor .find-widget .button {\n\twidth: 16px;\n\theight: 16px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n\tdisplay: flex;\n\tflex: initial;\n\tmargin-left: 3px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* find in selection button */\n.monaco-editor .find-widget .codicon-find-selection {\n\twidth: 22px;\n\theight: 22px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-editor .find-widget .button.left {\n\tmargin-left: 0;\n\tmargin-right: 3px;\n}\n\n.monaco-editor .find-widget .button.wide {\n\twidth: auto;\n\tpadding: 1px 6px;\n\ttop: -1px;\n}\n\n.monaco-editor .find-widget .button.toggle {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 3px;\n\twidth: 18px;\n\theight: 100%;\n\tborder-radius: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .find-widget .button.toggle.disabled {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget .disabled {\n\tcolor: var(--vscode-disabledForeground);\n\tcursor: default;\n}\n\n.monaco-editor .find-widget > .replace-part {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\n\tposition: relative;\n\tdisplay: flex;\n\tvertical-align: middle;\n\tflex: auto;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n/* REDUCED */\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\n\tdisplay:none;\n}\n\n/* NARROW (SMALLER THAN REDUCED) */\n.monaco-editor .find-widget.narrow-find-widget {\n\tmax-width: 257px !important;\n}\n\n/* COLLAPSED (SMALLER THAN NARROW) */\n.monaco-editor .find-widget.collapsed-find-widget {\n\tmax-width: 170px !important;\n}\n\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\n\tdisplay:none;\n}\n\n.monaco-editor .find-widget.no-results .matchesCount {\n\tcolor: var(--vscode-errorForeground);\n}\n\n.monaco-editor .findMatch {\n\tanimation-duration: 0;\n\tanimation-name: inherit !important;\n\tbackground-color: var(--vscode-editor-findMatchHighlightBackground);\n}\n\n.monaco-editor .currentFindMatch {\n\tbackground-color: var(--vscode-editor-findMatchBackground);\n\tborder: 2px solid var(--vscode-editor-findMatchBorder);\n\tpadding: 1px;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .findScope {\n\tbackground-color: var(--vscode-editor-findRangeHighlightBackground);\n}\n\n.monaco-editor .find-widget .monaco-sash {\n\tleft: 0 !important;\n\tbackground-color: var(--vscode-editorWidget-resizeBorder, var(--vscode-editorWidget-border));\n}\n\n.monaco-editor.hc-black .find-widget .button:before {\n\tposition: relative;\n\ttop: 1px;\n\tleft: 2px;\n}\n\n/* Action bars */\n.monaco-editor .find-widget .button:not(.disabled):hover,\n.monaco-editor .find-widget .codicon-find-selection:hover {\n\tbackground-color: var(--vscode-toolbar-hoverBackground) !important;\n}\n\n.monaco-editor.findMatch {\n\tbackground-color: var(--vscode-editor-findMatchHighlightBackground);\n}\n\n.monaco-editor.currentFindMatch {\n\tbackground-color: var(--vscode-editor-findMatchBackground);\n}\n\n.monaco-editor.findScope {\n\tbackground-color: var(--vscode-editor-findRangeHighlightBackground);\n}\n\n.monaco-editor.findMatch {\n\tbackground-color: var(--vscode-editorWidget-background);\n}\n\n/* Close button position. */\n.monaco-editor .find-widget > .button.codicon-widget-close {\n\tposition: absolute;\n\ttop: 5px;\n\tright: 4px;\n}\n",""]);const S=C},55405:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,\n.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-collapsed {\n\tcursor: pointer;\n\topacity: 0;\n\ttransition: opacity 0.5s;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 140%;\n\tmargin-left: 2px;\n}\n\n.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,\n.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,\n.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-expanded,\n.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-collapsed {\n\ttransition: initial;\n}\n\n.monaco-editor .margin-view-overlays:hover .codicon,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,\n.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {\n\topacity: 1;\n}\n\n.monaco-editor .inline-folded:after {\n\tcolor: grey;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\tcontent: "\\22EF"; /* ellipses unicode character */\n\tdisplay: inline;\n\tline-height: 1em;\n\tcursor: pointer;\n}\n\n.monaco-editor .folded-background {\n\tbackground-color: var(--vscode-editor-foldBackground);\n}\n\n.monaco-editor .cldr.codicon.codicon-folding-expanded,\n.monaco-editor .cldr.codicon.codicon-folding-collapsed,\n.monaco-editor .cldr.codicon.codicon-folding-manual-expanded,\n.monaco-editor .cldr.codicon.codicon-folding-manual-collapsed {\n\tcolor: var(--vscode-editorGutter-foldingControlForeground) !important;\n}\n\n',""]);const S=C},81788:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* marker zone */\n\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\n\tdisplay: inline-block;\n\tvertical-align: text-top;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .marker-widget {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .marker-widget > .stale {\n\topacity: 0.6;\n\tfont-style: italic;\n}\n\n.monaco-editor .marker-widget .title {\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer {\n\tposition: absolute;\n\twhite-space: pre;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\tpadding: 8px 12px 0 20px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\n\tpadding-left: 6px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\n\topacity: 0.6;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\n\topacity: 0.6;\n\tcolor: inherit;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .filename {\n\tcursor: pointer;\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n",""]);const S=C},31503:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .goto-definition-link {\n\ttext-decoration: underline;\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n",""]);const S=C},26378:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -- zone widget */\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\n\tborder-top-width: 1px;\n\tborder-bottom-width: 1px;\n}\n\n.monaco-editor .reference-zone-widget .inline {\n\tdisplay: inline-block;\n\tvertical-align: top;\n}\n\n.monaco-editor .reference-zone-widget .messages {\n\theight: 100%;\n\twidth: 100%;\n\ttext-align: center;\n\tpadding: 3em 0;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree {\n\tline-height: 23px;\n\tbackground-color: var(--vscode-peekViewResult-background);\n\tcolor: var(--vscode-peekViewResult-lineForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\n\tdisplay: inline-flex;\n\twidth: 100%;\n\theight: 100%;\n\tcolor: var(--vscode-peekViewResult-fileForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\n\tcolor: inherit !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) {\n\tbackground-color: var(--vscode-peekViewResult-selectionBackground);\n\tcolor: var(--vscode-peekViewResult-selectionForeground) !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\n\tmargin-right: 12px;\n\tmargin-left: auto;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tbackground-color: var(--vscode-peekViewResult-matchHighlightBackground);\n}\n\n.monaco-editor .reference-zone-widget .preview .reference-decoration {\n\tbackground-color: var(--vscode-peekViewEditor-matchHighlightBackground);\n\tborder: 2px solid var(--vscode-peekViewEditor-matchHighlightBorder);\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\n.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\n\tbackground-color: var(--vscode-peekViewEditor-background);\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\n\tbackground-color: var(--vscode-peekViewEditorGutter-background);\n}\n\n/* High Contrast Theming */\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file,\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .reference-file {\n\tfont-weight: bold;\n}\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight,\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tborder: 1px dotted var(--vscode-contrastActiveBorder, transparent);\n\tbox-sizing: border-box;\n}\n",""]);const S=C},30245:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .hoverHighlight {\n\tbackground-color: var(--vscode-editor-hoverHighlightBackground);\n}\n\n.monaco-editor .monaco-hover-content {\n\tpadding-right: 2px;\n\tpadding-bottom: 2px;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .monaco-hover {\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n\tborder-radius: 3px;\n}\n\n.monaco-editor .monaco-hover a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .monaco-hover a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .monaco-hover .hover-row {\n\tdisplay: flex;\n}\n\n.monaco-editor .monaco-hover .hover-row .hover-row-contents {\n\tmin-width:0;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .monaco-hover .hover-row .verbosity-actions {\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding-left: 5px;\n\tpadding-right: 5px;\n\tjustify-content: end;\n\tborder-right: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.monaco-editor .monaco-hover .hover-row .verbosity-actions .codicon {\n\tcursor: pointer;\n\tfont-size: 11px;\n}\n\n.monaco-editor .monaco-hover .hover-row .verbosity-actions .codicon.enabled {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .monaco-hover .hover-row .verbosity-actions .codicon.disabled {\n\topacity: 0.6;\n}\n\n.monaco-editor .monaco-hover .hover-row .actions {\n\tbackground-color: var(--vscode-editorHoverWidget-statusBarBackground);\n}\n\n.monaco-editor .monaco-hover code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n\n",""]);const S=C},86437:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n.monaco-editor.vs .valueSetReplacement {\n\toutline: solid 2px var(--vscode-editorBracketMatch-border);\n}\n",""]);const S=C},58169:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .suggest-preview-additional-widget {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-preview-additional-widget .content-spacer {\n\tcolor: transparent;\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-preview-additional-widget .button {\n\tdisplay: inline-block;\n\tcursor: pointer;\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .ghost-text-hidden {\n\topacity: 0;\n\tfont-size: 0;\n}\n\n.monaco-editor .ghost-text-decoration, .monaco-editor .suggest-preview-text .ghost-text {\n\tfont-style: italic;\n}\n\n.monaco-editor .inline-completion-text-to-replace {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .ghost-text-decoration,\n.monaco-editor .ghost-text-decoration-preview,\n.monaco-editor .suggest-preview-text .ghost-text {\n\tcolor: var(--vscode-editorGhostText-foreground) !important;\n\tbackground-color: var(--vscode-editorGhostText-background);\n\tborder: 1px solid var(--vscode-editorGhostText-border);\n}\n",""]);const S=C},85415:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inlineSuggestionsHints.withBorder {\n\tz-index: 39;\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.monaco-editor .inlineSuggestionsHints a {\n\tcolor: var(--vscode-foreground);\n}\n\n.monaco-editor .inlineSuggestionsHints a:hover {\n\tcolor: var(--vscode-foreground);\n}\n\n.monaco-editor .inlineSuggestionsHints .keybinding {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\topacity: 0.6;\n}\n\n.monaco-editor .inlineSuggestionsHints .keybinding .monaco-keybinding-key {\n\tfont-size: 8px;\n\tpadding: 2px 3px;\n}\n\n.monaco-editor .inlineSuggestionsHints .availableSuggestionCount a {\n\tdisplay: flex;\n\tmin-width: 19px;\n\tjustify-content: center;\n}\n\n.monaco-editor .inlineSuggestionStatusBarItemLabel {\n\tmargin-right: 2px;\n}\n",""]);const S=C},61935:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inline-edit-remove {\n\tbackground-color: var(--vscode-editorGhostText-background);\n\tfont-style: italic;\n\ttext-decoration: line-through;\n}\n\n.monaco-editor .inline-edit-remove.backgroundColoring {\n\tbackground-color: var(--vscode-diffEditor-removedLineBackground);\n}\n\n.monaco-editor .inline-edit-hidden {\n\topacity: 0;\n\tfont-size: 0;\n}\n\n.monaco-editor .inline-edit-decoration, .monaco-editor .suggest-preview-text .inline-edit {\n\tfont-style: italic;\n}\n\n.monaco-editor .inline-completion-text-to-replace {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .inline-edit-decoration,\n.monaco-editor .inline-edit-decoration-preview,\n.monaco-editor .suggest-preview-text .inline-edit {\n\tcolor: var(--vscode-editorGhostText-foreground) !important;\n\tbackground-color: var(--vscode-editorGhostText-background);\n\tborder: 1px solid var(--vscode-editorGhostText-border);\n}\n\n\n",""]);const S=C},55269:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inlineEditHints.withBorder {\n\tz-index: 39;\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.monaco-editor .inlineEditHints a {\n\tcolor: var(--vscode-foreground);\n}\n\n.monaco-editor .inlineEditHints a:hover {\n\tcolor: var(--vscode-foreground);\n}\n\n.monaco-editor .inlineEditHints .keybinding {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\topacity: 0.6;\n}\n\n.monaco-editor .inlineEditHints .keybinding .monaco-keybinding-key {\n\tfont-size: 8px;\n\tpadding: 2px 3px;\n}\n\n.monaco-editor .inlineEditStatusBarItemLabel {\n\tmargin-right: 2px;\n}\n",""]);const S=C},8129:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.inline-editor-progress-decoration {\n\tdisplay: inline-block;\n\twidth: 1em;\n\theight: 1em;\n}\n\n.inline-progress-widget  {\n\tdisplay: flex !important;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.inline-progress-widget .icon {\n\tfont-size: 80% !important;\n}\n\n.inline-progress-widget:hover .icon {\n\tfont-size: 90% !important;\n\tanimation: none;\n}\n\n.inline-progress-widget:hover .icon::before {\n\tcontent: var(--vscode-icon-x-content);\n\tfont-family: var(--vscode-icon-x-font-family);\n}\n",""]);const S=C},13293:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .linked-editing-decoration {\n\tbackground-color: var(--vscode-editor-linkedEditingBackground);\n\n\t/* Ensure decoration is visible even if range is empty */\n\tmin-width: 1px;\n}\n",""]);const S=C},1177:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .detected-link,\n.monaco-editor .detected-link-active {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .detected-link-active {\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n",""]);const S=C},7201:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .monaco-editor-overlaymessage {\n\tpadding-bottom: 8px;\n\tz-index: 10000;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below {\n\tpadding-bottom: 0;\n\tpadding-top: 8px;\n\tz-index: 10000;\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto { opacity: 1; }\n}\n.monaco-editor .monaco-editor-overlaymessage.fadeIn {\n\tanimation: fadeIn 150ms ease-out;\n}\n\n@keyframes fadeOut {\n\tfrom { opacity: 1; }\n\tto { opacity: 0; }\n}\n.monaco-editor .monaco-editor-overlaymessage.fadeOut {\n\tanimation: fadeOut 100ms ease-out;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message {\n\tpadding: 2px 4px;\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-inputValidation-infoBorder);\n\tborder-radius: 3px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message p {\n\tmargin-block: 0px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor.hc-black .monaco-editor-overlaymessage .message,\n.monaco-editor.hc-light .monaco-editor-overlaymessage .message {\n\tborder-width: 2px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor {\n\twidth: 0 !important;\n\theight: 0 !important;\n\tborder-color: transparent;\n\tborder-style: solid;\n\tz-index: 1000;\n\tborder-width: 8px;\n\tposition: absolute;\n\tleft: 2px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.top {\n\tborder-bottom-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.below {\n\tborder-top-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top,\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.below {\n\tdisplay: none;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.top {\n\tdisplay: inherit;\n\ttop: -8px;\n}\n",""]);const S=C},20991:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .parameter-hints-widget {\n\t/* Must be higher than the sash\'s z-index and terminal canvases but lower than the suggest widget */\n\tz-index: 39;\n\tdisplay: flex;\n\tflex-direction: column;\n\tline-height: 1.5em;\n\tcursor: default;\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.hc-black .monaco-editor .parameter-hints-widget,\n.hc-light .monaco-editor .parameter-hints-widget {\n\tborder-width: 2px;\n}\n\n.monaco-editor .parameter-hints-widget > .phwrapper {\n\tmax-width: 440px;\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n.monaco-editor .parameter-hints-widget.multiple {\n\tmin-height: 3.3em;\n\tpadding: 0;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .body::before {\n\tcontent: "";\n\tdisplay: block;\n\theight: 100%;\n\tposition: absolute;\n\topacity: 0.5;\n\tborder-left: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.monaco-editor .parameter-hints-widget p,\n.monaco-editor .parameter-hints-widget ul {\n\tmargin: 8px 0;\n}\n\n.monaco-editor .parameter-hints-widget .monaco-scrollable-element,\n.monaco-editor .parameter-hints-widget .body {\n\tdisplay: flex;\n\tflex: 1;\n\tflex-direction: column;\n\tmin-height: 100%;\n}\n\n.monaco-editor .parameter-hints-widget .signature {\n\tpadding: 4px 5px;\n\tposition: relative;\n}\n\n.monaco-editor .parameter-hints-widget .signature.has-docs::after {\n\tcontent: "";\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\tpadding-top: 4px;\n\topacity: 0.5;\n\tborder-bottom: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.monaco-editor .parameter-hints-widget .docs {\n\tpadding: 0 10px 0 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs.empty {\n\tdisplay: none;\n}\n\n.monaco-editor .parameter-hints-widget .docs a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .parameter-hints-widget .docs a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs {\n\twhite-space: initial;\n}\n\n.monaco-editor .parameter-hints-widget .docs code {\n\tfont-family: var(--monaco-monospace-font);\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n.monaco-editor .parameter-hints-widget .docs .monaco-tokenized-source,\n.monaco-editor .parameter-hints-widget .docs .code {\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .controls {\n\tdisplay: none;\n\tflex-direction: column;\n\talign-items: center;\n\tmin-width: 22px;\n\tjustify-content: flex-end;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .controls {\n\tdisplay: flex;\n\tpadding: 0 2px;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .button {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .button.previous {\n\tbottom: 24px;\n}\n\n.monaco-editor .parameter-hints-widget .overloads {\n\ttext-align: center;\n\theight: 12px;\n\tline-height: 12px;\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .signature .parameter.active {\n\tcolor: var(--vscode-editorHoverWidget-highlightForeground);\n\tfont-weight: bold;\n}\n\n.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {\n\tfont-weight: bold;\n\tmargin-right: 0.5em;\n}\n',""]);const S=C},69734:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .peekview-widget .head {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-wrap: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title {\n\tdisplay: flex;\n\talign-items: baseline;\n\tfont-size: 13px;\n\tmargin-left: 20px;\n\tmin-width: 0;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title.clickable {\n\tcursor: pointer;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {\n\tfont-size: 0.9em;\n\tmargin-left: 0.5em;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .filename {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {\n\tcontent: '-';\n\tpadding: 0 0.3em;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions {\n\tflex: 1;\n\ttext-align: right;\n\tpadding-right: 2px;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {\n\theight: 100%;\n}\n\n.monaco-editor .peekview-widget > .body {\n\tborder-top: 1px solid;\n\tposition: relative;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .codicon {\n\tmargin-right: 4px;\n\talign-self: center;\n}\n\n.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: inherit !important;\n}\n",""]);const S=C},38033:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .rename-box {\n\tz-index: 100;\n\tcolor: inherit;\n\tborder-radius: 4px;\n}\n\n.monaco-editor .rename-box.preview {\n\tpadding: 4px 4px 0 4px;\n}\n\n.monaco-editor .rename-box .rename-input-with-button {\n\tpadding: 3px;\n\tborder-radius: 2px;\n\twidth: calc(100% - 8px); /* 4px padding on each side */\n}\n\n.monaco-editor .rename-box .rename-input {\n\twidth: calc(100% - 8px); /* 4px padding on each side */\n\tpadding: 0;\n}\n\n.monaco-editor .rename-box .rename-input:focus {\n\toutline: none;\n}\n\n.monaco-editor .rename-box .rename-suggestions-button {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 3px;\n\tbackground-color: transparent;\n\tborder: none;\n\tborder-radius: 5px;\n\tcursor: pointer;\n}\n\n.monaco-editor .rename-box .rename-suggestions-button:hover {\n\tbackground-color: var(--vscode-toolbar-hoverBackground)\n}\n\n.monaco-editor .rename-box .rename-candidate-list-container .monaco-list-row {\n\tborder-radius: 2px;\n}\n\n.monaco-editor .rename-box .rename-label {\n\tdisplay: none;\n\topacity: .8;\n}\n\n.monaco-editor .rename-box.preview .rename-label {\n\tdisplay: inherit;\n}\n",""]);const S=C},90069:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .snippet-placeholder {\n\tmin-width: 2px;\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetTabstopHighlightBorder, transparent);\n}\n\n.monaco-editor .finish-snippet-placeholder {\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetFinalTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetFinalTabstopHighlightBorder, transparent);\n}\n",""]);const S=C},17689:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .sticky-widget {\n\toverflow: hidden;\n}\n\n.monaco-editor .sticky-widget-line-numbers {\n\tfloat: left;\n\tbackground-color: inherit;\n}\n\n.monaco-editor .sticky-widget-lines-scrollable {\n\tdisplay: inline-block;\n\tposition: absolute;\n\toverflow: hidden;\n\twidth: var(--vscode-editorStickyScroll-scrollableWidth);\n\tbackground-color: inherit;\n}\n\n.monaco-editor .sticky-widget-lines {\n\tposition: absolute;\n\tbackground-color: inherit;\n}\n\n.monaco-editor .sticky-line-number, .monaco-editor .sticky-line-content {\n\tcolor: var(--vscode-editorLineNumber-foreground);\n\twhite-space: nowrap;\n\tdisplay: inline-block;\n\tposition: absolute;\n\tbackground-color: inherit;\n}\n\n.monaco-editor .sticky-line-number .codicon-folding-expanded,\n.monaco-editor .sticky-line-number .codicon-folding-collapsed {\n\tfloat: right;\n\ttransition: var(--vscode-editorStickyScroll-foldingOpacityTransition);\n}\n\n.monaco-editor .sticky-line-content {\n\twidth: var(--vscode-editorStickyScroll-scrollableWidth);\n\tbackground-color: inherit;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .sticky-line-number-inner {\n\tdisplay: inline-block;\n\ttext-align: right;\n}\n\n.monaco-editor .sticky-widget {\n\tborder-bottom: 1px solid var(--vscode-editorStickyScroll-border);\n}\n\n.monaco-editor .sticky-line-content:hover {\n\tbackground-color: var(--vscode-editorStickyScrollHover-background);\n\tcursor: pointer;\n}\n\n.monaco-editor .sticky-widget {\n\twidth: 100%;\n\tbox-shadow: var(--vscode-editorStickyScroll-shadow) 0 3px 2px -2px;\n\tz-index: 4;\n\tbackground-color: var(--vscode-editorStickyScroll-background);\n\tright: initial !important;\n}\n\n.monaco-editor .sticky-widget.peek {\n\tbackground-color: var(--vscode-peekViewEditorStickyScroll-background);\n}\n",""]);const S=C},87160:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Suggest widget*/\n\n.monaco-editor .suggest-widget {\n\twidth: 430px;\n\tz-index: 40;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder-radius: 3px;\n}\n\n.monaco-editor .suggest-widget.message {\n\tflex-direction: row;\n\talign-items: center;\n}\n\n.monaco-editor .suggest-widget,\n.monaco-editor .suggest-details {\n\tflex: 0 1 auto;\n\twidth: 100%;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-color: var(--vscode-editorSuggestWidget-border);\n\tbackground-color: var(--vscode-editorSuggestWidget-background);\n}\n\n.monaco-editor.hc-black .suggest-widget,\n.monaco-editor.hc-black .suggest-details,\n.monaco-editor.hc-light .suggest-widget,\n.monaco-editor.hc-light .suggest-details {\n\tborder-width: 2px;\n}\n\n/* Styles for status bar part */\n\n\n.monaco-editor .suggest-widget .suggest-status-bar {\n\tbox-sizing: border-box;\n\tdisplay: none;\n\tflex-flow: row nowrap;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tfont-size: 80%;\n\tpadding: 0 4px 0 4px;\n\tborder-top: 1px solid var(--vscode-editorSuggestWidget-border);\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .suggest-status-bar .left {\n\tpadding-right: 8px;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label {\n\tcolor: var(--vscode-editorSuggestWidgetStatus-foreground);\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label::after {\n\tcontent: ', ';\n\tmargin-right: 0.3em;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row > .contents > .main > .right > .readMore,\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label > .contents > .main > .right > .readMore {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover > .contents > .main > .right.can-expand-details > .details-label {\n\twidth: 100%;\n}\n\n/* Styles for Message element for when widget is loading or is empty */\n\n.monaco-editor .suggest-widget > .message {\n\tpadding-left: 22px;\n}\n\n/** Styles for the list element **/\n\n.monaco-editor .suggest-widget > .tree {\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n}\n\n/** Styles for each row in the list element **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding-right: 10px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused {\n\tcolor: var(--vscode-editorSuggestWidget-selectedForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: var(--vscode-editorSuggestWidget-selectedIconForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents {\n\tflex: 1;\n\theight: 100%;\n\toverflow: hidden;\n\tpadding-left: 2px;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main {\n\tdisplay: flex;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: pre;\n\tjustify-content: space-between;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused) > .contents > .main .monaco-icon-label {\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-highlightForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused > .contents > .main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-focusHighlightForeground);\n}\n\n/** ReadMore Icon styles **/\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > .header > .codicon-close,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .readMore::before {\n\tcolor: inherit;\n\topacity: 1;\n\tfont-size: 14px;\n\tcursor: pointer;\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > .header > .codicon-close {\n\tposition: absolute;\n\ttop: 6px;\n\tright: 2px;\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > .header > .codicon-close:hover,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .readMore:hover {\n\topacity: 1;\n}\n\n/** signature, qualifier, type/details opacity **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label {\n\topacity: 0.7;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .signature-label {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.6;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .qualifier-label {\n\tmargin-left: 12px;\n\topacity: 0.4;\n\tfont-size: 85%;\n\tline-height: initial;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\talign-self: center;\n}\n\n/** Type Info and icon next to the label in the focused completion item **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label {\n\tfont-size: 85%;\n\tmargin-left: 1.1em;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label > .monaco-tokenized-source {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItem#details, show on focus **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused > .contents > .main > .right > .details-label {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItemLabel#details, always show **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label) > .contents > .main > .right > .details-label,\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label) > .contents > .main > .right > .details-label {\n\tdisplay: inline;\n}\n\n/** Ellipsis on hover **/\n\n.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover > .contents > .main > .right.can-expand-details > .details-label {\n\twidth: calc(100% - 26px);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left {\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .monaco-icon-label {\n\tflex-shrink: 0;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label) > .contents > .main > .left > .monaco-icon-label {\n\tmax-width: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label > .contents > .main > .left > .monaco-icon-label {\n\tflex-shrink: 1;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right {\n\toverflow: hidden;\n\tflex-shrink: 4;\n\tmax-width: 70%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .readMore {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\twidth: 18px;\n\theight: 18px;\n\tvisibility: hidden;\n}\n\n/** Do NOT display ReadMore when docs is side/below **/\n\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row > .contents > .main > .right > .readMore {\n\tdisplay: none !important;\n}\n\n/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label > .contents > .main > .right > .readMore {\n\tdisplay: none;\n}\n\n/** Focused item can show ReadMore, but can't when docs is side/below **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label > .contents > .main > .right > .readMore {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover > .contents > .main > .right > .readMore {\n\tvisibility: visible;\n}\n\n/** Styles for each row in the list **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {\n\topacity: 0.66;\n\ttext-decoration: unset;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated > .monaco-icon-label-container > .monaco-icon-name-container {\n\ttext-decoration: line-through;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {\n\theight: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {\n\tdisplay: block;\n\theight: 16px;\n\twidth: 16px;\n\tmargin-left: 2px;\n\tbackground-repeat: no-repeat;\n\tbackground-size: 80%;\n\tbackground-position: center;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {\n\tmargin: 0 0 0 0.3em;\n\tborder: 0.1em solid #000;\n\twidth: 0.7em;\n\theight: 0.7em;\n\tdisplay: inline-block;\n}\n\n/** Styles for the docs of the completion item in focus **/\n\n.monaco-editor .suggest-details-container {\n\tz-index: 41;\n}\n\n.monaco-editor .suggest-details {\n\tdisplay: flex;\n\tflex-direction: column;\n\tcursor: default;\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-details.focused {\n\tborder-color: var(--vscode-focusBorder);\n}\n\n.monaco-editor .suggest-details a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .suggest-details a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .suggest-details code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n.monaco-editor .suggest-details.no-docs {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element {\n\tflex: 1;\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body {\n\tbox-sizing: border-box;\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > .header > .type {\n\tflex: 2;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.7;\n\twhite-space: pre;\n\tmargin: 0 24px 0 0;\n\tpadding: 4px 0 12px 5px;\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > .header > .type.auto-wrap {\n\twhite-space: normal;\n\tword-break: break-all;\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > .docs {\n\tmargin: 0;\n\tpadding: 4px 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .suggest-details.no-type > .monaco-scrollable-element > .body > .docs {\n\tmargin-right: 24px;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > .docs.markdown-docs {\n\tpadding: 0;\n\twhite-space: initial;\n\tmin-height: calc(1rem + 8px);\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > .docs.markdown-docs > div,\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > .docs.markdown-docs > span:not(:empty) {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > .docs.markdown-docs > div > p:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > .docs.markdown-docs > div > p:last-child {\n\tmargin-bottom: 0;\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > .docs.markdown-docs .monaco-tokenized-source {\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > .docs .code {\n\twhite-space: pre-wrap;\n\tword-wrap: break-word;\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > .docs.markdown-docs .codicon {\n\tvertical-align: sub;\n}\n\n.monaco-editor .suggest-details > .monaco-scrollable-element > .body > p:empty {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .suggest-details ul {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details ol {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details p code {\n\tfont-family: var(--monaco-monospace-font);\n}\n",""]);const S=C},51029:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .codicon.codicon-symbol-array,\n.monaco-workbench .codicon.codicon-symbol-array { color: var(--vscode-symbolIcon-arrayForeground); }\n.monaco-editor .codicon.codicon-symbol-boolean,\n.monaco-workbench .codicon.codicon-symbol-boolean { color: var(--vscode-symbolIcon-booleanForeground); }\n.monaco-editor .codicon.codicon-symbol-class,\n.monaco-workbench .codicon.codicon-symbol-class { color: var(--vscode-symbolIcon-classForeground); }\n.monaco-editor .codicon.codicon-symbol-method,\n.monaco-workbench .codicon.codicon-symbol-method { color: var(--vscode-symbolIcon-methodForeground); }\n.monaco-editor .codicon.codicon-symbol-color,\n.monaco-workbench .codicon.codicon-symbol-color { color: var(--vscode-symbolIcon-colorForeground); }\n.monaco-editor .codicon.codicon-symbol-constant,\n.monaco-workbench .codicon.codicon-symbol-constant { color: var(--vscode-symbolIcon-constantForeground); }\n.monaco-editor .codicon.codicon-symbol-constructor,\n.monaco-workbench .codicon.codicon-symbol-constructor { color: var(--vscode-symbolIcon-constructorForeground); }\n.monaco-editor .codicon.codicon-symbol-value,\n.monaco-workbench .codicon.codicon-symbol-value,\n.monaco-editor .codicon.codicon-symbol-enum,\n.monaco-workbench .codicon.codicon-symbol-enum { color: var(--vscode-symbolIcon-enumeratorForeground); }\n.monaco-editor .codicon.codicon-symbol-enum-member,\n.monaco-workbench .codicon.codicon-symbol-enum-member { color: var(--vscode-symbolIcon-enumeratorMemberForeground); }\n.monaco-editor .codicon.codicon-symbol-event,\n.monaco-workbench .codicon.codicon-symbol-event { color: var(--vscode-symbolIcon-eventForeground); }\n.monaco-editor .codicon.codicon-symbol-field,\n.monaco-workbench .codicon.codicon-symbol-field { color: var(--vscode-symbolIcon-fieldForeground); }\n.monaco-editor .codicon.codicon-symbol-file,\n.monaco-workbench .codicon.codicon-symbol-file { color: var(--vscode-symbolIcon-fileForeground); }\n.monaco-editor .codicon.codicon-symbol-folder,\n.monaco-workbench .codicon.codicon-symbol-folder { color: var(--vscode-symbolIcon-folderForeground); }\n.monaco-editor .codicon.codicon-symbol-function,\n.monaco-workbench .codicon.codicon-symbol-function { color: var(--vscode-symbolIcon-functionForeground); }\n.monaco-editor .codicon.codicon-symbol-interface,\n.monaco-workbench .codicon.codicon-symbol-interface { color: var(--vscode-symbolIcon-interfaceForeground); }\n.monaco-editor .codicon.codicon-symbol-key,\n.monaco-workbench .codicon.codicon-symbol-key { color: var(--vscode-symbolIcon-keyForeground); }\n.monaco-editor .codicon.codicon-symbol-keyword,\n.monaco-workbench .codicon.codicon-symbol-keyword { color: var(--vscode-symbolIcon-keywordForeground); }\n.monaco-editor .codicon.codicon-symbol-module,\n.monaco-workbench .codicon.codicon-symbol-module { color: var(--vscode-symbolIcon-moduleForeground); }\n.monaco-editor .codicon.codicon-symbol-namespace,\n.monaco-workbench .codicon.codicon-symbol-namespace { color: var(--vscode-symbolIcon-namespaceForeground); }\n.monaco-editor .codicon.codicon-symbol-null,\n.monaco-workbench .codicon.codicon-symbol-null { color: var(--vscode-symbolIcon-nullForeground); }\n.monaco-editor .codicon.codicon-symbol-number,\n.monaco-workbench .codicon.codicon-symbol-number { color: var(--vscode-symbolIcon-numberForeground); }\n.monaco-editor .codicon.codicon-symbol-object,\n.monaco-workbench .codicon.codicon-symbol-object { color: var(--vscode-symbolIcon-objectForeground); }\n.monaco-editor .codicon.codicon-symbol-operator,\n.monaco-workbench .codicon.codicon-symbol-operator { color: var(--vscode-symbolIcon-operatorForeground); }\n.monaco-editor .codicon.codicon-symbol-package,\n.monaco-workbench .codicon.codicon-symbol-package { color: var(--vscode-symbolIcon-packageForeground); }\n.monaco-editor .codicon.codicon-symbol-property,\n.monaco-workbench .codicon.codicon-symbol-property { color: var(--vscode-symbolIcon-propertyForeground); }\n.monaco-editor .codicon.codicon-symbol-reference,\n.monaco-workbench .codicon.codicon-symbol-reference { color: var(--vscode-symbolIcon-referenceForeground); }\n.monaco-editor .codicon.codicon-symbol-snippet,\n.monaco-workbench .codicon.codicon-symbol-snippet { color: var(--vscode-symbolIcon-snippetForeground); }\n.monaco-editor .codicon.codicon-symbol-string,\n.monaco-workbench .codicon.codicon-symbol-string { color: var(--vscode-symbolIcon-stringForeground); }\n.monaco-editor .codicon.codicon-symbol-struct,\n.monaco-workbench .codicon.codicon-symbol-struct { color: var(--vscode-symbolIcon-structForeground); }\n.monaco-editor .codicon.codicon-symbol-text,\n.monaco-workbench .codicon.codicon-symbol-text { color: var(--vscode-symbolIcon-textForeground); }\n.monaco-editor .codicon.codicon-symbol-type-parameter,\n.monaco-workbench .codicon.codicon-symbol-type-parameter { color: var(--vscode-symbolIcon-typeParameterForeground); }\n.monaco-editor .codicon.codicon-symbol-unit,\n.monaco-workbench .codicon.codicon-symbol-unit { color: var(--vscode-symbolIcon-unitForeground); }\n.monaco-editor .codicon.codicon-symbol-variable,\n.monaco-workbench .codicon.codicon-symbol-variable { color: var(--vscode-symbolIcon-variableForeground); }\n",""]);const S=C},6065:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.editor-banner {\n\tbox-sizing: border-box;\n\tcursor: default;\n\twidth: 100%;\n\tfont-size: 12px;\n\tdisplay: flex;\n\toverflow: visible;\n\n\theight: 26px;\n\n\tbackground: var(--vscode-banner-background);\n}\n\n\n.editor-banner .icon-container {\n\tdisplay: flex;\n\tflex-shrink: 0;\n\talign-items: center;\n\tpadding: 0 6px 0 10px;\n}\n\n.editor-banner .icon-container.custom-icon {\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 16px;\n\twidth: 16px;\n\tpadding: 0;\n\tmargin: 0 6px 0 10px;\n}\n\n.editor-banner .message-container {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 26px;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n.editor-banner .message-container p {\n\tmargin-block-start: 0;\n\tmargin-block-end: 0;\n}\n\n.editor-banner .message-actions-container {\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tline-height: 26px;\n\tmargin: 0 4px;\n}\n\n.editor-banner .message-actions-container a.monaco-button {\n\twidth: inherit;\n\tmargin: 2px 8px;\n\tpadding: 0px 12px;\n}\n\n.editor-banner .message-actions-container a {\n\tpadding: 3px;\n\tmargin-left: 12px;\n\ttext-decoration: underline;\n}\n\n.editor-banner .action-container {\n\tpadding: 0 10px 0 6px;\n}\n\n.editor-banner {\n\tbackground-color: var(--vscode-banner-background);\n}\n\n.editor-banner,\n.editor-banner .action-container .codicon,\n.editor-banner .message-actions-container .monaco-link {\n\tcolor: var(--vscode-banner-foreground);\n}\n\n.editor-banner .icon-container .codicon {\n\tcolor: var(--vscode-banner-iconForeground);\n}\n",""]);const S=C},18245:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .unicode-highlight {\n\tborder: 1px solid var(--vscode-editorUnicodeHighlight-border);\n\tbackground-color: var(--vscode-editorUnicodeHighlight-background);\n\tbox-sizing: border-box;\n}\n",""]);const S=C},19803:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .focused .selectionHighlight {\n\tbackground-color: var(--vscode-editor-selectionHighlightBackground);\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-editor-selectionHighlightBorder);\n}\n.monaco-editor.hc-black .focused .selectionHighlight, .monaco-editor.hc-light .focused .selectionHighlight {\n\tborder-style: dotted;\n}\n\n.monaco-editor .wordHighlight {\n\tbackground-color: var(--vscode-editor-wordHighlightBackground);\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-editor-wordHighlightBorder);\n}\n.monaco-editor.hc-black .wordHighlight, .monaco-editor.hc-light .wordHighlight {\n\tborder-style: dotted;\n}\n\n.monaco-editor .wordHighlightStrong {\n\tbackground-color: var(--vscode-editor-wordHighlightStrongBackground);\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-editor-wordHighlightStrongBorder);\n}\n.monaco-editor.hc-black .wordHighlightStrong, .monaco-editor.hc-light .wordHighlightStrong {\n\tborder-style: dotted;\n}\n\n.monaco-editor .wordHighlightText {\n\tbackground-color: var(--vscode-editor-wordHighlightTextBackground);\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-editor-wordHighlightTextBorder);\n}\n.monaco-editor.hc-black .wordHighlightText, .monaco-editor.hc-light .wordHighlightText {\n\tborder-style: dotted;\n}\n",""]);const S=C},12889:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .zone-widget {\n\tposition: absolute;\n\tz-index: 10;\n}\n\n\n.monaco-editor .zone-widget .zone-widget-container {\n\tborder-top-style: solid;\n\tborder-bottom-style: solid;\n\tborder-top-width: 0;\n\tborder-bottom-width: 0;\n\tposition: relative;\n}\n",""]);const S=C},59337:(tt,xe,t)=>{t.d(xe,{A:()=>f});var a=t(8564),F=t.n(a),w=t(98557),x=t.n(w),C=t(99560),S=t.n(C),b=new URL("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==","file:///Q:/Repos/AlmMaster/Analysis-Services/AlmToolkit/AlmToolkit/html-resources/node_modules/monaco-editor/esm/vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard.css"),P=new URL("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==","file:///Q:/Repos/AlmMaster/Analysis-Services/AlmToolkit/AlmToolkit/html-resources/node_modules/monaco-editor/esm/vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard.css"),D=x()(F()),v=S()(b),_=S()(P);D.push([tt.id,`/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .iPadShowKeyboard {\n\twidth: 58px;\n\tmin-width: 0;\n\theight: 36px;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\tresize: none;\n\toverflow: hidden;\n\tbackground: url(${v}) center center no-repeat;\n\tborder: 4px solid #F6F6F6;\n\tborder-radius: 4px;\n}\n\n.monaco-editor.vs-dark .iPadShowKeyboard {\n\tbackground: url(${_}) center center no-repeat;\n\tborder: 4px solid #252526;\n}`,""]);const f=D},72931:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .tokens-inspect-widget {\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\tpadding: 10px;\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n}\n.monaco-editor.hc-black .tokens-inspect-widget, .monaco-editor.hc-light .tokens-inspect-widget {\n\tborder-width: 2px;\n}\n\n.monaco-editor .tokens-inspect-widget .tokens-inspect-separator {\n\theight: 1px;\n\tborder: 0;\n\tbackground-color: var(--vscode-editorHoverWidget-border);\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-length {\n\tfont-weight: normal;\n\tfont-size: 60%;\n\tfloat: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-table {\n\twidth: 100%;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-value {\n\tfont-family: var(--monaco-monospace-font);\n\ttext-align: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-type {\n\tfont-family: var(--monaco-monospace-font);\n}\n",""]);const S=C},71446:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tfont-size: 13px;\n}\n\n.quick-input-widget .monaco-highlighted-label .highlight,\n.quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0066BF;\n}\n\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight {\n\tcolor: #9DDDFF;\n}\n\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0097fb;\n}\n\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #F38518;\n}\n\n.hc-light .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-light .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0F4A85;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(221, 221, 221, 0.4);\n\tborder: solid 1px rgba(204, 204, 204, 0.4);\n\tborder-bottom-color: rgba(187, 187, 187, 0.4);\n\tbox-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\n\tcolor: #555;\n}\n\n.hc-black .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px rgb(111, 195, 223);\n\tbox-shadow: none;\n\tcolor: #fff;\n}\n\n.hc-light .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px #0F4A85;\n\tbox-shadow: none;\n\tcolor: #292929;\n}\n\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(128, 128, 128, 0.17);\n\tborder: solid 1px rgba(51, 51, 51, 0.6);\n\tborder-bottom-color: rgba(68, 68, 68, 0.6);\n\tbox-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\n\tcolor: #ccc;\n}\n",""]);const S=C},3614:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n/* Default standalone editor fonts */\n.monaco-editor {\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t--monaco-monospace-font: "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-light .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n.monaco-hover p {\n\tmargin: 0;\n}\n\n/* See https://github.com/microsoft/monaco-editor/issues/2168#issuecomment-780078600 */\n.monaco-aria-container {\n\tposition: absolute !important;\n\ttop: 0; /* avoid being placed underneath a sibling element */\n\theight: 1px;\n\twidth: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tclip: rect(1px, 1px, 1px, 1px);\n\tclip-path: inset(50%);\n}\n\n.monaco-editor, .monaco-diff-editor .synthetic-focus,\n.monaco-editor, .monaco-diff-editor [tabindex="0"]:focus,\n.monaco-editor, .monaco-diff-editor [tabindex="-1"]:focus,\n.monaco-editor, .monaco-diff-editor button:focus,\n.monaco-editor, .monaco-diff-editor input[type=button]:focus,\n.monaco-editor, .monaco-diff-editor input[type=checkbox]:focus,\n.monaco-editor, .monaco-diff-editor input[type=search]:focus,\n.monaco-editor, .monaco-diff-editor input[type=text]:focus,\n.monaco-editor, .monaco-diff-editor select:focus,\n.monaco-editor, .monaco-diff-editor textarea:focus {\n\toutline-width: 1px;\n\toutline-style: solid;\n\toutline-offset: -1px;\n\toutline-color: var(--vscode-focusBorder);\n\topacity: 1\n}\n',""]);const S=C},56745:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.action-widget {\n\tfont-size: 13px;\n\tborder-radius: 0;\n\tmin-width: 160px;\n\tmax-width: 80vw;\n\tz-index: 40;\n\tdisplay: block;\n\twidth: 100%;\n\tborder: 1px solid var(--vscode-editorWidget-border) !important;\n\tborder-radius: 2px;\n\tbackground-color: var(--vscode-editorWidget-background);\n\tcolor: var(--vscode-editorWidget-foreground);\n}\n\n.context-view-block {\n\tposition: fixed;\n\tcursor: initial;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: -1;\n}\n\n.context-view-pointerBlock {\n\tposition: fixed;\n\tcursor: initial;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 2;\n}\n\n.action-widget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\tborder: none !important;\n\tborder-width: 0 !important;\n}\n\n.action-widget .monaco-list:focus:before {\n\toutline: 0 !important;\n}\n\n.action-widget .monaco-list .monaco-scrollable-element {\n\toverflow: visible;\n}\n\n/** Styles for each row in the list element **/\n.action-widget .monaco-list .monaco-list-row {\n\tpadding: 0 10px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n\twidth: 100%;\n}\n\n.action-widget .monaco-list .monaco-list-row.action.focused:not(.option-disabled) {\n\tbackground-color: var(--vscode-quickInputList-focusBackground) !important;\n\tcolor: var(--vscode-quickInputList-focusForeground);\n\toutline: 1px solid var(--vscode-menu-selectionBorder, transparent);\n\toutline-offset: -1px;\n}\n\n.action-widget .monaco-list-row.group-header {\n\tcolor: var(--vscode-descriptionForeground) !important;\n\tfont-weight: 600;\n}\n\n.action-widget .monaco-list .group-header,\n.action-widget .monaco-list .option-disabled,\n.action-widget .monaco-list .option-disabled:before,\n.action-widget .monaco-list .option-disabled .focused,\n.action-widget .monaco-list .option-disabled .focused:before {\n\tcursor: default !important;\n\t-webkit-touch-callout: none;\n\t-webkit-user-select: none;\n\tuser-select: none;\n\tbackground-color: transparent !important;\n\toutline: 0 solid !important;\n}\n\n.action-widget .monaco-list-row.action {\n\tdisplay: flex;\n\tgap: 6px;\n\talign-items: center;\n}\n\n.action-widget .monaco-list-row.action.option-disabled,\n.action-widget .monaco-list:focus .monaco-list-row.focused.action.option-disabled,\n.action-widget .monaco-list-row.action.option-disabled .codicon,\n.action-widget .monaco-list:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused).option-disabled {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n\n.action-widget .monaco-list-row.action:not(.option-disabled) .codicon {\n\tcolor: inherit;\n}\n\n.action-widget .monaco-list-row.action .title {\n\tflex: 1;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.action-widget .monaco-list-row.action .monaco-keybinding > .monaco-keybinding-key {\n\t\tbackground-color: var(--vscode-keybindingLabel-background);\n\t\tcolor: var(--vscode-keybindingLabel-foreground);\n\t\tborder-style: solid;\n\t\tborder-width: 1px;\n\t\tborder-radius: 3px;\n\t\tborder-color: var(--vscode-keybindingLabel-border);\n\t\tborder-bottom-color: var(--vscode-keybindingLabel-bottomBorder);\n\t\tbox-shadow: inset 0 -1px 0 var(--vscode-widget-shadow);\n}\n\n/* Action bar */\n\n.action-widget .action-widget-action-bar {\n\tbackground-color: var(--vscode-editorHoverWidget-statusBarBackground);\n\tborder-top: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.action-widget .action-widget-action-bar::before {\n\tdisplay: block;\n\tcontent: "";\n\twidth: 100%;\n}\n\n.action-widget .action-widget-action-bar .actions-container {\n\tpadding: 0 8px;\n}\n\n.action-widget-action-bar .action-label {\n\tcolor: var(--vscode-textLink-activeForeground);\n\tfont-size: 12px;\n\tline-height: 22px;\n\tpadding: 0;\n\tpointer-events: all;\n}\n\n.action-widget-action-bar .action-item {\n\tmargin-right: 16px;\n\tpointer-events: none;\n}\n\n.action-widget-action-bar .action-label:hover {\n\tbackground-color: transparent !important;\n}\n\n.monaco-action-bar .actions-container.highlight-toggled .action-label.checked {\n\t/* The important gives this rule precedence over the hover rule. */\n\tbackground: var(--vscode-actionBar-toggledBackground) !important;\n}\n',""]);const S=C},19055:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar .action-item.menu-entry .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-dropdown-with-default {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-default > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-default > .action-container.menu-entry > .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-dropdown-with-default:hover {\n\tbackground-color: var(--vscode-toolbar-hoverBackground);\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n",""]);const S=C},4646:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-link {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-link:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n",""]);const S=C},87492:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tposition: absolute;\n\twidth: 600px;\n\tz-index: 2550;\n\tleft: 50%;\n\tmargin-left: -300px;\n\t-webkit-app-region: no-drag;\n\tborder-radius: 6px;\n}\n\n.quick-input-titlebar {\n\tdisplay: flex;\n\talign-items: center;\n\tborder-radius: inherit;\n}\n\n.quick-input-left-action-bar {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\tflex: 1;\n}\n\n.quick-input-title {\n\tpadding: 3px 0px;\n\ttext-align: center;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-right-action-bar {\n\tdisplay: flex;\n\tmargin-right: 4px;\n\tflex: 1;\n}\n\n.quick-input-right-action-bar > .actions-container {\n\tjustify-content: flex-end;\n}\n\n.quick-input-titlebar .monaco-action-bar .action-label.codicon {\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tpadding: 2px;\n}\n\n.quick-input-description {\n\tmargin: 6px 6px 6px 11px;\n}\n\n.quick-input-header .quick-input-description {\n\tmargin: 4px 2px;\n\tflex: 1;\n}\n\n.quick-input-header {\n\tdisplay: flex;\n\tpadding: 8px 6px 2px 6px;\n}\n\n.quick-input-widget.hidden-input .quick-input-header {\n\t/* reduce margins and paddings when input box hidden */\n\tpadding: 0;\n\tmargin-bottom: 0;\n}\n\n.quick-input-and-message {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n\tmin-width: 0;\n\tposition: relative;\n}\n\n.quick-input-check-all {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-filter {\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n}\n\n.quick-input-box {\n\tflex-grow: 1;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-box,\n.quick-input-widget.show-checkboxes .quick-input-message {\n\tmargin-left: 5px;\n}\n\n.quick-input-visible-count {\n\tposition: absolute;\n\tleft: -10000px;\n}\n\n.quick-input-count {\n\talign-self: center;\n\tposition: absolute;\n\tright: 4px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-count .monaco-count-badge {\n\tvertical-align: middle;\n\tpadding: 2px 4px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n\n.quick-input-action {\n\tmargin-left: 6px;\n}\n\n.quick-input-action .monaco-text-button {\n\tfont-size: 11px;\n\tpadding: 0 6px;\n\tdisplay: flex;\n\theight: 25px;\n\talign-items: center;\n}\n\n.quick-input-message {\n\tmargin-top: -1px;\n\tpadding: 5px;\n\toverflow-wrap: break-word;\n}\n\n.quick-input-message > .codicon {\n\tmargin: 0 0.2em;\n\tvertical-align: text-bottom;\n}\n\n/* Links in descriptions & validations */\n.quick-input-message a {\n\tcolor: inherit;\n}\n\n.quick-input-progress.monaco-progress-container {\n\tposition: relative;\n}\n\n.quick-input-list {\n\tline-height: 22px;\n}\n\n.quick-input-widget.hidden-input .quick-input-list {\n\tmargin-top: 4px; /* reduce margins when input box hidden */\n\tpadding-bottom: 4px;\n}\n\n.quick-input-list .monaco-list {\n\toverflow: hidden;\n\tmax-height: calc(20 * 22px);\n\tpadding-bottom: 5px;\n}\n\n.quick-input-list .monaco-scrollable-element {\n\tpadding: 0px 5px;\n}\n\n.quick-input-list .quick-input-list-entry {\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tpadding: 0 6px;\n}\n\n.quick-input-list .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-width: 1px;\n\tborder-top-style: solid;\n}\n\n.quick-input-list .monaco-list-row {\n\tborder-radius: 3px;\n}\n\n.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-style: none;\n}\n\n.quick-input-list .quick-input-list-label {\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tflex: 1;\n}\n\n.quick-input-list .quick-input-list-checkbox {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-list .quick-input-list-icon {\n\tbackground-size: 16px;\n\tbackground-position: left center;\n\tbackground-repeat: no-repeat;\n\tpadding-right: 6px;\n\twidth: 16px;\n\theight: 22px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.quick-input-list .quick-input-list-rows {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tflex: 1;\n\tmargin-left: 5px;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows {\n\tmargin-left: 10px;\n}\n\n.quick-input-widget .quick-input-list .quick-input-list-checkbox {\n\tdisplay: none;\n}\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox {\n\tdisplay: inline;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label,\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\n\tflex: 1; /* make sure the icon label grows within the row */\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .codicon[class*='codicon-'] {\n\tvertical-align: text-bottom;\n}\n\n.quick-input-list .quick-input-list-rows .monaco-highlighted-label > span {\n\topacity: 1;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding {\n\tmargin-right: 8px; /* separate from the separator label or scrollbar if any */\n}\n\n.quick-input-list .quick-input-list-label-meta {\n\topacity: 0.7;\n\tline-height: normal;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n/* preserve list-like styling instead of tree-like styling */\n.quick-input-list .monaco-list .monaco-list-row .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n\tbackground-color: unset;\n\tcolor: var(--vscode-list-highlightForeground) !important;\n}\n\n/* preserve list-like styling instead of tree-like styling */\n.quick-input-list .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-list-focusHighlightForeground) !important;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-separator {\n\tmargin-right: 4px; /* separate from keybindings or actions */\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tdisplay: flex;\n\tflex: 0;\n\toverflow: visible;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label {\n\t/*\n\t * By default, actions in the quick input action bar are hidden\n\t * until hovered over them or selected.\n\t */\n\tdisplay: none;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {\n\tmargin-right: 4px;\n\tpadding: 0px 2px 2px 2px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-top: 1px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-right: 4px; /* separate from scrollbar */\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,\n.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,\n.quick-input-list .quick-input-list-entry.focus-inside .quick-input-list-entry-action-bar .action-label,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label,\n.quick-input-list .monaco-list-row.passive-focused .quick-input-list-entry-action-bar .action-label {\n\tdisplay: flex;\n}\n\n/* focused items in quick pick */\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator {\n\tcolor: inherit\n}\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key {\n\tbackground: none;\n}\n\n.quick-input-list .quick-input-list-separator-as-item {\n\tpadding: 4px 6px;\n\tfont-size: 12px;\n}\n\n/* Quick input separators as full-row item */\n.quick-input-list .quick-input-list-separator-as-item .label-name {\n\tfont-weight: 600;\n}\n\n.quick-input-list .quick-input-list-separator-as-item .label-description {\n\t/* Override default description opacity so we don't have a contrast ratio issue. */\n\topacity: 1 !important;\n}\n\n/* Hide border when the item becomes the sticky one */\n.quick-input-list .monaco-tree-sticky-row .quick-input-list-entry.quick-input-list-separator-as-item.quick-input-list-separator-border {\n\tborder-top-style: none;\n}\n\n/* Give sticky row the same padding as the scrollable list */\n.quick-input-list .monaco-tree-sticky-row {\n\tpadding: 0 5px;\n}\n\n/* Hide the twistie containers so that there isn't blank indent */\n.quick-input-list .monaco-tl-twistie {\n\tdisplay: none !important;\n}\n",""]);const S=C},13774:(tt,xe,t)=>{t.d(xe,{A:()=>S});var a=t(8564),F=t.n(a),w=t(98557),C=t.n(w)()(F());C.push([tt.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .zone-widget .codicon.codicon-error,\n.markers-panel .marker-icon.error, .markers-panel .marker-icon .codicon.codicon-error,\n.text-search-provider-messages .providerMessage .codicon.codicon-error,\n.extensions-viewlet > .extensions .codicon.codicon-error,\n.extension-editor .codicon.codicon-error,\n.preferences-editor .codicon.codicon-error {\n\tcolor: var(--vscode-problemsErrorIcon-foreground);\n}\n\n.monaco-editor .zone-widget .codicon.codicon-warning,\n.markers-panel .marker-icon.warning, .markers-panel .marker-icon .codicon.codicon-warning,\n.text-search-provider-messages .providerMessage .codicon.codicon-warning,\n.extensions-viewlet > .extensions .codicon.codicon-warning,\n.extension-editor .codicon.codicon-warning,\n.preferences-editor .codicon.codicon-warning {\n\tcolor: var(--vscode-problemsWarningIcon-foreground);\n}\n\n.monaco-editor .zone-widget .codicon.codicon-info,\n.markers-panel .marker-icon.info, .markers-panel .marker-icon .codicon.codicon-info,\n.text-search-provider-messages .providerMessage .codicon.codicon-info,\n.extensions-viewlet > .extensions .codicon.codicon-info,\n.extension-editor .codicon.codicon-info,\n.preferences-editor .codicon.codicon-info {\n\tcolor: var(--vscode-problemsInfoIcon-foreground);\n}\n",""]);const S=C},96861:(tt,xe,t)=>{var a=t(85072),F=t.n(a),w=t(97825),x=t.n(w),C=t(77659),S=t.n(C),b=t(55056),P=t.n(b),D=t(10540),v=t.n(D),_=t(41113),f=t.n(_),d=t(94566),r={};r.styleTagTransform=f(),r.setAttributes=P(),r.insert=S().bind(null,"head"),r.domAPI=x(),r.insertStyleElement=v(),F()(d.A,r)},37905:(tt,xe,t)=>{var a=t(85072),F=t.n(a),w=t(97825),x=t.n(w),C=t(77659),S=t.n(C),b=t(55056),P=t.n(b),D=t(10540),v=t.n(D),_=t(41113),f=t.n(_),d=t(8474),r={};r.styleTagTransform=f(),r.setAttributes=P(),r.insert=S().bind(null,"head"),r.domAPI=x(),r.insertStyleElement=v(),F()(d.A,r)},67119:(tt,xe,t)=>{var a=t(85072),F=t.n(a),w=t(97825),x=t.n(w),C=t(77659),S=t.n(C),b=t(55056),P=t.n(b),D=t(10540),v=t.n(D),_=t(41113),f=t.n(_),d=t(67340),r={};r.styleTagTransform=f(),r.setAttributes=P(),r.insert=S().bind(null,"head"),r.domAPI=x(),r.insertStyleElement=v(),F()(d.A,r)},51580:(tt,xe,t)=>{var a=t(85072),F=t.n(a),w=t(97825),x=t.n(w),C=t(77659),S=t.n(C),b=t(55056),P=t.n(b),D=t(10540),v=t.n(D),_=t(41113),f=t.n(_),d=t(53345),r={};r.styleTagTransform=f(),r.setAttributes=P(),r.insert=S().bind(null,"head"),r.domAPI=x(),r.insertStyleElement=v(),F()(d.A,r)},61624:(tt,xe,t)=>{var a=t(85072),F=t.n(a),w=t(97825),x=t.n(w),C=t(77659),S=t.n(C),b=t(55056),P=t.n(b),D=t(10540),v=t.n(D),_=t(41113),f=t.n(_),d=t(30245),r={};r.styleTagTransform=f(),r.setAttributes=P(),r.insert=S().bind(null,"head"),r.domAPI=x(),r.insertStyleElement=v(),F()(d.A,r)},85072:tt=>{var xe=[];function t(w){for(var x=-1,C=0;C<xe.length;C++)if(xe[C].identifier===w){x=C;break}return x}function a(w,x){for(var C={},S=[],b=0;b<w.length;b++){var P=w[b],D=x.base?P[0]+x.base:P[0],v=C[D]||0,_="".concat(D," ").concat(v);C[D]=v+1;var f=t(_),d={css:P[1],media:P[2],sourceMap:P[3],supports:P[4],layer:P[5]};if(-1!==f)xe[f].references++,xe[f].updater(d);else{var r=F(d,x);x.byIndex=b,xe.splice(b,0,{identifier:_,updater:r,references:1})}S.push(_)}return S}function F(w,x){var C=x.domAPI(x);return C.update(w),function(P){if(P){if(P.css===w.css&&P.media===w.media&&P.sourceMap===w.sourceMap&&P.supports===w.supports&&P.layer===w.layer)return;C.update(w=P)}else C.remove()}}tt.exports=function(w,x){var C=a(w=w||[],x=x||{});return function(b){b=b||[];for(var P=0;P<C.length;P++){var v=t(C[P]);xe[v].references--}for(var _=a(b,x),f=0;f<C.length;f++){var r=t(C[f]);0===xe[r].references&&(xe[r].updater(),xe.splice(r,1))}C=_}}},77659:tt=>{var xe={};tt.exports=function a(F,w){var x=function t(F){if(typeof xe[F]>"u"){var w=document.querySelector(F);if(window.HTMLIFrameElement&&w instanceof window.HTMLIFrameElement)try{w=w.contentDocument.head}catch{w=null}xe[F]=w}return xe[F]}(F);if(!x)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");x.appendChild(w)}},10540:tt=>{tt.exports=function xe(t){var a=document.createElement("style");return t.setAttributes(a,t.attributes),t.insert(a,t.options),a}},55056:(tt,xe,t)=>{tt.exports=function a(F){var w=t.nc;w&&F.setAttribute("nonce",w)}},97825:tt=>{tt.exports=function a(F){if(typeof document>"u")return{update:function(){},remove:function(){}};var w=F.insertStyleElement(F);return{update:function(C){!function xe(F,w,x){var C="";x.supports&&(C+="@supports (".concat(x.supports,") {")),x.media&&(C+="@media ".concat(x.media," {"));var S=typeof x.layer<"u";S&&(C+="@layer".concat(x.layer.length>0?" ".concat(x.layer):""," {")),C+=x.css,S&&(C+="}"),x.media&&(C+="}"),x.supports&&(C+="}");var b=x.sourceMap;b&&typeof btoa<"u"&&(C+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),w.styleTagTransform(C,F,w.options)}(w,F,C)},remove:function(){!function t(F){if(null===F.parentNode)return!1;F.parentNode.removeChild(F)}(w)}}}},41113:tt=>{tt.exports=function xe(t,a){if(a.styleSheet)a.styleSheet.cssText=t;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(t))}}},19495:(tt,xe,t)=>{function a(w){var x,C,S,b=2;for(typeof Symbol<"u"&&(C=Symbol.asyncIterator,S=Symbol.iterator);b--;){if(C&&null!=(x=w[C]))return x.call(w);if(S&&null!=(x=w[S]))return new F(x.call(w));C="@@asyncIterator",S="@@iterator"}throw new TypeError("Object is not async iterable")}function F(w){function x(C){if(Object(C)!==C)return Promise.reject(new TypeError(C+" is not an object."));var S=C.done;return Promise.resolve(C.value).then(function(b){return{value:b,done:S}})}return(F=function(S){this.s=S,this.n=S.next}).prototype={s:null,n:null,next:function(){return x(this.n.apply(this.s,arguments))},return:function(S){var b=this.s.return;return void 0===b?Promise.resolve({value:S,done:!0}):x(b.apply(this.s,arguments))},throw:function(S){var b=this.s.return;return void 0===b?Promise.reject(S):x(b.apply(this.s,arguments))}},new F(w)}t.d(xe,{A:()=>a})},10467:(tt,xe,t)=>{function a(w,x,C,S,b,P,D){try{var v=w[P](D),_=v.value}catch(f){return void C(f)}v.done?x(_):Promise.resolve(_).then(S,b)}function F(w){return function(){var x=this,C=arguments;return new Promise(function(S,b){var P=w.apply(x,C);function D(_){a(P,S,b,D,v,"next",_)}function v(_){a(P,S,b,D,v,"throw",_)}D(void 0)})}}t.d(xe,{A:()=>F})}},tt=>{tt(tt.s=47861)}]);